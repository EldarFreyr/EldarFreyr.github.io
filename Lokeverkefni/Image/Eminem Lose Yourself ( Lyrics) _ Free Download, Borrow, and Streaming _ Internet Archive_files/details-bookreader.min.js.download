// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3.0
/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

var runtime = (function (exports) {
  "use strict";

  var Op = Object.prototype;
  var hasOwn = Op.hasOwnProperty;
  var undefined; // More compressible than void 0.
  var $Symbol = typeof Symbol === "function" ? Symbol : {};
  var iteratorSymbol = $Symbol.iterator || "@@iterator";
  var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator";
  var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";

  function define(obj, key, value) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
    return obj[key];
  }
  try {
    // IE 8 has a broken Object.defineProperty that only works on DOM objects.
    define({}, "");
  } catch (err) {
    define = function(obj, key, value) {
      return obj[key] = value;
    };
  }

  function wrap(innerFn, outerFn, self, tryLocsList) {
    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.
    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;
    var generator = Object.create(protoGenerator.prototype);
    var context = new Context(tryLocsList || []);

    // The ._invoke method unifies the implementations of the .next,
    // .throw, and .return methods.
    generator._invoke = makeInvokeMethod(innerFn, self, context);

    return generator;
  }
  exports.wrap = wrap;

  // Try/catch helper to minimize deoptimizations. Returns a completion
  // record like context.tryEntries[i].completion. This interface could
  // have been (and was previously) designed to take a closure to be
  // invoked without arguments, but in all the cases we care about we
  // already have an existing method we want to call, so there's no need
  // to create a new function object. We can even get away with assuming
  // the method takes exactly one argument, since that happens to be true
  // in every case, so we don't have to touch the arguments object. The
  // only additional allocation required is the completion record, which
  // has a stable shape and so hopefully should be cheap to allocate.
  function tryCatch(fn, obj, arg) {
    try {
      return { type: "normal", arg: fn.call(obj, arg) };
    } catch (err) {
      return { type: "throw", arg: err };
    }
  }

  var GenStateSuspendedStart = "suspendedStart";
  var GenStateSuspendedYield = "suspendedYield";
  var GenStateExecuting = "executing";
  var GenStateCompleted = "completed";

  // Returning this object from the innerFn has the same effect as
  // breaking out of the dispatch switch statement.
  var ContinueSentinel = {};

  // Dummy constructor functions that we use as the .constructor and
  // .constructor.prototype properties for functions that return Generator
  // objects. For full spec compliance, you may wish to configure your
  // minifier not to mangle the names of these two functions.
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}

  // This is a polyfill for %IteratorPrototype% for environments that
  // don't natively support it.
  var IteratorPrototype = {};
  define(IteratorPrototype, iteratorSymbol, function () {
    return this;
  });

  var getProto = Object.getPrototypeOf;
  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));
  if (NativeIteratorPrototype &&
      NativeIteratorPrototype !== Op &&
      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {
    // This environment has a native %IteratorPrototype%; use it instead
    // of the polyfill.
    IteratorPrototype = NativeIteratorPrototype;
  }

  var Gp = GeneratorFunctionPrototype.prototype =
    Generator.prototype = Object.create(IteratorPrototype);
  GeneratorFunction.prototype = GeneratorFunctionPrototype;
  define(Gp, "constructor", GeneratorFunctionPrototype);
  define(GeneratorFunctionPrototype, "constructor", GeneratorFunction);
  GeneratorFunction.displayName = define(
    GeneratorFunctionPrototype,
    toStringTagSymbol,
    "GeneratorFunction"
  );

  // Helper for defining the .next, .throw, and .return methods of the
  // Iterator interface in terms of a single ._invoke method.
  function defineIteratorMethods(prototype) {
    ["next", "throw", "return"].forEach(function(method) {
      define(prototype, method, function(arg) {
        return this._invoke(method, arg);
      });
    });
  }

  exports.isGeneratorFunction = function(genFun) {
    var ctor = typeof genFun === "function" && genFun.constructor;
    return ctor
      ? ctor === GeneratorFunction ||
        // For the native GeneratorFunction constructor, the best we can
        // do is to check its .name property.
        (ctor.displayName || ctor.name) === "GeneratorFunction"
      : false;
  };

  exports.mark = function(genFun) {
    if (Object.setPrototypeOf) {
      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);
    } else {
      genFun.__proto__ = GeneratorFunctionPrototype;
      define(genFun, toStringTagSymbol, "GeneratorFunction");
    }
    genFun.prototype = Object.create(Gp);
    return genFun;
  };

  // Within the body of any async function, `await x` is transformed to
  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test
  // `hasOwn.call(value, "__await")` to determine if the yielded value is
  // meant to be awaited.
  exports.awrap = function(arg) {
    return { __await: arg };
  };

  function AsyncIterator(generator, PromiseImpl) {
    function invoke(method, arg, resolve, reject) {
      var record = tryCatch(generator[method], generator, arg);
      if (record.type === "throw") {
        reject(record.arg);
      } else {
        var result = record.arg;
        var value = result.value;
        if (value &&
            typeof value === "object" &&
            hasOwn.call(value, "__await")) {
          return PromiseImpl.resolve(value.__await).then(function(value) {
            invoke("next", value, resolve, reject);
          }, function(err) {
            invoke("throw", err, resolve, reject);
          });
        }

        return PromiseImpl.resolve(value).then(function(unwrapped) {
          // When a yielded Promise is resolved, its final value becomes
          // the .value of the Promise<{value,done}> result for the
          // current iteration.
          result.value = unwrapped;
          resolve(result);
        }, function(error) {
          // If a rejected Promise was yielded, throw the rejection back
          // into the async generator function so it can be handled there.
          return invoke("throw", error, resolve, reject);
        });
      }
    }

    var previousPromise;

    function enqueue(method, arg) {
      function callInvokeWithMethodAndArg() {
        return new PromiseImpl(function(resolve, reject) {
          invoke(method, arg, resolve, reject);
        });
      }

      return previousPromise =
        // If enqueue has been called before, then we want to wait until
        // all previous Promises have been resolved before calling invoke,
        // so that results are always delivered in the correct order. If
        // enqueue has not been called before, then it is important to
        // call invoke immediately, without waiting on a callback to fire,
        // so that the async generator function has the opportunity to do
        // any necessary setup in a predictable way. This predictability
        // is why the Promise constructor synchronously invokes its
        // executor callback, and why async functions synchronously
        // execute code before the first await. Since we implement simple
        // async functions in terms of async generators, it is especially
        // important to get this right, even though it requires care.
        previousPromise ? previousPromise.then(
          callInvokeWithMethodAndArg,
          // Avoid propagating failures to Promises returned by later
          // invocations of the iterator.
          callInvokeWithMethodAndArg
        ) : callInvokeWithMethodAndArg();
    }

    // Define the unified helper method that is used to implement .next,
    // .throw, and .return (see defineIteratorMethods).
    this._invoke = enqueue;
  }

  defineIteratorMethods(AsyncIterator.prototype);
  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {
    return this;
  });
  exports.AsyncIterator = AsyncIterator;

  // Note that simple async functions are implemented on top of
  // AsyncIterator objects; they just return a Promise for the value of
  // the final result produced by the iterator.
  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {
    if (PromiseImpl === void 0) PromiseImpl = Promise;

    var iter = new AsyncIterator(
      wrap(innerFn, outerFn, self, tryLocsList),
      PromiseImpl
    );

    return exports.isGeneratorFunction(outerFn)
      ? iter // If outerFn is a generator, return the full iterator.
      : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
  };

  function makeInvokeMethod(innerFn, self, context) {
    var state = GenStateSuspendedStart;

    return function invoke(method, arg) {
      if (state === GenStateExecuting) {
        throw new Error("Generator is already running");
      }

      if (state === GenStateCompleted) {
        if (method === "throw") {
          throw arg;
        }

        // Be forgiving, per 25.3.3.3.3 of the spec:
        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume
        return doneResult();
      }

      context.method = method;
      context.arg = arg;

      while (true) {
        var delegate = context.delegate;
        if (delegate) {
          var delegateResult = maybeInvokeDelegate(delegate, context);
          if (delegateResult) {
            if (delegateResult === ContinueSentinel) continue;
            return delegateResult;
          }
        }

        if (context.method === "next") {
          // Setting context._sent for legacy support of Babel's
          // function.sent implementation.
          context.sent = context._sent = context.arg;

        } else if (context.method === "throw") {
          if (state === GenStateSuspendedStart) {
            state = GenStateCompleted;
            throw context.arg;
          }

          context.dispatchException(context.arg);

        } else if (context.method === "return") {
          context.abrupt("return", context.arg);
        }

        state = GenStateExecuting;

        var record = tryCatch(innerFn, self, context);
        if (record.type === "normal") {
          // If an exception is thrown from innerFn, we leave state ===
          // GenStateExecuting and loop back for another invocation.
          state = context.done
            ? GenStateCompleted
            : GenStateSuspendedYield;

          if (record.arg === ContinueSentinel) {
            continue;
          }

          return {
            value: record.arg,
            done: context.done
          };

        } else if (record.type === "throw") {
          state = GenStateCompleted;
          // Dispatch the exception by looping back around to the
          // context.dispatchException(context.arg) call above.
          context.method = "throw";
          context.arg = record.arg;
        }
      }
    };
  }

  // Call delegate.iterator[context.method](context.arg) and handle the
  // result, either by returning a { value, done } result from the
  // delegate iterator, or by modifying context.method and context.arg,
  // setting context.delegate to null, and returning the ContinueSentinel.
  function maybeInvokeDelegate(delegate, context) {
    var method = delegate.iterator[context.method];
    if (method === undefined) {
      // A .throw or .return when the delegate iterator has no .throw
      // method always terminates the yield* loop.
      context.delegate = null;

      if (context.method === "throw") {
        // Note: ["return"] must be used for ES3 parsing compatibility.
        if (delegate.iterator["return"]) {
          // If the delegate iterator has a return method, give it a
          // chance to clean up.
          context.method = "return";
          context.arg = undefined;
          maybeInvokeDelegate(delegate, context);

          if (context.method === "throw") {
            // If maybeInvokeDelegate(context) changed context.method from
            // "return" to "throw", let that override the TypeError below.
            return ContinueSentinel;
          }
        }

        context.method = "throw";
        context.arg = new TypeError(
          "The iterator does not provide a 'throw' method");
      }

      return ContinueSentinel;
    }

    var record = tryCatch(method, delegate.iterator, context.arg);

    if (record.type === "throw") {
      context.method = "throw";
      context.arg = record.arg;
      context.delegate = null;
      return ContinueSentinel;
    }

    var info = record.arg;

    if (! info) {
      context.method = "throw";
      context.arg = new TypeError("iterator result is not an object");
      context.delegate = null;
      return ContinueSentinel;
    }

    if (info.done) {
      // Assign the result of the finished delegate to the temporary
      // variable specified by delegate.resultName (see delegateYield).
      context[delegate.resultName] = info.value;

      // Resume execution at the desired location (see delegateYield).
      context.next = delegate.nextLoc;

      // If context.method was "throw" but the delegate handled the
      // exception, let the outer generator proceed normally. If
      // context.method was "next", forget context.arg since it has been
      // "consumed" by the delegate iterator. If context.method was
      // "return", allow the original .return call to continue in the
      // outer generator.
      if (context.method !== "return") {
        context.method = "next";
        context.arg = undefined;
      }

    } else {
      // Re-yield the result returned by the delegate method.
      return info;
    }

    // The delegate iterator is finished, so forget it and continue with
    // the outer generator.
    context.delegate = null;
    return ContinueSentinel;
  }

  // Define Generator.prototype.{next,throw,return} in terms of the
  // unified ._invoke helper method.
  defineIteratorMethods(Gp);

  define(Gp, toStringTagSymbol, "Generator");

  // A Generator should always return itself as the iterator object when the
  // @@iterator function is called on it. Some browsers' implementations of the
  // iterator prototype chain incorrectly implement this, causing the Generator
  // object to not be returned from this call. This ensures that doesn't happen.
  // See https://github.com/facebook/regenerator/issues/274 for more details.
  define(Gp, iteratorSymbol, function() {
    return this;
  });

  define(Gp, "toString", function() {
    return "[object Generator]";
  });

  function pushTryEntry(locs) {
    var entry = { tryLoc: locs[0] };

    if (1 in locs) {
      entry.catchLoc = locs[1];
    }

    if (2 in locs) {
      entry.finallyLoc = locs[2];
      entry.afterLoc = locs[3];
    }

    this.tryEntries.push(entry);
  }

  function resetTryEntry(entry) {
    var record = entry.completion || {};
    record.type = "normal";
    delete record.arg;
    entry.completion = record;
  }

  function Context(tryLocsList) {
    // The root entry object (effectively a try statement without a catch
    // or a finally block) gives us a place to store values thrown from
    // locations where there is no enclosing try statement.
    this.tryEntries = [{ tryLoc: "root" }];
    tryLocsList.forEach(pushTryEntry, this);
    this.reset(true);
  }

  exports.keys = function(object) {
    var keys = [];
    for (var key in object) {
      keys.push(key);
    }
    keys.reverse();

    // Rather than returning an object with a next method, we keep
    // things simple and return the next function itself.
    return function next() {
      while (keys.length) {
        var key = keys.pop();
        if (key in object) {
          next.value = key;
          next.done = false;
          return next;
        }
      }

      // To avoid creating an additional object, we just hang the .value
      // and .done properties off the next function object itself. This
      // also ensures that the minifier will not anonymize the function.
      next.done = true;
      return next;
    };
  };

  function values(iterable) {
    if (iterable) {
      var iteratorMethod = iterable[iteratorSymbol];
      if (iteratorMethod) {
        return iteratorMethod.call(iterable);
      }

      if (typeof iterable.next === "function") {
        return iterable;
      }

      if (!isNaN(iterable.length)) {
        var i = -1, next = function next() {
          while (++i < iterable.length) {
            if (hasOwn.call(iterable, i)) {
              next.value = iterable[i];
              next.done = false;
              return next;
            }
          }

          next.value = undefined;
          next.done = true;

          return next;
        };

        return next.next = next;
      }
    }

    // Return an iterator with no values.
    return { next: doneResult };
  }
  exports.values = values;

  function doneResult() {
    return { value: undefined, done: true };
  }

  Context.prototype = {
    constructor: Context,

    reset: function(skipTempReset) {
      this.prev = 0;
      this.next = 0;
      // Resetting context._sent for legacy support of Babel's
      // function.sent implementation.
      this.sent = this._sent = undefined;
      this.done = false;
      this.delegate = null;

      this.method = "next";
      this.arg = undefined;

      this.tryEntries.forEach(resetTryEntry);

      if (!skipTempReset) {
        for (var name in this) {
          // Not sure about the optimal order of these conditions:
          if (name.charAt(0) === "t" &&
              hasOwn.call(this, name) &&
              !isNaN(+name.slice(1))) {
            this[name] = undefined;
          }
        }
      }
    },

    stop: function() {
      this.done = true;

      var rootEntry = this.tryEntries[0];
      var rootRecord = rootEntry.completion;
      if (rootRecord.type === "throw") {
        throw rootRecord.arg;
      }

      return this.rval;
    },

    dispatchException: function(exception) {
      if (this.done) {
        throw exception;
      }

      var context = this;
      function handle(loc, caught) {
        record.type = "throw";
        record.arg = exception;
        context.next = loc;

        if (caught) {
          // If the dispatched exception was caught by a catch block,
          // then let that catch block handle the exception normally.
          context.method = "next";
          context.arg = undefined;
        }

        return !! caught;
      }

      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        var record = entry.completion;

        if (entry.tryLoc === "root") {
          // Exception thrown outside of any try block that could handle
          // it, so set the completion value of the entire function to
          // throw the exception.
          return handle("end");
        }

        if (entry.tryLoc <= this.prev) {
          var hasCatch = hasOwn.call(entry, "catchLoc");
          var hasFinally = hasOwn.call(entry, "finallyLoc");

          if (hasCatch && hasFinally) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            } else if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else if (hasCatch) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            }

          } else if (hasFinally) {
            if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else {
            throw new Error("try statement without catch or finally");
          }
        }
      }
    },

    abrupt: function(type, arg) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc <= this.prev &&
            hasOwn.call(entry, "finallyLoc") &&
            this.prev < entry.finallyLoc) {
          var finallyEntry = entry;
          break;
        }
      }

      if (finallyEntry &&
          (type === "break" ||
           type === "continue") &&
          finallyEntry.tryLoc <= arg &&
          arg <= finallyEntry.finallyLoc) {
        // Ignore the finally entry if control is not jumping to a
        // location outside the try/catch block.
        finallyEntry = null;
      }

      var record = finallyEntry ? finallyEntry.completion : {};
      record.type = type;
      record.arg = arg;

      if (finallyEntry) {
        this.method = "next";
        this.next = finallyEntry.finallyLoc;
        return ContinueSentinel;
      }

      return this.complete(record);
    },

    complete: function(record, afterLoc) {
      if (record.type === "throw") {
        throw record.arg;
      }

      if (record.type === "break" ||
          record.type === "continue") {
        this.next = record.arg;
      } else if (record.type === "return") {
        this.rval = this.arg = record.arg;
        this.method = "return";
        this.next = "end";
      } else if (record.type === "normal" && afterLoc) {
        this.next = afterLoc;
      }

      return ContinueSentinel;
    },

    finish: function(finallyLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.finallyLoc === finallyLoc) {
          this.complete(entry.completion, entry.afterLoc);
          resetTryEntry(entry);
          return ContinueSentinel;
        }
      }
    },

    "catch": function(tryLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc === tryLoc) {
          var record = entry.completion;
          if (record.type === "throw") {
            var thrown = record.arg;
            resetTryEntry(entry);
          }
          return thrown;
        }
      }

      // The context.catch method must only be called with a location
      // argument that corresponds to a known catch block.
      throw new Error("illegal catch attempt");
    },

    delegateYield: function(iterable, resultName, nextLoc) {
      this.delegate = {
        iterator: values(iterable),
        resultName: resultName,
        nextLoc: nextLoc
      };

      if (this.method === "next") {
        // Deliberately forget the last sent value so that we don't
        // accidentally pass it on to the delegate.
        this.arg = undefined;
      }

      return ContinueSentinel;
    }
  };

  // Regardless of whether this script is executing as a CommonJS module
  // or not, return the runtime object so that we can declare the variable
  // regeneratorRuntime in the outer scope, which allows this module to be
  // injected easily by `bin/regenerator --include-runtime script.js`.
  return exports;

}(
  // If this script is executing as a CommonJS module, use module.exports
  // as the regeneratorRuntime namespace. Otherwise create a new empty
  // object. Either way, the resulting object will be used to initialize
  // the regeneratorRuntime variable at the top of this file.
  typeof module === "object" ? module.exports : {}
));

try {
  regeneratorRuntime = runtime;
} catch (accidentalStrictMode) {
  // This module should not be running in strict mode, so the above
  // assignment should always work unless something is misconfigured. Just
  // in case runtime.js accidentally runs in strict mode, in modern engines
  // we can explicitly access globalThis. In older engines we can escape
  // strict mode using a global Function call. This could conceivably fail
  // if a Content Security Policy forbids using Function, but in that case
  // the proper solution is to fix the accidental strict mode problem. If
  // you've misconfigured your bundler to force strict mode and applied a
  // CSP to forbid Function, and you're not willing to fix either of those
  // problems, please detail your unique predicament in a GitHub issue.
  if (typeof globalThis === "object") {
    globalThis.regeneratorRuntime = runtime;
  } else {
    Function("r", "regeneratorRuntime = r")(runtime);
  }
}

"use strict";var _regeneratorRuntime=_interopRequireDefault(regeneratorRuntime);function _arrayLikeToArray(S,pe){(pe==null||pe>S.length)&&(pe=S.length);for(var tt=0,Gr=new Array(pe);tt<pe;tt++)Gr[tt]=S[tt];return Gr}function _arrayWithHoles(S){if(Array.isArray(S))return S}function _arrayWithoutHoles(S){if(Array.isArray(S))return _arrayLikeToArray(S)}function _assertThisInitialized(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function _classCallCheck(S,pe){if(!(S instanceof pe))throw new TypeError("Cannot call a class as a function")}function isNativeReflectConstruct(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(S){return!1}}function _construct(S,pe,tt){return isNativeReflectConstruct()?_construct=Reflect.construct:_construct=function(Ti,on,to){var ii=[null];ii.push.apply(ii,on);var ma=Function.bind.apply(Ti,ii),Vu=new ma;return to&&_setPrototypeOf(Vu,to.prototype),Vu},_construct.apply(null,arguments)}function _defineProperties(S,pe){for(var tt=0;tt<pe.length;tt++){var Gr=pe[tt];Gr.enumerable=Gr.enumerable||!1,Gr.configurable=!0,"value"in Gr&&(Gr.writable=!0),Object.defineProperty(S,Gr.key,Gr)}}function _createClass(S,pe,tt){return pe&&_defineProperties(S.prototype,pe),tt&&_defineProperties(S,tt),S}function _get(S,pe,tt){return typeof Reflect!="undefined"&&Reflect.get?_get=Reflect.get:_get=function(Ti,on,to){var ii=_superPropBase(Ti,on);if(ii){var ma=Object.getOwnPropertyDescriptor(ii,on);return ma.get?ma.get.call(to):ma.value}},_get(S,pe,tt||S)}function _getPrototypeOf(S){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(tt){return tt.__proto__||Object.getPrototypeOf(tt)},_getPrototypeOf(S)}function _inherits(S,pe){if(typeof pe!="function"&&pe!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(pe&&pe.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),pe&&_setPrototypeOf(S,pe)}function _instanceof(S,pe){return pe!=null&&typeof Symbol!="undefined"&&pe[Symbol.hasInstance]?!!pe[Symbol.hasInstance](S):S instanceof pe}function _interopRequireDefault(S){return S&&S.__esModule?S:{default:S}}function _isNativeFunction(S){return Function.toString.call(S).indexOf("[native code]")!==-1}function _iterableToArray(S){if(typeof Symbol!="undefined"&&S[Symbol.iterator]!=null||S["@@iterator"]!=null)return Array.from(S)}function _iterableToArrayLimit(S,pe){var tt=S==null?null:typeof Symbol!="undefined"&&S[Symbol.iterator]||S["@@iterator"];if(tt!=null){var Gr=[],Ti=!0,on=!1,to,ii;try{for(tt=tt.call(S);!(Ti=(to=tt.next()).done)&&(Gr.push(to.value),!(pe&&Gr.length===pe));Ti=!0);}catch(ma){on=!0,ii=ma}finally{try{!Ti&&tt.return!=null&&tt.return()}finally{if(on)throw ii}}return Gr}}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _possibleConstructorReturn(S,pe){return pe&&(_typeof(pe)==="object"||typeof pe=="function")?pe:_assertThisInitialized(S)}function _setPrototypeOf(S,pe){return _setPrototypeOf=Object.setPrototypeOf||function(Gr,Ti){return Gr.__proto__=Ti,Gr},_setPrototypeOf(S,pe)}function _slicedToArray(S,pe){return _arrayWithHoles(S)||_iterableToArrayLimit(S,pe)||_unsupportedIterableToArray(S,pe)||_nonIterableRest()}function _superPropBase(S,pe){for(;!Object.prototype.hasOwnProperty.call(S,pe)&&(S=_getPrototypeOf(S),S!==null););return S}function _taggedTemplateLiteral(S,pe){return pe||(pe=S.slice(0)),Object.freeze(Object.defineProperties(S,{raw:{value:Object.freeze(pe)}}))}function _toConsumableArray(S){return _arrayWithoutHoles(S)||_iterableToArray(S)||_unsupportedIterableToArray(S)||_nonIterableSpread()}var _typeof=function(S){"@swc/helpers - typeof";return S&&typeof Symbol!="undefined"&&S.constructor===Symbol?"symbol":typeof S};function _unsupportedIterableToArray(S,pe){if(S){if(typeof S=="string")return _arrayLikeToArray(S,pe);var tt=Object.prototype.toString.call(S).slice(8,-1);if(tt==="Object"&&S.constructor&&(tt=S.constructor.name),tt==="Map"||tt==="Set")return Array.from(tt);if(tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tt))return _arrayLikeToArray(S,pe)}}function _wrapNativeSuper(S){var pe=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(Gr){if(Gr===null||!_isNativeFunction(Gr))return Gr;if(typeof Gr!="function")throw new TypeError("Super expression must either be null or a function");if(typeof pe!="undefined"){if(pe.has(Gr))return pe.get(Gr);pe.set(Gr,Ti)}function Ti(){return _construct(Gr,arguments,_getPrototypeOf(this).constructor)}return Ti.prototype=Object.create(Gr.prototype,{constructor:{value:Ti,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Ti,Gr)},_wrapNativeSuper(S)}function _isNativeReflectConstruct(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(S){return!1}}function _createSuper(S){var pe=_isNativeReflectConstruct();return function(){var Gr=_getPrototypeOf(S),Ti;if(pe){var on=_getPrototypeOf(this).constructor;Ti=Reflect.construct(Gr,arguments,on)}else Ti=Gr.apply(this,arguments);return _possibleConstructorReturn(this,Ti)}}function _templateObject(){var S=_taggedTemplateLiteral(["List settings"]);return _templateObject=function(){return S},S}function _templateObject1(){var S=_taggedTemplateLiteral(["\n      <iaux-userlist-settings\n        .userList=","\n        .userListsService=","\n        @listModalClosed=","\n        @userListError=","\n        @userListSaving=","\n        @userListSaved=","\n      ></iaux-userlist-settings>\n    "]);return _templateObject1=function(){return S},S}function _templateObject2(){var S=_taggedTemplateLiteral(['\n      <div class="','">\n        <svg\n          viewBox="0 0 120 120"\n          preserveAspectRatio="none"\n          version="1.1"\n          xmlns="http://www.w3.org/2000/svg"\n          xmlns:xlink="http://www.w3.org/1999/xlink"\n          aria-labelledby="indicatorTitle indicatorDescription"\n        >\n          <title id="indicatorTitle">Activity Indicator</title>\n          <desc id="indicatorDescription">\n            A rotating activity indicator with three dots in the middle.\n          </desc>\n          <g\n            id="icons/check-ring---squared"\n            stroke="none"\n            stroke-width="1"\n            fill="none"\n            fill-rule="evenodd"\n          >\n            <path\n              id="completed-ring"\n              class="loaded-indicator"\n              d="M60,10 C70.5816709,10 80.3955961,13.2871104 88.4763646,18.8959201 L78.3502633,29.0214223 C72.9767592,25.8315427 66.7022695,24 60,24 C40.117749,24 24,40.117749 24,60 C24,79.882251 40.117749,96 60,96 C79.882251,96 96,79.882251 96,60 L95.995,59.46 L108.327675,47.128668 C109.350926,50.9806166 109.925886,55.015198 109.993301,59.1731586 L110,60 C110,87.6142375 87.6142375,110 60,110 C32.3857625,110 10,87.6142375 10,60 C10,32.3857625 32.3857625,10 60,10 Z"\n            ></path>\n            <polygon\n              id="check"\n              class="loaded-indicator"\n              transform="translate(75.000000, 41.500000) rotate(44.000000) translate(-75.000000, -41.500000) "\n              points="96 85 54 85 54 65 76 64.999 76 -2 96 -2"\n            ></polygon>\n            <path\n              id="activity-ring"\n              class="activity-indicator"\n              d="M60,10 C69.8019971,10 78.9452178,12.8205573 86.6623125,17.6943223 L76.4086287,27.9484118 C71.4880919,25.4243078 65.9103784,24 60,24 C40.117749,24 24,40.117749 24,60 C24,79.882251 40.117749,96 60,96 C79.882251,96 96,79.882251 96,60 C96,53.3014663 94.1704984,47.0302355 90.9839104,41.6587228 L101.110332,31.5326452 C106.715332,39.6116982 110,49.4222615 110,60 C110,87.6142375 87.6142375,110 60,110 C32.3857625,110 10,87.6142375 10,60 C10,32.3857625 32.3857625,10 60,10 Z"\n            ></path>\n            <g\n              id="activity-dots"\n              class="activity-indicator"\n              transform="translate(40.000000, 55.000000)"\n            >\n              <circle id="left-dot" cx="5" cy="5" r="5"></circle>\n              <circle id="middle-dot" cx="20" cy="5" r="5"></circle>\n              <circle id="right-dot" cx="35" cy="5" r="5"></circle>\n            </g>\n          </g>\n        </svg>\n      </div>\n    ']);return _templateObject2=function(){return S},S}function _templateObject3(){var S=_taggedTemplateLiteral(["var(--activityIndicatorCheckmarkColor, #31A481)"]);return _templateObject3=function(){return S},S}function _templateObject4(){var S=_taggedTemplateLiteral(["var(--activityIndicatorCompletedRingColor, #31A481)"]);return _templateObject4=function(){return S},S}function _templateObject5(){var S=_taggedTemplateLiteral(["var(--activityIndicatorLoadingRingColor, #333333)"]);return _templateObject5=function(){return S},S}function _templateObject6(){var S=_taggedTemplateLiteral(["var(--activityIndicatorLoadingDotColor, #333333)"]);return _templateObject6=function(){return S},S}function _templateObject7(){var S=_taggedTemplateLiteral(["\n      #completed-ring {\n        fill: ",";\n      }\n\n      #check {\n        fill: ",";\n      }\n\n      #activity-ring {\n        fill: ",";\n      }\n\n      #activity-dots {\n        fill: ",";\n      }\n\n      .activity-indicator {\n        opacity: 0;\n        transition: opacity 0.25s ease-out;\n      }\n\n      .processing .activity-indicator {\n        opacity: 1;\n      }\n\n      .loaded-indicator {\n        opacity: 1;\n        transition: opacity 0.25s ease-out;\n      }\n\n      .processing .loaded-indicator {\n        opacity: 0;\n      }\n\n      .image {\n        border: 1px solid red;\n        display: inline-block;\n      }\n\n      .processing #activity-ring {\n        animation: rotate 1.3s infinite linear;\n        transform-origin: 50px 50px;\n        transform-box: fill-box;\n      }\n\n      .processing #left-dot {\n        opacity: 0;\n        animation: dot 1.3s infinite;\n        animation-delay: 0.2s;\n      }\n\n      .processing #middle-dot {\n        opacity: 0;\n        animation: dot 1.3s infinite;\n        animation-delay: 0.4s;\n      }\n\n      .processing #right-dot {\n        opacity: 0;\n        animation: dot 1.3s infinite;\n        animation-delay: 0.6s;\n      }\n\n      @keyframes rotate {\n        0% {\n          transform: rotate(-360deg);\n        }\n        100% {\n          /* This frame is supposed to be inferred, but Safari doesn't rotate it unless we're explicit */\n          transform: rotate(0deg);\n        }\n      }\n\n      @keyframes dot {\n        0% {\n          opacity: 0;\n        }\n        25% {\n          opacity: 1;\n        }\n        100% {\n          opacity: 0;\n        }\n      }\n    "]);return _templateObject7=function(){return S},S}function _templateObject8(){var S=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 40 40"\n  version="1.1"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="closeTitleID closeDescID"\n>\n  <title id="closeTitleID">Close icon</title>\n  <desc id="closeDescID">A line drawing of an X</desc>\n  <path d="m29.1923882 10.8076118c.5857864.5857865.5857864 1.535534 0 2.1213204l-7.0711162 7.0703398 7.0711162 7.0717958c.5857864.5857864.5857864 1.5355339 0 2.1213204-.5857865.5857864-1.535534.5857864-2.1213204 0l-7.0717958-7.0711162-7.0703398 7.0711162c-.5857864.5857864-1.5355339.5857864-2.1213204 0-.5857864-.5857865-.5857864-1.535534 0-2.1213204l7.0706602-7.0717958-7.0706602-7.0703398c-.5857864-.5857864-.5857864-1.5355339 0-2.1213204.5857865-.5857864 1.535534-.5857864 2.1213204 0l7.0703398 7.0706602 7.0717958-7.0706602c.5857864-.5857864 1.5355339-.5857864 2.1213204 0z" class="fill-color" fill-rule="evenodd"/>\n</svg>\n']);return _templateObject8=function(){return S},S}function _templateObject9(){var S=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject9=function(){return S},S}function _templateObject10(){var S=_taggedTemplateLiteral(['\n  <svg\n    class="ia-logo"\n    viewBox="0 0 27 30"\n    xmlns="http://www.w3.org/2000/svg"\n    aria-labelledby="logoTitleID logoDescID"\n  >\n    <title id="logoTitleID">Internet Archive logo</title>\n    <desc id="logoDescID">\n      A line drawing of the Internet Archive headquarters building fa\xE7ade.\n    </desc>\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n      <mask id="mask-2" class="fill-color">\n        <path\n          d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z"\n          id="path-1"\n        ></path>\n      </mask>\n      <use class="fill-color" xlink:href="#path-1"></use>\n      <g mask="url(#mask-2)" class="fill-color">\n        <path\n          d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z"\n          id="swatch"\n        ></path>\n      </g>\n    </g>\n  </svg>\n']);return _templateObject10=function(){return S},S}function _templateObject11(){var S=_taggedTemplateLiteral(['<div class="logo-icon">',"</div>"]);return _templateObject11=function(){return S},S}function _templateObject12(){var S=_taggedTemplateLiteral(['<h1 class="title">',"</h1>"]);return _templateObject12=function(){return S},S}function _templateObject13(){var S=_taggedTemplateLiteral(['<h2 class="subtitle">',"</h2>"]);return _templateObject13=function(){return S},S}function _templateObject14(){var S=_taggedTemplateLiteral([' <h1 class="headline">',"</h1> "]);return _templateObject14=function(){return S},S}function _templateObject15(){var S=_taggedTemplateLiteral([' <p class="message">',"</p> "]);return _templateObject15=function(){return S},S}function _templateObject16(){var S=_taggedTemplateLiteral(['\n      <div class="modal-wrapper">\n        <div class="modal-container">\n          <header style="background-color: ','">\n            ',"\n            ","\n            ","\n            ",'\n          </header>\n          <section\n            class="modal-body"\n            style="background-color: ','"\n          >\n            <div class="content">\n              <div\n                class="processing-logo ','"\n              >\n                <ia-activity-indicator\n                  .mode=',"\n                ></ia-activity-indicator>\n              </div>\n              ","\n              ",'\n\n              <div class="slot-container">\n                <slot> </slot>\n              </div>\n            </div>\n          </section>\n        </div>\n      </div>\n    ']);return _templateObject16=function(){return S},S}function _templateObject17(){var S=_taggedTemplateLiteral(['\n      <button\n        type="button"\n        class="close-button"\n        @click=',"\n        @keydown=","\n      >\n        <ia-icon-close></ia-icon-close>\n      </button>\n    "]);return _templateObject17=function(){return S},S}function _templateObject18(){var S=_taggedTemplateLiteral(["var(--modalLogoSize, 6.5rem)"]);return _templateObject18=function(){return S},S}function _templateObject19(){var S=_taggedTemplateLiteral(["var(--processingImageSize, 7.5rem)"]);return _templateObject19=function(){return S},S}function _templateObject20(){var S=_taggedTemplateLiteral(["var(--modalCornerRadius, 1rem)"]);return _templateObject20=function(){return S},S}function _templateObject21(){var S=_taggedTemplateLiteral(["var(--modalBorder, 2px solid black)"]);return _templateObject21=function(){return S},S}function _templateObject22(){var S=_taggedTemplateLiteral(["var(--modalBottomMargin, 2.5rem)"]);return _templateObject22=function(){return S},S}function _templateObject23(){var S=_taggedTemplateLiteral(["var(--modalTopMargin, 5rem)"]);return _templateObject23=function(){return S},S}function _templateObject24(){var S=_taggedTemplateLiteral(["var(--modalHeaderBottomPadding, 0.5em)"]);return _templateObject24=function(){return S},S}function _templateObject25(){var S=_taggedTemplateLiteral(["var(--modalBottomPadding, 2rem)"]);return _templateObject25=function(){return S},S}function _templateObject26(){var S=_taggedTemplateLiteral(["var(--modalScrollOffset, 5px)"]);return _templateObject26=function(){return S},S}function _templateObject27(){var S=_taggedTemplateLiteral(["var(--modalTitleFontSize, 1.8rem)"]);return _templateObject27=function(){return S},S}function _templateObject28(){var S=_taggedTemplateLiteral(["var(--modalSubtitleFontSize, 1.4rem)"]);return _templateObject28=function(){return S},S}function _templateObject29(){var S=_taggedTemplateLiteral(["var(--modalHeadlineFontSize, 1.6rem)"]);return _templateObject29=function(){return S},S}function _templateObject30(){var S=_taggedTemplateLiteral(["var(--modalMessageFontSize, 1.4rem)"]);return _templateObject30=function(){return S},S}function _templateObject31(){var S=_taggedTemplateLiteral(["var(--modalTitleLineHeight, normal)"]);return _templateObject31=function(){return S},S}function _templateObject32(){var S=_taggedTemplateLiteral(["var(--modalSubtitleLineHeight, normal)"]);return _templateObject32=function(){return S},S}function _templateObject33(){var S=_taggedTemplateLiteral(["var(--modalHeadlineLineHeight, normal)"]);return _templateObject33=function(){return S},S}function _templateObject34(){var S=_taggedTemplateLiteral(["var(--modalMessageLineHeight, normal)"]);return _templateObject34=function(){return S},S}function _templateObject35(){var S=_taggedTemplateLiteral(["\n      .processing-logo {\n        margin: auto;\n        width: ",";\n        height: ",";\n      }\n\n      .processing-logo.hidden {\n        height: 1rem;\n      }\n\n      .processing-logo.hidden ia-activity-indicator {\n        display: none;\n      }\n\n      .modal-wrapper {\n        outline: none;\n      }\n\n      .modal-container {\n        border-radius: ",";\n        width: 100%;\n        margin-top: ",";\n      }\n\n      header {\n        position: relative;\n        background-color: #36a483;\n        color: white;\n        border-radius: calc(",") calc(",") 0 0;\n        border: ",";\n        border-bottom: 0;\n        text-align: center;\n        padding-bottom: ",";\n      }\n\n      .title {\n        margin: 0;\n        padding: 0;\n        font-size: ",";\n        font-weight: bold;\n        line-height: ",";\n      }\n\n      .subtitle {\n        margin: 0;\n        padding: 0;\n        font-weight: normal;\n        padding-top: 0;\n        font-size: ",";\n        line-height: ",";\n      }\n\n      .modal-body {\n        background-color: #f5f5f7;\n        border-radius: 0 0 calc(",") calc(",");\n        border: ",";\n        border-top: 0;\n        padding: 0 1rem calc("," - ",") 1rem;\n        color: #333;\n        margin-bottom: 2.5rem;\n        min-height: 5rem;\n      }\n\n      .content {\n        overflow-y: auto;\n        max-height: calc(100vh - (16.5rem + ","));\n        min-height: 5rem;\n        padding: 0 0 calc(",") 0;\n      }\n\n      .headline {\n        font-size: ",";\n        font-weight: bold;\n        text-align: center;\n        line-height: ",";\n        margin: 0;\n        padding: 0;\n      }\n\n      .message {\n        margin: 1rem 0 0 0;\n        text-align: center;\n        font-size: ",";\n        line-height: ",";\n      }\n\n      .logo-icon {\n        border-radius: 100%;\n        border: 3px solid #fff;\n        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),\n          0 2px 2px 0 rgba(0, 0, 0, 0.08);\n        width: ",";\n        height: ",";\n        margin: -2.9rem auto 0.5rem auto;\n        background-color: black;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n\n      .logo-icon svg {\n        width: calc("," * 0.65);\n        height: calc("," * 0.65);\n      }\n\n      .logo-icon svg .fill-color {\n        fill: white;\n      }\n\n      .logo-icon svg .stroke-color {\n        stroke: red;\n      }\n\n      .close-button {\n        position: absolute;\n        right: 1.2rem;\n        top: 1.2rem;\n        width: 2rem;\n        height: 2rem;\n        border-radius: 100%;\n        border: 0;\n        padding: 0;\n        cursor: pointer;\n        background-color: white;\n        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),\n          0 4px 4px 0 rgba(0, 0, 0, 0.08);\n      }\n\n      .sr-only {\n        position: absolute;\n        width: 1px;\n        height: 1px;\n        padding: 0;\n        margin: -1px;\n        overflow: hidden;\n        clip: rect(0, 0, 0, 0);\n        border: 0;\n      }\n\n      slot::slotted(.sr-only) {\n        position: absolute;\n        width: 1px;\n        height: 1px;\n        padding: 0;\n        margin: -1px;\n        overflow: hidden;\n        clip: rect(0, 0, 0, 0);\n        border: 0;\n      }\n    "]);return _templateObject35=function(){return S},S}function _templateObject36(){var S=_taggedTemplateLiteral(['\n      <div class="container">\n        <div class="backdrop" @click=',"></div>\n        <modal-template\n          @closeButtonPressed=",'\n          tabindex="-1"\n        >\n          ',"\n        </modal-template>\n      </div>\n    "]);return _templateObject36=function(){return S},S}function _templateObject37(){var S=_taggedTemplateLiteral(["var(--modalBackdropColor, rgba(10, 10, 10, 0.9))"]);return _templateObject37=function(){return S},S}function _templateObject38(){var S=_taggedTemplateLiteral(["var(--modalBackdropZindex, 1000)"]);return _templateObject38=function(){return S},S}function _templateObject39(){var S=_taggedTemplateLiteral(["var(--modalWidth, 32rem)"]);return _templateObject39=function(){return S},S}function _templateObject40(){var S=_taggedTemplateLiteral(["var(--modalMaxWidth, 95%)"]);return _templateObject40=function(){return S},S}function _templateObject41(){var S=_taggedTemplateLiteral(["var(--modalZindex, 2000)"]);return _templateObject41=function(){return S},S}function _templateObject42(){var S=_taggedTemplateLiteral(["\n      .container {\n        width: 100%;\n        height: 100%;\n      }\n\n      .backdrop {\n        position: fixed;\n        top: 0;\n        left: 0;\n        background-color: ",";\n        width: 100%;\n        height: 100%;\n        z-index: ",";\n      }\n\n      modal-template {\n        outline: 0;\n        position: fixed;\n        top: 0;\n        left: 50%;\n        transform: translate(-50%, 0);\n        z-index: ",";\n        width: ",";\n        max-width: ",";\n      }\n    "]);return _templateObject42=function(){return S},S}function _templateObject43(){var S=_taggedTemplateLiteral([' <div class="title">',"</div> "]);return _templateObject43=function(){return S},S}function _templateObject44(){var S=_taggedTemplateLiteral(['\n      <div class="container ','">\n        <div class="badge-container">\n          <div class="badge">','</div>\n        </div>\n        <div class="content-container">\n          ','\n          <div class="content">\n            <slot></slot>\n          </div>\n        </div>\n      </div>\n    ']);return _templateObject44=function(){return S},S}function _templateObject45(){var S=_taggedTemplateLiteral(["var(--formSectionBadgeTransition, 0.25s ease-out)"]);return _templateObject45=function(){return S},S}function _templateObject46(){var S=_taggedTemplateLiteral(["var(--formSectionBadgeMargin, 1rem)"]);return _templateObject46=function(){return S},S}function _templateObject47(){var S=_taggedTemplateLiteral(["var(--formSectionBadgeBackgroundColor, #333)"]);return _templateObject47=function(){return S},S}function _templateObject48(){var S=_taggedTemplateLiteral(["var(--formSectionBadgeRadius, 1.2rem)"]);return _templateObject48=function(){return S},S}function _templateObject49(){var S=_taggedTemplateLiteral(["calc("," * 2)"]);return _templateObject49=function(){return S},S}function _templateObject50(){var S=_taggedTemplateLiteral(["var(--formSectionBadgeFontSize, 1.8rem)"]);return _templateObject50=function(){return S},S}function _templateObject51(){var S=_taggedTemplateLiteral(["var(--formSectionBadgeFontWeight, bold)"]);return _templateObject51=function(){return S},S}function _templateObject52(){var S=_taggedTemplateLiteral(["var(--formSectionBadgeFontColor, #fff)"]);return _templateObject52=function(){return S},S}function _templateObject53(){var S=_taggedTemplateLiteral(["var(--formSectionTitleFontSize, 1.8rem)"]);return _templateObject53=function(){return S},S}function _templateObject54(){var S=_taggedTemplateLiteral(["var(--formSectionTitleFontWeight, bold)"]);return _templateObject54=function(){return S},S}function _templateObject55(){var S=_taggedTemplateLiteral(["var(--formSectionContentBackgroundColor, transparent)"]);return _templateObject55=function(){return S},S}function _templateObject56(){var S=_taggedTemplateLiteral(["var(--formSectionTextColor, #333)"]);return _templateObject56=function(){return S},S}function _templateObject57(){var S=_taggedTemplateLiteral(["calc("," * 2)"]);return _templateObject57=function(){return S},S}function _templateObject58(){var S=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        background-color: ",";\n        color: ",";\n      }\n      .container {\n        position: relative;\n        padding: 0.5rem;\n      }\n\n      .content-container {\n        position: relative;\n        left: calc("," + ",");\n        width: calc(100% - ("," + ","));\n        transition: ",";\n        z-index: 1;\n      }\n\n      .hidebadge .content-container {\n        left: 0;\n        width: 100%;\n      }\n\n      .hidebadge .badge-container {\n        display: none;\n      }\n\n      .hidebadgeleavespacing .badge {\n        display: none;\n      }\n\n      .badge-container {\n        position: absolute;\n        width: ",";\n      }\n\n      .badge {\n        background-color: ",";\n        color: ",";\n        width: ",";\n        height: ",";\n        border-radius: ",";\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        font-weight: ",";\n        font-size: ",";\n      }\n\n      .title {\n        line-height: ",";\n        margin-bottom: 0.5rem;\n        font-size: ",";\n        font-weight: ",";\n      }\n    "]);return _templateObject58=function(){return S},S}function _templateObject59(){var S=_taggedTemplateLiteral(['<slot name="edit-donation-amount-title"></slot>']);return _templateObject59=function(){return S},S}function _templateObject60(){var S=_taggedTemplateLiteral(['<li class="custom-amount">',"</li>"]);return _templateObject60=function(){return S},S}function _templateObject61(){var S=_taggedTemplateLiteral(['\n          <div class="checkbox-options">\n            ',"\n            ","\n          </div>"]);return _templateObject61=function(){return S},S}function _templateObject62(){var S=_taggedTemplateLiteral(["\n      ",'\n\n      <donation-form-section\n        sectionBadge="','"\n        headline=',"\n        badgeMode=","\n      >\n        ",'\n        <ul class="amount-selector">\n          ',"\n          ",'\n        </ul>\n\n        <div class="errors">',"</div>\n\n        ","\n      </donation-form-section>\n    "]);return _templateObject62=function(){return S},S}function _templateObject63(){var S=_taggedTemplateLiteral(['\n      <donation-form-section\n        sectionBadge="1"\n        headline="Choose a frequency"\n        badgeMode=','\n      >\n        <ul class="frequency-selector">\n          ',"\n        </ul>\n      </donation-form-section>\n    "]);return _templateObject63=function(){return S},S}function _templateObject64(){var S=_taggedTemplateLiteral(['\n      <div class="checkbox-option-container">\n        <input\n          type="checkbox"\n          id="make-this-monthly"\n          @input=',"\n          .checked=",'\n          tabindex="0"\n        />\n        <label for="make-this-monthly"> Make this monthly </label>\n      </div>\n    ']);return _templateObject64=function(){return S},S}function _templateObject65(){var S=_taggedTemplateLiteral(['\n      <div class="checkbox-option-container">\n        <input\n          type="checkbox"\n          id="cover-fees"\n          @input=',"\n          .checked=",'\n          tabindex="0"\n        />\n        <label for="cover-fees"> '," </label>\n      </div>\n    "]);return _templateObject65=function(){return S},S}function _templateObject66(){var S=_taggedTemplateLiteral([" I'll generously add "," to cover fees. "]);return _templateObject66=function(){return S},S}function _templateObject67(){var S=_taggedTemplateLiteral(["\n      <li>\n        ","\n      </li>\n\n      <li>\n        ","\n      </li>\n    "]);return _templateObject67=function(){return S},S}function _templateObject68(){var S=_taggedTemplateLiteral(["\n          <li>\n            ","\n          </li>\n        "]);return _templateObject68=function(){return S},S}function _templateObject69(){var S=_taggedTemplateLiteral(["\n      ","\n    "]);return _templateObject69=function(){return S},S}function _templateObject70(){var S=_taggedTemplateLiteral(['\n      <div class="selection-button">\n        <input\n          type="radio"\n          name=',"\n          value=","\n          id=",'\n          tabindex="0"\n          .checked=',"\n          @change=","\n          @click=","\n        />\n        <label for=","> "," </label>\n      </div>\n    "]);return _templateObject70=function(){return S},S}function _templateObject71(){var S=_taggedTemplateLiteral(['\n      <div class="selection-button">\n        <input\n          type="radio"\n          name=','\n          value="custom"\n          id="custom-amount-button"\n          tabindex="0"\n          @change=','\n        />\n\n        <label for="custom-amount-button">\n          <span class="custom-amount-text">Custom: $</span\n          ><input\n            type="text"\n            id="custom-amount-input"\n            tabindex="-1"\n            value=',"\n            @input=","\n            @keydown=","\n            @focus=","\n          />\n        </label>\n      </div>\n    "]);return _templateObject71=function(){return S},S}function _templateObject72(){var S=_taggedTemplateLiteral(['\n          To make a donation of $10,000 or more, please contact our philanthropy\n          department at\n          <a href="mailto:donations@archive.org">donations@archive.org</a>\n        ']);return _templateObject72=function(){return S},S}function _templateObject73(){var S=_taggedTemplateLiteral([" Please select an amount (minimum $1) "]);return _templateObject73=function(){return S},S}function _templateObject74(){var S=_taggedTemplateLiteral([" Please enter a valid donation amount "]);return _templateObject74=function(){return S},S}function _templateObject75(){var S=_taggedTemplateLiteral(["var(--paymentButtonBorderColor, #333)"]);return _templateObject75=function(){return S},S}function _templateObject76(){var S=_taggedTemplateLiteral(["var(--paymentButtonGridGap, 1rem)"]);return _templateObject76=function(){return S},S}function _templateObject77(){var S=_taggedTemplateLiteral(["var(--paymentButtonFontSize, 1.6rem)"]);return _templateObject77=function(){return S},S}function _templateObject78(){var S=_taggedTemplateLiteral(["var(--paymentButtonFontColor, #000)"]);return _templateObject78=function(){return S},S}function _templateObject79(){var S=_taggedTemplateLiteral(["var(--paymentButtonSelectedFontColor, #000)"]);return _templateObject79=function(){return S},S}function _templateObject80(){var S=_taggedTemplateLiteral(["var(--paymentButtonSelectedColor, #f9bf3b)"]);return _templateObject80=function(){return S},S}function _templateObject81(){var S=_taggedTemplateLiteral(["var(--paymentButtonFocusedOutlineColor, #7fb3f9)"]);return _templateObject81=function(){return S},S}function _templateObject82(){var S=_taggedTemplateLiteral(["var(--paymentButtonColor, #fff)"]);return _templateObject82=function(){return S},S}function _templateObject83(){var S=_taggedTemplateLiteral(["var(--coverFeesFontSize, 1.2rem)"]);return _templateObject83=function(){return S},S}function _templateObject84(){var S=_taggedTemplateLiteral(["var(--coverFeesFontWeight, bold)"]);return _templateObject84=function(){return S},S}function _templateObject85(){var S=_taggedTemplateLiteral(["var(--customAmountWidth, 4rem)"]);return _templateObject85=function(){return S},S}function _templateObject86(){var S=_taggedTemplateLiteral(["var(--inputFieldFontColor, #333)"]);return _templateObject86=function(){return S},S}function _templateObject87(){var S=_taggedTemplateLiteral(["var(--inputBorder, 1px solid #d9d9d9)"]);return _templateObject87=function(){return S},S}function _templateObject88(){var S=_taggedTemplateLiteral(["var(--paymentSelectorAmountColumnCount, 5)"]);return _templateObject88=function(){return S},S}function _templateObject89(){var S=_taggedTemplateLiteral(["var(--paymentSelectorCustomAmountColSpan, 3)"]);return _templateObject89=function(){return S},S}function _templateObject90(){var S=_taggedTemplateLiteral(["\n      :host {\n        --formSectionContentBackgroundColor: var(--editFormBgColor, transparent);\n        --formSectionBadgeBackgroundColor: var(--editFormBadgeBgColor, #333);\n        --formSectionBadgeFontColor: var(--editFormBadgeFontColor, #fff);\n        --formSectionTextColor: var(--editFormTextColor, #333);\n      }\n      .errors {\n        color: red;\n        font-size: 1.4rem;\n        margin-top: 0.5rem;\n      }\n\n      ul {\n        list-style: none;\n        margin: 0;\n        padding: 0;\n        display: grid;\n        grid-gap: ",";\n      }\n\n      li {\n        margin: 0;\n        padding: 0;\n        display: inline-block;\n      }\n\n      .frequency-selector {\n        grid-template-columns: repeat(2, 1fr);\n      }\n\n      .amount-selector {\n        grid-template-columns: repeat(",", 1fr);\n      }\n\n      .custom-amount {\n        grid-column: span ",";\n      }\n\n      .selection-button {\n        height: 3rem;\n      }\n\n      .selection-button label {\n        padding: 0 0.3rem;\n        display: flex;\n        cursor: pointer;\n        text-align: center;\n        font-size: ",";\n        font-weight: bold;\n        border: 1px solid ",";\n        border-radius: 5px;\n        background-color: #ccc;\n        height: 100%;\n        justify-content: center;\n        align-items: center;\n      }\n\n      label[for='custom-amount-button'] {\n        padding: 0;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .custom-amount-text {\n        white-space: nowrap;\n        margin-right: 0.5rem;\n      }\n\n      input[type='radio'] {\n        opacity: 0;\n        width: 0;\n        height: 0;\n        position: absolute;\n      }\n\n      input[type='radio'] + label {\n        color: ",";\n        background-color: ",";\n      }\n\n      input[type='radio']:checked + label {\n        color: ",";\n        background-color: ",";\n      }\n\n      input[type='radio']:focus + label {\n        outline: 2px solid ",";\n      }\n\n      .checkbox-options {\n        margin-top: 1rem;\n      }\n\n      .checkbox-option-container {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .checkbox-option-container input {\n        width: 2rem;\n      }\n\n      .checkbox-option-container label {\n        font-size: ",";\n        font-weight: ",";\n        flex: 1;\n      }\n\n      #custom-amount-input {\n        width: ",";\n        font-size: 1.6rem;\n        font-weight: bold;\n        color: ",";\n        padding: 0.1rem;\n        border: ",";\n        appearance: none;\n        -moz-appearance: none;\n        -webkit-appearance: none;\n      }\n    "]);return _templateObject90=function(){return S},S}function _templateObject91(){var S=_taggedTemplateLiteral([' <div class="donate-goal">',"</div> "]);return _templateObject91=function(){return S},S}function _templateObject92(){var S=_taggedTemplateLiteral(['\n      <div\n        class="container"\n        role="progressbar"\n        aria-valuemin="0"\n        aria-valuemax="','"\n        aria-valuenow="','"\n        aria-valuetext="','"\n      >\n        <div class="thermometer-message-container">\n          <div class="thermometer-container">\n            <div\n              class="thermometer-background ','"\n            >\n              <div\n                class="thermometer-fill"\n                style="width: ','%"\n              >\n                ',"\n              </div>\n              ","\n            </div>\n          </div>\n          ","\n        </div>\n      </div>\n    "]);return _templateObject92=function(){return S},S}function _templateObject93(){var S=_taggedTemplateLiteral(["",""]);return _templateObject93=function(){return S},S}function _templateObject94(){var S=_taggedTemplateLiteral(['\n          <div class="thermometer-value">',"</div>\n        "]);return _templateObject94=function(){return S},S}function _templateObject95(){var S=_taggedTemplateLiteral(["var(--bannerThermometerHeight, 20px)"]);return _templateObject95=function(){return S},S}function _templateObject96(){var S=_taggedTemplateLiteral(["var(--bannerThermometerCurrentValueLeftColor, #fff)"]);return _templateObject96=function(){return S},S}function _templateObject97(){var S=_taggedTemplateLiteral(["var(--bannerThermometerProgressColor, #23765D)"]);return _templateObject97=function(){return S},S}function _templateObject98(){var S=_taggedTemplateLiteral(["var(--bannerThermometerCurrentValueRightColor, ",")"]);return _templateObject98=function(){return S},S}function _templateObject99(){var S=_taggedTemplateLiteral(["var(--bannerThermometerBackgroundColor, #B8F5E2)"]);return _templateObject99=function(){return S},S}function _templateObject100(){var S=_taggedTemplateLiteral(["var(--bannerThermometerBorder, 1px solid ",")"]);return _templateObject100=function(){return S},S}function _templateObject101(){var S=_taggedTemplateLiteral(["var(--bannerThermometerBorderRadius, calc("," / 2))"]);return _templateObject101=function(){return S},S}function _templateObject102(){var S=_taggedTemplateLiteral(["var(--bannerThermometerGoalMessagePadding, 0 10px)"]);return _templateObject102=function(){return S},S}function _templateObject103(){var S=_taggedTemplateLiteral(["var(--bannerThermometerGoalValueColor, #2c2c2c)"]);return _templateObject103=function(){return S},S}function _templateObject104(){var S=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n      }\n\n      .container {\n        height: 100%;\n      }\n\n      .thermometer-message-container {\n        height: 100%;\n        display: flex;\n        align-items: center;\n      }\n\n      .thermometer-container {\n        height: 100%;\n        flex: 1;\n      }\n\n      .thermometer-background {\n        background-color: ",";\n        padding: 0;\n        height: 100%;\n        border-radius: ",";\n        border: ",";\n        overflow: hidden;\n        display: flex;\n        align-items: center;\n      }\n\n      .thermometer-fill {\n        background-color: ",";\n        text-align: right;\n        height: 100%;\n        display: flex;\n        justify-content: flex-end;\n        align-items: center;\n      }\n\n      .thermometer-value {\n        font-weight: bold;\n      }\n\n      .value-left .thermometer-value {\n        color: ",";\n        padding: 0 0.5rem 0 1rem;\n      }\n\n      .value-right .thermometer-value {\n        color: ",";\n        padding: 0 1rem 0 0.5rem;\n      }\n\n      .donate-goal {\n        text-align: left;\n        padding: ",";\n        text-transform: uppercase;\n        font-weight: bold;\n        color: ",";\n      }\n    "]);return _templateObject104=function(){return S},S}function _templateObject105(){var S=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 24 24"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="tocTitleID tocDescID"\n>\n  <title id="tocTitleID">Table of contents icon</title>\n  <desc id="tocDescID">An illustration of three text list items</desc>\n  <g class="fill-color" fill-rule="evenodd"><rect height="3" rx="1.5" width="18" x="6"/><rect height="3" rx="1.5" width="18" x="6" y="21"/><rect height="3" rx="1.5" width="18" x="6" y="14"/><rect height="3" rx="1.5" width="18" x="6" y="7"/><rect height="3" rx="1.5" width="4"/><rect height="3" rx="1.5" width="4" y="21"/><rect height="3" rx="1.5" width="4" y="14"/><rect height="3" rx="1.5" width="4" y="7"/></g>\n</svg>\n']);return _templateObject105=function(){return S},S}function _templateObject106(){var S=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject106=function(){return S},S}function _templateObject107(){var S=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 40 40"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="ellipsesTitleID ellipsesDescID"\n>\n  <title id="ellipsesTitleID">Ellipses icon</title>\n  <desc id="ellipsesDescID">An illustration of text ellipses.</desc>\n  <path class="fill-color" d="m10.5 17.5c1.3807119 0 2.5 1.1192881 2.5 2.5s-1.1192881 2.5-2.5 2.5c-1.38071187 0-2.5-1.1192881-2.5-2.5s1.11928813-2.5 2.5-2.5zm9.5 0c1.3807119 0 2.5 1.1192881 2.5 2.5s-1.1192881 2.5-2.5 2.5-2.5-1.1192881-2.5-2.5 1.1192881-2.5 2.5-2.5zm9.5 0c1.3807119 0 2.5 1.1192881 2.5 2.5s-1.1192881 2.5-2.5 2.5-2.5-1.1192881-2.5-2.5 1.1192881-2.5 2.5-2.5z" fill-rule="evenodd"/>\n</svg>\n']);return _templateObject107=function(){return S},S}function _templateObject108(){var S=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject108=function(){return S},S}function _templateObject109(){var S=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 18 18"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="collapseSidebarTitleID collapseSidebarDescID"\n>\n  <title id="collapseSidebarTitleID">Collapse sidebar</title>\n  <desc id="collapseSidebarDescID">A circle with a left pointing chevron</desc>\n  <path d="m9 0c4.9705627 0 9 4.02943725 9 9 0 4.9705627-4.0294373 9-9 9-4.97056275 0-9-4.0294373-9-9 0-4.97056275 4.02943725-9 9-9zm1.6976167 5.28352881c-.365258-.3556459-.9328083-.37581056-1.32099801-.06558269l-.09308988.0844372-3 3.08108108-.08194436.09533317c-.27484337.36339327-.26799482.87009349.01656959 1.22592581l.084491.09308363 3 2.91891889.09533796.0818904c.3633964.2746544.8699472.2677153 1.2256839-.0167901l.093059-.0844712.0818904-.095338c.2746544-.3633964.2677153-.8699472-.0167901-1.2256839l-.0844712-.093059-2.283355-2.2222741 2.3024712-2.36338332.0819252-.09530804c.2997677-.39632298.2644782-.96313393-.1007797-1.31877983z" fill-rule="evenodd" class="fill-color" />\n</svg>\n']);return _templateObject109=function(){return S},S}function _templateObject110(){var S=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject110=function(){return S},S}function _templateObject111(){var S=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 100 100"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="shareTitleID shareDescID"\n>\n  <title id="shareTitleID">Share icon</title>\n  <desc id="shareDescID">A square with an arrow arcing out from the center of the square</desc>\n  <g class="fill-color">\n    <path d="M70.6784759,10 L70.6784759,21.3240186 C64.5020053,21.66334 58.9104278,22.5826126 53.9037433,24.0818363 C48.8970588,25.5810601 44.8495989,27.4085163 41.7613636,29.5642049 C38.6731283,31.7198935 35.9982175,34.0552229 33.736631,36.5701929 C31.4750446,39.085163 29.8217469,41.5657574 28.776738,44.011976 C27.7317291,46.4581947 26.9173351,48.6848525 26.3335561,50.6919494 C25.7497772,52.6990464 25.4088681,54.3324462 25.3108289,55.592149 L25.2372995,57.4085163 C29.0296346,54.1661122 33.1751337,51.5524507 37.6737968,49.5675316 C42.1724599,47.5826126 46.2934492,46.3118208 50.0367647,45.7551564 C53.7800802,45.1984919 57.2571301,44.8713684 60.4679144,44.7737858 C63.6786988,44.6762031 66.1831551,44.7726769 67.9812834,45.0632069 L70.6784759,45.499002 L70.6784759,57.4051896 L100,33.3765802 L70.6784759,10 Z M76.4438503,62.4883566 L82.8609626,57.1157685 C82.9099822,57.0669772 82.9946524,57.0303837 83.1149733,57.005988 C83.2352941,56.9815924 83.4536542,56.9571967 83.7700535,56.9328011 C84.0864528,56.9084054 84.3905971,56.9449989 84.6824866,57.0425815 C84.9743761,57.1401641 85.217246,57.2854291 85.4110963,57.4783766 C85.6049465,57.671324 85.7263815,57.8409847 85.7754011,57.9873586 L85.8489305,58.2035928 L85.8489305,90 L0,90 L0,17.910845 L43.1784759,17.910845 C43.2765152,17.9596363 43.410205,18.0317143 43.5795455,18.1270792 C43.7488859,18.222444 43.9438503,18.4519849 44.1644385,18.8157019 C44.3850267,19.1794189 44.469697,19.5542249 44.4184492,19.9401198 C44.4184492,20.2794411 44.3092692,20.582169 44.0909091,20.8483034 C43.872549,21.1144378 43.6664439,21.3206919 43.4725936,21.4670659 L43.1818182,21.6134398 C40.557041,23.06609 38.2954545,24.396762 36.3970588,25.6054558 L30.7820856,29.8170326 L11.5274064,29.8170326 L11.5274064,78.1669993 L74.1811497,78.1669993 L74.1811497,65.5355955 C74.1811497,65.1009093 74.3995098,64.6407186 74.8362299,64.1550233 L76.4438503,62.4883566 Z" id="Shape"></path>\n  </g>\n</svg>\n']);return _templateObject111=function(){return S},S}function _templateObject112(){var S=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject112=function(){return S},S}function _templateObject113(){var S=_taggedTemplateLiteral(['\n<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="twitterTitleID twitterDescID">\n  <title id="twitterTitleID">Twitter icon</title>\n  <desc id="twitterDescID">The Twitter logo, a cartoon bird</desc>\n  <path d="m31.5297453 8.76273313c-.3135031.40766104-.7447036.83083673-1.2936015 1.26952707-.5488979.4386904-.9169698.7837578-1.1042157 1.0352022.1562166 2.319709-.1417719 4.5297454-.8939653 6.6301092-.7521935 2.1003638-1.8023754 3.9182538-3.1505457 5.45367-1.3481704 1.5354162-2.9627648 2.8284828-4.8437835 3.8791996-1.8810186 1.0507169-3.8321207 1.7483416-5.8533062 2.092874s-4.1215493.2894286-6.30109136-.1653114c-2.17954205-.45474-4.2092874-1.3401455-6.08923604-2.6562165 2.72737.4697196 5.67408517-.2514445 8.8401455-2.1634924-3.0719024-.7521935-4.88979241-2.2881447-5.45367-4.6078537 1.12882516.0631287 1.86550396.0631287 2.21003638 0-2.91568586-1.2850417-4.38904344-3.3693558-4.42007276-6.2529424.21934517.0310293.53284828.1487267.94050931.3530922s.78375775.3060133 1.12829017.3049433c-.81532206-.7211641-1.41076396-1.9045581-1.7863257-3.5501819-.37556173-1.64562376-.17173122-3.17355015.61149155-4.58377912 1.81789001 1.88101862 3.6908838 3.36989086 5.61898138 4.46661672 1.92809757 1.0967259 4.22426707 1.7547614 6.88850847 1.9741066-.2503745-1.1908838-.1722662-2.32719882.2343248-3.40894502.4065911-1.0817462 1.0416221-1.93612241 1.9050931-2.56312861.863471-.62700621 1.8114702-1.0817462 2.8439975-1.36421999 1.0325272-.28247378 2.0827091-.27444896 3.1505456.02407447s1.9767815.87042585 2.726835 1.71570726c1.3791997-.37663172 2.6802911-.87845068 3.9032742-1.50545688-.0310293.37663171-.1407019.74470361-.3290178 1.1042157-.1883158.35951209-.3530922.62593623-.4943291.79927242s-.3841216.4317355-.728654.77519795c-.3445324.34346244-.5638776.57832227-.6580355.70457949.2193452-.09415792.6895998-.23539482 1.410764-.42371067.7211641-.18831586 1.2069334-.39214638 1.4573079-.61149155 0 .44350524-.1567516.86668093-.4702547 1.27434196z" class="fill-color" />\n</svg>\n']);return _templateObject113=function(){return S},S}function _templateObject114(){var S=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject114=function(){return S},S}function _templateObject115(){var S=_taggedTemplateLiteral(['\n<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="facebookTitleID facebookDescID">\n  <title id="facebookTitleID">Facebook icon</title>\n  <desc id="facebookDescID">A lowercase f</desc>\n  <path d="m30.91057 19.2442068.2670004-5.3339402h-5.7329237c-.0890001-3.4962895.25183-5.42243459 1.0224903-5.77843514.3560005-.17800028.8004955-.28925046 1.333485-.33375053s1.0442346-.0520853 1.5337353-.02275571c.4895008.02932959 1.045246.01466479 1.6672356-.04399439.0890001-1.59997977.1335002-3.24445961.1335002-4.93343953-2.1633102-.20732987-3.6742898-.28115953-4.5329389-.22148898-2.8146294.17800028-4.7847688 1.25965538-5.9104183 3.2449653-.1780003.3256596-.3261653.68873971-.444495 1.08924034-.1183298.40050062-.2144095.76358074-.2882391 1.08924034-.0738297.32565959-.125915.7848194-.1562559 1.37747942-.030341.59266002-.052591 1.04474028-.0667501 1.35624078-.0141592.3115005-.0217444.8449956-.0227558 1.6004854v1.5777298h-3.8229605v5.3339401h3.8669549v14.622824h5.8224296c0-.3560006-.0146648-1.6819003-.0439944-3.9776994-.0293296-2.295799-.0515796-4.2957737-.0667501-5.9999241s-.0075853-3.2525506.0227557-4.6452005h5.4219289z" class="fill-color" />\n</svg>\n']);return _templateObject115=function(){return S},S}function _templateObject116(){var S=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject116=function(){return S},S}function _templateObject117(){var S=_taggedTemplateLiteral(['\n<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="tumblrTitleID tumblrDescID">\n  <title id="tumblrTitleID">Tumblr icon</title>\n  <desc id="tumblrDescID">A lowercase letter t</desc>\n  <path d="m8.50321407 8.54544475v5.32088575c.15641786.0310693.6819176.0310693 1.57649923 0 .8945816-.0310693 1.3574071.0160703 1.3884764.1414189.0942792 1.5695354.1333837 3.2253149.1173133 4.9673385-.0160703 1.7420236-.0316049 3.3426283-.0466039 4.8018141s.2046288 2.824628.6588835 4.0963267c.4542546 1.2716986 1.1999178 2.2209194 2.2369897 2.8476622 1.2556283.784232 2.9896167 1.207953 5.2019653 1.271163 2.2123485.0632099 4.1659648-.2506972 5.8608487-.9417213-.0310693-.3449764-.0230341-1.4045467.0241055-3.1787109.0471397-1.7741643-.0080351-2.75499-.1655244-2.9424772-3.5472571 1.0360005-5.697467.6904885-6.4506298-1.0365361-.7220934-1.6638147-.8635123-4.9909084-.4242566-9.981281v-.046604h6.7318605v-5.32088568h-6.7318605v-6.54383772h-4.0497228c-.2828378 1.28669763-.6122795 2.35376743-.9883252 3.20120941-.3760457.84744199-.98029 1.60060471-1.812733 2.25948817-.832443.65888347-1.87594303 1.01993018-3.1305 1.08314014z" class="fill-color" />\n</svg>\n']);return _templateObject117=function(){return S},S}function _templateObject118(){var S=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject118=function(){return S},S}function _templateObject119(){var S=_taggedTemplateLiteral(['\n<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="pinterestTitleID pinterestDescID">\n  <title id="pinterestTitleID">Pinterest icon</title>\n  <desc id="pinterestDescID">A stylized letter p</desc>\n  <path d="m11.9051049 30.5873434.653491-1.0742755.4207845-.839975c.2805229-.591861.5371377-1.2533214.7698443-1.9843813.2327065-.7310599.4659444-1.6029125.6997135-2.6155579.2337692-1.0126455.4128151-1.752206.5371377-2.2186817.0308151.030815.0775689.0855382.1402615.1641697.0626927.0786314.1094465.1333547.1402615.1641697.1243227.1870153.2178304.311338.280523.372968 1.1210293.964829 2.3817888 1.4631823 3.7822785 1.4950599 1.4939973 0 2.8790795-.3426843 4.1552465-1.0280529 2.1166733-1.1826593 3.6733633-3.1128487 4.6700699-5.7905679.4048457-1.1518444.6848374-2.5996192.8399751-4.3433245.1243226-1.587505-.0781002-3.0974411-.6072685-4.5298084-.903199-2.36638128-2.5528653-4.20306294-4.948999-5.51004497-1.276167-.65349101-2.5990879-1.05833667-3.9687625-1.21453696-1.525875-.21783034-3.1293188-.17107651-4.8103315.14026149-2.7701643.52916833-5.02709913 1.743174-6.77080442 3.64201699-1.99235065 2.14748836-2.98852598 4.62225355-2.98852598 7.42429545 0 2.9571797.9494215 5.0584455 2.84826449 6.3037975l.83997504.4207845c.12432268 0 .22526845.0154075.3028373.0462225s.1551377.0074381.23270656-.0701308c.07756885-.0775688.13229208-.1243226.16416969-.1402614s.07066204-.0860696.11635328-.2103923c.04569124-.1243226.07703756-.2098609.09403895-.2566147.01700139-.0467539.04834771-.1476996.09403895-.3028373s.06906816-.2486454.07013074-.280523l.14026149-.5132295c.06269263-.311338.09403895-.5291684.09403895-.653491-.03081502-.1243227-.12432268-.2799917-.28052297-.467007-.15620029-.1870154-.23376915-.2959305-.23270656-.3267455-.62267599-.8096914-.9494215-1.7904592-.98023652-2.9423035-.03081502-1.55669.28052297-2.9731185.93401399-4.24928547 1.18265932-2.45882635 3.17501002-3.93741618 5.97705192-4.43576949 1.6183201-.311338 3.1356943-.25661476 4.5521228.16416969 1.4164285.42078446 2.5135496 1.09765239 3.2913633 2.03060379.8405063 1.02752164 1.3229208 2.28828114 1.4472435 3.78227848.1243227 1.4004897-.0313463 2.9725872-.467007 4.7162925-.3740306 1.3696746-.9186065 2.5528653-1.6337275 3.5495719-.9967066 1.245352-2.0863896 1.8834355-3.269049 1.9142505-1.7118277.0626926-2.7547568-.6375522-3.1287874-2.1007345-.0935077-.4664757 0-1.2134744.2805229-2.240996.7469987-2.5842117 1.1359055-3.9384788 1.1667206-4.0628015.1870153-1.0275216.2024228-1.7904591.0462225-2.2888124-.1870153-.65349104-.5759222-1.15928246-1.1667205-1.51737429-.5907984-.35809182-1.2756357-.39687625-2.054512-.11635327-1.1826594.43566067-1.9610044 1.40048968-2.335035 2.89448706-.311338 1.306982-.2491767 2.6299028.186484 3.9687625 0 .0626926.0313463.1402615.094039.2327065.0626926.0924451.0940389.1700139.0940389.2327066 0 .0935076-.0313463.2491766-.0940389.467007-.0626927.2178303-.094039.3580918-.094039.4207844-.0935076.4356607-.3038999 1.3308903-.6311767 2.6856887-.3272768 1.3547985-.5838915 2.3897582-.7698443 3.1048793-.7778136 3.2068876-1.12049796 5.5881451-1.02805289 7.1437725l.37296809 2.7558194c.653491-.591861 1.2294131-1.2299445 1.7277664-1.9142505z" class="fill-color" />\n</svg>\n']);return _templateObject119=function(){return S},S}function _templateObject120(){var S=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject120=function(){return S},S}function _templateObject121(){var S=_taggedTemplateLiteral(['\n<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="emailTitleID emailDescID">\n  <title id="emailTitleID">Email icon</title>\n  <desc id="emailDescID">An illustration of an envelope</desc>\n  <path d="m32 7.04156803v19.91686397c0 .5752421-.4763773 1.041568-1.0640184 1.041568h-27.87196316c-.58764116 0-1.06401844-.4663259-1.06401844-1.041568v-19.91686397c0-.57524214.47637728-1.04156803 1.06401844-1.04156803h27.87196316c.5876411 0 1.0640184.46632589 1.0640184 1.04156803zm-26.25039901 1.19676167 10.04327011 10.1323738c.5135662.4194048.8817166.6291071 1.1044511.6291071.1198794 0 .2695514-.0503424.4490158-.1510273.1794644-.100685.3291364-.2013699.4490158-.3020548l.1798191-.1510273 10.1198794-10.15841306zm16.77212271 9.7303286 6.8831353 6.7889404v-13.5778809zm-17.92871075-6.6379131v13.350819l6.78098955-6.6629107zm22.09008685 14.2059464-5.9074304-5.8588202-.9757049.9551179-.3594018.3295984c-.0342324.0304241-.0665646.0587822-.0969964.0850743l-.1597867.1329606c-.0684912.0540844-.1198794.0895749-.1541644.1064714-.6674943.3687151-1.3523675.5530727-2.0546196.5530727-.65047 0-1.3782586-.218035-2.1833659-.6541048l-.6682036-.4520405-1.0278418-1.0311524-5.95850326 5.832781z" class="fill-color" />\n</svg>\n']);return _templateObject121=function(){return S},S}function _templateObject122(){var S=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject122=function(){return S},S}function _templateObject123(){var S=_taggedTemplateLiteral(['\n<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="linkTitleID linkDescID">\n  <title id="linkTitleID">Link icon</title>\n  <desc id="linkDescID">Two chain links linked together</desc>\n  <path d="m7.80511706 12.3659763c1.2669254-2.2579539 4.09819784-2.9949938 6.41200864-1.7733458l.2295791.12871 1.6067188.9559859 3.5467013-6.31849361c1.2682451-2.26030597 4.104098-2.99652769 6.4192376-1.76952182l.2223501.12488594 3.2168204 1.91103915c2.2770002 1.3527136 3.1866331 4.21502324 2.0564431 6.51290984l-.1198433.2278304-5.2002499 9.2680474c-1.2669254 2.2579539-4.0981978 2.9949938-6.4120086 1.7733458l-.2295791-.12871-1.6096554-.9558482-3.5437647 6.3183559c-1.2682451 2.260306-4.104098 2.9965277-6.41923761 1.7695218l-.22235013-.1248859-3.21682032-1.9110392c-2.27700024-1.3527136-3.18663314-4.2150232-2.05644312-6.5129098l.11984332-.2278304zm13.93955474-5.73311741-3.563271 6.35055051c1.889633 1.4530595 2.5776248 4.0429866 1.5410255 6.156875l-.1223014.2328355-.4183304.7430134 1.6096554.9558483c1.1431442.6791157 2.5155496.3977368 3.1667361-.5628389l.0921501-.1491451 5.2002498-9.2680474c.5752467-1.0252226.2110342-2.4011579-.8559335-3.14755806l-.1742742-.11247814-3.2168203-1.91103915c-1.1402863-.67741793-2.5086889-.39913772-3.1618387.55564729zm-11.79500786 7.00714351-5.20024982 9.2680474c-.57524673 1.0252226-.21103426 2.4011579.85593348 3.1475581l.17427416.1124781 3.21682032 1.9110392c1.14028632.6774179 2.50868892.3991377 3.16183872-.5556473l.0970474-.1563368 3.5622708-6.3513198c-1.8888875-1.4532134-2.5764504-4.042623-1.5400057-6.1561456l.1222818-.2327956.4153938-.7428758-1.6067188-.9559859c-1.1431442-.6791157-2.5155496-.3977368-3.1667361.5628389zm6.97653866 1.5796652-.3817806.6812386c-.5117123.9119895-.2800268 2.1014993.528439 2.8785267l.382717-.6803391c.5119098-.9123415.2798478-2.1024176-.5293754-2.8794262z" class="fill-color" />\n</svg>\n']);return _templateObject123=function(){return S},S}function _templateObject124(){var S=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject124=function(){return S},S}function _templateObject125(){var S=_taggedTemplateLiteral(["42px"]);return _templateObject125=function(){return S},S}function _templateObject126(){var S=_taggedTemplateLiteral(["var(--menuWidth, 320px)"]);return _templateObject126=function(){return S},S}function _templateObject127(){var S=_taggedTemplateLiteral(["var(--animationTiming, 200ms)"]);return _templateObject127=function(){return S},S}function _templateObject128(){var S=_taggedTemplateLiteral(["\n  .main {\n    overflow: hidden;\n    width: 100%;\n    height: 100%;\n  }\n\n  .animate {\n    transition: transform "," ease-out;\n  }\n\n  .menu {\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    width: ",";\n    padding: 0.5rem 0.5rem 0 0;\n    box-sizing: border-box;\n    font-size: 1.4rem;\n    color: var(--primaryTextColor);\n    background: var(--menuSliderBg);\n    transform: translateX(calc("," * -1));\n  }\n\n  .menu > button.close {\n    right: 0.7rem;\n  }\n\n  button {\n    cursor: pointer;\n  }\n\n  header {\n    margin: 0 0 0.5rem 0;\n  }\n\n  header * {\n    margin: 0;\n    display: inline-block;\n  }\n  header button {\n    cursor: pointer;\n  }\n\n  header.with-secondary-action .details {\n    width: 80%;\n  }\n\n  header .details {\n    font-weight: bold;\n    width: 88%;\n  }\n\n  header .custom-action > *,\n  button.close {\n    padding: 0;\n    background-color: transparent;\n    border: 0;\n    --iconWidth: var(--menuSliderHeaderIconWidth);\n    --iconHeight: var(--menuSliderHeaderIconHeight);\n  }\n\n  header .custom-action,\n  button.close {\n    position: absolute;\n  }\n  button.close {\n    right: 0.5rem;\n  }\n\n  button.close * {\n    float: right;\n  }\n\n  .content {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: ",";\n    z-index: 1;\n    transform: translateX(calc("," * -1));\n    transition: transform "," ease-out;\n    background: var(--activeButtonBg);\n    border-right: 0.2rem solid;\n    border-color: var(--subpanelRightBorderColor);\n    padding: 0.5rem 0 0 0.5rem;\n    display: flex;\n    flex-direction: column;\n  }\n\n  .open {\n    transform: translateX(0);\n  }\n\n  .menu-list {\n    padding: 0;\n    margin: 0;\n    list-style: none;\n    background: var(--menuSliderBg);\n  }\n  .menu-list li {\n    margin-bottom: 0.2rem;\n  }\n\n  .content > section {\n    overflow: auto;\n    overscroll-behavior: contain;\n  }\n"]);return _templateObject128=function(){return S},S}function _templateObject129(){var S=_taggedTemplateLiteral(["\n  a {\n    display: inline-block;\n    text-decoration: none;\n  }\n\n  .menu-item {\n    display: inline-flex;\n    width: 100%;\n    padding: 0;\n    font-size: 1.6rem;\n    text-align: left;\n    background: transparent;\n    -webkit-box-align: center;\n    -ms-flex-align: center;\n    align-items: center;\n    border: none;\n    cursor: pointer;\n  }\n\n  button.menu-item {\n    -webkit-appearance: none;\n    appearance: none;\n    border-radius: 0;\n  }\n\n  .label {\n    display: var(--menuButtonLabelDisplay, none);\n    padding: 0;\n    font-weight: 400;\n    color: var(--primaryTextColor);\n    text-align: left;\n    vertical-align: middle;\n    margin-left: 1rem;\n  }\n\n  .menu-details {\n    color: var(--primaryTextColor);\n    display: inline-block;\n    margin-left: 0.5rem;\n    font-style: italic;\n    font-size: 1.5rem;\n  }\n\n  .menu-item > .icon {\n    position: relative;\n    display: inline-flex;\n    z-index: 2;\n    min-width: 4.2rem;\n    max-width: 4.2rem;\n    height: 4.2rem;\n    vertical-align: middle;\n    -webkit-box-align: center;\n    -ms-flex-align: center;\n    align-items: center;\n    -webkit-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n  }\n\n  .menu-item.selected .icon {\n    background-color: var(--activeButtonBg);\n    border-radius: 1rem 0 0 1rem;\n  }\n\n  .icon .fill-color {\n    fill: #999;\n  }\n\n  .icon.active .fill-color {\n    fill: #fff;\n  }\n"]);return _templateObject129=function(){return S},S}function _templateObject130(){var S=_taggedTemplateLiteral(['\n      <span class="icon ','"> ',' </span>\n      <span class="label">','</span>\n      <span class="menu-details">',"</span>\n    "]);return _templateObject130=function(){return S},S}function _templateObject131(){var S=_taggedTemplateLiteral(['\n      <a\n        href="','"\n        class="menu-item ','"\n        @click=',"\n        >","</a\n      >\n    "]);return _templateObject131=function(){return S},S}function _templateObject132(){var S=_taggedTemplateLiteral(['\n      <button class="menu-item ','" @click=',">\n        ","\n      </button>\n    "]);return _templateObject132=function(){return S},S}function _templateObject133(){var S=_taggedTemplateLiteral([""]);return _templateObject133=function(){return S},S}function _templateObject134(){var S=_taggedTemplateLiteral(["\n        <li>\n          <menu-button\n            @menuTypeSelected=","\n            .icon=","\n            .label=","\n            .menuDetails=","\n            .buttonId=","\n            .selected=","\n            .followable=","\n            .href=","\n          ></menu-button>\n        </li>\n      "]);return _templateObject134=function(){return S},S}function _templateObject135(){var S=_taggedTemplateLiteral(['<span class="custom-action">',"</span>"]);return _templateObject135=function(){return S},S}function _templateObject136(){var S=_taggedTemplateLiteral(['\n      <header class="','">\n        <div class="details">\n          <h3>','</h3>\n          <span class="extra-details">',"</span>\n        </div>\n        "," ","\n      </header>\n    "]);return _templateObject136=function(){return S},S}function _templateObject137(){var S=_taggedTemplateLiteral(['\n      <button\n        class="close"\n        aria-label="Close this menu"\n        @click=',"\n      >\n        <ia-icon-collapse-sidebar></ia-icon-collapse-sidebar>\n      </button>\n    "]);return _templateObject137=function(){return S},S}function _templateObject138(){var S=_taggedTemplateLiteral(['\n      <div class="main">\n        <div class="menu ','">\n          ','\n          <ul class="menu-list">\n            ','\n          </ul>\n          <div\n            class="content ','"\n            @menuTypeSelected=',"\n          >\n            ",'\n            <section>\n              <div class="selected-menu">',"</div>\n            </section>\n          </div>\n        </div>\n      </div>\n    "]);return _templateObject138=function(){return S},S}function _templateObject139(){var S=_taggedTemplateLiteral(['\n      <g class="bookIcon" transform="matrix(1 0 0 -1 28 67.362264)">\n        <path d="m44.71698 31.6981124v-29.99320678s-18.0956599.30735848-18.6322637-.7171698c-.0633962-.12226414-1.890566-.59207545-2.9745282-.59207545-1.3228302 0-3.5122641 0-4.1286791.74547168-.9707547 1.17452827-18.82811278.71660375-18.82811278.71660375v30.040754l1.83849052.7867924.29094339-28.48188608s15.94981097.15339622 17.09094297-1.10716978c.8145283-.90056602 4.997547-.91641507 5.3450942-.3526415.9611321 1.55716977 14.7101883 1.31716978 17.6077354 1.45981128l.3266038 28.22830118z"/>\n        <path d="m40.1129424 33.5957539h-12.8337733c-1.8690565 0-3.1098112-.7545283-3.9299999-1.6279245v-26.70452764l1.2362264-.00792453c.4584906.72962262 3.0922641 1.39415091 3.0922641 1.39415091h10.1298111s1.0381131.01754717 1.5141509.47377357c.5643396.54056602.7913207 1.36981129.7913207 1.36981129z"/>\n        <path d="m17.3354713 33.5957539h-12.8337733v-25.37660316s0-.75283017.49358489-1.14113205c.52867924-.41433961 1.3415094-.42849055 1.3415094-.42849055h10.59905631s2.2075471-.52698112 3.0928301-1.39415091l1.2.00792453v26.74245214c-.8201886.8581132-2.0530188 1.59-3.8932074 1.59"/>\n      </g>\n    ']);return _templateObject139=function(){return S},S}function _templateObject140(){var S=_taggedTemplateLiteral(['\n    <svg\n      height="100"\n      viewBox="0 0 100 100"\n      width="100"\n      xmlns="http://www.w3.org/2000/svg"\n      aria-labelledby="item-loading"\n    >\n      <title id="item-loading">Currently loading viewer.</title>\n      <desc>Please wait while we load theater.</desc>\n      <g fill="#333" fill-rule="evenodd" class="book-icon">\n        ','\n        <path\n          class="ring"\n          d="m17.8618849 11.6970233c18.5864635-15.59603144 45.6875867-15.59603102 64.2740497.000001 1.9271446 1.6170806 2.1785128 4.4902567.5614466 6.4174186-1.6170661 1.9271618-4.4902166 2.1785323-6.4173612.5614517-15.1996922-12.75416882-37.3625282-12.75416916-52.5622206-.000001-15.19969387 12.7541707-19.04823077 34.5805019-9.1273354 51.7641499 9.9208955 17.183646 30.7471499 24.7638499 49.3923323 17.9774983 18.6451823-6.7863521 29.7266014-25.9801026 26.2811129-45.5206248-.436848-2.4775114 1.2174186-4.8400696 3.6949079-5.2769215 2.4774893-.4368518 4.8400264 1.2174296 5.2768744 3.694941 4.2132065 23.8945096-9.3373563 47.3649806-32.137028 55.6634567-22.799672 8.2984758-48.2663986-.9707372-60.39785211-21.9832155-12.1314534-21.012481-7.42539173-47.7021198 11.16107351-63.2981544z"\n          fill-rule="nonzero"\n        />\n      </g>\n    </svg>\n    ']);return _templateObject140=function(){return S},S}function _templateObject141(){var S=_taggedTemplateLiteral(["<h2>","</h2>"]);return _templateObject141=function(){return S},S}function _templateObject142(){var S=_taggedTemplateLiteral(['\n      <div class="place-holder">\n        '," ","\n        <h3>Loading viewer</h3>\n      </div>\n    "]);return _templateObject142=function(){return S},S}function _templateObject143(){var S=_taggedTemplateLiteral(["\n      .place-holder {\n        width: 30%;\n        margin: auto;\n        text-align: center;\n        color: var(--primaryTextColor);\n      }\n\n      .place-holder {\n        position: relative;\n      }\n\n      .place-holder svg {\n        display: block;\n        width: 60%;\n        max-width: 100px;\n        height: auto;\n        margin: auto;\n      }\n\n      svg * {\n        fill: var(--primaryTextColor);\n      }\n\n      svg .ring {\n        animation: rotate 1.3s infinite linear;\n        transform-origin: 50px 50px;\n        transform-box: fill-box;\n        display: block; // transform won't work on inline style\n      }\n\n      @keyframes rotate {\n        0% {\n          -moz-transform: rotate(-360deg);\n          -webkit-transform: rotate(-360deg);\n          transform: rotate(-360deg);\n        }\n      }\n    "]);return _templateObject143=function(){return S},S}function _templateObject144(){var S=_taggedTemplateLiteral(["\n      <section>\n        <h2>THERE IS NO PREVIEW AVAILABLE FOR THIS ITEM</h2>\n        <p>\n          This item does not appear to have any files that can be experienced on\n          Archive.org. <br />\n          Please download files in this item to interact with them on your\n          computer.\n        </p>\n        <a href=",">Show all files</a>\n      </section>\n    "]);return _templateObject144=function(){return S},S}function _templateObject145(){var S=_taggedTemplateLiteral(["\n      :host {\n        color: var(--primaryTextColor, #fff);\n        text-align: center;\n      }\n      section {\n        width: 100%;\n        margin: 5%;\n        padding: 0 5%;\n      }\n      p {\n        font-size: 1.4rem;\n      }\n      a {\n        color: var(--primaryTextColor, #fff);\n        background-color: rgb(25, 72, 128);\n        min-height: 35px;\n        cursor: pointer;\n        line-height: normal;\n        border-radius: 0.4rem;\n        text-align: center;\n        vertical-align: middle;\n        font-size: 1.4rem;\n        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n        display: inline-block;\n        padding: 0.85rem 1.2rem;\n        border: 1px solid rgb(197, 209, 223);\n        white-space: nowrap;\n        appearance: auto;\n        box-sizing: border-box;\n        user-select: none;\n        text-decoration: none;\n      }\n    "]);return _templateObject145=function(){return S},S}function _templateObject146(){var S=_taggedTemplateLiteral(['\n      <div class="loading-area">\n        <div class="loading-view">\n          <ia-itemnav-loader\n            .loaderMessage=',"\n          ></ia-itemnav-loader>\n        </div>\n      </div>\n    "]);return _templateObject146=function(){return S},S}function _templateObject147(){var S=_taggedTemplateLiteral(['\n      <div id="frame" class=','>\n        <slot\n          name="header"\n          style=',"\n          @slotchange=",'\n        ></slot>\n        <div class="menu-and-reader">\n          ','\n          <div id="reader" class=',">\n            ","\n          </div>\n          ","\n        </div>\n      </div>\n    "]);return _templateObject147=function(){return S},S}function _templateObject148(){var S=_taggedTemplateLiteral(["<ia-no-theater-available\n      .identifier=","\n      @loadingStateUpdated=","\n    ></ia-no-theater-available>"]);return _templateObject148=function(){return S},S}function _templateObject149(){var S=_taggedTemplateLiteral(['\n      <div slot="main" style=','>\n        <slot\n          name="main"\n          @slotchange=',"\n        ></slot>\n      </div>\n    "]);return _templateObject149=function(){return S},S}function _templateObject150(){var S=_taggedTemplateLiteral(['\n      <button\n        class="toggle-menu"\n        @click=','\n        title="Toggle theater side panels"\n      >\n        <div>\n          <ia-icon-ellipses\n            style="width: var(--iconWidth); height: var(--iconHeight);"\n          ></ia-icon-ellipses>\n        </div>\n      </button>\n    ']);return _templateObject150=function(){return S},S}function _templateObject151(){var S=_taggedTemplateLiteral(['\n      <nav>\n        <div class="minimized">'," ",'</div>\n        <div id="menu" class=',">\n          <ia-menu-slider\n            .menus=","\n            .selectedMenu=","\n            @menuTypeSelected=","\n            @menuSliderClosed=","\n            manuallyHandleClose\n            open\n          ></ia-menu-slider>\n        </div>\n      </nav>\n    "]);return _templateObject151=function(){return S},S}function _templateObject152(){var S=_taggedTemplateLiteral(["",""]);return _templateObject152=function(){return S},S}function _templateObject153(){var S=_taggedTemplateLiteral(['\n        <button class="shortcut ','" @click="','">\n          ',"\n        </button>\n      "]);return _templateObject153=function(){return S},S}function _templateObject154(){var S=_taggedTemplateLiteral(['<div class="shortcuts">',"</div>"]);return _templateObject154=function(){return S},S}function _templateObject155(){var S=_taggedTemplateLiteral(["var(--menuWidth, 320px)"]);return _templateObject155=function(){return S},S}function _templateObject156(){var S=_taggedTemplateLiteral(["var(--animationTiming, 200ms)"]);return _templateObject156=function(){return S},S}function _templateObject157(){var S=_taggedTemplateLiteral(["transform "," ease-out"]);return _templateObject157=function(){return S},S}function _templateObject158(){var S=_taggedTemplateLiteral(["var(--theaterMenuMargin, 42px)"]);return _templateObject158=function(){return S},S}function _templateObject159(){var S=_taggedTemplateLiteral(["var(--theaterBgColor, #000)"]);return _templateObject159=function(){return S},S}function _templateObject160(){var S=_taggedTemplateLiteral(["\n      :host,\n      #frame,\n      .menu-and-reader {\n        position: relative;\n        overflow: hidden;\n        display: block;\n      }\n\n      :host,\n      #frame,\n      .loading-area,\n      .loading-view {\n        min-height: inherit;\n        height: inherit;\n      }\n\n      slot {\n        display: block;\n        width: 100%;\n      }\n\n      slot * {\n        display: block;\n        height: inherit;\n      }\n\n      #frame {\n        background-color: ",";\n        color-scheme: dark;\n        display: flex;\n        flex-direction: column;\n      }\n\n      #frame.fullscreen {\n        position: fixed;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        z-index: 9;\n      }\n\n      .loading-view {\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .loading-area {\n        width: 100%;\n      }\n\n      ia-itemnav-loader {\n        display: block;\n        width: 100%;\n      }\n\n      .hidden {\n        display: none !important;\n      }\n\n      button {\n        cursor: pointer;\n        padding: 0;\n        border: 0;\n      }\n\n      .menu-and-reader {\n        position: relative;\n        display: flex;\n        flex: 1;\n      }\n\n      nav button {\n        background: none;\n      }\n\n      nav .minimized {\n        background: rgba(0, 0, 0, 0.7);\n        padding-top: 6px;\n        position: absolute;\n        width: ",";\n        z-index: 2;\n        left: 0;\n        border-bottom-right-radius: 5%;\n      }\n\n      nav .minimized button {\n        width: var(--iconWidth);\n        height: var(--iconHeight);\n        margin-bottom: 0.2rem;\n        margin: auto;\n        display: inline-flex;\n        vertical-align: middle;\n        -webkit-box-align: center;\n        align-items: center;\n        -webkit-box-pack: center;\n        justify-content: center;\n        width: ",";\n        height: ",";\n      }\n\n      nav .minimized button.toggle-menu > * {\n        border: 2px solid var(--iconStrokeColor);\n        border-radius: var(--iconWidth);\n        width: var(--iconWidth);\n        height: var(--iconHeight);\n        margin: auto;\n      }\n\n      ia-icon-ellipses {\n        width: var(--iconWidth);\n        height: var(--iconHeight);\n      }\n\n      #menu {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        z-index: 3;\n        overflow: hidden;\n        transform: translateX(-",");\n        width: ",";\n        transform: translateX(calc("," * -1));\n        transition: ",";\n      }\n\n      #reader {\n        position: relative;\n        z-index: 1;\n        transform: translateX(0);\n        width: 100%;\n        display: flex;\n      }\n\n      #reader > * {\n        width: 100%;\n        display: flex;\n        flex: 1;\n      }\n\n      .open.overlay #reader {\n        transition: none;\n      }\n\n      .open #menu {\n        width: ",";\n        transform: translateX(0);\n        transition: ",";\n      }\n\n      .open.shift #reader {\n        width: calc(100% - ",");\n        margin-left: ",";\n        transition: ",";\n      }\n    "]);return _templateObject160=function(){return S},S}function _templateObject161(){var S=_taggedTemplateLiteral(['<ia-icon-share\n  style="width: var(--iconWidth); height: var(--iconHeight);"\n></ia-icon-share>']);return _templateObject161=function(){return S},S}function _templateObject162(){var S=_taggedTemplateLiteral(["<ia-icon-twitter></ia-icon-twitter>"]);return _templateObject162=function(){return S},S}function _templateObject163(){var S=_taggedTemplateLiteral(["<ia-icon-facebook></ia-icon-facebook>"]);return _templateObject163=function(){return S},S}function _templateObject164(){var S=_taggedTemplateLiteral(["<ia-icon-tumblr></ia-icon-tumblr>"]);return _templateObject164=function(){return S},S}function _templateObject165(){var S=_taggedTemplateLiteral(["<ia-icon-pinterest></ia-icon-pinterest>"]);return _templateObject165=function(){return S},S}function _templateObject166(){var S=_taggedTemplateLiteral(["<ia-icon-email></ia-icon-email>"]);return _templateObject166=function(){return S},S}function _templateObject167(){var S=_taggedTemplateLiteral(["<header><h3>Share this ","</h3></header>"]);return _templateObject167=function(){return S},S}function _templateObject168(){var S=_taggedTemplateLiteral([' <a class="share-option" href="','" target="_blank">\n              '," ","\n            </a>"]);return _templateObject168=function(){return S},S}function _templateObject169(){var S=_taggedTemplateLiteral(["\n      ","\n      <main>\n        ",'\n        <details>\n          <summary class="share-option">\n            <ia-icon-link></ia-icon-link>\n            Get an embeddable link\n          </summary>\n          <div class="embed">\n            <h4>Embed</h4>\n            <div class="code" @click=',">\n              <textarea readonly>",'</textarea>\n              <small>Copied to clipboard</small>\n            </div>\n            <h4>\n              Embed for wordpress.com hosted blogs and archive.org item\n              &lt;description&gt; tags\n            </h4>\n            <div class="code" @click=',">\n              <textarea readonly>","</textarea>\n              <small>Copied to clipboard</small>\n            </div>\n            <p>\n              Want more?\n              <a href=","\n                >Advanced embedding details, examples, and help</a\n              >!\n            </p>\n          </div>\n        </details>\n      </main>\n    "]);return _templateObject169=function(){return S},S}function _templateObject170(){var S=_taggedTemplateLiteral(['<ia-icon-share\n      style="width: var(--iconWidth); height: var(--iconHeight);"\n    ></ia-icon-share>']);return _templateObject170=function(){return S},S}function _templateObject171(){var S=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        height: 100%;\n        overflow-y: auto;\n        font-size: 1.4rem;\n        box-sizing: border-box;\n      }\n\n      header {\n        display: flex;\n        align-items: baseline;\n      }\n\n      h3 {\n        padding: 0;\n        margin: 0 1rem 0 0;\n        font-size: 1.6rem;\n      }\n\n      h4 {\n        font-size: 1.4rem;\n      }\n\n      main {\n        padding: 1rem 0;\n      }\n\n      .share-option {\n        display: block;\n        padding: 0.5rem 0;\n        font-size: 1.6rem;\n        text-decoration: none;\n        color: var(--shareLinkColor);\n        cursor: pointer;\n      }\n\n      .share-option > * {\n        display: inline-block;\n        padding: 0.2rem;\n        margin-right: 1rem;\n        vertical-align: middle;\n        border: 1px solid var(--shareIconBorder);\n        border-radius: 7px;\n        background: var(--shareIconBg);\n      }\n\n      /* Hide the triangle that appears on details tags */\n      summary::marker {\n        content: '';\n      }\n\n      summary::-webkit-details-marker {\n        display: none;\n      }\n\n      .embed {\n        padding-right: 5px;\n      }\n\n      .embed a {\n        color: var(--shareLinkColor);\n      }\n\n      .code {\n        position: relative;\n      }\n\n      textarea {\n        display: block;\n        width: 100%;\n        height: 120px;\n        padding: 0.8rem 1rem;\n        box-sizing: border-box;\n        resize: none;\n        cursor: pointer;\n        font:\n          normal 1.4rem 'Helvetica Neue',\n          Helvetica,\n          Arial,\n          sans-serif;\n        color: var(--textareaColor, #fff);\n        background: var(--textareaBg, #151515);\n      }\n\n      small {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        height: 3rem;\n        padding: 0.5rem 1rem;\n        box-sizing: border-box;\n        font:\n          normal 1.2rem/2rem 'Helvetica Neue',\n          Helvetica,\n          Arial,\n          sans-serif;\n        color: var(--textareaBg, #151515);\n        background: var(--textareaColor, #fff);\n        opacity: 0;\n        transition: opacity 300ms linear;\n      }\n      small.visible {\n        opacity: 1;\n      }\n    "]);return _templateObject171=function(){return S},S}function _templateObject172(){var S=_taggedTemplateLiteral(['\n  <svg\n    name="sort-asc"\n    height="18"\n    viewBox="0 0 18 18"\n    width="18"\n    xmlns="http://www.w3.org/2000/svg"\n  >\n    <g fill="none" fill-rule="evenodd">\n      <path\n        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"\n        stroke="#fff"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n        stroke-width="1.661538"\n        transform="matrix(1 0 0 -1 0 18.692308)"\n      />\n    </g>\n  </svg>\n']);return _templateObject172=function(){return S},S}function _templateObject173(){var S=_taggedTemplateLiteral(['\n  <svg\n    name="sort-desc"\n    height="18"\n    viewBox="0 0 18 18"\n    width="18"\n    xmlns="http://www.w3.org/2000/svg"\n  >\n    <g fill="none" fill-rule="evenodd">\n      <path\n        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"\n        stroke="#fff"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n        stroke-width="1.661538"\n      />\n    </g>\n  </svg>\n']);return _templateObject173=function(){return S},S}function _templateObject174(){var S=_taggedTemplateLiteral(['\n  <svg\n    name="sort-neutral"\n    height="18"\n    viewBox="0 0 18 18"\n    width="18"\n    xmlns="http://www.w3.org/2000/svg"\n  >\n    <g fill="#fff" fill-rule="evenodd">\n      <path\n        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"\n        fill-rule="nonzero"\n      />\n      <circle cx="13" cy="9" r="2" />\n    </g>\n  </svg>\n']);return _templateObject174=function(){return S},S}function _templateObject175(){var S=_taggedTemplateLiteral(['\n  <svg\n    height="24"\n    viewBox="0 0 24 24"\n    width="24"\n    xmlns="http://www.w3.org/2000/svg"\n    aria-labelledby="volumesTitleID volumesDescID"\n  >\n    <title id="volumesTitleID">Viewable Files</title>\n    <g fill="#ffffff">\n      <path\n        fill="#ffffff"\n        d="m9.83536396 0h10.07241114c.1725502.47117517.3378411.76385809.4958725.87804878.1295523.11419069.3199719.1998337.5712586.25692905.2512868.05709534.4704647.08564301.6575337.08564301h.2806036v15.24362526h-4.3355343v3.8106985h-4.44275v3.7250554h-12.01318261c-.27306495 0-.50313194-.085643-.69020098-.256929-.18706903-.1712861-.30936193-.3425721-.36687867-.5138581l-.06449694-.2785477v-14.2159091c0-.32815965.08627512-.5922949.25882537-.79240577.17255024-.20011086.34510049-.32150776.51765073-.36419068l.25882537-.0640244h3.36472977v-2.54767184c0-.31374722.08627513-.57067627.25882537-.77078714.17255025-.20011086.34510049-.32150776.51765074-.36419068l.25882536-.06402439h3.36472978v-2.56929047c0-.32815964.08627512-.5922949.25882537-.79240576.17255024-.20011087.34510049-.31430156.51765073-.34257207zm10.78355264 15.6294346v-13.53076498c-.2730649-.08536585-.4456152-.16380266-.5176507-.23531042-.1725502-.1424612-.2730649-.27078714-.3015441-.38497783v13.36031043h-9.87808272c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144124-.08962561.006929-.13988296.0640244-.05025735.0570953-.07538603.1427383-.07538603.256929s.02149898.210643.06449694.289357c.04299795.078714.08599591.1322062.12899387.1604767l.06449693.0216187h10.71905571zm-10.2449613-2.4412417h7.98003v-11.60421286h-7.98003zm1.6827837-9.41990022h4.6153002c.1725502 0 .3199718.05349224.4422647.16047672s.1834393.23891353.1834393.39578714c0 .15687362-.0611464.28519956-.1834393.38497783s-.2697145.1496674-.4422647.1496674h-4.6153002c-.1725503 0-.3199719-.04988913-.4422647-.1496674-.1222929-.09977827-.1834394-.22810421-.1834394-.38497783 0-.15687361.0611465-.28880266.1834394-.39578714.1222928-.10698448.2697144-.16047672.4422647-.16047672zm-6.08197737 13.50997782h7.72120467v-.8131929h-3.79610541c-.27306495 0-.49950224-.085643-.67931188-.256929-.17980964-.1712861-.29847284-.3425721-.35598958-.5138581l-.06449694-.2785477v-10.02023282h-2.82530086zm6.77217827-11.36890243h3.2139578c.1295522 0 .240956.05709534.3342113.17128603.0932554.11419069.139883.24972284.139883.40659645 0 .15687362-.0466276.28880267-.139883.39578714-.0932553.10698448-.2046591.16047672-.3342113.16047672h-3.2139578c-.1295523 0-.2373264-.05349224-.3233223-.16047672-.0859959-.10698447-.1289938-.23891352-.1289938-.39578714 0-.15687361.0429979-.29240576.1289938-.40659645s.19377-.17128603.3233223-.17128603zm-11.15043132 15.11557653h7.69942646v-.7491685h-3.79610539c-.25854616 0-.48135376-.0892462-.66842279-.2677384-.18706904-.1784922-.30936193-.3605876-.36687868-.546286l-.06449694-.2569291v-10.04101994h-2.80352266zm14.62237682-4.5606985h-.8191949v2.1410754h-9.89986085s-.04299796.0285477-.12899387.085643c-.08599592.0570954-.12201369.1427384-.10805331.2569291 0 .1141907.01786928.210643.05360784.289357.03573856.0787139.07538603.125.1189424.138858l.06449694.0432373h10.71905575v-2.9542683zm-4.3991936 3.8106985h-.8191949v2.077051h-9.8563045c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144125-.08962561.0105321-.13988296.0748337-.05025735.0643015-.07538603.1607538-.07538603.289357 0 .1141906.02149898.2070399.06449694.2785476.04299795.0715078.08599591.1141907.12899387.1280488l.06449693.0216186h10.69811519v-2.8686252z"\n      />\n    </g>\n  </svg>\n']);return _templateObject175=function(){return S},S}function _templateObject176(){var S=_taggedTemplateLiteral(['<div class="sort-multi-file-list">',"</div>"]);return _templateObject176=function(){return S},S}function _templateObject177(){var S=_taggedTemplateLiteral(['\n        <button\n          class="sort-by neutral-icon"\n          aria-label="Sort volumes in initial order"\n          @click=',"\n        >\n          ","\n        </button>\n      "]);return _templateObject177=function(){return S},S}function _templateObject178(){var S=_taggedTemplateLiteral(['\n        <button\n          class="sort-by asc-icon"\n          aria-label="Sort volumes in ascending order"\n          @click=',"\n        >\n          ","\n        </button>\n      "]);return _templateObject178=function(){return S},S}function _templateObject179(){var S=_taggedTemplateLiteral(['\n        <button\n          class="sort-by desc-icon"\n          aria-label="Sort volumes in descending order"\n          @click=',"\n        >\n          ","\n        </button>\n      "]);return _templateObject179=function(){return S},S}function _templateObject180(){var S=_taggedTemplateLiteral(["\n      button.sort-by {\n        padding: 0px;\n        background-color: transparent;\n        border: 0px;\n        --iconWidth: var(--menuSliderHeaderIconWidth);\n        --iconHeight: var(--menuSliderHeaderIconHeight);\n      }\n    "]);return _templateObject180=function(){return S},S}function _templateObject181(){var S=_taggedTemplateLiteral(['\n      <li class="content active">\n        <div class="separator"></div>\n        <a class="container" href="','">\n          <div class="image">\n            <img src="','" alt="preview" />\n          </div>\n          <div class="text">\n            <p class="item-title">',"</p>\n            <small>by: ","</small>\n          </div>\n        </a>\n      </li>\n    "]);return _templateObject181=function(){return S},S}function _templateObject182(){var S=_taggedTemplateLiteral(['<span class="pdf-label"\n      ><span class="sr-only">view this</span> PDF</span\n    >']);return _templateObject182=function(){return S},S}function _templateObject183(){var S=_taggedTemplateLiteral(['\n      <li>\n        <div class="separator"></div>\n        <div class="content','">\n          <a href=','>\n            <p class="item-title">\n              ',"","\n            </p>\n          </a>\n        </div>\n      </li>\n    "]);return _templateObject183=function(){return S},S}function _templateObject184(){var S=_taggedTemplateLiteral(["\n      <ul>\n        ",'\n        <div class="separator"></div>\n      </ul>\n    ']);return _templateObject184=function(){return S},S}function _templateObject185(){var S=_taggedTemplateLiteral([" "," "]);return _templateObject185=function(){return S},S}function _templateObject186(){var S=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        overflow-y: auto;\n        box-sizing: border-box;\n        color: var(--primaryTextColor);\n        margin-top: 14px;\n        margin-bottom: 2rem;\n        --activeBorderWidth: 2px;\n      }\n\n      a {\n        color: #ffffff;\n        text-decoration: none;\n      }\n\n      img {\n        width: 35px;\n        height: 45px;\n      }\n\n      ul {\n        padding: 0;\n        list-style: none;\n        margin: var(--activeBorderWidth) 0.5rem 1rem 0;\n      }\n\n      ul > li:first-child .separator {\n        display: none;\n      }\n\n      li {\n        cursor: pointer;\n        position: relative;\n      }\n\n      li .content {\n        padding: 2px 0 4px 2px;\n        border: var(--activeBorderWidth) solid transparent;\n        padding: 0.2rem 0 0.4rem 0.2rem;\n      }\n\n      li .content.active {\n        border: var(--activeBorderWidth) solid #538bc5;\n      }\n\n      li.content a {\n        display: flex;\n      }\n\n      small {\n        font-style: italic;\n        white-space: initial;\n      }\n\n      .container {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .item-title {\n        margin-block-start: 0em;\n        margin-block-end: 0em;\n        font-size: 14px;\n        font-weight: bold;\n        word-wrap: break-word;\n        padding-left: 5px;\n      }\n\n      .separator {\n        background-color: var(--secondaryBGColor);\n        width: 98%;\n        margin: 1px auto;\n        height: 1px;\n      }\n\n      .text {\n        padding-left: 10px;\n      }\n\n      .icon {\n        display: inline-block;\n        width: 14px;\n        height: 14px;\n        margin-left: 0.7rem;\n        border: 1px solid var(--primaryTextColor);\n        border-radius: 2px;\n        background: var(--activeButtonBg) 50% 50% no-repeat;\n      }\n\n      .pdf-label {\n        border: 1px solid;\n        padding: 2px 5px;\n        border-radius: 20px;\n        display: inline-block;\n        margin-left: 5px;\n        font-size: 0.9rem;\n      }\n\n      .pdf-label .sr-only {\n        position: absolute;\n        clip: rect(1px, 1px, 1px, 1px);\n        padding: 0;\n        border: 0;\n        height: 1px;\n        width: 1px;\n        overflow: hidden;\n      }\n    "]);return _templateObject186=function(){return S},S}function _templateObject187(){var S=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 40 40"\n  version="1.1"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="closeTitleID closeDescID"\n>\n  <title id="closeTitleID">Close icon</title>\n  <desc id="closeDescID">A line drawing of an X</desc>\n  <path d="m29.1923882 10.8076118c.5857864.5857865.5857864 1.535534 0 2.1213204l-7.0711162 7.0703398 7.0711162 7.0717958c.5857864.5857864.5857864 1.5355339 0 2.1213204-.5857865.5857864-1.535534.5857864-2.1213204 0l-7.0717958-7.0711162-7.0703398 7.0711162c-.5857864.5857864-1.5355339.5857864-2.1213204 0-.5857864-.5857865-.5857864-1.535534 0-2.1213204l7.0706602-7.0717958-7.0706602-7.0703398c-.5857864-.5857864-.5857864-1.5355339 0-2.1213204.5857865-.5857864 1.535534-.5857864 2.1213204 0l7.0703398 7.0706602 7.0717958-7.0706602c.5857864-.5857864 1.5355339-.5857864 2.1213204 0z" class="fill-color" fill-rule="evenodd"/>\n</svg>\n']);return _templateObject187=function(){return S},S}function _templateObject188(){var S=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject188=function(){return S},S}function _templateObject189(){var S=_taggedTemplateLiteral(['\n<svg\n  class="ia-logo"\n  viewBox="0 0 27 30"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="logoTitleID logoDescID"\n>\n  <title id="logoTitleID">Internet Archive logo</title>\n  <desc id="logoDescID">A line drawing of the Internet Archive headquarters building fa\xE7ade.</desc>\n  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n    <mask id="mask-2" class="fill-color">\n      <path d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z" id="path-1"></path>\n    </mask>\n    <use class="fill-color" xlink:href="#path-1"></use>\n    <g mask="url(#mask-2)" class="fill-color">\n      <path d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z" id="swatch"></path>\n    </g>\n  </g>\n</svg>\n']);return _templateObject189=function(){return S},S}function _templateObject190(){var S=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject190=function(){return S},S}function _templateObject191(){var S=_taggedTemplateLiteral(['<div class="logo-icon">',"</div>"]);return _templateObject191=function(){return S},S}function _templateObject192(){var S=_taggedTemplateLiteral(['<h1 class="title">',"</h1>"]);return _templateObject192=function(){return S},S}function _templateObject193(){var S=_taggedTemplateLiteral(['<h2 class="subtitle">',"</h2>"]);return _templateObject193=function(){return S},S}function _templateObject194(){var S=_taggedTemplateLiteral([' <h1 class="headline">',"</h1> "]);return _templateObject194=function(){return S},S}function _templateObject195(){var S=_taggedTemplateLiteral([' <p class="message">',"</p> "]);return _templateObject195=function(){return S},S}function _templateObject196(){var S=_taggedTemplateLiteral(['\n      <div class="modal-wrapper">\n        <div class="modal-container">\n          <header style="background-color: ','">\n            ',"\n            ","\n            ","\n            ",'\n          </header>\n          <section\n            class="modal-body"\n            style="background-color: ','"\n          >\n            <div class="content">\n              <div\n                class="processing-logo ','"\n              >\n                <ia-activity-indicator\n                  .mode=',"\n                ></ia-activity-indicator>\n              </div>\n              ","\n              ",'\n\n              <div class="slot-container">\n                <slot> </slot>\n              </div>\n            </div>\n          </section>\n        </div>\n      </div>\n    ']);return _templateObject196=function(){return S},S}function _templateObject197(){var S=_taggedTemplateLiteral(['\n      <button\n        type="button"\n        class="close-button"\n        tabindex="0"\n        @click=',"\n      >\n        ","\n      </button>\n    "]);return _templateObject197=function(){return S},S}function _templateObject198(){var S=_taggedTemplateLiteral(["var(--modalLogoSize, 6.5rem)"]);return _templateObject198=function(){return S},S}function _templateObject199(){var S=_taggedTemplateLiteral(["var(--processingImageSize, 7.5rem)"]);return _templateObject199=function(){return S},S}function _templateObject200(){var S=_taggedTemplateLiteral(["var(--modalCornerRadius, 1rem)"]);return _templateObject200=function(){return S},S}function _templateObject201(){var S=_taggedTemplateLiteral(["var(--modalBorder, 2px solid black)"]);return _templateObject201=function(){return S},S}function _templateObject202(){var S=_taggedTemplateLiteral(["var(--modalBottomMargin, 2.5rem)"]);return _templateObject202=function(){return S},S}function _templateObject203(){var S=_taggedTemplateLiteral(["var(--modalTopMargin, 5rem)"]);return _templateObject203=function(){return S},S}function _templateObject204(){var S=_taggedTemplateLiteral(["var(--modalHeaderBottomPadding, 0.5em)"]);return _templateObject204=function(){return S},S}function _templateObject205(){var S=_taggedTemplateLiteral(["var(--modalBottomPadding, 2rem)"]);return _templateObject205=function(){return S},S}function _templateObject206(){var S=_taggedTemplateLiteral(["var(--modalScrollOffset, 5px)"]);return _templateObject206=function(){return S},S}function _templateObject207(){var S=_taggedTemplateLiteral(["var(--modalTitleFontSize, 1.8rem)"]);return _templateObject207=function(){return S},S}function _templateObject208(){var S=_taggedTemplateLiteral(["var(--modalSubtitleFontSize, 1.4rem)"]);return _templateObject208=function(){return S},S}function _templateObject209(){var S=_taggedTemplateLiteral(["var(--modalHeadlineFontSize, 1.6rem)"]);return _templateObject209=function(){return S},S}function _templateObject210(){var S=_taggedTemplateLiteral(["var(--modalMessageFontSize, 1.4rem)"]);return _templateObject210=function(){return S},S}function _templateObject211(){var S=_taggedTemplateLiteral(["var(--modalTitleLineHeight, normal)"]);return _templateObject211=function(){return S},S}function _templateObject212(){var S=_taggedTemplateLiteral(["var(--modalSubtitleLineHeight, normal)"]);return _templateObject212=function(){return S},S}function _templateObject213(){var S=_taggedTemplateLiteral(["var(--modalHeadlineLineHeight, normal)"]);return _templateObject213=function(){return S},S}function _templateObject214(){var S=_taggedTemplateLiteral(["var(--modalMessageLineHeight, normal)"]);return _templateObject214=function(){return S},S}function _templateObject215(){var S=_taggedTemplateLiteral(["\n      .processing-logo {\n        margin: auto;\n        width: ",";\n        height: ",";\n      }\n\n      .processing-logo.hidden {\n        height: 1rem;\n      }\n\n      .processing-logo.hidden ia-activity-indicator {\n        display: none;\n      }\n\n      .modal-wrapper {\n        outline: none;\n      }\n\n      .modal-container {\n        border-radius: ",";\n        width: 100%;\n        margin-top: ",";\n      }\n\n      header {\n        position: relative;\n        background-color: #36a483;\n        color: white;\n        border-radius: calc(",") calc(",") 0 0;\n        border: ",";\n        border-bottom: 0;\n        text-align: center;\n        padding-bottom: ",";\n      }\n\n      .title {\n        margin: 0;\n        padding: 0;\n        font-size: ",";\n        font-weight: bold;\n        line-height: ",";\n      }\n\n      .subtitle {\n        margin: 0;\n        padding: 0;\n        font-weight: normal;\n        padding-top: 0;\n        font-size: ",";\n        line-height: ",";\n      }\n\n      .modal-body {\n        background-color: #f5f5f7;\n        border-radius: 0 0 calc(",") calc(",");\n        border: ",";\n        border-top: 0;\n        padding: 0 1rem calc("," - ",") 1rem;\n        color: #333;\n        margin-bottom: 2.5rem;\n        min-height: 5rem;\n      }\n\n      .content {\n        overflow-y: auto;\n        max-height: calc(100vh - (16.5rem + ","));\n        min-height: 5rem;\n        padding: 0 0 calc(",") 0;\n      }\n\n      .headline {\n        font-size: ",";\n        font-weight: bold;\n        text-align: center;\n        line-height: ",";\n        margin: 0;\n        padding: 0;\n      }\n\n      .message {\n        margin: 1rem 0 0 0;\n        text-align: center;\n        font-size: ",";\n        line-height: ",";\n      }\n\n      .logo-icon {\n        border-radius: 100%;\n        border: 3px solid #fff;\n        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),\n          0 2px 2px 0 rgba(0, 0, 0, 0.08);\n        width: ",";\n        height: ",";\n        margin: -2.9rem auto 0.5rem auto;\n        background-color: black;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n\n      .logo-icon svg {\n        width: calc("," * 0.65);\n        height: calc("," * 0.65);\n      }\n\n      .logo-icon svg .fill-color {\n        fill: white;\n      }\n\n      .logo-icon svg .stroke-color {\n        stroke: red;\n      }\n\n      .close-button {\n        position: absolute;\n        right: 1.2rem;\n        top: 1.2rem;\n        width: 2rem;\n        height: 2rem;\n        border-radius: 100%;\n        border: 0;\n        padding: 0;\n        cursor: pointer;\n        background-color: white;\n        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),\n          0 4px 4px 0 rgba(0, 0, 0, 0.08);\n      }\n\n      .sr-only {\n        position: absolute;\n        width: 1px;\n        height: 1px;\n        padding: 0;\n        margin: -1px;\n        overflow: hidden;\n        clip: rect(0, 0, 0, 0);\n        border: 0;\n      }\n\n      slot::slotted(.sr-only) {\n        position: absolute;\n        width: 1px;\n        height: 1px;\n        padding: 0;\n        margin: -1px;\n        overflow: hidden;\n        clip: rect(0, 0, 0, 0);\n        border: 0;\n      }\n    "]);return _templateObject215=function(){return S},S}function _templateObject216(){var S=_taggedTemplateLiteral(['\n      <div class="container">\n        <div class="backdrop" @click=',"></div>\n        <modal-template\n          @closeButtonPressed=",'\n          tabindex="0"\n        >\n          ',"\n        </modal-template>\n      </div>\n    "]);return _templateObject216=function(){return S},S}function _templateObject217(){var S=_taggedTemplateLiteral(["var(--modalBackdropColor, rgba(10, 10, 10, 0.9))"]);return _templateObject217=function(){return S},S}function _templateObject218(){var S=_taggedTemplateLiteral(["var(--modalBackdropZindex, 1000)"]);return _templateObject218=function(){return S},S}function _templateObject219(){var S=_taggedTemplateLiteral(["var(--modalWidth, 32rem)"]);return _templateObject219=function(){return S},S}function _templateObject220(){var S=_taggedTemplateLiteral(["var(--modalMaxWidth, 95%)"]);return _templateObject220=function(){return S},S}function _templateObject221(){var S=_taggedTemplateLiteral(["var(--modalZindex, 2000)"]);return _templateObject221=function(){return S},S}function _templateObject222(){var S=_taggedTemplateLiteral(["\n      .container {\n        width: 100%;\n        height: 100%;\n      }\n\n      .backdrop {\n        position: fixed;\n        top: 0;\n        left: 0;\n        background-color: ",";\n        width: 100%;\n        height: 100%;\n        z-index: ",";\n      }\n\n      modal-template {\n        outline: 0;\n        position: fixed;\n        top: 0;\n        left: 50%;\n        transform: translate(-50%, 0);\n        z-index: ",";\n        width: ",";\n        max-width: ",";\n      }\n    "]);return _templateObject222=function(){return S},S}function _templateObject223(){var S=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 24 24"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="visualAdjustmentTitleID visualAdjustmentDescID"\n>\n  <title id="visualAdjustmentTitleID">Visual adjustment</title>\n  <desc id="visualAdjustmentDescID">A circle with its left hemisphere filled</desc>\n  <path class="fill-color" d="m12 0c6.627417 0 12 5.372583 12 12s-5.372583 12-12 12-12-5.372583-12-12 5.372583-12 12-12zm0 2v20l.2664041-.0034797c5.399703-.1412166 9.7335959-4.562751 9.7335959-9.9965203 0-5.5228475-4.4771525-10-10-10z" fill-rule="evenodd" />\n</svg>\n']);return _templateObject223=function(){return S},S}function _templateObject224(){var S=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject224=function(){return S},S}function _templateObject225(){var S=_taggedTemplateLiteral(['\n  <svg\n    name="sort-asc"\n    height="18"\n    viewBox="0 0 18 18"\n    width="18"\n    xmlns="http://www.w3.org/2000/svg"\n  >\n    <g fill="none" fill-rule="evenodd">\n      <path\n        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"\n        stroke="#fff"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n        stroke-width="1.661538"\n        transform="matrix(1 0 0 -1 0 18.692308)"\n      />\n    </g>\n  </svg>\n']);return _templateObject225=function(){return S},S}function _templateObject226(){var S=_taggedTemplateLiteral(['\n  <svg\n    name="sort-desc"\n    height="18"\n    viewBox="0 0 18 18"\n    width="18"\n    xmlns="http://www.w3.org/2000/svg"\n  >\n    <g fill="none" fill-rule="evenodd">\n      <path\n        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"\n        fill="#fff"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"\n        stroke="#fff"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n        stroke-width="1.661538"\n      />\n    </g>\n  </svg>\n']);return _templateObject226=function(){return S},S}function _templateObject227(){var S=_taggedTemplateLiteral(['\n  <svg\n    name="sort-neutral"\n    height="18"\n    viewBox="0 0 18 18"\n    width="18"\n    xmlns="http://www.w3.org/2000/svg"\n  >\n    <g fill="#fff" fill-rule="evenodd">\n      <path\n        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"\n        fill-rule="nonzero"\n      />\n      <path\n        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"\n        fill-rule="nonzero"\n      />\n      <circle cx="13" cy="9" r="2" />\n    </g>\n  </svg>\n']);return _templateObject227=function(){return S},S}function _templateObject228(){var S=_taggedTemplateLiteral(['\n  <svg\n    height="24"\n    viewBox="0 0 24 24"\n    width="24"\n    xmlns="http://www.w3.org/2000/svg"\n    aria-labelledby="volumesTitleID volumesDescID"\n  >\n    <title id="volumesTitleID">Viewable Files</title>\n    <g fill="#ffffff">\n      <path\n        fill="#ffffff"\n        d="m9.83536396 0h10.07241114c.1725502.47117517.3378411.76385809.4958725.87804878.1295523.11419069.3199719.1998337.5712586.25692905.2512868.05709534.4704647.08564301.6575337.08564301h.2806036v15.24362526h-4.3355343v3.8106985h-4.44275v3.7250554h-12.01318261c-.27306495 0-.50313194-.085643-.69020098-.256929-.18706903-.1712861-.30936193-.3425721-.36687867-.5138581l-.06449694-.2785477v-14.2159091c0-.32815965.08627512-.5922949.25882537-.79240577.17255024-.20011086.34510049-.32150776.51765073-.36419068l.25882537-.0640244h3.36472977v-2.54767184c0-.31374722.08627513-.57067627.25882537-.77078714.17255025-.20011086.34510049-.32150776.51765074-.36419068l.25882536-.06402439h3.36472978v-2.56929047c0-.32815964.08627512-.5922949.25882537-.79240576.17255024-.20011087.34510049-.31430156.51765073-.34257207zm10.78355264 15.6294346v-13.53076498c-.2730649-.08536585-.4456152-.16380266-.5176507-.23531042-.1725502-.1424612-.2730649-.27078714-.3015441-.38497783v13.36031043h-9.87808272c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144124-.08962561.006929-.13988296.0640244-.05025735.0570953-.07538603.1427383-.07538603.256929s.02149898.210643.06449694.289357c.04299795.078714.08599591.1322062.12899387.1604767l.06449693.0216187h10.71905571zm-10.2449613-2.4412417h7.98003v-11.60421286h-7.98003zm1.6827837-9.41990022h4.6153002c.1725502 0 .3199718.05349224.4422647.16047672s.1834393.23891353.1834393.39578714c0 .15687362-.0611464.28519956-.1834393.38497783s-.2697145.1496674-.4422647.1496674h-4.6153002c-.1725503 0-.3199719-.04988913-.4422647-.1496674-.1222929-.09977827-.1834394-.22810421-.1834394-.38497783 0-.15687361.0611465-.28880266.1834394-.39578714.1222928-.10698448.2697144-.16047672.4422647-.16047672zm-6.08197737 13.50997782h7.72120467v-.8131929h-3.79610541c-.27306495 0-.49950224-.085643-.67931188-.256929-.17980964-.1712861-.29847284-.3425721-.35598958-.5138581l-.06449694-.2785477v-10.02023282h-2.82530086zm6.77217827-11.36890243h3.2139578c.1295522 0 .240956.05709534.3342113.17128603.0932554.11419069.139883.24972284.139883.40659645 0 .15687362-.0466276.28880267-.139883.39578714-.0932553.10698448-.2046591.16047672-.3342113.16047672h-3.2139578c-.1295523 0-.2373264-.05349224-.3233223-.16047672-.0859959-.10698447-.1289938-.23891352-.1289938-.39578714 0-.15687361.0429979-.29240576.1289938-.40659645s.19377-.17128603.3233223-.17128603zm-11.15043132 15.11557653h7.69942646v-.7491685h-3.79610539c-.25854616 0-.48135376-.0892462-.66842279-.2677384-.18706904-.1784922-.30936193-.3605876-.36687868-.546286l-.06449694-.2569291v-10.04101994h-2.80352266zm14.62237682-4.5606985h-.8191949v2.1410754h-9.89986085s-.04299796.0285477-.12899387.085643c-.08599592.0570954-.12201369.1427384-.10805331.2569291 0 .1141907.01786928.210643.05360784.289357.03573856.0787139.07538603.125.1189424.138858l.06449694.0432373h10.71905575v-2.9542683zm-4.3991936 3.8106985h-.8191949v2.077051h-9.8563045c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144125-.08962561.0105321-.13988296.0748337-.05025735.0643015-.07538603.1607538-.07538603.289357 0 .1141906.02149898.2070399.06449694.2785476.04299795.0715078.08599591.1141907.12899387.1280488l.06449693.0216186h10.69811519v-2.8686252z"\n      />\n    </g>\n  </svg>\n']);return _templateObject228=function(){return S},S}function _templateObject229(){var S=_taggedTemplateLiteral(['<div class="sort-multi-file-list">',"</div>"]);return _templateObject229=function(){return S},S}function _templateObject230(){var S=_taggedTemplateLiteral(['\n        <button\n          class="sort-by neutral-icon"\n          aria-label="Sort volumes in initial order"\n          @click=',"\n        >\n          ","\n        </button>\n      "]);return _templateObject230=function(){return S},S}function _templateObject231(){var S=_taggedTemplateLiteral(['\n        <button\n          class="sort-by asc-icon"\n          aria-label="Sort volumes in ascending order"\n          @click=',"\n        >\n          ","\n        </button>\n      "]);return _templateObject231=function(){return S},S}function _templateObject232(){var S=_taggedTemplateLiteral(['\n        <button\n          class="sort-by desc-icon"\n          aria-label="Sort volumes in descending order"\n          @click=',"\n        >\n          ","\n        </button>\n      "]);return _templateObject232=function(){return S},S}function _templateObject233(){var S=_taggedTemplateLiteral(["\n      button.sort-by {\n        padding: 0px;\n        background-color: transparent;\n        border: 0px;\n        --iconWidth: var(--menuSliderHeaderIconWidth);\n        --iconHeight: var(--menuSliderHeaderIconHeight);\n      }\n    "]);return _templateObject233=function(){return S},S}function _templateObject234(){var S=_taggedTemplateLiteral(['\n      <li class="content active">\n        <div class="separator"></div>\n        <a class="container" href="','">\n          <div class="image">\n            <img src="','" alt="preview" />\n          </div>\n          <div class="text">\n            <p class="item-title">',"</p>\n            <small>by: ","</small>\n          </div>\n        </a>\n      </li>\n    "]);return _templateObject234=function(){return S},S}function _templateObject235(){var S=_taggedTemplateLiteral(['<span class="pdf-label"\n      ><span class="sr-only">view this</span> PDF</span\n    >']);return _templateObject235=function(){return S},S}function _templateObject236(){var S=_taggedTemplateLiteral(['\n      <li>\n        <div class="separator"></div>\n        <div class="content','">\n          <a href=','>\n            <p class="item-title">\n              ',"","\n            </p>\n          </a>\n        </div>\n      </li>\n    "]);return _templateObject236=function(){return S},S}function _templateObject237(){var S=_taggedTemplateLiteral(["\n      <ul>\n        ",'\n        <div class="separator"></div>\n      </ul>\n    ']);return _templateObject237=function(){return S},S}function _templateObject238(){var S=_taggedTemplateLiteral([" "," "]);return _templateObject238=function(){return S},S}function _templateObject239(){var S=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        overflow-y: auto;\n        box-sizing: border-box;\n        color: var(--primaryTextColor);\n        margin-top: 14px;\n        margin-bottom: 2rem;\n        --activeBorderWidth: 2px;\n      }\n\n      a {\n        color: #ffffff;\n        text-decoration: none;\n      }\n\n      img {\n        width: 35px;\n        height: 45px;\n      }\n\n      ul {\n        padding: 0;\n        list-style: none;\n        margin: var(--activeBorderWidth) 0.5rem 1rem 0;\n      }\n\n      ul > li:first-child .separator {\n        display: none;\n      }\n\n      li {\n        cursor: pointer;\n        position: relative;\n      }\n\n      li .content {\n        padding: 2px 0 4px 2px;\n        border: var(--activeBorderWidth) solid transparent;\n        padding: 0.2rem 0 0.4rem 0.2rem;\n      }\n\n      li .content.active {\n        border: var(--activeBorderWidth) solid #538bc5;\n      }\n\n      li.content a {\n        display: flex;\n      }\n\n      small {\n        font-style: italic;\n        white-space: initial;\n      }\n\n      .container {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .item-title {\n        margin-block-start: 0em;\n        margin-block-end: 0em;\n        font-size: 14px;\n        font-weight: bold;\n        word-wrap: break-word;\n        padding-left: 5px;\n      }\n\n      .separator {\n        background-color: var(--secondaryBGColor);\n        width: 98%;\n        margin: 1px auto;\n        height: 1px;\n      }\n\n      .text {\n        padding-left: 10px;\n      }\n\n      .icon {\n        display: inline-block;\n        width: 14px;\n        height: 14px;\n        margin-left: 0.7rem;\n        border: 1px solid var(--primaryTextColor);\n        border-radius: 2px;\n        background: var(--activeButtonBg) 50% 50% no-repeat;\n      }\n\n      .pdf-label {\n        border: 1px solid;\n        padding: 2px 5px;\n        border-radius: 20px;\n        display: inline-block;\n        margin-left: 5px;\n        font-size: 0.9rem;\n      }\n\n      .pdf-label .sr-only {\n        position: absolute;\n        clip: rect(1px, 1px, 1px, 1px);\n        padding: 0;\n        border: 0;\n        height: 1px;\n        width: 1px;\n        overflow: hidden;\n      }\n    "]);return _templateObject239=function(){return S},S}function _templateObject240(){var S=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      #hollow,\n      #plus,\n      #minus {\n        display: none;\n      }\n\n      .hollow #filled,\n      .plus #filled,\n      .minus #filled {\n        display: none;\n      }\n\n      .hollow #hollow,\n      .plus #hollow,\n      .minus #hollow {\n        display: block;\n      }\n\n      .plus #plus {\n        display: block;\n      }\n\n      .minus #minus {\n        display: block;\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject240=function(){return S},S}function _templateObject241(){var S=_taggedTemplateLiteral(["\n      <div class=",'>\n        <svg\n          height="24"\n          viewBox="0 0 16 24"\n          width="16"\n          xmlns="http://www.w3.org/2000/svg"\n          aria-labelledby="bookmarkTitleID bookmarDescID"\n        >\n          <title id="bookmarkTitleID">Bookmark icon</title>\n          <desc id="bookmarkDescID">An outline of the shape of a bookmark</desc>\n          <path\n            id="filled"\n            d="m1 0h14c.5522847 0 1 .44771525 1 1v23l-8-5.4545455-8 5.4545455v-23c0-.55228475.44771525-1 1-1z"\n            class="fill-color"\n            fill-rule="evenodd"\n          />\n          <g class="fill-color" fill-rule="evenodd">\n            <path\n              id="hollow"\n              d="m15 0c.5522847 0 1 .44771525 1 1v23l-8-5.4545455-8 5.4545455v-23c0-.55228475.44771525-1 1-1zm-2 2h-10c-.51283584 0-.93550716.38604019-.99327227.88337887l-.00672773.11662113v18l6-4.3181818 6 4.3181818v-18c0-.51283584-.3860402-.93550716-.8833789-.99327227z"\n            />\n            <path\n              id="plus"\n              d="m8.75 6v2.25h2.25v1.5h-2.25v2.25h-1.5v-2.25h-2.25v-1.5h2.25v-2.25z"\n              fill-rule="nonzero"\n            />\n            <path id="minus" d="m11 8.25v1.5h-6v-1.5z" fill-rule="nonzero" />\n          </g>\n        </svg>\n      </div>\n    ']);return _templateObject241=function(){return S},S}function _templateObject242(){var S=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 100 100"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="searchTitleID searchDescID"\n>\n  <title id="searchTitleID">Search icon</title>\n  <desc id="searchDescID">Search for something.</desc>\n  <path\n    class="fill-color"\n    fill="none"\n    d="m17.0555551 41.3194459c0-12.7430552 10.3541664-23.1027772 23.0847216-23.1027772 12.7166664 0 23.0777773 10.359722 23.0777773 23.1027772 0 12.7361108-10.3611109 23.0986106-23.0777773 23.0986106-12.7305552 0-23.0847216-10.3624998-23.0847216-23.0986106zm-17.24305512 0c0 22.2916661 18.04583292 40.3472213 40.32777672 40.3472213 8.9208332 0 17.145833-2.9319449 23.8194439-7.8527776l24.1513883 24.0777771c1.2125 1.1402778 2.8430555 1.8430556 4.6374999 1.8430556 3.7444443 0 6.7805554-3.0361111 6.7805554-6.7791665 0-2.0652778-.9222222-3.9069444-2.3736111-5.1499999l-23.718055-23.7458328c4.4152777-6.4791665 7.0152776-14.3055552 7.0152776-22.7402772 0-22.2791661-18.0458328-40.34861006-40.312499-40.34861006-22.2819438 0-40.32777672 18.06944396-40.32777672 40.34861006z" />\n</svg>\n']);return _templateObject242=function(){return S},S}function _templateObject243(){var S=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject243=function(){return S},S}function _templateObject244(){var S=_taggedTemplateLiteral(['<ia-icon-share\n  style="width: var(--iconWidth); height: var(--iconHeight);"\n></ia-icon-share>']);return _templateObject244=function(){return S},S}function _templateObject245(){var S=_taggedTemplateLiteral(["<ia-icon-twitter></ia-icon-twitter>"]);return _templateObject245=function(){return S},S}function _templateObject246(){var S=_taggedTemplateLiteral(["<ia-icon-facebook></ia-icon-facebook>"]);return _templateObject246=function(){return S},S}function _templateObject247(){var S=_taggedTemplateLiteral(["<ia-icon-tumblr></ia-icon-tumblr>"]);return _templateObject247=function(){return S},S}function _templateObject248(){var S=_taggedTemplateLiteral(["<ia-icon-pinterest></ia-icon-pinterest>"]);return _templateObject248=function(){return S},S}function _templateObject249(){var S=_taggedTemplateLiteral(["<ia-icon-email></ia-icon-email>"]);return _templateObject249=function(){return S},S}function _templateObject250(){var S=_taggedTemplateLiteral(["<header><h3>Share this ","</h3></header>"]);return _templateObject250=function(){return S},S}function _templateObject251(){var S=_taggedTemplateLiteral([' <a class="share-option" href="','" target="_blank">\n              '," ","\n            </a>"]);return _templateObject251=function(){return S},S}function _templateObject252(){var S=_taggedTemplateLiteral(["\n      ","\n      <main>\n        ",'\n        <details>\n          <summary class="share-option">\n            <ia-icon-link></ia-icon-link>\n            Get an embeddable link\n          </summary>\n          <div class="embed">\n            <h4>Embed</h4>\n            <div class="code" @click=',">\n              <textarea readonly>",'</textarea>\n              <small>Copied to clipboard</small>\n            </div>\n            <h4>\n              Embed for wordpress.com hosted blogs and archive.org item\n              &lt;description&gt; tags\n            </h4>\n            <div class="code" @click=',">\n              <textarea readonly>","</textarea>\n              <small>Copied to clipboard</small>\n            </div>\n            <p>\n              Want more?\n              <a href=","\n                >Advanced embedding details, examples, and help</a\n              >!\n            </p>\n          </div>\n        </details>\n      </main>\n    "]);return _templateObject252=function(){return S},S}function _templateObject253(){var S=_taggedTemplateLiteral(['<ia-icon-share\n      style="width: var(--iconWidth); height: var(--iconHeight);"\n    ></ia-icon-share>']);return _templateObject253=function(){return S},S}function _templateObject254(){var S=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        height: 100%;\n        overflow-y: auto;\n        font-size: 1.4rem;\n        box-sizing: border-box;\n      }\n\n      header {\n        display: flex;\n        align-items: baseline;\n      }\n\n      h3 {\n        padding: 0;\n        margin: 0 1rem 0 0;\n        font-size: 1.6rem;\n      }\n\n      h4 {\n        font-size: 1.4rem;\n      }\n\n      main {\n        padding: 1rem 0;\n      }\n\n      .share-option {\n        display: block;\n        padding: 0.5rem 0;\n        font-size: 1.6rem;\n        text-decoration: none;\n        color: var(--shareLinkColor);\n        cursor: pointer;\n      }\n\n      .share-option > * {\n        display: inline-block;\n        padding: 0.2rem;\n        margin-right: 1rem;\n        vertical-align: middle;\n        border: 1px solid var(--shareIconBorder);\n        border-radius: 7px;\n        background: var(--shareIconBg);\n      }\n\n      /* Hide the triangle that appears on details tags */\n      summary::marker {\n        content: '';\n      }\n\n      summary::-webkit-details-marker {\n        display: none;\n      }\n\n      .embed {\n        padding-right: 5px;\n      }\n\n      .embed a {\n        color: var(--shareLinkColor);\n      }\n\n      .code {\n        position: relative;\n      }\n\n      textarea {\n        display: block;\n        width: 100%;\n        height: 120px;\n        padding: 0.8rem 1rem;\n        box-sizing: border-box;\n        resize: none;\n        cursor: pointer;\n        font:\n          normal 1.4rem 'Helvetica Neue',\n          Helvetica,\n          Arial,\n          sans-serif;\n        color: var(--textareaColor, #fff);\n        background: var(--textareaBg, #151515);\n      }\n\n      small {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        height: 3rem;\n        padding: 0.5rem 1rem;\n        box-sizing: border-box;\n        font:\n          normal 1.2rem/2rem 'Helvetica Neue',\n          Helvetica,\n          Arial,\n          sans-serif;\n        color: var(--textareaBg, #151515);\n        background: var(--textareaColor, #fff);\n        opacity: 0;\n        transition: opacity 300ms linear;\n      }\n      small.visible {\n        opacity: 1;\n      }\n    "]);return _templateObject254=function(){return S},S}function _templateObject255(){var S=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 100 100"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="downloadTitleID downloadDescID"\n>\n  <title id="downloadTitleID">Download icon</title>\n  <desc id="downloadDescID">An arrow pointing downward at an empty document tray</desc>\n  <g class="fill-color">\n\n    <path d="m50 80 33.3333333-43.3333333h-20v-36.6666667h-26.6666666v36.6666667h-20zm50 20v-13.3333333h-100v13.3333333z"/>\n  </g>\n</svg>\n']);return _templateObject255=function(){return S},S}function _templateObject256(){var S=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject256=function(){return S},S}function _templateObject257(){var S=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 100 100"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="magnify-minusTitleID magnify-minusDescID"\n>\n  <title id="magnify-minusTitleID">Zoom out</title>\n  <desc id="magnify-minusDescID">Take a look further.</desc>\n  <g\n    class="fill-color"\n    fill="none"\n    fill-rule="nonzero"\n  >\n    <path d="m2.3239824 87.3815869 25.8938394-23.8143095c-4.5929593-6.6937643-6.889439-14.1059452-6.889439-22.2365428 0-7.1360431 1.7567382-13.7186647 5.2702146-19.7478649 3.5134763-6.0292002 8.2852035-10.8003118 14.3151815-14.31333499 6.029978-3.51302314 12.6134488-5.26953471 19.7504125-5.26953471s13.7204346 1.75651157 19.7504126 5.26953471c6.029978 3.51302319 10.8017051 8.28413479 14.3151815 14.31333499 3.5134763 6.0292002 5.2702145 12.6118218 5.2702145 19.7478649s-1.7567382 13.7324143-5.2702145 19.7891137c-3.5134764 6.0566994-8.2852035 10.8415607-14.3151815 14.3545838-6.029978 3.5130232-12.6134489 5.2695347-19.7504126 5.2695347-8.5762743 0-16.3217363-2.5723212-23.2363861-7.7169637l-26.3063807 24.2302349c-1.27200216 1.1618413-2.76631826 1.742762-4.48294825 1.742762-1.826641 0-3.38971397-.6496687-4.68921892-1.949006s-1.94925743-2.8622087-1.94925743-4.688614c0-1.9364022.7746608-3.5955208 2.3239824-4.9773557zm58.3436469-19.9162976c7.1919692 0 13.3331041-2.5585716 18.4234048-7.6757149s7.635451-11.2712357 7.635451-18.4622772-2.5451503-13.3313843-7.635451-18.4210284-11.2314356-7.6344661-18.4234048-7.6344661-13.3331042 2.544822-18.4234049 7.6344661-7.635451 11.2299869-7.635451 18.4210284 2.5451503 13.3451339 7.635451 18.4622772 11.2314357 7.6757149 18.4234049 7.6757149zm-14.9374313-21.3256316h31.2878163v-9.5422233h-31.2878163z"/>\n  </g>\n</svg>\n']);return _templateObject257=function(){return S},S}function _templateObject258(){var S=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject258=function(){return S},S}function _templateObject259(){var S=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 100 100"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="magnify-plusTitleID magnify-plusDescID"\n>\n  <title id="magnify-plusTitleID">Zoom in</title>\n  <desc id="magnify-plusDescID">Take a look closer.</desc>\n  <g\n    class="fill-color"\n    fill="none"\n    fill-rule="nonzero"\n  >\n    <path d="m2.40305276 87.4017263 25.81133064-23.7730295c-4.5356618-6.5723551-6.8034928-14.000283-6.8034928-22.2837838 0-7.1236734 1.7429868-13.6948847 5.2289603-19.7136338 3.4859736-6.0187491 8.2577006-10.7953163 14.3151813-14.32970144 6.0574806-3.53438517 12.6547027-5.30157776 19.7916662-5.30157776 10.8429591 0 20.0964884 3.85236545 27.760588 11.5570964 7.6640996 7.7047309 11.4950036 16.9684802 11.4927136 27.791248 0 10.8799585-3.8309059 20.1574336-11.4927136 27.8324254-7.6618077 7.6749917-16.915337 11.5124876-27.760588 11.5124876-8.6312796 0-16.431747-2.5678624-23.4014021-7.7035871l-26.1413636 24.188234c-1.21699671 1.2147305-2.73881553 1.8220957-4.56545649 1.8220957s-3.3897139-.6485425-4.68921882-1.9456276c-1.29950493-1.297085-1.94925739-2.8572473-1.94925739-4.6804867 0-1.8781426.80216353-3.5343852 2.4064906-4.9687279zm58.34020784-19.878343c7.1369635 0 13.264347-2.5678623 18.3821503-7.7035871 5.1178034-5.1357247 7.676705-11.2928753 7.676705-18.4714518s-2.5589016-13.3082755-7.676705-18.3890972c-5.1178033-5.0808217-11.2451868-7.6212325-18.3821503-7.6212325-7.2469746 0-13.4156121 2.5404108-18.5059127 7.6212325s-7.6354509 11.2105207-7.6354509 18.3890972 2.5589016 13.3357271 7.676705 18.4714518c5.1178033 5.1357248 11.2726895 7.7035871 18.4646586 7.7035871zm-13.3594607-21.8685793h10.206958v10.1879511h7.2194718v-10.1879511h10.206958v-7.206028h-10.206958v-10.187951h-7.2194718v10.187951h-10.206958z"/>\n  </g>\n</svg>\n']);return _templateObject259=function(){return S},S}function _templateObject260(){var S=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject260=function(){return S},S}function _templateObject261(){var S=_taggedTemplateLiteral(['\n<svg height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg" aria-labelledby="editPencilTitleID editPencilDescID"><title id="editPencilTitleID">Pencil icon</title><desc id="editPencilDescID">An illustration of a pencil, used to represent an edit action</desc><path class="fill-color" d="m15.6111048 9.3708338-9.52237183 9.5222966-5.14363353 1.0897111c-.42296707.0896082-.83849202-.1806298-.92810097-.6035935-.02266463-.1069795-.02266463-.2175207 0-.3245001l1.08971974-5.1435929 9.52237189-9.52229656zm-10.89310224 5.9110366-2.78094924-.5403869-.67567462 3.166657.83033407.8303275 3.16668096-.6756703zm14.82724244-12.05935921c.6114418.61143705.6055516 1.6086709-.0131615 2.22737904l-2.2405581 2.24054036-4.9820147-4.98197536 2.2405581-2.24054036c.618713-.61870814 1.6159506-.62460252 2.2273925-.01316547z" fill-rule="evenodd"/></svg>\n']);return _templateObject261=function(){return S},S}function _templateObject262(){var S=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject262=function(){return S},S}function _templateObject263(){var S=_taggedTemplateLiteral(["data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjEwIiB2aWV3Qm94PSIwIDAgMTMgMTAiIHdpZHRoPSIxMyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNC4zMzMzMzMzMyAxMC00LjMzMzMzMzMzLTQuMTY2NjY2NjcgMS43MzMzMzMzMy0xLjY2NjY2NjY2IDIuNiAyLjUgNi45MzMzMzMzNy02LjY2NjY2NjY3IDEuNzMzMzMzMyAxLjY2NjY2NjY3eiIgZmlsbD0iI2ZmZiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+"]);return _templateObject263=function(){return S},S}function _templateObject264(){var S=_taggedTemplateLiteral(["data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNDAgNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgYXJpYS1sYWJlbGxlZGJ5PSJjbG9zZVRpdGxlSUQgY2xvc2VEZXNjSUQiPjxwYXRoIGQ9Ik0yOS4xOTIgMTAuODA4YTEuNSAxLjUgMCAwMTAgMi4xMkwyMi4xMjIgMjBsNy4wNyA3LjA3MmExLjUgMS41IDAgMDEtMi4xMiAyLjEyMWwtNy4wNzMtNy4wNy03LjA3IDcuMDdhMS41IDEuNSAwIDAxLTIuMTIxLTIuMTJsNy4wNy03LjA3My03LjA3LTcuMDdhMS41IDEuNSAwIDAxMi4xMi0yLjEyMUwyMCAxNy44NzhsNy4wNzItNy4wN2ExLjUgMS41IDAgMDEyLjEyMSAweiIgY2xhc3M9ImZpbGwtY29sb3IiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg=="]);return _templateObject264=function(){return S},S}function _templateObject265(){var S=_taggedTemplateLiteral(["\n  .ia-button {\n    min-height: 3rem;\n    border: none;\n    outline: none;\n    cursor: pointer;\n    color: var(--primaryTextColor);\n    line-height: normal;\n    border-radius: .4rem;\n    text-align: center;\n    vertical-align: middle;\n    font-size: 1.4rem;\n    font-family: inherit;\n    display: inline-block;\n    padding: .6rem 1.2rem;\n    border: 1px solid transparent;\n\n    white-space: nowrap;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -o-user-select: none;\n    user-select: none;\n  }\n\n  .ia-button.link,\n  .ia-button.external {\n    min-height: unset;\n    text-decoration: none;\n  }\n\n  .ia-button:disabled,\n  .ia-button.disabled {\n    cursor: not-allowed;\n    opacity: 0.5;\n  }\n\n  .ia-button.transparent {\n    background-color: transparent;\n  }\n  \n  .ia-button.slim {\n    padding: 0;\n  }\n\n  .ia-button.primary {\n    background-color: var(--primaryCTAFill);\n    border-color: var(--primaryCTABorder);\n  }\n\n  .ia-button.cancel {\n    background-color: var(--primaryErrorCTAFill);\n    border-color: var(--primaryErrorCTABorder);\n  }\n\n  .ia-button.external {\n    background: var(--secondaryCTAFill);\n    border-color: var(--secondaryCTABorder);\n  }\n"]);return _templateObject265=function(){return S},S}function _templateObject266(){var S=_taggedTemplateLiteral(["<p>("," result",")</p>"]);return _templateObject266=function(){return S},S}function _templateObject267(){var S=_taggedTemplateLiteral(["<header>\n      <h3>Search inside</h3>\n      ","\n    </header>"]);return _templateObject267=function(){return S},S}function _templateObject268(){var S=_taggedTemplateLiteral(['\n      <input name="all_files" id="all_files" type="checkbox" />\n      <label class="checkbox" for="all_files">Search all files</label>\n    ']);return _templateObject268=function(){return S},S}function _templateObject269(){var S=_taggedTemplateLiteral(['\n      <div class="loading">\n        <ia-activity-indicator mode="processing"></ia-activity-indicator>\n        <p>Searching</p>\n        <button class="ia-button external cancel-search" @click=',">Cancel</button>\n      </div>\n    "]);return _templateObject269=function(){return S},S}function _templateObject270(){var S=_taggedTemplateLiteral(['<img src="','" />']);return _templateObject270=function(){return S},S}function _templateObject271(){var S=_taggedTemplateLiteral(["\n            <li @click=",">\n              ","\n              <h4>",'</h4>\n              <p class="page-num">Page ',"</p>\n              <p>","</p>\n            </li>\n          "]);return _templateObject271=function(){return S},S}function _templateObject272(){var S=_taggedTemplateLiteral(['\n      <ul class="results ','">\n        ',"\n      </ul>\n    "]);return _templateObject272=function(){return S},S}function _templateObject273(){var S=_taggedTemplateLiteral(['\n      <form action="" method="get" @submit=',">\n        <fieldset>\n          ",'\n          <input\n            type="search"\n            name="query"\n            alt="Search inside this book."\n            @keyup=',"\n            @search=","\n            .value=","\n          />\n        </fieldset>\n      </form>\n    "]);return _templateObject273=function(){return S},S}function _templateObject274(){var S=_taggedTemplateLiteral(['\n      <p class="error-message">',"</p>\n    "]);return _templateObject274=function(){return S},S}function _templateObject275(){var S=_taggedTemplateLiteral(['<p class="search-cta"><em>Please enter text to search for</em></p>']);return _templateObject275=function(){return S},S}function _templateObject276(){var S=_taggedTemplateLiteral(["\n      ","\n      ",'\n      <div class="results-container">\n        ',"\n        ","\n        ","\n        ","\n      </div>\n    "]);return _templateObject276=function(){return S},S}function _templateObject277(){var S=_taggedTemplateLiteral(["var(--searchResultText, #adaedc)"]);return _templateObject277=function(){return S},S}function _templateObject278(){var S=_taggedTemplateLiteral(["var(--searchResultBg, #272958)"]);return _templateObject278=function(){return S},S}function _templateObject279(){var S=_taggedTemplateLiteral(["var(--searchResultBorder, #adaedc)"]);return _templateObject279=function(){return S},S}function _templateObject280(){var S=_taggedTemplateLiteral(["(--tertiaryBGColor, #333)"]);return _templateObject280=function(){return S},S}function _templateObject281(){var S=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        height: 100%;\n        padding: 1.5rem 1rem 2rem 0;\n        overflow-y: auto;\n        font-size: 1.4rem;\n        box-sizing: border-box;\n      }\n\n      mark {\n        padding: 0 .2rem;\n        color: ",";\n        background: ",";\n        border: 1px solid ",';\n        border-radius: 2px;\n      }\n\n      h3 {\n        padding: 0;\n        margin: 0 1rem 0 0;\n        font-size: 2rem;\n      }\n\n      header {\n        display: flex;\n        align-items: center;\n        padding: 0 2rem 0 0;\n      }\n      header p {\n        padding: 0;\n        margin: 0;\n        font-size: 1.2rem;\n        font-weight: bold;\n        font-style: italic;\n      }\n\n      fieldset {\n        padding: 0 0 1rem 0;\n        border: none;\n      }\n\n      [type="checkbox"] {\n        display: none;\n      }\n\n      label {\n        display: block;\n        text-align: center;\n      }\n\n      label.checkbox {\n        padding-bottom: .5rem;\n        font-size: 1.6rem;\n        line-height: 150%;\n        vertical-align: middle;\n      }\n\n      label.checkbox:after {\n        display: inline-block;\n        width: 14px;\n        height: 14px;\n        margin-left: .7rem;\n        content: "";\n        border-radius: 2px;\n      }\n      :checked + label.checkbox:after {\n        background-image: url(\'','\');\n      }\n\n      label.checkbox[for="all_files"]:after {\n        background: ',' 50% 50% no-repeat;\n        border: 1px solid var(--primaryTextColor);\n      }\n\n      [type="search"] {\n        color: var(--primaryTextColor);\n        border: 1px solid var(--primaryTextColor);\n        -webkit-appearance: textfield;\n        width: 100%;\n        height: 3rem;\n        padding: 0 1.5rem;\n        box-sizing: border-box;\n        font: normal 1.6rem "Helvetica qNeue", Helvetica, Arial, sans-serif;\n        border-radius: 1.5rem;\n        background: transparent;\n      }\n      [type="search"]:focus {\n        outline: none;\n      }\n      [type="search"]::-webkit-search-cancel-button {\n        width: 18px;\n        height: 18px;\n        -webkit-appearance: none;\n        appearance: none;\n        -webkit-mask: url(\'',"') 0 0 no-repeat;\n        mask: url('","') 0 0 no-repeat;\n        -webkit-mask-size: 100%;\n        mask-size: 100%;\n        background: #fff;\n      }\n\n      p.page-num {\n        font-weight: bold;\n        padding-bottom: 0;\n      }\n\n      p.search-cta {\n        text-align: center;\n      }\n\n      .results-container {\n        padding-bottom: 2rem;\n      }\n\n      ul {\n        padding: 0 0 2rem 0;\n        margin: 0;\n        list-style: none;\n      }\n\n      ul.show-image li {\n        display: grid;\n      }\n\n      li {\n        cursor: pointer;\n        grid-template-columns: 30px 1fr;\n        grid-gap: 0 .5rem;\n      }\n\n      li img {\n        display: block;\n        width: 100%;\n      }\n\n      li h4 {\n        grid-column: 2 / 3;\n        padding: 0 0 2rem 0;\n        margin: 0;\n        font-weight: normal;\n      }\n\n      li p {\n        grid-column: 2 / 3;\n        padding: 0 0 1.5rem 0;\n        margin: 0;\n        font-size: 1.2rem;\n      }\n\n      .loading {\n        text-align: center;\n      }\n\n      .loading p {\n        padding: 0 0 1rem 0;\n        margin: 0;\n        font-size: 1.2rem;\n      }\n\n      ia-activity-indicator {\n        display: block;\n        width: 40px;\n        height: 40px;\n        margin: 0 auto;\n      }\n    "]);return _templateObject281=function(){return S},S}function _templateObject282(){var S=_taggedTemplateLiteral(["("," ",")"]);return _templateObject282=function(){return S},S}function _templateObject283(){var S=_taggedTemplateLiteral(['<p class="error">',"</p>"]);return _templateObject283=function(){return S},S}function _templateObject284(){var S=_taggedTemplateLiteral(["\n    <ia-book-search-results\n      .query=","\n      .results=","\n      .errorMessage=","\n      ?queryInProgress=","\n      ?renderSearchAllFiles=","\n      @resultSelected=","\n      @bookSearchInitiated=","\n      @bookSearchResultsCleared=","\n      @bookSearchCanceled=","\n    ></ia-book-search-results>\n  "]);return _templateObject284=function(){return S},S}function _templateObject285(){var S=_taggedTemplateLiteral(['<ia-icon-search style="width: var(--iconWidth); height: var(--iconHeight);"></ia-icon-search>']);return _templateObject285=function(){return S},S}function _templateObject286(){var S=_taggedTemplateLiteral(["<p>"," format","</p>"]);return _templateObject286=function(){return S},S}function _templateObject287(){var S=_taggedTemplateLiteral([""]);return _templateObject287=function(){return S},S}function _templateObject288(){var S=_taggedTemplateLiteral(["<h2>These files will expire in "," days.</h2>"]);return _templateObject288=function(){return S},S}function _templateObject289(){var S=_taggedTemplateLiteral([""]);return _templateObject289=function(){return S},S}function _templateObject290(){var S=_taggedTemplateLiteral(["<p>","</p>"]);return _templateObject290=function(){return S},S}function _templateObject291(){var S=_taggedTemplateLiteral([""]);return _templateObject291=function(){return S},S}function _templateObject292(){var S=_taggedTemplateLiteral(['\n        <li>\n          <a class="ia-button link primary" href="','">Get ',"</a>\n          ","\n        </li>\n      "]);return _templateObject292=function(){return S},S}function _templateObject293(){var S=_taggedTemplateLiteral(["\n      <header>\n        <h3>Downloadable files</h3>\n        ","\n      </header>\n    "]);return _templateObject293=function(){return S},S}function _templateObject294(){var S=_taggedTemplateLiteral(['\n      <p>To access downloaded books, you need Adobe-compliant software on your device. The Internet Archive will administer this loan, but Adobe may also collect some information.</p>\n      <a class="ia-button external primary" href="https://www.adobe.com/solutions/ebook/digital-editions/download.html" rel="noopener noreferrer" target="_blank">Install Adobe Digital Editions</a>\n    ']);return _templateObject294=function(){return S},S}function _templateObject295(){var S=_taggedTemplateLiteral(['\n    <p>For LCP downloads, make sure you have SimplyE or Aldiko Next installed on mobile or Thorium on desktop.</p>\n    <ul>\n      <li><a href="https://librarysimplified.org/simplye/" rel="noopener noreferrer nofollow" target="_blank">Install SimplyE</a></li>\n      <li><a href="https://www.demarque.com/en-aldiko" rel="noopener noreferrer nofollow" target="_blank">Install Aldiko</a></li>\n      <li><a href="https://www.edrlab.org/software/thorium-reader/" rel="noopener noreferrer nofollow" target="_blank">Install Thorium</a></li>\n    </ul>\n  ']);return _templateObject295=function(){return S},S}function _templateObject296(){var S=_taggedTemplateLiteral(["\n      ","\n      ","\n      <ul>","</ul>\n      ","\n    "]);return _templateObject296=function(){return S},S}function _templateObject297(){var S=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        height: 100%;\n        padding: 1.5rem 0;\n        overflow-y: auto;\n        font-size: 1.4rem;\n        box-sizing: border-box;\n      }\n\n      a.close ia-icon {\n        --iconWidth: 18px;\n        --iconHeight: 18px;\n      }\n      a.close {\n        justify-self: end;\n      }\n\n      header {\n        display: flex;\n        align-items: center;\n        padding: 0 2rem;\n      }\n      header p {\n        padding: 0;\n        margin: 0;\n        font-size: 1.2rem;\n        font-weight: bold;\n        font-style: italic;\n      }\n      header div {\n        display: flex;\n        align-items: baseline;\n      }      \n\n      h2 {\n        font-size: 1.6rem;\n      }\n\n      h3 {\n        padding: 0;\n        margin: 0 1rem 0 0;\n        font-size: 1.4rem;\n      }\n\n      ul {\n        padding: 0;\n        margin: 0;\n        list-style: none;\n      }\n\n      p {\n        margin: .3rem 0 0 0;\n      }\n\n      li,\n      ul + p {\n        padding-bottom: 1.2rem;\n        font-size: 1.2rem;\n        line-height: 140%;\n      }\n    "]);return _templateObject297=function(){return S},S}function _templateObject298(){var S=_taggedTemplateLiteral(["<ia-book-downloads .downloads=","></ia-book-downloads>"]);return _templateObject298=function(){return S},S}function _templateObject299(){var S=_taggedTemplateLiteral(['<ia-icon-dl style="width: var(--iconWidth); height: var(--iconHeight);"></ia-icon-dl>']);return _templateObject299=function(){return S},S}function _templateObject300(){var S=_taggedTemplateLiteral(["\n      <div class=",'>\n        <input\n          type="range"\n          name="','_range"\n          min=',"\n          max=","\n          step=","\n          .value=","\n          @input=","\n          @change=","\n        />\n        <p>","%</p>\n      </div>\n    "]);return _templateObject300=function(){return S},S}function _templateObject301(){var S=_taggedTemplateLiteral(['<li>\n      <label for="','">\n        <span class="name">','</span>\n        <input\n          type="checkbox"\n          name="','"\n          id="','"\n          @change=',"\n          ?checked=",'\n        />\n        <span class="icon"></span>\n      </label>\n      ',"\n    </li>"]);return _templateObject301=function(){return S},S}function _templateObject302(){var S=_taggedTemplateLiteral(["<p>("," active)</p>"]);return _templateObject302=function(){return S},S}function _templateObject303(){var S=_taggedTemplateLiteral(["<header>\n      <h3>Visual adjustments</h3>\n      ","\n    </header>"]);return _templateObject303=function(){return S},S}function _templateObject304(){var S=_taggedTemplateLiteral(['\n      <h4>Adjust zoom</h4>\n      <button class="zoom_out" @click=',' title="zoom out">\n        <ia-icon-magnify-minus></ia-icon-magnify-minus>\n      </button>\n      <button class="zoom_in" @click=',' title="zoom in">\n        <ia-icon-magnify-plus></ia-icon-magnify-plus>\n      </button>\n    ']);return _templateObject304=function(){return S},S}function _templateObject305(){var S=_taggedTemplateLiteral(["\n      ","\n      <ul>\n        ","\n      </ul>\n      ","\n    "]);return _templateObject305=function(){return S},S}function _templateObject306(){var S=_taggedTemplateLiteral(['\n    :host {\n      display: block;\n      height: 100%;\n      overflow-y: auto;\n      font-size: 1.4rem;\n      box-sizing: border-box;\n    }\n\n    header {\n      display: flex;\n      align-items: baseline;\n    }\n\n    h3 {\n      padding: 0;\n      margin: 0 1rem 0 0;\n      font-size: 1.6rem;\n    }\n\n    header p {\n      padding: 0;\n      margin: 0;\n      font-size: 1.2rem;\n      font-weight: bold;\n      font-style: italic;\n    }\n\n    ul {\n      padding: 1rem 2rem 0 0;\n      list-style: none;\n      margin-top: 0;\n    }\n\n    [type="checkbox"] {\n      display: none;\n    }\n\n    label {\n      display: flex;\n      justify-content: space-between;\n      align-items: baseline;\n      font-size: 1.4rem;\n      font-weight: bold;\n      line-height: 150%;\n      vertical-align: middle;\n    }\n\n    .icon {\n      display: inline-block;\n      width: 14px;\n      height: 14px;\n      margin-left: .7rem;\n      border: 1px solid var(--primaryTextColor);\n      border-radius: 2px;\n      background: var(--activeButtonBg) 50% 50% no-repeat;\n    }\n    :checked + .icon {\n      background-image: url(\'',"');\n    }\n\n    .range {\n      display: none;\n      padding-top: .5rem;\n    }\n    .range.visible {\n      display: flex;\n    }\n\n    .range p {\n      margin-left: 1rem;\n    }\n\n    h4 {\n      padding: 1rem 0;\n      margin: 0;\n      font-size: 1.4rem;\n    }\n\n    button {\n      -webkit-appearance: none;\n      appearance: none;\n      border: none;\n      border-radius: 0;\n      background: transparent;\n      outline: none;\n      cursor: pointer;\n      --iconFillColor: var(--primaryTextColor);\n      --iconStrokeColor: var(--primaryTextColor);\n      height: 4rem;\n      width: 4rem;\n    }\n\n    button * {\n      display: inline-block;\n    }"]);return _templateObject306=function(){return S},S}function _templateObject307(){var S=_taggedTemplateLiteral(['<ia-icon-visual-adjustment style="width: var(--iconWidth); height: var(--iconHeight);"></ia-icon-visual-adjustment>']);return _templateObject307=function(){return S},S}function _templateObject308(){var S=_taggedTemplateLiteral(["\n      <ia-book-visual-adjustments\n        .options=","\n        @visualAdjustmentOptionChanged=","\n        @visualAdjustmentZoomIn=","\n        @visualAdjustmentZoomOut=","\n      ></ia-book-visual-adjustments>\n    "]);return _templateObject308=function(){return S},S}function _templateObject309(){var S=_taggedTemplateLiteral(['\n      div {\n        display: flex;\n        justify-content: center;\n        padding-top: 2rem;\n      }\n\n      button {\n        appearance: none;\n        padding: 0.5rem 1rem;\n        margin: 0 .5rem;\n        box-sizing: border-box;\n        font: 1.3rem "Helvetica Neue", Helvetica, Arial, sans-serif;\n        color: var(--primaryTextColor);\n        border: none;\n        border-radius: 4px;\n        cursor: pointer;\n        background: var(--primaryCTAFill);\n      }\n\n      .delete {\n        background: var(--primaryErrorCTAFill);\n      }\n    ']);return _templateObject309=function(){return S},S}function _templateObject310(){var S=_taggedTemplateLiteral(['\n      <div>\n        <button class="delete" @click=',">Delete</button>\n        <button @click=",">Cancel</button>\n      </div>\n    "]);return _templateObject310=function(){return S},S}function _templateObject311(){var S=_taggedTemplateLiteral(["\n      button {\n        -webkit-appearance: none;\n        appearance: none;\n        outline: 0;\n        border: none;\n        padding: 0;\n        height: 4rem;\n        width: 4rem;\n        background: transparent;\n        cursor: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 16 24' width='16'%3E%3Cg fill='%23333' fill-rule='evenodd'%3E%3Cpath d='m15 0c.5522847 0 1 .44771525 1 1v23l-8-5.4545455-8 5.4545455v-23c0-.55228475.44771525-1 1-1zm-2 2h-10c-.51283584 0-.93550716.38604019-.99327227.88337887l-.00672773.11662113v18l6-4.3181818 6 4.3181818v-18c0-.51283584-.3860402-.93550716-.8833789-.99327227z'/%3E%3Cpath d='m8.75 6v2.25h2.25v1.5h-2.25v2.25h-1.5v-2.25h-2.25v-1.5h2.25v-2.25z' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E\"), pointer;\n        position: relative;\n      }\n      button > * {\n        display: block;\n        position: absolute;\n        top: 0.2rem;\n      }\n      button.left > * {\n        left: 0.2rem;\n      }\n\n      button.right > * {\n        right: 0.2rem;\n      }\n    "]);return _templateObject311=function(){return S},S}function _templateObject312(){var S=_taggedTemplateLiteral(["\n      <button title="," @click="," class=",">\n        <icon-bookmark state=","></icon-bookmark>\n      </button>\n    "]);return _templateObject312=function(){return S},S}function _templateObject313(){var S=_taggedTemplateLiteral(['\n      <p>A free account is required to save and access bookmarks.</p>\n      <a class="ia-button link primary" href="','">Log in</a>\n    ']);return _templateObject313=function(){return S},S}function _templateObject314(){var S=_taggedTemplateLiteral(["\n      .bookmarks {\n        height: 100%;\n        overflow: hidden;\n        padding-bottom: 20px;\n      }\n\n      .list ia-bookmark-edit {\n        display: none;\n      }\n\n      .edit ia-bookmarks-list {\n        display: none;\n      }\n    "]);return _templateObject314=function(){return S},S}function _templateObject315(){var S=_taggedTemplateLiteral(["\n        <bookmark-button\n          @bookmarkButtonClicked=","\n          state=","\n          side=","\n        ></bookmark-button>"]);return _templateObject315=function(){return S},S}function _templateObject316(){var S=_taggedTemplateLiteral(["\n      <delete-modal-actions\n        .deleteAction=","\n        .cancelAction=","\n        .pageID=","\n      ></delete-modal-actions>\n    "]);return _templateObject316=function(){return S},S}function _templateObject317(){var S=_taggedTemplateLiteral(['\n      <button\n        class="ia-button primary"\n        tabindex="-1"\n        ?disabled=',"\n        @click=",">\n        Add bookmark\n      </button>\n    "]);return _templateObject317=function(){return S},S}function _templateObject318(){var S=_taggedTemplateLiteral(["\n      <ia-bookmarks-list\n        @bookmarkEdited=","\n        @bookmarkSelected=","\n        @saveBookmark=","\n        @deleteBookmark=","\n        .editedBookmark=","\n        .bookmarks=","\n        .activeBookmarkID=","\n        .bookmarkColors=","\n        .defaultBookmarkColor=",">\n      </ia-bookmarks-list>\n    "]);return _templateObject318=function(){return S},S}function _templateObject319(){var S=_taggedTemplateLiteral(["<p>Please use 1up or 2up view modes to add bookmark.</p>"]);return _templateObject319=function(){return S},S}function _templateObject320(){var S=_taggedTemplateLiteral(["\n      ","\n      ","\n    "]);return _templateObject320=function(){return S},S}function _templateObject321(){var S=_taggedTemplateLiteral(["<bookmarks-login\n        @click=","\n        .url=","></bookmarks-login>"]);return _templateObject321=function(){return S},S}function _templateObject322(){var S=_taggedTemplateLiteral(['\n      <section class="bookmarks">\n      ',"\n      </section>\n    "]);return _templateObject322=function(){return S},S}function _templateObject323(){var S=_taggedTemplateLiteral(["\n  .blue {\n    --iconFillColor: var(--blueBookmarkColor, #0023f5);\n  }\n\n  .red {\n    --iconFillColor: var(--redBookmarkColor, #eb3223);\n  }\n\n  .green {\n    --iconFillColor: var(--greenBookmarkColor, #75ef4c);\n  }\n"]);return _templateObject323=function(){return S},S}function _templateObject324(){var S=_taggedTemplateLiteral(["<header>\n      <h3>Edit Bookmark</h3>\n    </header>"]);return _templateObject324=function(){return S},S}function _templateObject325(){var S=_taggedTemplateLiteral(['\n      <li>\n        <input type="radio" name="color" id="color_','" .value='," @change="," ?checked=",'>\n        <label for="color_','">\n          <icon-bookmark class=',"></icon-bookmark>\n        </label>\n      </li>\n    "]);return _templateObject325=function(){return S},S}function _templateObject326(){var S=_taggedTemplateLiteral(['\n      <div class="bookmark">\n        <img src='," />\n        <h4>Page ","</h4>\n      </div>\n    "]);return _templateObject326=function(){return S},S}function _templateObject327(){var S=_taggedTemplateLiteral(["\n      ","\n      ",'\n      <form action="" method="put" @submit=','>\n        <fieldset>\n          <label for="note">Note <small>(optional)</small></label>\n          <textarea rows="4" cols="80" name="note" id="note" @change=',">",'</textarea>\n          <label for="color">Bookmark color</label>\n          <ul>\n            ','\n          </ul>\n          <div class="actions">\n            <button type="button" class="ia-button cancel" @click=','>Delete</button>\n            <input class="ia-button" type="submit" value="Save">\n          </div>\n        </fieldset>\n      </form>\n    ']);return _templateObject327=function(){return S},S}function _templateObject328(){var S=_taggedTemplateLiteral(['\n    :host {\n      display: block;\n      padding: 0 1rem 2rem 1rem;\n      color: var(--primaryTextColor);\n    }\n\n    small {\n      font-style: italic;\n    }\n\n    .bookmark {\n      display: grid;\n      grid-template-columns: 37px 1fr;\n      grid-gap: 0 1rem;\n      align-items: center;\n    }\n\n    h4 {\n      margin: 0;\n      font-size: 1.4rem;\n    }\n\n    fieldset {\n      padding: 2rem 0 0 0;\n      border: none;\n    }\n\n    label {\n      display: block;\n      font-weight: bold;\n    }\n\n    p {\n      padding: 0;\n      margin: .5rem 0;\n      font-size: 1.2rem;\n      line-height: 120%;\n    }\n\n    textarea {\n      width: 100%;\n      margin-bottom: 2rem;\n      box-sizing: border-box;\n      font: normal 1.4rem "Helvetica Neue", Helvetica, Arial, sans-serif;\n      resize: vertical;\n    }\n\n    ul {\n      display: grid;\n      grid-template-columns: repeat(3, auto);\n      grid-gap: 0 2rem;\n      justify-content: start;\n      padding: 1rem 0 0 0;\n      margin: 0 0 2rem 0;\n      list-style: none;\n    }\n\n    li input {\n      display: none;\n    }\n\n    li label {\n      display: block;\n      min-width: 50px;\n      padding-top: .4rem;\n      text-align: center;\n      border: 1px solid transparent;\n      border-radius: 4px;\n      cursor: pointer;\n    }\n\n    li input:checked + label {\n      border-color: var(--primaryTextColor);\n    }\n\n    input[type="submit"] {\n      background: var(--primaryCTAFill);\n      border-color: var(--primaryCTABorder);\n    }\n\n    button {\n      background: var(--primaryErrorCTAFill);\n      border-color: var(--primaryErrorCTABorder);\n    }\n\n    .button {\n      -webkit-appearance: none;\n      appearance: none;\n      padding: .5rem 1rem;\n      box-sizing: border-box;\n      color: var(--primaryTextColor);\n      border: none;\n      border-radius: 4px;\n      cursor: pointer;\n    }\n\n    .actions {\n      display: grid;\n      grid-template-columns: auto auto;\n      grid-gap: 0 1rem;\n      justify-items: stretch;\n    }\n    ']);return _templateObject328=function(){return S},S}function _templateObject329(){var S=_taggedTemplateLiteral(["<p>","</p>"]);return _templateObject329=function(){return S},S}function _templateObject330(){var S=_taggedTemplateLiteral(["\n      <li\n        @click=",'\n        tabindex="0"\n        data-pageIndex=','\n      >\n        <div class="separator"></div>\n        <div class="content ','">\n          <button\n            class="edit"\n            @click=','\n            title="Edit this bookmark"\n          >\n            <ia-icon-edit-pencil></ia-icon-edit-pencil>\n          </button>\n          <h4>\n            <icon-bookmark class=',"></icon-bookmark>\n            <span> Page ","</span>\n          </h4>\n          ","\n          ","\n        </div>\n      </li>\n    "]);return _templateObject330=function(){return S},S}function _templateObject331(){var S=_taggedTemplateLiteral(["\n      <ia-bookmark-edit\n        .bookmark=","\n        .bookmarkColors=","\n        .defaultBookmarkColor=","\n        .showBookmark=","\n        @saveBookmark=","\n        @deleteBookmark=","\n        @bookmarkColorChanged=","\n      ></ia-bookmark-edit>\n    "]);return _templateObject331=function(){return S},S}function _templateObject332(){var S=_taggedTemplateLiteral(["<small>(",")</small>"]);return _templateObject332=function(){return S},S}function _templateObject333(){var S=_taggedTemplateLiteral(["<header>\n      <h3>\n        Bookmarks\n        ","\n      </h3>\n    </header>"]);return _templateObject333=function(){return S},S}function _templateObject334(){var S=_taggedTemplateLiteral(["\n      <ul>\n        ",'\n        <div class="separator"></div>\n      </ul>\n    ']);return _templateObject334=function(){return S},S}function _templateObject335(){var S=_taggedTemplateLiteral(["\n      ","\n      ","\n    "]);return _templateObject335=function(){return S},S}function _templateObject336(){var S=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        overflow-y: auto;\n        box-sizing: border-box;\n        color: var(--primaryTextColor);\n        margin-bottom: 2rem;\n        --activeBorderWidth: 2px;\n      }\n\n      icon-bookmark {\n        width: 16px;\n        height: 24px;\n      }\n\n      .separator {\n        background-color: var(--secondaryBGColor);\n        width: 98%;\n        margin: 1px auto;\n        height: 1px;\n      }\n\n      small {\n        font-style: italic;\n      }\n\n      h4 {\n        margin: 0;\n        font-size: 1.4rem;\n      }\n      h4 * {\n        display: inline-block;\n      }\n      h4 icon-bookmark {\n        vertical-align: bottom;\n      }\n      h4 span {\n        vertical-align: top;\n        padding-top: 1%;\n      }\n\n      p {\n        padding: 0;\n        margin: 5px 0 0 0;\n        width: 98%;\n        overflow-wrap: break-word;\n      }\n\n      ia-bookmark-edit {\n        margin: 5px 5px 3px 6px;\n      }\n\n      ul {\n        padding: 0;\n        list-style: none;\n        margin: var(--activeBorderWidth) 0.5rem 1rem 0;\n      }\n      ul > li:first-child .separator {\n        display: none;\n      }\n      li {\n        cursor: pointer;\n        outline: none;\n        position: relative;\n      }\n      li .content {\n        padding: 2px 0 4px 2px;\n        border: var(--activeBorderWidth) solid transparent;\n        padding: .2rem 0 .4rem .2rem;\n      }\n      li .content.active {\n        border: var(--activeBorderWidth) solid #538bc5;\n      }\n      li button.edit {\n        padding: 5px 2px 0 0;\n        background: transparent;\n        cursor: pointer;\n        height: 40px;\n        width: 40px;\n        position: absolute;\n        right: 2px;\n        top: 2px;\n        text-align: right;\n        -webkit-appearance: none;\n        appearance: none;\n        outline: none;\n        box-sizing: border-box;\n        border: none;\n      }\n      li button.edit > * {\n        display: block;\n        height: 100%;\n        width: 100%;\n      }\n    "]);return _templateObject336=function(){return S},S}function _templateObject337(){var S=_taggedTemplateLiteral(['<icon-bookmark state="hollow" style="--iconWidth: 16px; --iconHeight: 24px;"></icon-bookmark>']);return _templateObject337=function(){return S},S}function _templateObject338(){var S=_taggedTemplateLiteral(["",""]);return _templateObject338=function(){return S},S}function _templateObject339(){var S=_taggedTemplateLiteral(["<iaux-in-share-panel\n      .identifier=","\n      .type=","\n      .creator=","\n      .description=","\n      .baseHost=","\n      .fileSubPrefix=","\n    ></iaux-in-share-panel>"]);return _templateObject339=function(){return S},S}function _templateObject340(){var S=_taggedTemplateLiteral(["",""]);return _templateObject340=function(){return S},S}function _templateObject341(){var S=_taggedTemplateLiteral(['\n  <svg class="ia-logo" width="27" height="30" viewBox="0 0 27 30" xmlns="http://www.w3.org/2000/svg" aria-labelledby="logoTitleID logoDescID">\n    <title id="logoTitleID">Internet Archive logo</title>\n    <desc id="logoDescID">A line drawing of the Internet Archive headquarters building fa\xE7ade.</desc>\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n      <mask id="mask-2" fill="white">\n        <path d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z" id="path-1"></path>\n      </mask>\n      <use fill="#FFFFFF" xlink:href="#path-1"></use>\n      <g mask="url(#mask-2)" fill="#FFFFFF">\n        <path d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z" id="swatch"></path>\n      </g>\n    </g>\n  </svg>\n']);return _templateObject341=function(){return S},S}function _templateObject342(){var S=_taggedTemplateLiteral(["\n      <button\n        @click=",'\n        title="Exit fullscreen view"\n      >',"</button>\n    "]);return _templateObject342=function(){return S},S}function _templateObject343(){var S=_taggedTemplateLiteral(['<img class="cover-img" src=',' alt="cover image for ','">']);return _templateObject343=function(){return S},S}function _templateObject344(){var S=_taggedTemplateLiteral(['<div class="placeholder">',"</div>"]);return _templateObject344=function(){return S},S}function _templateObject345(){var S=_taggedTemplateLiteral(['<slot name="main"></slot>']);return _templateObject345=function(){return S},S}function _templateObject346(){var S=_taggedTemplateLiteral(['<div id="book-navigator__root">\n      ',"\n      ","\n    </div>\n  "]);return _templateObject346=function(){return S},S}function _templateObject347(){var S=_taggedTemplateLiteral(["\n    :host,\n    #book-navigator__root,\n    slot,\n    slot > * {\n      display: block;\n      height: inherit;\n      width: inherit;\n    }\n    .placeholder {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      flex-direction: column;\n      margin: 5%;\n    }\n    .cover-img {\n      max-height: 300px;\n    }\n  "]);return _templateObject347=function(){return S},S}function _templateObject348(){var S=_taggedTemplateLiteral(['\n      <div class="main-component">\n        <iaux-item-navigator\n          ?viewportInFullscreen=',"\n          .basehost=","\n          .item=","\n          .modal=","\n          .loaded=","\n          .sharedObserver=","\n          ?signedIn=","\n          .menuShortcuts=","\n          .menuContents=","\n          .openMenu=",'\n        >\n          <div slot="header">\n            <slot name="header"></slot>\n          </div>\n          <div slot="main">\n            <book-navigator\n              .modal=',"\n              .baseHost=","\n              .itemMD=","\n              ?signedIn=","\n              ?sideMenuOpen=","\n              .sharedObserver=","\n              @ViewportInFullScreen=","\n              @loadingStateUpdated=","\n              @updateSideMenu=","\n              @menuUpdated=","\n              @menuShortcutsUpdated=",'\n            >\n              <div slot="main">\n                <slot name="main"></slot>\n              </div>\n            </book-navigator>\n          </div>\n        </iaux-item-navigator>\n      </div>\n    ']);return _templateObject348=function(){return S},S}function _templateObject349(){var S=_taggedTemplateLiteral(['\n      :host {\n        display: block;\n        --primaryBGColor: var(--black, #000);\n        --secondaryBGColor: #222;\n        --tertiaryBGColor: #333;\n        --primaryTextColor: var(--white, #fff);\n        --primaryCTAFill: #194880;\n        --primaryCTABorder: #c5d1df;\n        --secondaryCTAFill: #333;\n        --secondaryCTABorder: #999;\n        --primaryErrorCTAFill: #e51c26;\n        --primaryErrorCTABorder: #f8c6c8;\n        background-color: var(--primaryBGColor);\n        position: relative;\n      }\n\n      :host([fullscreen]),\n      iaux-item-navigator[viewportinfullscreen] {\n        position: fixed;\n        inset: 0;\n        height: 100%;\n        min-height: unset;\n      }\n\n      .main-component {\n        height: 100%;\n        width: 100%;\n        min-height: inherit;\n      }\n\n      div[slot="header"],\n      div[slot="main"] {\n        display: flex;\n        width: 100%;\n      }\n\n      slot {\n        display: block;\n        flex: 1;\n      }\n\n      iaux-item-navigator {\n        min-height: var(--br-height, inherit);\n        height: var(--br-height, inherit);\n        display: block;\n        width: 100%;\n        color: var(--primaryTextColor);\n        --menuButtonLabelDisplay: block;\n        --menuWidth: 320px;\n        --menuSliderBg: var(--secondaryBGColor);\n        --activeButtonBg: var(--tertiaryBGColor);\n        --subpanelRightBorderColor: var(--secondaryCTABorder);\n        --animationTiming: 100ms;\n        --iconFillColor: var(--primaryTextColor);\n        --iconStrokeColor: var(--primaryTextColor);\n        --menuSliderHeaderIconHeight: 2rem;\n        --menuSliderHeaderIconWidth: 2rem;\n        --iconWidth: 2.4rem;\n        --iconHeight: 2.4rem;\n        --shareLinkColor: var(--primaryTextColor);\n        --shareIconBorder: var(--primaryTextColor);\n        --shareIconBg: var(--secondaryBGColor);\n        --activityIndicatorLoadingDotColor: var(--primaryTextColor);\n        --activityIndicatorLoadingRingColor: var(--primaryTextColor);\n      }\n    ']);return _templateObject349=function(){return S},S}function _templateObject350(){var S=_taggedTemplateLiteral(['\n<svg\n  viewBox="0 0 40 40"\n  version="1.1"\n  xmlns="http://www.w3.org/2000/svg"\n  aria-labelledby="audioTitleID audioDescID"\n>\n  <title id="audioTitleID">Audio icon</title>\n  <desc id="audioDescID">An illustration of an audio speaker.</desc>\n  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n    <g transform="translate(10, 8)" class="fill-color">\n      <path\n        d="M19.4264564,11.8585048 L19.4264564,20.7200433 C19.4264564,22.3657576 18.8838179,23.2519114 16.8489237,23.2519114 C12.2364969,23.125318 7.75972977,23.125318 3.14730298,23.2519114 C1.24806842,23.2519114 0.569770368,22.492351 0.569770368,20.7200433 L0.569770368,2.74377955 C0.569770368,1.09806526 1.11240881,0.211911416 3.14730298,0.211911416 C7.75972977,0.338504822 12.2364969,0.338504822 16.8489237,0.211911416 C18.7481583,0.211911416 19.4264564,0.971471855 19.4264564,2.74377955 C19.2907967,5.78202131 19.4264564,8.82026306 19.4264564,11.8585048 L19.4264564,11.8585048 Z M10.0659432,2.74377955 C8.16670861,2.74377955 6.67445288,4.13630702 6.67445288,5.90861471 C6.67445288,7.6809224 8.16670861,9.07344988 10.0659432,9.07344988 C11.9651777,9.07344988 13.4574335,7.6809224 13.4574335,5.90861471 C13.4574335,4.13630702 11.8295181,2.74377955 10.0659432,2.74377955 L10.0659432,2.74377955 Z M10.0659432,11.4787246 C7.21709133,11.4787246 5.04653754,13.6308125 5.04653754,16.1626806 C5.04653754,18.8211422 7.35275094,20.8466367 10.0659432,20.8466367 C12.914795,20.8466367 15.0853488,18.6945488 15.0853488,16.1626806 C15.0853488,13.6308125 12.7791354,11.4787246 10.0659432,11.4787246 L10.0659432,11.4787246 Z"\n      ></path>\n      <ellipse cx="10.2016028" cy="16.5690777" rx="1.35659611" ry="1.34075134"></ellipse>\n    </g>\n  </g>\n</svg>\n']);return _templateObject350=function(){return S},S}function _templateObject351(){var S=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject351=function(){return S},S}function _templateObject352(){var S=_taggedTemplateLiteral(['\n  <svg\n    height="12"\n    viewBox="0 0 12 12"\n    width="12"\n    xmlns="http://www.w3.org/2000/svg"\n    aria-labelledby="closeCircleTitleID closeCircleDescID"\n  >\n    <title id="closeCircleTitleID">Close circle icon</title>\n    <desc id="closeCircleDescID">A line drawing of an X in a circle</desc>\n    <path\n      d="m6 0c3.3137085 0 6 2.6862915 6 6s-2.6862915 6-6 6-6-2.6862915-6-6 2.6862915-6 6-6zm-2.3406945 2.96359116c-.19486814-.13499605-.46429254-.1157109-.63785889.05785545-.19526215.19526215-.19526215.51184463 0 .70710678l2.27155339 2.27144661-2.20567981 2.20557302-.05785545.06924789c-.13499605.19486814-.1157109.46429254.05785545.6378589.19526215.19526214.51184464.19526214.70710679 0l2.20557302-2.20567981 2.20557302 2.20567981.06924789.05785545c.19486814.13499605.46429254.1157109.6378589-.05785545.19526214-.19526215.19526214-.51184464 0-.70710679l-2.20567981-2.20557302 2.27155339-2.27144661.05785545-.06924789c.13499605-.19486814.1157109-.46429254-.05785545-.63785889-.19526215-.19526215-.51184463-.19526215-.70710678 0l-2.27144661 2.27155339-2.27144661-2.27155339z"\n      class="fill-color"\n      fill-rule="evenodd"\n    />\n  </svg>\n']);return _templateObject352=function(){return S},S}function _templateObject353(){var S=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor, #999);\n      }\n    "]);return _templateObject353=function(){return S},S}function _templateObject354(){var S=_taggedTemplateLiteral(["<a\n        href=","\n        @click=","\n        >","</a\n      >"]);return _templateObject354=function(){return S},S}function _templateObject355(){var S=_taggedTemplateLiteral(["<button\n        @click=","\n      >\n        ","\n      </button>"]);return _templateObject355=function(){return S},S}function _templateObject356(){var S=_taggedTemplateLiteral(["<li class=",">","</li>"]);return _templateObject356=function(){return S},S}function _templateObject357(){var S=_taggedTemplateLiteral(['<svg class="caret-up-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">\n    <path d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"\n      fill=""></path>\n  </svg>']);return _templateObject357=function(){return S},S}function _templateObject358(){var S=_taggedTemplateLiteral(['<svg class="caret-down-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">\n    <path d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"\n    fill=""></path>\n  </svg>']);return _templateObject358=function(){return S},S}function _templateObject359(){var S=_taggedTemplateLiteral(['<span class="caret">',"</span>"]);return _templateObject359=function(){return S},S}function _templateObject360(){var S=_taggedTemplateLiteral(['\n      <div class="ia-dropdown-group">\n        <button @click=',' class="click-main">\n          <span class="cta sr-only">Toggle ','</span>\n          <slot name="dropdown-label"></slot>\n          ','\n        </button>\n\n        <ul class="dropdown-main ','">\n          ',"\n        </ul>\n      </div>\n    "]);return _templateObject360=function(){return S},S}function _templateObject361(){var S=_taggedTemplateLiteral(["\n    :host {\n      display: inline;\n      color: var(--dropdownTextColor, #fff);\n    }\n\n    svg.caret-up-svg,\n    svg.caret-down-svg {\n      fill: var(--dropdownCaretColor, #fff);\n      vertical-align: middle;\n    }\n\n    button.click-main {\n      background: transparent;\n      color: inherit;\n      border: none;\n      cursor: pointer;\n      outline: inherit;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      align-content: center;\n      flex-wrap: nowrap;\n      flex-direction: row;\n      padding-left: 0;\n    }\n\n    button slot {\n      padding-right: 5px;\n      display: inline-block;\n    }\n\n    .ia-dropdown-group {\n      width: inherit;\n      height: inherit;\n      position: relative;\n    }\n\n    .sr-only {\n      border: 0 !important;\n      clip: rect(1px, 1px, 1px, 1px) !important;\n      -webkit-clip-path: inset(50%) !important;\n      clip-path: inset(50%) !important;\n      height: 1px !important;\n      margin: -1px !important;\n      overflow: hidden !important;\n      padding: 0 !important;\n      position: absolute !important;\n      width: 1px !important;\n      white-space: nowrap !important;\n    }\n\n    .caret svg {\n      height: var(--caretHeight, 10px);\n      width: var(--caretWidth, 20px);\n    }\n\n    ul {\n      z-index: var(--dropdownListZIndex, 1);\n    }\n\n    ul.dropdown-main.closed {\n      visibility: hidden;\n      height: 1px;\n      width: 1px;\n    }\n\n    ul.dropdown-main {\n      position: absolute;\n      list-style: none;\n      margin: 5px 0 0 0;\n      padding: 0;\n      color: var(--dropdownTextColor, #fff);\n      border-radius: 4px;\n      border: 1px solid var(--dropdownBorderColor, #fff);\n    }\n\n    ul.dropdown-main {\n      background: var(--dropdownBgColor, #333);\n    }\n\n    ul.dropdown-main li:hover:first-child {\n      border-top-color: var(--dropdownHoverBgColor, rgba(255, 255, 255, 0.3));\n    }\n\n    ul.dropdown-main li:hover:last-child {\n      border-bottom-color: var(\n        --dropdownHoverBgColor,\n        rgba(255, 255, 255, 0.3)\n      );\n    }\n\n    ul.dropdown-main li:hover:not(:first-child) {\n      border-top: 0.5px solid var(--dropdownHoverTopBottomBorderColor, #333);\n    }\n    ul.dropdown-main li:hover:not(:last-child) {\n      border-bottom: 0.5px solid var(--dropdownHoverTopBottomBorderColor, #333);\n    }\n\n    ul.dropdown-main li.selected:last-child {\n      border-bottom-color: var(--dropdownSelectedBgColor, #fff);\n    }\n\n    ul.dropdown-main li.selected:first-child {\n      border-top-color: var(--dropdownSelectedBgColor, #fff);\n    }\n\n    ul.dropdown-main li.selected > * {\n      background-color: var(--dropdownSelectedBgColor, #fff);\n      color: var(--dropdownSelectedTextColor, #2c2c2c);\n    }\n\n    ul.dropdown-main li:hover {\n      background-color: var(--dropdownHoverBgColor, rgba(255, 255, 255, 0.3));\n      color: var(--dropdownHoverTextColor, #fff);\n      list-style: none;\n      cursor: pointer;\n    }\n\n    ul.dropdown-main li:hover > * {\n      background-color: var(--dropdownHoverBgColor, rgba(255, 255, 255, 0.3));\n      color: var(--dropdownHoverTextColor, #fff);\n    }\n\n    ul.dropdown-main li {\n      background: var(--dropdownBgColor, #333);\n      list-style: none;\n      height: 30px;\n      cursor: pointer;\n      border-bottom: 0.5px solid var(--dropdownBgColor, #333);\n      border-top: 0.5px solid var(--dropdownBgColor, #333);\n    }\n\n    ul.dropdown-main li button {\n      background: none;\n      color: inherit;\n      border: none;\n      font: inherit;\n      cursor: pointer;\n      outline: inherit;\n    }\n\n    ul.dropdown-main li a {\n      text-decoration: none;\n      display: block;\n      box-sizing: border-box;\n    }\n\n    ul.dropdown-main li:first-child {\n      border-top-left-radius: 4px;\n      border-top-right-radius: 4px;\n    }\n\n    ul.dropdown-main li:last-child {\n      border-bottom-right-radius: 4px;\n      border-bottom-left-radius: 4px;\n    }\n\n    /* cover the list with the label */\n    ul.dropdown-main li > * > :first-child {\n      margin: 0;\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n      align-content: center;\n      flex-wrap: nowrap;\n      height: 100%;\n      padding: 5px 10px;\n      box-sizing: border-box;\n    }\n\n    ul.dropdown-main li > * {\n      width: 100%;\n      height: inherit;\n      color: var(--dropdownTextColor, #fff);\n      background: transparent;\n      padding: 0;\n    }\n  "]);return _templateObject361=function(){return S},S}function _templateObject362(){var S=_taggedTemplateLiteral(['\n      <div class="icon-label-container">\n        <slot name="icon"></slot>\n        <slot></slot>\n      </div>\n    ']);return _templateObject362=function(){return S},S}function _templateObject363(){var S=_taggedTemplateLiteral(["\n    :host {\n      display: block;\n      width: 100%;\n      height: 100%;\n      position: relative;\n    }\n\n    :host(.invert-icon-at-hover:hover) slot[name='icon'] {\n      filter: invert(1);\n    }\n\n    :host(.selected) {\n      background-color: var(--selectedBgColor, #fff);\n      color: var(--selectedTextColor, #2c2c2c);\n    }\n\n    :host(.invert-icon-at-selected.selected) slot[name='icon'] {\n      filter: invert(1);\n    }\n\n    div.icon-label-container {\n      display: flex;\n      width: 100%;\n      align-items: center;\n      justify-content: flex-start;\n      align-content: center;\n      flex-wrap: nowrap;\n      height: 100%;\n    }\n\n    slot[name='icon'] {\n      width: var(--iconWidth, 20px);\n      margin-right: var(--iconLabelGutterWidth, 10px);\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n      align-content: center;\n      flex-wrap: nowrap;\n      height: 100%;\n    }\n  "]);return _templateObject363=function(){return S},S}function _templateObject364(){var S=_taggedTemplateLiteral(["\n  section#radio {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n  }\n\n  #radio #selector-title {\n    margin-right: 5px;\n  }\n\n  #radio ul {\n    display: inline-block;\n  }\n\n  #radio ul {\n    border-radius: 50px;\n    display: inline-flex;\n    align-content: flex-start;\n    flex-wrap: nowrap;\n    justify-content: center;\n    align-items: center;\n  }\n\n  #radio li {\n    border: 1px solid #fff;\n  }\n\n  #radio li:first-child {\n    border-top-left-radius: 50px;\n    border-bottom-left-radius: 50px;\n    padding-left: 5px;\n  }\n  #radio li:first-child ia-icon-label {\n    margin-left: 5px;\n  }\n\n  #radio li:last-child {\n    border-top-right-radius: 50px;\n    border-bottom-right-radius: 50px;\n    padding-right: 10px;\n    padding-left: 5px;\n  }\n\n  #radio li:last-child ia-icon-label {\n    margin-right: 5px;\n  }\n\n  #radio li:not(:last-child) {\n    border-right: none;\n    padding-right: 5px;\n    padding-left: 5px;\n  }\n\n  /* Demarcate when hovering next to selected channel */\n  #radio li > ia-icon-label {\n    height: 30px;\n    padding: 5px;\n    box-sizing: border-box;\n  }\n  /* End demarcation */\n"]);return _templateObject364=function(){return S},S}function _templateObject365(){var S=_taggedTemplateLiteral(['<img\n    class="ia"\n    src="https://archive.org/images/music-theater/internet-archive.svg"\n    alt="Internet Archive logo"\n    style="height: 20px; width: 20px;"\n  />']);return _templateObject365=function(){return S},S}function _templateObject366(){var S=_taggedTemplateLiteral(['<img\n    class="ia-beta"\n    src="https://archive.org/images/music-theater/streaming.svg"\n    alt="Internet Archive beta player logo"\n    style="height: 20px; width: 20px;"\n  />']);return _templateObject366=function(){return S},S}function _templateObject367(){var S=_taggedTemplateLiteral(['<img\n    class="spotify"\n    src="https://archive.org/images/music-theater/spotify.svg"\n    alt="Spotify logo"\n    style="display: block;"\n  />']);return _templateObject367=function(){return S},S}function _templateObject368(){var S=_taggedTemplateLiteral(['<img\n    class="webamp"\n    src="https://archive.org/images/music-theater/webamp.svg"\n    alt="webamp logo"\n    style="height: 20px;"\n  />']);return _templateObject368=function(){return S},S}function _templateObject369(){var S=_taggedTemplateLiteral(['<img\n    class="youtube"\n    src="https://archive.org/images/music-theater/youtube.svg"\n    alt="youtube logo"\n    style="height: 20px; width: 20px; display: block;"\n  />']);return _templateObject369=function(){return S},S}function _templateObject370(){var S=_taggedTemplateLiteral(["\n    <ia-icon-label class=",'>\n      <span slot="icon" style=',">","</span>\n      <span>","</span>\n    </ia-icon-label>\n  "]);return _templateObject370=function(){return S},S}function _templateObject371(){var S=_taggedTemplateLiteral(["\n    <ia-icon-label class=",'>\n      <span slot="icon" style=',">","</span>\n      <span>","</span>\n    </ia-icon-label>\n  "]);return _templateObject371=function(){return S},S}function _templateObject372(){var S=_taggedTemplateLiteral(['\n  <ia-icon-label class="','">\n    <span slot="icon">',"</span>\n    <span>","</span>\n  </ia-icon-label>\n"]);return _templateObject372=function(){return S},S}function _templateObject373(){var S=_taggedTemplateLiteral(["\n    <ia-icon-label class=",'>\n      <span slot="icon" style=',">","</span>\n      <span>Webamp</span>\n    </ia-icon-label>\n  "]);return _templateObject373=function(){return S},S}function _templateObject374(){var S=_taggedTemplateLiteral(['\n  <ia-icon-label class="','">\n    <span slot="icon">',"</span>\n    <span>","</span>\n  </ia-icon-label>\n"]);return _templateObject374=function(){return S},S}function _templateObject375(){var S=_taggedTemplateLiteral(["\n    <a href="," @click=",">","</button>\n  "]);return _templateObject375=function(){return S},S}function _templateObject376(){var S=_taggedTemplateLiteral(["\n    <button @click=",' class="ia">\n      ',"\n    </button>\n  "]);return _templateObject376=function(){return S},S}function _templateObject377(){var S=_taggedTemplateLiteral(["<button\n  @click=",'\n  class="ia-beta"\n>\n  ',"\n</button>"]);return _templateObject377=function(){return S},S}function _templateObject378(){var S=_taggedTemplateLiteral(["<button\n  @click=",'\n  class="sp"\n>\n  ',"\n</button>"]);return _templateObject378=function(){return S},S}function _templateObject379(){var S=_taggedTemplateLiteral(["\n    <a href="," @click=",' class="wa">',"</button>\n  "]);return _templateObject379=function(){return S},S}function _templateObject380(){var S=_taggedTemplateLiteral(["<button\n  @click=",'\n  class="yt"\n>\n  ',"\n</button>"]);return _templateObject380=function(){return S},S}function _templateObject381(){var S=_taggedTemplateLiteral(["\n      <li class=",">\n        ","\n      </li>\n    "]);return _templateObject381=function(){return S},S}function _templateObject382(){var S=_taggedTemplateLiteral(["\n      <li class=",">\n        ","\n      </li>\n    "]);return _templateObject382=function(){return S},S}function _templateObject383(){var S=_taggedTemplateLiteral(["\n      <li class=",">\n        ","\n      </li>\n    "]);return _templateObject383=function(){return S},S}function _templateObject384(){var S=_taggedTemplateLiteral(["\n      <li class=",">\n        ","\n      </li>\n    "]);return _templateObject384=function(){return S},S}function _templateObject385(){var S=_taggedTemplateLiteral(["\n      <li class=",">\n        ","\n      </li>\n    "]);return _templateObject385=function(){return S},S}function _templateObject386(){var S=_taggedTemplateLiteral(["\n      <li class=",">\n        ","\n      </li>\n    "]);return _templateObject386=function(){return S},S}function _templateObject387(){var S=_taggedTemplateLiteral(["\n      <ia-dropdown\n        displayCaret\n        .options=","\n        .selectedOption=","\n        class=",'\n      >\n        <span slot="dropdown-label">',"</span>\n      </ia-dropdown>\n    "]);return _templateObject387=function(){return S},S}function _templateObject388(){var S=_taggedTemplateLiteral(['\n      <div id="selector-title"><h4>Play from:</h4></div>\n      <div>\n        <ul>\n          '," ","\n          ","\n          ","\n          ","\n        </ul>\n      </div>\n    "]);return _templateObject388=function(){return S},S}function _templateObject389(){var S=_taggedTemplateLiteral(["\n      <section\n        id=",'\n        class="'," ",'"\n      >\n        ',"\n      </section>\n    "]);return _templateObject389=function(){return S},S}function _templateObject390(){var S=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n      }\n\n      :host(:focus) {\n        outline: none;\n      }\n\n      section.radio ul,\n      section.radio h4 {\n        color: #fff;\n      }\n\n      section.radio.light h4 {\n        color: #222;\n      }\n\n      ia-dropdown.light {\n        --channel-selector-dropdown-text-color: #222;\n        color: var(--channel-selector-dropdown-text-color, #222);\n        --dropdownCaretColor: var(--channel-selector-dropdown-text-color, #222);\n      }\n\n      ia-dropdown {\n        --dropdownBgColor: #333;\n        --dropdownHoverBgColor: #474747;\n        color: var(--channel-selector-dropdown-text-color, #fff);\n        --dropdownCaretColor: var(--channel-selector-dropdown-text-color, #fff);\n      }\n\n      ia-dropdown.light img.ia,\n      ia-dropdown.light img.ia-beta,\n      ia-dropdown.light img.webamp {\n        filter: invert(1);\n      }\n\n      h4 {\n        margin: 0;\n      }\n\n      a:link,\n      a:visited,\n      a:active,\n      a {\n        color: inherit;\n        text-decoration: none;\n      }\n\n      button {\n        color: inherit;\n        background: none;\n        border: none;\n        padding: 0;\n        font: inherit;\n        cursor: pointer;\n        outline: inherit;\n        margin: 0;\n      }\n\n      li > *,\n      #dropdown .selected-option {\n        display: flex;\n        flex-direction: row;\n        flex-wrap: nowrap;\n        align-content: center;\n        justify-content: center;\n        align-items: center;\n        width: 100%;\n      }\n\n      li:hover {\n        background-color: var(--channel-selector-hover-bg-color, #474747);\n      }\n\n      li.selected {\n        background-color: #fff;\n        color: #2c2c2c;\n      }\n\n      ul,\n      li {\n        list-style-type: none;\n        padding: 0;\n        margin: 0;\n      }\n\n      li {\n        display: flex;\n        height: 30px;\n        background-color: #333;\n      }\n\n      #dropdown .close,\n      .sr-only {\n        width: 1px;\n        height: 1px;\n        padding: 0px;\n        margin: -1px;\n        overflow: hidden;\n        clip: rect(0px, 0px, 0px, 0px);\n        border: 0px;\n        display: block;\n      }\n\n      #radio .selected-option {\n        display: none;\n      }\n\n      li a.ia {\n        display: flex;\n      }\n\n      *[slot='dropdown-label'] img {\n        height: 30px !important;\n        width: 30px !important;\n        display: block;\n      }\n    "]);return _templateObject390=function(){return S},S}function _templateObject391(){var S=_taggedTemplateLiteral(['\n      <div class="no-image">\n        <ia-icon-audio class=',"></ia-icon-audio>\n      </div>\n    "]);return _templateObject391=function(){return S},S}function _templateObject392(){var S=_taggedTemplateLiteral(["\n    ia-icon-audio {\n      margin: auto;\n      display: block;\n      height: var(--imageHeight, 100%);\n      width: var(--imageWidth, 100%);\n      opacity: 0.8;\n    }\n    :host {\n      height: 100%;\n      width: 100%;\n    }\n\n    ia-icon-audio {\n      border: 1px solid #fff8;\n    }\n\n    ia-icon-audio.grad0 {\n      background: linear-gradient(\n        hsl(300, 80%, 55%),\n        hsl(330, 80%, 33%) 35%,\n        hsl(330, 80%, 22%) 70%,\n        hsl(0, 0%, 0%)\n      );\n    }\n\n    ia-icon-audio.grad1 {\n      background: linear-gradient(\n        hsl(200, 80%, 55%),\n        hsl(230, 80%, 33%) 35%,\n        hsl(230, 80%, 22%) 70%,\n        hsl(0, 0%, 0%)\n      );\n    }\n\n    ia-icon-audio.grad2 {\n      background: linear-gradient(\n        hsl(160, 80%, 55%),\n        hsl(190, 80%, 33%) 35%,\n        hsl(190, 80%, 22%) 70%,\n        hsl(0, 0%, 0%)\n      );\n    }\n\n    ia-icon-audio.grad3 {\n      background: linear-gradient(\n        hsl(250, 80%, 55%),\n        hsl(280, 80%, 33%) 35%,\n        hsl(280, 80%, 22%) 70%,\n        hsl(0, 0%, 0%)\n      );\n    }\n\n    ia-icon-audio.grad4 {\n      background: linear-gradient(\n        hsl(280, 80%, 55%),\n        hsl(310, 80%, 33%) 35%,\n        hsl(310, 80%, 22%) 70%,\n        hsl(0, 0%, 0%)\n      );\n    }\n\n    ia-icon-audio.grad5 {\n      background: linear-gradient(\n        hsl(340, 80%, 55%),\n        hsl(0, 80%, 33%) 35%,\n        hsl(0, 80%, 22%) 70%,\n        hsl(0, 0%, 0%)\n      );\n    }\n  "]);return _templateObject392=function(){return S},S}function _templateObject393(){var S=_taggedTemplateLiteral(['\n  <svg\n    id="more-inside-icon"\n    xmlns="http://www.w3.org/2000/svg"\n    viewBox="0 0 100 100"\n  >\n    <path\n      d="m96.8125698 30.0518396-12.4391845 11.1531924c-6.4532715-6.3905169-12.9677985-11.5730208-19.5435809-15.5475116s-12.5677954-6.5813314-17.976039-7.8205218c-5.4082436-1.2391903-10.6069142-1.851437-15.5960116-1.8369986-4.9890974.0149552-9.3415934.6580779-13.0574879 1.9296264-3.7158945 1.2715486-6.9635733 2.5779337-9.74303641 3.9191553-2.77946307 1.3412217-4.90933068 2.5788117-6.38960283 3.7127699l-2.06762666 1.7089107c7.29513996.9354669 14.2472986 2.8747038 20.856476 5.8177108 6.6091773 2.9430069 12.0620941 6.1781707 16.3587501 9.7054913 4.2966561 3.5273205 8.0790367 6.9908189 11.3471418 10.3904951 3.2681052 3.3996761 5.6276868 6.2214567 7.0787448 8.4653416l2.1765871 3.3658274-13.0786842 11.7265792 55.2609844 8.2580923z"\n      fill-rule="evenodd"\n      class="fill-color"\n    />\n  </svg>\n']);return _templateObject393=function(){return S},S}function _templateObject394(){var S=_taggedTemplateLiteral(['\n        <div class="no-images">\n          <iamusic-noimage .iaIdentifier=',"\n            >no image available</iamusic-noimage\n          >\n        </div>\n      "]);return _templateObject394=function(){return S},S}function _templateObject395(){var S=_taggedTemplateLiteral(["\n      <div\n        class=",'\n      >\n        <div class="flip-card-inner">\n          <div class="flip-card-front">','</div>\n          <div class="flip-card-back">',"</div>\n        </div>\n      </div>\n    "]);return _templateObject395=function(){return S},S}function _templateObject396(){var S=_taggedTemplateLiteral(["\n      <div class=",'>\n        <button\n          id="close-photo-viewer"\n          @click=','\n        >\n          <span class="sr-only">Click to close Photo Viewer.</span>\n          <ia-icon-close-circle></ia-icon-close-circle>\n        </button>\n        <ia-bookreader\n          .item=',"\n          .baseHost=","\n          .signedIn=",'\n          ><div slot="main"><slot name="main"></slot></div\n        ></ia-bookreader>\n      </div>\n    ']);return _templateObject396=function(){return S},S}function _templateObject397(){var S=_taggedTemplateLiteral(['\n      <div class="cover-art">\n        <button\n          class="click-for-photos"\n          @click=',"\n        >\n          <img\n            src=","\n            alt=","\n            @load=",'\n          />\n          <span class="sr-only">See all photos for ','</span>\n          <div id="see-more-cta">\n            <p><span>See more</span> <span>',"</span></p>\n          </div>\n        </button>\n      </div>\n    "]);return _templateObject397=function(){return S},S}function _templateObject398(){var S=_taggedTemplateLiteral(["\n    :host {\n      display: block;\n    }\n\n    :host[fullscreenactive],\n    .flip-card.fullscreenActive {\n      position: absolute;\n      inset: 0;\n      height: var(--linerNotesFullscreenHeight, 100vh);\n    }\n\n    div.no-images {\n      display: flex;\n      height: inherit;\n    }\n    div.no-images * {\n      --iconFillColor: white;\n      --iconHeight: 250px;\n      --iconWidth: 250px;\n      margin: auto;\n    }\n\n    ia-icon-texts {\n      height: 50px;\n      width: 50px;\n      --iconFillColor: white;\n      display: block;\n    }\n\n    button {\n      cursor: pointer;\n      border: 1px solid transparent;\n      background-color: transparent;\n    }\n\n    .cover-art,\n    button.click-for-photos {\n      height: inherit;\n      position: relative;\n      padding: 0;\n    }\n\n    button.click-for-photos {\n      display: flex;\n      margin: auto;\n      min-height: 30%;\n      min-width: 25%;\n    }\n\n    button.click-for-photos img {\n      display: block;\n      overflow: hidden;\n      object-fit: contain;\n      object-position: top;\n      max-width: 100%;\n      margin-top: 18px;\n      max-height: calc(var(--linerNotesInTheaterHeight, 100%) - 30px);\n    }\n\n    button.click-for-photos ia-icon-texts,\n    button#close-photo-viewer {\n      position: absolute;\n      top: 0;\n      right: 0;\n    }\n\n    button span.sr-only {\n      position: absolute;\n      height: 1px;\n      width: 1px;\n      top: 0;\n      left: 0;\n      visibility: hidden;\n    }\n\n    button#close-photo-viewer {\n      border: none;\n      z-index: 2;\n      padding: 0;\n    }\n\n    button#close-photo-viewer ia-icon-close-circle {\n      display: block;\n      padding: 10px;\n      --iconHeight: 20px;\n      --iconWidth: 20px;\n      --iconFillColor: #fff;\n    }\n\n    .flip-card {\n      width: 100%;\n      height: 100%;\n      perspective: 1000px;\n    }\n\n    .flip-card-inner {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      text-align: center;\n      transition: transform 0.6s;\n      transform-style: preserve-3d;\n    }\n\n    .flip-card.show-back .flip-card-inner {\n      transform: rotateY(180deg);\n    }\n\n    .flip-card.show-back .flip-card-front .cover-art {\n      transition: height 0.5s;\n      height: 100%;\n      visibility: hidden;\n    }\n\n    .flip-card-front,\n    .flip-card-back {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      background-color: transparent;\n      -webkit-backface-visibility: hidden;\n      backface-visibility: hidden;\n    }\n\n    .flip-card-back {\n      transform: rotateY(180deg);\n    }\n\n    .photo-viewer-container {\n      height: inherit;\n    }\n\n    ia-bookreader {\n      display: block;\n      background-color: transparent;\n    }\n\n    /* see more cta */\n    .flip-card #see-more-cta {\n      font-family: 'Helvetica Neue Bold', Helvetica, Arial, sans-serif;\n      font-weight: bold;\n      font-size: 14px;\n      align-self: end;\n      margin: 0;\n      position: absolute;\n      top: 0;\n      right: 0;\n    }\n    .flip-card #see-more-cta p {\n      display: inline-block;\n      margin: 0;\n      width: 90px;\n    }\n    .flip-card #see-more-cta svg {\n      position: absolute;\n      width: 16px;\n      margin-left: 0px;\n      top: 0;\n      right: 0;\n      margin-top: -2px;\n    }\n\n    .flip-card #see-more-cta {\n      color: white;\n    }\n    .flip-card #see-more-cta .fill-color {\n      fill: white;\n    }\n\n    .flip-card.light #see-more-cta {\n      color: #222;\n    }\n    .flip-card.light #see-more-cta .fill-color {\n      fill: #222;\n    }\n  "]);return _templateObject398=function(){return S},S}function _templateObject399(){var S=_taggedTemplateLiteral(['\n      <iframe\n        id="embed-iframe"\n        src="','"\n        width="100%"\n        height="200"\n        frameborder="0"\n        allowtransparency="true"\n        allow="encrypted-media"\n        title="YouTube Player"\n      ></iframe>\n    ']);return _templateObject399=function(){return S},S}function _templateObject400(){var S=_taggedTemplateLiteral(["\n        :host {\n          display: block;\n          width: 100%;\n          height: 100%;\n        }\n      "]);return _templateObject400=function(){return S},S}function _templateObject401(){var S=_taggedTemplateLiteral(['\n      <iframe\n        id="embed-iframe"\n        src="','"\n        width="100%"\n        height="80"\n        frameborder="0"\n        allowtransparency="true"\n        allow="encrypted-media"\n        title="Spotify Player"\n      ></iframe>\n    ']);return _templateObject401=function(){return S},S}function _templateObject402(){var S=_taggedTemplateLiteral(["<h3>Invalid Spotify URI: ","</h3>"]);return _templateObject402=function(){return S},S}function _templateObject403(){var S=_taggedTemplateLiteral(["\n        :host {\n          display: block;\n          width: 100%;\n          height: 100%;\n        }\n      "]);return _templateObject403=function(){return S},S}function _templateObject404(){var S=_taggedTemplateLiteral(["\n          <spotify-player .iaUrn=","></spotify-player>\n        "]);return _templateObject404=function(){return S},S}function _templateObject405(){var S=_taggedTemplateLiteral(["\n          <youtube-player .iaUrn=","></youtube-player>\n        "]);return _templateObject405=function(){return S},S}function _templateObject406(){var S=_taggedTemplateLiteral(["<iaux-photo-viewer\n            noimageavailable\n            .itemIdentifier=","></iaux-photo-viewer>"]);return _templateObject406=function(){return S},S}function _templateObject407(){var S=_taggedTemplateLiteral(["<iaux-photo-viewer\n            ?noimageavailable=","\n            class=","\n            .backgroundTheme=","\n            .baseHost=","\n            .itemIdentifier=","\n            .itemMD=","\n            .signedIn=","\n            .linerNotesManifest=","\n            .lightDomHook=","\n            .sharedRO=","\n            @fullscreenOpened=","\n            @fullscreenClosed=","\n            @showingAllPhotos=","\n            @coverImageLoaded=",'\n          >\n            <div slot="main" class="main">\n              <slot name="main"></slot>\n            </div>\n          </iaux-photo-viewer>']);return _templateObject407=function(){return S},S}function _templateObject408(){var S=_taggedTemplateLiteral(['<div class="image"><slot name="image"></slot></div>']);return _templateObject408=function(){return S},S}function _templateObject409(){var S=_taggedTemplateLiteral(['\n      <section\n        id="music-theater"\n        class=',"\n      >\n        <channel-selector\n          .backgroundTheme=","\n          webamp\n          .youtube=","\n          .spotify=","\n          .url=","\n          .selected=","\n          @channelChange=","\n          .displayStyle=","\n        ></channel-selector>\n        ","\n        ",'\n        <div class="player">\n          <div id="ext-channels-section">\n            <externalchannels-player\n                .album=',"\n                selectedChannel=","\n                .playerApi=","\n                @externalChannelsPlayerLoaded=","\n                @externalChannelsSelectedTrack=",'\n              ></external-channels-player>\n          </div>\n          <slot class="player"></slot>\n        </div>\n      </section>\n    ']);return _templateObject409=function(){return S},S}function _templateObject410(){var S=_taggedTemplateLiteral(['\n      :host {\n        display: block;\n        position: relative;\n        overflow: hidden;\n        /* petabox styling is very sticky for outlines, let\'s remove */\n        outline: none !important;\n        font-size: 16px;\n        height: 100%;\n        min-height: inherit;\n        --imageWidth: 350px;\n        --imageHeight: 350px;\n      }\n\n      :host[bgtheme="dark"],\n      #music-theater.dark {\n        color: white;\n      }\n\n      .hide {\n        display: none;\n      }\n\n      .linerNotesFullscreen channel-selector {\n        visibility: hidden;\n      }\n\n      channel-selector {\n        z-index: 1;\n        position: relative;\n      }\n\n      channel-selector[displaystyle="dropdown"] {\n        padding-left: 5px;\n        padding-bottom: 10px;\n        padding-top: 10px;\n        z-index: 3;\n        display: inline-block;\n        position: absolute;\n        top: 0;\n      }\n\n      #music-theater.dropdown {\n        margin-top: 5px;\n      }\n\n      @media(max-width: 768px) {\n        #music-theater.one-col.hasimage slot[name="image"],\n        #music-theater.one-col.hasimage iaux-photo-viewer {\n          overflow: hidden;\n          height: 268px;\n          margin-top: 20px;\n        }\n\n        #music-theater.one-col.noimageavailable channel-selector {\n          position: absolute;\n        }\n\n        #music-theater.one-col.noimageavailable iaux-photo-viewer {\n          overflow: hidden;\n          --imageHeight: 190px;\n          --imageWidth: 190px;\n          --linerNotesHeight: 200px;\n          height: 200px !important;\n          padding-top: 10px;\n        }\n\n        #music-theater.one-col slot.player {\n          padding: 0 5px;\n        }\n      }\n\n      @media(min-width: 1201px) {\n        #music-theater.two-col {\n          margin: 10px auto;\n        }\n      }\n\n      #music-theater.two-col {\n        display: grid;\n        grid-template-columns: 0.7fr 1.3fr;\n        grid-template-rows: 0.2fr;\n        gap: 0;\n        column-gap: 0;\n        grid-template-areas: "image channel-selector" "image player";\n        column-gap: 20px;\n        margin: 10px 30px;\n      }\n\n      #music-theater.two-col .image,\n      #music-theater.two-col iaux-photo-viewer {\n        grid-area: image;\n        z-index: 2;\n        max-height: var(--linerNotesInTheaterHeight, 100%);\n        margin-top: 10px;\n        height: auto;\n      }\n      #music-theater.two-col .player {\n        grid-area: player;\n      }\n      #music-theater.two-col channel-selector[displaystyle="radio"] {\n        grid-area: channel-selector;\n      }\n\n      @media(min-width: 768px) and (max-width: 1200px) {\n        #music-theater.two-col.hasimage {\n          grid-template-columns: 1fr 1fr;\n        }\n      }\n\n      slot {\n        display: block;\n      }\n\n      slot[name="image"] {\n        max-height: 400px;\n        display: block;\n        max-width: 100%;\n        height: inherit;\n        object-fit: contain;\n        position: relative;\n      }\n\n      div#ext-channels-section {\n        margin-top: 5px;\n      }\n    ']);return _templateObject410=function(){return S},S}function _templateObject411(){var S=_taggedTemplateLiteral(['\n      <div class="jw-reset jw-settings-submenu-items">\n        <button type="button"\n          aria-checked="','"\n          class="jw-reset-text jw-settings-content-item ','"\n          role="menuitemradio" dir="auto"\n          aria-label="Background Play ON"\n          @click=','\n          >Background Play ON</button>\n        <button type="button"\n          aria-checked="','"\n          class="jw-reset-text jw-settings-content-item ','"\n          role="menuitemradio" dir="auto"\n          aria-label="Background Play OFF"\n          @click=','\n          >Background Play OFF</button>\n        <div class="jw-reset-text jw-settings-content-item">\n          It appears your browser supports background audio playback.  You can turn this feature off if you find the network startup times are delaying your audio experience.  After changing this setting, reload this browser tab.\n        </div>\n      </div>']);return _templateObject411=function(){return S},S}function _templateObject412(){var S=_taggedTemplateLiteral(["\n      ","\n    "]);return _templateObject412=function(){return S},S}function _templateObject413(){var S=_taggedTemplateLiteral(["\n      ","\n    "]);return _templateObject413=function(){return S},S}function _templateObject414(){var S=_taggedTemplateLiteral(['\n      <div class="container">\n        ','\n\n        <div\n          class="scroll-container"\n          id="scroll-container"\n          @wheel=',"\n          @touchmove=",'\n        >\n          <div class="col time">\n            ','\n          </div>\n\n          <div class="col">\n            ',"\n            ","\n          </div>\n        </div>\n      </div>\n    "]);return _templateObject414=function(){return S},S}function _templateObject415(){var S=_taggedTemplateLiteral(["\n      <button\n        @click=",'\n        class="auto-scroll-button ','"\n      >\n        Scroll text with audio\n      </button>\n    ']);return _templateObject415=function(){return S},S}function _templateObject416(){var S=_taggedTemplateLiteral(['\n      <div class="time-display" style="top: ','px">\n        <duration-formatter .seconds=',"> </duration-formatter>\n      </div>\n    "]);return _templateObject416=function(){return S},S}function _templateObject417(){var S=_taggedTemplateLiteral(["\n      <transcript-entry\n        .entry=","\n        ?isSelected=","\n        ?isActive=","\n        ?isSearchResult=","\n        ?isMusicEntry=",'\n        isClickable="true"\n        data-search-result-index=',"\n        data-identifier=","\n        @click=","\n      >\n      </transcript-entry>\n    "]);return _templateObject417=function(){return S},S}function _templateObject418(){var S=_taggedTemplateLiteral(["\n      "," ","\n    "]);return _templateObject418=function(){return S},S}function _templateObject419(){var S=_taggedTemplateLiteral(['\n      <div class="top context-overlay" style="height: ','px"></div>\n    ']);return _templateObject419=function(){return S},S}function _templateObject420(){var S=_taggedTemplateLiteral(['\n      <div class="bottom context-overlay" style="height: ','px"></div>\n    ']);return _templateObject420=function(){return S},S}function _templateObject421(){var S=_taggedTemplateLiteral(["var(--transcriptHeight, 200px)"]);return _templateObject421=function(){return S},S}function _templateObject422(){var S=_taggedTemplateLiteral(["var(--timeFontSize, 1em)"]);return _templateObject422=function(){return S},S}function _templateObject423(){var S=_taggedTemplateLiteral(["var(--timeLineHeight, 1em)"]);return _templateObject423=function(){return S},S}function _templateObject424(){var S=_taggedTemplateLiteral(["var(--timeColor, white)"]);return _templateObject424=function(){return S},S}function _templateObject425(){var S=_taggedTemplateLiteral(["var(--timeColumnWidth, 3rem)"]);return _templateObject425=function(){return S},S}function _templateObject426(){var S=_taggedTemplateLiteral(["var(--timeDisplay, block)"]);return _templateObject426=function(){return S},S}function _templateObject427(){var S=_taggedTemplateLiteral(["var(--autoScrollButtonFontColor, black)"]);return _templateObject427=function(){return S},S}function _templateObject428(){var S=_taggedTemplateLiteral(["var(--autoScrollButtonBackgroundColor, white)"]);return _templateObject428=function(){return S},S}function _templateObject429(){var S=_taggedTemplateLiteral(["var(--autoScrollButtonWidth, 12rem)"]);return _templateObject429=function(){return S},S}function _templateObject430(){var S=_taggedTemplateLiteral(["var(--autoScrollButtonFontSize, 1em)"]);return _templateObject430=function(){return S},S}function _templateObject431(){var S=_taggedTemplateLiteral(["var(--transcriptNormalTextColor, gray)"]);return _templateObject431=function(){return S},S}function _templateObject432(){var S=_taggedTemplateLiteral(["var(--transcriptActiveTextColor, white)"]);return _templateObject432=function(){return S},S}function _templateObject433(){var S=_taggedTemplateLiteral(["var(--transcriptHoverTextColor, silver)"]);return _templateObject433=function(){return S},S}function _templateObject434(){var S=_taggedTemplateLiteral(["var(--transcriptMusicNormalTextColor, gray)"]);return _templateObject434=function(){return S},S}function _templateObject435(){var S=_taggedTemplateLiteral(["var(--transcriptMusicActiveTextColor, white)"]);return _templateObject435=function(){return S},S}function _templateObject436(){var S=_taggedTemplateLiteral(["var(--transcriptMusicActiveTextColor, silver)"]);return _templateObject436=function(){return S},S}function _templateObject437(){var S=_taggedTemplateLiteral(["var(--transcriptSearchResultInactiveBorderColor, gray)"]);return _templateObject437=function(){return S},S}function _templateObject438(){var S=_taggedTemplateLiteral(["var(--transcriptSearchResultActiveBorderColor, green)"]);return _templateObject438=function(){return S},S}function _templateObject439(){var S=_taggedTemplateLiteral(["\n      :host {\n        color: ",";\n      }\n\n      .container {\n        position: relative;\n      }\n\n      .auto-scroll-button.hidden {\n        display: none;\n      }\n\n      .auto-scroll-button {\n        position: absolute;\n        left: 0;\n        right: 0;\n        bottom: 1rem;\n        margin: auto;\n        width: ",";\n        border-radius: 1em;\n        border: 0;\n        display: inline-block;\n        color: ",";\n        background-color: ",";\n        font-size: ",";\n        z-index: 10;\n      }\n\n      .context-overlay {\n        position: absolute;\n        left: 0;\n        width: 100%;\n        height: 0;\n        z-index: -1;\n      }\n\n      .context-overlay.top {\n        top: 0;\n        border-bottom: 1px solid green;\n      }\n\n      .context-overlay.bottom {\n        bottom: 0;\n        border-top: 1px solid green;\n      }\n\n      .time {\n        display: ",";\n        flex: 0 0 ",";\n        color: ",";\n        position: relative;\n      }\n\n      .time-display {\n        position: absolute;\n        top: 0;\n        font-size: ",";\n        line-height: ",";\n        transition: top 1s;\n      }\n\n      .scroll-container {\n        display: flex;\n        overflow-y: auto;\n        -ms-overflow-style: none;\n        scrollbar-width: none;\n        height: ",";\n      }\n\n      .scroll-container::-webkit-scrollbar {\n        display: none;\n      }\n\n      transcript-entry {\n        cursor: pointer;\n      }\n\n      transcript-entry:hover {\n        color: ",";\n      }\n\n      transcript-entry[ismusicentry] {\n        color: ",";\n        display: block;\n        font-style: italic;\n      }\n\n      transcript-entry[ismusicentry]:hover {\n        color: ",";\n      }\n\n      transcript-entry[ismusicentry][isactive] {\n        color: ",";\n      }\n\n      transcript-entry[isactive] {\n        color: ",";\n      }\n\n      transcript-entry[issearchresult] {\n        display: inline-block; /* without this, the outline adds an extra space to the right of the text */\n        padding: 0 5px;\n        position: relative;\n      }\n\n      transcript-entry[issearchresult]:after {\n        content: '';\n        display: block;\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        border: 2px solid ",";\n        border-radius: 5px;\n      }\n\n      transcript-entry[issearchresult][isselected]:after {\n        border: 2px solid ",";\n      }\n    "]);return _templateObject439=function(){return S},S}function _templateObject440(){var S=_taggedTemplateLiteral([""]);return _templateObject440=function(){return S},S}function _templateObject441(){var S=_taggedTemplateLiteral(['<svg class="caret-up-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">\n    <path d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"></path></svg>']);return _templateObject441=function(){return S},S}function _templateObject442(){var S=_taggedTemplateLiteral(['<svg class="caret-down-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">\n    <path d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"></path></svg>']);return _templateObject442=function(){return S},S}function _templateObject443(){var S=_taggedTemplateLiteral(['\n    <div class="','">\n      <div style="display:none; float:right; font-size:200%; margin-top:14px; padding-right:10px">\u21F3</div>\n        <button type="button" @click="','"\n          class="','">\n\n        <div>\n          <svg class="transcript-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="m100 9.78013601c0-2.14552613-.7593357-3.978597-2.278007-5.4992126-1.5186713-1.52061561-3.3493984-2.28092341-5.4921813-2.28092341h-84.54977287c-2.08268321 0-3.88336049.7603078-5.40203183 2.28092341-1.51867133 1.5206156-2.278007 3.35368647-2.278007 5.4992126v61.92273459c0 2.0853495.75933567 3.8883321 2.278007 5.4089477 1.51867134 1.5206156 3.31934862 2.2809234 5.40203183 2.2809234l21.48662787-.209946 20.8333333 19.8172043 20.8333333-19.8172043 21.3930111.209946c2.1427829 0 3.97351-.7603078 5.4921813-2.2809234s2.278007-3.3235982 2.278007-5.4089477zm-17.2522403 32.16155839c-2.3653389 7.801758-5.8499089 13.6695526-10.4537101 17.6033839-4.4180179 4.1201827-9.3344788 5.6496272-14.7493828 4.5883336-.3103941-.1863514-.1857833-.5295105.3738323-1.0294775l1.4110469-1.2361912c.4032857-.3494315.8663846-.7486779 1.3892967-1.1977391 1.3072802-1.1226532 2.3959251-2.2464427 3.2659348-3.3713685 1.1192312-1.4976284 1.8657629-2.9179892 2.2395952-4.2610824.34713-1.247158.4520203-2.1700157.3146711-2.7685731l-.0359961-.1323719c-.188049-.5908701-.188049-1.2306006 0-1.9191915-3.2353485.1863513-6.0662784-.5783709-8.4927898-2.2941668s-4.1382101-3.8690629-5.1350962-6.459801-1.2608343-5.4303235-.7918447-8.5187561c.4689896-3.0884325 1.7286911-5.8507502 3.7791045-8.2869531 3.48457-3.806567 7.8867284-5.4450953 13.206475-4.9155847 5.3197467.5295105 9.2869002 2.7918612 11.9014606 6.7870521 1.6176742 2.247579 2.5511221 5.0564845 2.8003436 8.4267167.2492216 3.3702321-.0928916 6.3666253-1.0263395 8.9891795zm-36.2141529 0c-2.3019006 7.6154066-5.8181897 13.4832012-10.5488674 17.6033839-4.3568453 4.1201827-9.2415872 5.6496272-14.6542255 4.5883336-.3738323-.1863514-.2956674-.5295105.2344948-1.0294775l.5067806-.4663935c.5403123-.4884122 1.2889737-1.1442578 2.2459844-1.9675368 1.3050145-1.1226532 2.4253785-2.2464427 3.3610921-3.3713685 1.1192312-1.4976284 1.8657629-2.9179892 2.2395952-4.2610824.34713-1.247158.4656952-2.1700157.3556955-2.7685731l-.0294419-.1323719c-.1563298-.5908701-.1404703-1.2306006.0475787-1.9191915-3.2353485.1863513-6.0662784-.5783709-8.4927898-2.2941668s-4.1382101-3.8690629-5.1350962-6.459801-1.2766939-5.4303235-.8394234-8.5187561c.4372705-3.0884325 1.7128316-5.8507502 3.8266832-8.2869531 3.48457-3.806567 7.8867284-5.4450953 13.206475-4.9155847 5.171976.5148018 9.0654591 2.6675121 11.6804495 6.4581307l.2210111.3289214c1.5565017 2.247579 2.4593633 5.0564845 2.7085848 8.4267167.2345614 3.1719832-.0275955 6.0128149-.7864707 8.5224951z"/></svg>\n        </div>\n        <div>\n          ','\n        </div>\n        <div style="display:none; ','">',"</div>\n\n        <div>\n          ",'\n        </div>\n      </button>\n\n      <div class="transcript-view-wrap  ','">\n        <transcript-view\n          .config=',"\n          .currentTime=","\n          @transcriptEntrySelected=","\n        ></transcript-view>\n      </div>\n    </div>\n    "]);return _templateObject443=function(){return S},S}function _templateObject444(){var S=_taggedTemplateLiteral(["\n:host {\n  --timeColumnWidth: 4.5rem;\n  --transcriptHeight: ","px;\n}\n:host > div {\n  padding: 3px 5px;\n  margin: 4px 4px 0 8px;\n}\n.caret-up-svg, .caret-down-svg {\n  width: 25px;\n  display: inline-block;\n}\n.transcript-svg {\n  width: 14px;\n  display: inline-block;\n  margin-top: 6px;\n}\n\ntranscript-view {\n  display: block;\n  padding: ","px 10px;\n  background-color: #000000cc !important;\n  border: ","px solid #ffffff33;\n  border-radius: 5px;\n  box-sizing: border-box;\n}\n.transcript-view-wrap {\n  height: ","px;\n  overflow-y: hidden;\n  transition: height 0.5s ease;\n}\n.not-showing {\n  height: 0px;\n}\n.dimmed {\n  opacity: 0.4;\n}\nbutton {\n  background: none;\n  color: inherit;\n  border: none;\n  padding: 0;\n  font: inherit;\n  cursor: pointer;\n  outline: inherit;\n}\nbutton div {\n  display: inline-block;\n  vertical-align: top;\n  margin-left: 5px;\n  color: white;\n}\nbutton svg {\n  fill: white;\n}\nbutton.light, button.light div {\n  color: black;\n}\nbutton.light svg {\n  fill: black;\n}\n.dimmed button {\n  cursor: default;\n}\n    "]);return _templateObject444=function(){return S},S}function _templateObject445(){var S=_taggedTemplateLiteral(['<span class="track-number">',"</span>"]);return _templateObject445=function(){return S},S}function _templateObject446(){var S=_taggedTemplateLiteral(['<i class="track-artist">- ',"</i>"]);return _templateObject446=function(){return S},S}function _templateObject447(){var S=_taggedTemplateLiteral(['\n      <button\n        @click="','"\n        type="button"\n        class="track ','"\n        data-track-number="','"\n        data-event-click-tracking="TrackList|Item">\n        ','\n        <span class="track-title">',"\n          ",'\n        </span>\n        <span class="track-length">\n          ',"\n          ","\n        </span>\n      </button>"]);return _templateObject447=function(){return S},S}function _templateObject448(){var S=_taggedTemplateLiteral(['\n        <button type="button"\n          @click="','"\n          data-page-number="','"\n          class="page-button ','"\n          data-event-click-tracking="Play-AV|Paginator-Button"\n          tabindex="-1">\n          <span class="sr-only">',"</span>\n        </button>"]);return _templateObject448=function(){return S},S}function _templateObject449(){var S=_taggedTemplateLiteral(['\n<div class="playlist">\n  <button type="button" class="page-left page-arrow iconochive iconochive-left"\n    @click="','"\n    data-event-click-tracking="Play-AV|Paginator-Arrow-Left" tabindex="-1">\n    <span class="sr-only">prior page</span>\n  </button>\n\n  <div class="track-list">\n    <div class="flexbox-pages column">\n      ','\n    </div>\n\n    <div class="page-buttons">\n      ','\n    </div>\n  </div>\n\n  <button type="button" class="page-right page-arrow iconochive iconochive-right"\n    @click="','"\n    data-event-click-tracking="Play-AV|Paginator-Arrow-Right" tabindex="-1">\n    <span class="sr-only">next page</span>\n  </button>\n\n</div>\n']);return _templateObject449=function(){return S},S}function _templateObject450(){var S=_taggedTemplateLiteral(["\n:host {\n  outline: 0 !important;\n  outline-offset: unset !important;\n}\n\n.av-pill {\n  margin-top: 5px;\n  display: flex;\n  flex-shrink: 0;\n}\n\n#waveformer-wrap {\n  flex-grow: 1;\n  position: relative;\n  display: inline-block;\n  height: ","px;\n  border-radius: 0 ","px ","px 0;\n  border-right: ","px solid black;\n  cursor: pointer;\n\n  background-color: white; /* would be supercool transparent otherwise... */\n}\n#waveformer {\n  position: absolute;\n  height: ","px;\n  width: 0;\n  background-color: #ddd; /* fallback in case no imagery or colorthief fails */\n}\n#waveformer-wrap img {\n  position: absolute;\n  height: ","px;\n  width: 100%;\n  background-color: transparent;\n}\n\n::slotted(#ia-scrubber) {\n  z-index: 1;\n  position: absolute;\n  left: 0;\n  right: 0;\n  height: 17px;\n  top: ","px;\n}\n\n\n\n@media (max-width: ","px) {\n  .media-section {\n    margin-bottom: 1rem;\n  }\n  .playlist {\n    max-height: 340px; /* xxxhls revisit hardcode & in 'archive.less', min-height for audio, etc. */\n    margin: 0;\n  }\n  .page-buttons,\n  .page-arrow {\n    display: none;\n  }\n}\n\n\n.playlist {\n  color: #fff;\n  margin-top: 1rem;\n  padding-bottom: 4rem;\n  overflow-y: auto;\n  overflow-x: hidden;\n  position: relative;\n\n  /* max-height: 90%;  overflow: auto; */ /* for desktop at least xxxhls */\n}\n\n.track-list {\n  /* split overflow declaration needed for Safari */\n  position: relative;\n  overflow-x: hidden;\n  overflow-y: auto;\n  box-sizing: border-box;\n  margin: 0 2.5rem; /* space for left & right [<] paging buttons */\n}\n\n.track {\n  vertical-align: top;\n  cursor: pointer;\n  border-width: 0.3rem;\n  border-style: solid;\n  border-color: transparent;\n  text-align: left;\n  background: transparent;\n  color: inherit;\n  padding-right: 0;\n  padding-left: 0;\n  min-height: 4rem;\n  margin-left: 0.5%;\n  margin-right: 0.5%;\n  box-sizing: border-box;\n  font-weight: 400;  /* being explicit keeps safari consistent w/ chrome, etc. */\n  font-size: 13.3px; /* safari consistent w/ chrome */\n}\n\n.track.selected {\n  border-color: #00A1DD;\n  border-radius: .5rem;\n}\n.track.selected:focus {\n  outline: none;\n}\n\n.track-number,\n.track-title,\n.track-length {\n  display: inline-block;\n  box-sizing: border-box;\n  border-right: 10px solid transparent;\n  vertical-align: top;\n}\n\n.track-number {\n  text-align: right;\n  font-weight: 100;\n  width: 9%;\n}\n\n.track-title {\n  width: 60%;\n}\n\n.track-artist {\n  font-weight: 200;\n}\n\n.track-length {\n  text-align: right;\n  font-weight: 100;\n  float: right;\n}\n\n\n\n.flexbox-pages {\n  display: flex;\n  align-items: stretch;\n  flex-direction: column;\n  flex-wrap: wrap;\n  height: inherit; /* must set with parent to wrap columns */\n  overflow: hidden;\n  scroll-snap-type: x mandatory;\n  scroll-behavior: smooth;\n}\n\n.flexbox-pages.column > * {\n  width: inherit; /* set at parent, for better display control */ /*xxxhls*/\n}\n\n@media (max-width: 500px) { /* xxxhls number */\n  .flexbox-pages {\n    flex-wrap: nowrap;\n  }\n}\n\n@media (min-width: ","px) {\n  .flexbox-pages {\n    height: 350px; /*calc(400px - 50px);*/\n    float: unset;\n  }\n\n  .flexbox-pages.column > * {\n    width: 49%;\n  }\n}\n\n.page-buttons {\n  width: 100%;\n  text-align: center;\n}\n.page-button {\n  border-radius: 50%;\n  border-color: inherit;\n  border-style: solid;\n  border-width: 0.1rem;\n  color: white;\n  background-color: transparent;\n  height: 1.5rem;\n  width: 1.5rem;\n  margin: 0 .5rem;\n}\n.page-button.selected {\n  background-color: white;\n}\n.page-button.selected:focus {\n  outline: none;\n}\n\n.page-arrow {\n  background: transparent;\n  border: none;\n  position: absolute;\n  top: 35%;\n  font-size: 2.5rem;\n  color: white;\n  opacity: 0.6;\n}\n.page-arrow:hover {\n  cursor: pointer;\n  opacity: 1.0;\n}\n\n.page-left {\n  left: -1rem;\n}\n.page-right {\n  right: -1rem;\n}\n\n.sr-only {\n  position: absolute;\n  clip: rect(0, 0, 0, 0);\n  top: auto;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n}\n"]);return _templateObject450=function(){return S},S}function _templateObject451(){var S=_taggedTemplateLiteral(['<img src="','" @click="','">']);return _templateObject451=function(){return S},S}function _templateObject452(){var S=_taggedTemplateLiteral(['<img src="https://archive.org/images/black.jpg">']);return _templateObject452=function(){return S},S}function _templateObject453(){var S=_taggedTemplateLiteral(['\n          <div id="waveformer-wrap">\n            <div id="waveformer"></div>\n            ','\n            <slot name="ia-scrubber"></slot>\n          </div>']);return _templateObject453=function(){return S},S}function _templateObject454(){var S=_taggedTemplateLiteral(['\n        <transcript-viewer identifier="','" trackno=',"\n          playlist='","' bgTheme=",">\n        </transcript-viewer>\n      "]);return _templateObject454=function(){return S},S}function _templateObject455(){var S=_taggedTemplateLiteral(['\n      <link rel="stylesheet" href="https://av.prod.archive.org/css/iconochive.css">\n      <div class="av-pill">\n        <slot></slot>\n\n        ',"\n      </div>\n\n      ","\n\n      ","\n    "]);return _templateObject455=function(){return S},S}function _templateObject456(){var S=_taggedTemplateLiteral(['\n      <div class="jw-reset jw-settings-submenu-items">\n        <button type="button"\n          aria-checked="','"\n          class="jw-reset-text jw-settings-content-item ','"\n          role="menuitemradio" dir="auto"\n          aria-label="Background Play ON"\n          @click=','\n          >Background Play ON</button>\n        <button type="button"\n          aria-checked="','"\n          class="jw-reset-text jw-settings-content-item ','"\n          role="menuitemradio" dir="auto"\n          aria-label="Background Play OFF"\n          @click=','\n          >Background Play OFF</button>\n        <div class="jw-reset-text jw-settings-content-item">\n          It appears your browser supports background audio playback.  You can turn this feature off if you find the network startup times are delaying your audio experience.  After changing this setting, reload this browser tab.\n        </div>\n      </div>']);return _templateObject456=function(){return S},S}function _templateObject457(){var S=_taggedTemplateLiteral([""]);return _templateObject457=function(){return S},S}function _templateObject458(){var S=_taggedTemplateLiteral(['<svg class="caret-up-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">\n    <path d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"></path></svg>']);return _templateObject458=function(){return S},S}function _templateObject459(){var S=_taggedTemplateLiteral(['<svg class="caret-down-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">\n    <path d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"></path></svg>']);return _templateObject459=function(){return S},S}function _templateObject460(){var S=_taggedTemplateLiteral(['\n    <div class="','">\n      <div style="display:none; float:right; font-size:200%; margin-top:14px; padding-right:10px">\u21F3</div>\n        <button type="button" @click="','"\n          class="','">\n\n        <div>\n          <svg class="transcript-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="m100 9.78013601c0-2.14552613-.7593357-3.978597-2.278007-5.4992126-1.5186713-1.52061561-3.3493984-2.28092341-5.4921813-2.28092341h-84.54977287c-2.08268321 0-3.88336049.7603078-5.40203183 2.28092341-1.51867133 1.5206156-2.278007 3.35368647-2.278007 5.4992126v61.92273459c0 2.0853495.75933567 3.8883321 2.278007 5.4089477 1.51867134 1.5206156 3.31934862 2.2809234 5.40203183 2.2809234l21.48662787-.209946 20.8333333 19.8172043 20.8333333-19.8172043 21.3930111.209946c2.1427829 0 3.97351-.7603078 5.4921813-2.2809234s2.278007-3.3235982 2.278007-5.4089477zm-17.2522403 32.16155839c-2.3653389 7.801758-5.8499089 13.6695526-10.4537101 17.6033839-4.4180179 4.1201827-9.3344788 5.6496272-14.7493828 4.5883336-.3103941-.1863514-.1857833-.5295105.3738323-1.0294775l1.4110469-1.2361912c.4032857-.3494315.8663846-.7486779 1.3892967-1.1977391 1.3072802-1.1226532 2.3959251-2.2464427 3.2659348-3.3713685 1.1192312-1.4976284 1.8657629-2.9179892 2.2395952-4.2610824.34713-1.247158.4520203-2.1700157.3146711-2.7685731l-.0359961-.1323719c-.188049-.5908701-.188049-1.2306006 0-1.9191915-3.2353485.1863513-6.0662784-.5783709-8.4927898-2.2941668s-4.1382101-3.8690629-5.1350962-6.459801-1.2608343-5.4303235-.7918447-8.5187561c.4689896-3.0884325 1.7286911-5.8507502 3.7791045-8.2869531 3.48457-3.806567 7.8867284-5.4450953 13.206475-4.9155847 5.3197467.5295105 9.2869002 2.7918612 11.9014606 6.7870521 1.6176742 2.247579 2.5511221 5.0564845 2.8003436 8.4267167.2492216 3.3702321-.0928916 6.3666253-1.0263395 8.9891795zm-36.2141529 0c-2.3019006 7.6154066-5.8181897 13.4832012-10.5488674 17.6033839-4.3568453 4.1201827-9.2415872 5.6496272-14.6542255 4.5883336-.3738323-.1863514-.2956674-.5295105.2344948-1.0294775l.5067806-.4663935c.5403123-.4884122 1.2889737-1.1442578 2.2459844-1.9675368 1.3050145-1.1226532 2.4253785-2.2464427 3.3610921-3.3713685 1.1192312-1.4976284 1.8657629-2.9179892 2.2395952-4.2610824.34713-1.247158.4656952-2.1700157.3556955-2.7685731l-.0294419-.1323719c-.1563298-.5908701-.1404703-1.2306006.0475787-1.9191915-3.2353485.1863513-6.0662784-.5783709-8.4927898-2.2941668s-4.1382101-3.8690629-5.1350962-6.459801-1.2766939-5.4303235-.8394234-8.5187561c.4372705-3.0884325 1.7128316-5.8507502 3.8266832-8.2869531 3.48457-3.806567 7.8867284-5.4450953 13.206475-4.9155847 5.171976.5148018 9.0654591 2.6675121 11.6804495 6.4581307l.2210111.3289214c1.5565017 2.247579 2.4593633 5.0564845 2.7085848 8.4267167.2345614 3.1719832-.0275955 6.0128149-.7864707 8.5224951z"/></svg>\n        </div>\n        <div>\n          ','\n        </div>\n        <div style="display:none; ','">',"</div>\n\n        <div>\n          ",'\n        </div>\n      </button>\n\n      <div class="transcript-view-wrap  ','">\n        <transcript-view\n          .config=',"\n          .currentTime=","\n          @transcriptEntrySelected=","\n        ></transcript-view>\n      </div>\n    </div>\n    "]);return _templateObject460=function(){return S},S}function _templateObject461(){var S=_taggedTemplateLiteral(["\n:host {\n  --timeColumnWidth: 4.5rem;\n  --transcriptHeight: ","px;\n}\n:host > div {\n  padding: 3px 5px;\n  margin: 4px 4px 0 8px;\n}\n.caret-up-svg, .caret-down-svg {\n  width: 25px;\n  display: inline-block;\n}\n.transcript-svg {\n  width: 14px;\n  display: inline-block;\n  margin-top: 6px;\n}\n\ntranscript-view {\n  display: block;\n  padding: ","px 10px;\n  background-color: #000000cc !important;\n  border: ","px solid #ffffff33;\n  border-radius: 5px;\n  box-sizing: border-box;\n}\n.transcript-view-wrap {\n  height: ","px;\n  overflow-y: hidden;\n  transition: height 0.5s ease;\n}\n.not-showing {\n  height: 0px;\n}\n.dimmed {\n  opacity: 0.4;\n}\nbutton {\n  background: none;\n  color: inherit;\n  border: none;\n  padding: 0;\n  font: inherit;\n  cursor: pointer;\n  outline: inherit;\n}\nbutton div {\n  display: inline-block;\n  vertical-align: top;\n  margin-left: 5px;\n  color: white;\n}\nbutton svg {\n  fill: white;\n}\nbutton.light, button.light div {\n  color: black;\n}\nbutton.light svg {\n  fill: black;\n}\n.dimmed button {\n  cursor: default;\n}\n    "]);return _templateObject461=function(){return S},S}function _templateObject462(){var S=_taggedTemplateLiteral(['<span class="track-number">',"</span>"]);return _templateObject462=function(){return S},S}function _templateObject463(){var S=_taggedTemplateLiteral(['<i class="track-artist">- ',"</i>"]);return _templateObject463=function(){return S},S}function _templateObject464(){var S=_taggedTemplateLiteral(['\n      <button\n        @click="','"\n        type="button"\n        class="track ','"\n        data-track-number="','"\n        data-event-click-tracking="TrackList|Item">\n        ','\n        <span class="track-title">',"\n          ",'\n        </span>\n        <span class="track-length">\n          ',"\n          ","\n        </span>\n      </button>"]);return _templateObject464=function(){return S},S}function _templateObject465(){var S=_taggedTemplateLiteral(['\n        <button type="button"\n          @click="','"\n          data-page-number="','"\n          class="page-button ','"\n          data-event-click-tracking="Play-AV|Paginator-Button"\n          tabindex="-1">\n          <span class="sr-only">',"</span>\n        </button>"]);return _templateObject465=function(){return S},S}function _templateObject466(){var S=_taggedTemplateLiteral(['\n<div class="playlist">\n  <button type="button" class="page-left page-arrow iconochive iconochive-left"\n    @click="','"\n    data-event-click-tracking="Play-AV|Paginator-Arrow-Left" tabindex="-1">\n    <span class="sr-only">prior page</span>\n  </button>\n\n  <div class="track-list">\n    <div class="flexbox-pages column">\n      ','\n    </div>\n\n    <div class="page-buttons">\n      ','\n    </div>\n  </div>\n\n  <button type="button" class="page-right page-arrow iconochive iconochive-right"\n    @click="','"\n    data-event-click-tracking="Play-AV|Paginator-Arrow-Right" tabindex="-1">\n    <span class="sr-only">next page</span>\n  </button>\n\n</div>\n']);return _templateObject466=function(){return S},S}function _templateObject467(){var S=_taggedTemplateLiteral(["\n:host {\n  outline: 0 !important;\n  outline-offset: unset !important;\n}\n\n.av-pill {\n  margin-top: 5px;\n  display: flex;\n  flex-shrink: 0;\n}\n\n#waveformer-wrap {\n  flex-grow: 1;\n  position: relative;\n  display: inline-block;\n  height: ","px;\n  border-radius: 0 ","px ","px 0;\n  border-right: ","px solid black;\n  cursor: pointer;\n\n  background-color: white; /* would be supercool transparent otherwise... */\n}\n#waveformer {\n  position: absolute;\n  height: ","px;\n  width: 0;\n  background-color: #ddd; /* fallback in case no imagery or colorthief fails */\n}\n#waveformer-wrap img {\n  position: absolute;\n  height: ","px;\n  width: 100%;\n  background-color: transparent;\n}\n\n::slotted(#ia-scrubber) {\n  z-index: 1;\n  position: absolute;\n  left: 0;\n  right: 0;\n  height: 17px;\n  top: ","px;\n}\n\n\n\n@media (max-width: ","px) {\n  .media-section {\n    margin-bottom: 1rem;\n  }\n  .playlist {\n    max-height: 340px; /* xxxhls revisit hardcode & in 'archive.less', min-height for audio, etc. */\n    margin: 0;\n  }\n  .page-buttons,\n  .page-arrow {\n    display: none;\n  }\n}\n\n\n.playlist {\n  color: #fff;\n  margin-top: 1rem;\n  padding-bottom: 4rem;\n  overflow-y: auto;\n  overflow-x: hidden;\n  position: relative;\n\n  /* max-height: 90%;  overflow: auto; */ /* for desktop at least xxxhls */\n}\n\n.track-list {\n  /* split overflow declaration needed for Safari */\n  position: relative;\n  overflow-x: hidden;\n  overflow-y: auto;\n  box-sizing: border-box;\n  margin: 0 2.5rem; /* space for left & right [<] paging buttons */\n}\n\n.track {\n  vertical-align: top;\n  cursor: pointer;\n  border-width: 0.3rem;\n  border-style: solid;\n  border-color: transparent;\n  text-align: left;\n  background: transparent;\n  color: inherit;\n  padding-right: 0;\n  padding-left: 0;\n  min-height: 4rem;\n  margin-left: 0.5%;\n  margin-right: 0.5%;\n  box-sizing: border-box;\n  font-weight: 400;  /* being explicit keeps safari consistent w/ chrome, etc. */\n  font-size: 13.3px; /* safari consistent w/ chrome */\n}\n\n.track.selected {\n  border-color: #00A1DD;\n  border-radius: .5rem;\n}\n.track.selected:focus {\n  outline: none;\n}\n\n.track-number,\n.track-title,\n.track-length {\n  display: inline-block;\n  box-sizing: border-box;\n  border-right: 10px solid transparent;\n  vertical-align: top;\n}\n\n.track-number {\n  text-align: right;\n  font-weight: 100;\n  width: 9%;\n}\n\n.track-title {\n  width: 60%;\n}\n\n.track-artist {\n  font-weight: 200;\n}\n\n.track-length {\n  text-align: right;\n  font-weight: 100;\n  float: right;\n}\n\n\n\n.flexbox-pages {\n  display: flex;\n  align-items: stretch;\n  flex-direction: column;\n  flex-wrap: wrap;\n  height: inherit; /* must set with parent to wrap columns */\n  overflow: hidden;\n  scroll-snap-type: x mandatory;\n  scroll-behavior: smooth;\n}\n\n.flexbox-pages.column > * {\n  width: inherit; /* set at parent, for better display control */ /*xxxhls*/\n}\n\n@media (max-width: 500px) { /* xxxhls number */\n  .flexbox-pages {\n    flex-wrap: nowrap;\n  }\n}\n\n@media (min-width: ","px) {\n  .flexbox-pages {\n    height: 350px; /*calc(400px - 50px);*/\n    float: unset;\n  }\n\n  .flexbox-pages.column > * {\n    width: 49%;\n  }\n}\n\n.page-buttons {\n  width: 100%;\n  text-align: center;\n}\n.page-button {\n  border-radius: 50%;\n  border-color: inherit;\n  border-style: solid;\n  border-width: 0.1rem;\n  color: white;\n  background-color: transparent;\n  height: 1.5rem;\n  width: 1.5rem;\n  margin: 0 .5rem;\n}\n.page-button.selected {\n  background-color: white;\n}\n.page-button.selected:focus {\n  outline: none;\n}\n\n.page-arrow {\n  background: transparent;\n  border: none;\n  position: absolute;\n  top: 35%;\n  font-size: 2.5rem;\n  color: white;\n  opacity: 0.6;\n}\n.page-arrow:hover {\n  cursor: pointer;\n  opacity: 1.0;\n}\n\n.page-left {\n  left: -1rem;\n}\n.page-right {\n  right: -1rem;\n}\n\n.sr-only {\n  position: absolute;\n  clip: rect(0, 0, 0, 0);\n  top: auto;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n}\n"]);return _templateObject467=function(){return S},S}function _templateObject468(){var S=_taggedTemplateLiteral(['<img src="','" @click="','">']);return _templateObject468=function(){return S},S}function _templateObject469(){var S=_taggedTemplateLiteral(['<img src="https://archive.org/images/black.jpg">']);return _templateObject469=function(){return S},S}function _templateObject470(){var S=_taggedTemplateLiteral(['\n          <div id="waveformer-wrap">\n            <div id="waveformer"></div>\n            ','\n            <slot name="ia-scrubber"></slot>\n          </div>']);return _templateObject470=function(){return S},S}function _templateObject471(){var S=_taggedTemplateLiteral(['\n        <transcript-viewer identifier="','" trackno=',"\n          playlist='","' bgTheme=",">\n        </transcript-viewer>\n      "]);return _templateObject471=function(){return S},S}function _templateObject472(){var S=_taggedTemplateLiteral(['\n      <link rel="stylesheet" href="https://av.prod.archive.org/css/iconochive.css">\n      <div class="av-pill">\n        <slot></slot>\n\n        ',"\n      </div>\n\n      ","\n\n      ","\n    "]);return _templateObject472=function(){return S},S}function _templateObject473(){var S=_taggedTemplateLiteral(['\n<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n  <title id="linkTitleID">Get more information</title>\n  <desc id="linkDescID">Informative icon</desc>\n    <path d="m0 0h100v100h-100z" fill="#000"/>\n    <path d="m49.8315487 0h.1702245c6.7356878 0 13.1853038 1.31117332 19.3488483 3.93351997 6.1635444 2.62234664 11.4854233 6.15778963 15.9656369 10.60632903 4.4802135 4.4485394 8.0478347 9.7522946 10.7028636 15.9112655 2.655029 6.1589709 3.980878 12.6038012 3.9789971 19.3344909.0567419 6.6716279-1.1702933 13.0585776-3.6811042 19.1608491-2.510811 6.1022715-6.106803 11.5206067-10.7879759 16.2550055-9.7027949 9.7522946-21.4884754 14.6851412-35.3570414 14.79854h-.1702244c-6.7333236 0-13.1829397-1.3111733-19.3488483-3.93352-6.1659087-2.6223466-11.4877876-6.1577896-15.9656369-10.606329s-8.04547055-9.7522946-10.7028637-15.9112655c-2.65739314-6.1589709-3.9844243-12.6038012-3.98254337-19.3344909-.05674149-6.6716279 1.17029325-13.0585776 3.68110421-19.1608491 2.51081095-6.1022715 6.10680292-11.5206067 10.78797586-16.2550055 9.7027949-9.75229456 21.4884754-14.68514123 35.3570414-14.79854zm12.6566146 26.4757998c1.6745578-1.6828001 2.5118367-3.6747334 2.5118367-5.9757998 0-2.4126333-.8095238-4.4324583-2.4285714-6.059475s-3.6289796-2.440525-6.0297959-2.440525c-2.4008164 0-4.4107483.8135083-6.029796 2.440525-1.6745578 1.6270167-2.5118367 3.6468417-2.5118367 6.059475 0 2.1871753.8372789 4.1791086 2.5118367 5.9757998 1.6745579 1.6828001 3.6844898 2.5242002 6.029796 2.5242002 2.3453061 0 4.3274829-.8414001 5.9465306-2.5242002zm-12.1370589 52.7776981-1.2815282-.9486968c0-.4588935.398855-1.8938272 1.196565-4.3048011l12.7338588-39-23.0745876 3.6164609.2548896 3.873251c0-.1141289.4554971-.1997256 1.3664914-.2567901.9109942 0 1.623741.1723823 2.1382404.5171468.5121392.2306356.7965299.6039323.8531721 1.1198902 0 .8607225-.6549247 3.2134431-1.9647739 7.0581619l-8.1175252 24.1061729c-1.0242785 3.2716963-1.5080967 5.5388203-1.4514546 6.8013717.0566421 1.6643804.8826732 2.9839963 2.4780932 3.9588477 1.2532071.803658 2.8769482 1.205487 4.8712231 1.205487h.5982825c1.7653464-.0570645 3.8445846-.3875629 6.2377146-.9914952 2.3931299-.6039323 4.3590839-1.3933242 5.8978617-2.3681756 1.3098493-.803658 2.3919499-1.5359853 3.2463021-2.1969821.8543521-.6609968 1.3959925-1.1341564 1.6249211-1.4194788l.3433929-.3459533-2.8214861-3.3596708-2.9914125 2.0650205c-.79771.4588935-1.5104568.7454047-2.1382404.8595337z" class="fill-color" fill-rule="nonzero"/>\n</svg>\n']);return _templateObject473=function(){return S},S}function _templateObject474(){var S=_taggedTemplateLiteral(["\n      :host {\n        width: var(--iconWidth, 'auto');\n        height: var(--iconHeight, 'auto');\n      }\n\n      .fill-color {\n        fill: var(--iconFillColor);\n      }\n\n      .stroke-color {\n        stroke: var(--iconStrokeColor);\n      }\n    "]);return _templateObject474=function(){return S},S}function _templateObject475(){var S=_taggedTemplateLiteral(["var(--white, #fff)"]);return _templateObject475=function(){return S},S}function _templateObject476(){var S=_taggedTemplateLiteral(["var(--primaryDisableCTAFill, #767676)"]);return _templateObject476=function(){return S},S}function _templateObject477(){var S=_taggedTemplateLiteral(["var(--secondaryCTABorder, #999)"]);return _templateObject477=function(){return S},S}function _templateObject478(){var S=_taggedTemplateLiteral(["var(--primaryCTAFill, #194880)"]);return _templateObject478=function(){return S},S}function _templateObject479(){var S=_taggedTemplateLiteral(["var(--primaryCTAFillRGB, 25, 72, 128)"]);return _templateObject479=function(){return S},S}function _templateObject480(){var S=_taggedTemplateLiteral(["var(--primaryCTABorder, #c5d1df)"]);return _templateObject480=function(){return S},S}function _templateObject481(){var S=_taggedTemplateLiteral(["var(--primaryErrorCTAFill, #d9534f)"]);return _templateObject481=function(){return S},S}function _templateObject482(){var S=_taggedTemplateLiteral(["var(--primaryErrorCTAFillRGB, 229, 28, 38)"]);return _templateObject482=function(){return S},S}function _templateObject483(){var S=_taggedTemplateLiteral(["var(--primaryErrorCTABorder, #d43f3a)"]);return _templateObject483=function(){return S},S}function _templateObject484(){var S=_taggedTemplateLiteral(["var(--secondaryCTAFill, #333)"]);return _templateObject484=function(){return S},S}function _templateObject485(){var S=_taggedTemplateLiteral(["var(--secondaryCTAFillRGB, 51, 51, 51)"]);return _templateObject485=function(){return S},S}function _templateObject486(){var S=_taggedTemplateLiteral(["var(--primaryCTABorder, #979797)"]);return _templateObject486=function(){return S},S}function _templateObject487(){var S=_taggedTemplateLiteral(["#ee8950"]);return _templateObject487=function(){return S},S}function _templateObject488(){var S=_taggedTemplateLiteral(["#ec7939"]);return _templateObject488=function(){return S},S}function _templateObject489(){var S=_taggedTemplateLiteral(["\n  .ia-button {\n    min-height: 3rem;\n    cursor: pointer;\n    color: ",";\n    line-height: normal;\n    border-radius: 0.4rem;\n    font-size: 1.4rem;\n    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n    border: 1px solid transparent;\n    white-space: nowrap;\n    appearance: auto;\n    box-sizing: border-box;\n    display: flex;\n    align-items: center;\n    transition: all 0.1s ease 0s;\n    vertical-align: middle;\n    padding: 0 1rem;\n    outline-color: ",";\n    outline-offset: -4px;\n    user-select: none;\n    text-decoration: none;\n    width: fit-content;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -o-user-select: none;\n  }\n  .ia-button:focus-visible {\n    outline-style: double;\n  }\n  .ia-button:disabled {\n    cursor: not-allowed;\n    background-color: ",";\n    border: 1px solid ",";\n  }\n  .ia-button.transparent {\n    background-color: transparent;\n  }\n  .ia-button.warning {\n    background-color: ","\n    border-color: ",";\n  }\n\n  .ia-button.primary {\n    background-color: ",";\n    border-color: ",";\n  }\n  .ia-button.primary:hover {\n    background-color: rgba(",", 0.9);\n  }\n  .ia-button.primary:focus-visible {\n    background-color: rgba(",", 0.8);\n  }\n  .ia-button.primary:active {\n    background-color: rgba(",", 0.7);\n  }\n\n  .ia-button.danger {\n    background-color: ",";\n    border-color: ",";\n  }\n  .ia-button.danger:hover {\n    background-color: rgba(",", 0.9);\n  }\n  .ia-button.danger:focus-visible {\n    background-color: rgba(",", 0.8);\n  }\n  .ia-button.danger:active {\n    background-color: rgba(",", 0.7);\n  }\n\n  .ia-button.dark {\n    background-color: ",";\n    border-color: ",";\n  }\n  .ia-button.dark:hover {\n    background-color: rgba(",", 0.9);\n  }\n  .ia-button.dark:focus-visible {\n    background-color: rgba(",", 0.8);\n  }\n  .ia-button.dark:active {\n    background-color: rgba(",", 0.7);\n  }\n"]);return _templateObject489=function(){return S},S}function _templateObject490(){var S=_taggedTemplateLiteral(["var(--white, #fff)"]);return _templateObject490=function(){return S},S}function _templateObject491(){var S=_taggedTemplateLiteral(["var(--primaryBGColor, #000)"]);return _templateObject491=function(){return S},S}function _templateObject492(){var S=_taggedTemplateLiteral(["var(--iaBookActionsDropdownBGColor, #2d2d2d)"]);return _templateObject492=function(){return S},S}function _templateObject493(){var S=_taggedTemplateLiteral(["\n  :host {\n    display: inline-flex;\n    height: 3.5rem;\n    padding: 1rem 0;\n  }\n  .actiongroup {\n    display: flex;\n    margin-right: 10px;\n  }\n  .action-buttons {\n    display: inline-flex;\n    align-items: center;\n  }\n  .action-buttons .ia-button {\n    margin: 0;\n    height: 3.5rem;\n    padding: 0 2rem;\n  }\n  .action-buttons .desktop {\n    background-color: ",";\n    border-radius: 10px;\n  }\n  .action-buttons .desktop.purchase {\n    margin-left: 5px;\n  }\n  .action-buttons .mobile.purchase.dark {\n    padding-left: 0;\n  }\n  .primary {\n    background-color: ",";\n    margin-right: 4px;\n  }\n  .primary,\n  .secondary {\n    position: relative;\n    border-radius: 5px;\n  }\n  .primary .initial {\n    border-radius: 4px 0 0 4px;\n    margin-right: 0;\n  }\n  .primary svg {\n    vertical-align: middle;\n  }\n\n  .secondary .ia-button.purchase {\n    padding: 2px 10px 2px 35px;\n    position: relative;\n    display: inline-block;\n    vertical-align: middle;\n  }\n  .secondary .ia-button.exit-admin {\n    background-color: ",";\n    border: 1px solid ",";\n  }\n\n  .dropdown-content {\n    position: absolute;\n    min-width: 14rem;\n    margin: 0;\n    padding: 0;\n    background: ",";\n    border-radius: 4px;\n    border: 1px solid var(--primaryCTABorder);\n    top: 3.4rem;\n    left: 50%;\n    -webkit-transform: translateX(-50%);\n    transform: translateX(-50%);\n  }\n  .dropdown-content li {\n    color: ",";\n    list-style: none;\n    height: 3rem;\n  }\n  .dropdown-content .ia-button {\n    background: none;\n    color: ",";\n    border: none;\n    box-sizing: border-box;\n    width: 100%;\n    text-align: left;\n    height: 3rem;\n    position: relative;\n    padding: 0.6rem 1.2rem;\n    margin: 0;\n  }\n  .dropdown-content .ia-button:is(:focus-visible, :hover) {\n    background: unset;\n  }\n  .dropdown-content li .ia-button {\n    border-radius: 0;\n  }\n  .dropdown-content li .ia-button:hover {\n    background: ",";\n    color: rgb(45, 45, 45);\n  }\n  .dropdown-content li:first-child .ia-button {\n    border-radius: 0.3rem 0.3rem 0 0;\n  }\n  .dropdown-content li:last-child .ia-button {\n    border-radius: 0;\n    border-radius: 0 0 0.3rem 0.3rem;\n  }\n  .dropdown-content .purchase:hover svg g {\n    fill: black;\n  }\n  .dropdown-content .purchase {\n    padding-left: 35px;\n    margin: 0;\n  }\n  .dropdown-content .purchase small {\n    display: initial;\n    font-size: 1.4rem;\n  }\n\n  .ia-button.down-arrow {\n    border-radius: 0 0.4rem 0.4rem 0;\n    padding: 0 0.6rem;\n    margin-left: 0;\n  }\n  .actionloader {\n    vertical-align: middle;\n    visibility: hidden;\n    padding: 0.9rem 0.2rem;\n  }\n  .close {\n    display: none;\n  }\n  .open {\n    display: block;\n    z-index: 2;\n  }\n  .visible {\n    display: inline-block;\n  }\n  .btn:hover,\n  .dropdown:hover .btn {\n    background-color: ",";\n  }\n  a {\n    text-decoration: none;\n  }\n  .purchase small {\n    display: block;\n    font-size: 1rem;\n  }\n  .purchase svg {\n    position: absolute;\n    left: 10px;\n    top: 20%;\n  }\n  .unavailable {\n    opacity: 0.7;\n    pointer-events: none;\n  }\n  .disabled {\n    opacity: 0.8;\n    pointer-events: none;\n    visibility: visible;\n  }\n"]);return _templateObject493=function(){return S},S}function _templateObject494(){var S=_taggedTemplateLiteral(['<svg\n  height="20"\n  viewBox="0 0 75 75"\n  width="20"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <g fill="#fff" fill-rule="evenodd" transform="translate(0 13.736264)">\n    <path\n      d="m22.8463837 18.2119173c6.5756797.1478113 10.585751 1.8020104 13.0298545 3.5887422l3.9291669 17.6234408c-4.8169735 1.3742664-9.2153954 4.1561307-12.6728799 7.9003587-5.9346575-9.1046945-13.627732-14.2752618-26.92576083-19.445829l.0576431-.0724863.08436419-.1026121c1.1105031-1.331793 8.72437099-9.8023542 22.49761204-9.4916143z"\n    />\n    <path\n      d="m74.9439846 1.1046788c-8.1318682 11.7830147-14.8351649 24.4553135-17.2527473 38.4615385-2.8571429-1.0004447-5.9340659-1.5562473-9.1208791-1.5562473-1.3812656 0-2.7625312.1317192-4.0892393.3399693l-2.9788221-18.0144913c6.444022-11.67552841 19.228784-18.40456144 32.9707606-19.20539059z"\n    />\n    <path\n      d="m36.8571258 21.719357 3.6273911-.8052884 2.5793903 17.8073684c-.7020757.1150413-1.4041514.2300825-2.1062271.4601649z"\n    />\n    <path\n      d="m70.1594803.55538282c-13.7069528 2.06173881-23.764449 8.35192747-29.6753948 19.07620888l-.2624906.5200262-3.7425669.8013234c-2.8059684-1.7413364-5.5070193-3.8778459-12.5979079-4.0336896-7.5995702-.1676376-12.2045639 1.9616824-16.46353768 3.7996974l.57415955-.5673312c4.03313533-3.936109 8.45564043-7.3737923 14.98104763-8.4391649 4.9512458-.776666 10.8981852.1535901 14.8163388 6.4911269.6044492-19.13367701 23.3058132-18.5735241 32.3703519-17.64819708z"\n    />\n  </g>\n</svg>']);return _templateObject494=function(){return S},S}function _templateObject495(){var S=_taggedTemplateLiteral(['<svg\n  height="4"\n  viewBox="0 0 8 4"\n  width="8"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <path\n    d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"\n    fill="#fff"\n  />\n</svg>']);return _templateObject495=function(){return S},S}function _templateObject496(){var S=_taggedTemplateLiteral(['<svg\n  height="4"\n  viewBox="0 0 8 4"\n  width="8"\n  xmlns="http://www.w3.org/2000/svg"\n>\n  <path\n    d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"\n    fill="#fff"\n  />\n</svg>']);return _templateObject496=function(){return S},S}function _templateObject497(){var S=_taggedTemplateLiteral(['\n      <div\n        class="','"\n      >\n        ','\n        <section class="action-buttons primary">\n          ','\n        </section>\n        <section class="action-buttons secondary">\n          ',"\n        </section>\n      </div>\n    "]);return _templateObject497=function(){return S},S}function _templateObject498(){var S=_taggedTemplateLiteral(["\n      ",'\n      <button\n        class="ia-button ',' down-arrow"\n        @click=',"\n      >\n        ",'\n      </button>\n\n      <ul class="dropdown-content ','">\n        ',"\n      </ul>\n    "]);return _templateObject498=function(){return S},S}function _templateObject499(){var S=_taggedTemplateLiteral(['<span class="'," ",'">\n      <a\n        class="ia-button '," ",'"\n        href="','"\n        target=',"\n        @click=","\n      >\n        "," ","\n        <small>","</small>\n      </a>\n    </span>"]);return _templateObject499=function(){return S},S}function _templateObject500(){var S=_taggedTemplateLiteral(['<button\n      class="ia-button '," ",'"\n      @click=',"\n    >\n      ","\n    </button>"]);return _templateObject500=function(){return S},S}function _templateObject501(){var S=_taggedTemplateLiteral(["<li>","</li>"]);return _templateObject501=function(){return S},S}function _templateObject502(){var S=_taggedTemplateLiteral(['<img\n      class="','"\n      alt=""\n      src="','"\n    />']);return _templateObject502=function(){return S},S}function _templateObject503(){var S=_taggedTemplateLiteral(['\n  <svg\n    class="ia-logo"\n    width="26"\n    height="26"\n    viewBox="0 0 27 30"\n    xmlns="http://www.w3.org/2000/svg"\n    aria-labelledby="logoTitleID logoDescID"\n  >\n    <title id="logoTitleID">Internet Archive logo</title>\n    <desc id="logoDescID">\n      A line drawing of the Internet Archive headquarters building fa\xE7ade.\n    </desc>\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n      <mask id="mask-2" fill="white">\n        <path\n          d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z"\n          id="path-1"\n        ></path>\n      </mask>\n      <use fill="#FFFFFF" xlink:href="#path-1"></use>\n      <g mask="url(#mask-2)" fill="#FFFFFF">\n        <path\n          d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z"\n          id="swatch"\n        ></path>\n      </g>\n    </g>\n  </svg>\n']);return _templateObject503=function(){return S},S}function _templateObject504(){var S=_taggedTemplateLiteral(['\n      <a\n        class="embed-link"\n        @click=','\n        href="/details/','"\n      >\n        <span>','</span>\n        <span class="title">',"</span>\n      </a>\n    "]);return _templateObject504=function(){return S},S}function _templateObject505(){var S=_taggedTemplateLiteral(["\n      :host {\n        padding: 0 10px;\n        height: 3.4rem;\n        display: flex;\n      }\n      .embed-link {\n        display: inline-flex;\n        align-items: center;\n        text-decoration: none;\n        color: var(--primaryTextColor, #fff);\n        font-size: 1.4rem;\n      }\n      .embed-link .title {\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 2;\n        overflow: hidden;\n        text-align: left;\n        line-height: initial;\n      }\n      .embed-link svg {\n        margin-right: 0.5rem;\n        display: block;\n      }\n      .embed-link:hover {\n        text-decoration: underline;\n      }\n    "]);return _templateObject505=function(){return S},S}function _templateObject506(){var S=_taggedTemplateLiteral(['\n      <span class="variable-texts ','">',"</span>\n    "]);return _templateObject506=function(){return S},S}function _templateObject507(){var S=_taggedTemplateLiteral(["\n      :host {\n        display: inline-block;\n      }\n      .variable-texts {\n        margin-right: 10px;\n        vertical-align: middle;\n        font-size: 1.7rem;\n      }\n      .hidden {\n        display: none;\n      }\n      .visible {\n        display: inline-block;\n      }\n    "]);return _templateObject507=function(){return S},S}function _templateObject508(){var S=_taggedTemplateLiteral(['\n      <a\n        class="more-info-icon ','"\n        href=','\n        target="_blank"\n        title="Get more info on borrowing from The Lending Library"\n        data-event-click-tracking="BookReader|BrowsableMoreInfo"\n      >\n        <ia-icon-info></ia-icon-info>\n      </a>\n    ']);return _templateObject508=function(){return S},S}function _templateObject509(){var S=_taggedTemplateLiteral(["",""]);return _templateObject509=function(){return S},S}function _templateObject510(){var S=_taggedTemplateLiteral(["\n      ia-icon-info {\n        display: inline-block;\n        width: 18px;\n        height: 20px;\n        vertical-align: middle;\n        --iconFillColor: white;\n      }\n      .more-info-icon img {\n        width: 24px;\n        height: 24px;\n        vertical-align: middle;\n        background: white;\n      }\n      .hidden {\n        display: none;\n      }\n      .visible {\n        display: inline-block;\n      }\n    "]);return _templateObject510=function(){return S},S}function _templateObject511(){var S=_taggedTemplateLiteral(['\n      <button\n        id="timer-counter"\n        class=',"\n        @click=",'\n        role="timer"\n      >\n        <span>',' - </span>\n        <span class="second">','</span>\n        <span class="sr-only">'," left</span>\n      </button>\n    "]);return _templateObject511=function(){return S},S}function _templateObject512(){var S=_taggedTemplateLiteral(["\n      :host {\n        right: 0;\n        margin-right: 10px;\n        position: absolute;\n      }\n\n      .sr-only {\n        position: absolute;\n        left: -9999px;\n        width: 1px;\n        height: 1px;\n        margin: 0;\n        padding: 0;\n        border: none;\n        overflow: hidden;\n      }\n\n      button#timer-counter {\n        cursor: pointer;\n      }\n\n      .hide {\n        opacity: 0;\n      }\n\n      .show {\n        opacity: 1;\n      }\n    "]);return _templateObject512=function(){return S},S}function _templateObject513(){var S=_taggedTemplateLiteral(['<br />\n      <div\n        id="book-action-bar-custom-buttons"\n        style="display:flex;justify-content:center;"\n      >\n        <button\n          style="'," ",'"\n          @click=','\n        >\n          Keep reading\n        </button>\n        <button\n          style="'," ",'"\n          @click=',"\n        >\n          Return the book\n        </button>\n      </div> "]);return _templateObject513=function(){return S},S}function _templateObject514(){var S=_taggedTemplateLiteral(['<ia-activity-indicator\n                mode="processing"\n                style=',"\n              ></ia-activity-indicator>"]);return _templateObject514=function(){return S},S}function _templateObject515(){var S=_taggedTemplateLiteral(['<ia-activity-indicator\n                mode="processing"\n                style=',"\n              ></ia-activity-indicator>"]);return _templateObject515=function(){return S},S}function _templateObject516(){var S=_taggedTemplateLiteral(['<br />\n      <div\n        id="disabled-book-action-bar-custom-buttons"\n        style="display:flex;justify-content:center; opacity:0.8; pointer-events:none;"\n      >\n        <button\n          disabled\n          style="'," ",'"\n        >\n          ','\n        </button>\n        <span\n          style="position: absolute; visibility: none; height: 1px; width: 1px; overflow: hidden;"\n          >Renewing loan, one moment please.</span\n        >\n        <button\n          disabled\n          style="'," ",'"\n        >\n          ',"\n        </button>\n      </div> "]);return _templateObject516=function(){return S},S}function _templateObject517(){var S=_taggedTemplateLiteral(['<br />\n      <div style="text-align: center">\n        <button\n          style="'," ",'"\n          @click=',"\n        >\n          Okay\n        </button>\n      </div> "]);return _templateObject517=function(){return S},S}function _templateObject518(){var S=_taggedTemplateLiteral(['<section class="lending-wrapper">\n        ',"\n      </section>"]);return _templateObject518=function(){return S},S}function _templateObject519(){var S=_taggedTemplateLiteral(['<section class="lending-wrapper">\n      ',"\n    </section>"]);return _templateObject519=function(){return S},S}function _templateObject520(){var S=_taggedTemplateLiteral(["<book-title-bar\n      .identifier=","\n      .bookTitle=","\n    ></book-title-bar>"]);return _templateObject520=function(){return S},S}function _templateObject521(){var S=_taggedTemplateLiteral(["\n      <collapsible-action-group\n        .userid=","\n        .identifier=","\n        .primaryColor=","\n        .primaryActions=","\n        .secondaryActions=","\n        .width=","\n        .borrowType=","\n        .returnUrl=","\n        .localCache=","\n        .loanTotalTime=","\n        ?hasAdminAccess=","\n        ?disabled=","\n        ?autoRenew=","\n        ?autoReturn=","\n        ?returnNow=","\n        @loanAutoRenewed=","\n        @lendingActionError=","\n        @toggleActionGroup=","\n      >\n      </collapsible-action-group>\n      "," ","\n      <timer-countdown\n        .secondsLeftOnLoan=","\n      ></timer-countdown>\n    "]);return _templateObject521=function(){return S},S}function _templateObject522(){var S=_taggedTemplateLiteral(['<button\n        style="','"\n        @click=',"\n      >\n        refresh\n      </button>"]);return _templateObject522=function(){return S},S}function _templateObject523(){var S=_taggedTemplateLiteral([" Uh oh, something went wrong trying to access\n        this book.<br />\n        Please ",' to try again or send us an email to\n        <a\n          href="mailto:info@archive.org?subject=Help: cannot access my borrowed book: ','"\n          >info@archive.org</a\n        ><br /><br />\n        <code>errorLog: ',"</code>"]);return _templateObject523=function(){return S},S}function _templateObject524(){var S=_taggedTemplateLiteral(["<info-icon iconClass=","></info-icon>"]);return _templateObject524=function(){return S},S}function _templateObject525(){var S=_taggedTemplateLiteral(["<text-group\n          textClass=","\n          .texts=","\n        >\n        </text-group>"]);return _templateObject525=function(){return S},S}function _templateObject526(){var S=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n      }\n\n      .hide {\n        display: none;\n      }\n\n      .lending-wrapper {\n        width: 100%;\n        margin: 0 auto;\n        background: var(--primaryBGColor, #000);\n        color: var(--primaryTextColor, #fff);\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        flex-wrap: wrap;\n      }\n    "]);return _templateObject526=function(){return S},S}function _templateObject527(){var S=_taggedTemplateLiteral(['\n      div[slot="main"] {\n        height: inherit;\n        width: inherit;\n      }\n      ia-bookreader {\n        height: 100%;\n        width: 100%;\n        min-height: inherit;\n      }\n\n      div[slot="header"],\n      div[slot="main"] {\n        width: 100%;\n      }\n    ']);return _templateObject527=function(){return S},S}function _templateObject528(){var S=_taggedTemplateLiteral(["\n      <ia-bookreader\n      .item=","\n      .baseHost=","\n      ?signedIn=",'\n      class="focus-on-child-only"\n      style="min-height: inherit;"\n      .sharedObserver=',"\n      .modal=","\n      @fullscreenStateUpdated=",'\n      >\n        <div slot="header">\n          <slot name="header"></slot>\n        </div>\n        <!--\n          This width is set via CSS, but is not working on older browsers\n          for some reason, resulting in black screen. So set explicitly.\n        -->\n        <div slot="main" style="width:100%">\n          <slot name="main"></slot>\n        </div>\n      </ia-bookreader>\n    ']);return _templateObject528=function(){return S},S}function _templateObject529(){var S=_taggedTemplateLiteral(['<svg class="caret-up-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">\n<path d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"\n  fill=""></path>\n</svg>']);return _templateObject529=function(){return S},S}function _templateObject530(){var S=_taggedTemplateLiteral(['<svg class="caret-down-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">\n<path d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"\nfill=""></path>\n</svg>']);return _templateObject530=function(){return S},S}function _templateObject531(){var S=_taggedTemplateLiteral(["<a\n        href=","\n        @click=","\n        >","</a\n      >"]);return _templateObject531=function(){return S},S}function _templateObject532(){var S=_taggedTemplateLiteral(["<button\n        @click=","\n      >\n        ","\n      </button>"]);return _templateObject532=function(){return S},S}function _templateObject533(){var S=_taggedTemplateLiteral(["<li class=",">","</li>"]);return _templateObject533=function(){return S},S}function _templateObject534(){var S=_taggedTemplateLiteral([""]);return _templateObject534=function(){return S},S}function _templateObject535(){var S=_taggedTemplateLiteral(['\n      <span\n        class="caret"\n        tabindex=',"\n        role=","\n        @click=","\n        @keydown=","\n      >\n        <span ?hidden=",' class="caret-up">\n          <slot name="caret-up">',"</slot>\n        </span>\n        <span ?hidden=",' class="caret-down">\n          <slot name="caret-down">',"</slot>\n        </span>\n      </span>\n    "]);return _templateObject535=function(){return S},S}function _templateObject536(){var S=_taggedTemplateLiteral(['<slot name="list"></slot>']);return _templateObject536=function(){return S},S}function _templateObject537(){var S=_taggedTemplateLiteral(["",""]);return _templateObject537=function(){return S},S}function _templateObject538(){var S=_taggedTemplateLiteral(['\n      <div\n        id="dropdown-backdrop"\n        @keyup=',"\n        @click=","\n      ></div>\n    "]);return _templateObject538=function(){return S},S}function _templateObject539(){var S=_taggedTemplateLiteral([""]);return _templateObject539=function(){return S},S}function _templateObject540(){var S=_taggedTemplateLiteral([""]);return _templateObject540=function(){return S},S}function _templateObject541(){var S=_taggedTemplateLiteral(['\n      <div class="ia-dropdown-group">\n        <button\n          class="click-main"\n          @click=',"\n          ?disabled=",'\n        >\n          <span class="sr-only">Toggle ','</span>\n          <slot name="dropdown-label"></slot>\n          ','\n        </button>\n\n        <ul class="dropdown-main ','">\n          ',"\n        </ul>\n\n        ","\n      </div>\n    "]);return _templateObject541=function(){return S},S}function _templateObject542(){var S=_taggedTemplateLiteral(["var(--dropdownBorderWidth, 1px)"]);return _templateObject542=function(){return S},S}function _templateObject543(){var S=_taggedTemplateLiteral(["var(--dropdownBorderRadius, 4px)"]);return _templateObject543=function(){return S},S}function _templateObject544(){var S=_taggedTemplateLiteral(["var(--dropdownBorderColor, #fff)"]);return _templateObject544=function(){return S},S}function _templateObject545(){var S=_taggedTemplateLiteral(["var(--dropdownBgColor, #333)"]);return _templateObject545=function(){return S},S}function _templateObject546(){var S=_taggedTemplateLiteral(["var(--dropdownTextColor, #fff)"]);return _templateObject546=function(){return S},S}function _templateObject547(){var S=_taggedTemplateLiteral(["var(--dropdownHoverBgColor, rgba(255, 255, 255, 0.3))"]);return _templateObject547=function(){return S},S}function _templateObject548(){var S=_taggedTemplateLiteral(["var(--dropdownSelectedBgColor, #fff)"]);return _templateObject548=function(){return S},S}function _templateObject549(){var S=_taggedTemplateLiteral(["\n      :host {\n        display: inline;\n        color: ",";\n      }\n\n      svg.caret-up-svg,\n      svg.caret-down-svg,\n      ::slotted(svg.caret-up-svg),\n      ::slotted(svg.caret-down-svg) {\n        fill: var(--dropdownCaretColor, #fff);\n        vertical-align: middle;\n      }\n\n      button.click-main {\n        background: transparent;\n        color: inherit;\n        padding: var(--dropdownMainButtonPadding, 0px);\n        border: var(--dropdownMainButtonBorder, none);\n        border-radius: var(--dropdownMainButtonBorderRadius, none);\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        align-content: center;\n        flex-wrap: nowrap;\n        flex-direction: var(--dropdownMainButtonFlexDirection, row);\n        z-index: var(--dropdownListZIndex, 2);\n      }\n\n      button.click-main:disabled {\n        pointer-events: none;\n        cursor: not-allowed;\n        opacity: 0.5;\n        /* Disable text selection on disabled button */\n        -webkit-user-select: none; /* Safari */\n        -ms-user-select: none; /* IE 10 and IE 11 */\n        user-select: none; /* Standard syntax */\n      }\n\n      button.click-main:hover {\n        background-color: var(--dropdownMainButtonHoverBgColor, inherit);\n      }\n\n      button.click-main:focus,\n      button.click-main:focus-visible {\n        background-color: var(--dropdownMainButtonFocusBgColor, inherit);\n      }\n\n      button.click-main:active {\n        background-color: var(--dropdownMainButtonActiveBgColor, inherit);\n      }\n\n      button slot[name='dropdown-label'] {\n        /* Set var to 0px for column layout */\n        padding-right: var(--buttonSlotPaddingRight, 5px);\n        display: inline-block;\n      }\n\n      .ia-dropdown-group {\n        width: inherit;\n        height: inherit;\n        position: relative;\n      }\n\n      .sr-only {\n        border: 0 !important;\n        clip: rect(1px, 1px, 1px, 1px) !important;\n        -webkit-clip-path: inset(50%) !important;\n        clip-path: inset(50%) !important;\n        height: 1px !important;\n        margin: -1px !important;\n        overflow: hidden !important;\n        padding: 0 !important;\n        position: absolute !important;\n        width: 1px !important;\n        white-space: nowrap !important;\n        -webkit-user-select: none !important;\n        user-select: none !important;\n      }\n\n      .caret {\n        /* Maintain centered caret position but with a full-height clickable region */\n        display: flex;\n        align-self: stretch;\n        align-items: center;\n        padding: var(--caretPadding, 0px);\n      }\n\n      .caret svg {\n        height: var(--caretHeight, 10px);\n        width: var(--caretWidth, 20px);\n      }\n\n      #dropdown-backdrop {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100vw;\n        height: 100vh;\n        background-color: transparent;\n        z-index: 1;\n      }\n\n      ul {\n        z-index: var(--dropdownListZIndex, 2);\n      }\n\n      ul.dropdown-main.closed {\n        visibility: hidden;\n        height: 1px;\n        width: 1px;\n      }\n\n      ul.dropdown-main {\n        position: var(--dropdownListPosition, absolute);\n        list-style: none;\n        margin: var(--dropdownOffsetTop, 5px) 0 0 0;\n        padding: 0;\n        color: ",";\n        background: ",";\n\n        font-size: var(--dropdownFontSize, inherit);\n\n        border-top: var(--dropdownBorderTopWidth, ",");\n        border-right: var(--dropdownBorderRightWidth, ",");\n        border-bottom: var(--dropdownBorderBottomWidth, ",");\n        border-left: var(--dropdownBorderLeftWidth, ",");\n        /* Must be after border-width settings for specificity */\n        border-style: solid;\n        border-color: ",";\n\n        border-radius: var(\n            --dropdownBorderTopLeftRadius,\n            ","\n          )\n          var(--dropdownBorderTopRightRadius, ",")\n          var(--dropdownBorderBottomRightRadius, ",")\n          var(--dropdownBorderBottomLeftRadius, ",");\n\n        white-space: var(--dropdownWhiteSpace, normal);\n\n        /* Prevent top/bottom inner li from overlapping inner border */\n        overflow: hidden;\n      }\n\n      ul.dropdown-main li:hover {\n        background-color: ",";\n        color: var(--dropdownHoverTextColor, #fff);\n        list-style: none;\n        cursor: pointer;\n      }\n\n      ul.dropdown-main li:hover:first-child {\n        border-top-color: ",";\n      }\n\n      ul.dropdown-main li:hover:last-child {\n        border-bottom-color: ",";\n      }\n\n      ul.dropdown-main li:hover:not(:first-child) {\n        border-top: 0.5px solid var(--dropdownHoverTopBottomBorderColor, #333);\n      }\n      ul.dropdown-main li:hover:not(:last-child) {\n        border-bottom: 0.5px solid\n          var(--dropdownHoverTopBottomBorderColor, #333);\n      }\n\n      ul.dropdown-main li.selected:last-child {\n        border-bottom-color: ",";\n      }\n\n      ul.dropdown-main li.selected:first-child {\n        border-top-color: ",";\n      }\n\n      ul.dropdown-main li:hover > *,\n      ul.dropdown-main li:focus-within > * {\n        background-color: ",";\n        color: var(--dropdownHoverTextColor, #fff);\n      }\n\n      ul.dropdown-main li.selected > * {\n        background-color: ",";\n        color: var(--dropdownSelectedTextColor, #2c2c2c);\n      }\n\n      ul.dropdown-main li {\n        background: ",";\n        list-style: none;\n        height: 30px;\n        cursor: pointer;\n        border-bottom: 0.5px solid ",";\n        border-top: 0.5px solid ",";\n      }\n\n      ul.dropdown-main li button {\n        background: none;\n        color: inherit;\n        border: none;\n        font: inherit;\n        cursor: pointer;\n        outline: inherit;\n      }\n\n      ul.dropdown-main li a {\n        text-decoration: none;\n        display: block;\n        box-sizing: border-box;\n      }\n\n      ul.dropdown-main li:first-child {\n        border-top-left-radius: var(--dropdownBorderTopLeftRadius, 4px);\n        border-top-right-radius: var(--dropdownBorderTopRightRadius, 4px);\n      }\n\n      ul.dropdown-main li:last-child {\n        border-bottom-right-radius: var(--dropdownBorderBottomRightRadius, 4px);\n        border-bottom-left-radius: var(--dropdownBorderBottomLeftRadius, 4px);\n      }\n\n      /* cover the list with the label */\n      ul.dropdown-main li > * > :first-child {\n        margin: 0;\n        display: flex;\n        align-items: center;\n        justify-content: flex-start;\n        align-content: center;\n        flex-wrap: nowrap;\n        height: 100%;\n        padding: var(--dropdownItemPaddingTop, 5px)\n          var(--dropdownItemPaddingRight, 10px)\n          var(--dropdownItemPaddingBottom, 5px)\n          var(--dropdownItemPaddingLeft, 10px);\n        box-sizing: border-box;\n      }\n\n      ul.dropdown-main li > * {\n        width: 100%;\n        height: inherit;\n        color: ",";\n        background: transparent;\n        padding: 0;\n      }\n    "]);return _templateObject549=function(){return S},S}function _templateObject550(){var S=_taggedTemplateLiteral(['\n      <div class="icon-label-container">\n        <slot name="icon"></slot>\n        <slot></slot>\n      </div>\n    ']);return _templateObject550=function(){return S},S}function _templateObject551(){var S=_taggedTemplateLiteral(["\n    :host {\n      display: block;\n      width: 100%;\n      height: 100%;\n      position: relative;\n    }\n\n    :host(.invert-icon-at-hover:hover) slot[name='icon'] {\n      filter: invert(1);\n    }\n\n    :host(.selected) {\n      background-color: var(--selectedBgColor, #fff);\n      color: var(--selectedTextColor, #2c2c2c);\n    }\n\n    :host(.invert-icon-at-selected.selected) slot[name='icon'] {\n      filter: invert(1);\n    }\n\n    div.icon-label-container {\n      display: flex;\n      width: 100%;\n      align-items: center;\n      justify-content: flex-start;\n      align-content: center;\n      flex-wrap: nowrap;\n      flex-direction: var(--iconLabelFlexDirection, row);\n      height: 100%;\n    }\n\n    slot[name='icon'] {\n      width: var(--iconWidth, 20px);\n      margin-right: var(--iconLabelGutterWidth, 10px);\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n      align-content: center;\n      flex-wrap: nowrap;\n      white-space: nowrap;\n      height: 100%;\n    }\n\n    /* https://css-tricks.com/flexbox-truncated-text/ */\n    ::slotted(div.truncate) {\n      display: flex;\n      width: var(--labelWidth, 100%);\n      text-align: left;\n      word-wrap: break-word; /* Important for long words! */\n      overflow: hidden;\n      text-overflow: ellipsis;\n      min-width: 0;\n    }\n\n    @supports not (-webkit-line-clamp: 2) {\n      ::slotted(div.truncate) {\n        min-width: 0;\n      }\n    }\n    @supports (-webkit-line-clamp: 2) {\n      ::slotted(div.truncate) {\n        min-width: 0;\n        display: -webkit-box;\n        overflow-wrap: break-word;\n        -webkit-line-clamp: 2;\n        -webkit-box-orient: vertical;\n        /* Fixed line-height needed to fit unicode and emojis\n          https://stackoverflow.com/a/67807146\n        */\n        line-height: 1.2em;\n        /* max-height needed for Safari browser */\n        max-height: var(--labelTruncateHeight, 30px);\n        max-width: var(--labelWidth, 100%);\n      }\n    }\n  "]);return _templateObject551=function(){return S},S}function _templateObject552(){var S=_taggedTemplateLiteral(["var(--white, #fff)"]);return _templateObject552=function(){return S},S}function _templateObject553(){var S=_taggedTemplateLiteral(["var(--primaryDisableCTAFill, #767676)"]);return _templateObject553=function(){return S},S}function _templateObject554(){var S=_taggedTemplateLiteral(["var(--secondaryCTABorder, #999)"]);return _templateObject554=function(){return S},S}function _templateObject555(){var S=_taggedTemplateLiteral(["var(--primaryCTAFill, #194880)"]);return _templateObject555=function(){return S},S}function _templateObject556(){var S=_taggedTemplateLiteral(["var(--primaryCTAFillRGB, 25, 72, 128)"]);return _templateObject556=function(){return S},S}function _templateObject557(){var S=_taggedTemplateLiteral(["var(--primaryCTABorder, #c5d1df)"]);return _templateObject557=function(){return S},S}function _templateObject558(){var S=_taggedTemplateLiteral(["var(--primaryErrorCTAFill, #d9534f)"]);return _templateObject558=function(){return S},S}function _templateObject559(){var S=_taggedTemplateLiteral(["var(--primaryErrorCTAFillRGB, 229, 28, 38)"]);return _templateObject559=function(){return S},S}function _templateObject560(){var S=_taggedTemplateLiteral(["var(--primaryErrorCTABorder, #d43f3a)"]);return _templateObject560=function(){return S},S}function _templateObject561(){var S=_taggedTemplateLiteral(["var(--secondaryCTAFill, #333)"]);return _templateObject561=function(){return S},S}function _templateObject562(){var S=_taggedTemplateLiteral(["var(--secondaryCTAFillRGB, 51, 51, 51)"]);return _templateObject562=function(){return S},S}function _templateObject563(){var S=_taggedTemplateLiteral(["var(--primaryCTABorder, #979797)"]);return _templateObject563=function(){return S},S}function _templateObject564(){var S=_taggedTemplateLiteral(["#ee8950"]);return _templateObject564=function(){return S},S}function _templateObject565(){var S=_taggedTemplateLiteral(["#ec7939"]);return _templateObject565=function(){return S},S}function _templateObject566(){var S=_taggedTemplateLiteral(["\n  .ia-button {\n    min-height: 3rem;\n    cursor: pointer;\n    color: ",";\n    line-height: normal;\n    border-radius: 0.4rem;\n    font-size: 1.4rem;\n    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n    border: 1px solid transparent;\n    white-space: nowrap;\n    appearance: auto;\n    box-sizing: border-box;\n    display: flex;\n    align-items: center;\n    transition: all 0.1s ease 0s;\n    vertical-align: middle;\n    padding: 0 3rem;\n    outline-color: ",";\n    outline-offset: -4px;\n    user-select: none;\n    text-decoration: none;\n    width: fit-content;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -o-user-select: none;\n  }\n  .ia-button:focus-visible {\n    outline-style: double;\n  }\n  .ia-button:disabled {\n    cursor: not-allowed;\n    background-color: ",";\n    border: 1px solid ",";\n  }\n  .ia-button.transparent {\n    background-color: transparent;\n  }\n  .ia-button.warning {\n    background-color: ","\n    border-color: ",";\n  }\n\n  .ia-button.primary {\n    background-color: ",";\n    border-color: ",";\n  }\n  .ia-button.primary:hover {\n    background-color: rgba(",", 0.9);\n  }\n  .ia-button.primary:focus-visible {\n    background-color: rgba(",", 0.8);\n  }\n  .ia-button.primary:active {\n    background-color: rgba(",", 0.7);\n  }\n\n  .ia-button.danger {\n    background-color: ",";\n    border-color: ",";\n  }\n  .ia-button.danger:hover {\n    background-color: rgba(",", 0.9);\n  }\n  .ia-button.danger:focus-visible {\n    background-color: rgba(",", 0.8);\n  }\n  .ia-button.danger:active {\n    background-color: rgba(",", 0.7);\n  }\n\n  .ia-button.dark {\n    background-color: ",";\n    border-color: ",";\n  }\n  .ia-button.dark:hover {\n    background-color: rgba(",", 0.9);\n  }\n  .ia-button.dark:focus-visible {\n    background-color: rgba(",", 0.8);\n  }\n  .ia-button.dark:active {\n    background-color: rgba(",", 0.7);\n  }\n"]);return _templateObject566=function(){return S},S}function _templateObject567(){var S=_taggedTemplateLiteral(['\n      <section class="new-list">\n        <form id="user-list-form" @submit=','>\n          <div class="field">\n            <input type="hidden" id="id" .value=',' />\n            <label for="name">List name*</label>\n            <input\n              type="text"\n              id="name"\n              .value=','\n              required\n            />\n          </div>\n          <div class="field">\n            <label for="description">Description</label>\n            <textarea\n              id="description"\n              .value=','\n            ></textarea>\n          </div>\n          <div class="field">\n            <label for="private">Private list</label>\n            <input\n              type="checkbox"\n              id="private"\n              .checked="','"\n            />\n          </div>\n          <div class="footer field">\n            <button\n              type="button"\n              class="ia-button dark"\n              id="cancel"\n              @click=','\n            >\n              Cancel\n            </button>\n            <button\n              type="submit"\n              id="save-list-settings"\n              class="ia-button primary"\n            >\n              Save\n            </button>\n          </div>\n        </form>\n      </section>\n    ']);return _templateObject567=function(){return S},S}function _templateObject568(){var S=_taggedTemplateLiteral(["\n      :host {\n        display: block;\n        padding: 15px 0 0 0;\n        font-size: 14px;\n        position: relative;\n      }\n\n      .field {\n        margin-bottom: 10px;\n        display: flex;\n        align-items: center;\n      }\n\n      label {\n        display: inline-block;\n        width: 90px;\n        text-align: left;\n        margin-right: 10px;\n        font-weight: 700;\n      }\n\n      input[type='text'],\n      textarea {\n        line-height: 20px;\n        padding: 5px;\n        border-radius: 5px;\n        width: 270px;\n        font-family: inherit;\n        font-size: inherit;\n        resize: none;\n        border-style: solid;\n        outline: none;\n        border-radius: 4px;\n        border-width: 1px;\n        border-color: #999;\n      }\n\n      input[type='checkbox'] {\n        cursor: pointer;\n        margin: 0;\n      }\n\n      label[for='private'] {\n        cursor: pointer;\n      }\n\n      .footer {\n        display: block;\n        text-align: center;\n        margin: 10px 0 0 0;\n      }\n\n      .ia-button {\n        display: initial;\n        padding: 0 15px;\n        height: 3.5rem;\n      }\n    "]);return _templateObject568=function(){return S},S}function _templateObject569(){var S=_taggedTemplateLiteral(['<svg\n      viewBox="0 0 100 100"\n      xmlns="http://www.w3.org/2000/svg"\n      >\n    <g fill="currentColor" fill-rule="nonzero">\n      <path d="m49.9459358 0c13.7978412 0 25.5896453 4.88776371 35.3754122 14.6632911 9.7857669 9.7755275 14.678652 21.554993 14.678652 35.3383967 0 13.7800281-4.8928851 25.5594936-14.678652 35.3350211-9.7857669 9.7755274-21.577571 14.6632911-35.3754122 14.6632911s-25.5716235-4.8877637-35.3213471-14.6632911c-9.74972353-9.7755275-14.6245887-21.554993-14.6245887-35.3383967-.00224931-9.0014064 2.23243779-17.3524613 6.70406469-25.0531645 4.47162691-7.7007033 10.54380341-13.7834037 18.21652941-18.24810129 7.6727261-4.46469761 16.0145067-6.69704641 25.0253417-6.69704641zm0 6c-7.9548389 0-15.2549008 1.95357387-22.0076943 5.8829701-6.7720278 3.9405885-12.0963254 9.2741139-16.0455165 16.0751171-3.93842488 6.7824623-5.89471047 14.0931257-5.89272481 22.040225 0 12.1941053 4.24437231 22.4500702 12.87283241 31.1013666 8.6242501 8.6470752 18.8695883 12.9003212 31.0731032 12.9003212 12.2065273 0 22.4734846-4.2557068 31.1349929-12.9081521 8.6603017-8.6512398 12.9190715-18.9040965 12.9190715-31.0935357l-.0036695-.6147591c-.1419586-11.9183989-4.4018851-21.9707923-12.915402-30.475401-8.6615083-8.6524453-18.9284656-12.9081521-31.1349929-12.9081521z" />\n      <path d="m56 23v22h22v11h-22v22h-11l-.001-22h-21.999v-11h21.999l.001-22z" />\n    </g>\n  </svg>']);return _templateObject569=function(){return S},S}function _templateObject570(){var S=_taggedTemplateLiteral(['<svg viewBox="0 0 100 100"\nxmlns="http://www.w3.org/2000/svg"\n>\n<path\n  d="m33.3333333 90-33.3333333-33.3333333 13.3333333-13.3333334 20 20 53.3333334-53.3333333 13.3333333 13.3333333z"\n  fill-rule="evenodd" fill="currentColor"\n/>\n</svg>']);return _templateObject570=function(){return S},S}function _templateObject571(){var S=_taggedTemplateLiteral([' <ia-icon-label>\n        <div slot="icon" class="icon-size">',"</div>\n        Create new list\n      </ia-icon-label>"]);return _templateObject571=function(){return S},S}function _templateObject572(){var S=_taggedTemplateLiteral(['\n      <ia-icon-label>\n        <div slot="icon" class="icon-size">\n          ','\n        </div>\n        <div class="truncate">',"</div>\n      </ia-icon-label>\n    "]);return _templateObject572=function(){return S},S}function _templateObject573(){var S=_taggedTemplateLiteral([' <li class="','">\n      ',"\n    </li>"]);return _templateObject573=function(){return S},S}function _templateObject574(){var S=_taggedTemplateLiteral(["\n      <button @click=",">\n        ","\n      </button>\n    "]);return _templateObject574=function(){return S},S}function _templateObject575(){var S=_taggedTemplateLiteral([" "," "]);return _templateObject575=function(){return S},S}function _templateObject576(){var S=_taggedTemplateLiteral(["\n      :host {\n        display: inline;\n        background-color: #fff;\n      }\n\n      li:hover {\n        list-style: none;\n        cursor: pointer;\n      }\n\n      li {\n        background: #fff;\n        list-style: none;\n        height: 30px;\n        cursor: pointer;\n        border-bottom: 1px #f1f1f1 solid;\n        color: #2c2c2c;\n        width: 140px;\n        text-overflow: ellipsis;\n      }\n\n      li button {\n        background: none;\n        color: inherit;\n        border: none;\n        font: inherit;\n        cursor: pointer;\n        width: 100%;\n        padding: 0px 10px;\n        font-size: 12px;\n        --iconLabelGutterWidth: 8px;\n        --iconWidth: 12px;\n        margin: 0;\n      }\n\n      /* cover the list with the label */\n      li > * > :first-child {\n        margin: 0;\n        display: inline-block;\n        height: 30px;\n        box-sizing: border-box;\n        text-align: left;\n        line-height: initial;\n      }\n\n      /* color opacity calculator: https://codepen.io/quyenvsp/pen/jOLBBmX\n        foreground: #2c2c2c 44;\n        background: #fff;\n      */\n      button:hover {\n        /* 10% 234 */\n        background-color: #eaeaea;\n      }\n\n      button:focus,\n      button:focus-visible {\n        /* 20% 213 */\n        background-color: #d5d5d5;\n      }\n\n      button:active {\n        /* 30% 192 */\n        background-color: #c0c0c0;\n      }\n\n      .icon-size {\n        width: 12px;\n        height: 12px;\n      }\n    "]);return _templateObject576=function(){return S},S}function _templateObject577(){var S=_taggedTemplateLiteral(['<img\n  src="https://archive.org/images/loading.gif"\n  alt="Loading..."\n/>']);return _templateObject577=function(){return S},S}function _templateObject578(){var S=_taggedTemplateLiteral(['\n      <div slot="icon" class="icon-img">','</div>\n      <div class="label">Add to list</div>\n      <div class="label-sm">Lists</div>\n    ']);return _templateObject578=function(){return S},S}function _templateObject579(){var S=_taggedTemplateLiteral(['\n      <div class="label">User Lists<br />Load Error</div>\n      <div class="label-sm">Load<br />Error</div>\n    ']);return _templateObject579=function(){return S},S}function _templateObject580(){var S=_taggedTemplateLiteral(['\n      <div class="action-bar-text">\n        <ia-icon-label>\n          ',"\n        </ia-icon-label>\n      </div>\n    "]);return _templateObject580=function(){return S},S}function _templateObject581(){var S=_taggedTemplateLiteral(['\n      <item-user-lists\n        slot="list"\n        .itemId=',"\n        .lists=","\n        .userListsService=","\n        @addMember=","\n        @removeMember=","\n        @userListError=","\n        @listCreated=","\n      >\n      </item-user-lists>\n    "]);return _templateObject581=function(){return S},S}function _templateObject582(){var S=_taggedTemplateLiteral(['\n      <div class="list-container">\n        <ia-dropdown\n          class="list-dropdown"\n          ?isDisabled=',"\n          ?openViaCaret=","\n          ?isCustomList=","\n          ?closeOnEscape=","\n          ?closeOnBackdropClick=","\n          ?hasCustomClickHandler=","\n          @click=",'\n        >\n          <div class="list-title" slot="dropdown-label">\n            ',"\n          </div>\n          ","\n        </ia-dropdown>\n      </div>\n    "]);return _templateObject582=function(){return S},S}function _templateObject583(){var S=_taggedTemplateLiteral(["\n    :host {\n      display: block;\n    }\n\n    ia-icon-label {\n      cursor: pointer;\n      display: flex;\n    }\n\n    .icon-img {\n      height: 16px;\n      width: 16px;\n      padding-bottom: 3px;\n    }\n\n    div.list-title {\n      font-weight: 600;\n      color: #2c2c2c;\n    }\n\n    ia-dropdown {\n      --dropdownBgColor: #fff;\n      --dropdownItemPaddingRight: 0;\n      --dropdownItemPaddingLeft: 2px;\n      --dropdownBorderColor: #2c2c2c;\n      --dropdownBorderWidth: 2px;\n      --iconLabelGutterWidth: 4px;\n      --iconWidth: 10px;\n      --dropdownOffsetTop: 2px;\n      --buttonSlotPaddingRight: 0;\n      --dropdownMainButtonFlexDirection: column;\n      --dropdownMainButtonPadding: 6px 4px;\n      --dropdownMainButtonHoverBgColor: rgba(44, 44, 44, 0.1);\n      --dropdownMainButtonActiveBgColor: rgba(44, 44, 44, 0.3);\n      --iconLabelGutterWidth: 0;\n      --iconWidth: 16px;\n      --dropdownMainButtonBorder: 2px solid #2c2c2c;\n      --dropdownMainButtonBorderRadius: 3px;\n    }\n\n    .action-bar-text {\n      font-weight: normal;\n      -webkit-user-select: none;\n      user-select: none;\n      --iconLabelFlexDirection: column;\n      --iconLabelGutterWidth: 0;\n      --iconWidth: 16px;\n    }\n\n    /* inside button.click-main, classname from details.inc buttons */\n    @media (min-width: 985px) {\n      .action-bar-text .label-sm {\n        display: none;\n      }\n      .action-bar-text .label {\n        padding-bottom: 2px;\n        padding-top: 2px;\n      }\n    }\n\n    @media (max-width: 984px) {\n      .action-bar-text .label {\n        display: none;\n        padding-top: 2px;\n        padding-bottom: 0px;\n      }\n    }\n\n    .click-backdrop {\n      position: fixed;\n      top: 0px;\n      left: 0px;\n      width: 100vw;\n      height: 100vh;\n      z-index: 1;\n      background-color: transparent;\n    }\n  "]);return _templateObject583=function(){return S},S}(function(){var S=_regeneratorRuntime.default.mark(Ad),pe=function(t,e,n){var o=n||{},l=o.noTrailing,a=l===void 0?!1:l,s=o.noLeading,r=s===void 0?!1:s,d=o.debounceMode,c=d===void 0?void 0:d,h,f=!1,v=0;function b(){h&&clearTimeout(h)}function w(C){var E=C||{},A=E.upcomingOnly,j=A===void 0?!1:A;b(),f=!j}function k(){for(var C=arguments.length,E=new Array(C),A=0;A<C;A++)E[A]=arguments[A];var j=this,y=Date.now()-v;if(f)return;function u(){v=Date.now(),e.apply(j,E)}function p(){h=void 0}!r&&c&&!h&&u(),b(),c===void 0&&y>t?r?(v=Date.now(),a||(h=setTimeout(c?p:u,t))):u():a!==!0&&(h=setTimeout(c?p:u,c===void 0?t-y:t))}return k.cancel=w,k},tt=function(t,e,n,o){var l=arguments.length,a=l<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(s=t[r])&&(a=(l<3?s(a):l>3?s(e,n,a):s(e,n))||a);return l>3&&a&&Object.defineProperty(e,n,a),a},Gr=function(t,e,n,o){function l(a){return _instanceof(a,n)?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function r(h){try{c(o.next(h))}catch(f){s(f)}}function d(h){try{c(o.throw(h))}catch(f){s(f)}}function c(h){h.done?a(h.value):l(h.value).then(r,d)}c((o=o.apply(t,e||[])).next())})},Ti=function(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return Pp!==void 0?Pp.createHTML(e):e},on=function(t){return function(e,n){return n!==void 0?Ex(t,e,n):jx(t,e)}},to=function(t){return on(bi(Zr({},t),{state:!0}))},ii=function(t,e){return Px({descriptor:function(n){var o={get:function(){var s,r;return(r=(s=this.renderRoot)===null||s===void 0?void 0:s.querySelector(t))!==null&&r!==void 0?r:null},enumerable:!0,configurable:!0};if(e){var l=(typeof n=="undefined"?"undefined":_typeof(n))=="symbol"?Symbol():"__"+n;o.get=function(){var a,s;return this[l]===void 0&&(this[l]=(s=(a=this.renderRoot)===null||a===void 0?void 0:a.querySelector(t))!==null&&s!==void 0?s:null),this[l]}}return o}})},ma=function(){return _toConsumableArray(Ad()).pop()},Vu=function(t){var e=Gp.get(t);return e||(e=window.getComputedStyle(t,null),Gp.set(t,e)),e},cT=function(t){if("checkVisibility"in t&&typeof t.checkVisibility=="function")return t.checkVisibility({checkOpacity:!1,checkVisibilityCSS:!0});var e=Vu(t);return e.visibility!=="hidden"&&e.display!=="none"},dT=function(t){var e=Vu(t),n=e.overflowY,o=e.overflowX;return n==="scroll"||o==="scroll"?!0:n!=="auto"||o!=="auto"?!1:t.scrollHeight>t.clientHeight&&n==="auto"||t.scrollWidth>t.clientWidth&&o==="auto"},hT=function(t){var e=t.tagName.toLowerCase(),n=Number(t.getAttribute("tabindex"));return t.hasAttribute("tabindex")&&(isNaN(n)||n<=-1)||t.hasAttribute("disabled")||t.closest("[inert]")||e==="input"&&t.getAttribute("type")==="radio"&&!t.hasAttribute("checked")||!cT(t)?!1:(e==="audio"||e==="video")&&t.hasAttribute("controls")||t.hasAttribute("tabindex")||t.hasAttribute("contenteditable")&&t.getAttribute("contenteditable")!=="false"||["button","input","select","textarea","a","audio","video","summary","iframe"].includes(e)?!0:dT(t)},fT=function(t,e){var n;return((n=t.getRootNode({composed:!0}))===null||n===void 0?void 0:n.host)!==e},qk=function(t){var e=new WeakMap,n=[];function o(l){if(_instanceof(l,Element)){if(l.hasAttribute("inert")||l.closest("[inert]")||e.has(l))return;e.set(l,!0),!n.includes(l)&&hT(l)&&n.push(l),_instanceof(l,HTMLSlotElement)&&fT(l,t)&&l.assignedElements({flatten:!0}).forEach(function(f){o(f)}),l.shadowRoot!==null&&l.shadowRoot.mode==="open"&&o(l.shadowRoot)}var a=!0,s=!1,r=void 0;try{for(var d=Array.from(l.children)[Symbol.iterator](),c;!(a=(c=d.next()).done);a=!0){var h=c.value;o(h)}}catch(f){s=!0,r=f}finally{try{!a&&d.return!=null&&d.return()}finally{if(s)throw r}}}return o(t),n.sort(function(l,a){var s=Number(l.getAttribute("tabindex"))||0;return(Number(a.getAttribute("tabindex"))||0)-s})},pT=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(typeof location=="undefined")return"";for(var n=e&&location.search===""?location.href.slice(1).split("&"):location.search.slice(1).split("&"),o=0;o<n.length;o++)if(n[o].slice(0,n[o].indexOf("="))===t){var l=n[o].slice(n[o].indexOf("=")+1);return l.length>0?unescape(l):""}return""},vT=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"false",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(typeof t!="string")throw new Error("first arg should be a string");$(t).on("click",o,function(l){var a=e(l);return n==="callback"&&a?a:n==="default"?!0:(l&&l.preventDefault&&l.preventDefault(),l&&l.stopPropagation&&l.stopPropagation(),!1)})},cd=function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]=n[o]}return t},fp=function(){X(".row .tilebars").find(".results").parents(".row").each(function(t,e){var n=!1;X(e).find(".results").each(function(o,l){X(l).show().css({visibility:"hidden"}),n||(n=X(l).offset()),X(l).offset().top!==n.top?X(l).hide():X(l).css({visibility:"visible"})})})},Gk=function(t,e){var n=t.querySelector("output");n||(n=document.createElement("output"),n.setAttribute("role","alert"),t.appendChild(n)),n.textContent="",n.textContent=e},mT=function(t){var e=document.createElement("button");return e.type="button",e.textContent="Copy",e.title="Copy to clipboard",e.setAttribute("data-clipboard-target","#".concat(t.querySelector("input").id)),e},gT=function(t){t.querySelector("input")&&(t.appendChild(mT(t)),t.setAttribute("data-copyable-text-ready",""))},yT=function(){var t=new $d("[data-copyable-text] [data-clipboard-target]");t.on("success",function(e){var n=e.trigger.parentElement,o=n.getAttribute("data-copyable-text-success-message")||"Text copied to clipboard.";Gk(n,o)}),t.on("error",function(e){var n=e.trigger.parentElement,o=n.getAttribute("data-copyable-text-error-message")||"Something went wrong.";Gk(n,o)})},bT=function(){var t=document.querySelectorAll("[data-copyable-text]:not([data-copyable-text-ready])");t.length<=0||$d.isSupported()&&(_toConsumableArray(t).forEach(gT),yT())},Yk=function(t,e){var n=t.querySelector(e);return n?n.value:""},wT=function(){Cn("setUpDisabilityEligibility()"),Array.from(document.querySelectorAll(".js-disability-eligibility")).forEach(function(t){var e=t.dataset.disabilityEligibilityType;t.addEventListener("submit",function(n){var o=Yk(t,".disability-eligibility-password"),l=Yk(t,".disability-eligibility-token"),a={type:e,password:o,token:l},s=/\?.*login=([^&]+)/,r=location.href.match(s),d;r&&(d=_slicedToArray(r,2),a.login=d[1]);var c=document.createElement("img");c.src="/images/loading.gif";var h=t.querySelector('input[type="submit"]').parentNode;h.appendChild(c),X.ajax({type:"POST",url:"/services/disability_eligibility.php",dataType:"json",data:a,success:function(f){if(f.status==="success"){alert("Success! Your eligibility has been verified.");return}if(f.message==="not logged in"){alert("Please login first.");return}alert("Sorry. We could not verify your eligibility at this time."),console.log("Verification error: ".concat(f.status_code,", ").concat(f.message))},error:function(f,v,b){alert("Sorry. We could not verify your eligibility at this time."),console.log("Verification error: ".concat(v,", ").concat(b))},complete:function(){c.remove()}}),n.preventDefault()})})},mi=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"false",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(typeof t!="string")throw new Error("first arg should be a string");X(t).on("click",o,function(l){var a=e(l);return n==="callback"&&a?a:n==="default"?!0:(l&&l.preventDefault&&l.preventDefault(),l&&l.stopPropagation&&l.stopPropagation(),!1)})},pp=function(t,e){for(var n=e&&location.search===""?location.href.slice(1).split("&"):location.search.slice(1).split("&"),o=0;o<n.length;o++)if(n[o].slice(0,n[o].indexOf("="))===t){var l=n[o].slice(n[o].indexOf("=")+1);return l.length>0?unescape(l):""}return""},ga=function(t){for(var e="".concat(t).split("."),n=e[0],o=e.length>1?".".concat(e[1]):"",l=/(\d+)(\d{3})/;l.test(n);)n=n.replace(l,"$1,$2");return n+o},_T=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"false";if(typeof t!="string")throw new Error("first arg should be a string");X(t).on("change",function(o){var l=e(o);return n==="callback"&&l?l:n==="default"?!0:(o&&o.preventDefault&&o.preventDefault(),o&&o.stopPropagation&&o.stopPropagation(),!1)})},kT=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"false";if(typeof t!="string")throw new Error("first arg should be a string");X(t).on("submit",function(o){var l=e(o);return n==="callback"&&l?l:n==="default"?!0:(o&&o.preventDefault&&o.preventDefault(),o&&o.stopPropagation&&o.stopPropagation(),!1)})},xT=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o;return function(){var a=this,s=arguments;function r(){var c;n||(c=t).apply.apply(c,[a].concat(_toConsumableArray(s))),o=null}if(o)clearTimeout(o);else if(n){var d;(d=t).apply.apply(d,[a].concat(_toConsumableArray(s)))}o=setTimeout(r,e)}},Ps=function(t,e){Object.keys(e).forEach(function(n){var o=n;zd&&n.search("animation")>-1&&(o=zd+n[0].toUpperCase()+n.substr(1)),t.style[o]=e[n]})},Xk=function(t){Ps(t,{display:"block"})},Kk=function(t){Ps(t,{display:"none"})},ST=function(){var t=document.body,e=document.documentElement,n;return window.innerHeight?n=window.innerHeight:e&&e.clientHeight?n=e.clientHeight:t&&(n=t.clientHeight),n||0},CT=function(){var t=document.body,e=document.documentElement,n;return window.innerWidth?n=window.innerWidth:e&&e.clientWidth?n=e.clientWidth:t&&(n=t.clientWidth),n||0},AT=function(t,e){return e||(e=document.createElement("style"),document.body.appendChild(e)),e.textContent=t,e},dd=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},OT=function(t){return t===document.body},yo=function(t,e){t.classList.add(e)},Qk=function(t,e){t.classList.remove(e)},Jk=function(t,e){return t+Math.floor(Math.random()*(e-t))},vp=function(t,e,n,o,l){return o+(l-o)*(t-e)/(n-e)},Zk=function(t,e,n){return Math.floor(vp(t,0,Fd,e,n))},hd=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=0,l=e.decimal,a=e.errorOnInvalid,s=e.precision,r=e.fromCents,d=Ud(s),c=typeof t=="number",h=_instanceof(t,Vo);if(h&&r)return t.intValue;if(c||h)o=h?t.value:t;else if(typeof t=="string"){var f=new RegExp("[^-\\d"+l+"]","g"),v=new RegExp("\\"+l,"g");o=t.replace(/\((.*)\)/,"-$1").replace(f,"").replace(v,"."),o=o||0}else{if(a)throw Error("Invalid Input");o=0}return r||(o*=d,o=o.toFixed(4)),n?yv(o):o},jT=function(t,e){var n=e.pattern,o=e.negativePattern,l=e.symbol,a=e.separator,s=e.decimal,r=e.groups,d=(""+t).replace(/^-/,"").split("."),c=d[0],h=d[1];return(t.value>=0?n:o).replace("!",l).replace("#",c.replace(r,"$1"+a)+(h?s+h:""))},Zt=function(t){var e,n,o;return typeof t=="object"?(e=t.hashFunction,n=t.expiring,o=t.tags):e=t,function(l,a,s){if(s.value!=null)s.value=ex(s.value,e,n,o);else if(s.get!=null)s.get=ex(s.get,e,n,o);else throw"Only put a Memoize() decorator on a method or get accessor."}},ex=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3?arguments[3]:void 0,l=Symbol("__memoized_map__");return function(){for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];var d;this.hasOwnProperty(l)||Object.defineProperty(this,l,{configurable:!1,enumerable:!1,writable:!1,value:new Map});var c=this[l],h=!0,f=!1,v=void 0;if(Array.isArray(o))try{for(var b=o[Symbol.iterator](),w;!(h=(w=b.next()).done);h=!0){var k=w.value;ch.has(k)?ch.get(k).push(c):ch.set(k,[c])}}catch(u){f=!0,v=u}finally{try{!h&&b.return!=null&&b.return()}finally{if(f)throw v}}if(e||s.length>0||n>0){var C;e===!0?C=s.map(function(u){return u.toString()}).join("!"):e?C=e.apply(this,s):C=s[0];var E="".concat(C,"__timestamp"),A=!1;if(n>0)if(!c.has(E))A=!0;else{var j=c.get(E);A=Date.now()-j>n}c.has(C)&&!A?d=c.get(C):(d=t.apply(this,s),c.set(C,d),n>0&&c.set(E,Date.now()))}else{var y=this;c.has(y)?d=c.get(y):(d=t.apply(this,s),c.set(y,d))}return d}},ET=function(t,e,n){if(typeof window.archive_analytics!="undefined"){var o={bookreader:"error",description:t,page:e,line:n};document.referrer==""?o.referrer="-":o.referrer=document.referrer,typeof br!="undefined"&&(o.itemid=br.bookId,o.subPrefix=br.subPrefix,o.server=br.server,o.bookPath=br.bookPath),archive_analytics.send_ping(o)}return!1},tx=function(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return pg!==void 0?pg.createHTML(e):e},nx=function(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return Lg!==void 0?Lg.createHTML(e):e},rx=function(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return ny!==void 0?ny.createHTML(e):e},TT=function(){return{el:"#BookReader",showToolbar:!1,onePage:{autofit:"height"},enableFSLogoShortcut:!0,enableBookmarks:!1,enablePageResume:!1,enableTtsPlugin:!1,enableUrlPlugin:!1,defaults:"mode/1up",enableSearch:!0,searchInsideUrl:"/fulltext/inside.php",initialSearchTerm:null,imagesBaseURL:"/bookreader/BookReader/images/",defaultStartLeaf:0,titleLeaf:0,controls:{twoPage:{visible:!1},viewmode:{visible:!1}},bookType:"linerNotes"}},PT=function(t){return $n(this,null,_regeneratorRuntime.default.mark(function e(){return _regeneratorRuntime.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,new Promise(function(l,a){var s=new Image;s.onload=function(){return l(s)},s.onerror=a,s.src=t});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},e)}))},IT=function(t){return $n(this,null,_regeneratorRuntime.default.mark(function e(){var n,o;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=this,o=[],a.next=4,Promise.all(t.map(function(s){return $n(n,null,_regeneratorRuntime.default.mark(function r(){var d,c;return _regeneratorRuntime.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=1,f.next=4,PT(s.uri);case 4:d=f.sent,f.next=10;break;case 7:f.prev=7,f.t0=f.catch(1),d=new Image(300,300);case 10:console.log("^^^^^^^^^^^^^^ FETCH IMAGE ~~~~~~~",d,d.height,d.width),c=t.indexOf(s),o[c]=bi(Zr({},s),{width:d.width,height:d.height});case 13:case"end":return f.stop()}},r,null,[[1,7]])}))}));case 4:return a.abrupt("return",(a.sent,o));case 5:case"end":return a.stop()}},e,this)}))},MT=function(t){return $n(this,arguments,_regeneratorRuntime.default.mark(function e(n){var o,l,a,s,r,d,c,h,f,v,b,w,k,C;return _regeneratorRuntime.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return o=n.images,l=o===void 0?[]:o,a=n.itemIdentifier,s=a===void 0?"":a,r=n.itemTitle,d=r===void 0?"":r,c=n.baseHost,h=c===void 0?"archive.org":c,A.next=3,fetch("https://".concat(h,"/metadata/").concat(s,"/metadata")).then(function(j){return j.json()});case 3:if(A.t0=A.sent.result,A.t0){A.next=6;break}A.t0={};case 6:return f=A.t0,v=l.map(function(j,y){var u=y%2===1?"L":"R";return console.log("imgPath",j),{uri:"https://".concat(h,"/download/").concat(s).concat(j),leafNum:y,pageType:"Normal",pageSide:u}}),A.next=10,IT(v);case 10:return b=A.sent,w=[],b.forEach(function(j,y){if(y===0){w.push([j]);return}if(y%2===1){w.push([j]);return}y%2===0&&w[w.length-1].push(j)}),k=bi(Zr(Zr({},{bookId:s,bookPath:"/download/".concat(s),bookTitle:d,defaults:"mode/1up",dfaultStartLeaf:0,ppi:200,data:w}),TT()),{enableSearch:!1,plugins:{textSelection:{enabled:!1}}}),C={data:{streamOnly:!1,isRestricted:!1,id:s,subPrefix:s,bookUrl:"/details/".concat(s)},brOptions:k,metadata:f},A.abrupt("return",(console.log("**** MANIFEST _---",C,k),C));case 15:case"end":return A.stop()}},e)}))},ix=function(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return Gy!==void 0?Gy.createHTML(e):e},ox=function(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return a0!==void 0?a0.createHTML(e):e},ax=function(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return w0!==void 0?w0.createHTML(e):e},LT=function(){return{el:"#BookReader",showToolbar:!1,onePage:{autofit:"height"},enableFSLogoShortcut:!0,enableBookmarks:!1,enablePageResume:!1,enableTtsPlugin:!1,enableUrlPlugin:!1,defaults:"mode/1up",enableSearch:!0,searchInsideUrl:"/fulltext/inside.php",initialSearchTerm:null,imagesBaseURL:"/bookreader/BookReader/images/",defaultStartLeaf:0,titleLeaf:0,controls:{twoPage:{visible:!1},viewmode:{visible:!1}},bookType:"linerNotes"}},RT=function(t){var e,n=t.brOptions,o=Zr(Zr({},LT()),n),l=new window.BookReader(o),a=window.BookReader.prototype.getPageURI;l.getPageURI=function(r){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,h=Math.pow(2,Math.floor(Math.log2(Math.max(1,d)))),f=a.call(l,r,h,c);return f+=f.indexOf("?")>-1?"&":"?",f="".concat(f,"scale=").concat(h,"&rotate=").concat(c),f},window.br=l;var s=(e=t==null?void 0:t.data)===null||e===void 0?void 0:e.isRestricted;return window.dispatchEvent(new CustomEvent("contextmenu",{detail:{isRestricted:s}})),l},mp=function(){X(".row .tilebars").find(".results").parents(".row").each(function(t,e){var n=!1;X(e).find(".results").each(function(o,l){X(l).show().css({visibility:"hidden"}),n||(n=X(l).offset()),X(l).offset().top!==n.top?X(l).hide():X(l).css({visibility:"visible"})})})},sx=function(t,e){if(!bf(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return B0!==void 0?B0.createHTML(e):e},DT=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(typeof location=="undefined")return"";for(var n=e&&location.search===""?location.href.slice(1).split("&"):location.search.slice(1).split("&"),o=0;o<n.length;o++)if(n[o].slice(0,n[o].indexOf("="))===t){var l=n[o].slice(n[o].indexOf("=")+1);return l.length>0?unescape(l):""}return""},$T=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:300,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=_toConsumableArray(t);if(o.length<=e)return t;var l=o.slice(0,e).join(""),a=l.lastIndexOf(" ");return a>=0?n?t:"".concat(l.slice(0,a),"..."):"".concat(o.slice(0,e-2).join(""),"..")},NT=function(t){var e={};return Object.entries(t).map(function(n){e[n[1]]=n[0]}),e},lx=function(){return location.hostname||location.host},gp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;return e&&(n=t.match(/^(\d+):(\d+):([\d.]+),(\d+)$/))?Number(n[1])*3600+Number(n[2])*60+Number(n[3])+Number("0.".concat(n[4])):(n=t.match(/^(\d+):(\d+):([\d+.]+)$/))?(n=n.map(function(o){return parseFloat(o)}),n[1]*3600+n[2]*60+n[3]):(n=t.match(/^(\d+):([\d+.]+)$/))?(n=n.map(function(o){return parseFloat(o)}),n[1]*60+n[2]):(n=t.match(/^([\d+.]+)$/))?parseFloat(n[1]):!1},BT=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"false",o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(typeof t!="string")throw new Error("first arg should be a string");$(t).on("click",o,function(l){var a=e(l);return n==="callback"&&a?a:n==="default"?!0:(l&&l.preventDefault&&l.preventDefault(),l&&l.stopPropagation&&l.stopPropagation(),!1)})},zT=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return $n(this,null,_regeneratorRuntime.default.mark(function n(){var o,l,a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=typeof window!="undefined"&&window.navigator.onLine===!1,l=o?"".concat(location.origin,"/json/").concat(t,".json"):"https://archive.org/metadata/".concat(t).concat(e?"/".concat(e):""),r.next=4,fetch(l);case 4:return a=r.sent,r.abrupt("return",a.json());case 6:case"end":return r.stop()}},n)}))},FT=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:300,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=_toConsumableArray(t);if(o.length<=e)return t;var l=o.slice(0,e).join(""),a=l.lastIndexOf(" ");return a>=0?n?t:"".concat(l.slice(0,a),"..."):"".concat(o.slice(0,e-2).join(""),"..")},HT=function(t){var e={};return Object.entries(t).map(function(n){e[n[1]]=n[0]}),e},ux=function(){return location.hostname||location.host},yp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;return e&&(n=t.match(/^(\d+):(\d+):([\d.]+),(\d+)$/))?Number(n[1])*3600+Number(n[2])*60+Number(n[3])+Number("0.".concat(n[4])):(n=t.match(/^(\d+):(\d+):([\d+.]+)$/))?(n=n.map(function(o){return parseFloat(o)}),n[1]*3600+n[2]*60+n[3]):(n=t.match(/^(\d+):([\d+.]+)$/))?(n=n.map(function(o){return parseFloat(o)}),n[1]*60+n[2]):(n=t.match(/^([\d+.]+)$/))?parseFloat(n[1]):!1},UT=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return $n(this,null,_regeneratorRuntime.default.mark(function n(){var o,l,a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=typeof window!="undefined"&&window.navigator.onLine===!1,l=o?"".concat(location.origin,"/json/").concat(t,".json"):"https://archive.org/metadata/".concat(t).concat(e?"/".concat(e):""),r.next=4,fetch(l);case 4:return a=r.sent,r.abrupt("return",a.json());case 6:case"end":return r.stop()}},n)}))},jl=function(t){return new Promise(function(e,n){t.oncomplete=t.onsuccess=function(){return e(t.result)},t.onabort=t.onerror=function(){return n(t.error)}})},VT=function(t,e){var n=indexedDB.open(t);n.onupgradeneeded=function(){return n.result.createObjectStore(e)};var o=jl(n);return function(l,a){return o.then(function(s){return a(s.transaction(e,l).objectStore(e))})}},fd=function(){return pk||(pk=VT("keyval-store","keyval")),pk},WT=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fd();return e("readonly",function(n){return jl(n.get(t))})},qT=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fd();return n("readwrite",function(o){return o.put(e,t),jl(o.transaction)})},GT=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fd();return e("readwrite",function(n){return n.delete(t),jl(n.transaction)})},YT=function(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},jl(t.transaction)},XT=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:fd();return t("readonly",function(e){if(e.getAllKeys)return jl(e.getAllKeys());var n=[];return YT(e,function(o){return n.push(o.key)}).then(function(){return n})})},KT=function(t,e){return t.setMilliseconds(t.getMilliseconds()+e*1e3),t},Is=function(t){return $n(this,null,_regeneratorRuntime.default.mark(function e(){var n,o,l,a,s,r,d,c,h,f,v,b,w;return _regeneratorRuntime.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return l=Zr({action:null,identifier:"",success:function(){},error:function(){}},t),a="/services/loans/loan",s=window==null?void 0:window.location,r="loan token not found. please try again later.",d="This book is not available to borrow at this time. Please try again later.",c=["browse_book","borrow_book","create_token","renew_loan","return_loan"],h=((n=s==null?void 0:s.href)==null?void 0:n.indexOf("?error=true"))!==-1&&(s==null?void 0:s.hostname)!=="archive.org",f=["localhost","internetarchive.github.io"],v=!1,f.includes(s.hostname)&&(v=!0,a=s.href),b=new FormData,b.append("action",l.action),b.append("identifier",l.identifier),C.prev=5,w=this,C.next=9,fetch(a,{method:"POST",body:b}).then(function(E){return $n(w,null,_regeneratorRuntime.default.mark(function A(){return _regeneratorRuntime.default.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(!(h&&c.includes(l==null?void 0:l.action))){y.next=4;break}y.t0={success:!1,error:(l==null?void 0:l.action)==="create_token"?r:d},y.next=17;break;case 4:if(!v){y.next=15;break}if(!((l==null?void 0:l.action)=="renew_loan"||(l==null?void 0:l.action)=="return_loan")){y.next=11;break}return y.next=8,new Promise(function(u){return setTimeout(u,5e3)});case 8:y.t2=(y.sent,{success:!0,loan:{renewal:!0}}),y.next=12;break;case 11:y.t2={success:!0,message:"operation executed successfully!"};case 12:y.t1=y.t2,y.next=16;break;case 15:y.t1=E.json();case 16:y.t0=y.t1;case 17:return y.abrupt("return",y.t0);case 18:case"end":return y.stop()}},A)}))}).then(function(E){E!=null&&E.error?l==null||l.error(E):l==null||l.success(E)});case 9:C.next=14;break;case 11:C.prev=11,C.t0=C.catch(5),(o=window==null?void 0:window.Sentry)==null||o.captureException("".concat(aa.actionsHandlerService," - Error: ").concat(C.t0));case 14:case"end":return C.stop()}},e,this,[[5,11]])}))},QT=function(t){return t&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},pd=function(t,e,n,o,l,a){return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+(n?"; expires=".concat(n.toUTCString()):"")+(l?"; domain=".concat(l):"")+(o?"; path=".concat(o):"")+(a?"; secure":""),!0},ya=function(t,e,n){this.maxAge=18e4,this.postInitCB=null,this.requestCount=0,this.maxRequests=3,this.br=t,this.bookId=e||"",this.postInitCB=n,this.tokenErrorMessage="no access token"},JT=function(){try{return document.cookie,!0}catch(t){return!1}},Yr=function(t,e,n,o){var l=arguments.length,a=l<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(s=t[r])&&(a=(l<3?s(a):l>3?s(e,n,a):s(e,n))||a);return l>3&&a&&Object.defineProperty(e,n,a),a},El=function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},cx=function(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return RE!==void 0?RE.createHTML(e):e},ZT=function(t){var e=t.slice(0,4),n=t.slice(4,6),o=t.slice(6,8),l=t.slice(8,10),a=t.slice(10,12),s=t.slice(12,14);return"".concat(e,"-").concat(n,"-").concat(o,"T").concat(l,":").concat(a,":").concat(s,"Z")},e1=function(t){var e,n=[],o=!0,l=!1,a=void 0;try{for(var s=t[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var d=r.value;if(!((e=d.captures)===null||e===void 0)&&e.length){var c=encodeURIComponent(d.url),h="https://web.archive.org/web/".concat(d.captures[0],"/").concat(c);n.push({hit_type:"web_archive",fields:{url:d.url,capture_dates:d.captures.map(function(f){return ZT(f)}),__href__:h}})}}}catch(f){l=!0,a=f}finally{try{!o&&s.return!=null&&s.return()}finally{if(l)throw a}}return n},t1=function(t){var e=[],n="";for(n in t)e.push(n);return e},bp=function(t){return t=JSON.stringify(t),!(typeof t!="string"||!/^\{[\s\S]*\}$/.test(t))},n1=function(t){return _instanceof(t,Array)},r1=function(t){return Array.prototype.slice.call(t)},i1=function(t,e,n){return $n(this,null,_regeneratorRuntime.default.mark(function o(){var l,a,s,r;return _regeneratorRuntime.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:l=this,a=document.querySelector("modal-manager"),a||(s=document.querySelector("body"),a=document.createElement("modal-manager"),s==null||s.appendChild(a)),r=function(){var h=a!=null?a:document.querySelector("modal-manager");h==null||h.showModal({config:new wa,customModalContent:void 0,userClosedModalCallback:void 0}),h==null||h.closeModal(),a==null||a.removeAttribute("id")},a==null||a.setAttribute("id","create-user-list-modal"),a.showModal({config:new wa({title:xt(_templateObject()),headerColor:"#194880",showCloseButton:!0,showHeaderLogo:!1,closeOnBackdropClick:!0}),userClosedModalCallback:function(){return r()},customModalContent:xt(_templateObject1(),{id:void 0,list_name:"",description:"",is_private:!1},t,function(){return r()},function(h){var f,v,b,w,k=(w=(v=(f=h.detail.error)===null||f===void 0?void 0:f.reason)!==null&&v!==void 0?v:(b=h.detail.error)===null||b===void 0?void 0:b.message)!==null&&w!==void 0?w:"Unknown error from iaux-userlist-settings";console==null||console.error("userListSettingsError",k)},function(){return $n(l,null,_regeneratorRuntime.default.mark(function h(){return _regeneratorRuntime.default.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:e==null||e();case 1:case"end":return v.stop()}},h)}))},function(h){return $n(l,null,_regeneratorRuntime.default.mark(function f(){return _regeneratorRuntime.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,n==null?void 0:n(h.detail.id);case 2:r();case 3:case"end":return b.stop()}},f)}))})});case 5:case"end":return c.stop()}},o,this)}))},dx=Object.defineProperty,o1=Object.defineProperties,a1=Object.getOwnPropertyDescriptors,s1=Object.getOwnPropertyNames,vd=Object.getOwnPropertySymbols,hx=Object.prototype.hasOwnProperty,fx=Object.prototype.propertyIsEnumerable,wp=function(g,t){return(t=Symbol[g])?t:Symbol.for("Symbol."+g)},Ri=Math.pow,px=function(g,t,e){return t in g?dx(g,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):g[t]=e},Zr=function(g,t){for(var e in t||(t={}))hx.call(t,e)&&px(g,e,t[e]);var n=!0,o=!1,l=void 0;if(vd)try{for(var a=vd(t)[Symbol.iterator](),s;!(n=(s=a.next()).done);n=!0){var e=s.value;fx.call(t,e)&&px(g,e,t[e])}}catch(r){o=!0,l=r}finally{try{!n&&a.return!=null&&a.return()}finally{if(o)throw l}}return g},bi=function(g,t){return o1(g,a1(t))},Bi=function(g,t){var e={};for(var n in g)hx.call(g,n)&&t.indexOf(n)<0&&(e[n]=g[n]);var o=!0,l=!1,a=void 0;if(g!=null&&vd)try{for(var s=vd(g)[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var n=r.value;t.indexOf(n)<0&&fx.call(g,n)&&(e[n]=g[n])}}catch(d){l=!0,a=d}finally{try{!o&&s.return!=null&&s.return()}finally{if(l)throw a}}return e},Ht=function(g,t){return function(){return g&&(t=(0,g[s1(g)[0]])(g=0)),t}},wi=function(g,t){for(var e in t)dx(g,e,{get:t[e],enumerable:!0})},$n=function(g,t,e){return new Promise(function(n,o){var l=function(r){try{s(e.next(r))}catch(d){o(d)}},a=function(r){try{s(e.throw(r))}catch(d){o(d)}},s=function(r){return r.done?n(r.value):Promise.resolve(r.value).then(l,a)};s((e=e.apply(g,t)).next())})},l1=function(t,e){this[0]=t,this[1]=e},u1=function(g){var t=g[wp("asyncIterator")],e=!1,n,o={};return t==null?(t=g[wp("iterator")](),n=function(l){return o[l]=function(a){return t[l](a)}}):(t=t.call(g),n=function(l){return o[l]=function(a){if(e){if(e=!1,l==="throw")throw a;return a}return e=!0,{done:!1,value:new l1(new Promise(function(s){var r=t[l](a);if(!_instanceof(r,Object))throw TypeError("Object expected");s(r)}),1)}}}),o[wp("iterator")]=function(){return o},n("next"),"throw"in t?n("throw"):o.throw=function(l){throw l},"return"in t&&n("return"),o},_p=Ht({"https-url:https://esm.archive.org/v135/throttle-debounce@5.0.0/esnext/throttle-debounce.mjs":function(){}}),Fr=Ht({"https-url:https://esm.archive.org/v135/tslib@2.6.2/esnext/tslib.mjs":function(){}}),Wu,md,gd,kp,xp,vx,Ut,mx,Sp,gx=Ht({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/css-tag.js":function(){Wu=window,md=Wu.ShadowRoot&&(Wu.ShadyCSS===void 0||Wu.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,gd=Symbol(),kp=new WeakMap,xp=function(){"use strict";function g(t,e,n){if(_classCallCheck(this,g),this._$cssResult$=!0,n!==gd)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}return _createClass(g,[{key:"styleSheet",get:function(){var e=this.o,n=this.t;if(md&&e===void 0){var o=n!==void 0&&n.length===1;o&&(e=kp.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),o&&kp.set(n,e))}return e}},{key:"toString",value:function(){return this.cssText}}]),g}(),vx=function(g){return new xp(typeof g=="string"?g:g+"",void 0,gd)},Ut=function(g){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];var o=g.length===1?g[0]:e.reduce(function(l,a,s){return l+function(r){if(r._$cssResult$===!0)return r.cssText;if(typeof r=="number")return r;throw Error("Value passed to 'css' function must be a 'css' function result: "+r+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")}(a)+g[s+1]},g[0]);return new xp(o,g,gd)},mx=function(g,t){md?g.adoptedStyleSheets=t.map(function(e){return _instanceof(e,CSSStyleSheet)?e:e.styleSheet}):t.forEach(function(e){var n=document.createElement("style"),o=Wu.litNonce;o!==void 0&&n.setAttribute("nonce",o),n.textContent=e.cssText,g.appendChild(n)})},Sp=md?function(g){return g}:function(g){return _instanceof(g,CSSStyleSheet)?function(t){var e="",n=!0,o=!1,l=void 0;try{for(var a=t.cssRules[Symbol.iterator](),s;!(n=(s=a.next()).done);n=!0){var r=s.value;e+=r.cssText}}catch(d){o=!0,l=d}finally{try{!n&&a.return!=null&&a.return()}finally{if(o)throw l}}return vx(e)}(g):g}}}),Cp,qu,Ap,yx,Op,yd,jp,bd,wd,Ms,Ep=Ht({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/reactive-element.mjs":function(){gx(),gx(),qu=window,Ap=qu.trustedTypes,yx=Ap?Ap.emptyScript:"",Op=qu.reactiveElementPolyfillSupport,yd={toAttribute:function(t,e){switch(e){case Boolean:t=t?yx:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute:function(t,e){var n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch(o){n=null}}return n}},jp=function(g,t){return t!==g&&(t==t||g==g)},bd={attribute:!0,type:String,converter:yd,reflect:!1,hasChanged:jp},wd="finalized",Ms=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n._$Ei=new Map,n.isUpdatePending=!1,n.hasUpdated=!1,n._$El=null,n._$Eu(),_possibleConstructorReturn(n)}return _createClass(e,[{key:"_$Eu",value:function(){var o=this,l;this._$E_=new Promise(function(a){return o.enableUpdating=a}),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(l=this.constructor.h)===null||l===void 0||l.forEach(function(a){return a(o)})}},{key:"addController",value:function(o){var l,a;((l=this._$ES)!==null&&l!==void 0?l:this._$ES=[]).push(o),this.renderRoot!==void 0&&this.isConnected&&((a=o.hostConnected)===null||a===void 0||a.call(o))}},{key:"removeController",value:function(o){var l;(l=this._$ES)===null||l===void 0||l.splice(this._$ES.indexOf(o)>>>0,1)}},{key:"_$Eg",value:function(){var o=this;this.constructor.elementProperties.forEach(function(l,a){o.hasOwnProperty(a)&&(o._$Ei.set(a,o[a]),delete o[a])})}},{key:"createRenderRoot",value:function(){var o,l=(o=this.shadowRoot)!==null&&o!==void 0?o:this.attachShadow(this.constructor.shadowRootOptions);return mx(l,this.constructor.elementStyles),l}},{key:"connectedCallback",value:function(){var o;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(o=this._$ES)===null||o===void 0||o.forEach(function(l){var a;return(a=l.hostConnected)===null||a===void 0?void 0:a.call(l)})}},{key:"enableUpdating",value:function(o){}},{key:"disconnectedCallback",value:function(){var o;(o=this._$ES)===null||o===void 0||o.forEach(function(l){var a;return(a=l.hostDisconnected)===null||a===void 0?void 0:a.call(l)})}},{key:"attributeChangedCallback",value:function(o,l,a){this._$AK(o,a)}},{key:"_$EO",value:function(o,l){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:bd,s,r=this.constructor._$Ep(o,a);if(r!==void 0&&a.reflect===!0){var d=(((s=a.converter)===null||s===void 0?void 0:s.toAttribute)!==void 0?a.converter:yd).toAttribute(l,a.type);this._$El=o,d==null?this.removeAttribute(r):this.setAttribute(r,d),this._$El=null}}},{key:"_$AK",value:function(o,l){var a,s=this.constructor,r=s._$Ev.get(o);if(r!==void 0&&this._$El!==r){var d=s.getPropertyOptions(r),c=typeof d.converter=="function"?{fromAttribute:d.converter}:((a=d.converter)===null||a===void 0?void 0:a.fromAttribute)!==void 0?d.converter:yd;this._$El=r,this[r]=c.fromAttribute(l,d.type),this._$El=null}}},{key:"requestUpdate",value:function(o,l,a){var s=!0;o!==void 0&&(((a=a||this.constructor.getPropertyOptions(o)).hasChanged||jp)(this[o],l)?(this._$AL.has(o)||this._$AL.set(o,l),a.reflect===!0&&this._$El!==o&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(o,a))):s=!1),!this.isUpdatePending&&s&&(this._$E_=this._$Ej())}},{key:"_$Ej",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function o(){var l;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.isUpdatePending=!0,s.prev=1,s.next=4,this._$E_;case 4:s.next=9;break;case 6:s.prev=6,s.t0=s.catch(1),Promise.reject(s.t0);case 9:if(l=this.scheduleUpdate(),s.t1=l!=null,!s.t1){s.next=14;break}return s.next=14,l;case 14:return s.abrupt("return",(s.t1&&s.sent,!this.isUpdatePending));case 15:case"end":return s.stop()}},o,this,[[1,6]])}))}},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){var o=this,l;if(this.isUpdatePending){this.hasUpdated,this._$Ei&&(this._$Ei.forEach(function(r,d){return o[d]=r}),this._$Ei=void 0);var a=!1,s=this._$AL;try{a=this.shouldUpdate(s),a?(this.willUpdate(s),(l=this._$ES)===null||l===void 0||l.forEach(function(r){var d;return(d=r.hostUpdate)===null||d===void 0?void 0:d.call(r)}),this.update(s)):this._$Ek()}catch(r){throw a=!1,this._$Ek(),r}a&&this._$AE(s)}}},{key:"willUpdate",value:function(o){}},{key:"_$AE",value:function(o){var l;(l=this._$ES)===null||l===void 0||l.forEach(function(a){var s;return(s=a.hostUpdated)===null||s===void 0?void 0:s.call(a)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(o)),this.updated(o)}},{key:"_$Ek",value:function(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._$E_}},{key:"shouldUpdate",value:function(o){return!0}},{key:"update",value:function(o){var l=this;this._$EC!==void 0&&(this._$EC.forEach(function(a,s){return l._$EO(s,l[s],a)}),this._$EC=void 0),this._$Ek()}},{key:"updated",value:function(o){}},{key:"firstUpdated",value:function(o){}}],[{key:"addInitializer",value:function(o){var l;this.finalize(),((l=this.h)!==null&&l!==void 0?l:this.h=[]).push(o)}},{key:"observedAttributes",get:function(){var o=this;this.finalize();var l=[];return this.elementProperties.forEach(function(a,s){var r=o._$Ep(s,a);r!==void 0&&(o._$Ev.set(r,s),l.push(r))}),l}},{key:"createProperty",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bd;if(l.state&&(l.attribute=!1),this.finalize(),this.elementProperties.set(o,l),!l.noAccessor&&!this.prototype.hasOwnProperty(o)){var a=(typeof o=="undefined"?"undefined":_typeof(o))=="symbol"?Symbol():"__"+o,s=this.getPropertyDescriptor(o,a,l);s!==void 0&&Object.defineProperty(this.prototype,o,s)}}},{key:"getPropertyDescriptor",value:function(o,l,a){return{get:function(){return this[l]},set:function(r){var d=this[o];this[l]=r,this.requestUpdate(o,d,a)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(o){return this.elementProperties.get(o)||bd}},{key:"finalize",value:function(){if(this.hasOwnProperty(wd))return!1;this[wd]=!0;var o=Object.getPrototypeOf(this);if(o.finalize(),o.h!==void 0&&(this.h=_toConsumableArray(o.h)),this.elementProperties=new Map(o.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){var l=this.properties,a=_toConsumableArray(Object.getOwnPropertyNames(l)).concat(_toConsumableArray(Object.getOwnPropertySymbols(l))),s=!0,r=!1,d=void 0;try{for(var c=a[Symbol.iterator](),h;!(s=(h=c.next()).done);s=!0){var f=h.value;this.createProperty(f,l[f])}}catch(v){r=!0,d=v}finally{try{!s&&c.return!=null&&c.return()}finally{if(r)throw d}}}return this.elementStyles=this.finalizeStyles(this.styles),!0}},{key:"finalizeStyles",value:function(o){var l=[];if(Array.isArray(o)){var a=new Set(o.flat(1/0).reverse()),s=!0,r=!1,d=void 0;try{for(var c=a[Symbol.iterator](),h;!(s=(h=c.next()).done);s=!0){var f=h.value;l.unshift(Sp(f))}}catch(v){r=!0,d=v}finally{try{!s&&c.return!=null&&c.return()}finally{if(r)throw d}}}else o!==void 0&&l.push(Sp(o));return l}},{key:"_$Ep",value:function(o,l){var a=l.attribute;return a===!1?void 0:typeof a=="string"?a:typeof o=="string"?o.toLowerCase():void 0}}]),e}(_wrapNativeSuper(HTMLElement)),Ms[wd]=!0,Ms.elementProperties=new Map,Ms.elementStyles=[],Ms.shadowRootOptions={mode:"open"},Op==null||Op({ReactiveElement:Ms}),((Cp=qu.reactiveElementVersions)!==null&&Cp!==void 0?Cp:qu.reactiveElementVersions=[]).push("1.6.3")}});function Tl(g,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g,n=arguments.length>3?arguments[3]:void 0,o,l,a,s;if(t===Rs)return t;var r=n!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[n]:e._$Cl,d=Il(t)?void 0:t._$litDirective$;return(r==null?void 0:r.constructor)!==d&&((l=r==null?void 0:r._$AO)===null||l===void 0||l.call(r,!1),d===void 0?r=void 0:(r=new d(g),r._$AT(g,e,n)),n!==void 0?((a=(s=e)._$Co)!==null&&a!==void 0?a:s._$Co=[])[n]=r:e._$Cl=r),r!==void 0&&(t=Tl(g,r._$AS(g,t.values),r,n)),t}var Tp,Gu,Ls,Pp,_d,ba,Ip,bx,Ua,Pl,Il,Mp,wx,kd,Ml,Lp,Rp,Va,Dp,$p,Np,Bp,xt,Do,Rs,Vn,zp,Wa,_x,xd,kx,Sd,Yu,xx,Sx,Cx,Ax,Ox,Fp,Hp,Cd=Ht({"https-url:https://esm.archive.org/v135/lit-html@2.8.0/esnext/lit-html.mjs":function(){Gu=window,Ls=Gu.trustedTypes,Pp=Ls?Ls.createPolicy("lit-html",{createHTML:function(g){return g}}):void 0,_d="$lit$",ba="lit$".concat((Math.random()+"").slice(9),"$"),Ip="?"+ba,bx="<".concat(Ip,">"),Ua=document,Pl=function(){return Ua.createComment("")},Il=function(g){return g===null||typeof g!="object"&&typeof g!="function"},Mp=Array.isArray,wx=function(g){return Mp(g)||typeof(g==null?void 0:g[Symbol.iterator])=="function"},kd="[ 	\n\f\r]",Ml=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Lp=/-->/g,Rp=/>/g,Va=RegExp(">|".concat(kd,"(?:([^\\s\"'>=/]+)(").concat(kd,"*=").concat(kd,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),Dp=/'/g,$p=/"/g,Np=/^(?:script|style|textarea|title)$/i,Bp=function(g){return function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return{_$litType$:g,strings:t,values:n}}},xt=Bp(1),Do=Bp(2),Rs=Symbol.for("lit-noChange"),Vn=Symbol.for("lit-nothing"),zp=new WeakMap,Wa=Ua.createTreeWalker(Ua,129,null,!1),_x=function(g,t){for(var e=g.length-1,n=[],o,l=t===2?"<svg>":"",a=Ml,s=0;s<e;s++){for(var r=g[s],d=void 0,c=void 0,h=-1,f=0;f<r.length&&(a.lastIndex=f,c=a.exec(r),c!==null);)f=a.lastIndex,a===Ml?c[1]==="!--"?a=Lp:c[1]!==void 0?a=Rp:c[2]!==void 0?(Np.test(c[2])&&(o=RegExp("</"+c[2],"g")),a=Va):c[3]!==void 0&&(a=Va):a===Va?c[0]===">"?(a=o!=null?o:Ml,h=-1):c[1]===void 0?h=-2:(h=a.lastIndex-c[2].length,d=c[1],a=c[3]===void 0?Va:c[3]==='"'?$p:Dp):a===$p||a===Dp?a=Va:a===Lp||a===Rp?a=Ml:(a=Va,o=void 0);var v=a===Va&&g[s+1].startsWith("/>")?" ":"";l+=a===Ml?r+bx:h>=0?(n.push(d),r.slice(0,h)+_d+r.slice(h)+ba+v):r+ba+(h===-2?(n.push(void 0),s):v)}return[Ti(g,l+(g[e]||"<?>")+(t===2?"</svg>":"")),n]},xd=function(){"use strict";function g(t,e){var n=t.strings,o=t._$litType$;_classCallCheck(this,g);var l;this.parts=[];var a=0,s=0,r=n.length-1,d=this.parts,c=_slicedToArray(_x(n,o),2),h=c[0],f=c[1];if(this.el=g.createElement(h,e),Wa.currentNode=this.el.content,o===2){var v,b=this.el.content,w=b.firstChild;w.remove(),(v=b).append.apply(v,_toConsumableArray(w.childNodes))}for(;(l=Wa.nextNode())!==null&&d.length<r;){if(l.nodeType===1){if(l.hasAttributes()){var k=[],C=!0,E=!1,A=void 0;try{for(var j=l.getAttributeNames()[Symbol.iterator](),y;!(C=(y=j.next()).done);C=!0){var u=y.value;if(u.endsWith(_d)||u.startsWith(ba)){var p=f[s++];if(k.push(u),p!==void 0){var m=l.getAttribute(p.toLowerCase()+_d).split(ba),_=/([.?@])?(.*)/.exec(p);d.push({type:1,index:a,name:_[2],strings:m,ctor:_[1]==="."?xx:_[1]==="?"?Cx:_[1]==="@"?Ax:Yu})}else d.push({type:6,index:a})}}}catch(B){E=!0,A=B}finally{try{!C&&j.return!=null&&j.return()}finally{if(E)throw A}}var x=!0,O=!1,I=void 0;try{for(var P=k[Symbol.iterator](),D;!(x=(D=P.next()).done);x=!0){var V=D.value;l.removeAttribute(V)}}catch(B){O=!0,I=B}finally{try{!x&&P.return!=null&&P.return()}finally{if(O)throw I}}}if(Np.test(l.tagName)){var q=l.textContent.split(ba),z=q.length-1;if(z>0){l.textContent=Ls?Ls.emptyScript:"";for(var he=0;he<z;he++)l.append(q[he],Pl()),Wa.nextNode(),d.push({type:2,index:++a});l.append(q[z],Pl())}}}else if(l.nodeType===8)if(l.data===Ip)d.push({type:2,index:a});else for(var Y=-1;(Y=l.data.indexOf(ba,Y+1))!==-1;)d.push({type:7,index:a}),Y+=ba.length-1;a++}}return _createClass(g,null,[{key:"createElement",value:function(e,n){var o=Ua.createElement("template");return o.innerHTML=e,o}}]),g}(),kx=function(){"use strict";function g(t,e){_classCallCheck(this,g),this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}return _createClass(g,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var n,o=this._$AD,l=o.el,a=l.content,s=o.parts,r=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:Ua).importNode(a,!0);Wa.currentNode=r;for(var d=Wa.nextNode(),c=0,h=0,f=s[0];f!==void 0;){if(c===f.index){var v=void 0;f.type===2?v=new Sd(d,d.nextSibling,this,e):f.type===1?v=new f.ctor(d,f.name,f.strings,this,e):f.type===6&&(v=new Ox(d,this,e)),this._$AV.push(v),f=s[++h]}c!==(f==null?void 0:f.index)&&(d=Wa.nextNode(),c++)}return Wa.currentNode=Ua,r}},{key:"v",value:function(e){var n=0,o=!0,l=!1,a=void 0;try{for(var s=this._$AV[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var d=r.value;d!==void 0&&(d.strings!==void 0?(d._$AI(e,d,n),n+=d.strings.length-2):d._$AI(e[n])),n++}}catch(c){l=!0,a=c}finally{try{!o&&s.return!=null&&s.return()}finally{if(l)throw a}}}}]),g}(),Sd=function(){"use strict";function g(t,e,n,o){_classCallCheck(this,g);var l;this.type=2,this._$AH=Vn,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=o,this._$Cp=(l=o==null?void 0:o.isConnected)===null||l===void 0||l}return _createClass(g,[{key:"_$AU",get:function(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cp}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=Tl(this,e,n),Il(e)?e===Vn||e==null||e===""?(this._$AH!==Vn&&this._$AR(),this._$AH=Vn):e!==this._$AH&&e!==Rs&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):wx(e)?this.T(e):this._(e)}},{key:"k",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"$",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}},{key:"_",value:function(e){this._$AH!==Vn&&Il(this._$AH)?this._$AA.nextSibling.data=e:this.$(Ua.createTextNode(e)),this._$AH=e}},{key:"g",value:function(e){var n,o=e.values,l=e._$litType$,a=typeof l=="number"?this._$AC(e):(l.el===void 0&&(l.el=xd.createElement(Ti(l.h,l.h[0]),this.options)),l);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===a)this._$AH.v(o);else{var s=new kx(a,this),r=s.u(this.options);s.v(o),this.$(r),this._$AH=s}}},{key:"_$AC",value:function(e){var n=zp.get(e.strings);return n===void 0&&zp.set(e.strings,n=new xd(e)),n}},{key:"T",value:function(e){Mp(this._$AH)||(this._$AH=[],this._$AR());var n=this._$AH,o,l=0,a=!0,s=!1,r=void 0;try{for(var d=e[Symbol.iterator](),c;!(a=(c=d.next()).done);a=!0){var h=c.value;l===n.length?n.push(o=new g(this.k(Pl()),this.k(Pl()),this,this.options)):o=n[l],o._$AI(h),l++}}catch(f){s=!0,r=f}finally{try{!a&&d.return!=null&&d.return()}finally{if(s)throw r}}l<n.length&&(this._$AR(o&&o._$AB.nextSibling,l),n.length=l)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,n);e&&e!==this._$AB;){var l=e.nextSibling;e.remove(),e=l}}},{key:"setConnected",value:function(e){var n;this._$AM===void 0&&(this._$Cp=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}]),g}(),Yu=function(){"use strict";function g(t,e,n,o,l){_classCallCheck(this,g),this.type=1,this._$AH=Vn,this._$AN=void 0,this.element=t,this.name=e,this._$AM=o,this.options=l,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Vn}return _createClass(g,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,a=this.strings,s=!1;if(a===void 0)e=Tl(this,e,n,0),s=!Il(e)||e!==this._$AH&&e!==Rs,s&&(this._$AH=e);else{var r=e,d,c;for(e=a[0],d=0;d<a.length-1;d++)c=Tl(this,r[o+d],n,d),c===Rs&&(c=this._$AH[d]),s||(s=!Il(c)||c!==this._$AH[d]),c===Vn?e=Vn:e!==Vn&&(e+=(c!=null?c:"")+a[d+1]),this._$AH[d]=c}s&&!l&&this.j(e)}},{key:"j",value:function(e){e===Vn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),g}(),xx=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=3,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===Vn?void 0:o}}]),e}(Yu),Sx=Ls?Ls.emptyScript:"",Cx=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=4,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){o&&o!==Vn?this.element.setAttribute(this.name,Sx):this.element.removeAttribute(this.name)}}]),e}(Yu),Ax=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n,o,l,a,s){_classCallCheck(this,e);var r;return r=t.call(this,n,o,l,a,s),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,a;if((o=(a=Tl(this,o,l,0))!==null&&a!==void 0?a:Vn)!==Rs){var s=this._$AH,r=o===Vn&&s!==Vn||o.capture!==s.capture||o.once!==s.once||o.passive!==s.passive,d=o!==Vn&&(s===Vn||r);r&&this.element.removeEventListener(this.name,this,s),d&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var l,a;typeof this._$AH=="function"?this._$AH.call((a=(l=this.options)===null||l===void 0?void 0:l.host)!==null&&a!==void 0?a:this.element,o):this._$AH.handleEvent(o)}}]),e}(Yu),Ox=function(){"use strict";function g(t,e,n){_classCallCheck(this,g),this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}return _createClass(g,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){Tl(this,e)}}]),g}(),Fp=Gu.litHtmlPolyfillSupport,Fp==null||Fp(xd,Sd),((Tp=Gu.litHtmlVersions)!==null&&Tp!==void 0?Tp:Gu.litHtmlVersions=[]).push("2.8.0"),Hp=function(g,t,e){var n,o,l=(n=e==null?void 0:e.renderBefore)!==null&&n!==void 0?n:t,a=l._$litPart$;if(a===void 0){var s=(o=e==null?void 0:e.renderBefore)!==null&&o!==void 0?o:null;l._$litPart$=a=new Sd(t.insertBefore(Pl(),s),s,void 0,e!=null?e:{})}return a._$AI(g),a}}}),Up,Vp,er,Wp,c1=Ht({"https-url:https://esm.archive.org/v135/lit-element@3.3.3/esnext/lit-element.js":function(){Ep(),Ep(),Cd(),Cd(),er=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.renderOptions={host:_assertThisInitialized(n)},n._$Do=void 0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"createRenderRoot",value:function(){var o,l,a=_get(_getPrototypeOf(e.prototype),"createRenderRoot",this).call(this);return(o=(l=this.renderOptions).renderBefore)!==null&&o!==void 0||(l.renderBefore=a.firstChild),a}},{key:"update",value:function(o){var l=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),_get(_getPrototypeOf(e.prototype),"update",this).call(this,o),this._$Do=Hp(l,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function(){var o;_get(_getPrototypeOf(e.prototype),"connectedCallback",this).call(this),(o=this._$Do)===null||o===void 0||o.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var o;_get(_getPrototypeOf(e.prototype),"disconnectedCallback",this).call(this),(o=this._$Do)===null||o===void 0||o.setConnected(!1)}},{key:"render",value:function(){return Rs}}]),e}(Ms),er.finalized=!0,er._$litElement$=!0,(Up=globalThis.litElementHydrateSupport)===null||Up===void 0||Up.call(globalThis,{LitElement:er}),Wp=globalThis.litElementPolyfillSupport,Wp==null||Wp({LitElement:er}),((Vp=globalThis.litElementVersions)!==null&&Vp!==void 0?Vp:globalThis.litElementVersions=[]).push("3.3.3")}}),d1=Ht({"https-url:https://esm.archive.org/v135/lit-html@2.8.0/esnext/is-server.js":function(){}}),xn=Ht({"https-url:https://esm.archive.org/v135/lit@2.8.0/esnext/lit.mjs":function(){Ep(),Cd(),c1(),d1()}}),Qr,h1=Ht({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/decorators/custom-element.js":function(){Qr=function(g){return function(t){return typeof t=="function"?function(e,n){return customElements.define(e,n),n}(g,t):function(e,n){var o=n.kind,l=n.elements;return{kind:o,elements:l,finisher:function(s){customElements.define(e,s)}}}(g,t)}}}}),jx,Ex,Tx=Ht({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/decorators/property.js":function(){jx=function(g,t){return t.kind==="method"&&t.descriptor&&!("value"in t.descriptor)?bi(Zr({},t),{finisher:function(n){n.createProperty(t.key,g)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer:function(){typeof t.initializer=="function"&&(this[t.key]=t.initializer.call(this))},finisher:function(n){n.createProperty(t.key,g)}}},Ex=function(g,t,e){t.constructor.createProperty(e,g)}}}),f1=Ht({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/decorators/state.js":function(){Tx()}}),Px,Ll=Ht({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/decorators/base.js":function(){Px=function(g){var t=g.finisher,e=g.descriptor;return function(n,o){var l;if(o===void 0){var a=(l=n.originalKey)!==null&&l!==void 0?l:n.key,s=e!=null?{kind:"method",placement:"prototype",key:a,descriptor:e(n.key)}:bi(Zr({},n),{key:a});return t!=null&&(s.finisher=function(d){t(d,a)}),s}{var r=n.constructor;e!==void 0&&Object.defineProperty(n,o,e(o)),t==null||t(r,o)}}}}}),p1=Ht({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/decorators/event-options.js":function(){Ll()}}),v1=Ht({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/decorators/query.js":function(){Ll()}}),m1=Ht({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/decorators/query-all.js":function(){Ll()}}),g1=Ht({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/decorators/query-async.js":function(){Ll()}}),qp,y1,Ix=Ht({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/decorators/query-assigned-elements.js":function(){Ll(),y1=((qp=window.HTMLSlotElement)===null||qp===void 0?void 0:qp.prototype.assignedElements)!=null?function(g,t){return g.assignedElements(t)}:function(g,t){return g.assignedNodes(t).filter(function(e){return e.nodeType===Node.ELEMENT_NODE})}}}),b1=Ht({"https-url:https://esm.archive.org/v135/@lit/reactive-element@1.6.3/esnext/decorators/query-assigned-nodes.js":function(){Ll(),Ix()}}),Wr=Ht({"https-url:https://esm.archive.org/v135/lit@2.8.0/esnext/decorators.js":function(){h1(),Tx(),f1(),p1(),v1(),m1(),g1(),Ix(),b1()}}),Mx,Lx,Xu=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/ia-activity-indicator@0.0.4/esnext/ia-activity-indicator.js":function(){xn(),Mx=Object.freeze({processing:"processing",complete:"complete"}),Lx=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.mode=Mx.processing,_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return xt(_templateObject2(),this.mode)}}],[{key:"properties",get:function(){return{mode:{type:String}}}},{key:"styles",get:function(){var o=Ut(_templateObject3()),l=Ut(_templateObject4()),a=Ut(_templateObject5()),s=Ut(_templateObject6());return Ut(_templateObject7(),l,o,a,s)}}]),e}(er),window.customElements.define("ia-activity-indicator",Lx)}}),Rx,Dx,$x=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/icon-close@1.3.4/esnext/icon-close.mjs":function(){xn(),xn(),Rx=xt(_templateObject8()),Dx=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return Rx}}],[{key:"styles",get:function(){return Ut(_templateObject9())}}]),e}(er),customElements.define("ia-icon-close",Dx)}});function Ad(){var g,t=arguments;return _regeneratorRuntime.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(g=t.length>0&&t[0]!==void 0?t[0]:document.activeElement,n.t0=g!=null,!n.t0){n.next=8;break}return n.next=5,g;case 5:if(n.t1="shadowRoot"in g&&g.shadowRoot&&g.shadowRoot.mode!=="closed",!n.t1){n.next=8;break}return n.delegateYield(u1(Ad(g.shadowRoot.activeElement)),"t2",8);case 8:case"end":return n.stop()}},S)}var wa,Gp,Rl,Nx,Bx,Od,Ds,zx,$s,Ku=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/modal-manager@2.0.0/esnext/modal-manager.mjs":function(){Fr(),xn(),Wr(),Fr(),xn(),Wr(),Xu(),$x(),xn(),_p(),wa=function g(t){"use strict";_classCallCheck(this,g);var e,n,o,l,a,s,r;this.title=t==null?void 0:t.title,this.subtitle=t==null?void 0:t.subtitle,this.headline=t==null?void 0:t.headline,this.message=t==null?void 0:t.message,this.headerColor=(e=t==null?void 0:t.headerColor)!==null&&e!==void 0?e:"#55A183",this.bodyColor=(n=t==null?void 0:t.bodyColor)!==null&&n!==void 0?n:"#f5f5f7",this.showProcessingIndicator=(o=t==null?void 0:t.showProcessingIndicator)!==null&&o!==void 0?o:!1,this.processingImageMode=(l=t==null?void 0:t.processingImageMode)!==null&&l!==void 0?l:"complete",this.showCloseButton=(a=t==null?void 0:t.showCloseButton)!==null&&a!==void 0?a:!0,this.showHeaderLogo=(s=t==null?void 0:t.showHeaderLogo)!==null&&s!==void 0?s:!0,this.closeOnBackdropClick=(r=t==null?void 0:t.closeOnBackdropClick)!==null&&r!==void 0?r:!0},Gp=new WeakMap,Rl=[],Nx=function(){"use strict";function g(t){var e=this;_classCallCheck(this,g),this.isExternalActivated=!1,this.tabDirection="forward",this.currentFocus=null,this.previousFocus=null,this.handleFocusIn=function(){e.isActive()&&e.checkFocus()},this.handleKeyDown=function(n){var o=e,l;if(!(n.key!=="Tab"||e.isExternalActivated||!e.isActive())){var a=ma();if(e.previousFocus=a,!(e.previousFocus&&e.possiblyHasTabbableChildren(e.previousFocus))){n.shiftKey?e.tabDirection="backward":e.tabDirection="forward";var s=qk(e.element),r=s.findIndex(function(f){return f===a});e.previousFocus=e.currentFocus;for(var d=e.tabDirection==="forward"?1:-1;;){r+d>=s.length?r=0:r+d<0?r=s.length-1:r+=d,e.previousFocus=e.currentFocus;var c=s[r];if(e.tabDirection==="backward"&&e.previousFocus&&e.possiblyHasTabbableChildren(e.previousFocus)||c&&e.possiblyHasTabbableChildren(c))return;n.preventDefault(),e.currentFocus=c,(l=e.currentFocus)===null||l===void 0||l.focus({preventScroll:!1});var h=_toConsumableArray(Ad());if(h.includes(e.currentFocus)||!h.includes(e.previousFocus))break}setTimeout(function(){return o.checkFocus()})}}},this.handleKeyUp=function(){e.tabDirection="forward"},this.element=t,this.elementsWithTabbableControls=["iframe"]}return _createClass(g,[{key:"activate",value:function(){Rl.push(this.element),document.addEventListener("focusin",this.handleFocusIn),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}},{key:"deactivate",value:function(){var e=this;Rl=Rl.filter(function(n){return n!==e.element}),this.currentFocus=null,document.removeEventListener("focusin",this.handleFocusIn),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}},{key:"isActive",value:function(){return Rl[Rl.length-1]===this.element}},{key:"activateExternal",value:function(){this.isExternalActivated=!0}},{key:"deactivateExternal",value:function(){this.isExternalActivated=!1}},{key:"checkFocus",value:function(){if(this.isActive()&&!this.isExternalActivated){var e=qk(this.element);if(!this.element.matches(":focus-within")){var n=e[0],o=e[e.length-1],l=this.tabDirection==="forward"?n:o;typeof(l==null?void 0:l.focus)=="function"&&(this.currentFocus=l,l.focus({preventScroll:!1}))}}}},{key:"possiblyHasTabbableChildren",value:function(e){return this.elementsWithTabbableControls.includes(e.tagName.toLowerCase())||e.hasAttribute("controls")}}]),g}(),Bx=xt(_templateObject10()),Od=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.config=new wa,_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return xt(_templateObject16(),this.config.headerColor,this.config.showCloseButton?this.closeButtonTemplate:"",this.config.showHeaderLogo?xt(_templateObject11(),Bx):Vn,this.config.title?xt(_templateObject12(),this.config.title):"",this.config.subtitle?xt(_templateObject13(),this.config.subtitle):"",this.config.bodyColor,this.config.showProcessingIndicator?"":"hidden",this.config.processingImageMode,this.config.headline?xt(_templateObject14(),this.config.headline):"",this.config.message?xt(_templateObject15(),this.config.message):"")}},{key:"handleCloseButton",value:function(o){if(o.preventDefault(),!(o.type==="keydown"&&o.key!==" "&&o.key!=="Enter")){var l=new Event("closeButtonPressed");this.dispatchEvent(l)}}},{key:"closeButtonTemplate",get:function(){return xt(_templateObject17(),this.handleCloseButton,this.handleCloseButton)}}],[{key:"styles",get:function(){var o=Ut(_templateObject18()),l=Ut(_templateObject19()),a=Ut(_templateObject20()),s=Ut(_templateObject21()),r=Ut(_templateObject22()),d=Ut(_templateObject23()),c=Ut(_templateObject24()),h=Ut(_templateObject25()),f=Ut(_templateObject26()),v=Ut(_templateObject27()),b=Ut(_templateObject28()),w=Ut(_templateObject29()),k=Ut(_templateObject30()),C=Ut(_templateObject31()),E=Ut(_templateObject32()),A=Ut(_templateObject33()),j=Ut(_templateObject34());return Ut(_templateObject35(),l,l,a,d,a,a,s,c,v,C,b,E,a,a,s,h,f,r,f,w,A,k,j,o,o,o,o)}}]),e}(er),tt([on({type:Object})],Od.prototype,"config",void 0),Od=tt([Qr("modal-template")],Od),function(g){g.Open="open",g.Closed="closed"}(Ds||(Ds={})),zx=function(){"use strict";function g(t){_classCallCheck(this,g),this.windowResizeThrottler=pe(100,this.updateModalContainerHeight,{noLeading:!1,noTrailing:!1}).bind(this),this.modalManager=t}return _createClass(g,[{key:"handleModeChange",value:function(e){switch(e){case Ds.Open:this.startResizeListener(),this.stopDocumentScroll();break;case Ds.Closed:this.stopResizeListener(),this.resumeDocumentScroll();break}}},{key:"updateModalContainerHeight",value:function(){this.modalManager.style.setProperty("--containerHeight","".concat(window.innerHeight,"px"))}},{key:"stopDocumentScroll",value:function(){document.body.classList.add("modal-manager-open")}},{key:"resumeDocumentScroll",value:function(){document.body.classList.remove("modal-manager-open")}},{key:"startResizeListener",value:function(){window.addEventListener("resize",this.windowResizeThrottler)}},{key:"stopResizeListener",value:function(){window.removeEventListener("resize",this.windowResizeThrottler)}}]),g}(),$s=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.mode=Ds.Closed,n.hostBridge=new zx(_assertThisInitialized(n)),n.modal=new Nx(_assertThisInitialized(n)),n.closeOnBackdropClick=!0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"firstUpdated",value:function(){return Gr(this,void 0,void 0,_regeneratorRuntime.default.mark(function o(){var l;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return l=this,s.next=3,new Promise(function(r){return setTimeout(r,0)});case 3:this.closeOnBackdropClick&&this.addEventListener("keydown",function(r){r.key==="Escape"&&l.backdropClicked()});case 4:case"end":return s.stop()}},o,this)}))}},{key:"disconnectedCallback",value:function(){_get(_getPrototypeOf(e.prototype),"disconnectedCallback",this).call(this),this.modal.deactivate()}},{key:"render",value:function(){return xt(_templateObject36(),this.backdropClicked,this.closeButtonPressed,this.customModalContent)}},{key:"getMode",value:function(){return this.mode}},{key:"closeModal",value:function(){this.mode=Ds.Closed,this.customModalContent=void 0,this.modalTemplate.config=new wa,this.modal.deactivate()}},{key:"callUserClosedModalCallback",value:function(){var o=this.userClosedModalCallback;this.userClosedModalCallback=void 0,o&&o()}},{key:"showModal",value:function(o){return Gr(this,void 0,void 0,_regeneratorRuntime.default.mark(function l(){return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.closeOnBackdropClick=o.config.closeOnBackdropClick,this.userClosedModalCallback=o.userClosedModalCallback,this.modalTemplate.config=o.config,this.customModalContent=o.customModalContent,this.mode=Ds.Open,s.next=7,this.modalTemplate.updateComplete;case 7:this.modalTemplate.focus(),this.modal.activate();case 9:case"end":return s.stop()}},l,this)}))}},{key:"updated",value:function(o){o.has("mode")&&this.handleModeChange()}},{key:"backdropClicked",value:function(){this.closeOnBackdropClick&&(this.closeModal(),this.callUserClosedModalCallback())}},{key:"handleModeChange",value:function(){this.hostBridge.handleModeChange(this.mode),this.emitModeChangeEvent()}},{key:"emitModeChangeEvent",value:function(){var o=new CustomEvent("modeChanged",{detail:{mode:this.mode}});this.dispatchEvent(o)}},{key:"closeButtonPressed",value:function(){this.closeModal(),this.callUserClosedModalCallback()}}],[{key:"styles",get:function(){var o=Ut(_templateObject37()),l=Ut(_templateObject38()),a=Ut(_templateObject39()),s=Ut(_templateObject40()),r=Ut(_templateObject41());return Ut(_templateObject42(),o,l,r,a,s)}}]),e}(er),tt([on({type:String,reflect:!0})],$s.prototype,"mode",void 0),tt([on({type:Object})],$s.prototype,"customModalContent",void 0),tt([on({type:Object})],$s.prototype,"hostBridge",void 0),tt([ii("modal-template")],$s.prototype,"modalTemplate",void 0),$s=tt([Qr("modal-manager")],$s)}}),Fx={};wi(Fx,{default:function(){return X}});var Hx,jd,Ux,Vx,Wx,qx,Gx,Yx,Ed,Xx,Yp,Xp,Kp,Kx,tr,Qp,Qx,X,Td=Ht({"https-url:https://esm.archive.org/v135/jquery@3.6.1/esnext/jquery.mjs":function(){Hx=Object.create,jd=Object.defineProperty,Ux=Object.getOwnPropertyDescriptor,Vx=Object.getOwnPropertyNames,Wx=Object.getPrototypeOf,qx=Object.prototype.hasOwnProperty,Gx=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},Yx=function(t,e){for(var n in e)jd(t,n,{get:e[n],enumerable:!0})},Ed=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!qx.call(t,v)&&v!==n&&jd(t,v,{get:function(){return e[v]},enumerable:!(o=Ux(e,v))||o.enumerable})},d=Vx(e)[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0)r(d,c)}catch(h){a=!0,s=h}finally{try{!l&&d.return!=null&&d.return()}finally{if(a)throw s}}return t},Xx=function(t,e,n){return Ed(t,e,"default"),n&&Ed(n,e,"default")},Yp=function(t,e,n){return n=t!=null?Hx(Wx(t)):{},Ed(e||!t||!t.__esModule?jd(n,"default",{value:t,enumerable:!0}):n,t)},Xp=Gx(function(t,e){(function(n,o){"use strict";typeof e=="object"&&typeof e.exports=="object"?e.exports=n.document?o(n,!0):function(l){if(!l.document)throw new Error("jQuery requires a window with a document");return o(l)}:o(n)})((typeof window=="undefined"?"undefined":_typeof(window))<"u"?window:t,function(n,o){"use strict";var l=function(T,ee,fe){fe=fe||Mt;var Se,Ke,Je=fe.createElement("script");if(Je.text=T,ee)for(Se in Lt)Ke=ee[Se]||ee.getAttribute&&ee.getAttribute(Se),Ke&&Je.setAttribute(Se,Ke);fe.head.appendChild(Je).parentNode.removeChild(Je)},a=function(T){return T==null?T+"":typeof T=="object"||typeof T=="function"?Ye[We.call(T)]||"object":typeof T=="undefined"?"undefined":_typeof(T)},s=function(T){var ee=!!T&&"length"in T&&T.length,fe=a(T);return ct(T)||At(T)?!1:fe==="array"||ee===0||typeof ee=="number"&&ee>0&&ee-1 in T},r=function(T,ee){return T.nodeName&&T.nodeName.toLowerCase()===ee.toLowerCase()},d=function(T,ee,fe){return ct(ee)?te.grep(T,function(Se,Ke){return!!ee.call(Se,Ke,Se)!==fe}):ee.nodeType?te.grep(T,function(Se){return Se===ee!==fe}):typeof ee!="string"?te.grep(T,function(Se){return $e.call(ee,Se)>-1!==fe}):te.filter(ee,T,fe)},c=function(T,ee){for(;(T=T[ee])&&T.nodeType!==1;);return T},h=function(T){var ee={};return te.each(T.match(oe)||[],function(fe,Se){ee[Se]=!0}),ee},f=function(T){return T},v=function(T){throw T},b=function(T,ee,fe,Se){var Ke;try{T&&ct(Ke=T.promise)?Ke.call(T).done(ee).fail(fe):T&&ct(Ke=T.then)?Ke.call(T,ee,fe):ee.apply(void 0,[T].slice(Se))}catch(Je){fe.apply(void 0,[Je])}},w=function(T,ee){return ee.toUpperCase()},k=function(T){return T.replace(Me,"ms-").replace(Qe,w)},C=function(T){return T==="true"?!0:T==="false"?!1:T==="null"?null:T===+T+""?+T:qt.test(T)?JSON.parse(T):T},E=function(T,ee,fe){var Se;if(fe===void 0&&T.nodeType===1)if(Se="data-"+ee.replace(Bt,"-$&").toLowerCase(),fe=T.getAttribute(Se),typeof fe=="string"){try{fe=C(fe)}catch(Ke){}zt.set(T,ee,fe)}else fe=void 0;return fe},A=function(T,ee,fe,Se){var Ke,Je,dt=20,Rt=Se?function(){return Se.cur()}:function(){return te.css(T,ee,"")},Dt=Rt(),dn=fe&&fe[3]||(te.cssNumber[ee]?"":"px"),Nt=T.nodeType&&(te.cssNumber[ee]||dn!=="px"&&+Dt)&&cn.exec(te.css(T,ee));if(Nt&&Nt[3]!==dn){for(Dt=Dt/2,dn=dn||Nt[3],Nt=+Dt||1;dt--;)te.style(T,ee,Nt+dn),(1-Je)*(1-(Je=Rt()/Dt||.5))<=0&&(dt=0),Nt=Nt/Je;Nt=Nt*2,te.style(T,ee,Nt+dn),fe=fe||[]}return fe&&(Nt=+Nt||+Dt||0,Ke=fe[1]?Nt+(fe[1]+1)*fe[2]:+fe[2],Se&&(Se.unit=dn,Se.start=Nt,Se.end=Ke)),Ke},j=function(T){var ee,fe=T.ownerDocument,Se=T.nodeName,Ke=ar[Se];return Ke||(ee=fe.body.appendChild(fe.createElement(Se)),Ke=te.css(ee,"display"),ee.parentNode.removeChild(ee),Ke==="none"&&(Ke="block"),ar[Se]=Ke,Ke)},y=function(T,ee){for(var fe,Se,Ke=[],Je=0,dt=T.length;Je<dt;Je++)Se=T[Je],Se.style&&(fe=Se.style.display,ee?(fe==="none"&&(Ke[Je]=$t.get(Se,"display")||null,Ke[Je]||(Se.style.display="")),Se.style.display===""&&Xt(Se)&&(Ke[Je]=j(Se))):fe!=="none"&&(Ke[Je]="none",$t.set(Se,"display",fe)));for(Je=0;Je<dt;Je++)Ke[Je]!=null&&(T[Je].style.display=Ke[Je]);return T},u=function(T,ee){var fe;return _typeof(T.getElementsByTagName)<"u"?fe=T.getElementsByTagName(ee||"*"):_typeof(T.querySelectorAll)<"u"?fe=T.querySelectorAll(ee||"*"):fe=[],ee===void 0||ee&&r(T,ee)?te.merge([T],fe):fe},p=function(T,ee){for(var fe=0,Se=T.length;fe<Se;fe++)$t.set(T[fe],"globalEval",!ee||$t.get(ee[fe],"globalEval"))},m=function(T,ee,fe,Se,Ke){for(var Je,dt,Rt,Dt,dn,Nt,le=ee.createDocumentFragment(),R=[],L=0,W=T.length;L<W;L++)if(Je=T[L],Je||Je===0)if(a(Je)==="object")te.merge(R,Je.nodeType?[Je]:Je);else if(!Zn.test(Je))R.push(ee.createTextNode(Je));else{for(dt=dt||le.appendChild(ee.createElement("div")),Rt=(Qn.exec(Je)||["",""])[1].toLowerCase(),Dt=bn[Rt]||bn._default,dt.innerHTML=Dt[1]+te.htmlPrefilter(Je)+Dt[2],Nt=Dt[0];Nt--;)dt=dt.lastChild;te.merge(R,dt.childNodes),dt=le.firstChild,dt.textContent=""}for(le.textContent="",L=0;Je=R[L++];){if(Se&&te.inArray(Je,Se)>-1){Ke&&Ke.push(Je);continue}if(dn=Kt(Je),dt=u(le.appendChild(Je),"script"),dn&&p(dt),fe)for(Nt=0;Je=dt[Nt++];)en.test(Je.type||"")&&fe.push(Je)}return le},_=function(){return!0},x=function(){return!1},O=function(T,ee){return T===I()==(ee==="focus")},I=function(){try{return Mt.activeElement}catch(T){}},P=function(T,ee,fe){if(!fe){$t.get(T,ee)===void 0&&te.event.add(T,ee,_);return}$t.set(T,ee,!1),te.event.add(T,ee,{namespace:!1,handler:function(Ke){var Je,dt,Rt=$t.get(this,ee);if(Ke.isTrigger&1&&this[ee]){if(Rt.length)(te.event.special[ee]||{}).delegateType&&Ke.stopPropagation();else if(Rt=be.call(arguments),$t.set(this,ee,Rt),Je=fe(this,ee),this[ee](),dt=$t.get(this,ee),Rt!==dt||Je?$t.set(this,ee,!1):dt={},Rt!==dt)return Ke.stopImmediatePropagation(),Ke.preventDefault(),dt&&dt.value}else Rt.length&&($t.set(this,ee,{value:te.event.trigger(te.extend(Rt[0],te.Event.prototype),Rt.slice(1),this)}),Ke.stopImmediatePropagation())}})},D=function(T,ee){return r(T,"table")&&r(ee.nodeType!==11?ee:ee.firstChild,"tr")&&te(T).children("tbody")[0]||T},V=function(T){return T.type=(T.getAttribute("type")!==null)+"/"+T.type,T},q=function(T){return(T.type||"").slice(0,5)==="true/"?T.type=T.type.slice(5):T.removeAttribute("type"),T},z=function(T,ee){var fe,Se,Ke,Je,dt,Rt,Dt;if(ee.nodeType===1){if($t.hasData(T)&&(Je=$t.get(T),Dt=Je.events,Dt)){$t.remove(ee,"handle events");for(Ke in Dt)for(fe=0,Se=Dt[Ke].length;fe<Se;fe++)te.event.add(ee,Ke,Dt[Ke][fe])}zt.hasData(T)&&(dt=zt.access(T),Rt=te.extend({},dt),zt.set(ee,Rt))}},he=function(T,ee){var fe=ee.nodeName.toLowerCase();fe==="input"&&Fn.test(T.type)?ee.checked=T.checked:(fe==="input"||fe==="textarea")&&(ee.defaultValue=T.defaultValue)},Y=function(T,ee,fe){for(var Se,Ke=ee?te.filter(ee,T):T,Je=0;(Se=Ke[Je])!=null;Je++)!fe&&Se.nodeType===1&&te.cleanData(u(Se)),Se.parentNode&&(fe&&Kt(Se)&&p(u(Se,"script")),Se.parentNode.removeChild(Se));return T},B=function(T,ee,fe){var Se,Ke,Je,dt,Rt=St.test(ee),Dt=T.style;return fe=fe||sn(T),fe&&(dt=fe.getPropertyValue(ee)||fe[ee],Rt&&(dt=dt.replace(or,"$1")),dt===""&&!Kt(T)&&(dt=te.style(T,ee)),!rt.pixelBoxStyles()&&Tt.test(dt)&&Nn.test(ee)&&(Se=Dt.width,Ke=Dt.minWidth,Je=Dt.maxWidth,Dt.minWidth=Dt.maxWidth=Dt.width=dt,dt=fe.width,Dt.width=Se,Dt.minWidth=Ke,Dt.maxWidth=Je)),dt!==void 0?dt+"":dt},F=function(T,ee){return{get:function(){if(T()){delete this.get;return}return(this.get=ee).apply(this,arguments)}}},ce=function(T){for(var ee=T[0].toUpperCase()+T.slice(1),fe=Ar.length;fe--;)if(T=Ar[fe]+ee,T in Ei)return T},J=function(T){var ee=te.cssProps[T]||fi[T];return ee||(T in Ei?T:fi[T]=ce(T)||T)},ae=function(T,ee,fe){var Se=cn.exec(ee);return Se?Math.max(0,Se[2]-(fe||0))+(Se[3]||"px"):ee},se=function(T,ee,fe,Se,Ke,Je){var dt=ee==="width"?1:0,Rt=0,Dt=0;if(fe===(Se?"border":"content"))return 0;for(;dt<4;dt+=2)fe==="margin"&&(Dt+=te.css(T,fe+It[dt],!0,Ke)),Se?(fe==="content"&&(Dt-=te.css(T,"padding"+It[dt],!0,Ke)),fe!=="margin"&&(Dt-=te.css(T,"border"+It[dt]+"Width",!0,Ke))):(Dt+=te.css(T,"padding"+It[dt],!0,Ke),fe!=="padding"?Dt+=te.css(T,"border"+It[dt]+"Width",!0,Ke):Rt+=te.css(T,"border"+It[dt]+"Width",!0,Ke));return!Se&&Je>=0&&(Dt+=Math.max(0,Math.ceil(T["offset"+ee[0].toUpperCase()+ee.slice(1)]-Je-Dt-Rt-.5))||0),Dt},ve=function(T,ee,fe){var Se=sn(T),Ke=!rt.boxSizingReliable()||fe,Je=Ke&&te.css(T,"boxSizing",!1,Se)==="border-box",dt=Je,Rt=B(T,ee,Se),Dt="offset"+ee[0].toUpperCase()+ee.slice(1);if(Tt.test(Rt)){if(!fe)return Rt;Rt="auto"}return(!rt.boxSizingReliable()&&Je||!rt.reliableTrDimensions()&&r(T,"tr")||Rt==="auto"||!parseFloat(Rt)&&te.css(T,"display",!1,Se)==="inline")&&T.getClientRects().length&&(Je=te.css(T,"boxSizing",!1,Se)==="border-box",dt=Dt in T,dt&&(Rt=T[Dt])),Rt=parseFloat(Rt)||0,Rt+se(T,ee,fe||(Je?"border":"content"),dt,Se,Rt)+"px"},de=function(){return n.setTimeout(function(){ln=void 0}),ln=Date.now()},Be=function(T,ee){var fe,Se=0,Ke={height:T};for(ee=ee?1:0;Se<4;Se+=2-ee)fe=It[Se],Ke["margin"+fe]=Ke["padding"+fe]=T;return ee&&(Ke.opacity=Ke.width=T),Ke},it=function(T,ee,fe){for(var Se,Ke=(Dn.tweeners[ee]||[]).concat(Dn.tweeners["*"]),Je=0,dt=Ke.length;Je<dt;Je++)if(Se=Ke[Je].call(fe,ee,T))return Se},mt=function(T,ee,fe){var Se,Ke,Je,dt,Rt,Dt,dn,Nt,le="width"in ee||"height"in ee,R=this,L={},W=T.style,ne=T.nodeType&&Xt(T),we=$t.get(T,"fxshow");fe.queue||(dt=te._queueHooks(T,"fx"),dt.unqueued==null&&(dt.unqueued=0,Rt=dt.empty.fire,dt.empty.fire=function(){dt.unqueued||Rt()}),dt.unqueued++,R.always(function(){R.always(function(){dt.unqueued--,te.queue(T,"fx").length||dt.empty.fire()})}));for(Se in ee)if(Ke=ee[Se],Un.test(Ke)){if(delete ee[Se],Je=Je||Ke==="toggle",Ke===(ne?"hide":"show"))if(Ke==="show"&&we&&we[Se]!==void 0)ne=!0;else continue;L[Se]=we&&we[Se]||te.style(T,Se)}if(Dt=!te.isEmptyObject(ee),!(!Dt&&te.isEmptyObject(L))){var Ie=function(vt){Dt||(we?"hidden"in we&&(ne=we.hidden):we=$t.access(T,"fxshow",{display:dn}),Je&&(we.hidden=!ne),ne&&y([T],!0),R.done(function(){ne||y([T]),$t.remove(T,"fxshow");for(vt in L)te.style(T,vt,L[vt])})),Dt=it(ne?we[vt]:0,vt,R),vt in we||(we[vt]=Dt.start,ne&&(Dt.end=Dt.start,Dt.start=0))};le&&T.nodeType===1&&(fe.overflow=[W.overflow,W.overflowX,W.overflowY],dn=we&&we.display,dn==null&&(dn=$t.get(T,"display")),Nt=te.css(T,"display"),Nt==="none"&&(dn?Nt=dn:(y([T],!0),dn=T.style.display||dn,Nt=te.css(T,"display"),y([T]))),(Nt==="inline"||Nt==="inline-block"&&dn!=null)&&te.css(T,"float")==="none"&&(Dt||(R.done(function(){W.display=dn}),dn==null&&(Nt=W.display,dn=Nt==="none"?"":Nt)),W.display="inline-block")),fe.overflow&&(W.overflow="hidden",R.always(function(){W.overflow=fe.overflow[0],W.overflowX=fe.overflow[1],W.overflowY=fe.overflow[2]})),Dt=!1;for(Se in L)Ie(Se)}},ot=function(T,ee){var fe,Se,Ke,Je,dt;for(fe in T)if(Se=k(fe),Ke=ee[Se],Je=T[fe],Array.isArray(Je)&&(Ke=Je[1],Je=T[fe]=Je[0]),fe!==Se&&(T[Se]=Je,delete T[fe]),dt=te.cssHooks[Se],dt&&"expand"in dt){Je=dt.expand(Je),delete T[Se];for(fe in Je)fe in T||(T[fe]=Je[fe],ee[fe]=Ke)}else ee[Se]=Ke},Ae=function(T){var ee=T.match(oe)||[];return ee.join(" ")},xe=function(T){return T.getAttribute&&T.getAttribute("class")||""},De=function(T){return Array.isArray(T)?T:typeof T=="string"?T.match(oe)||[]:[]},et=function(T){return function(ee,fe){typeof ee!="string"&&(fe=ee,ee="*");var Se,Ke=0,Je=ee.toLowerCase().match(oe)||[];if(ct(fe))for(;Se=Je[Ke++];)Se[0]==="+"?(Se=Se.slice(1)||"*",(T[Se]=T[Se]||[]).unshift(fe)):(T[Se]=T[Se]||[]).push(fe)}},Ve=function(T,ee,fe,Se){var Ke={},Je=T===Gi;function dt(Rt){var Dt;return Ke[Rt]=!0,te.each(T[Rt]||[],function(dn,Nt){var le=Nt(ee,fe,Se);if(typeof le=="string"&&!Je&&!Ke[le])return ee.dataTypes.unshift(le),dt(le),!1;if(Je)return!(Dt=le)}),Dt}return dt(ee.dataTypes[0])||!Ke["*"]&&dt("*")},je=function(T,ee){var fe,Se,Ke=te.ajaxSettings.flatOptions||{};for(fe in ee)ee[fe]!==void 0&&((Ke[fe]?T:Se||(Se={}))[fe]=ee[fe]);return Se&&te.extend(!0,T,Se),T},He=function(T,ee,fe){for(var Se,Ke,Je,dt,Rt=T.contents,Dt=T.dataTypes;Dt[0]==="*";)Dt.shift(),Se===void 0&&(Se=T.mimeType||ee.getResponseHeader("Content-Type"));if(Se){for(Ke in Rt)if(Rt[Ke]&&Rt[Ke].test(Se)){Dt.unshift(Ke);break}}if(Dt[0]in fe)Je=Dt[0];else{for(Ke in fe){if(!Dt[0]||T.converters[Ke+" "+Dt[0]]){Je=Ke;break}dt||(dt=Ke)}Je=Je||dt}if(Je)return Je!==Dt[0]&&Dt.unshift(Je),fe[Je]},qe=function(T,ee,fe,Se){var Ke,Je,dt,Rt,Dt,dn={},Nt=T.dataTypes.slice();if(Nt[1])for(dt in T.converters)dn[dt.toLowerCase()]=T.converters[dt];for(Je=Nt.shift();Je;)if(T.responseFields[Je]&&(fe[T.responseFields[Je]]=ee),!Dt&&Se&&T.dataFilter&&(ee=T.dataFilter(ee,T.dataType)),Dt=Je,Je=Nt.shift(),Je){if(Je==="*")Je=Dt;else if(Dt!=="*"&&Dt!==Je){if(dt=dn[Dt+" "+Je]||dn["* "+Je],!dt){for(Ke in dn)if(Rt=Ke.split(" "),Rt[1]===Je&&(dt=dn[Dt+" "+Rt[0]]||dn["* "+Rt[0]],dt)){dt===!0?dt=dn[Ke]:dn[Ke]!==!0&&(Je=Rt[0],Nt.unshift(Rt[1]));break}}if(dt!==!0)if(dt&&T.throws)ee=dt(ee);else try{ee=dt(ee)}catch(le){return{state:"parsererror",error:dt?le:"No conversion from "+Dt+" to "+Je}}}}return{state:"success",data:ee}},lt=[],_t=Object.getPrototypeOf,be=lt.slice,ze=lt.flat?function(T){return lt.flat.call(T)}:function(Ce){return lt.concat.apply([],Ce)},Re=lt.push,$e=lt.indexOf,Ye={},We=Ye.toString,Ct=Ye.hasOwnProperty,gt=Ct.toString,nt=gt.call(Object),rt={},ct=function(T){return typeof T=="function"&&typeof T.nodeType!="number"&&typeof T.item!="function"},At=function(T){return T!=null&&T===T.window},Mt=n.document,Lt={type:!0,src:!0,nonce:!0,noModule:!0},st="3.6.1",te=function(Ce,T){return new te.fn.init(Ce,T)};te.fn=te.prototype={jquery:st,constructor:te,length:0,toArray:function(){return be.call(this)},get:function(T){return T==null?be.call(this):T<0?this[T+this.length]:this[T]},pushStack:function(T){var ee=te.merge(this.constructor(),T);return ee.prevObject=this,ee},each:function(T){return te.each(this,T)},map:function(T){return this.pushStack(te.map(this,function(ee,fe){return T.call(ee,fe,ee)}))},slice:function(){return this.pushStack(be.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(te.grep(this,function(T,ee){return(ee+1)%2}))},odd:function(){return this.pushStack(te.grep(this,function(T,ee){return ee%2}))},eq:function(T){var ee=this.length,fe=+T+(T<0?ee:0);return this.pushStack(fe>=0&&fe<ee?[this[fe]]:[])},end:function(){return this.prevObject||this.constructor()},push:Re,sort:lt.sort,splice:lt.splice},te.extend=te.fn.extend=function(){var Ce,T,ee,fe,Se,Ke,Je=arguments[0]||{},dt=1,Rt=arguments.length,Dt=!1;for(typeof Je=="boolean"&&(Dt=Je,Je=arguments[dt]||{},dt++),typeof Je!="object"&&!ct(Je)&&(Je={}),dt===Rt&&(Je=this,dt--);dt<Rt;dt++)if((Ce=arguments[dt])!=null)for(T in Ce)fe=Ce[T],!(T==="__proto__"||Je===fe)&&(Dt&&fe&&(te.isPlainObject(fe)||(Se=Array.isArray(fe)))?(ee=Je[T],Se&&!Array.isArray(ee)?Ke=[]:!Se&&!te.isPlainObject(ee)?Ke={}:Ke=ee,Se=!1,Je[T]=te.extend(Dt,Ke,fe)):fe!==void 0&&(Je[T]=fe));return Je},te.extend({expando:"jQuery"+(st+Math.random()).replace(/\D/g,""),isReady:!0,error:function(T){throw new Error(T)},noop:function(){},isPlainObject:function(T){var ee,fe;return!T||We.call(T)!=="[object Object]"?!1:(ee=_t(T),ee?(fe=Ct.call(ee,"constructor")&&ee.constructor,typeof fe=="function"&&gt.call(fe)===nt):!0)},isEmptyObject:function(T){var ee;for(ee in T)return!1;return!0},globalEval:function(T,ee,fe){l(T,{nonce:ee&&ee.nonce},fe)},each:function(T,ee){var fe,Se=0;if(s(T))for(fe=T.length;Se<fe&&ee.call(T[Se],Se,T[Se])!==!1;Se++);else for(Se in T)if(ee.call(T[Se],Se,T[Se])===!1)break;return T},makeArray:function(T,ee){var fe=ee||[];return T!=null&&(s(Object(T))?te.merge(fe,typeof T=="string"?[T]:T):Re.call(fe,T)),fe},inArray:function(T,ee,fe){return ee==null?-1:$e.call(ee,T,fe)},merge:function(T,ee){for(var fe=+ee.length,Se=0,Ke=T.length;Se<fe;Se++)T[Ke++]=ee[Se];return T.length=Ke,T},grep:function(T,ee,fe){for(var Se,Ke=[],Je=0,dt=T.length,Rt=!fe;Je<dt;Je++)Se=!ee(T[Je],Je),Se!==Rt&&Ke.push(T[Je]);return Ke},map:function(T,ee,fe){var Se,Ke,Je=0,dt=[];if(s(T))for(Se=T.length;Je<Se;Je++)Ke=ee(T[Je],Je,fe),Ke!=null&&dt.push(Ke);else for(Je in T)Ke=ee(T[Je],Je,fe),Ke!=null&&dt.push(Ke);return ze(dt)},guid:1,support:rt}),typeof Symbol=="function"&&(te.fn[Symbol.iterator]=lt[Symbol.iterator]),te.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(Ce,T){Ye["[object "+T+"]"]=T.toLowerCase()});var Jt=function(Ce){var T=function(Ot,Wt,rn,Rn){var _n,kn,En,ir,Gn,yr,Ir,Lr=Wt&&Wt.ownerDocument,ei=Wt?Wt.nodeType:9;if(rn=rn||[],typeof Ot!="string"||!Ot||ei!==1&&ei!==9&&ei!==11)return rn;if(!Rn&&(dr(Wt),Wt=Wt||On,pr)){if(ei!==11&&(Gn=id.exec(Ot)))if(_n=Gn[1]){if(ei===9)if(En=Wt.getElementById(_n)){if(En.id===_n)return rn.push(En),rn}else return rn;else if(Lr&&(En=Lr.getElementById(_n))&&Mr(Wt,En)&&En.id===_n)return rn.push(En),rn}else{if(Gn[2])return Sn.apply(rn,Wt.getElementsByTagName(Ot)),rn;if((_n=Gn[3])&&Et.getElementsByClassName&&Wt.getElementsByClassName)return Sn.apply(rn,Wt.getElementsByClassName(_n)),rn}if(Et.qsa&&!ke[Ot+" "]&&(!Jn||!Jn.test(Ot))&&(ei!==1||Wt.nodeName.toLowerCase()!=="object")){if(Ir=Ot,Lr=Wt,ei===1&&(ca.test(Ot)||Bu.test(Ot))){for(Lr=od.test(Ot)&&Nt(Wt.parentNode)||Wt,(Lr!==Wt||!Et.scope)&&((ir=Wt.getAttribute("id"))?ir=ir.replace(kl,js):Wt.setAttribute("id",ir=hr)),yr=jn(Ot),kn=yr.length;kn--;)yr[kn]=(ir?"#"+ir:":scope")+" "+R(yr[kn]);Ir=yr.join(",")}try{return Sn.apply(rn,Lr.querySelectorAll(Ir)),rn}catch(ti){ke(Ot,!0)}finally{ir===hr&&Wt.removeAttribute("id")}}}return An(Ot.replace(So,"$1"),Wt,rn,Rn)},ee=function(){var Ot=[];function Wt(rn,Rn){return Ot.push(rn+" ")>pt.cacheLength&&delete Wt[Ot.shift()],Wt[rn+" "]=Rn}return Wt},fe=function(Ot){return Ot[hr]=!0,Ot},Se=function(Ot){var Wt=On.createElement("fieldset");try{return!!Ot(Wt)}catch(rn){return!1}finally{Wt.parentNode&&Wt.parentNode.removeChild(Wt),Wt=null}},Ke=function(Ot,Wt){for(var rn=Ot.split("|"),Rn=rn.length;Rn--;)pt.attrHandle[rn[Rn]]=Wt},Je=function(Ot,Wt){var rn=Wt&&Ot,Rn=rn&&Ot.nodeType===1&&Wt.nodeType===1&&Ot.sourceIndex-Wt.sourceIndex;if(Rn)return Rn;if(rn){for(;rn=rn.nextSibling;)if(rn===Wt)return-1}return Ot?1:-1},dt=function(Ot){return function(Wt){var rn=Wt.nodeName.toLowerCase();return rn==="input"&&Wt.type===Ot}},Rt=function(Ot){return function(Wt){var rn=Wt.nodeName.toLowerCase();return(rn==="input"||rn==="button")&&Wt.type===Ot}},Dt=function(Ot){return function(Wt){return"form"in Wt?Wt.parentNode&&Wt.disabled===!1?"label"in Wt?"label"in Wt.parentNode?Wt.parentNode.disabled===Ot:Wt.disabled===Ot:Wt.isDisabled===Ot||Wt.isDisabled!==!Ot&&Nk(Wt)===Ot:Wt.disabled===Ot:"label"in Wt?Wt.disabled===Ot:!1}},dn=function(Ot){return fe(function(Wt){return Wt=+Wt,fe(function(rn,Rn){for(var _n,kn=Ot([],rn.length,Wt),En=kn.length;En--;)rn[_n=kn[En]]&&(rn[_n]=!(Rn[_n]=rn[_n]))})})},Nt=function(Ot){return Ot&&_typeof(Ot.getElementsByTagName)<"u"&&Ot},le=function(){},R=function(Ot){for(var Wt=0,rn=Ot.length,Rn="";Wt<rn;Wt++)Rn+=Ot[Wt].value;return Rn},L=function(Ot,Wt,rn){var Rn=Wt.dir,_n=Wt.next,kn=_n||Rn,En=rn&&kn==="parentNode",ir=Xr++;return Wt.first?function(Gn,yr,Ir){for(;Gn=Gn[Rn];)if(Gn.nodeType===1||En)return Ot(Gn,yr,Ir);return!1}:function(Gn,yr,Ir){var Lr,ei,ti,Nr=[Ur,ir];if(Ir){for(;Gn=Gn[Rn];)if((Gn.nodeType===1||En)&&Ot(Gn,yr,Ir))return!0}else for(;Gn=Gn[Rn];)if(Gn.nodeType===1||En)if(ti=Gn[hr]||(Gn[hr]={}),ei=ti[Gn.uniqueID]||(ti[Gn.uniqueID]={}),_n&&_n===Gn.nodeName.toLowerCase())Gn=Gn[Rn]||Gn;else{if((Lr=ei[kn])&&Lr[0]===Ur&&Lr[1]===ir)return Nr[2]=Lr[2];if(ei[kn]=Nr,Nr[2]=Ot(Gn,yr,Ir))return!0}return!1}},W=function(Ot){return Ot.length>1?function(Wt,rn,Rn){for(var _n=Ot.length;_n--;)if(!Ot[_n](Wt,rn,Rn))return!1;return!0}:Ot[0]},ne=function(Ot,Wt,rn){for(var Rn=0,_n=Wt.length;Rn<_n;Rn++)T(Ot,Wt[Rn],rn);return rn},we=function(Ot,Wt,rn,Rn,_n){for(var kn,En=[],ir=0,Gn=Ot.length,yr=Wt!=null;ir<Gn;ir++)(kn=Ot[ir])&&(!rn||rn(kn,Rn,_n))&&(En.push(kn),yr&&Wt.push(ir));return En},Ie=function(Ot,Wt){var rn=Wt.length>0,Rn=Ot.length>0,_n=function(En,ir,Gn,yr,Ir){var Lr,ei,ti,Nr=0,vi="0",Zi=En&&[],Kr=[],fa=sr,Sl=En||Rn&&pt.find.TAG("*",Ir),Fa=Ur+=fa==null?1:Math.random()||.1,eo=Sl.length;for(Ir&&(sr=ir==On||ir||Ir);vi!==eo&&(Lr=Sl[vi])!=null;vi++){if(Rn&&Lr){for(ei=0,!ir&&Lr.ownerDocument!=On&&(dr(Lr),Gn=!pr);ti=Ot[ei++];)if(ti(Lr,ir||On,Gn)){yr.push(Lr);break}Ir&&(Ur=Fa)}rn&&((Lr=!ti&&Lr)&&Nr--,En&&Zi.push(Lr))}if(Nr+=vi,rn&&vi!==Nr){for(ei=0;ti=Wt[ei++];)ti(Zi,Kr,ir,Gn);if(En){if(Nr>0)for(;vi--;)Zi[vi]||Kr[vi]||(Kr[vi]=jt.call(yr));Kr=we(Kr)}Sn.apply(yr,Kr),Ir&&!En&&Kr.length>0&&Nr+Wt.length>1&&T.uniqueSort(yr)}return Ir&&(Ur=Fa,sr=fa),Zi};return rn?fe(_n):_n},vt,Et,pt,pn,un,jn,In,An,sr,Ln,vr,dr,On,nr,pr,Jn,rr,Hr,Mr,hr="sizzle"+1*new Date,wr=Ce.document,Ur=0,Xr=0,Dr=ee(),$r=ee(),Fe=ee(),ke=ee(),Le=function(Ot,Wt){return Ot===Wt&&(vr=!0),0},kt={}.hasOwnProperty,Pt=[],jt=Pt.pop,vn=Pt.push,Sn=Pt.push,Hn=Pt.slice,gr=function(Ot,Wt){for(var rn=0,Rn=Ot.length;rn<Rn;rn++)if(Ot[rn]===Wt)return rn;return-1},mr="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Yn="[\\x20\\t\\r\\n\\f]",oo="(?:\\\\[\\da-fA-F]{1,6}"+Yn+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Ba="\\["+Yn+"*("+oo+")(?:"+Yn+"*([*^$|!~]?=)"+Yn+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+oo+"))|)"+Yn+"*\\]",ua=":("+oo+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Ba+")*)|.*)\\)|)",Ji=new RegExp(Yn+"+","g"),So=new RegExp("^"+Yn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Yn+"+$","g"),Uo=new RegExp("^"+Yn+"*,"+Yn+"*"),Bu=new RegExp("^"+Yn+"*([>+~]|"+Yn+")"+Yn+"*"),ca=new RegExp(Yn+"|>"),_l=new RegExp(ua),za=new RegExp("^"+oo+"$"),Co={ID:new RegExp("^#("+oo+")"),CLASS:new RegExp("^\\.("+oo+")"),TAG:new RegExp("^("+oo+"|[*])"),ATTR:new RegExp("^"+Ba),PSEUDO:new RegExp("^"+ua),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Yn+"*(even|odd|(([+-]|)(\\d*)n|)"+Yn+"*(?:([+-]|)"+Yn+"*(\\d+)|))"+Yn+"*\\)|)","i"),bool:new RegExp("^(?:"+mr+")$","i"),needsContext:new RegExp("^"+Yn+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Yn+"*((?:-\\d)?\\d*)"+Yn+"*\\)|)(?=[^-]|$)","i")},Ro=/HTML$/i,rd=/^(?:input|select|textarea|button)$/i,Mi=/^h\d$/i,da=/^[^{]+\{\s*\[native \w/,id=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,od=/[+~]/,mo=new RegExp("\\\\[\\da-fA-F]{1,6}"+Yn+"?|\\\\([^\\r\\n\\f])","g"),go=function(Ot,Wt){var rn="0x"+Ot.slice(1)-65536;return Wt||(rn<0?String.fromCharCode(rn+65536):String.fromCharCode(rn>>10|55296,rn&1023|56320))},kl=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,js=function(Ot,Wt){return Wt?Ot==="\0"?"\uFFFD":Ot.slice(0,-1)+"\\"+Ot.charCodeAt(Ot.length-1).toString(16)+" ":"\\"+Ot},xl=function(){dr()},Nk=L(function(hn){return hn.disabled===!0&&hn.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Sn.apply(Pt=Hn.call(wr.childNodes),wr.childNodes),Pt[wr.childNodes.length].nodeType}catch(hn){Sn={apply:Pt.length?function(Ot,Wt){vn.apply(Ot,Hn.call(Wt))}:function(Ot,Wt){for(var rn=Ot.length,Rn=0;Ot[rn++]=Wt[Rn++];);Ot.length=rn-1}}}Et=T.support={},un=T.isXML=function(Ot){var Wt=Ot&&Ot.namespaceURI,rn=Ot&&(Ot.ownerDocument||Ot).documentElement;return!Ro.test(Wt||rn&&rn.nodeName||"HTML")},dr=T.setDocument=function(Ot){var Wt,rn,Rn=Ot?Ot.ownerDocument||Ot:wr;return Rn==On||Rn.nodeType!==9||!Rn.documentElement||(On=Rn,nr=On.documentElement,pr=!un(On),wr!=On&&(rn=On.defaultView)&&rn.top!==rn&&(rn.addEventListener?rn.addEventListener("unload",xl,!1):rn.attachEvent&&rn.attachEvent("onunload",xl)),Et.scope=Se(function(_n){return nr.appendChild(_n).appendChild(On.createElement("div")),_typeof(_n.querySelectorAll)<"u"&&!_n.querySelectorAll(":scope fieldset div").length}),Et.attributes=Se(function(_n){return _n.className="i",!_n.getAttribute("className")}),Et.getElementsByTagName=Se(function(_n){return _n.appendChild(On.createComment("")),!_n.getElementsByTagName("*").length}),Et.getElementsByClassName=da.test(On.getElementsByClassName),Et.getById=Se(function(_n){return nr.appendChild(_n).id=hr,!On.getElementsByName||!On.getElementsByName(hr).length}),Et.getById?(pt.filter.ID=function(_n){var kn=_n.replace(mo,go);return function(En){return En.getAttribute("id")===kn}},pt.find.ID=function(_n,kn){if(_typeof(kn.getElementById)<"u"&&pr){var En=kn.getElementById(_n);return En?[En]:[]}}):(pt.filter.ID=function(_n){var kn=_n.replace(mo,go);return function(En){var ir=_typeof(En.getAttributeNode)<"u"&&En.getAttributeNode("id");return ir&&ir.value===kn}},pt.find.ID=function(_n,kn){if(_typeof(kn.getElementById)<"u"&&pr){var En,ir,Gn,yr=kn.getElementById(_n);if(yr){if(En=yr.getAttributeNode("id"),En&&En.value===_n)return[yr];for(Gn=kn.getElementsByName(_n),ir=0;yr=Gn[ir++];)if(En=yr.getAttributeNode("id"),En&&En.value===_n)return[yr]}return[]}}),pt.find.TAG=Et.getElementsByTagName?function(_n,kn){if(_typeof(kn.getElementsByTagName)<"u")return kn.getElementsByTagName(_n);if(Et.qsa)return kn.querySelectorAll(_n)}:function(_n,kn){var En,ir=[],Gn=0,yr=kn.getElementsByTagName(_n);if(_n==="*"){for(;En=yr[Gn++];)En.nodeType===1&&ir.push(En);return ir}return yr},pt.find.CLASS=Et.getElementsByClassName&&function(_n,kn){if(_typeof(kn.getElementsByClassName)<"u"&&pr)return kn.getElementsByClassName(_n)},rr=[],Jn=[],(Et.qsa=da.test(On.querySelectorAll))&&(Se(function(_n){var kn;nr.appendChild(_n).innerHTML="<a id='"+hr+"'></a><select id='"+hr+"-\r\\' msallowcapture=''><option selected=''></option></select>",_n.querySelectorAll("[msallowcapture^='']").length&&Jn.push("[*^$]="+Yn+"*(?:''|\"\")"),_n.querySelectorAll("[selected]").length||Jn.push("\\["+Yn+"*(?:value|"+mr+")"),_n.querySelectorAll("[id~="+hr+"-]").length||Jn.push("~="),kn=On.createElement("input"),kn.setAttribute("name",""),_n.appendChild(kn),_n.querySelectorAll("[name='']").length||Jn.push("\\["+Yn+"*name"+Yn+"*="+Yn+"*(?:''|\"\")"),_n.querySelectorAll(":checked").length||Jn.push(":checked"),_n.querySelectorAll("a#"+hr+"+*").length||Jn.push(".#.+[+~]"),_n.querySelectorAll("\\\f"),Jn.push("[\\r\\n\\f]")}),Se(function(_n){_n.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var kn=On.createElement("input");kn.setAttribute("type","hidden"),_n.appendChild(kn).setAttribute("name","D"),_n.querySelectorAll("[name=d]").length&&Jn.push("name"+Yn+"*[*^$|!~]?="),_n.querySelectorAll(":enabled").length!==2&&Jn.push(":enabled",":disabled"),nr.appendChild(_n).disabled=!0,_n.querySelectorAll(":disabled").length!==2&&Jn.push(":enabled",":disabled"),_n.querySelectorAll("*,:x"),Jn.push(",.*:")})),(Et.matchesSelector=da.test(Hr=nr.matches||nr.webkitMatchesSelector||nr.mozMatchesSelector||nr.oMatchesSelector||nr.msMatchesSelector))&&Se(function(_n){Et.disconnectedMatch=Hr.call(_n,"*"),Hr.call(_n,"[s!='']:x"),rr.push("!=",ua)}),Jn=Jn.length&&new RegExp(Jn.join("|")),rr=rr.length&&new RegExp(rr.join("|")),Wt=da.test(nr.compareDocumentPosition),Mr=Wt||da.test(nr.contains)?function(kn,En){var ir=kn.nodeType===9?kn.documentElement:kn,Gn=En&&En.parentNode;return kn===Gn||!!(Gn&&Gn.nodeType===1&&(ir.contains?ir.contains(Gn):kn.compareDocumentPosition&&kn.compareDocumentPosition(Gn)&16))}:function(_n,kn){if(kn){for(;kn=kn.parentNode;)if(kn===_n)return!0}return!1},Le=Wt?function(kn,En){if(kn===En)return vr=!0,0;var ir=!kn.compareDocumentPosition-!En.compareDocumentPosition;return ir||(ir=(kn.ownerDocument||kn)==(En.ownerDocument||En)?kn.compareDocumentPosition(En):1,ir&1||!Et.sortDetached&&En.compareDocumentPosition(kn)===ir?kn==On||kn.ownerDocument==wr&&Mr(wr,kn)?-1:En==On||En.ownerDocument==wr&&Mr(wr,En)?1:Ln?gr(Ln,kn)-gr(Ln,En):0:ir&4?-1:1)}:function(_n,kn){if(_n===kn)return vr=!0,0;var En,ir=0,Gn=_n.parentNode,yr=kn.parentNode,Ir=[_n],Lr=[kn];if(!Gn||!yr)return _n==On?-1:kn==On?1:Gn?-1:yr?1:Ln?gr(Ln,_n)-gr(Ln,kn):0;if(Gn===yr)return Je(_n,kn);for(En=_n;En=En.parentNode;)Ir.unshift(En);for(En=kn;En=En.parentNode;)Lr.unshift(En);for(;Ir[ir]===Lr[ir];)ir++;return ir?Je(Ir[ir],Lr[ir]):Ir[ir]==wr?-1:Lr[ir]==wr?1:0}),On},T.matches=function(hn,Ot){return T(hn,null,null,Ot)},T.matchesSelector=function(hn,Ot){if(dr(hn),Et.matchesSelector&&pr&&!ke[Ot+" "]&&(!rr||!rr.test(Ot))&&(!Jn||!Jn.test(Ot)))try{var Wt=Hr.call(hn,Ot);if(Wt||Et.disconnectedMatch||hn.document&&hn.document.nodeType!==11)return Wt}catch(rn){ke(Ot,!0)}return T(Ot,On,null,[hn]).length>0},T.contains=function(hn,Ot){return(hn.ownerDocument||hn)!=On&&dr(hn),Mr(hn,Ot)},T.attr=function(hn,Ot){(hn.ownerDocument||hn)!=On&&dr(hn);var Wt=pt.attrHandle[Ot.toLowerCase()],rn=Wt&&kt.call(pt.attrHandle,Ot.toLowerCase())?Wt(hn,Ot,!pr):void 0;return rn!==void 0?rn:Et.attributes||!pr?hn.getAttribute(Ot):(rn=hn.getAttributeNode(Ot))&&rn.specified?rn.value:null},T.escape=function(hn){return(hn+"").replace(kl,js)},T.error=function(hn){throw new Error("Syntax error, unrecognized expression: "+hn)},T.uniqueSort=function(hn){var Ot,Wt=[],rn=0,Rn=0;if(vr=!Et.detectDuplicates,Ln=!Et.sortStable&&hn.slice(0),hn.sort(Le),vr){for(;Ot=hn[Rn++];)Ot===hn[Rn]&&(rn=Wt.push(Rn));for(;rn--;)hn.splice(Wt[rn],1)}return Ln=null,hn},pn=T.getText=function(hn){var Ot,Wt="",rn=0,Rn=hn.nodeType;if(Rn){if(Rn===1||Rn===9||Rn===11){if(typeof hn.textContent=="string")return hn.textContent;for(hn=hn.firstChild;hn;hn=hn.nextSibling)Wt+=pn(hn)}else if(Rn===3||Rn===4)return hn.nodeValue}else for(;Ot=hn[rn++];)Wt+=pn(Ot);return Wt},pt=T.selectors={cacheLength:50,createPseudo:fe,match:Co,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Ot){return Ot[1]=Ot[1].replace(mo,go),Ot[3]=(Ot[3]||Ot[4]||Ot[5]||"").replace(mo,go),Ot[2]==="~="&&(Ot[3]=" "+Ot[3]+" "),Ot.slice(0,4)},CHILD:function(Ot){return Ot[1]=Ot[1].toLowerCase(),Ot[1].slice(0,3)==="nth"?(Ot[3]||T.error(Ot[0]),Ot[4]=+(Ot[4]?Ot[5]+(Ot[6]||1):2*(Ot[3]==="even"||Ot[3]==="odd")),Ot[5]=+(Ot[7]+Ot[8]||Ot[3]==="odd")):Ot[3]&&T.error(Ot[0]),Ot},PSEUDO:function(Ot){var Wt,rn=!Ot[6]&&Ot[2];return Co.CHILD.test(Ot[0])?null:(Ot[3]?Ot[2]=Ot[4]||Ot[5]||"":rn&&_l.test(rn)&&(Wt=jn(rn,!0))&&(Wt=rn.indexOf(")",rn.length-Wt)-rn.length)&&(Ot[0]=Ot[0].slice(0,Wt),Ot[2]=rn.slice(0,Wt)),Ot.slice(0,3))}},filter:{TAG:function(Ot){var Wt=Ot.replace(mo,go).toLowerCase();return Ot==="*"?function(){return!0}:function(rn){return rn.nodeName&&rn.nodeName.toLowerCase()===Wt}},CLASS:function(Ot){var Wt=Dr[Ot+" "];return Wt||(Wt=new RegExp("(^|"+Yn+")"+Ot+"("+Yn+"|$)"))&&Dr(Ot,function(rn){return Wt.test(typeof rn.className=="string"&&rn.className||_typeof(rn.getAttribute)<"u"&&rn.getAttribute("class")||"")})},ATTR:function(Ot,Wt,rn){return function(Rn){var _n=T.attr(Rn,Ot);return _n==null?Wt==="!=":Wt?(_n+="",Wt==="="?_n===rn:Wt==="!="?_n!==rn:Wt==="^="?rn&&_n.indexOf(rn)===0:Wt==="*="?rn&&_n.indexOf(rn)>-1:Wt==="$="?rn&&_n.slice(-rn.length)===rn:Wt==="~="?(" "+_n.replace(Ji," ")+" ").indexOf(rn)>-1:Wt==="|="?_n===rn||_n.slice(0,rn.length+1)===rn+"-":!1):!0}},CHILD:function(Ot,Wt,rn,Rn,_n){var kn=Ot.slice(0,3)!=="nth",En=Ot.slice(-4)!=="last",ir=Wt==="of-type";return Rn===1&&_n===0?function(Gn){return!!Gn.parentNode}:function(Gn,yr,Ir){var Lr,ei,ti,Nr,vi,Zi,Kr=kn!==En?"nextSibling":"previousSibling",fa=Gn.parentNode,Sl=ir&&Gn.nodeName.toLowerCase(),Fa=!Ir&&!ir,eo=!1;if(fa){if(kn){for(;Kr;){for(Nr=Gn;Nr=Nr[Kr];)if(ir?Nr.nodeName.toLowerCase()===Sl:Nr.nodeType===1)return!1;Zi=Kr=Ot==="only"&&!Zi&&"nextSibling"}return!0}if(Zi=[En?fa.firstChild:fa.lastChild],En&&Fa){for(Nr=fa,ti=Nr[hr]||(Nr[hr]={}),ei=ti[Nr.uniqueID]||(ti[Nr.uniqueID]={}),Lr=ei[Ot]||[],vi=Lr[0]===Ur&&Lr[1],eo=vi&&Lr[2],Nr=vi&&fa.childNodes[vi];Nr=++vi&&Nr&&Nr[Kr]||(eo=vi=0)||Zi.pop();)if(Nr.nodeType===1&&++eo&&Nr===Gn){ei[Ot]=[Ur,vi,eo];break}}else if(Fa&&(Nr=Gn,ti=Nr[hr]||(Nr[hr]={}),ei=ti[Nr.uniqueID]||(ti[Nr.uniqueID]={}),Lr=ei[Ot]||[],vi=Lr[0]===Ur&&Lr[1],eo=vi),eo===!1)for(;(Nr=++vi&&Nr&&Nr[Kr]||(eo=vi=0)||Zi.pop())&&!((ir?Nr.nodeName.toLowerCase()===Sl:Nr.nodeType===1)&&++eo&&(Fa&&(ti=Nr[hr]||(Nr[hr]={}),ei=ti[Nr.uniqueID]||(ti[Nr.uniqueID]={}),ei[Ot]=[Ur,eo]),Nr===Gn)););return eo-=_n,eo===Rn||eo%Rn===0&&eo/Rn>=0}}},PSEUDO:function(Ot,Wt){var rn,Rn=pt.pseudos[Ot]||pt.setFilters[Ot.toLowerCase()]||T.error("unsupported pseudo: "+Ot);return Rn[hr]?Rn(Wt):Rn.length>1?(rn=[Ot,Ot,"",Wt],pt.setFilters.hasOwnProperty(Ot.toLowerCase())?fe(function(_n,kn){for(var En,ir=Rn(_n,Wt),Gn=ir.length;Gn--;)En=gr(_n,ir[Gn]),_n[En]=!(kn[En]=ir[Gn])}):function(_n){return Rn(_n,0,rn)}):Rn}},pseudos:{not:fe(function(hn){var Ot=[],Wt=[],rn=In(hn.replace(So,"$1"));return rn[hr]?fe(function(Rn,_n,kn,En){for(var ir,Gn=rn(Rn,null,En,[]),yr=Rn.length;yr--;)(ir=Gn[yr])&&(Rn[yr]=!(_n[yr]=ir))}):function(Rn,_n,kn){return Ot[0]=Rn,rn(Ot,null,kn,Wt),Ot[0]=null,!Wt.pop()}}),has:fe(function(hn){return function(Ot){return T(hn,Ot).length>0}}),contains:fe(function(hn){return hn=hn.replace(mo,go),function(Ot){return(Ot.textContent||pn(Ot)).indexOf(hn)>-1}}),lang:fe(function(hn){return za.test(hn||"")||T.error("unsupported lang: "+hn),hn=hn.replace(mo,go).toLowerCase(),function(Ot){var Wt;do if(Wt=pr?Ot.lang:Ot.getAttribute("xml:lang")||Ot.getAttribute("lang"))return Wt=Wt.toLowerCase(),Wt===hn||Wt.indexOf(hn+"-")===0;while((Ot=Ot.parentNode)&&Ot.nodeType===1);return!1}}),target:function(Ot){var Wt=Ce.location&&Ce.location.hash;return Wt&&Wt.slice(1)===Ot.id},root:function(Ot){return Ot===nr},focus:function(Ot){return Ot===On.activeElement&&(!On.hasFocus||On.hasFocus())&&!!(Ot.type||Ot.href||~Ot.tabIndex)},enabled:Dt(!1),disabled:Dt(!0),checked:function(Ot){var Wt=Ot.nodeName.toLowerCase();return Wt==="input"&&!!Ot.checked||Wt==="option"&&!!Ot.selected},selected:function(Ot){return Ot.parentNode&&Ot.parentNode.selectedIndex,Ot.selected===!0},empty:function(Ot){for(Ot=Ot.firstChild;Ot;Ot=Ot.nextSibling)if(Ot.nodeType<6)return!1;return!0},parent:function(Ot){return!pt.pseudos.empty(Ot)},header:function(Ot){return Mi.test(Ot.nodeName)},input:function(Ot){return rd.test(Ot.nodeName)},button:function(Ot){var Wt=Ot.nodeName.toLowerCase();return Wt==="input"&&Ot.type==="button"||Wt==="button"},text:function(Ot){var Wt;return Ot.nodeName.toLowerCase()==="input"&&Ot.type==="text"&&((Wt=Ot.getAttribute("type"))==null||Wt.toLowerCase()==="text")},first:dn(function(){return[0]}),last:dn(function(hn,Ot){return[Ot-1]}),eq:dn(function(hn,Ot,Wt){return[Wt<0?Wt+Ot:Wt]}),even:dn(function(hn,Ot){for(var Wt=0;Wt<Ot;Wt+=2)hn.push(Wt);return hn}),odd:dn(function(hn,Ot){for(var Wt=1;Wt<Ot;Wt+=2)hn.push(Wt);return hn}),lt:dn(function(hn,Ot,Wt){for(var rn=Wt<0?Wt+Ot:Wt>Ot?Ot:Wt;--rn>=0;)hn.push(rn);return hn}),gt:dn(function(hn,Ot,Wt){for(var rn=Wt<0?Wt+Ot:Wt;++rn<Ot;)hn.push(rn);return hn})}},pt.pseudos.nth=pt.pseudos.eq;for(vt in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})pt.pseudos[vt]=dt(vt);for(vt in{submit:!0,reset:!0})pt.pseudos[vt]=Rt(vt);le.prototype=pt.filters=pt.pseudos,pt.setFilters=new le,jn=T.tokenize=function(Ot,Wt){var rn,Rn,_n,kn,En,ir,Gn,yr=$r[Ot+" "];if(yr)return Wt?0:yr.slice(0);for(En=Ot,ir=[],Gn=pt.preFilter;En;){(!rn||(Rn=Uo.exec(En)))&&(Rn&&(En=En.slice(Rn[0].length)||En),ir.push(_n=[])),rn=!1,(Rn=Bu.exec(En))&&(rn=Rn.shift(),_n.push({value:rn,type:Rn[0].replace(So," ")}),En=En.slice(rn.length));for(kn in pt.filter)(Rn=Co[kn].exec(En))&&(!Gn[kn]||(Rn=Gn[kn](Rn)))&&(rn=Rn.shift(),_n.push({value:rn,type:kn,matches:Rn}),En=En.slice(rn.length));if(!rn)break}return Wt?En.length:En?T.error(Ot):$r(Ot,ir).slice(0)};function ad(hn,Ot,Wt,rn,Rn,_n){return rn&&!rn[hr]&&(rn=ad(rn)),Rn&&!Rn[hr]&&(Rn=ad(Rn,_n)),fe(function(kn,En,ir,Gn){var yr,Ir,Lr,ei=[],ti=[],Nr=En.length,vi=kn||ne(Ot||"*",ir.nodeType?[ir]:ir,[]),Zi=hn&&(kn||!Ot)?we(vi,ei,hn,ir,Gn):vi,Kr=Wt?Rn||(kn?hn:Nr||rn)?[]:En:Zi;if(Wt&&Wt(Zi,Kr,ir,Gn),rn)for(yr=we(Kr,ti),rn(yr,[],ir,Gn),Ir=yr.length;Ir--;)(Lr=yr[Ir])&&(Kr[ti[Ir]]=!(Zi[ti[Ir]]=Lr));if(kn){if(Rn||hn){if(Rn){for(yr=[],Ir=Kr.length;Ir--;)(Lr=Kr[Ir])&&yr.push(Zi[Ir]=Lr);Rn(null,Kr=[],yr,Gn)}for(Ir=Kr.length;Ir--;)(Lr=Kr[Ir])&&(yr=Rn?gr(kn,Lr):ei[Ir])>-1&&(kn[yr]=!(En[yr]=Lr))}}else Kr=we(Kr===En?Kr.splice(Nr,Kr.length):Kr),Rn?Rn(null,En,Kr,Gn):Sn.apply(En,Kr)})}function ha(hn){for(var Ot,Wt,rn,Rn=hn.length,_n=pt.relative[hn[0].type],kn=_n||pt.relative[" "],En=_n?1:0,ir=L(function(Ir){return Ir===Ot},kn,!0),Gn=L(function(Ir){return gr(Ot,Ir)>-1},kn,!0),yr=[function(Ir,Lr,ei){var ti=!_n&&(ei||Lr!==sr)||((Ot=Lr).nodeType?ir(Ir,Lr,ei):Gn(Ir,Lr,ei));return Ot=null,ti}];En<Rn;En++)if(Wt=pt.relative[hn[En].type])yr=[L(W(yr),Wt)];else{if(Wt=pt.filter[hn[En].type].apply(null,hn[En].matches),Wt[hr]){for(rn=++En;rn<Rn&&!pt.relative[hn[rn].type];rn++);return ad(En>1&&W(yr),En>1&&R(hn.slice(0,En-1).concat({value:hn[En-2].type===" "?"*":""})).replace(So,"$1"),Wt,En<rn&&ha(hn.slice(En,rn)),rn<Rn&&ha(hn=hn.slice(rn)),rn<Rn&&R(hn))}yr.push(Wt)}return W(yr)}return In=T.compile=function(Ot,Wt){var rn,Rn=[],_n=[],kn=Fe[Ot+" "];if(!kn){for(Wt||(Wt=jn(Ot)),rn=Wt.length;rn--;)kn=ha(Wt[rn]),kn[hr]?Rn.push(kn):_n.push(kn);kn=Fe(Ot,Ie(_n,Rn)),kn.selector=Ot}return kn},An=T.select=function(Ot,Wt,rn,Rn){var _n,kn,En,ir,Gn,yr=typeof Ot=="function"&&Ot,Ir=!Rn&&jn(Ot=yr.selector||Ot);if(rn=rn||[],Ir.length===1){if(kn=Ir[0]=Ir[0].slice(0),kn.length>2&&(En=kn[0]).type==="ID"&&Wt.nodeType===9&&pr&&pt.relative[kn[1].type]){if(Wt=(pt.find.ID(En.matches[0].replace(mo,go),Wt)||[])[0],Wt)yr&&(Wt=Wt.parentNode);else return rn;Ot=Ot.slice(kn.shift().value.length)}for(_n=Co.needsContext.test(Ot)?0:kn.length;_n--&&(En=kn[_n],!pt.relative[ir=En.type]);)if((Gn=pt.find[ir])&&(Rn=Gn(En.matches[0].replace(mo,go),od.test(kn[0].type)&&Nt(Wt.parentNode)||Wt))){if(kn.splice(_n,1),Ot=Rn.length&&R(kn),!Ot)return Sn.apply(rn,Rn),rn;break}}return(yr||In(Ot,Ir))(Rn,Wt,!pr,rn,!Wt||od.test(Ot)&&Nt(Wt.parentNode)||Wt),rn},Et.sortStable=hr.split("").sort(Le).join("")===hr,Et.detectDuplicates=!!vr,dr(),Et.sortDetached=Se(function(hn){return hn.compareDocumentPosition(On.createElement("fieldset"))&1}),Se(function(hn){return hn.innerHTML="<a href='#'></a>",hn.firstChild.getAttribute("href")==="#"})||Ke("type|href|height|width",function(hn,Ot,Wt){if(!Wt)return hn.getAttribute(Ot,Ot.toLowerCase()==="type"?1:2)}),(!Et.attributes||!Se(function(hn){return hn.innerHTML="<input/>",hn.firstChild.setAttribute("value",""),hn.firstChild.getAttribute("value")===""}))&&Ke("value",function(hn,Ot,Wt){if(!Wt&&hn.nodeName.toLowerCase()==="input")return hn.defaultValue}),Se(function(hn){return hn.getAttribute("disabled")==null})||Ke(mr,function(hn,Ot,Wt){var rn;if(!Wt)return hn[Ot]===!0?Ot.toLowerCase():(rn=hn.getAttributeNode(Ot))&&rn.specified?rn.value:null}),T}(n);te.find=Jt,te.expr=Jt.selectors,te.expr[":"]=te.expr.pseudos,te.uniqueSort=te.unique=Jt.uniqueSort,te.text=Jt.getText,te.isXMLDoc=Jt.isXML,te.contains=Jt.contains,te.escapeSelector=Jt.escape;var Ft=function(T,ee,fe){for(var Se=[],Ke=fe!==void 0;(T=T[ee])&&T.nodeType!==9;)if(T.nodeType===1){if(Ke&&te(T).is(fe))break;Se.push(T)}return Se},Yt=function(T,ee){for(var fe=[];T;T=T.nextSibling)T.nodeType===1&&T!==ee&&fe.push(T);return fe},N=te.expr.match.needsContext,Ze=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;te.filter=function(Ce,T,ee){var fe=T[0];return ee&&(Ce=":not("+Ce+")"),T.length===1&&fe.nodeType===1?te.find.matchesSelector(fe,Ce)?[fe]:[]:te.find.matches(Ce,te.grep(T,function(Se){return Se.nodeType===1}))},te.fn.extend({find:function(T){var ee,fe,Se=this.length,Ke=this;if(typeof T!="string")return this.pushStack(te(T).filter(function(){for(ee=0;ee<Se;ee++)if(te.contains(Ke[ee],this))return!0}));for(fe=this.pushStack([]),ee=0;ee<Se;ee++)te.find(T,Ke[ee],fe);return Se>1?te.uniqueSort(fe):fe},filter:function(T){return this.pushStack(d(this,T||[],!1))},not:function(T){return this.pushStack(d(this,T||[],!0))},is:function(T){return!!d(this,typeof T=="string"&&N.test(T)?te(T):T||[],!1).length}});var ge,ie=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,G=te.fn.init=function(T,ee,fe){var Se,Ke;if(!T)return this;if(fe=fe||ge,typeof T=="string")if(T[0]==="<"&&T[T.length-1]===">"&&T.length>=3?Se=[null,T,null]:Se=ie.exec(T),Se&&(Se[1]||!ee))if(Se[1]){if(ee=_instanceof(ee,te)?ee[0]:ee,te.merge(this,te.parseHTML(Se[1],ee&&ee.nodeType?ee.ownerDocument||ee:Mt,!0)),Ze.test(Se[1])&&te.isPlainObject(ee))for(Se in ee)ct(this[Se])?this[Se](ee[Se]):this.attr(Se,ee[Se]);return this}else return Ke=Mt.getElementById(Se[2]),Ke&&(this[0]=Ke,this.length=1),this;else return!ee||ee.jquery?(ee||fe).find(T):this.constructor(ee).find(T);else{if(T.nodeType)return this[0]=T,this.length=1,this;if(ct(T))return fe.ready!==void 0?fe.ready(T):T(te)}return te.makeArray(T,this)};G.prototype=te.fn,ge=te(Mt);var H=/^(?:parents|prev(?:Until|All))/,Z={children:!0,contents:!0,next:!0,prev:!0};te.fn.extend({has:function(T){var ee=te(T,this),fe=ee.length;return this.filter(function(){for(var Se=0;Se<fe;Se++)if(te.contains(this,ee[Se]))return!0})},closest:function(T,ee){var fe,Se=0,Ke=this.length,Je=[],dt=typeof T!="string"&&te(T);if(!N.test(T)){for(;Se<Ke;Se++)for(fe=this[Se];fe&&fe!==ee;fe=fe.parentNode)if(fe.nodeType<11&&(dt?dt.index(fe)>-1:fe.nodeType===1&&te.find.matchesSelector(fe,T))){Je.push(fe);break}}return this.pushStack(Je.length>1?te.uniqueSort(Je):Je)},index:function(T){return T?typeof T=="string"?$e.call(te(T),this[0]):$e.call(this,T.jquery?T[0]:T):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(T,ee){return this.pushStack(te.uniqueSort(te.merge(this.get(),te(T,ee))))},addBack:function(T){return this.add(T==null?this.prevObject:this.prevObject.filter(T))}}),te.each({parent:function(T){var ee=T.parentNode;return ee&&ee.nodeType!==11?ee:null},parents:function(T){return Ft(T,"parentNode")},parentsUntil:function(T,ee,fe){return Ft(T,"parentNode",fe)},next:function(T){return c(T,"nextSibling")},prev:function(T){return c(T,"previousSibling")},nextAll:function(T){return Ft(T,"nextSibling")},prevAll:function(T){return Ft(T,"previousSibling")},nextUntil:function(T,ee,fe){return Ft(T,"nextSibling",fe)},prevUntil:function(T,ee,fe){return Ft(T,"previousSibling",fe)},siblings:function(T){return Yt((T.parentNode||{}).firstChild,T)},children:function(T){return Yt(T.firstChild)},contents:function(T){return T.contentDocument!=null&&_t(T.contentDocument)?T.contentDocument:(r(T,"template")&&(T=T.content||T),te.merge([],T.childNodes))}},function(Ce,T){te.fn[Ce]=function(ee,fe){var Se=te.map(this,T,ee);return Ce.slice(-5)!=="Until"&&(fe=ee),fe&&typeof fe=="string"&&(Se=te.filter(fe,Se)),this.length>1&&(Z[Ce]||te.uniqueSort(Se),H.test(Ce)&&Se.reverse()),this.pushStack(Se)}});var oe=/[^\x20\t\r\n\f]+/g;te.Callbacks=function(Ce){Ce=typeof Ce=="string"?h(Ce):te.extend({},Ce);var T,ee,fe,Se,Ke=[],Je=[],dt=-1,Rt=function(){for(Se=Se||Ce.once,fe=T=!0;Je.length;dt=-1)for(ee=Je.shift();++dt<Ke.length;)Ke[dt].apply(ee[0],ee[1])===!1&&Ce.stopOnFalse&&(dt=Ke.length,ee=!1);Ce.memory||(ee=!1),T=!1,Se&&(ee?Ke=[]:Ke="")},Dt={add:function(){return Ke&&(ee&&!T&&(dt=Ke.length-1,Je.push(ee)),function Nt(le){te.each(le,function(R,L){ct(L)?(!Ce.unique||!Dt.has(L))&&Ke.push(L):L&&L.length&&a(L)!=="string"&&Nt(L)})}(arguments),ee&&!T&&Rt()),this},remove:function(){return te.each(arguments,function(Nt,le){for(var R;(R=te.inArray(le,Ke,R))>-1;)Ke.splice(R,1),R<=dt&&dt--}),this},has:function(Nt){return Nt?te.inArray(Nt,Ke)>-1:Ke.length>0},empty:function(){return Ke&&(Ke=[]),this},disable:function(){return Se=Je=[],Ke=ee="",this},disabled:function(){return!Ke},lock:function(){return Se=Je=[],!ee&&!T&&(Ke=ee=""),this},locked:function(){return!!Se},fireWith:function(Nt,le){return Se||(le=le||[],le=[Nt,le.slice?le.slice():le],Je.push(le),T||Rt()),this},fire:function(){return Dt.fireWith(this,arguments),this},fired:function(){return!!fe}};return Dt},te.extend({Deferred:function(T){var ee=[["notify","progress",te.Callbacks("memory"),te.Callbacks("memory"),2],["resolve","done",te.Callbacks("once memory"),te.Callbacks("once memory"),0,"resolved"],["reject","fail",te.Callbacks("once memory"),te.Callbacks("once memory"),1,"rejected"]],fe="pending",Se={state:function(){return fe},always:function(){return Ke.done(arguments).fail(arguments),this},catch:function(dt){return Se.then(null,dt)},pipe:function(){var dt=arguments;return te.Deferred(function(Rt){te.each(ee,function(Dt,dn){var Nt=ct(dt[dn[4]])&&dt[dn[4]];Ke[dn[1]](function(){var le=Nt&&Nt.apply(this,arguments);le&&ct(le.promise)?le.promise().progress(Rt.notify).done(Rt.resolve).fail(Rt.reject):Rt[dn[0]+"With"](this,Nt?[le]:arguments)})}),dt=null}).promise()},then:function(dt,Rt,Dt){var dn=0;function Nt(le,R,L,W){return function(){var ne=this,we=arguments,Ie=function(){var pt,pn;if(!(le<dn)){if(pt=L.apply(ne,we),pt===R.promise())throw new TypeError("Thenable self-resolution");pn=pt&&(typeof pt=="object"||typeof pt=="function")&&pt.then,ct(pn)?W?pn.call(pt,Nt(dn,R,f,W),Nt(dn,R,v,W)):(dn++,pn.call(pt,Nt(dn,R,f,W),Nt(dn,R,v,W),Nt(dn,R,f,R.notifyWith))):(L!==f&&(ne=void 0,we=[pt]),(W||R.resolveWith)(ne,we))}},vt=W?Ie:function(){try{Ie()}catch(Et){te.Deferred.exceptionHook&&te.Deferred.exceptionHook(Et,vt.stackTrace),le+1>=dn&&(L!==v&&(ne=void 0,we=[Et]),R.rejectWith(ne,we))}};le?vt():(te.Deferred.getStackHook&&(vt.stackTrace=te.Deferred.getStackHook()),n.setTimeout(vt))}}return te.Deferred(function(le){ee[0][3].add(Nt(0,le,ct(Dt)?Dt:f,le.notifyWith)),ee[1][3].add(Nt(0,le,ct(dt)?dt:f)),ee[2][3].add(Nt(0,le,ct(Rt)?Rt:v))}).promise()},promise:function(dt){return dt!=null?te.extend(dt,Se):Se}},Ke={};return te.each(ee,function(Je,dt){var Rt=dt[2],Dt=dt[5];Se[dt[1]]=Rt.add,Dt&&Rt.add(function(){fe=Dt},ee[3-Je][2].disable,ee[3-Je][3].disable,ee[0][2].lock,ee[0][3].lock),Rt.add(dt[3].fire),Ke[dt[0]]=function(){return Ke[dt[0]+"With"](this===Ke?void 0:this,arguments),this},Ke[dt[0]+"With"]=Rt.fireWith}),Se.promise(Ke),T&&T.call(Ke,Ke),Ke},when:function(T){var ee=arguments.length,fe=ee,Se=Array(fe),Ke=be.call(arguments),Je=te.Deferred(),dt=function(Dt){return function(dn){Se[Dt]=this,Ke[Dt]=arguments.length>1?be.call(arguments):dn,--ee||Je.resolveWith(Se,Ke)}};if(ee<=1&&(b(T,Je.done(dt(fe)).resolve,Je.reject,!ee),Je.state()==="pending"||ct(Ke[fe]&&Ke[fe].then)))return Je.then();for(;fe--;)b(Ke[fe],dt(fe),Je.reject);return Je.promise()}});var me=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;te.Deferred.exceptionHook=function(Ce,T){n.console&&n.console.warn&&Ce&&me.test(Ce.name)&&n.console.warn("jQuery.Deferred exception: "+Ce.message,Ce.stack,T)},te.readyException=function(Ce){n.setTimeout(function(){throw Ce})};var Oe=te.Deferred();te.fn.ready=function(Ce){return Oe.then(Ce).catch(function(T){te.readyException(T)}),this},te.extend({isReady:!1,readyWait:1,ready:function(T){(T===!0?--te.readyWait:te.isReady)||(te.isReady=!0,!(T!==!0&&--te.readyWait>0)&&Oe.resolveWith(Mt,[te]))}}),te.ready.then=Oe.then;function Pe(){Mt.removeEventListener("DOMContentLoaded",Pe),n.removeEventListener("load",Pe),te.ready()}Mt.readyState==="complete"||Mt.readyState!=="loading"&&!Mt.documentElement.doScroll?n.setTimeout(te.ready):(Mt.addEventListener("DOMContentLoaded",Pe),n.addEventListener("load",Pe));var Xe=function(Ce,T,ee,fe,Se,Ke,Je){var dt=0,Rt=Ce.length,Dt=ee==null;if(a(ee)==="object"){Se=!0;for(dt in ee)Xe(Ce,T,dt,ee[dt],!0,Ke,Je)}else if(fe!==void 0&&(Se=!0,ct(fe)||(Je=!0),Dt&&(Je?(T.call(Ce,fe),T=null):(Dt=T,T=function(Nt,le,R){return Dt.call(te(Nt),R)})),T))for(;dt<Rt;dt++)T(Ce[dt],ee,Je?fe:fe.call(Ce[dt],dt,T(Ce[dt],ee)));return Se?Ce:Dt?T.call(Ce):Rt?T(Ce[0],ee):Ke},Me=/^-ms-/,Qe=/-([a-z])/g,ht=function(T){return T.nodeType===1||T.nodeType===9||!+T.nodeType};function Vt(){this.expando=te.expando+Vt.uid++}Vt.uid=1,Vt.prototype={cache:function(T){var ee=T[this.expando];return ee||(ee={},ht(T)&&(T.nodeType?T[this.expando]=ee:Object.defineProperty(T,this.expando,{value:ee,configurable:!0}))),ee},set:function(T,ee,fe){var Se,Ke=this.cache(T);if(typeof ee=="string")Ke[k(ee)]=fe;else for(Se in ee)Ke[k(Se)]=ee[Se];return Ke},get:function(T,ee){return ee===void 0?this.cache(T):T[this.expando]&&T[this.expando][k(ee)]},access:function(T,ee,fe){return ee===void 0||ee&&typeof ee=="string"&&fe===void 0?this.get(T,ee):(this.set(T,ee,fe),fe!==void 0?fe:ee)},remove:function(T,ee){var fe,Se=T[this.expando];if(Se!==void 0){if(ee!==void 0)for(Array.isArray(ee)?ee=ee.map(k):(ee=k(ee),ee=ee in Se?[ee]:ee.match(oe)||[]),fe=ee.length;fe--;)delete Se[ee[fe]];(ee===void 0||te.isEmptyObject(Se))&&(T.nodeType?T[this.expando]=void 0:delete T[this.expando])}},hasData:function(T){var ee=T[this.expando];return ee!==void 0&&!te.isEmptyObject(ee)}};var $t=new Vt,zt=new Vt,qt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Bt=/[A-Z]/g;te.extend({hasData:function(T){return zt.hasData(T)||$t.hasData(T)},data:function(T,ee,fe){return zt.access(T,ee,fe)},removeData:function(T,ee){zt.remove(T,ee)},_data:function(T,ee,fe){return $t.access(T,ee,fe)},_removeData:function(T,ee){$t.remove(T,ee)}}),te.fn.extend({data:function(T,ee){var fe,Se,Ke,Je=this[0],dt=Je&&Je.attributes;if(T===void 0){if(this.length&&(Ke=zt.get(Je),Je.nodeType===1&&!$t.get(Je,"hasDataAttrs"))){for(fe=dt.length;fe--;)dt[fe]&&(Se=dt[fe].name,Se.indexOf("data-")===0&&(Se=k(Se.slice(5)),E(Je,Se,Ke[Se])));$t.set(Je,"hasDataAttrs",!0)}return Ke}return typeof T=="object"?this.each(function(){zt.set(this,T)}):Xe(this,function(Rt){var Dt;if(Je&&Rt===void 0)return Dt=zt.get(Je,T),Dt!==void 0||(Dt=E(Je,T),Dt!==void 0)?Dt:void 0;this.each(function(){zt.set(this,T,Rt)})},null,ee,arguments.length>1,null,!0)},removeData:function(T){return this.each(function(){zt.remove(this,T)})}}),te.extend({queue:function(T,ee,fe){var Se;if(T)return ee=(ee||"fx")+"queue",Se=$t.get(T,ee),fe&&(!Se||Array.isArray(fe)?Se=$t.access(T,ee,te.makeArray(fe)):Se.push(fe)),Se||[]},dequeue:function(T,ee){ee=ee||"fx";var fe=te.queue(T,ee),Se=fe.length,Ke=fe.shift(),Je=te._queueHooks(T,ee),dt=function(){te.dequeue(T,ee)};Ke==="inprogress"&&(Ke=fe.shift(),Se--),Ke&&(ee==="fx"&&fe.unshift("inprogress"),delete Je.stop,Ke.call(T,dt,Je)),!Se&&Je&&Je.empty.fire()},_queueHooks:function(T,ee){var fe=ee+"queueHooks";return $t.get(T,fe)||$t.access(T,fe,{empty:te.Callbacks("once memory").add(function(){$t.remove(T,[ee+"queue",fe])})})}}),te.fn.extend({queue:function(T,ee){var fe=2;return typeof T!="string"&&(ee=T,T="fx",fe--),arguments.length<fe?te.queue(this[0],T):ee===void 0?this:this.each(function(){var Se=te.queue(this,T,ee);te._queueHooks(this,T),T==="fx"&&Se[0]!=="inprogress"&&te.dequeue(this,T)})},dequeue:function(T){return this.each(function(){te.dequeue(this,T)})},clearQueue:function(T){return this.queue(T||"fx",[])},promise:function(T,ee){var fe,Se=1,Ke=te.Deferred(),Je=this,dt=this.length,Rt=function(){--Se||Ke.resolveWith(Je,[Je])};for(typeof T!="string"&&(ee=T,T=void 0),T=T||"fx";dt--;)fe=$t.get(Je[dt],T+"queueHooks"),fe&&fe.empty&&(Se++,fe.empty.add(Rt));return Rt(),Ke.promise(ee)}});var an=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,cn=new RegExp("^(?:([+-])=|)("+an+")([a-z%]*)$","i"),It=["Top","Right","Bottom","Left"],nn=Mt.documentElement,Kt=function(T){return te.contains(T.ownerDocument,T)},Pn={composed:!0};nn.getRootNode&&(Kt=function(T){return te.contains(T.ownerDocument,T)||T.getRootNode(Pn)===T.ownerDocument});var Xt=function(T,ee){return T=ee||T,T.style.display==="none"||T.style.display===""&&Kt(T)&&te.css(T,"display")==="none"},ar={};te.fn.extend({show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(T){return typeof T=="boolean"?T?this.show():this.hide():this.each(function(){Xt(this)?te(this).show():te(this).hide()})}});var Fn=/^(?:checkbox|radio)$/i,Qn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,en=/^$|^module$|\/(?:java|ecma)script/i;(function(){var Ce=Mt.createDocumentFragment(),T=Ce.appendChild(Mt.createElement("div")),ee=Mt.createElement("input");ee.setAttribute("type","radio"),ee.setAttribute("checked","checked"),ee.setAttribute("name","t"),T.appendChild(ee),rt.checkClone=T.cloneNode(!0).cloneNode(!0).lastChild.checked,T.innerHTML="<textarea>x</textarea>",rt.noCloneChecked=!!T.cloneNode(!0).lastChild.defaultValue,T.innerHTML="<option></option>",rt.option=!!T.lastChild})();var bn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};bn.tbody=bn.tfoot=bn.colgroup=bn.caption=bn.thead,bn.th=bn.td,rt.option||(bn.optgroup=bn.option=[1,"<select multiple='multiple'>","</select>"]);var Zn=/<|&#?\w+;/,Tn=/^([^.]*)(?:\.(.+)|)/;function Sr(Ce,T,ee,fe,Se,Ke){var Je,dt;if(typeof T=="object"){typeof ee!="string"&&(fe=fe||ee,ee=void 0);for(dt in T)Sr(Ce,dt,ee,fe,T[dt],Ke);return Ce}if(fe==null&&Se==null?(Se=ee,fe=ee=void 0):Se==null&&(typeof ee=="string"?(Se=fe,fe=void 0):(Se=fe,fe=ee,ee=void 0)),Se===!1)Se=x;else if(!Se)return Ce;return Ke===1&&(Je=Se,Se=function(Dt){return te().off(Dt),Je.apply(this,arguments)},Se.guid=Je.guid||(Je.guid=te.guid++)),Ce.each(function(){te.event.add(this,T,Se,fe,ee)})}te.event={global:{},add:function(T,ee,fe,Se,Ke){var Je,dt,Rt,Dt,dn,Nt,le,R,L,W,ne,we=$t.get(T);if(ht(T))for(fe.handler&&(Je=fe,fe=Je.handler,Ke=Je.selector),Ke&&te.find.matchesSelector(nn,Ke),fe.guid||(fe.guid=te.guid++),(Dt=we.events)||(Dt=we.events=Object.create(null)),(dt=we.handle)||(dt=we.handle=function(vt){return(typeof te=="undefined"?"undefined":_typeof(te))<"u"&&te.event.triggered!==vt.type?te.event.dispatch.apply(T,arguments):void 0}),ee=(ee||"").match(oe)||[""],dn=ee.length;dn--;)Rt=Tn.exec(ee[dn])||[],L=ne=Rt[1],W=(Rt[2]||"").split(".").sort(),L&&(le=te.event.special[L]||{},L=(Ke?le.delegateType:le.bindType)||L,le=te.event.special[L]||{},Nt=te.extend({type:L,origType:ne,data:Se,handler:fe,guid:fe.guid,selector:Ke,needsContext:Ke&&te.expr.match.needsContext.test(Ke),namespace:W.join(".")},Je),(R=Dt[L])||(R=Dt[L]=[],R.delegateCount=0,(!le.setup||le.setup.call(T,Se,W,dt)===!1)&&T.addEventListener&&T.addEventListener(L,dt)),le.add&&(le.add.call(T,Nt),Nt.handler.guid||(Nt.handler.guid=fe.guid)),Ke?R.splice(R.delegateCount++,0,Nt):R.push(Nt),te.event.global[L]=!0)},remove:function(T,ee,fe,Se,Ke){var Je,dt,Rt,Dt,dn,Nt,le,R,L,W,ne,we=$t.hasData(T)&&$t.get(T);if(!(!we||!(Dt=we.events))){for(ee=(ee||"").match(oe)||[""],dn=ee.length;dn--;){if(Rt=Tn.exec(ee[dn])||[],L=ne=Rt[1],W=(Rt[2]||"").split(".").sort(),!L){for(L in Dt)te.event.remove(T,L+ee[dn],fe,Se,!0);continue}for(le=te.event.special[L]||{},L=(Se?le.delegateType:le.bindType)||L,R=Dt[L]||[],Rt=Rt[2]&&new RegExp("(^|\\.)"+W.join("\\.(?:.*\\.|)")+"(\\.|$)"),dt=Je=R.length;Je--;)Nt=R[Je],(Ke||ne===Nt.origType)&&(!fe||fe.guid===Nt.guid)&&(!Rt||Rt.test(Nt.namespace))&&(!Se||Se===Nt.selector||Se==="**"&&Nt.selector)&&(R.splice(Je,1),Nt.selector&&R.delegateCount--,le.remove&&le.remove.call(T,Nt));dt&&!R.length&&((!le.teardown||le.teardown.call(T,W,we.handle)===!1)&&te.removeEvent(T,L,we.handle),delete Dt[L])}te.isEmptyObject(Dt)&&$t.remove(T,"handle events")}},dispatch:function(T){var ee,fe,Se,Ke,Je,dt,Rt=new Array(arguments.length),Dt=te.event.fix(T),dn=($t.get(this,"events")||Object.create(null))[Dt.type]||[],Nt=te.event.special[Dt.type]||{};for(Rt[0]=Dt,ee=1;ee<arguments.length;ee++)Rt[ee]=arguments[ee];if(Dt.delegateTarget=this,!(Nt.preDispatch&&Nt.preDispatch.call(this,Dt)===!1)){for(dt=te.event.handlers.call(this,Dt,dn),ee=0;(Ke=dt[ee++])&&!Dt.isPropagationStopped();)for(Dt.currentTarget=Ke.elem,fe=0;(Je=Ke.handlers[fe++])&&!Dt.isImmediatePropagationStopped();)(!Dt.rnamespace||Je.namespace===!1||Dt.rnamespace.test(Je.namespace))&&(Dt.handleObj=Je,Dt.data=Je.data,Se=((te.event.special[Je.origType]||{}).handle||Je.handler).apply(Ke.elem,Rt),Se!==void 0&&(Dt.result=Se)===!1&&(Dt.preventDefault(),Dt.stopPropagation()));return Nt.postDispatch&&Nt.postDispatch.call(this,Dt),Dt.result}},handlers:function(T,ee){var fe,Se,Ke,Je,dt,Rt=[],Dt=ee.delegateCount,dn=T.target;if(Dt&&dn.nodeType&&!(T.type==="click"&&T.button>=1)){for(;dn!==this;dn=dn.parentNode||this)if(dn.nodeType===1&&!(T.type==="click"&&dn.disabled===!0)){for(Je=[],dt={},fe=0;fe<Dt;fe++)Se=ee[fe],Ke=Se.selector+" ",dt[Ke]===void 0&&(dt[Ke]=Se.needsContext?te(Ke,this).index(dn)>-1:te.find(Ke,this,null,[dn]).length),dt[Ke]&&Je.push(Se);Je.length&&Rt.push({elem:dn,handlers:Je})}}return dn=this,Dt<ee.length&&Rt.push({elem:dn,handlers:ee.slice(Dt)}),Rt},addProp:function(T,ee){Object.defineProperty(te.Event.prototype,T,{enumerable:!0,configurable:!0,get:ct(ee)?function(){if(this.originalEvent)return ee(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[T]},set:function(Se){Object.defineProperty(this,T,{enumerable:!0,configurable:!0,writable:!0,value:Se})}})},fix:function(T){return T[te.expando]?T:new te.Event(T)},special:{load:{noBubble:!0},click:{setup:function(T){var ee=this||T;return Fn.test(ee.type)&&ee.click&&r(ee,"input")&&P(ee,"click",_),!1},trigger:function(T){var ee=this||T;return Fn.test(ee.type)&&ee.click&&r(ee,"input")&&P(ee,"click"),!0},_default:function(T){var ee=T.target;return Fn.test(ee.type)&&ee.click&&r(ee,"input")&&$t.get(ee,"click")||r(ee,"a")}},beforeunload:{postDispatch:function(T){T.result!==void 0&&T.originalEvent&&(T.originalEvent.returnValue=T.result)}}}},te.removeEvent=function(Ce,T,ee){Ce.removeEventListener&&Ce.removeEventListener(T,ee)},te.Event=function(Ce,T){if(!_instanceof(this,te.Event))return new te.Event(Ce,T);Ce&&Ce.type?(this.originalEvent=Ce,this.type=Ce.type,this.isDefaultPrevented=Ce.defaultPrevented||Ce.defaultPrevented===void 0&&Ce.returnValue===!1?_:x,this.target=Ce.target&&Ce.target.nodeType===3?Ce.target.parentNode:Ce.target,this.currentTarget=Ce.currentTarget,this.relatedTarget=Ce.relatedTarget):this.type=Ce,T&&te.extend(this,T),this.timeStamp=Ce&&Ce.timeStamp||Date.now(),this[te.expando]=!0},te.Event.prototype={constructor:te.Event,isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,isSimulated:!1,preventDefault:function(){var T=this.originalEvent;this.isDefaultPrevented=_,T&&!this.isSimulated&&T.preventDefault()},stopPropagation:function(){var T=this.originalEvent;this.isPropagationStopped=_,T&&!this.isSimulated&&T.stopPropagation()},stopImmediatePropagation:function(){var T=this.originalEvent;this.isImmediatePropagationStopped=_,T&&!this.isSimulated&&T.stopImmediatePropagation(),this.stopPropagation()}},te.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},te.event.addProp),te.each({focus:"focusin",blur:"focusout"},function(Ce,T){te.event.special[Ce]={setup:function(){return P(this,Ce,O),!1},trigger:function(){return P(this,Ce),!0},_default:function(fe){return $t.get(fe.target,Ce)},delegateType:T}}),te.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(Ce,T){te.event.special[Ce]={delegateType:T,bindType:T,handle:function(fe){var Se,Ke=this,Je=fe.relatedTarget,dt=fe.handleObj;return(!Je||Je!==Ke&&!te.contains(Ke,Je))&&(fe.type=dt.origType,Se=dt.handler.apply(this,arguments),fe.type=T),Se}}}),te.fn.extend({on:function(T,ee,fe,Se){return Sr(this,T,ee,fe,Se)},one:function(T,ee,fe,Se){return Sr(this,T,ee,fe,Se,1)},off:function(T,ee,fe){var Se,Ke;if(T&&T.preventDefault&&T.handleObj)return Se=T.handleObj,te(T.delegateTarget).off(Se.namespace?Se.origType+"."+Se.namespace:Se.origType,Se.selector,Se.handler),this;if(typeof T=="object"){for(Ke in T)this.off(Ke,ee,T[Ke]);return this}return(ee===!1||typeof ee=="function")&&(fe=ee,ee=void 0),fe===!1&&(fe=x),this.each(function(){te.event.remove(this,T,fe,ee)})}});var Ne=/<script|<style|<link/i,ue=/checked\s*(?:[^=]|=\s*.checked.)/i,Te=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ft(Ce,T,ee,fe){T=ze(T);var Se,Ke,Je,dt,Rt,Dt,dn=0,Nt=Ce.length,le=Nt-1,R=T[0],L=ct(R);if(L||Nt>1&&typeof R=="string"&&!rt.checkClone&&ue.test(R))return Ce.each(function(W){var ne=Ce.eq(W);L&&(T[0]=R.call(this,W,ne.html())),ft(ne,T,ee,fe)});if(Nt&&(Se=m(T,Ce[0].ownerDocument,!1,Ce,fe),Ke=Se.firstChild,Se.childNodes.length===1&&(Se=Ke),Ke||fe)){for(Je=te.map(u(Se,"script"),V),dt=Je.length;dn<Nt;dn++)Rt=Se,dn!==le&&(Rt=te.clone(Rt,!0,!0),dt&&te.merge(Je,u(Rt,"script"))),ee.call(Ce[dn],Rt,dn);if(dt)for(Dt=Je[Je.length-1].ownerDocument,te.map(Je,q),dn=0;dn<dt;dn++)Rt=Je[dn],en.test(Rt.type||"")&&!$t.access(Rt,"globalEval")&&te.contains(Dt,Rt)&&(Rt.src&&(Rt.type||"").toLowerCase()!=="module"?te._evalUrl&&!Rt.noModule&&te._evalUrl(Rt.src,{nonce:Rt.nonce||Rt.getAttribute("nonce")},Dt):l(Rt.textContent.replace(Te,""),Rt,Dt))}return Ce}te.extend({htmlPrefilter:function(T){return T},clone:function(T,ee,fe){var Se,Ke,Je,dt,Rt=T.cloneNode(!0),Dt=Kt(T);if(!rt.noCloneChecked&&(T.nodeType===1||T.nodeType===11)&&!te.isXMLDoc(T))for(dt=u(Rt),Je=u(T),Se=0,Ke=Je.length;Se<Ke;Se++)he(Je[Se],dt[Se]);if(ee)if(fe)for(Je=Je||u(T),dt=dt||u(Rt),Se=0,Ke=Je.length;Se<Ke;Se++)z(Je[Se],dt[Se]);else z(T,Rt);return dt=u(Rt,"script"),dt.length>0&&p(dt,!Dt&&u(T,"script")),Rt},cleanData:function(T){for(var ee,fe,Se,Ke=te.event.special,Je=0;(fe=T[Je])!==void 0;Je++)if(ht(fe)){if(ee=fe[$t.expando]){if(ee.events)for(Se in ee.events)Ke[Se]?te.event.remove(fe,Se):te.removeEvent(fe,Se,ee.handle);fe[$t.expando]=void 0}fe[zt.expando]&&(fe[zt.expando]=void 0)}}}),te.fn.extend({detach:function(T){return Y(this,T,!0)},remove:function(T){return Y(this,T)},text:function(T){return Xe(this,function(ee){return ee===void 0?te.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=ee)})},null,T,arguments.length)},append:function(){return ft(this,arguments,function(T){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var ee=D(this,T);ee.appendChild(T)}})},prepend:function(){return ft(this,arguments,function(T){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var ee=D(this,T);ee.insertBefore(T,ee.firstChild)}})},before:function(){return ft(this,arguments,function(T){this.parentNode&&this.parentNode.insertBefore(T,this)})},after:function(){return ft(this,arguments,function(T){this.parentNode&&this.parentNode.insertBefore(T,this.nextSibling)})},empty:function(){for(var T,ee=0;(T=this[ee])!=null;ee++)T.nodeType===1&&(te.cleanData(u(T,!1)),T.textContent="");return this},clone:function(T,ee){return T=T!=null?T:!1,ee=ee!=null?ee:T,this.map(function(){return te.clone(this,T,ee)})},html:function(T){return Xe(this,function(ee){var fe=this[0]||{},Se=0,Ke=this.length;if(ee===void 0&&fe.nodeType===1)return fe.innerHTML;if(typeof ee=="string"&&!Ne.test(ee)&&!bn[(Qn.exec(ee)||["",""])[1].toLowerCase()]){ee=te.htmlPrefilter(ee);try{for(;Se<Ke;Se++)fe=this[Se]||{},fe.nodeType===1&&(te.cleanData(u(fe,!1)),fe.innerHTML=ee);fe=0}catch(Je){}}fe&&this.empty().append(ee)},null,T,arguments.length)},replaceWith:function(){var T=[];return ft(this,arguments,function(ee){var fe=this.parentNode;te.inArray(this,T)<0&&(te.cleanData(u(this)),fe&&fe.replaceChild(ee,this))},T)}}),te.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(Ce,T){te.fn[Ce]=function(ee){for(var fe,Se=[],Ke=te(ee),Je=Ke.length-1,dt=0;dt<=Je;dt++)fe=dt===Je?this:this.clone(!0),te(Ke[dt])[T](fe),Re.apply(Se,fe.get());return this.pushStack(Se)}});var Tt=new RegExp("^("+an+")(?!px)[a-z%]+$","i"),St=/^--/,sn=function(T){var ee=T.ownerDocument.defaultView;return(!ee||!ee.opener)&&(ee=n),ee.getComputedStyle(T)},Mn=function(T,ee,fe){var Se,Ke,Je={};for(Ke in ee)Je[Ke]=T.style[Ke],T.style[Ke]=ee[Ke];Se=fe.call(T);for(Ke in ee)T.style[Ke]=Je[Ke];return Se},Nn=new RegExp(It.join("|"),"i"),cr="[\\x20\\t\\r\\n\\f]",or=new RegExp("^"+cr+"+|((?:^|[^\\\\])(?:\\\\.)*)"+cr+"+$","g");(function(){var Ce=function(){if(Dt){Rt.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Dt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",nn.appendChild(Rt).appendChild(Dt);var Nt=n.getComputedStyle(Dt);ee=Nt.top!=="1%",dt=T(Nt.marginLeft)===12,Dt.style.right="60%",Ke=T(Nt.right)===36,fe=T(Nt.width)===36,Dt.style.position="absolute",Se=T(Dt.offsetWidth/3)===12,nn.removeChild(Rt),Dt=null}},T=function(Nt){return Math.round(parseFloat(Nt))},ee,fe,Se,Ke,Je,dt,Rt=Mt.createElement("div"),Dt=Mt.createElement("div");Dt.style&&(Dt.style.backgroundClip="content-box",Dt.cloneNode(!0).style.backgroundClip="",rt.clearCloneStyle=Dt.style.backgroundClip==="content-box",te.extend(rt,{boxSizingReliable:function(){return Ce(),fe},pixelBoxStyles:function(){return Ce(),Ke},pixelPosition:function(){return Ce(),ee},reliableMarginLeft:function(){return Ce(),dt},scrollboxSize:function(){return Ce(),Se},reliableTrDimensions:function(){var Nt,le,R,L;return Je==null&&(Nt=Mt.createElement("table"),le=Mt.createElement("tr"),R=Mt.createElement("div"),Nt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",le.style.cssText="border:1px solid",le.style.height="1px",R.style.height="9px",R.style.display="block",nn.appendChild(Nt).appendChild(le).appendChild(R),L=n.getComputedStyle(le),Je=parseInt(L.height,10)+parseInt(L.borderTopWidth,10)+parseInt(L.borderBottomWidth,10)===le.offsetHeight,nn.removeChild(Nt)),Je}}))})();var Ar=["Webkit","Moz","ms"],Ei=Mt.createElement("div").style,fi={},xi=/^(none|table(?!-c[ea]).+)/,yt={position:"absolute",visibility:"hidden",display:"block"},at={letterSpacing:"0",fontWeight:"400"};te.extend({cssHooks:{opacity:{get:function(T,ee){if(ee){var fe=B(T,"opacity");return fe===""?"1":fe}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(T,ee,fe,Se){if(!(!T||T.nodeType===3||T.nodeType===8||!T.style)){var Ke,Je,dt,Rt=k(ee),Dt=St.test(ee),dn=T.style;if(Dt||(ee=J(Rt)),dt=te.cssHooks[ee]||te.cssHooks[Rt],fe!==void 0){if(Je=typeof fe=="undefined"?"undefined":_typeof(fe),Je==="string"&&(Ke=cn.exec(fe))&&Ke[1]&&(fe=A(T,ee,Ke),Je="number"),fe==null||fe!==fe)return;Je==="number"&&!Dt&&(fe+=Ke&&Ke[3]||(te.cssNumber[Rt]?"":"px")),!rt.clearCloneStyle&&fe===""&&ee.indexOf("background")===0&&(dn[ee]="inherit"),(!dt||!("set"in dt)||(fe=dt.set(T,fe,Se))!==void 0)&&(Dt?dn.setProperty(ee,fe):dn[ee]=fe)}else return dt&&"get"in dt&&(Ke=dt.get(T,!1,Se))!==void 0?Ke:dn[ee]}},css:function(T,ee,fe,Se){var Ke,Je,dt,Rt=k(ee),Dt=St.test(ee);return Dt||(ee=J(Rt)),dt=te.cssHooks[ee]||te.cssHooks[Rt],dt&&"get"in dt&&(Ke=dt.get(T,!0,fe)),Ke===void 0&&(Ke=B(T,ee,Se)),Ke==="normal"&&ee in at&&(Ke=at[ee]),fe===""||fe?(Je=parseFloat(Ke),fe===!0||isFinite(Je)?Je||0:Ke):Ke}}),te.each(["height","width"],function(Ce,T){te.cssHooks[T]={get:function(fe,Se,Ke){if(Se)return xi.test(te.css(fe,"display"))&&(!fe.getClientRects().length||!fe.getBoundingClientRect().width)?Mn(fe,yt,function(){return ve(fe,T,Ke)}):ve(fe,T,Ke)},set:function(fe,Se,Ke){var Je,dt=sn(fe),Rt=!rt.scrollboxSize()&&dt.position==="absolute",Dt=Rt||Ke,dn=Dt&&te.css(fe,"boxSizing",!1,dt)==="border-box",Nt=Ke?se(fe,T,Ke,dn,dt):0;return dn&&Rt&&(Nt-=Math.ceil(fe["offset"+T[0].toUpperCase()+T.slice(1)]-parseFloat(dt[T])-se(fe,T,"border",!1,dt)-.5)),Nt&&(Je=cn.exec(Se))&&(Je[3]||"px")!=="px"&&(fe.style[T]=Se,Se=te.css(fe,T)),ae(fe,Se,Nt)}}}),te.cssHooks.marginLeft=F(rt.reliableMarginLeft,function(Ce,T){if(T)return(parseFloat(B(Ce,"marginLeft"))||Ce.getBoundingClientRect().left-Mn(Ce,{marginLeft:0},function(){return Ce.getBoundingClientRect().left}))+"px"}),te.each({margin:"",padding:"",border:"Width"},function(Ce,T){te.cssHooks[Ce+T]={expand:function(fe){for(var Se=0,Ke={},Je=typeof fe=="string"?fe.split(" "):[fe];Se<4;Se++)Ke[Ce+It[Se]+T]=Je[Se]||Je[Se-2]||Je[0];return Ke}},Ce!=="margin"&&(te.cssHooks[Ce+T].set=ae)}),te.fn.extend({css:function(T,ee){return Xe(this,function(fe,Se,Ke){var Je,dt,Rt={},Dt=0;if(Array.isArray(Se)){for(Je=sn(fe),dt=Se.length;Dt<dt;Dt++)Rt[Se[Dt]]=te.css(fe,Se[Dt],!1,Je);return Rt}return Ke!==void 0?te.style(fe,Se,Ke):te.css(fe,Se)},T,ee,arguments.length>1)}});function bt(Ce,T,ee,fe,Se){return new bt.prototype.init(Ce,T,ee,fe,Se)}te.Tween=bt,bt.prototype={constructor:bt,init:function(T,ee,fe,Se,Ke,Je){this.elem=T,this.prop=fe,this.easing=Ke||te.easing._default,this.options=ee,this.start=this.now=this.cur(),this.end=Se,this.unit=Je||(te.cssNumber[fe]?"":"px")},cur:function(){var T=bt.propHooks[this.prop];return T&&T.get?T.get(this):bt.propHooks._default.get(this)},run:function(T){var ee,fe=bt.propHooks[this.prop];return this.options.duration?this.pos=ee=te.easing[this.easing](T,this.options.duration*T,0,1,this.options.duration):this.pos=ee=T,this.now=(this.end-this.start)*ee+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),fe&&fe.set?fe.set(this):bt.propHooks._default.set(this),this}},bt.prototype.init.prototype=bt.prototype,bt.propHooks={_default:{get:function(T){var ee;return T.elem.nodeType!==1||T.elem[T.prop]!=null&&T.elem.style[T.prop]==null?T.elem[T.prop]:(ee=te.css(T.elem,T.prop,""),!ee||ee==="auto"?0:ee)},set:function(T){te.fx.step[T.prop]?te.fx.step[T.prop](T):T.elem.nodeType===1&&(te.cssHooks[T.prop]||T.elem.style[J(T.prop)]!=null)?te.style(T.elem,T.prop,T.now+T.unit):T.elem[T.prop]=T.now}}},bt.propHooks.scrollTop=bt.propHooks.scrollLeft={set:function(T){T.elem.nodeType&&T.elem.parentNode&&(T.elem[T.prop]=T.now)}},te.easing={linear:function(T){return T},swing:function(T){return .5-Math.cos(T*Math.PI)/2},_default:"swing"},te.fx=bt.prototype.init,te.fx.step={};var ln,fn,Un=/^(?:toggle|show|hide)$/,lr=/queueHooks$/;function jr(){fn&&(Mt.hidden===!1&&n.requestAnimationFrame?n.requestAnimationFrame(jr):n.setTimeout(jr,te.fx.interval),te.fx.tick())}function Dn(Ce,T,ee){var fe,Se,Ke=0,Je=Dn.prefilters.length,dt=te.Deferred().always(function(){delete Rt.elem}),Rt=function(){if(Se)return!1;for(var le=ln||de(),R=Math.max(0,Dt.startTime+Dt.duration-le),L=R/Dt.duration||0,W=1-L,ne=0,we=Dt.tweens.length;ne<we;ne++)Dt.tweens[ne].run(W);return dt.notifyWith(Ce,[Dt,W,R]),W<1&&we?R:(we||dt.notifyWith(Ce,[Dt,1,0]),dt.resolveWith(Ce,[Dt]),!1)},Dt=dt.promise({elem:Ce,props:te.extend({},T),opts:te.extend(!0,{specialEasing:{},easing:te.easing._default},ee),originalProperties:T,originalOptions:ee,startTime:ln||de(),duration:ee.duration,tweens:[],createTween:function(le,R){var L=te.Tween(Ce,Dt.opts,le,R,Dt.opts.specialEasing[le]||Dt.opts.easing);return Dt.tweens.push(L),L},stop:function(le){var R=0,L=le?Dt.tweens.length:0;if(Se)return this;for(Se=!0;R<L;R++)Dt.tweens[R].run(1);return le?(dt.notifyWith(Ce,[Dt,1,0]),dt.resolveWith(Ce,[Dt,le])):dt.rejectWith(Ce,[Dt,le]),this}}),dn=Dt.props;for(ot(dn,Dt.opts.specialEasing);Ke<Je;Ke++)if(fe=Dn.prefilters[Ke].call(Dt,Ce,dn,Dt.opts),fe)return ct(fe.stop)&&(te._queueHooks(Dt.elem,Dt.opts.queue).stop=fe.stop.bind(fe)),fe;return te.map(dn,it,Dt),ct(Dt.opts.start)&&Dt.opts.start.call(Ce,Dt),Dt.progress(Dt.opts.progress).done(Dt.opts.done,Dt.opts.complete).fail(Dt.opts.fail).always(Dt.opts.always),te.fx.timer(te.extend(Rt,{elem:Ce,anim:Dt,queue:Dt.opts.queue})),Dt}te.Animation=te.extend(Dn,{tweeners:{"*":[function(Ce,T){var ee=this.createTween(Ce,T);return A(ee.elem,Ce,cn.exec(T),ee),ee}]},tweener:function(T,ee){ct(T)?(ee=T,T=["*"]):T=T.match(oe);for(var fe,Se=0,Ke=T.length;Se<Ke;Se++)fe=T[Se],Dn.tweeners[fe]=Dn.tweeners[fe]||[],Dn.tweeners[fe].unshift(ee)},prefilters:[mt],prefilter:function(T,ee){ee?Dn.prefilters.unshift(T):Dn.prefilters.push(T)}}),te.speed=function(Ce,T,ee){var fe=Ce&&typeof Ce=="object"?te.extend({},Ce):{complete:ee||!ee&&T||ct(Ce)&&Ce,duration:Ce,easing:ee&&T||T&&!ct(T)&&T};return te.fx.off?fe.duration=0:typeof fe.duration!="number"&&(fe.duration in te.fx.speeds?fe.duration=te.fx.speeds[fe.duration]:fe.duration=te.fx.speeds._default),(fe.queue==null||fe.queue===!0)&&(fe.queue="fx"),fe.old=fe.complete,fe.complete=function(){ct(fe.old)&&fe.old.call(this),fe.queue&&te.dequeue(this,fe.queue)},fe},te.fn.extend({fadeTo:function(T,ee,fe,Se){return this.filter(Xt).css("opacity",0).show().end().animate({opacity:ee},T,fe,Se)},animate:function(T,ee,fe,Se){var Ke=te.isEmptyObject(T),Je=te.speed(ee,fe,Se),dt=function(){var Dt=Dn(this,te.extend({},T),Je);(Ke||$t.get(this,"finish"))&&Dt.stop(!0)};return dt.finish=dt,Ke||Je.queue===!1?this.each(dt):this.queue(Je.queue,dt)},stop:function(T,ee,fe){var Se=function(Je){var dt=Je.stop;delete Je.stop,dt(fe)};return typeof T!="string"&&(fe=ee,ee=T,T=void 0),ee&&this.queue(T||"fx",[]),this.each(function(){var Ke=!0,Je=T!=null&&T+"queueHooks",dt=te.timers,Rt=$t.get(this);if(Je)Rt[Je]&&Rt[Je].stop&&Se(Rt[Je]);else for(Je in Rt)Rt[Je]&&Rt[Je].stop&&lr.test(Je)&&Se(Rt[Je]);for(Je=dt.length;Je--;)dt[Je].elem===this&&(T==null||dt[Je].queue===T)&&(dt[Je].anim.stop(fe),Ke=!1,dt.splice(Je,1));(Ke||!fe)&&te.dequeue(this,T)})},finish:function(T){return T!==!1&&(T=T||"fx"),this.each(function(){var ee,fe=$t.get(this),Se=fe[T+"queue"],Ke=fe[T+"queueHooks"],Je=te.timers,dt=Se?Se.length:0;for(fe.finish=!0,te.queue(this,T,[]),Ke&&Ke.stop&&Ke.stop.call(this,!0),ee=Je.length;ee--;)Je[ee].elem===this&&Je[ee].queue===T&&(Je[ee].anim.stop(!0),Je.splice(ee,1));for(ee=0;ee<dt;ee++)Se[ee]&&Se[ee].finish&&Se[ee].finish.call(this);delete fe.finish})}}),te.each(["toggle","show","hide"],function(Ce,T){var ee=te.fn[T];te.fn[T]=function(fe,Se,Ke){return fe==null||typeof fe=="boolean"?ee.apply(this,arguments):this.animate(Be(T,!0),fe,Se,Ke)}}),te.each({slideDown:Be("show"),slideUp:Be("hide"),slideToggle:Be("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(Ce,T){te.fn[Ce]=function(ee,fe,Se){return this.animate(T,ee,fe,Se)}}),te.timers=[],te.fx.tick=function(){var Ce,T=0,ee=te.timers;for(ln=Date.now();T<ee.length;T++)Ce=ee[T],!Ce()&&ee[T]===Ce&&ee.splice(T--,1);ee.length||te.fx.stop(),ln=void 0},te.fx.timer=function(Ce){te.timers.push(Ce),te.fx.start()},te.fx.interval=13,te.fx.start=function(){fn||(fn=!0,jr())},te.fx.stop=function(){fn=null},te.fx.speeds={slow:600,fast:200,_default:400},te.fn.delay=function(Ce,T){return Ce=te.fx&&te.fx.speeds[Ce]||Ce,T=T||"fx",this.queue(T,function(ee,fe){var Se=n.setTimeout(ee,Ce);fe.stop=function(){n.clearTimeout(Se)}})},function(){var Ce=Mt.createElement("input"),T=Mt.createElement("select"),ee=T.appendChild(Mt.createElement("option"));Ce.type="checkbox",rt.checkOn=Ce.value!=="",rt.optSelected=ee.selected,Ce=Mt.createElement("input"),Ce.value="t",Ce.type="radio",rt.radioValue=Ce.value==="t"}();var pi,oi=te.expr.attrHandle;te.fn.extend({attr:function(T,ee){return Xe(this,te.attr,T,ee,arguments.length>1)},removeAttr:function(T){return this.each(function(){te.removeAttr(this,T)})}}),te.extend({attr:function(T,ee,fe){var Se,Ke,Je=T.nodeType;if(!(Je===3||Je===8||Je===2)){if(_typeof(T.getAttribute)>"u")return te.prop(T,ee,fe);if((Je!==1||!te.isXMLDoc(T))&&(Ke=te.attrHooks[ee.toLowerCase()]||(te.expr.match.bool.test(ee)?pi:void 0)),fe!==void 0){if(fe===null){te.removeAttr(T,ee);return}return Ke&&"set"in Ke&&(Se=Ke.set(T,fe,ee))!==void 0?Se:(T.setAttribute(ee,fe+""),fe)}return Ke&&"get"in Ke&&(Se=Ke.get(T,ee))!==null?Se:(Se=te.find.attr(T,ee),Se!=null?Se:void 0)}},attrHooks:{type:{set:function(T,ee){if(!rt.radioValue&&ee==="radio"&&r(T,"input")){var fe=T.value;return T.setAttribute("type",ee),fe&&(T.value=fe),ee}}}},removeAttr:function(T,ee){var fe,Se=0,Ke=ee&&ee.match(oe);if(Ke&&T.nodeType===1)for(;fe=Ke[Se++];)T.removeAttribute(fe)}}),pi={set:function(T,ee,fe){return ee===!1?te.removeAttr(T,fe):T.setAttribute(fe,fe),fe}},te.each(te.expr.match.bool.source.match(/\w+/g),function(Ce,T){var ee=oi[T]||te.find.attr;oi[T]=function(fe,Se,Ke){var Je,dt,Rt=Se.toLowerCase();return Ke||(dt=oi[Rt],oi[Rt]=Je,Je=ee(fe,Se,Ke)!=null?Rt:null,oi[Rt]=dt),Je}});var Rr=/^(?:input|select|textarea|button)$/i,_e=/^(?:a|area)$/i;te.fn.extend({prop:function(T,ee){return Xe(this,te.prop,T,ee,arguments.length>1)},removeProp:function(T){return this.each(function(){delete this[te.propFix[T]||T]})}}),te.extend({prop:function(T,ee,fe){var Se,Ke,Je=T.nodeType;if(!(Je===3||Je===8||Je===2))return(Je!==1||!te.isXMLDoc(T))&&(ee=te.propFix[ee]||ee,Ke=te.propHooks[ee]),fe!==void 0?Ke&&"set"in Ke&&(Se=Ke.set(T,fe,ee))!==void 0?Se:T[ee]=fe:Ke&&"get"in Ke&&(Se=Ke.get(T,ee))!==null?Se:T[ee]},propHooks:{tabIndex:{get:function(T){var ee=te.find.attr(T,"tabindex");return ee?parseInt(ee,10):Rr.test(T.nodeName)||_e.test(T.nodeName)&&T.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),rt.optSelected||(te.propHooks.selected={get:function(T){var ee=T.parentNode;return ee&&ee.parentNode&&ee.parentNode.selectedIndex,null},set:function(T){var ee=T.parentNode;ee&&(ee.selectedIndex,ee.parentNode&&ee.parentNode.selectedIndex)}}),te.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){te.propFix[this.toLowerCase()]=this}),te.fn.extend({addClass:function(T){var ee,fe,Se,Ke,Je,dt;return ct(T)?this.each(function(Rt){te(this).addClass(T.call(this,Rt,xe(this)))}):(ee=De(T),ee.length?this.each(function(){if(Se=xe(this),fe=this.nodeType===1&&" "+Ae(Se)+" ",fe){for(Je=0;Je<ee.length;Je++)Ke=ee[Je],fe.indexOf(" "+Ke+" ")<0&&(fe+=Ke+" ");dt=Ae(fe),Se!==dt&&this.setAttribute("class",dt)}}):this)},removeClass:function(T){var ee,fe,Se,Ke,Je,dt;return ct(T)?this.each(function(Rt){te(this).removeClass(T.call(this,Rt,xe(this)))}):arguments.length?(ee=De(T),ee.length?this.each(function(){if(Se=xe(this),fe=this.nodeType===1&&" "+Ae(Se)+" ",fe){for(Je=0;Je<ee.length;Je++)for(Ke=ee[Je];fe.indexOf(" "+Ke+" ")>-1;)fe=fe.replace(" "+Ke+" "," ");dt=Ae(fe),Se!==dt&&this.setAttribute("class",dt)}}):this):this.attr("class","")},toggleClass:function(T,ee){var fe,Se,Ke,Je,dt=typeof T=="undefined"?"undefined":_typeof(T),Rt=dt==="string"||Array.isArray(T);return ct(T)?this.each(function(Dt){te(this).toggleClass(T.call(this,Dt,xe(this),ee),ee)}):typeof ee=="boolean"&&Rt?ee?this.addClass(T):this.removeClass(T):(fe=De(T),this.each(function(){if(Rt)for(Je=te(this),Ke=0;Ke<fe.length;Ke++)Se=fe[Ke],Je.hasClass(Se)?Je.removeClass(Se):Je.addClass(Se);else(T===void 0||dt==="boolean")&&(Se=xe(this),Se&&$t.set(this,"__className__",Se),this.setAttribute&&this.setAttribute("class",Se||T===!1?"":$t.get(this,"__className__")||""))}))},hasClass:function(T){var ee,fe,Se=0;for(ee=" "+T+" ";fe=this[Se++];)if(fe.nodeType===1&&(" "+Ae(xe(fe))+" ").indexOf(ee)>-1)return!0;return!1}});var ro=/\r/g;te.fn.extend({val:function(T){var ee,fe,Se,Ke=this[0];return arguments.length?(Se=ct(T),this.each(function(Je){var dt;this.nodeType===1&&(Se?dt=T.call(this,Je,te(this).val()):dt=T,dt==null?dt="":typeof dt=="number"?dt+="":Array.isArray(dt)&&(dt=te.map(dt,function(Rt){return Rt==null?"":Rt+""})),ee=te.valHooks[this.type]||te.valHooks[this.nodeName.toLowerCase()],(!ee||!("set"in ee)||ee.set(this,dt,"value")===void 0)&&(this.value=dt))})):Ke?(ee=te.valHooks[Ke.type]||te.valHooks[Ke.nodeName.toLowerCase()],ee&&"get"in ee&&(fe=ee.get(Ke,"value"))!==void 0?fe:(fe=Ke.value,typeof fe=="string"?fe.replace(ro,""):fe!=null?fe:"")):void 0}}),te.extend({valHooks:{option:{get:function(T){var ee=te.find.attr(T,"value");return ee!=null?ee:Ae(te.text(T))}},select:{get:function(T){var ee,fe,Se,Ke=T.options,Je=T.selectedIndex,dt=T.type==="select-one",Rt=dt?null:[],Dt=dt?Je+1:Ke.length;for(Je<0?Se=Dt:Se=dt?Je:0;Se<Dt;Se++)if(fe=Ke[Se],(fe.selected||Se===Je)&&!fe.disabled&&(!fe.parentNode.disabled||!r(fe.parentNode,"optgroup"))){if(ee=te(fe).val(),dt)return ee;Rt.push(ee)}return Rt},set:function(T,ee){for(var fe,Se,Ke=T.options,Je=te.makeArray(ee),dt=Ke.length;dt--;)Se=Ke[dt],(Se.selected=te.inArray(te.valHooks.option.get(Se),Je)>-1)&&(fe=!0);return fe||(T.selectedIndex=-1),Je}}}}),te.each(["radio","checkbox"],function(){te.valHooks[this]={set:function(T,ee){if(Array.isArray(ee))return T.checked=te.inArray(te(T).val(),ee)>-1}},rt.checkOn||(te.valHooks[this].get=function(Ce){return Ce.getAttribute("value")===null?"on":Ce.value})}),rt.focusin="onfocusin"in n;var ai=/^(?:focusinfocus|focusoutblur)$/,Si=function(T){T.stopPropagation()};te.extend(te.event,{trigger:function(T,ee,fe,Se){var Ke,Je,dt,Rt,Dt,dn,Nt,le,R=[fe||Mt],L=Ct.call(T,"type")?T.type:T,W=Ct.call(T,"namespace")?T.namespace.split("."):[];if(Je=le=dt=fe=fe||Mt,!(fe.nodeType===3||fe.nodeType===8)&&!ai.test(L+te.event.triggered)&&(L.indexOf(".")>-1&&(W=L.split("."),L=W.shift(),W.sort()),Dt=L.indexOf(":")<0&&"on"+L,T=T[te.expando]?T:new te.Event(L,typeof T=="object"&&T),T.isTrigger=Se?2:3,T.namespace=W.join("."),T.rnamespace=T.namespace?new RegExp("(^|\\.)"+W.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,T.result=void 0,T.target||(T.target=fe),ee=ee==null?[T]:te.makeArray(ee,[T]),Nt=te.event.special[L]||{},!(!Se&&Nt.trigger&&Nt.trigger.apply(fe,ee)===!1))){if(!Se&&!Nt.noBubble&&!At(fe)){for(Rt=Nt.delegateType||L,ai.test(Rt+L)||(Je=Je.parentNode);Je;Je=Je.parentNode)R.push(Je),dt=Je;dt===(fe.ownerDocument||Mt)&&R.push(dt.defaultView||dt.parentWindow||n)}for(Ke=0;(Je=R[Ke++])&&!T.isPropagationStopped();)le=Je,T.type=Ke>1?Rt:Nt.bindType||L,dn=($t.get(Je,"events")||Object.create(null))[T.type]&&$t.get(Je,"handle"),dn&&dn.apply(Je,ee),dn=Dt&&Je[Dt],dn&&dn.apply&&ht(Je)&&(T.result=dn.apply(Je,ee),T.result===!1&&T.preventDefault());return T.type=L,!Se&&!T.isDefaultPrevented()&&(!Nt._default||Nt._default.apply(R.pop(),ee)===!1)&&ht(fe)&&Dt&&ct(fe[L])&&!At(fe)&&(dt=fe[Dt],dt&&(fe[Dt]=null),te.event.triggered=L,T.isPropagationStopped()&&le.addEventListener(L,Si),fe[L](),T.isPropagationStopped()&&le.removeEventListener(L,Si),te.event.triggered=void 0,dt&&(fe[Dt]=dt)),T.result}},simulate:function(T,ee,fe){var Se=te.extend(new te.Event,fe,{type:T,isSimulated:!0});te.event.trigger(Se,null,ee)}}),te.fn.extend({trigger:function(T,ee){return this.each(function(){te.event.trigger(T,ee,this)})},triggerHandler:function(T,ee){var fe=this[0];if(fe)return te.event.trigger(T,ee,fe,!0)}}),rt.focusin||te.each({focus:"focusin",blur:"focusout"},function(Ce,T){var ee=function(Se){te.event.simulate(T,Se.target,te.event.fix(Se))};te.event.special[T]={setup:function(){var Se=this.ownerDocument||this.document||this,Ke=$t.access(Se,T);Ke||Se.addEventListener(Ce,ee,!0),$t.access(Se,T,(Ke||0)+1)},teardown:function(){var Se=this.ownerDocument||this.document||this,Ke=$t.access(Se,T)-1;Ke?$t.access(Se,T,Ke):(Se.removeEventListener(Ce,ee,!0),$t.remove(Se,T))}}});var gi=n.location,gn={guid:Date.now()},yn=/\?/;te.parseXML=function(Ce){var T,ee;if(!Ce||typeof Ce!="string")return null;try{T=new n.DOMParser().parseFromString(Ce,"text/xml")}catch(fe){}return ee=T&&T.getElementsByTagName("parsererror")[0],(!T||ee)&&te.error("Invalid XML: "+(ee?te.map(ee.childNodes,function(fe){return fe.textContent}).join("\n"):Ce)),T};var wn=/\[\]$/,ur=/\r?\n/g,Pr=/^(?:submit|button|image|reset|file)$/i,ni=/^(?:input|select|textarea|keygen)/i;function Ii(Ce,T,ee,fe){var Se;if(Array.isArray(T))te.each(T,function(Ke,Je){ee||wn.test(Ce)?fe(Ce,Je):Ii(Ce+"["+(typeof Je=="object"&&Je!=null?Ke:"")+"]",Je,ee,fe)});else if(!ee&&a(T)==="object")for(Se in T)Ii(Ce+"["+Se+"]",T[Se],ee,fe);else fe(Ce,T)}te.param=function(Ce,T){var ee,fe=[],Se=function(Je,dt){var Rt=ct(dt)?dt():dt;fe[fe.length]=encodeURIComponent(Je)+"="+encodeURIComponent(Rt!=null?Rt:"")};if(Ce==null)return"";if(Array.isArray(Ce)||Ce.jquery&&!te.isPlainObject(Ce))te.each(Ce,function(){Se(this.name,this.value)});else for(ee in Ce)Ii(ee,Ce[ee],T,Se);return fe.join("&")},te.fn.extend({serialize:function(){return te.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var T=te.prop(this,"elements");return T?te.makeArray(T):this}).filter(function(){var T=this.type;return this.name&&!te(this).is(":disabled")&&ni.test(this.nodeName)&&!Pr.test(T)&&(this.checked||!Fn.test(T))}).map(function(T,ee){var fe=te(this).val();return fe==null?null:Array.isArray(fe)?te.map(fe,function(Se){return{name:ee.name,value:Se.replace(ur,"\r\n")}}):{name:ee.name,value:fe.replace(ur,"\r\n")}}).get()}});var la=/%20/g,_o=/#.*$/,ao=/([?&])_=[^&]*/,Mo=/^(.*?):[ \t]*([^\r\n]*)$/mg,ko=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nu=/^(?:GET|HEAD)$/,Qi=/^\/\//,so={},Gi={},io="*/".concat("*"),bl=Mt.createElement("a");bl.href=gi.href,te.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gi.href,type:"GET",isLocal:ko.test(gi.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":io,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":te.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(T,ee){return ee?je(je(T,te.ajaxSettings),ee):je(te.ajaxSettings,T)},ajaxPrefilter:et(so),ajaxTransport:et(Gi),ajax:function(T,ee){var fe=function(In,An,sr,Ln){var vr,dr,On,nr,pr,Jn=An;dn||(dn=!0,Rt&&n.clearTimeout(Rt),Se=void 0,Je=Ln||"",un.readyState=In>0?4:0,vr=In>=200&&In<300||In===304,sr&&(nr=He(L,un,sr)),!vr&&te.inArray("script",L.dataTypes)>-1&&te.inArray("json",L.dataTypes)<0&&(L.converters["text script"]=function(){}),nr=qe(L,nr,un,vr),vr?(L.ifModified&&(pr=un.getResponseHeader("Last-Modified"),pr&&(te.lastModified[Ke]=pr),pr=un.getResponseHeader("etag"),pr&&(te.etag[Ke]=pr)),In===204||L.type==="HEAD"?Jn="nocontent":In===304?Jn="notmodified":(Jn=nr.state,dr=nr.data,On=nr.error,vr=!On)):(On=Jn,(In||!Jn)&&(Jn="error",In<0&&(In=0))),un.status=In,un.statusText=(An||Jn)+"",vr?we.resolveWith(W,[dr,Jn,un]):we.rejectWith(W,[un,Jn,On]),un.statusCode(vt),vt=void 0,Nt&&ne.trigger(vr?"ajaxSuccess":"ajaxError",[un,L,vr?dr:On]),Ie.fireWith(W,[un,Jn]),Nt&&(ne.trigger("ajaxComplete",[un,L]),--te.active||te.event.trigger("ajaxStop")))};typeof T=="object"&&(ee=T,T=void 0),ee=ee||{};var Se,Ke,Je,dt,Rt,Dt,dn,Nt,le,R,L=te.ajaxSetup({},ee),W=L.context||L,ne=L.context&&(W.nodeType||W.jquery)?te(W):te.event,we=te.Deferred(),Ie=te.Callbacks("once memory"),vt=L.statusCode||{},Et={},pt={},pn="canceled",un={readyState:0,getResponseHeader:function(In){var An;if(dn){if(!dt)for(dt={};An=Mo.exec(Je);)dt[An[1].toLowerCase()+" "]=(dt[An[1].toLowerCase()+" "]||[]).concat(An[2]);An=dt[In.toLowerCase()+" "]}return An==null?null:An.join(", ")},getAllResponseHeaders:function(){return dn?Je:null},setRequestHeader:function(In,An){return dn==null&&(In=pt[In.toLowerCase()]=pt[In.toLowerCase()]||In,Et[In]=An),this},overrideMimeType:function(In){return dn==null&&(L.mimeType=In),this},statusCode:function(In){var An;if(In)if(dn)un.always(In[un.status]);else for(An in In)vt[An]=[vt[An],In[An]];return this},abort:function(In){var An=In||pn;return Se&&Se.abort(An),fe(0,An),this}};if(we.promise(un),L.url=((T||L.url||gi.href)+"").replace(Qi,gi.protocol+"//"),L.type=ee.method||ee.type||L.method||L.type,L.dataTypes=(L.dataType||"*").toLowerCase().match(oe)||[""],L.crossDomain==null){Dt=Mt.createElement("a");try{Dt.href=L.url,Dt.href=Dt.href,L.crossDomain=bl.protocol+"//"+bl.host!=Dt.protocol+"//"+Dt.host}catch(jn){L.crossDomain=!0}}if(L.data&&L.processData&&typeof L.data!="string"&&(L.data=te.param(L.data,L.traditional)),Ve(so,L,ee,un),dn)return un;Nt=te.event&&L.global,Nt&&te.active++===0&&te.event.trigger("ajaxStart"),L.type=L.type.toUpperCase(),L.hasContent=!Nu.test(L.type),Ke=L.url.replace(_o,""),L.hasContent?L.data&&L.processData&&(L.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(L.data=L.data.replace(la,"+")):(R=L.url.slice(Ke.length),L.data&&(L.processData||typeof L.data=="string")&&(Ke+=(yn.test(Ke)?"&":"?")+L.data,delete L.data),L.cache===!1&&(Ke=Ke.replace(ao,"$1"),R=(yn.test(Ke)?"&":"?")+"_="+gn.guid+++R),L.url=Ke+R),L.ifModified&&(te.lastModified[Ke]&&un.setRequestHeader("If-Modified-Since",te.lastModified[Ke]),te.etag[Ke]&&un.setRequestHeader("If-None-Match",te.etag[Ke])),(L.data&&L.hasContent&&L.contentType!==!1||ee.contentType)&&un.setRequestHeader("Content-Type",L.contentType),un.setRequestHeader("Accept",L.dataTypes[0]&&L.accepts[L.dataTypes[0]]?L.accepts[L.dataTypes[0]]+(L.dataTypes[0]!=="*"?", "+io+"; q=0.01":""):L.accepts["*"]);for(le in L.headers)un.setRequestHeader(le,L.headers[le]);if(L.beforeSend&&(L.beforeSend.call(W,un,L)===!1||dn))return un.abort();if(pn="abort",Ie.add(L.complete),un.done(L.success),un.fail(L.error),Se=Ve(Gi,L,ee,un),!Se)fe(-1,"No Transport");else{if(un.readyState=1,Nt&&ne.trigger("ajaxSend",[un,L]),dn)return un;L.async&&L.timeout>0&&(Rt=n.setTimeout(function(){un.abort("timeout")},L.timeout));try{dn=!1,Se.send(Et,fe)}catch(jn){if(dn)throw jn;fe(-1,jn)}}return un},getJSON:function(T,ee,fe){return te.get(T,ee,fe,"json")},getScript:function(T,ee){return te.get(T,void 0,ee,"script")}}),te.each(["get","post"],function(Ce,T){te[T]=function(ee,fe,Se,Ke){return ct(fe)&&(Ke=Ke||Se,Se=fe,fe=void 0),te.ajax(te.extend({url:ee,type:T,dataType:Ke,data:fe,success:Se},te.isPlainObject(ee)&&ee))}}),te.ajaxPrefilter(function(Ce){var T;for(T in Ce.headers)T.toLowerCase()==="content-type"&&(Ce.contentType=Ce.headers[T]||"")}),te._evalUrl=function(Ce,T,ee){return te.ajax({url:Ce,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(Se){te.globalEval(Se,T,ee)}})},te.fn.extend({wrapAll:function(T){var ee;return this[0]&&(ct(T)&&(T=T.call(this[0])),ee=te(T,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&ee.insertBefore(this[0]),ee.map(function(){for(var fe=this;fe.firstElementChild;)fe=fe.firstElementChild;return fe}).append(this)),this},wrapInner:function(T){return ct(T)?this.each(function(ee){te(this).wrapInner(T.call(this,ee))}):this.each(function(){var ee=te(this),fe=ee.contents();fe.length?fe.wrapAll(T):ee.append(T)})},wrap:function(T){var ee=ct(T);return this.each(function(fe){te(this).wrapAll(ee?T.call(this,fe):T)})},unwrap:function(T){return this.parent(T).not("body").each(function(){te(this).replaceWith(this.childNodes)}),this}}),te.expr.pseudos.hidden=function(Ce){return!te.expr.pseudos.visible(Ce)},te.expr.pseudos.visible=function(Ce){return!!(Ce.offsetWidth||Ce.offsetHeight||Ce.getClientRects().length)},te.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(Ce){}};var xo={0:200,1223:204},_r=te.ajaxSettings.xhr();rt.cors=!!_r&&"withCredentials"in _r,rt.ajax=_r=!!_r,te.ajaxTransport(function(Ce){var T,ee;if(rt.cors||_r&&!Ce.crossDomain)return{send:function(Se,Ke){var Je,dt=Ce.xhr();if(dt.open(Ce.type,Ce.url,Ce.async,Ce.username,Ce.password),Ce.xhrFields)for(Je in Ce.xhrFields)dt[Je]=Ce.xhrFields[Je];Ce.mimeType&&dt.overrideMimeType&&dt.overrideMimeType(Ce.mimeType),!Ce.crossDomain&&!Se["X-Requested-With"]&&(Se["X-Requested-With"]="XMLHttpRequest");for(Je in Se)dt.setRequestHeader(Je,Se[Je]);T=function(Rt){return function(){T&&(T=ee=dt.onload=dt.onerror=dt.onabort=dt.ontimeout=dt.onreadystatechange=null,Rt==="abort"?dt.abort():Rt==="error"?typeof dt.status!="number"?Ke(0,"error"):Ke(dt.status,dt.statusText):Ke(xo[dt.status]||dt.status,dt.statusText,(dt.responseType||"text")!=="text"||typeof dt.responseText!="string"?{binary:dt.response}:{text:dt.responseText},dt.getAllResponseHeaders()))}},dt.onload=T(),ee=dt.onerror=dt.ontimeout=T("error"),dt.onabort!==void 0?dt.onabort=ee:dt.onreadystatechange=function(){dt.readyState===4&&n.setTimeout(function(){T&&ee()})},T=T("abort");try{dt.send(Ce.hasContent&&Ce.data||null)}catch(Rt){if(T)throw Rt}},abort:function(){T&&T()}}}),te.ajaxPrefilter(function(Ce){Ce.crossDomain&&(Ce.contents.script=!1)}),te.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(Ce){return te.globalEval(Ce),Ce}}}),te.ajaxPrefilter("script",function(Ce){Ce.cache===void 0&&(Ce.cache=!1),Ce.crossDomain&&(Ce.type="GET")}),te.ajaxTransport("script",function(Ce){if(Ce.crossDomain||Ce.scriptAttrs){var T,ee;return{send:function(Se,Ke){T=te("<script>").attr(Ce.scriptAttrs||{}).prop({charset:Ce.scriptCharset,src:Ce.url}).on("load error",ee=function(Je){T.remove(),ee=null,Je&&Ke(Je.type==="error"?404:200,Je.type)}),Mt.head.appendChild(T[0])},abort:function(){ee&&ee()}}}});var Os=[],wl=/(=)\?(?=&|$)|\?\?/;te.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var T=Os.pop()||te.expando+"_"+gn.guid++;return this[T]=!0,T}}),te.ajaxPrefilter("json jsonp",function(Ce,T,ee){var fe,Se,Ke,Je=Ce.jsonp!==!1&&(wl.test(Ce.url)?"url":typeof Ce.data=="string"&&(Ce.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&wl.test(Ce.data)&&"data");if(Je||Ce.dataTypes[0]==="jsonp")return fe=Ce.jsonpCallback=ct(Ce.jsonpCallback)?Ce.jsonpCallback():Ce.jsonpCallback,Je?Ce[Je]=Ce[Je].replace(wl,"$1"+fe):Ce.jsonp!==!1&&(Ce.url+=(yn.test(Ce.url)?"&":"?")+Ce.jsonp+"="+fe),Ce.converters["script json"]=function(){return Ke||te.error(fe+" was not called"),Ke[0]},Ce.dataTypes[0]="json",Se=n[fe],n[fe]=function(){Ke=arguments},ee.always(function(){Se===void 0?te(n).removeProp(fe):n[fe]=Se,Ce[fe]&&(Ce.jsonpCallback=T.jsonpCallback,Os.push(fe)),Ke&&ct(Se)&&Se(Ke[0]),Ke=Se=void 0}),"script"}),rt.createHTMLDocument=function(){var Ce=Mt.implementation.createHTMLDocument("").body;return Ce.innerHTML="<form></form><form></form>",Ce.childNodes.length===2}(),te.parseHTML=function(Ce,T,ee){if(typeof Ce!="string")return[];typeof T=="boolean"&&(ee=T,T=!1);var fe,Se,Ke;return T||(rt.createHTMLDocument?(T=Mt.implementation.createHTMLDocument(""),fe=T.createElement("base"),fe.href=Mt.location.href,T.head.appendChild(fe)):T=Mt),Se=Ze.exec(Ce),Ke=!ee&&[],Se?[T.createElement(Se[1])]:(Se=m([Ce],T,Ke),Ke&&Ke.length&&te(Ke).remove(),te.merge([],Se.childNodes))},te.fn.load=function(Ce,T,ee){var fe,Se,Ke,Je=this,dt=Ce.indexOf(" ");return dt>-1&&(fe=Ae(Ce.slice(dt)),Ce=Ce.slice(0,dt)),ct(T)?(ee=T,T=void 0):T&&typeof T=="object"&&(Se="POST"),Je.length>0&&te.ajax({url:Ce,type:Se||"GET",dataType:"html",data:T}).done(function(Rt){Ke=arguments,Je.html(fe?te("<div>").append(te.parseHTML(Rt)).find(fe):Rt)}).always(ee&&function(Rt,Dt){Je.each(function(){ee.apply(this,Ke||[Rt.responseText,Dt,Rt])})}),this},te.expr.pseudos.animated=function(Ce){return te.grep(te.timers,function(T){return Ce===T.elem}).length},te.offset={setOffset:function(T,ee,fe){var Se,Ke,Je,dt,Rt,Dt,dn,Nt=te.css(T,"position"),le=te(T),R={};Nt==="static"&&(T.style.position="relative"),Rt=le.offset(),Je=te.css(T,"top"),Dt=te.css(T,"left"),dn=(Nt==="absolute"||Nt==="fixed")&&(Je+Dt).indexOf("auto")>-1,dn?(Se=le.position(),dt=Se.top,Ke=Se.left):(dt=parseFloat(Je)||0,Ke=parseFloat(Dt)||0),ct(ee)&&(ee=ee.call(T,fe,te.extend({},Rt))),ee.top!=null&&(R.top=ee.top-Rt.top+dt),ee.left!=null&&(R.left=ee.left-Rt.left+Ke),"using"in ee?ee.using.call(T,R):le.css(R)}},te.fn.extend({offset:function(T){if(arguments.length)return T===void 0?this:this.each(function(Ke){te.offset.setOffset(this,T,Ke)});var ee,fe,Se=this[0];if(Se)return Se.getClientRects().length?(ee=Se.getBoundingClientRect(),fe=Se.ownerDocument.defaultView,{top:ee.top+fe.pageYOffset,left:ee.left+fe.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var T,ee,fe,Se=this[0],Ke={top:0,left:0};if(te.css(Se,"position")==="fixed")ee=Se.getBoundingClientRect();else{for(ee=this.offset(),fe=Se.ownerDocument,T=Se.offsetParent||fe.documentElement;T&&(T===fe.body||T===fe.documentElement)&&te.css(T,"position")==="static";)T=T.parentNode;T&&T!==Se&&T.nodeType===1&&(Ke=te(T).offset(),Ke.top+=te.css(T,"borderTopWidth",!0),Ke.left+=te.css(T,"borderLeftWidth",!0))}return{top:ee.top-Ke.top-te.css(Se,"marginTop",!0),left:ee.left-Ke.left-te.css(Se,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var T=this.offsetParent;T&&te.css(T,"position")==="static";)T=T.offsetParent;return T||nn})}}),te.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(Ce,T){var ee=T==="pageYOffset";te.fn[Ce]=function(fe){return Xe(this,function(Se,Ke,Je){var dt;if(At(Se)?dt=Se:Se.nodeType===9&&(dt=Se.defaultView),Je===void 0)return dt?dt[T]:Se[Ke];dt?dt.scrollTo(ee?dt.pageXOffset:Je,ee?Je:dt.pageYOffset):Se[Ke]=Je},Ce,fe,arguments.length)}}),te.each(["top","left"],function(Ce,T){te.cssHooks[T]=F(rt.pixelPosition,function(ee,fe){if(fe)return fe=B(ee,T),Tt.test(fe)?te(ee).position()[T]+"px":fe})}),te.each({Height:"height",Width:"width"},function(Ce,T){te.each({padding:"inner"+Ce,content:T,"":"outer"+Ce},function(ee,fe){te.fn[fe]=function(Se,Ke){var Je=arguments.length&&(ee||typeof Se!="boolean"),dt=ee||(Se===!0||Ke===!0?"margin":"border");return Xe(this,function(Rt,Dt,dn){var Nt;return At(Rt)?fe.indexOf("outer")===0?Rt["inner"+Ce]:Rt.document.documentElement["client"+Ce]:Rt.nodeType===9?(Nt=Rt.documentElement,Math.max(Rt.body["scroll"+Ce],Nt["scroll"+Ce],Rt.body["offset"+Ce],Nt["offset"+Ce],Nt["client"+Ce])):dn===void 0?te.css(Rt,Dt,dt):te.style(Rt,Dt,dn,dt)},T,Je?Se:void 0,Je)}})}),te.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(Ce,T){te.fn[T]=function(ee){return this.on(T,ee)}}),te.fn.extend({bind:function(T,ee,fe){return this.on(T,null,ee,fe)},unbind:function(T,ee){return this.off(T,null,ee)},delegate:function(T,ee,fe,Se){return this.on(ee,T,fe,Se)},undelegate:function(T,ee,fe){return arguments.length===1?this.off(T,"**"):this.off(ee,T||"**",fe)},hover:function(T,ee){return this.mouseenter(T).mouseleave(ee||T)}}),te.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(Ce,T){te.fn[T]=function(ee,fe){return arguments.length>0?this.on(T,null,ee,fe):this.trigger(T)}});var Ci=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;te.proxy=function(Ce,T){var ee,fe,Se;if(typeof T=="string"&&(ee=Ce[T],T=Ce,Ce=ee),!!ct(Ce))return fe=be.call(arguments,2),Se=function(){return Ce.apply(T||this,fe.concat(be.call(arguments)))},Se.guid=Ce.guid=Ce.guid||te.guid++,Se},te.holdReady=function(Ce){Ce?te.readyWait++:te.ready(!0)},te.isArray=Array.isArray,te.parseJSON=JSON.parse,te.nodeName=r,te.isFunction=ct,te.isWindow=At,te.camelCase=k,te.type=a,te.now=Date.now,te.isNumeric=function(Ce){var T=te.type(Ce);return(T==="number"||T==="string")&&!isNaN(Ce-parseFloat(Ce))},te.trim=function(Ce){return Ce==null?"":(Ce+"").replace(Ci,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return te});var Lo=n.jQuery,nd=n.$;return te.noConflict=function(Ce){return n.$===te&&(n.$=nd),Ce&&n.jQuery===te&&(n.jQuery=Lo),te},(typeof o=="undefined"?"undefined":_typeof(o))>"u"&&(n.jQuery=n.$=te),te})}),Kp={},Yx(Kp,{default:function(){return X}}),Kx=Yp(Xp()),Xx(Kp,Yp(Xp()));var g;tr=Kx,g=tr,Qp=g.default,Qx=Bi(tr,["default"]),X=Qp!==void 0?Qp:Qx}}),Pd=Ht({"https-url:https://esm.archive.org/jquery@3.6.1":function(){Td(),Td()}}),Jx=Ht({"https-url:https://av.prod.archive.org/js/util/jquery.js":function(){Pd(),globalThis.jQuery=X,globalThis.$=X}}),_a,Jp=Ht({"https-url:https://av.prod.archive.org/js/util/cgiarg.js":function(){_a=pT}}),tr,Wn,w1,Ns=Ht({"https-url:https://av.prod.archive.org/js/util/log.js":function(){Wn=typeof Deno!="undefined"||typeof location=="undefined"||location.host==="av.dev.archive.org"||location.host.match(/^(www|cat)-[a-z0-9]+\.archive\.org/)||location.host.endsWith(".code.archive.org")||location.host.startsWith("ia-petabox")||location.host.split(":")[0]==="localhost"||((tr=globalThis==null?void 0:globalThis.navigator)==null?void 0:tr.onLine)===!1?console.log.bind(console):function(){},w1=console.error.bind(console)}}),Id,_1=Ht({"https-url:https://av.prod.archive.org/js/util/onclick.js":function(){Id=vT}}),k1=Ht({"https-url:https://av.prod.archive.org/jw/8/jwplayer.js":function(){window.jwplayer=function(g){var t=function(c){for(var h,f,v=c[0],b=c[1],w=0,k=[];w<v.length;w++)f=v[w],Object.prototype.hasOwnProperty.call(n,f)&&n[f]&&k.push(n[f][0]),n[f]=0;for(h in b)Object.prototype.hasOwnProperty.call(b,h)&&(g[h]=b[h]);for(r&&r(c);k.length;)k.shift()()},e={},n={0:0};function o(d){if(e[d])return e[d].exports;var c=e[d]={i:d,l:!1,exports:{}};return g[d].call(c.exports,c,c.exports,o),c.l=!0,c.exports}o.e=function(d){var c=[],h=n[d];if(h!==0)if(h)c.push(h[2]);else{var f=new Promise(function(C,E){h=n[d]=[C,E]});c.push(h[2]=f);var v,b=document.createElement("script");b.charset="utf-8",b.timeout=120,o.nc&&b.setAttribute("nonce",o.nc),b.src=function(C){return o.p+""+({1:"jwplayer.controls",2:"jwplayer.controls.tizen",3:"jwplayer.core",4:"jwplayer.core.controls",5:"jwplayer.core.controls.html5",6:"jwplayer.core.controls.polyfills",7:"jwplayer.core.controls.polyfills.html5",8:"polyfills.intersection-observer",9:"polyfills.webvtt",10:"provider.html5",11:"vttparser"}[C]||C)+".js"}(d);var w=new Error;v=function(E){b.onerror=b.onload=null,clearTimeout(k);var A=n[d];if(A!==0){if(A){var j=E&&(E.type==="load"?"missing":E.type),y=E&&E.target&&E.target.src;w.message="Loading chunk "+d+" failed.\n("+j+": "+y+")",w.name="ChunkLoadError",w.type=j,w.request=y,A[1](w)}n[d]=void 0}};var k=setTimeout(function(){v({type:"timeout",target:b})},12e4);b.onerror=b.onload=v,document.head.appendChild(b)}return Promise.all(c)},o.m=g,o.c=e,o.d=function(d,c,h){o.o(d,c)||Object.defineProperty(d,c,{enumerable:!0,get:h})},o.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},o.t=function(d,c){if(1&c&&(d=o(d)),8&c||4&c&&typeof d=="object"&&d&&d.__esModule)return d;var h=Object.create(null);if(o.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:d}),2&c&&typeof d!="string")for(var f in d)o.d(h,f,function(v){return d[v]}.bind(null,f));return h},o.n=function(d){var c=d&&d.__esModule?function(){return d.default}:function(){return d};return o.d(c,"a",c),c},o.o=function(d,c){return Object.prototype.hasOwnProperty.call(d,c)},o.p="",o.oe=function(d){throw console.error(d),d};var l=window.webpackJsonpjwplayer=window.webpackJsonpjwplayer||[],a=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var r=a;return o(o.s=56)}([function(g,t,e){"use strict";e.d(t,"f",function(){return p}),e.d(t,"v",function(){return _}),e.d(t,"i",function(){return V}),e.d(t,"h",function(){return z}),e.d(t,"z",function(){return Be}),e.d(t,"b",function(){return it}),e.d(t,"j",function(){return ot}),e.d(t,"e",function(){return Ae}),e.d(t,"l",function(){return xe}),e.d(t,"a",function(){return et}),e.d(t,"A",function(){return lt}),e.d(t,"m",function(){return ze}),e.d(t,"d",function(){return Re}),e.d(t,"g",function(){return $e}),e.d(t,"x",function(){return Ye}),e.d(t,"p",function(){return ct}),e.d(t,"r",function(){return At}),e.d(t,"s",function(){return Mt}),e.d(t,"o",function(){return Lt}),e.d(t,"q",function(){return st}),e.d(t,"n",function(){return te}),e.d(t,"t",function(){return Jt}),e.d(t,"k",function(){return Yt}),e.d(t,"y",function(){return N}),e.d(t,"w",function(){return Ze}),e.d(t,"u",function(){return ie});var n=e(16),o={},l=Array.prototype,a=Object.prototype,s=Function.prototype,r=l.slice,d=l.concat,c=a.toString,h=a.hasOwnProperty,f=l.map,v=l.reduce,b=l.forEach,w=l.filter,k=l.every,C=l.some,E=l.indexOf,A=Array.isArray,j=Object.keys,y=s.bind,u=window.isFinite,p=function(H,Z,oe){var me,Oe;if(H==null)return H;if(b&&H.forEach===b)H.forEach(Z,oe);else if(H.length===+H.length){for(me=0,Oe=H.length;me<Oe;me++)if(Z.call(oe,H[me],me,H)===o)return}else{var Pe=_t(H);for(me=0,Oe=Pe.length;me<Oe;me++)if(Z.call(oe,H[Pe[me]],Pe[me],H)===o)return}return H},m=p,_=function(H,Z,oe){var me=[];return H==null?me:f&&H.map===f?H.map(Z,oe):(p(H,function(Oe,Pe,Xe){me.push(Z.call(oe,Oe,Pe,Xe))}),me)},x=_,O="Reduce of empty array with no initial value",I=function(H,Z,oe,me){var Oe=arguments.length>2;if(H==null&&(H=[]),v&&H.reduce===v)return me&&(Z=et(Z,me)),Oe?H.reduce(Z,oe):H.reduce(Z);if(p(H,function(Pe,Xe,Me){Oe?oe=Z.call(me,oe,Pe,Xe,Me):(oe=Pe,Oe=!0)}),!Oe)throw new TypeError(O);return oe},P=I,D=I,V=function(H,Z,oe){var me;return F(H,function(Oe,Pe,Xe){if(Z.call(oe,Oe,Pe,Xe))return me=Oe,!0}),me},q=V,z=function(H,Z,oe){var me=[];return H==null?me:w&&H.filter===w?H.filter(Z,oe):(p(H,function(Oe,Pe,Xe){Z.call(oe,Oe,Pe,Xe)&&me.push(Oe)}),me)},he=z,Y=function(H,Z,oe){Z||(Z=Yt);var me=!0;return H==null?me:k&&H.every===k?H.every(Z,oe):(p(H,function(Oe,Pe,Xe){if(!(me=me&&Z.call(oe,Oe,Pe,Xe)))return o}),!!me)},B=Y,F=function(H,Z,oe){Z||(Z=Yt);var me=!1;return H==null?me:C&&H.some===C?H.some(Z,oe):(p(H,function(Oe,Pe,Xe){if(me||(me=Z.call(oe,Oe,Pe,Xe)))return o}),!!me)},ce=F,J=function(H,Z){var oe;return function(){return--H>0&&(oe=Z.apply(this,arguments)),H<=1&&(Z=null),oe}},ae=function(H){return H==null?Yt:ct(H)?H:N(H)},se=function(H){return function(Z,oe,me){var Oe={};return oe=ae(oe),p(Z,function(Pe,Xe){var Me=oe.call(me,Pe,Xe,Z);H(Oe,Me,Pe)}),Oe}},ve=se(function(G,H,Z){Ft(G,H)?G[H].push(Z):G[H]=[Z]}),de=se(function(G,H,Z){G[H]=Z}),Be=function(H,Z,oe,me){for(var Oe=(oe=ae(oe)).call(me,Z),Pe=0,Xe=H.length;Pe<Xe;){var Me=Pe+Xe>>>1;oe.call(me,H[Me])<Oe?Pe=Me+1:Xe=Me}return Pe},it=function(H,Z){return H!=null&&(H.length!==+H.length&&(H=be(H)),xe(H,Z)>=0)},mt=it,ot=function(H,Z){return V(H,Ze(Z))},Ae=function(H){var Z=d.apply(l,r.call(arguments,1));return z(H,function(oe){return!it(Z,oe)})},xe=function(H,Z,oe){if(H==null)return-1;var me=0,Oe=H.length;if(oe){if(typeof oe!="number")return H[me=Be(H,Z)]===Z?me:-1;me=oe<0?Math.max(0,Oe+oe):oe}if(E&&H.indexOf===E)return H.indexOf(Z,oe);for(;me<Oe;me++)if(H[me]===Z)return me;return-1},De=function(){},et=function(H,Z){var oe,me;if(y&&H.bind===y)return y.apply(H,r.call(arguments,1));if(!ct(H))throw new TypeError;return oe=r.call(arguments,2),me=function(){if(!_instanceof(this,me))return H.apply(Z,oe.concat(r.call(arguments)));De.prototype=H.prototype;var Oe=new De;De.prototype=null;var Pe=H.apply(Oe,oe.concat(r.call(arguments)));return Object(Pe)===Pe?Pe:Oe}},Ve=function(H){var Z=r.call(arguments,1);return function(){for(var oe=0,me=Z.slice(),Oe=0,Pe=me.length;Oe<Pe;Oe++)Ft(me[Oe],"partial")&&(me[Oe]=arguments[oe++]);for(;oe<arguments.length;)me.push(arguments[oe++]);return H.apply(this,me)}},je=Ve(J,2),He=function(H,Z){var oe=r.call(arguments,2);return setTimeout(function(){return H.apply(null,oe)},Z)},qe=Ve(He,{partial:Ve},1),lt=function(H,Z,oe){var me,Oe,Pe,Xe=null,Me=0;oe||(oe={});var Qe=function(){Me=oe.leading===!1?0:ge(),Xe=null,Pe=H.apply(me,Oe),me=Oe=null};return function(){Me||oe.leading!==!1||(Me=ge);var ht=Z-(ge-Me);return me=this,Oe=arguments,ht<=0?(clearTimeout(Xe),Xe=null,Me=ge,Pe=H.apply(me,Oe),me=Oe=null):Xe||oe.trailing===!1||(Xe=setTimeout(Qe,ht)),Pe}},_t=function(H){if(!Ct(H))return[];if(j)return j(H);var Z=[];for(var oe in H)Ft(H,oe)&&Z.push(oe);return Z},be=function(H){for(var Z=_t(H),oe=_t.length,me=Array(oe),Oe=0;Oe<oe;Oe++)me[Oe]=H[Z[Oe]];return me},ze=function(H){for(var Z={},oe=_t(H),me=0,Oe=oe.length;me<Oe;me++)Z[H[oe[me]]]=oe[me];return Z},Re=function(H){return p(r.call(arguments,1),function(Z){if(Z)for(var oe in Z)H[oe]===void 0&&(H[oe]=Z[oe])}),H},$e=Object.assign||function(G){return p(r.call(arguments,1),function(H){if(H)for(var Z in H)Object.prototype.hasOwnProperty.call(H,Z)&&(G[Z]=H[Z])}),G},Ye=function(H){var Z={},oe=d.apply(l,r.call(arguments,1));return p(oe,function(me){me in H&&(Z[me]=H[me])}),Z},We=A||function(G){return c.call(G)=="[object Array]"},Ct=function(H){return H===Object(H)},gt=[];p(["Function","String","Number","Date","RegExp"],function(G){gt[G]=function(H){return c.call(H)=="[object "+G+"]"}}),gt.Function=function(G){return typeof G=="function"};var nt=gt.Date,rt=gt.RegExp,ct=gt.Function,At=gt.Number,Mt=gt.String,Lt=function(H){return u(H)&&!st(parseFloat(H))},st=function(H){return At(H)&&H!=+H},te=function(H){return H===!0||H===!1||c.call(H)=="[object Boolean]"},Jt=function(H){return H===void 0},Ft=function(H,Z){return h.call(H,Z)},Yt=function(H){return H},N=function(H){return function(Z){return Z[H]}},Ze=function(H){return function(Z){if(Z===H)return!0;for(var oe in H)if(H[oe]!==Z[oe])return!1;return!0}},ge=n.a,ie=function(H){return At(H)&&!st(H)};t.c={after:function(H,Z){return function(){if(--H<1)return Z.apply(this,arguments)}},all:Y,any:F,before:J,bind:et,clone:function(H){return Ct(H)?We(H)?H.slice():$e({},H):H},collect:x,compact:function(H){return z(H,Yt)},constant:function(H){return function(){return H}},contains:it,debounce:function(H,Z){var oe;return Z===void 0&&(Z=100),function(){for(var me=this,Oe=arguments.length,Pe=new Array(Oe),Xe=0;Xe<Oe;Xe++)Pe[Xe]=arguments[Xe];clearTimeout(oe),oe=setTimeout(function(){H.apply(me,Pe)},Z)}},defaults:Re,defer:qe,delay:He,detect:q,difference:Ae,each:p,every:B,extend:$e,filter:z,find:V,findWhere:ot,foldl:P,forEach:m,groupBy:ve,has:Ft,identity:Yt,include:mt,indexBy:de,indexOf:xe,inject:D,invert:ze,isArray:We,isBoolean:te,isDate:nt,isFinite:Lt,isFunction:ct,isNaN:st,isNull:function(H){return H===null},isNumber:At,isObject:Ct,isRegExp:rt,isString:Mt,isUndefined:Jt,isValidNumber:ie,keys:_t,last:function(H,Z,oe){if(H!=null)return Z==null||oe?H[H.length-1]:r.call(H,Math.max(H.length-Z,0))},map:_,matches:Ze,max:function(H,Z,oe){if(!Z&&We(H)&&H[0]===+H[0]&&H.length<65535)return Math.max.apply(Math,H);var me=-1/0,Oe=-1/0;return p(H,function(Pe,Xe,Me){var Qe=Z?Z.call(oe,Pe,Xe,Me):Pe;Qe>Oe&&(me=Pe,Oe=Qe)}),me},memoize:function(H,Z){var oe={};return Z||(Z=Yt),function(){var me=Z.apply(this,arguments);return Ft(oe,me)?oe[me]:oe[me]=H.apply(this,arguments)}},now:ge,omit:function(H){var Z={},oe=d.apply(l,r.call(arguments,1));for(var me in H)it(oe,me)||(Z[me]=H[me]);return Z},once:je,partial:Ve,pick:Ye,pluck:function(H,Z){return _(H,N(Z))},property:N,propertyOf:function(H){return H==null?function(){}:function(Z){return H[Z]}},reduce:I,reject:function(H,Z,oe){return z(H,function(me,Oe,Pe){return!Z.call(oe,me,Oe,Pe)},oe)},result:function(H,Z){if(H!=null){var oe=H[Z];return ct(oe)?oe.call(H):oe}},select:he,size:function(H){return H==null?0:H.length===+H.length?H.length:_t(H).length},some:ce,sortedIndex:Be,throttle:lt,where:function(H,Z){return z(H,Ze(Z))},without:function(H){return Ae(H,r.call(arguments,1))}}},function(g,t,e){"use strict";var n=function(D,V,q){return _instanceof(q,I)&&q.code?q:new I(D,V,q)},o=function(D,V){var q=n(O,V,D);return q.code=(D&&_instanceof(D,I)&&D.code||0)+V,q},l=function(D){var V=D.name,q=D.message;switch(V){case"AbortError":return/pause/.test(q)?303213:/load/.test(q)?303212:303210;case"NotAllowedError":return 303220;case"NotSupportedError":return 303230;default:return 303200}};e.d(t,"v",function(){return s}),e.d(t,"u",function(){return r}),e.d(t,"t",function(){return d}),e.d(t,"q",function(){return c}),e.d(t,"r",function(){return h}),e.d(t,"p",function(){return f}),e.d(t,"b",function(){return v}),e.d(t,"d",function(){return b}),e.d(t,"s",function(){return w}),e.d(t,"e",function(){return k}),e.d(t,"i",function(){return C}),e.d(t,"a",function(){return E}),e.d(t,"f",function(){return A}),e.d(t,"c",function(){return j}),e.d(t,"g",function(){return y}),e.d(t,"h",function(){return u}),e.d(t,"l",function(){return p}),e.d(t,"j",function(){return m}),e.d(t,"k",function(){return _}),e.d(t,"m",function(){return x}),e.d(t,"n",function(){return O}),e.d(t,"o",function(){return I}),e.d(t,"x",function(){return n}),e.d(t,"w",function(){return o}),e.d(t,"y",function(){return l});var a=e(0),s=1e5,r=100001,d=100002,c=101e3,h=102e3,f=102700,v=200001,b=202e3,w=104e3,k=203e3,C=203640,E=203700,A=204e3,j=306e3,y=308e3,u=308640,p="cantPlayVideo",m="badConnection",_="cantLoadPlayer",x="liveStreamDown",O="technicalError",I=function(){var P=function(V,q,z){this.code=Object(a.u)(q)?q:0,this.sourceError=z||null,V&&(this.key=V)};return P.logMessage=function(D){var V=D%1e3,q=Math.floor((D-V)/1e3),z=D.toString();return V>=400&&V<600&&(z=q+"400-"+q+"599"),"JW Player "+(D>299999&&D<4e5?"Warning":"Error")+" "+D+". For more information see https://developer.jwplayer.com/jw-player/docs/developer-guide/api/errors-reference#"+z},P}()},function(g,t,e){"use strict";var n=function(k){return k.replace(/^\s+|\s+$/g,"")},o=function(k,C,E){for(k=""+k,E=E||"0";k.length<C;)k=E+k;return k},l=function(k,C){for(var E=k.attributes,A=0;A<E.length;A++)if(E[A].name&&E[A].name.toLowerCase()===C.toLowerCase())return E[A].value.toString();return""},a=function(k){if(!k||k.substr(0,4)==="rtmp")return"";var C=/[(,]format=(m3u8|mpd)-/i.exec(k);if(C)return C[1];var E=k.replace(/^.+?\.(\w+)(?:[;].*)?(?:[?#].*)?$/,"$1");return E!==k?E.toLowerCase():(k=k.split("?")[0].split("#")[0]).lastIndexOf(".")>-1?k.substr(k.lastIndexOf(".")+1,k.length).toLowerCase():""},s=function(k){var C=(k/60|0)%60,E=k%60;return o((k/3600|0).toString(),2)+":"+o(C.toString(),2)+":"+o(E.toFixed(3),6)},r=function(k,C){if(!k)return 0;if(Object(v.u)(k))return k;var E=k.replace(",","."),A=E.slice(-1),j=E.split(":"),y=j.length,u=0;if(A==="s")u=b(E);else if(A==="m")u=60*b(E);else if(A==="h")u=3600*b(E);else if(y>1){var p=y-1;y===4&&(C&&(u=b(j[p])/C),p-=1),u+=b(j[p]),u+=60*b(j[p-1]),y>=3&&(u+=3600*b(j[p-2]))}else u=b(E);return Object(v.u)(u)?u:0},d=function(k,C,E){if(Object(v.s)(k)&&k.slice(-1)==="%"){var A=b(k);return C&&Object(v.u)(C)&&Object(v.u)(A)?C*A/100:null}return r(k,E)},c=function(k,C){return k.map(function(E){return C+E})},h=function(k,C){return k.map(function(E){return E+C})},f=function(k){return!!k&&Object(v.s)(k)&&k.slice(-1)==="%"};e.d(t,"i",function(){return n}),e.d(t,"e",function(){return o}),e.d(t,"j",function(){return l}),e.d(t,"a",function(){return a}),e.d(t,"b",function(){return s}),e.d(t,"g",function(){return r}),e.d(t,"d",function(){return d}),e.d(t,"f",function(){return c}),e.d(t,"h",function(){return h}),e.d(t,"c",function(){return f});var v=e(0),b=window.parseFloat},function(g,t,e){"use strict";e.d(t,"jb",function(){return n}),e.d(t,"mb",function(){return o}),e.d(t,"kb",function(){return l}),e.d(t,"ob",function(){return a}),e.d(t,"pb",function(){return s}),e.d(t,"lb",function(){return r}),e.d(t,"nb",function(){return d}),e.d(t,"qb",function(){return c}),e.d(t,"s",function(){return h}),e.d(t,"u",function(){return f}),e.d(t,"t",function(){return v}),e.d(t,"o",function(){return b}),e.d(t,"r",function(){return w}),e.d(t,"Z",function(){return k}),e.d(t,"W",function(){return C}),e.d(t,"v",function(){return E}),e.d(t,"Y",function(){return A}),e.d(t,"w",function(){return j}),e.d(t,"ub",function(){return y}),e.d(t,"a",function(){return u}),e.d(t,"b",function(){return p}),e.d(t,"c",function(){return m}),e.d(t,"d",function(){return _}),e.d(t,"e",function(){return x}),e.d(t,"f",function(){return O}),e.d(t,"i",function(){return I}),e.d(t,"F",function(){return P}),e.d(t,"gb",function(){return D}),e.d(t,"Q",function(){return V}),e.d(t,"C",function(){return q}),e.d(t,"B",function(){return z}),e.d(t,"E",function(){return he}),e.d(t,"q",function(){return Y}),e.d(t,"cb",function(){return B}),e.d(t,"n",function(){return F}),e.d(t,"G",function(){return ce}),e.d(t,"H",function(){return J}),e.d(t,"N",function(){return ae}),e.d(t,"O",function(){return se}),e.d(t,"R",function(){return ve}),e.d(t,"ib",function(){return de}),e.d(t,"bb",function(){return Be}),e.d(t,"D",function(){return it}),e.d(t,"S",function(){return mt}),e.d(t,"P",function(){return ot}),e.d(t,"T",function(){return Ae}),e.d(t,"V",function(){return xe}),e.d(t,"M",function(){return De}),e.d(t,"L",function(){return et}),e.d(t,"K",function(){return Ve}),e.d(t,"I",function(){return je}),e.d(t,"J",function(){return He}),e.d(t,"U",function(){return qe}),e.d(t,"p",function(){return lt}),e.d(t,"y",function(){return _t}),e.d(t,"hb",function(){return be}),e.d(t,"db",function(){return ze}),e.d(t,"eb",function(){return Re}),e.d(t,"g",function(){return $e}),e.d(t,"h",function(){return Ye}),e.d(t,"rb",function(){return We}),e.d(t,"sb",function(){return Ct}),e.d(t,"ab",function(){return gt}),e.d(t,"A",function(){return nt}),e.d(t,"m",function(){return rt}),e.d(t,"l",function(){return ct}),e.d(t,"fb",function(){return At}),e.d(t,"tb",function(){return Mt}),e.d(t,"z",function(){return Lt}),e.d(t,"k",function(){return st}),e.d(t,"X",function(){return te}),e.d(t,"j",function(){return Jt}),e.d(t,"x",function(){return Ft});var n="buffering",o="idle",l="complete",a="paused",s="playing",r="error",d="loading",c="stalled",h="drag",f="dragStart",v="dragEnd",b="click",w="doubleClick",k="over",C="move",E="enter",A="out",j=r,y="warning",u="adClick",p="mediaLoaded",m="adPause",_="adPlay",x="adSkipped",O="adTime",I="autostartNotAllowed",P=l,D="ready",V="seek",q="beforePlay",z="beforeComplete",he="bufferFull",Y="displayClick",B="playlistComplete",F="cast",ce="mediaError",J="firstFrame",ae="playAttempt",se="playAttemptFailed",ve="seeked",de="setupError",Be="state",it="bufferChange",mt="time",ot="ratechange",Ae="mediaType",xe="volume",De="mute",et="metadataCueParsed",Ve="meta",je="levels",He="levelsChanged",qe="visualQuality",lt="controls",_t="fullscreen",be="resize",ze="playlistItem",Re="playlist",$e="audioTracks",Ye="audioTrackChanged",We="subtitlesTracks",Ct="subtitlesTrackChanged",gt="playbackRateChanged",nt="logoClick",rt="captionsList",ct="captionsChanged",At="providerFirstFrame",Mt="userAction",Lt="instreamClick",st="breakpoint",te="fullscreenchange",Jt="bandwidthEstimate",Ft="float"},function(g,t,e){"use strict";var n=function(d){var c="";return d&&(d.localName?c=d.localName:d.baseName&&(c=d.baseName)),c},o=function(d){var c="";return d&&(d.textContent?c=Object(s.i)(d.textContent):d.text&&(c=Object(s.i)(d.text))),c},l=function(d,c){return d.childNodes[c]},a=function(d){return d.childNodes?d.childNodes.length:0};e.d(t,"b",function(){return n}),e.d(t,"d",function(){return o}),e.d(t,"a",function(){return l}),e.d(t,"c",function(){return a});var s=e(2)},function(g,t,e){"use strict";var n=function(_){return navigator.userAgent.match(_)!==null},o=function(){return!(n(/chrome\/[123456789]/i)&&!n(/chrome\/18/i)&&!s())&&j()},l=function(){try{return window.self!==window.top}catch(_){return!0}};e.d(t,"f",function(){return s}),e.d(t,"l",function(){return r}),e.d(t,"k",function(){return d}),e.d(t,"p",function(){return c}),e.d(t,"g",function(){return h}),e.d(t,"e",function(){return f}),e.d(t,"n",function(){return v}),e.d(t,"r",function(){return b}),e.d(t,"s",function(){return w}),e.d(t,"d",function(){return k}),e.d(t,"i",function(){return C}),e.d(t,"q",function(){return E}),e.d(t,"j",function(){return A}),e.d(t,"c",function(){return o}),e.d(t,"b",function(){return j}),e.d(t,"o",function(){return y}),e.d(t,"m",function(){return l}),e.d(t,"h",function(){return u}),e.d(t,"a",function(){return p});var a=function(){return navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1},s=function(){return n(/gecko\//i)},r=function(){return n(/iP(hone|od)/i)},d=function(){return n(/iPad/i)||a()},c=function(){return n(/Macintosh/i)&&!a()},h=function(){return n(/FBAV/i)},f=function(){return n(/\sEdge?\/\d+/i)},v=function(){return n(/msie/i)},b=function(){return n(/SMART-TV/)},w=function(){return b()&&!n(/SamsungBrowser/)},k=function(){return n(/\s(?:(?:Headless)?Chrome|CriOS)\//i)&&!f()&&!n(/UCBrowser/i)&&!b()},C=function(){return!n(/\sEdg\/\d+/i)&&(f()||n(/trident\/.+rv:\s*11/i)||v())},E=function(){return n(/safari/i)&&!n(/(?:Chrome|CriOS|chromium|android|phantom)/i)||b()},A=function(){return n(/iP(hone|ad|od)/i)||a()},j=function(){return n(/Android/i)&&!n(/Windows Phone/i)},y=function(){return A()||j()||n(/Windows Phone/i)},u=function(){return!1},p=function(){return 0}},function(g,t,e){"use strict";var n=function(B,F){return B.classList.contains(F)},o=function(B){return a(B).firstChild},l=function(B,F){E(B),function(ce,J){if(J){for(var ae=document.createDocumentFragment(),se=a(J).childNodes,ve=0;ve<se.length;ve++)ae.appendChild(se[ve].cloneNode(!0));ce.appendChild(ae)}}(B,F)},a=function(B){var F=function(ae){if(I||(I=new q,z=function(){try{if(I.parseFromString("","text/html"))return!0}catch(ve){}return!1}()),z)return I.parseFromString(ae,"text/html").body;var se=document.implementation.createHTMLDocument("");return ae.toLowerCase().indexOf("<!doctype")>-1?se.documentElement.innerHTML=ae:se.body.innerHTML=ae,se.body}(B);s(F);for(var ce=F.querySelectorAll("*"),J=ce.length;J--;)r(ce[J]);return F},s=function(B){for(var F=B.querySelectorAll("script,object,iframe,meta"),ce=F.length;ce--;){var J=F[ce];J.parentNode.removeChild(J)}return B},r=function(B){for(var F=B.attributes,ce=F.length;ce--;){var J=F[ce].name;if(/^on/.test(J)&&B.removeAttribute(J),/href/.test(J)){var ae=F[ce].value;/javascript:|javascript&colon;/.test(ae)||!he.test(ae)?B.removeAttribute(J):console.warn("Invalid or unsafe URL")}}return B},d=function(B){return B+(B.toString().indexOf("%")>0?"":"px")},c=function(B){return Object(P.s)(B.className)?B.className.split(" "):[]},h=function(B,F){F=Object(D.i)(F),B.className!==F&&(B.className=F)},f=function(B){return B.classList?B.classList:c(B)},v=function(B,F){var ce=c(B);(Array.isArray(F)?F:F.split(" ")).forEach(function(J){Object(P.b)(ce,J)||ce.push(J)}),h(B,ce.join(" "))},b=function(B,F){var ce=c(B),J=Array.isArray(F)?F:F.split(" ");h(B,Object(P.e)(ce,J).join(" "))},w=function(B,F,ce){var J=B.className||"";F.test(J)?J=J.replace(F,ce):ce&&(J+=" "+ce),h(B,J)},k=function(B,F,ce){var J=n(B,F);(ce=Object(P.n)(ce)?ce:!J)!==J&&(ce?v(B,F):b(B,F))},C=function(B,F,ce){B.setAttribute(F,ce)},E=function(B){for(;B.firstChild;)B.removeChild(B.firstChild)},A=function(B){var F=document.createElement("link");F.rel="stylesheet",F.href=B,document.getElementsByTagName("head")[0].appendChild(F)},j=function(B){B&&E(B)},y=function(B){var F={left:0,right:0,width:0,height:0,top:0,bottom:0};if(!B||!document.body.contains(B))return F;var ce=B.getBoundingClientRect(),J=window.pageYOffset,ae=window.pageXOffset;return(ce.width||ce.height||ce.left||ce.top)&&(F.left=ce.left+ae,F.right=ce.right+ae,F.top=ce.top+J,F.bottom=ce.bottom+J,F.width=ce.right-ce.left,F.height=ce.bottom-ce.top),F},u=function(B,F){B.insertBefore(F,B.firstChild)},p=function(B){return B.nextElementSibling},m=function(B){return B.previousElementSibling},_=function(B,F,ce){if(ce===void 0&&(ce={}),he.test(B)){var J=document.createElement("a");J.href=B,J.target=F,J=r(Object(P.g)(J,ce)),V.Browser.firefox?J.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})):J.click()}},x=function(){var B=window.screen.orientation;return!!B&&(B.type==="landscape-primary"||B.type==="landscape-secondary")||window.orientation===90||window.orientation===-90},O=function(B){return function(F){var ce=document.createElement("textarea");return ce.innerHTML=F,ce.value}(B).replace(/&|<|>|"|''/gm,function(F){return"&#"+F.charCodeAt(0)+";"}).replace(/&#60;(\/?)(b|strong|i|em|p|br|ul|ol|li|h.)&#62;/gim,"<$1$2>")};e.d(t,"j",function(){return n}),e.d(t,"f",function(){return o}),e.d(t,"r",function(){return l}),e.d(t,"k",function(){return a}),e.d(t,"t",function(){return s}),e.d(t,"s",function(){return r}),e.d(t,"v",function(){return d}),e.d(t,"e",function(){return f}),e.d(t,"b",function(){return v}),e.d(t,"p",function(){return b}),e.d(t,"q",function(){return w}),e.d(t,"w",function(){return k}),e.d(t,"u",function(){return C}),e.d(t,"i",function(){return E}),e.d(t,"c",function(){return A}),e.d(t,"h",function(){return j}),e.d(t,"d",function(){return y}),e.d(t,"n",function(){return u}),e.d(t,"l",function(){return p}),e.d(t,"o",function(){return m}),e.d(t,"m",function(){return _}),e.d(t,"g",function(){return x}),e.d(t,"a",function(){return O});var I,P=e(0),D=e(2),V=e(7),q=window.DOMParser,z=!0,he=new RegExp(/^((((https?):\/\/)|(mailto:))(%[0-9A-Fa-f]{2}|[-()_.!~*';/?:@&=+$,A-Za-z0-9])+)([).!';/?:,][[:blank:|:blank:]])?$/)},function(g,t,e){"use strict";var n=function(h,f){var v=h.exec(f);if(v&&v.length>1)return v[1]};e.r(t);var o=e(5);e.d(t,"Browser",function(){return s}),e.d(t,"OS",function(){return r}),e.d(t,"Features",function(){return d});var l=navigator.userAgent,a=function(){},s={get androidNative(){return Object(o.c)()},get chrome(){return Object(o.d)()},get edge(){return Object(o.e)()},get facebook(){return Object(o.g)()},get firefox(){return Object(o.f)()},get ie(){return Object(o.i)()},get msie(){return Object(o.n)()},get safari(){return Object(o.q)()},get version(){return function(c,h){var f,v,b,w;if(c.chrome)f=h.indexOf("Chrome")!==-1?h.substring(h.indexOf("Chrome")+7):h.substring(h.indexOf("CriOS")+6);else if(c.safari)f=h.substring(h.indexOf("Version")+8);else if(c.firefox)f=h.substring(h.indexOf("Firefox")+8);else if(c.edge){var k=h.indexOf("Edge");k===-1?k=h.indexOf("Edg")+4:k+=5,f=h.substring(k)}else c.ie&&(h.indexOf("rv:")!==-1?f=h.substring(h.indexOf("rv:")+3):h.indexOf("MSIE")!==-1&&(f=h.substring(h.indexOf("MSIE")+5)));return f&&((w=f.indexOf(";"))!==-1&&(f=f.substring(0,w)),(w=f.indexOf(" "))!==-1&&(f=f.substring(0,w)),(w=f.indexOf(")"))!==-1&&(f=f.substring(0,w)),v=parseInt(f,10),b=parseInt(f.split(".")[1],10)),{version:f,major:v,minor:b}}(this,l)}},r={get android(){return Object(o.b)()},get iOS(){return Object(o.j)()},get mobile(){return Object(o.o)()},get mac(){return Object(o.p)()},get iPad(){return Object(o.k)()},get iPhone(){return Object(o.l)()},get windows(){return l.indexOf("Windows")>-1},get tizen(){return Object(o.r)()},get tizenApp(){return Object(o.s)()},get version(){return function(c,h){var f,v,b;if(c.windows)switch(f=n(/Windows(?: NT|)? ([._\d]+)/,h)){case"6.1":f="7.0";break;case"6.2":f="8.0";break;case"6.3":f="8.1"}else c.android?f=n(/Android ([._\d]+)/,h):c.iOS?f=n(/OS ([._\d]+)/,h):c.mac?f=n(/Mac OS X ([._\d]+)/,h):c.tizen&&(f=n(/Tizen ([._\d]+)/,h));if(f){v=parseInt(f,10);var w=f.split(/[._]/);w&&(b=parseInt(w[1],10))}return{version:f,major:v,minor:b}}(this,l)}},d={get flash(){return Object(o.h)()},get flashVersion(){return Object(o.a)()},get iframe(){return Object(o.m)()},get passiveEvents(){return function(){var c=!1;try{var h=Object.defineProperty({},"passive",{get:function(){return c=!0}});window.addEventListener("testPassive",a,h),window.removeEventListener("testPassive",a,h)}catch(f){}return c}()},get backgroundLoading(){return!(r.iOS||s.safari||r.tizen)}}},function(g,t,e){"use strict";var n=function(v,b,w,k){if(!w)return!0;if(typeof w=="object"){for(var C in w)Object.prototype.hasOwnProperty.call(w,C)&&v[b].apply(v,[C,w[C]].concat(k));return!1}if(h.test(w)){for(var E=w.split(h),A=0,j=E.length;A<j;A++)v[b].apply(v,[E[A]].concat(k));return!1}return!0},o=function(v,b,w,k){for(var C=-1,E=v.length;++C<E;){var A=v[C];if(k)try{A.callback.apply(A.context||w,b)}catch(j){console.log('Error in "'+k+'" event handler:',j)}else A.callback.apply(A.context||w,b)}};e.d(t,"a",function(){return l}),e.d(t,"c",function(){return a}),e.d(t,"d",function(){return s}),e.d(t,"b",function(){return r}),e.d(t,"e",function(){return d}),e.d(t,"f",function(){return c});var l=function(){var f=function(){},v=f.prototype;return v.on=function(b,w,k){if(!n(this,"on",b,[w,k])||!w)return this;var C=this._events||(this._events={});return(C[b]||(C[b]=[])).push({callback:w,context:k}),this},v.once=function(b,w,k){if(!n(this,"once",b,[w,k])||!w)return this;var C=0,E=this,A=function j(){C++||(E.off(b,j),w.apply(this,arguments))};return A._callback=w,this.on(b,A,k)},v.off=function(b,w,k){if(!this._events||!n(this,"off",b,[w,k]))return this;if(!b&&!w&&!k)return delete this._events,this;for(var C=b?[b]:Object.keys(this._events),E=0,A=C.length;E<A;E++){b=C[E];var j=this._events[b];if(j){var y=this._events[b]=[];if(w||k)for(var u=0,p=j.length;u<p;u++){var m=j[u];(w&&w!==m.callback&&w!==m.callback._callback||k&&k!==m.context)&&y.push(m)}y.length||delete this._events[b]}}return this},v.trigger=function(b){for(var w=arguments.length,k=new Array(w>1?w-1:0),C=1;C<w;C++)k[C-1]=arguments[C];if(!this._events)return this;if(!n(this,"trigger",b,k))return this;var E=this._events[b],A=this._events.all;return E&&o(E,k,this),A&&o(A,arguments,this),this},v.triggerSafe=function(b){for(var w=arguments.length,k=new Array(w>1?w-1:0),C=1;C<w;C++)k[C-1]=arguments[C];if(!this._events)return this;if(!n(this,"trigger",b,k))return this;var E=this._events[b],A=this._events.all;return E&&o(E,k,this,b),A&&o(A,arguments,this,b),this},f}(),a=l.prototype.on,s=l.prototype.once,r=l.prototype.off,d=l.prototype.trigger,c=l.prototype.triggerSafe;l.on=a,l.once=s,l.off=r,l.trigger=d;var h=/\s+/},function(g,t,e){"use strict";var n=function(d,c){return function(){throw new a.o(a.k,d,c)}},o=function(d,c){return function(){throw new a.o(null,d,c)}},l=function(){return e.e(3).then(function(d){return e(54).default}.bind(null,e)).catch(n(a.q+101))};e.d(t,"a",function(){return s}),e.d(t,"b",function(){return n}),e.d(t,"c",function(){return o}),e.d(t,"d",function(){return l});var a=e(1),s={}},function(g,t,e){"use strict";var n=function(f){switch(typeof f=="undefined"?"undefined":_typeof(f)){case"string":return f.length>0;case"object":return f!==null;case"undefined":return!1;default:return!0}},o=function(){return d==="https:"},l=function(){return d==="file:"},a=function(f,v){return f.indexOf("rtmp:")===0||v==="rtmp"},s=function(f,v){return v==="youtube"||/^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(f)},r=function(f){if(f===null)return"null";var v=typeof f=="undefined"?"undefined":_typeof(f);return v==="object"&&Array.isArray(f)?"array":v};e.r(t),e.d(t,"exists",function(){return n}),e.d(t,"isHTTPS",function(){return o}),e.d(t,"isFileProtocol",function(){return l}),e.d(t,"isRtmp",function(){return a}),e.d(t,"isYouTube",function(){return s}),e.d(t,"typeOf",function(){return r}),e.d(t,"isDeepKeyCompliant",function(){return c});var d=window.location.protocol;function c(h,f,v){var b=Object.keys(h);return Object.keys(f).length>=b.length&&b.every(function(w){var k=h[w],C=f[w];return k&&typeof k=="object"?!(!C||typeof C!="object")&&c(k,C,v):v(w,h)})}},function(g,t,e){"use strict";var n=function(w,k,C,E){C=C||"all-players";var A="";if(typeof k=="object"){var j=document.createElement("div");o(j,k);var y=j.style.cssText;Object.prototype.hasOwnProperty.call(k,"content")&&y&&(y=y+' content: "'+k.content+'";'),E&&y&&(y=y.replace(/;/g," !important;")),A="{"+y+"}"}else typeof k=="string"&&(A=k);A!==""&&A!=="{}"?f.a.style([[w,w+A]],C):f.a.clear(C,w)},o=function(w,k){if(w!=null){var C;w.length===void 0&&(w=[w]);var E={};for(C in k)Object.prototype.hasOwnProperty.call(k,C)&&(E[C]=a(C,k[C]));for(var A=0;A<w.length;A++){var j=w[A],y=void 0;if(j!=null)for(C in E)Object.prototype.hasOwnProperty.call(E,C)&&(y=l(C),j.style[y]!==E[C]&&(j.style[y]=E[C]))}}},l=function(w){w=w.split("-");for(var k=1;k<w.length;k++)w[k]=w[k].charAt(0).toUpperCase()+w[k].slice(1);return w.join("")},a=function(w,k){return k===""||k==null?"":typeof k=="string"&&isNaN(k)?/png|gif|jpe?g/i.test(k)&&k.indexOf("url")<0?"url("+k+")":k:k===0||w==="z-index"||w==="opacity"?""+k:/color/i.test(w)?"#"+Object(c.e)(k.toString(16).replace(/^0x/i,""),6):Math.ceil(k)+"px"},s=function(w,k){o(w,{transform:k})},r=function(w,k){var C="rgb",E=k!==void 0&&k!==100;if(E&&(C+="a"),!d){var A=document.createElement("canvas");A.height=1,A.width=1,d=A.getContext("2d")}w?isNaN(parseInt(w,16))||(w="#"+w):w="#000000",d.clearRect(0,0,1,1),d.fillStyle=w,d.fillRect(0,0,1,1);var j=d.getImageData(0,0,1,1).data;return C+="("+j[0]+", "+j[1]+", "+j[2],E&&(C+=", "+k/100),C+")"};e.d(t,"a",function(){return v}),e.d(t,"b",function(){return n}),e.d(t,"d",function(){return o}),e.d(t,"e",function(){return s}),e.d(t,"c",function(){return r});var d,c=e(2),h=e(31),f=e.n(h),v=f.a.clear},function(g,t,e){"use strict";var n=function(f,v){if(v&&Object(d.exists)(v)||(v=document.location.href),!Object(d.exists)(f))return"";if(o(f))return f;var b,w=v.substring(0,v.indexOf("://")+3),k=v.substring(w.length,v.indexOf("/",w.length+1));if(f.indexOf("/")===0)b=f.split("/");else{var C=v.split("?")[0];b=(C=C.substring(w.length+k.length+1,C.lastIndexOf("/"))).split("/").concat(f.split("/"))}for(var E=[],A=0;A<b.length;A++)b[A]&&Object(d.exists)(b[A])&&b[A]!=="."&&(b[A]===".."?E.pop():E.push(b[A]));return w+k+"/"+E.join("/")},o=function(f){return/^(?:(?:https?|file):)?\/\//.test(f)},l=function(f){var v=null;try{(v=new window.DOMParser().parseFromString(f,"text/xml")).querySelector("parsererror")&&(v=null)}catch(b){}return v},a=function(f){if(f===void 0)return null;if(typeof f=="string"&&f.length<6){var v=f.toLowerCase();if(v==="true")return!0;if(v==="false")return!1;if(!Object(c.q)(Number(f))&&!Object(c.q)(parseFloat(f)))return Number(f)}return f},s=function(f){return Object(c.u)(f)?f:f===""?0:f.lastIndexOf("%")>-1?f:parseInt(f.replace("px",""),10)},r=function(f,v){if(Object(c.q)(f)&&(f=parseInt(f.toString())),Object(c.q)(f)||!isFinite(f)||f<=0&&!v)return"00:00";var b=f<0?"-":"";f=Math.abs(f);var w=Math.floor(f/3600),k=Math.floor((f-3600*w)/60),C=Math.floor(f%60);return b+(w?w+":":"")+(k<10?"0":"")+k+":"+(C<10?"0":"")+C};e.r(t),e.d(t,"getAbsolutePath",function(){return n}),e.d(t,"isAbsolutePath",function(){return o}),e.d(t,"parseXML",function(){return l}),e.d(t,"serialize",function(){return a}),e.d(t,"parseDimension",function(){return s}),e.d(t,"timeFormat",function(){return r});var d=e(10),c=e(0)},function(g,t,e){"use strict";var n=function(_){var x=o(_),O=x.indexOf("_");return O===-1?x:x.substring(0,O)},o=function(_){return _.toLowerCase().replace("-","_")},l=function(_){return _?Object.keys(_).reduce(function(x,O){return x[o(O)]=_[O],x},{}):{}},a=function(_){var x=_.querySelector("html");return x?x.getAttribute("lang"):null},s=function(){var _=a(document);if(!_&&Object(C.m)())try{_=a(window.top.document)}catch(x){}return _||navigator.language||"en"},r=function(_){return _.charCodeAt(0)===8207||/^[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/.test(_)},d=function(_){return p.indexOf(n(_))>=0},c=function(_,x,O){return Object(k.g)({},function(I){var P=I.advertising,D=I.related,V=I.sharing,q=I.abouttext,z=Object(k.g)({},I.localization);P&&(z.advertising=z.advertising||{},h(z.advertising,P,"admessage"),h(z.advertising,P,"cuetext"),h(z.advertising,P,"loadingAd"),h(z.advertising,P,"podmessage"),h(z.advertising,P,"skipmessage"),h(z.advertising,P,"skiptext")),typeof z.related=="string"?z.related={heading:z.related}:z.related=z.related||{},D&&h(z.related,D,"autoplaymessage"),V&&(z.sharing=z.sharing||{},h(z.sharing,V,"heading"),h(z.sharing,V,"copied")),q&&h(z,I,"abouttext");var he=z.close||z.nextUpClose;return he&&(z.close=he),z}(_),x[n(O)],x[o(O)])},h=function(_,x,O){var I=_[O]||x[O];I&&(_[O]=I)},f=function(_){return Object(A.isDeepKeyCompliant)(j.a,_,function(x,O){return typeof O[x]=="string"})},v=function(_,x){var O,I=y[x];if(!I){var P=_+"translations/"+(O=n(x),(/^n[bn]$/.test(O)?"no":O)+".json");y[x]=I=new Promise(function(D,V){Object(E.a)({url:P,oncomplete:D,onerror:function(z,he,Y,B){y[x]=null,V(B)},responseType:"json"})})}return I},b=function(_,x){var O=Object(k.g)({},_,x);return w(O,"errors",_,x),w(O,"related",_,x),w(O,"sharing",_,x),w(O,"advertising",_,x),w(O,"shortcuts",_,x),w(O,"captionsStyles",_,x),O},w=function(_,x,O,I){_[x]=Object(k.g)({},O[x],I[x])};e.d(t,"h",function(){return l}),e.d(t,"c",function(){return s}),e.d(t,"e",function(){return r}),e.d(t,"f",function(){return d}),e.d(t,"b",function(){return c}),e.d(t,"d",function(){return f}),e.d(t,"g",function(){return v}),e.d(t,"a",function(){return b});var k=e(0),C=e(5),E=e(21),A=e(10),j=e(30),y={},u={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish",el:"Greek",fi:"Finnish",id:"Indonesian",ko:"Korean",th:"Thai",vi:"Vietnamese"};Object(k.m)(u);var p=["ar","da","de","el","es","fi","fr","he","id","it","ja","ko","nb","nl","nn","no","oc","pt","ro","ru","sl","sv","th","tr","vi","zh"]},function(g,t,e){"use strict";t.a=[]},function(g,t,e){"use strict";var n=e(49),o=e(10),l=document.createElement("video");e.d(t,"a",function(){return s});var a={aac:"audio/mp4",mp4:"video/mp4",f4v:"video/mp4",m4v:"video/mp4",mov:"video/mp4",mp3:"audio/mpeg",mpeg:"audio/mpeg",ogv:"video/ogg",ogg:"video/ogg",oga:"video/ogg",vorbis:"video/ogg",webm:"video/webm",f4a:"video/aac",m3u8:"application/vnd.apple.mpegurl",m3u:"application/vnd.apple.mpegurl",hls:"application/vnd.apple.mpegurl"},s=[{name:"html5",supports:function(d){if(!l||!l.canPlayType||Object(n.a)(d)===!1)return!1;var c=d.file,h=d.type;if(Object(o.isRtmp)(c,h))return!1;var f=d.mimeType||a[h];if(!f)return!1;var v=d.mediaTypes;return v&&v.length&&(f=[f].concat(v.slice()).join("; ")),!!l.canPlayType(f)}}]},function(g,t,e){"use strict";e.d(t,"a",function(){return n});var n=Date.now||function(){return new Date().getTime()}},function(g,t,e){"use strict";t.a={debug:!1}},function(g,t,e){"use strict";var n=function(j,y){return v[j]?j:v[y]?y:"metadata"},o=function(j,y,u){var p=Object(f.g)({},u);return delete p.playlist,j.map(function(m){return a(y,m,p)}).filter(function(m){return!!m})},l=function(j){if(!Array.isArray(j)||j.length===0)throw new C.o(C.l,630)},a=function(j,y,u){var p=j.getProviders(),m=j.get("preload"),_=Object(f.g)({},y);if(_.preload=n(y.preload,m),_.allSources=r(_,j),_.sources=d(_.allSources,p),_.sources.length)return _.file=_.sources[0].file,_.feedData=u,function(x){var O=x.sources[0].liveSyncDuration;return O&&(x.liveSyncDuration=x.dvrSeekLimit=O),x}(_)},s=function(j,y){var u=(parseInt(j,10)||0)%y;return u<0&&(u+=y),u},r=function(j,y){var u=y.attributes,p=j.sources,m=j.allSources,_=j.preload,x=j.drm,O=c(j.withCredentials,u.withCredentials);return(m||p).map(function(I){if(I!==Object(I))return null;h(I,u,"androidhls"),h(I,u,"hlsjsdefault"),h(I,u,"safarihlsjs"),function(V,q,z){if(!V.liveSyncDuration){var he=q.liveSyncDuration?q:z;h(V,he,"liveSyncDuration")}}(I,j,u),h(I,u,"_hlsjsProgressive"),I.preload=n(I.preload,_);var P=I.drm||x||u.drm;P&&(I.drm=P);var D=c(I.withCredentials,O);return D!==void 0&&(I.withCredentials=D),Object(w.a)(I)}).filter(function(I){return!!I})},d=function(j,y){y&&y.choose||(y=new k.a);var u=function(_,x){for(var O=0;O<_.length;O++){var I=_[O],P=x.choose(I).providerToCheck;if(P)return{type:I.type,provider:P}}return null}(j,y);if(!u)return[];var p=u.provider,m=u.type;return j.filter(function(_){return _.type===m&&y.providerSupports(p,_)})},c=function(j,y){return j===void 0?y:j},h=function(j,y,u){u in y&&(j[u]=y[u])},f=e(0),v={none:!0,metadata:!0,auto:!0},b=e(24),w=e(27),k=e(32),C=e(1);e.d(t,"b",function(){return o}),e.d(t,"e",function(){return l}),e.d(t,"d",function(){return a}),e.d(t,"f",function(){return s}),e.d(t,"c",function(){return E});var E=function(j,y){return d(r(j,y),y.getProviders())};t.a=function(A){return(Array.isArray(A)?A:[A]).map(b.a)}},function(g,t,e){"use strict";e.r(t),e.d(t,"getScriptPath",function(){return o}),e.d(t,"repo",function(){return l}),e.d(t,"versionCheck",function(){return a}),e.d(t,"loadFrom",function(){return s});var n=e(22),o=(e(10),function(d){for(var c=document.getElementsByTagName("script"),h=0;h<c.length;h++){var f=c[h].src;if(f){var v=f.lastIndexOf("/"+d);if(v>=0)return f.substr(0,v+1)}}return""}),l=function(){return o("jwplayer.js")},a=function(d){var c=("0"+d).split(/\W/),h=n.a.split(/\W/),f=parseFloat(c[0]),v=parseFloat(h[0]);return!(f>v)&&!(f===v&&parseFloat("0"+c[1])>parseFloat(h[1]))},s=function(){return o("jwplayer.js")}},function(g,t,e){"use strict";var n=function(d){var c=d.getName().name;if(!o.a[c]){if(!Object(s.i)(l.a,Object(s.w)({name:c}))){if(!Object(s.p)(d.supports))throw new Error("Tried to register a provider with an invalid object");l.a.unshift({name:c,supports:d.supports})}Object(s.d)(d.prototype,a.a),o.a[c]=d}};e.d(t,"a",function(){return n});var o=e(26),l=e(15),a=e(50),s=e(0);e(8)},function(g,t,e){"use strict";var n=function(v){v.onload=null,v.onprogress=null,v.onreadystatechange=null,v.onerror=null,"abort"in v&&v.abort()},o=function(v,b,w,k){v.onerror(b,v.url,v.xhr,new d.o(b,w,k))},l=function(v,b,w){var k=b.documentElement;if(!w.requireValidXML||k.nodeName!=="parsererror"&&!k.getElementsByTagName("parsererror").length)return v.responseXML||(v=Object(a.g)({},v,{responseXML:b})),w.oncomplete(v);o(w,d.l,601)};e.d(t,"a",function(){return h});var a=e(0),s=e(12),r=e(10),d=e(1),c=function(){};function h(f,v,b,w){var k;f===Object(f)&&(f=(w=f).url);var C=Object(a.g)({xhr:null,url:f,withCredentials:!1,retryWithoutCredentials:!1,timeout:6e4,timeoutId:-1,oncomplete:v||c,onerror:b||c,mimeType:w&&!w.responseType?"text/xml":"",requireValidXML:!1,responseType:w&&w.plainText?"text":"",useDomParser:!1,requestFilter:null},w),E=function(j,y){return function(u,p){var m=u.currentTarget||y.xhr;if(clearTimeout(y.timeoutId),y.retryWithoutCredentials&&y.xhr.withCredentials)return n(m),void h(Object(a.g)({},y,{xhr:null,withCredentials:!1,retryWithoutCredentials:!1}));!p&&m.status>=400&&m.status<600&&(p=m.status),o(y,p?d.l:d.n,p||6,u)}}(0,C);if("XMLHttpRequest"in window){if(k=C.xhr=C.xhr||new window.XMLHttpRequest,typeof C.requestFilter=="function"){var A;try{A=C.requestFilter({url:f,xhr:k})}catch(j){return E(j,5),k}A&&"open"in A&&"send"in A&&(k=C.xhr=A)}k.onreadystatechange=function(j){return function(y){var u=y.currentTarget||j.xhr;if(u.readyState===4){clearTimeout(j.timeoutId);var p=u.status;if(p>=400)return void o(j,d.l,p<600?p:6);if(p===200)return function(m){return function(_){var x=_.currentTarget||m.xhr;if(clearTimeout(m.timeoutId),m.responseType){if(m.responseType==="json")return function(P,D){if(!P.response||typeof P.response=="string"&&P.responseText.substr(1)!=='"')try{P=Object(a.g)({},P,{response:JSON.parse(P.responseText)})}catch(V){return void o(D,d.l,611,V)}return D.oncomplete(P)}(x,m)}else{var O,I=x.responseXML;if(I)try{O=I.firstChild}catch(P){}if(I&&O||m.useDomParser&&x.responseText&&!I&&(I=Object(s.parseXML)(x.responseText))&&I.firstChild)return l(x,I,m);if(m.requireValidXML)return void o(m,d.l,602)}m.oncomplete(x)}}(j)(y);p===0&&Object(r.isFileProtocol)()&&!/^[a-z][a-z0-9+.-]*:/.test(j.url)&&o(j,d.l,7)}}}(C),k.onerror=E,"overrideMimeType"in k?C.mimeType&&k.overrideMimeType(C.mimeType):C.useDomParser=!0;try{f=f.replace(/#.*$/,""),k.open("GET",f,!0)}catch(j){return E(j,3),k}if(C.responseType)try{k.responseType=C.responseType}catch(j){}C.timeout&&(C.timeoutId=setTimeout(function(){n(k),o(C,d.n,1)},C.timeout),k.onabort=function(){clearTimeout(C.timeoutId)});try{C.withCredentials&&"withCredentials"in k&&(k.withCredentials=!0),k.send()}catch(j){E(j,4)}return k}o(C,d.n,2)}},function(g,t,e){"use strict";e.d(t,"a",function(){return n});var n="8.22.0+local.2021-09-01-23-05-40-496"},function(g,t,e){"use strict";var n=function(){return s+a.now()},o=e(0),l=e(16),a=window.performance||{timing:{}},s=a.timing.navigationStart||Object(l.a)();"now"in a||(a.now=function(){return Object(l.a)()-s});var r=function(){var d=function(){this.startTimes={},this.sum={},this.counts={},this.ticks={}},c=d.prototype;return c.start=function(h){this.startTimes[h]=n(),this.counts[h]=this.counts[h]+1||1},c.end=function(h){if(this.startTimes[h]){var f=n()-this.startTimes[h];delete this.startTimes[h],this.sum[h]=this.sum[h]+f||f}},c.dump=function(){var h=Object(o.g)({},this.sum);for(var f in this.startTimes)if(Object.prototype.hasOwnProperty.call(this.startTimes,f)){var v=n()-this.startTimes[f];h[f]=h[f]+v||v}return{counts:Object(o.g)({},this.counts),sums:h,events:Object(o.g)({},this.ticks)}},c.tick=function(h){this.ticks[h]=n()},c.clear=function(h){delete this.ticks[h]},c.between=function(h,f){return this.ticks[f]&&this.ticks[h]?this.ticks[f]-this.ticks[h]:null},d}();t.a=r},function(g,t,e){"use strict";var n=e(0),o=e(27),l=["captions","metadata","thumbnails","chapters"],a=function(c){if(c&&c.file){var h,f=Object(n.g)({},{kind:"captions",default:!1},c);return f.kind=(h=f.kind,l.indexOf(h)!==-1?f.kind:"captions"),f.default=!!f.default,f}},s=e(28),r=Array.isArray;t.a=function(d){r((d=d||{}).tracks)||delete d.tracks;var c=Object(n.g)({},{sources:[],tracks:[],minDvrWindow:s.b},d);c.sources!==Object(c.sources)||r(c.sources)||(c.sources=[Object(o.a)(c.sources)]),r(c.sources)&&c.sources.length!==0||(d.levels?c.sources=d.levels:c.sources=[Object(o.a)(d)]);for(var h=0;h<c.sources.length;h++){var f=c.sources[h];if(f){var v=f.default;f.default=!!v&&v.toString()==="true",c.sources[h].label||(c.sources[h].label=h.toString()),c.sources[h]=Object(o.a)(c.sources[h])}}return c.sources=c.sources.filter(function(b){return!!b}),r(c.tracks)||(c.tracks=[]),r(c.captions)&&(c.tracks=c.tracks.concat(c.captions),delete c.captions),c.tracks=c.tracks.map(a).filter(function(b){return!!b}),c}},function(g,t,e){"use strict";var n=function(j,y){var u=j.get("plugins");return window.jwplayerPluginJsonp=E,(j.pluginLoader=j.pluginLoader||new s).load(y,C,u,j).then(function(p){if(!j.attributes._destroyed)return delete window.jwplayerPluginJsonp,p})},o=e(1),l=e(0),a=function(j){return j.replace(/^(.*\/)?([^-]*)-?.*\.(js)$/,"$2")},s=function(){this.load=function(j,y,u,p){return u&&typeof u=="object"?Promise.all(Object.keys(u).filter(function(m){return m}).map(function(m){var _=u[m];return y.setupPlugin(m).then(function(x){if(!p.attributes._destroyed)return function(O,I,P){var D=O.name,V=Object(l.g)({},I),q=document.createElement("div");q.id=P.id+"_"+D,q.className="jw-plugin jw-reset";var z=O.getNewInstance(P,V,q);return P.addPlugin(D,z),z}(x,_,j)}).catch(function(x){return y.removePlugin(m),x.code?x:new o.o(null,305e3,x)})})):Promise.resolve()}},r=e(35),d=e(12),c=e(2),h=function(j){if(typeof j=="string"){var y=(j=j.split("?")[0]).indexOf("://");if(y>0)return 0;var u=j.indexOf("/"),p=Object(c.a)(j);return!(y<0&&u<0)||p&&isNaN(p)?1:2}},f=function(j){this.url=j,this.promise_=null};Object.defineProperties(f.prototype,{promise:{get:function(){return this.load()},set:function(){}}}),Object(l.g)(f.prototype,{load:function(){var j=this,y=this.promise_;if(!y){if(h(this.url)===2)return Promise.resolve(this);var u=new r.a(function(p){switch(h(p)){case 0:return p;case 1:return Object(d.getAbsolutePath)(p,window.location.href)}}(this.url));this.loader=u,y=u.load().then(function(){return j}),this.promise_=y}return y},registerPlugin:function(j,y,u){this.name=j,this.target=y,this.js=u},getNewInstance:function(j,y,u){var p=this.js;if(typeof p!="function")throw new o.o(null,(this.url,305100));var m=new p(j,y,u);return m.addToPlayer=function(){var _=this.getContainer().querySelector(".jw-overlays");_&&(u.left=_.style.left,u.top=_.style.top,_.appendChild(u))},m.resizeHandler=function(){var _=this.getContainer().querySelector(".jw-overlays");_&&m.resize(_.clientWidth,_.clientHeight)},m}});var v=f,b=e(36),w={},k=function(){var A=function(){},j=A.prototype;return j.setupPlugin=function(y){var u=this.getPlugin(y);return u?(u.url!==y&&Object(b.a)('JW Plugin "'+a(y)+'" already loaded from "'+u.url+'". Ignoring "'+y+'."'),u.promise):this.addPlugin(y).load()},j.addPlugin=function(y){var u=a(y),p=w[u];return p||(p=new v(y),w[u]=p),p},j.getPlugin=function(y){return w[a(y)]},j.removePlugin=function(y){delete w[a(y)]},j.getPlugins=function(){return w},A}();e.d(t,"b",function(){return E}),e.d(t,"a",function(){return n});var C=new k,E=function(j,y,u){var p=C.addPlugin(j);p.js||p.registerPlugin(j,y,u)}},function(g,t,e){"use strict";e.d(t,"a",function(){return n});var n={}},function(g,t,e){"use strict";var n=e(0),o=e(10),l=e(2);t.a=function(a){if(a&&a.file){var s=Object(n.g)({},{default:!1,type:""},a);s.file=Object(l.i)(""+s.file);var r=/^[^/]+\/(?:x-)?([^/]+)$/,d=s.type;if(r.test(d)&&(s.mimeType=d,s.type=d.replace(r,"$1")),Object(o.isYouTube)(s.file)?s.type="youtube":Object(o.isRtmp)(s.file)?s.type="rtmp":s.type||(s.type=Object(l.a)(s.file)),s.type){switch(s.type){case"m3u8":case"vnd.apple.mpegurl":s.type="hls";break;case"dash+xml":s.type="dash";break;case"m4a":s.type="aac";break;case"smil":s.type="rtmp"}return Object.keys(s).forEach(function(c){s[c]===""&&delete s[c]}),s}}}},function(g,t,e){"use strict";e.d(t,"d",function(){return n}),e.d(t,"c",function(){return o}),e.d(t,"b",function(){return l}),e.d(t,"a",function(){return a});var n={audioMode:!1,itemMeta:{},playbackRate:1,playRejected:!1,state:e(3).mb,itemReady:!1,controlsEnabled:!1},o={position:0,duration:0,buffer:0,currentTime:0},l=120,a=25},function(g,t,e){"use strict";var n=function(){return a||(a=l.OS.tizenApp?e.e(2).then(function(d){var c=e(55).default;return s.controls=c,c}.bind(null,e)).catch(function(){a=null,Object(o.c)(301133)()}):e.e(1).then(function(d){var c=e(52).default;return s.controls=c,c}.bind(null,e)).catch(function(){a=null,Object(o.c)(301130)()})),a};e.d(t,"a",function(){return s}),e.d(t,"b",function(){return n});var o=e(9),l=e(7),a=null,s={}},function(g,t,e){"use strict";t.a={advertising:{admessage:"This ad will end in xx",cuetext:"Advertisement",displayHeading:"Advertisement",loadingAd:"Loading ad",podmessage:"Ad __AD_POD_CURRENT__ of __AD_POD_LENGTH__.",skipmessage:"Skip ad in xx",skiptext:"Skip"},airplay:"AirPlay",audioTracks:"Audio Tracks",auto:"Auto",buffer:"Loading",cast:"Chromecast",cc:"Closed Captions",close:"Close",errors:{badConnection:"This video cannot be played because of a problem with your internet connection.",cantLoadPlayer:"Sorry, the video player failed to load.",cantPlayInBrowser:"The video cannot be played in this browser.",cantPlayVideo:"This video file cannot be played.",errorCode:"Error Code",liveStreamDown:"The live stream is either down or has ended.",protectedContent:"There was a problem providing access to protected content.",technicalError:"This video cannot be played because of a technical error."},exitFullscreen:"Exit Fullscreen",fullscreen:"Fullscreen",hd:"Quality",liveBroadcast:"Live",logo:"Logo",mute:"Mute",next:"Next",nextUp:"Next Up",notLive:"Not Live",off:"Off",pause:"Pause",pipIcon:"Picture in Picture (PiP)",play:"Play",playback:"Play",playbackRates:"Playback Rates",player:"Video Player",poweredBy:"Powered by",prev:"Previous",related:{autoplaymessage:"Next up in xx",heading:"More Videos"},replay:"Replay",rewind:"Rewind 10 Seconds",settings:"Settings",sharing:{copied:"Copied",email:"Email",embed:"Embed",heading:"Share",link:"Link"},slider:"Seek",stop:"Stop",unmute:"Unmute",videoInfo:"About This Video",volume:"Volume",volumeSlider:"Volume",shortcuts:{playPause:"Play/Pause",volumeToggle:"Mute/Unmute",fullscreenToggle:"Fullscreen/Exit Fullscreen",seekPercent:"Seek %",keyboardShortcuts:"Keyboard Shortcuts",increaseVolume:"Increase Volume",decreaseVolume:"Decrease Volume",seekForward:"Seek Forward",seekBackward:"Seek Backward",spacebar:"SPACE",captionsToggle:"Captions On/Off"},captionsStyles:{subtitleSettings:"Subtitle Settings",color:"Font Color",fontOpacity:"Font Opacity",userFontScale:"Font Size",fontFamily:"Font Family",edgeStyle:"Character Edge",backgroundColor:"Background Color",backgroundOpacity:"Background Opacity",windowColor:"Window Color",windowOpacity:"Window Opacity",white:"White",black:"Black",red:"Red",green:"Green",blue:"Blue",yellow:"Yellow",magenta:"Magenta",cyan:"Cyan",none:"None",raised:"Raised",depressed:"Depressed",uniform:"Uniform",dropShadow:"Drop Shadow"},disabled:"Disabled",enabled:"Enabled",reset:"Reset"}},function(g,t){var e=function(v){var b=document.createElement("style");return b.type="text/css",b.setAttribute("data-jwplayer-id",v),function(w){d().appendChild(w)}(b),b},n=function(v,b){var w,k,C,E=r[v];E||(E=r[v]={element:e(v),counter:0});var A=E.counter++;return w=E.element,C=function(){o(w,A,"")},(k=function(y){o(w,A,y)})(b.css),function(j){if(j){if(j.css===b.css&&j.media===b.media)return;k((b=j).css)}else C()}},o=function(v,b,w){if(v.styleSheet)v.styleSheet.cssText=h(b,w);else{var k=document.createTextNode(w),C=v.childNodes[b];C?v.replaceChild(k,C):v.appendChild(k)}},l,a,s={},r={},d=(l=function(){return document.head||document.getElementsByTagName("head")[0]},function(){return a===void 0&&(a=l.apply(this,arguments)),a});g.exports={style:function(v,b){(function(w,k){for(var C=0;C<k.length;C++){var E=k[C],A=(s[w]||{})[E.id];if(A){for(var j=0;j<A.parts.length;j++)A.parts[j](E.parts[j]);for(;j<E.parts.length;j++)A.parts.push(n(w,E.parts[j]))}else{var y=[];for(j=0;j<E.parts.length;j++)y.push(n(w,E.parts[j]));s[w]=s[w]||{},s[w][E.id]={id:E.id,parts:y}}}})(b,function(w){for(var k=[],C={},E=0;E<w.length;E++){var A=w[E],j=A[0],y=A[1],u=A[2],p={css:y,media:u};C[j]?C[j].parts.push(p):k.push(C[j]={id:j,parts:[p]})}return k}(v))},clear:function(v,b){var w=s[v];if(w){if(b){var k=w[b];if(k)for(var C=0;C<k.parts.length;C+=1)k.parts[C]();return}for(var E=Object.keys(w),A=0;A<E.length;A+=1)for(var j=w[E[A]],y=0;y<j.parts.length;y+=1)j.parts[y]();delete s[v]}}};var c,h=(c=[],function(v,b){return c[v]=b,c.filter(Boolean).join("\n")})},function(g,t,e){"use strict";var n=function(h){this.config=h||{}},o=e(0),l=e(15),a=e(26),s=e(20),r=e(9),d={html5:function(){return e.e(10).then(function(h){var f=e(117).default;return Object(s.a)(f),f}.bind(null,e)).catch(Object(r.b)(152))}};Object(o.g)(n.prototype,{load:function(h){var f=d[h],v=function(){return Promise.reject(new Error("Failed to load media"))};return f?f().then(function(){var b=a.a[h];return b||v()}):v()},providerSupports:function(h,f){return h.supports(f)},choose:function(h){if(h===Object(h))for(var f=l.a.length,v=0;v<f;v++){var b=l.a[v];if(this.providerSupports(b,h))return{priority:f-v-1,name:b.name,type:h.type,providerToCheck:b,provider:a.a[b.name]}}return{}}}),t.a=n},function(g,t,e){"use strict";var n=function(s,r){var d=r.message,c=r.code,h=function(w,k,C,E){return'<div id="'+w+'" class="jw-error jw-reset"><div class="jw-error-msg jw-info-overlay jw-reset"><style>[id="'+w+'"].jw-error{background:#000;overflow:hidden;position:relative}[id="'+w+'"] .jw-error-msg{top:50%;left:50%;position:absolute;transform:translate(-50%,-50%)}[id="'+w+'"] .jw-error-text{text-align:start;color:#FFF;font:14px/1.35 Arial,Helvetica,sans-serif}</style><div class="jw-icon jw-reset"></div><div class="jw-info-container jw-reset"><div class="jw-error-text jw-reset-text" dir="auto" data-nosnippet>'+(k||"")+'<span class="jw-break jw-reset"></span>'+(E?("("+C+": "+E+")").replace(/\s+/g,"&nbsp;"):"")+"</div></div></div></div>"}(s.get("id"),d,s.get("localization").errors.errorCode,c.toString()),f=s.get("width"),v=s.get("height"),b=Object(o.f)(h);return Object(l.d)(b,{width:f.toString().indexOf("%")>0?f:f+"px",height:v.toString().indexOf("%")>0?v:v+"px"}),b},o=e(6),l=e(11);e.d(t,"a",function(){return n})},function(g,t,e){"use strict";var n=function(a){return a.slice&&a.slice(-2)==="px"&&(a=a.slice(0,-2)),a},o=function(a,s){if(s.toString().indexOf("%")===-1||typeof a!="string"||!a)return 0;if(/^\d*\.?\d+%$/.test(a))return a;var r=a.indexOf(":");if(r===-1)return 0;var d=parseFloat(a.substr(0,r)),c=parseFloat(a.substr(r+1));return d<=0||c<=0?0:c/d*100+"%"};e.d(t,"b",function(){return n}),e.d(t,"a",function(){return o})},function(g,t,e){"use strict";var n=function(h){var f=document.createElement("link");return f.type="text/css",f.rel="stylesheet",f.href=h,f},o=function(h,f){var v=document.createElement("script");return v.type="text/javascript",v.charset="utf-8",v.async=!0,v.timeout=f||45e3,v.src=h,v},l=e(0),a=e(8),s=e(3),r={},d=function(h,f,v){var b=function(A){C=2,k.trigger(s.w,A).off()},w=function(A){C=3,k.trigger(s.kb,A).off()},k=this,C=0;this.getStatus=function(){return C},this.load=function(){var E=r[h];return C!==0||(E&&E.then(w).catch(b),C=1,E=new Promise(function(A,j){var y=(f?n:o)(h,v),u=function(){y.onerror=y.onload=null,clearTimeout(m)},p=function(O){u(),b(O),j(O)},m=setTimeout(function(){p(new Error("Network timeout "+h))},45e3);y.onerror=function(){p(new Error("Failed to load "+h))},y.onload=function(x){u(),w(x),A(x)};var _=document.getElementsByTagName("head")[0]||document.documentElement;_.insertBefore(y,_.firstChild)}),r[h]=E),E}};Object(l.g)(d.prototype,a.a),t.a=d},function(g,t,e){"use strict";e.d(t,"a",function(){return n});var n=typeof console.log=="function"?console.log.bind(console):function(){}},function(g,t,e){"use strict";var n=function(z){return z&&!(D.test(z)||typeof z=="object")},o=function(z){if(!z.handlers.init){var he=z.el,Y=z.passive,B=!!O&&{passive:Y},F=function(ae){if(z.dragged)f(z,C.s,ae);else{var se=v(ae),ve=se.pageX,de=se.pageY,Be=ve-z.startX,it=de-z.startY;Be*Be+it*it>36&&(f(z,C.u,ae),z.dragged=!0,f(z,C.s,ae))}var mt;Y||ae.type!=="touchmove"||(mt=ae).preventDefault&&mt.preventDefault()},ce=function(ae){clearTimeout(u),z.el&&(c(z),d(z,"window"),z.dragged&&(z.dragged=!1,f(z,C.t,ae)))};a(z,"init"),w(z,"init",function(J){if(Object(j.p)(he,"jw-tab-focus"),!b(J)){var ae=J.target,se=J.type;if(!z.directSelect||ae===he){var ve=v(J),de=ve.pageX,Be=ve.pageY;if(z.dragged=!1,z.startX=de,z.startY=Be,d(z,"window"),se==="pointerdown"&&J.isPrimary){if(!Y){var it=J.pointerId;z.pointerId=it,he.setPointerCapture(it)}r(z,"window","pointermove",F,B),r(z,"window","pointercancel",ce),r(z,"window","pointerup",ce)}else se==="mousedown"?(r(z,"window","mousemove",F,B),r(z,"window","mouseup",ce)):se==="touchstart"&&(r(z,"window","touchmove",F,B),r(z,"window","touchcancel",ce),r(z,"window","touchend",ce))}}},B),p||(p=new P(document).on("interaction"))}},l=function(z){if(!z.handlers.select){var he=z.el;a(z,"select"),w(z,"select",function(Y){var B=Y.target;b(Y)||z.directSelect&&B!==he||(Y.isPrimary&&B.tageName==="BUTTON"&&B.focus(),z.lastStart=Object(A.a)(),z.clicking=!0)}),r(z,"select","click",function(Y){b(Y)||z.directSelect&&Y.target!==he||(Object(A.a)()-z.lastStart>500&&z.clicking===!0||(function(B,F){B.enableDoubleClick&&(Object(A.a)()-B.lastClick<300?(f(B,C.r,F),B.lastClick=0):B.lastClick=Object(A.a)())}(z,Y),f(z,C.o,Y)),z.clicking=!1)})}},a=function(z,he){if(!z.handlers.init&&!z.handlers.select){var Y=z.el;r(z,he,"blur",function(){Object(j.p)(Y,"jw-tab-focus"),z.clicking=!1}),r(z,he,"focus",function(){p.event&&p.event.type==="keydown"&&Object(j.b)(Y,"jw-tab-focus")})}},s=function(z){var he=z.ownerDocument||z;return he.defaultView||he.parentWindow||window},r=function(z,he,Y,B,F){F===void 0&&(F=I);var ce=z.handlers[he],J=z.options[he];if(ce||(ce=z.handlers[he]={},J=z.options[he]={}),ce[Y])throw new Error(he+" "+Y+" already registered");ce[Y]=B,J[Y]=F;var ae=z.el;(he==="window"?s(ae):ae).addEventListener(Y,B,F)},d=function(z,he){var Y=z.el,B=z.handlers,F=z.options,ce=he==="window"?s(Y):Y,J=B[he],ae=F[he];J&&(Object.keys(J).forEach(function(se){var ve=ae[se];typeof ve=="boolean"?ce.removeEventListener(se,J[se],ve):ce.removeEventListener(se,J[se])}),B[he]=null,F[he]=null)},c=function(z){var he=z.el;z.pointerId!==null&&(he.releasePointerCapture(z.pointerId),z.pointerId=null)},h=function(z,he,Y){var B=z.el,F=Y.target;z.trigger(he,{type:he,sourceEvent:Y,currentTarget:B,target:F})},f=function(z,he,Y){var B=function(F,ce,J){var ae,se=ce.target,ve=ce.touches,de=ce.changedTouches,Be=ce.pointerType;ve||de?(ae=ve&&ve.length?ve[0]:de[0],Be=Be||"touch"):(ae=ce,Be=Be||"mouse");var it=ae,mt=it.pageX,ot=it.pageY;return{type:F,pointerType:Be,pageX:mt,pageY:ot,sourceEvent:ce,currentTarget:J,target:se}}(he,Y,z.el);z.trigger(he,B)},v=function(z){return z.type.indexOf("touch")===0?(z.originalEvent||z).changedTouches[0]:z},b=function(z){return!(!z.ctrlKey||z.type!=="click")||("which"in z?z.which===3:"button"in z&&z.button===2)},w=function(z,he,Y,B){_?r(z,he,"pointerdown",Y,B):(x&&r(z,he,"mousedown",Y,B),r(z,he,"touchstart",Y,B))};e.d(t,"a",function(){return P}),e.d(t,"b",function(){return s}),e.d(t,"c",function(){return b});var k=e(7),C=e(3),E=e(8),A=e(16),j=e(6);function y(q,z){return(y=Object.setPrototypeOf||function(he,Y){return he.__proto__=Y,he})(q,z)}var u,p,m="ontouchstart"in window,_="PointerEvent"in window&&!k.OS.android,x=!(_||m&&k.OS.mobile),O=k.Features.passiveEvents,I=!!O&&{passive:!0},P=function(q){var z=function(ce,J){var ae;ae=q.call(this)||this;var se=!(J=J||{}).preventScrolling;return ae.directSelect=!!J.directSelect,ae.dragged=!1,ae.enableDoubleClick=!1,ae.el=ce,ae.handlers={},ae.options={},ae.lastClick=0,ae.lastStart=0,ae.passive=se,ae.pointerId=null,ae.startX=0,ae.startY=0,ae.event=null,ae.clicking=!1,ae},he,Y;Y=q,(he=z).prototype=Object.create(Y.prototype),he.prototype.constructor=he,y(he,Y);var B=z.prototype;return B.on=function(F,ce,J){return n(F)&&(this.handlers[F]||V[F](this)),q.prototype.on.call(this,F,ce,J)},B.off=function(F,ce,J){var ae=this;if(n(F))d(this,F);else if(!F){var se=this.handlers;Object.keys(se).forEach(function(ve){d(ae,ve)})}return q.prototype.off.call(this,F,ce,J)},B.destroy=function(){this.el&&(this.off(),_&&c(this),this.el=null)},z}(E.a),D=/\s+/,V={drag:function(z){o(z)},dragStart:function(z){o(z)},dragEnd:function(z){o(z)},click:function(z){l(z)},doubleClick:function(z){z.enableDoubleClick=!0,l(z)},longPress:function(z){if(k.OS.iOS){var he=function(){clearTimeout(u)};r(z,"longPress","touchstart",function(Y){he(),u=setTimeout(function(){f(z,"longPress",Y)},500)}),r(z,"longPress","touchmove",he),r(z,"longPress","touchcancel",he),r(z,"longPress","touchend",he)}else z.el.oncontextmenu=function(Y){return f(z,"longPress",Y),!1}},focus:function(z){r(z,"focus","focus",function(he){h(z,"focus",he)})},blur:function(z){r(z,"blur","blur",function(he){h(z,"blur",he)})},over:function(z){(_||x)&&r(z,C.Z,_?"pointerover":"mouseover",function(he){he.pointerType!=="touch"&&f(z,C.Z,he)})},out:function(z){if(_){var he=z.el;r(z,C.Y,"pointerout",function(Y){if(Y.pointerType!=="touch"&&"clientX"in Y){var B=document.elementFromPoint(Y.clientX,Y.clientY);he.contains(B)||f(z,C.Y,Y)}})}else x&&r(z,C.Y,"mouseout",function(Y){f(z,C.Y,Y)})},move:function(z){(_||x)&&r(z,C.W,_?"pointermove":"mousemove",function(he){he.pointerType!=="touch"&&f(z,C.W,he)})},enter:function(z){r(z,C.v,"keydown",function(he){he.key!=="Enter"&&he.keyCode!==13||(he.stopPropagation(),h(z,C.v,he))})},keydown:function(z){r(z,"keydown","keydown",function(he){h(z,"keydown",he)},!1)},gesture:function(z){var he=function(B){return f(z,"gesture",B)};r(z,"gesture","click",he),r(z,"gesture","keydown",he)},interaction:function(z){var he=function(B){z.event=B};r(z,"interaction","mousedown",he,!0),r(z,"interaction","keydown",he,!0)},tap:function(){},doubleTap:function(){}}},function(g,t,e){"use strict";e.d(t,"b",function(){return n}),e.d(t,"a",function(){return o});var n=window.requestAnimationFrame||function(l){return setTimeout(l,17)},o=window.cancelAnimationFrame||clearTimeout},function(g,t,e){"use strict";var n=function(j,y){this.name=j,this.message=y.message||y.toString(),this.error=y},o=e(0),l=e(19),a=e(10),s=e(12),r=e(2),d=e(23),c=e(17),h=e(5),f=e(6),v=e(11),b=e(21),w=e(40),k=e(36),C=e(41),E=Object(o.g)({},s,a,l,{addClass:f.b,hasClass:f.j,removeClass:f.p,replaceClass:f.q,toggleClass:f.w,classList:f.e,styleDimension:f.v,createElement:f.f,emptyElement:f.i,addStyleSheet:f.c,bounds:f.d,openLink:f.m,replaceInnerHtml:f.r,css:v.b,clearCss:v.a,style:v.d,transform:v.e,getRgba:v.c,ajax:b.a,crossdomain:function(j){var y=window.URL;try{var u=new y(j,location.origin);return location.protocol+"//"+location.host!=u.protocol+"//"+u.host}catch(p){}return!0},tryCatch:function(j,y,u){if(u===void 0&&(u=[]),c.a.debug)return j.apply(y||this,u);try{return j.apply(y||this,u)}catch(p){return new n(j.name,p)}},Error:n,Timer:d.a,log:k.a,genId:C.b,between:w.a,foreach:function(j,y){for(var u in j)Object.prototype.hasOwnProperty.call(j,u)&&y(u,j[u])},flashVersion:h.a,isIframe:h.m,indexOf:o.l,trim:r.i,pad:r.e,extension:r.a,hms:r.b,seconds:r.g,prefix:r.f,suffix:r.h,noop:function(){}});t.a=E},function(g,t,e){"use strict";e.d(t,"a",function(){return n});var n=function(l,a,s){return Math.max(Math.min(l,s),a)}},function(g,t,e){"use strict";var n=function(){try{var s=window.crypto||window.msCrypto;if(s&&s.getRandomValues)return s.getRandomValues(new Uint32Array(1))[0].toString(36)}catch(r){}return Math.random().toString(36).slice(2,9)},o=function(s){for(var r="";r.length<s;)r+=n();return r.slice(0,s)};e.d(t,"a",function(){return l}),e.d(t,"b",function(){return o});var l=12},function(g,t,e){"use strict";var n=function(l,a,s){var r=[],d={};function c(){for(;r.length>0;){var h=r.shift(),f=h.command,v=h.args;(d[f]||l[f]).apply(l,v)}}a.forEach(function(h){var f=l[h];d[h]=f,l[h]=function(){for(var v=arguments.length,b=new Array(v),w=0;w<v;w++)b[w]=arguments[w];s()?r.push({command:h,args:b}):(c(),f&&f.apply(this,b))}}),Object.defineProperty(this,"queue",{enumerable:!0,get:function(){return r}}),this.flush=c,this.empty=function(){r.length=0},this.off=function(){a.forEach(function(h){var f=d[h];f&&(l[h]=f,delete d[h])})},this.destroy=function(){this.off(),this.empty()}};e.d(t,"a",function(){return n})},function(g,t,e){"use strict";function n(l,a){return(n=Object.setPrototypeOf||function(s,r){return s.__proto__=r,s})(l,a)}e.d(t,"a",function(){return o});var o=function(l){var a=function(){var h;return(h=l.call(this)||this).attributes=Object.create(null),h},s,r;r=l,(s=a).prototype=Object.create(r.prototype),s.prototype.constructor=s,n(s,r);var d=a.prototype;return d.addAttributes=function(c){var h=this;Object.keys(c).forEach(function(f){h.add(f,c[f])})},d.add=function(c,h){var f=this;Object.defineProperty(this,c,{get:function(){return f.attributes[c]},set:function(b){return f.set(c,b)},enumerable:!1}),this.attributes[c]=h},d.get=function(c){return this.attributes[c]},d.set=function(c,h){if(this.attributes[c]!==h){var f=this.attributes[c];this.attributes[c]=h,this.trigger("change:"+c,this,h,f)}},d.clone=function(){var c={},h=this.attributes;if(h)for(var f in h)c[f]=h[f];return c},d.change=function(c,h,f){this.on("change:"+c,h,f);var v=this.get(c);return h.call(f,this,v,v),this},a}(e(8).a)},function(g,t,e){"use strict";e.d(t,"c",function(){return n}),e.d(t,"b",function(){return o}),e.d(t,"a",function(){return l});var n=4,o=5,l=1},function(g,t,e){"use strict";var n=function(a,s){return Object(o.g)({},s,{prime:function(){a.src||a.load()},getPrimedElement:function(){return a},clean:function(){s.clean(a)},recycle:function(){s.clean(a)}})};e.d(t,"a",function(){return n});var o=e(0)},function(g,t,e){"use strict";t.a="hidden"in document?function(){return!document.hidden}:"webkitHidden"in document?function(){return!document.webkitHidden}:function(){return!0}},function(g,t,e){"use strict";var n=function(je){return z||(z=function(He){var qe=He.get("controls"),lt=o(),_t=function(ze,Re){var $e=ze.get("playlist");if(Array.isArray($e)&&$e.length)for(var Ye=Object(I.f)(ze.get("item"),$e.length),We=Object(I.c)(Object(O.a)($e[Ye]),ze),Ct=0;Ct<We.length;Ct++)for(var gt=We[Ct],nt=ze.getProviders(),rt=0;rt<P.a.length;rt++){var ct=P.a[rt];if(nt.providerSupports(ct,gt))return ct.name===Re}return!1}(He,"html5");if(y.OS.tizen)return l();if(qe&&lt&&_t)return be=e.e(7).then(function(ze){e(116);var Re=e(54).default;return V.a.controls=e(52).default,Object(D.a)(e(117).default),Re}.bind(null,e)).catch(Object(x.b)(q.q+105)),x.a.html5=be,be;var be;return qe&&_t?function(){var ze=e.e(5).then(function(Re){var $e=e(54).default;return V.a.controls=e(52).default,Object(D.a)(e(117).default),$e}.bind(null,e)).catch(Object(x.b)(q.q+104));return x.a.html5=ze,ze}():qe&&lt?e.e(6).then(function(ze){e(116);var Re=e(54).default;return V.a.controls=e(52).default,Re}.bind(null,e)).catch(Object(x.b)(q.q+103)):qe?e.e(4).then(function(ze){var Re=e(54).default;return V.a.controls=e(52).default,Re}.bind(null,e)).catch(Object(x.b)(q.q+102)):l()}(je)),z},o=function(){var je=window.IntersectionObserverEntry;return!je||!("IntersectionObserver"in window)||!("intersectionRatio"in je.prototype)},l=function(){return function(){return o()?e.e(8).then(function(je){return e(116)}.bind(null,e)).catch(Object(x.b)(q.q+120)):Promise.resolve()}().then(x.d)},a=function(je,He,qe){var lt=je.attributes;lt.playlist=Object(I.a)(He),lt.feedData=qe},s=function(je){return function(He){var qe=He.get("playlist");return new Promise(function(lt,_t){if(typeof qe!="string"){var be=He.get("feedData")||{};return a(He,qe,be),lt()}var ze=new Y.a;ze.on(he.eb,function(Re){var $e=Re.playlist;delete Re.playlist,a(He,$e,Re),lt()}),ze.on(he.w,function(Re){a(He,[],{}),_t(Object(q.w)(Re,q.r))}),ze.load(qe)})}(je).then(function(){if(!c(je)){var He=Object(I.b)(je.get("playlist"),je);je.attributes.playlist=He;try{Object(I.e)(He)}catch(Re){throw Re.code+=q.r,Re}var qe=je.getProviders(),lt=Object(I.f)(je.get("item"),He.length),_t=qe.choose(He[lt].sources[0]),be=_t.provider,ze=_t.name;return typeof be=="function"?be:x.a.html5&&ze==="html5"?x.a.html5:qe.load(ze).catch(function(Re){throw Object(q.w)(Re,q.s)})}})},r=function(je){var He=je.get("skin")?je.get("skin").url:void 0;return typeof He=="string"&&!function(qe){for(var lt=document.styleSheets,_t=0,be=lt.length;_t<be;_t++)if(lt[_t].href===qe)return!0;return!1}(He)?new B.a(He,!0).load().catch(function(qe){return qe}):Promise.resolve()},d=function(je){var He=je.attributes,qe=He.language,lt=He.base,_t=He.setupConfig,be=He.intl,ze=Object(p.b)(_t,be,qe);return!Object(p.f)(qe)||Object(p.d)(ze)?Promise.resolve():new Promise(function(Re){return Object(p.g)(lt,qe).then(function($e){var Ye=$e.response;if(!c(je)){if(!Ye)throw new q.o(null,q.h);He.localization=Object(p.a)(Ye,ze),Re()}}).catch(function($e){Re($e.code===q.h?$e:Object(q.w)($e,q.g))})})},c=function(je){return je.attributes._destroyed},h=function(je){je.src||je.load()},f=function(je){var He=document.createElement("video");return He.className="jw-video jw-reset",He.setAttribute("tabindex","-1"),He.setAttribute("disableRemotePlayback",""),He.setAttribute("webkit-playsinline",""),He.setAttribute("playsinline",""),je&&Object.keys(je).forEach(function(qe){He.setAttribute(qe,je[qe])}),He},v=function(je,He){He&&He.code&&(He.sourceError&&console.error(He.sourceError),console.error(q.o.logMessage(He.code)))},b=function(je){je&&je.code&&console.warn(q.o.logMessage(je.code))},w=function(je,He){if(!document.body.contains(je.currentContainer)){var qe=document.getElementById(je.get("id"));qe&&(je.currentContainer=qe)}je.currentContainer.parentElement&&je.currentContainer.parentElement.replaceChild(He,je.currentContainer),je.currentContainer=He},k=e(0),C=e(42),E=e(34),A=e(19),j=e(12),y=e(7),u=e(30),p=e(13),m={autoPause:{viewability:!1,pauseAds:!1},autostart:!1,allowFullscreen:!0,bandwidthEstimate:null,bitrateSelection:null,castAvailable:!1,controls:!0,cues:[],defaultPlaybackRate:1,displaydescription:!0,displaytitle:!0,displayPlaybackLabel:!1,enableShortcuts:!0,height:360,intl:{},item:0,language:"en",liveTimeout:null,localization:u.a,mute:!1,nextUpDisplay:!0,playbackRateControls:!1,playbackRates:[.5,1,1.25,1.5,2],renderCaptionsNatively:!1,repeat:!1,stretching:"uniform",volume:90,width:640},_=function(je,He){var qe=Object(k.g)({},(window.jwplayer||{}).defaults,He,je);(function(Lt){Object.keys(Lt).forEach(function(st){st!=="id"&&(Lt[st]=Object(j.serialize)(Lt[st]))})})(qe);var lt=qe.forceLocalizationDefaults?m.language:Object(p.c)(),_t=Object(p.h)(qe.intl);qe.localization=Object(p.a)(u.a,Object(p.b)(qe,_t,lt));var be=Object(k.g)({},m,qe);be.base==="."&&(be.base=Object(A.getScriptPath)("jwplayer.js")),be.base=(be.base||Object(A.loadFrom)()).replace(/\/?$/,"/"),e.p=be.base,be.width=Object(E.b)(be.width),be.height=Object(E.b)(be.height),be.aspectratio=Object(E.a)(be.aspectratio,be.width),be.volume=Object(k.u)(be.volume)?Math.min(Math.max(0,be.volume),100):m.volume,be.mute=!!be.mute,be.language=lt,be.intl=_t;var ze=be.playlistIndex;ze&&(be.item=ze),Object(k.r)(be.item)||(be.item=0);var Re=qe.autoPause;Re&&(be.autoPause.viewability=!("viewability"in Re)||!!Re.viewability);var $e=be.playbackRateControls;if($e){var Ye=be.playbackRates;Array.isArray($e)&&(Ye=$e),(Ye=Ye.filter(function(Lt){return Object(k.r)(Lt)&&Lt>=.25&&Lt<=4}).map(function(Lt){return Math.round(100*Lt)/100})).indexOf(1)<0&&Ye.push(1),Ye.sort(),be.playbackRateControls=!0,be.playbackRates=Ye}(!be.playbackRateControls||be.playbackRates.indexOf(be.defaultPlaybackRate)<0)&&(be.defaultPlaybackRate=1),be.playbackRate=be.defaultPlaybackRate,be.aspectratio||delete be.aspectratio;var We=be.playlist;if(We)Array.isArray(We.playlist)&&(be.feedData=We,be.playlist=We.playlist);else{var Ct=Object(k.x)(be,["title","description","type","mediaid","image","images","file","sources","tracks","preload","duration"]);be.playlist=[Ct]}be.qualityLabels=be.qualityLabels||be.hlslabels,delete be.duration;var gt=be.liveTimeout;gt!==null&&(Object(k.u)(gt)?gt!==0&&(gt=Math.max(30,gt)):gt=null,be.liveTimeout=gt);var nt,rt,ct,At=parseFloat(be.bandwidthEstimate),Mt=parseFloat(be.bitrateSelection);return be.bandwidthEstimate=Object(k.u)(At)?At:(nt=be.defaultBandwidthEstimate,rt=parseFloat(nt),Object(k.u)(rt)?Math.max(rt,1):m.bandwidthEstimate),be.bitrateSelection=Object(k.u)(Mt)?Mt:m.bitrateSelection,be.liveSyncDuration=(ct=be.liveSyncDuration)<5?5:ct>30?30:ct,be.backgroundLoading=Object(k.n)(be.backgroundLoading)?be.backgroundLoading:y.Features.backgroundLoading,be},x=e(9),O=e(24),I=e(18),P=e(15),D=e(20),V=e(29),q=e(1),z=null,he=e(3),Y=e(48),B=e(35),F=e(25),ce=function(je){var He;this.start=function(qe){var lt=function(ze,Re){return Object(F.a)(ze,Re)}(je,qe),_t=Promise.all([n(je),lt,s(je),Promise.resolve(),r(je),d(je)]),be=new Promise(function(ze,Re){He=setTimeout(function(){Re(new q.o(q.k,q.u))},6e4);var $e=function(){clearTimeout(He),setTimeout(ze,6e4)};_t.then($e).catch($e)});return Promise.race([_t,be]).catch(function(ze){var Re=function(){throw ze};return lt.then(Re).catch(Re)}).then(function(ze){return function(Re){if(!Re||!Re.length)return{core:null,warnings:[]};var $e=Re.reduce(function(Ye,We){return Ye.concat(We)},[]).filter(function(Ye){return Ye&&Ye.code});return{core:Re[0],warnings:$e}}(ze)})},this.destroy=function(){clearTimeout(He),je.set("_destroyed",!0),je=null}},J=e(32),ae=e(23),se=e(17),ve={removeItem:function(je){}};try{ve=window.localStorage||ve}catch(Ve){}var de=function(){var Ve=function(qe,lt){this.namespace=qe,this.items=lt},je=Ve.prototype;return je.getAllItems=function(){var He=this;return this.items.reduce(function(qe,lt){var _t=ve[He.namespace+"."+lt];return _t&&(qe[lt]=lt!=="captions"?Object(j.serialize)(_t):JSON.parse(_t)),qe},{})},je.track=function(He){var qe=this;this.items.forEach(function(lt){He.on("change:"+lt,function(_t,be){try{lt==="captions"&&(be=JSON.stringify(be)),ve[qe.namespace+"."+lt]=be}catch(ze){se.a.debug&&console.error(ze)}})})},je.clear=function(){var He=this;this.items.forEach(function(qe){ve.removeItem(He.namespace+"."+qe)})},Ve}(),Be=e(43),it=e(28),mt=e(8),ot=e(33),Ae=e(44),xe=e(45),De=e(37);e(51),e(53),e.d(t,"b",function(){return w});var et=function(je){this._events={},this.modelShim=new Be.a,this.modelShim._qoeItem=new ae.a,this.mediaShim={},this.setup=new ce(this.modelShim),this.currentContainer=this.originalContainer=je,this.apiQueue=new C.a(this,["load","play","pause","seek","stop","playlistItem","playlistNext","playlistPrev","next","preload","setAllowFullscreen","setConfig","setCurrentAudioTrack","setCurrentCaptions","setCurrentQuality","setFullscreen","setPip","requestPip","addButton","removeButton","castToggle","setMute","setVolume","setPlaybackRate","addCues","setCues","setPlaylistItem","stopCasting","resize","setCaptions","setControls"],function(){return!0})};Object(k.g)(et.prototype,{on:mt.a.on,once:mt.a.once,off:mt.a.off,trigger:mt.a.trigger,init:function(je,He){var qe=this,lt=this.modelShim,_t=new de("jwplayer",["volume","mute","captionLabel","captions","bandwidthEstimate","bitrateSelection","qualityLabel","enableShortcuts"]),be=_t&&_t.getAllItems();lt.attributes=lt.attributes||{},Object(k.g)(this.mediaShim,it.c);var ze=je,Re=_(Object(k.g)({},je),be);Re.id=He.id,Re.setupConfig=ze,Object(k.g)(lt.attributes,Re,it.d),lt.getProviders=function(){return new J.a(Re)},lt.setProvider=function(){};var $e=function(){for(var We=Ae.c,Ct=[],gt=[],nt=0;nt<We;nt++){var rt=f();Ct.push(rt),gt.push(rt),h(rt)}var ct=gt.shift(),At=gt.shift(),Mt=!1;return{primed:function(){return Mt},prime:function(){Ct.forEach(h),Mt=!0},played:function(){Mt=!0},getPrimedElement:function(){return gt.shift()||null},getAdElement:function(){return ct},getTestElement:function(){return At},clean:function(st){if(st.src){st.removeAttribute("src");try{st.load()}catch(te){}}},recycle:function(st){st&&!gt.some(function(te){return te===st})&&(this.clean(st),gt.push(st))},syncVolume:function(st){var te=Math.min(Math.max(0,st/100),1);Ct.forEach(function(Jt){Jt.volume=te})},syncMute:function(st){Ct.forEach(function(te){te.muted=st})}}}();lt.get("backgroundLoading")||($e=Object(xe.a)($e.getPrimedElement(),$e));var Ye=this.primeUi=new De.a(Object(De.b)(this.originalContainer)).once("gesture",function(){$e.prime(),qe.preload(),Ye.destroy()});return lt.on("change:errorEvent",v),this.setup.start(He).then(function(We){var Ct=We.core;if(!Ct)throw Object(q.w)(null,q.t);if(qe.setup){qe.on(he.ub,b),We.warnings.forEach(function(ct){qe.trigger(he.ub,ct)});var gt=qe.modelShim.clone();if(gt.error)throw gt.error;var nt=qe.apiQueue.queue.slice(0);qe.apiQueue.destroy(),Object(k.g)(qe,Ct.prototype),qe.playerSetup(gt,He,qe.originalContainer,qe._events,nt,$e);var rt=qe._model;return lt.off("change:errorEvent",v),rt.on("change:errorEvent",v),_t.track(rt),qe.updatePlaylist(rt.get("playlist"),rt.get("feedData")).catch(function(ct){var At=ct.code===q.a?q.p:q.r;throw Object(q.w)(ct,At)})}}).then(function(){qe.setup&&qe.playerReady()}).catch(function(We){qe.setup&&function(Ct,gt,nt){Promise.resolve().then(function(){var rt=Object(q.x)(q.n,q.v,nt),ct=Ct._model||Ct.modelShim;rt.message=rt.message||ct.get("localization").errors[rt.key],delete rt.key;var At=ct.get("contextual");if(!At){var Mt=Object(ot.a)(Ct,rt);ot.a.cloneIcon&&Mt.querySelector(".jw-icon").appendChild(ot.a.cloneIcon("error")),w(Ct,Mt)}ct.set("errorEvent",rt),ct.set("state",he.lb),Ct.trigger(he.ib,rt),At&&gt.remove()})}(qe,He,We)})},playerDestroy:function(){this.destroy&&this.destroy(),this.apiQueue&&this.apiQueue.destroy(),this.setup&&this.setup.destroy(),this.primeUi&&this.primeUi.destroy(),this.currentContainer!==this.originalContainer&&w(this,this.originalContainer),this.off(),this._events=this._model=this.modelShim=this.apiQueue=this.primeUi=this.setup=null},getContainer:function(){return this.currentContainer},get:function(je){if(this.modelShim)return je in this.mediaShim?this.mediaShim[je]:this.modelShim.get(je)},getItemQoe:function(){return this.modelShim._qoeItem},getItemPromise:function(){return null},setItemCallback:function(je){this.modelShim&&(this.modelShim.attributes.playlistItemCallback=je)},getConfig:function(){return Object(k.g)({},this.modelShim.attributes,this.mediaShim)},getCurrentCaptions:function(){return this.get("captionsIndex")},getWidth:function(){return this.get("containerWidth")},getHeight:function(){return this.get("containerHeight")},getMute:function(){return this.get("mute")},getProvider:function(){return this.get("provider")},getState:function(){return this.get("state")},getAudioTracks:function(){return null},getCaptionsList:function(){return null},getQualityLevels:function(){return null},getVisualQuality:function(){return null},getCurrentQuality:function(){return-1},getCurrentAudioTrack:function(){return-1},getSafeRegion:function(){return{x:0,y:0,width:0,height:0}},isBeforeComplete:function(){return!1},isBeforePlay:function(){return!1},createInstream:function(){return null},skipAd:function(){},attachMedia:function(){},detachMedia:function(){}}),t.a=et},function(g,t,e){"use strict";var n=function(E){var A={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish"};return A[E]?A[E]:E},o=function(E){for(var A=[],j=0;j<Object(r.c)(E);j++){var y=E.childNodes[j];y.prefix==="jwplayer"&&Object(r.b)(y).toLowerCase()==="mediatypes"&&A.push(Object(r.d)(y))}return A},l=function(E){for(var A={},j=0;j<E.childNodes.length;j++){var y=E.childNodes[j],u=Object(r.b)(y);if(u)switch(u.toLowerCase()){case"enclosure":A.file=Object(d.j)(y,"url");break;case"title":A.title=Object(r.d)(y);break;case"guid":A.mediaid=Object(r.d)(y);break;case"pubdate":A.date=Object(r.d)(y);break;case"description":A.description=Object(r.d)(y);break;case"link":A.link=Object(r.d)(y);break;case"category":A.tags?A.tags+=Object(r.d)(y):A.tags=Object(r.d)(y)}}return new v.a(f(E,c(E,A)))},a=e(0),s=e(3),r=e(4),d=e(2),c=function C(E,A){for(var j=[],y=0;y<Object(r.c)(E);y++){var u=E.childNodes[y];if(u.prefix==="media"){if(!Object(r.b)(u))continue;switch(Object(r.b)(u).toLowerCase()){case"content":if(Object(d.j)(u,"duration")&&(A.duration=Object(d.g)(Object(d.j)(u,"duration"))),Object(d.j)(u,"url")){A.sources||(A.sources=[]);var p={file:Object(d.j)(u,"url"),type:Object(d.j)(u,"type"),width:Object(d.j)(u,"width"),label:Object(d.j)(u,"label")},m=o(u);m.length&&(p.mediaTypes=m),A.sources.push(p)}Object(r.c)(u)>0&&(A=C(u,A));break;case"title":A.title=Object(r.d)(u);break;case"description":A.description=Object(r.d)(u);break;case"guid":A.mediaid=Object(r.d)(u);break;case"thumbnail":A.image||(A.image=Object(d.j)(u,"url"));break;case"group":C(u,A);break;case"subtitle":var _={file:Object(d.j)(u,"url"),kind:"captions"};Object(d.j)(u,"lang").length>0&&(_.label=n(Object(d.j)(u,"lang"))),j.push(_)}}}A.tracks||(A.tracks=[]);for(var x=0;x<j.length;x++)A.tracks.push(j[x]);return A},h=e(12),f=function(E,A){for(var j="default",y=[],u=[],p=A,m=0;m<E.childNodes.length;m++){var _=E.childNodes[m];if(_.prefix==="jwplayer"){var x=Object(r.b)(_);x==="source"?(delete A.sources,y.push({file:Object(d.j)(_,"file"),default:Object(d.j)(_,j),label:Object(d.j)(_,"label"),type:Object(d.j)(_,"type")})):x==="track"?(delete A.tracks,u.push({file:Object(d.j)(_,"file"),default:Object(d.j)(_,j),kind:Object(d.j)(_,"kind"),label:Object(d.j)(_,"label")})):(A[x]=Object(h.serialize)(Object(r.d)(_)),x==="file"&&A.sources&&delete A.sources)}A.file||(A.file=A.link)}if(y.length){A.sources=[];for(var O=0;O<y.length;O++){var I=y[O];I.file.length>0&&(I[j]=y[O][j]==="true",I.label||delete I.label,p.sources.push(I))}}if(u.length){A.tracks=[];for(var P=0;P<u.length;P++){var D=u[P];D.file&&D.file.length>0&&(D[j]=u[P][j]==="true",D.kind=u[P].kind.length?u[P].kind:"captions",D.label||delete D.label,p.tracks.push(D))}}return p},v=e(24),b=e(21),w=e(8),k=e(1);t.a=function(){var C=function(y){try{var u,p=y.responseXML?y.responseXML.childNodes:null,m=null;if(p){for(var _=0;_<p.length&&(m=p[_]).nodeType===8;_++);if(m&&Object(r.b)(m)==="xml"&&(m=m.nextSibling),m&&Object(r.b)(m)==="rss"){var x=function(I){var P=[];P.feedData={};for(var D=0;D<Object(r.c)(I);D++){var V=Object(r.a)(I,D);if(Object(r.b)(V).toLowerCase()==="channel")for(var q=0;q<Object(r.c)(V);q++){var z=Object(r.a)(V,q),he=Object(r.b)(z).toLowerCase();he==="item"?P.push(l(z)):he&&(P.feedData[he]=Object(r.d)(z))}}return P}(m);u=Object(a.g)({playlist:x},x.feedData)}}if(!u)try{var O=JSON.parse(y.responseText);if(Array.isArray(O))u={playlist:O};else{if(!Array.isArray(O.playlist))throw Error("Playlist is not an array");u=O}}catch(I){throw new k.o(k.l,621,I)}A.trigger(s.eb,u)}catch(I){E(I)}},E=function(y){_instanceof(y,k.o)&&!y.code&&(y=new k.o(k.l,0)),A.trigger(s.w,y)},A=Object(a.g)(this,w.a);this.load=function(j){Object(b.a)(j,C,function(y,u,p,m){E(m)})},this.destroy=function(){this.off()}}},function(g,t,e){"use strict";var n=function(a){return a.type==="hls"&&o.OS.android?a.androidhls!==!1&&!o.Browser.firefox&&parseFloat(o.OS.version.version||"0")>=4.4:null};e.d(t,"a",function(){return n});var o=e(7)},function(g,t,e){"use strict";var n=e(3),o=function(){},l=function(){return!1},a={name:"default"},s={supports:l,play:o,pause:o,preload:o,load:o,stop:o,volume:o,mute:o,seek:o,resize:o,remove:o,destroy:o,setVisibility:o,setFullscreen:o,getFullscreen:l,supportsFullscreen:l,getContainer:o,setContainer:o,getName:function(){return a},getQualityLevels:o,getCurrentQuality:o,setCurrentQuality:o,getAudioTracks:o,getCurrentAudioTrack:o,setCurrentAudioTrack:o,getSeekRange:function(){return{start:0,end:this.getDuration()}},setPlaybackRate:o,getPlaybackRate:function(){return 1},getBandwidthEstimate:function(){return null},getLiveLatency:function(){return null},attachMedia:o,detachMedia:o,init:o,setState:function(d){this.state=d,this.trigger(n.bb,{newstate:d})},sendMediaType:function(d){var c=d[0],h=c.type,f=c.mimeType,v=h==="aac"||h==="mp3"||h==="mpeg"||f&&f.indexOf("audio/")===0;this.trigger(n.T,{mediaType:v?"audio":"video"})},getDuration:function(){return 0},trigger:o};t.a=s},function(g,t,e){"use strict";var n=function(j,y){for(var u=y.length;u--;){var p=y[u];if(j.target===p.getContainer()){p.setIntersection(j);break}}},o=function(){f.forEach(function(j){var y=j.model;if(!(y.get("audioMode")||y.get("isFloating")||!y.get("controls")||y.get("visibility")<.75)){var u=y.get("state"),p=Object(h.g)();!p&&u==="paused"&&j.api.getFullscreen()?j.api.setFullscreen(!1):u==="playing"&&j.api.setFullscreen(p)}})},l=function(){f.forEach(function(j){j.model.set("activeTab",Object(d.a)())})},a=function(j,y){var u=y.indexOf(j);u!==-1&&y.splice(u,1)},s=function(j){b.forEach(function(y){y(j)})},r,d=e(46),c=e(7),h=e(6),f=[],v=[],b=[],w={},k="screen"in window&&"orientation"in window.screen,C=c.OS.android&&c.Browser.chrome,E=!1;document.addEventListener("visibilitychange",l),document.addEventListener("webkitvisibilitychange",l),C&&k&&window.screen.orientation.addEventListener("change",o),window.addEventListener("beforeunload",function(){document.removeEventListener("visibilitychange",l),document.removeEventListener("webkitvisibilitychange",l),window.removeEventListener("scroll",s),C&&k&&window.screen.orientation.removeEventListener("change",o)}),t.a={add:function(j){f.push(j)},remove:function(j){a(j,f)},addScrollHandler:function(j){E||(E=!0,window.addEventListener("scroll",s)),b.push(j)},removeScrollHandler:function(j){var y=b.indexOf(j);y!==-1&&b.splice(y,1)},addWidget:function(j){v.push(j)},removeWidget:function(j){a(j,v)},size:function(){return f.length},observe:function(j){var y;y=window.IntersectionObserver,r||(r=new y(function(u){if(u&&u.length)for(var p=u.length;p--;){var m=u[p];n(m,f),n(m,v)}},{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})),w[j.id]||(w[j.id]=!0,r.observe(j))},unobserve:function(j){r&&w[j.id]&&(delete w[j.id],r.unobserve(j))}}},,function(g,t,e){"use strict";var n=function(){Object(l.a)(d),d=Object(l.b)(function(){r.forEach(function(f){f.view.updateBounds();var v=f.view.model.get("containerWidth");f.resized=f.width!==v,f.width=v}),r.forEach(function(f){f.contractElement.scrollLeft=2*f.width}),r.forEach(function(f){Object(s.d)(f.expandChild,{width:f.width+1}),f.resized&&f.view.model.get("visibility")&&f.view.updateStyles()}),r.forEach(function(f){f.expandElement.scrollLeft=f.width+1}),r.forEach(function(f){f.resized&&f.view.checkResized()})})};e.d(t,"a",function(){return c});var o=e(0),l=e(38),a=e(6),s=e(11),r=[],d=-1,c=function(){var h=function(v,b,w){var k={display:"block",position:"absolute",top:0,left:0},C={width:"100%",height:"100%"},E=Object(a.f)('<div style="opacity:0;visibility:hidden;overflow:hidden;"><div><div style="height:1px;"></div></div><div class="jw-contract-trigger"></div></div>'),A=E.firstChild,j=A.firstChild,y=A.nextSibling;Object(s.d)([A,y],Object(o.g)({overflow:"auto"},k,C)),Object(s.d)(E,Object(o.g)({},k,C)),this.expandElement=A,this.expandChild=j,this.contractElement=y,this.hiddenElement=E,this.element=v,this.view=b,this.model=w,this.width=0,this.resized=!1,v.firstChild?v.insertBefore(E,v.firstChild):v.appendChild(E),v.addEventListener("scroll",n,!0),r.push(this),n()};return h.prototype.destroy=function(){if(this.view){var f=r.indexOf(this);f!==-1&&r.splice(f,1),this.element.removeEventListener("scroll",n,!0),this.element.removeChild(this.hiddenElement),this.view=this.model=null}},h}()},,,function(g,t,e){"use strict";var n=function(){},o=function(B,F){for(;B._state===3;)B=B._value;B._state!==0?(B._handled=!0,k._immediateFn(function(){var ce=B._state===1?F.onFulfilled:F.onRejected;if(ce!==null){var J;try{J=ce(B._value)}catch(ae){return void a(F.promise,ae)}l(F.promise,J)}else(B._state===1?l:a)(F.promise,B._value)})):B._deferreds.push(F)},l=function(B,F){try{if(F===B)throw new TypeError("A promise cannot be resolved with itself.");if(F&&(typeof F=="object"||typeof F=="function")){var ce=F.then;if(_instanceof(F,k))return B._state=3,B._value=F,void s(B);if(typeof ce=="function")return void d((J=ce,ae=F,function(){J.apply(ae,arguments)}),B)}B._state=1,B._value=F,s(B)}catch(se){a(B,se)}var J,ae},a=function(B,F){B._state=2,B._value=F,s(B)},s=function(B){B._state===2&&B._deferreds.length===0&&k._immediateFn(function(){B._handled||k._unhandledRejectionFn(B._value)});for(var F=0,ce=B._deferreds.length;F<ce;F++)o(B,B._deferreds[F]);B._deferreds=null},r=function(B,F,ce){this.onFulfilled=typeof B=="function"?B:null,this.onRejected=typeof F=="function"?F:null,this.promise=ce},d=function(B,F){var ce=!1;try{B(function(J){ce||(ce=!0,l(F,J))},function(J){ce||(ce=!0,a(F,J))})}catch(J){if(ce)return;ce=!0,a(F,J)}},c=function(B,F){var ce=new I.a(F);return ce.on(P.gb,function(J){B._qoe.tick("ready"),J.setupTime=B._qoe.between("setup","ready")}),ce.on("all",function(J,ae){B.trigger(J,ae)}),ce},h=function(B,F){var ce=B.plugins,J=Object.keys(ce).map(function(ae){var se=ce[ae];return delete ce[ae],se});F.get("setupConfig")&&B.trigger("remove"),B.off(),F.playerDestroy(),J.forEach(function(ae){if(ae.destroy)try{ae.destroy()}catch(se){}}),F.getContainer().removeAttribute("data-jwplayer-id")},f=function(B){var F=++z,ce=B.id||"player-"+F,J=new D.a,ae={},se=c(this,B);J.tick("init"),B.setAttribute("data-jwplayer-id",ce),Object.defineProperties(this,{id:{enumerable:!0,get:function(){return ce}},uniqueId:{enumerable:!0,get:function(){return F}},plugins:{enumerable:!0,get:function(){return ae}},_qoe:{enumerable:!0,get:function(){return J}},version:{enumerable:!0,get:function(){return m.a}},Events:{enumerable:!0,get:function(){return V.a}},utils:{enumerable:!0,get:function(){return q.a}},_:{enumerable:!0,get:function(){return _.c}}}),Object(_.g)(this,{_events:{},setup:function(de){return J.clear("ready"),J.tick("setup"),se&&h(this,se),(se=c(this,B)).init(de,this),this.on(de.events,null,this)},remove:function(){return this.getPip()&&this.setPip(!1),function(de){for(var Be=A.a.length;Be--;)if(A.a[Be].uniqueId===de.uniqueId){A.a.splice(Be,1);break}}(this),se&&h(this,se),Object.keys(ae).forEach(function(de){delete ae[de]}),this},qoe:function(){var de=se.getItemQoe();return{setupTime:this._qoe.between("setup","ready"),firstFrame:de.getFirstFrame?de.getFirstFrame():null,player:this._qoe.dump(),item:de.dump()}},addCues:function(de){return Array.isArray(de)&&se.addCues(de),this},getAudioTracks:function(){return se.getAudioTracks()},getBuffer:function(){return se.get("buffer")},getCaptions:function(){return se.get("captions")},getCaptionsList:function(){return se.getCaptionsList()},getConfig:function(){return se.getConfig()},getContainer:function(){return se.getContainer()},getControls:function(){return se.get("controls")},getCues:function(){return se.get("cues")},getCurrentAudioTrack:function(){return se.getCurrentAudioTrack()},getCurrentCaptions:function(){return se.getCurrentCaptions()},getCurrentQuality:function(){return se.getCurrentQuality()},getCurrentTime:function(){return se.get("currentTime")},getDuration:function(){return se.get("duration")},getEnvironment:function(){return O},getFullscreen:function(){return se.get("fullscreen")},getHeight:function(){return se.getHeight()},getItemMeta:function(){return se.get("itemMeta")||{}},getMute:function(){return se.getMute()},getPercentViewable:function(){return se.get("visibility")},getPip:function(){return se.get("pip")},getPlaybackRate:function(){return se.get("playbackRate")},getPlaylist:function(){return se.get("playlist")},getPlaylistIndex:function(){return se.get("item")},getPlaylistItem:function(de){if(!q.a.exists(de))return se.get("playlistItem");var Be=this.getPlaylist();return Be?Be[de]:null},getPosition:function(){return se.get("position")},getProvider:function(){return se.getProvider()},getQualityLevels:function(){return se.getQualityLevels()},getSafeRegion:function(de){return de===void 0&&(de=!0),se.getSafeRegion(de)},getState:function(){return se.getState()},getStretching:function(){return se.get("stretching")},getViewable:function(){return se.get("viewable")},getVisualQuality:function(){return se.getVisualQuality()},getVolume:function(){return se.get("volume")},getWidth:function(){return se.getWidth()},setCaptions:function(de){return se.setCaptions(de),this},setConfig:function(de){return se.setConfig(de),this},setControls:function(de){return se.setControls(de),this},setCurrentAudioTrack:function(de){se.setCurrentAudioTrack(de)},setCurrentCaptions:function(de){se.setCurrentCaptions(de)},setCurrentQuality:function(de){se.setCurrentQuality(de)},setFullscreen:function(de){return se.setFullscreen(de),this},setAllowFullscreen:function(de){return se.setAllowFullscreen(de),this},setMute:function(de){return se.setMute(de),this},setPip:function(de){return se.setPip(de),this},setPlaybackRate:function(de){return se.setPlaybackRate(de),this},setPlaylistItem:function(de,Be){return se.setPlaylistItem(de,Be),this},setCues:function(de){return Array.isArray(de)&&se.setCues(de),this},setVolume:function(de){return se.setVolume(de),this},load:function(de,Be){return se.load(de,Be),this},play:function(de){return se.play(de),this},pause:function(de){return se.pause(de),this},playToggle:function(de){switch(this.getState()){case P.pb:case P.jb:return this.pause(de);default:return this.play(de)}},seek:function(de,Be){return se.seek(de,Be),this},playlistItem:function(de,Be){return se.playlistItem(de,Be),this},playlistNext:function(de){return se.playlistNext(de),this},playlistPrev:function(de){return se.playlistPrev(de),this},next:function(de){return se.next(de),this},requestPip:function(de){return se.requestPip(de),this},castToggle:function(){return se.castToggle(),this},stopCasting:function(){return se.stopCasting(),this},createInstream:function(){return se.createInstream()},stop:function(){return se.stop(),this},resize:function(de,Be){return se.resize(de,Be),this},addButton:function(de,Be,it,mt,ot){return se.addButton(de,Be,it,mt,ot),this},removeButton:function(de){return se.removeButton(de),this},attachMedia:function(){return se.attachMedia(),this},detachMedia:function(){return se.detachMedia(),this},isBeforeComplete:function(){return se.isBeforeComplete()},isBeforePlay:function(){return se.isBeforePlay()},setPlaylistItemCallback:function(de,Be){se.setItemCallback(de,Be)},removePlaylistItemCallback:function(){se.setItemCallback(null)},getPlaylistItemPromise:function(de){return se.getItemPromise(de)},getFloating:function(){return!!se.get("isFloating")},setFloating:function(de){se.setConfig({floating:{mode:de?"always":"never"}})}})},v=function(B){for(var F=0;F<A.a.length;F++)if(A.a[F].id===B)return A.a[F];return null},b=function(B){Object.defineProperties(B,{api:{get:function(){return u},set:function(){}},version:{get:function(){return m.a},set:function(){}},debug:{get:function(){return x.a.debug},set:function(ce){x.a.debug=!!ce}}})};e.r(t);var w=setTimeout;function k(Y){if(!_instanceof(this,k))throw new TypeError("Promises must be constructed via new");if(typeof Y!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(Y,this)}k.prototype.catch=function(Y){return this.then(null,Y)},k.prototype.then=function(Y,B){var F=new this.constructor(n);return o(this,new r(Y,B,F)),F},k.prototype.finally=function(Y){var B=this.constructor;return this.then(function(F){return B.resolve(Y()).then(function(){return F})},function(F){return B.resolve(Y()).then(function(){return B.reject(F)})})},k.all=function(Y){return new k(function(B,F){if(!Y||Y.length===void 0)throw new TypeError("Promise.all accepts an array");var ce=Array.prototype.slice.call(Y);if(ce.length===0)return B([]);var J=ce.length;function ae(ve,de){try{if(de&&(typeof de=="object"||typeof de=="function")){var Be=de.then;if(typeof Be=="function")return void Be.call(de,function(it){ae(ve,it)},F)}ce[ve]=de,--J==0&&B(ce)}catch(it){F(it)}}for(var se=0;se<ce.length;se++)ae(se,ce[se])})},k.resolve=function(Y){return Y&&typeof Y=="object"&&Y.constructor===k?Y:new k(function(B){B(Y)})},k.reject=function(Y){return new k(function(B,F){F(Y)})},k.race=function(Y){return new k(function(B,F){for(var ce=0,J=Y.length;ce<J;ce++)Y[ce].then(B,F)})},k._immediateFn=typeof setImmediate=="function"&&function(Y){setImmediate(Y)}||function(Y){w(Y,0)},k._unhandledRejectionFn=function(Y){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",Y)};var C=k;window.Promise||(window.Promise=C);var E=e(19),A=e(14),j=e(15),y=e(20),u={availableProviders:j.a,registerProvider:y.a},p=e(25),m=e(22),_=e(0),x=e(17),O=e(7),I=e(47),P=e(3),D=e(23),V=e(8),q=e(39),z=0;Object(_.g)(f.prototype,{on:function(B,F,ce){return V.c.call(this,B,F,ce)},once:function(B,F,ce){return V.d.call(this,B,F,ce)},off:function(B,F,ce){return V.b.call(this,B,F,ce)},trigger:function(B,F){return(F=_.c.isObject(F)?Object(_.g)({},F):{}).type=B,x.a.debug?V.e.call(this,B,F):V.f.call(this,B,F)},getPlugin:function(B){return this.plugins[B]},addPlugin:function(B,F){this.plugins[B]=F,this.on("ready",F.addToPlayer),F.resize&&this.on("resize",F.resizeHandler)},registerPlugin:function(B,F,ce){Object(p.b)(B,F,ce)},getAdBlock:function(){return!1},playAd:function(B){},pauseAd:function(B){},skipAd:function(){}}),e.d(t,"assignLibraryProperties",function(){return b}),e.p=Object(E.loadFrom)();var he=function(B){var F,ce;if(B?typeof B=="string"?(F=v(B))||(ce=document.getElementById(B)):typeof B=="number"?F=A.a[B]:B.nodeType&&(F=v((ce=B).id||ce.getAttribute("data-jwplayer-id"))):F=A.a[0],F)return F;if(ce){var J=new f(ce);return A.a.push(J),J}return{registerPlugin:p.b}};b(he),t.default=he}]).default}}),Zp,Tr,ev=Ht({"https-url:https://av.prod.archive.org/js/jwplayer.js":function(){k1(),Zp=location.hostname==="av.prod.archive.org"||location.hostname==="av.dev.archive.org"?"/jw/8":"https://av.prod.archive.org/jw/8",Tr=window.jwplayer}}),tv,nv,rv=Ht({"https-url:https://av.prod.archive.org/js/playset.js":function(){Jx(),Jp(),Ns(),_1(),ev(),tv=function(){"use strict";function g(){if(_classCallCheck(this,g),g.avplayer="#jw6",g.resizer_listening=!1,g.unplayable_timer=null,g.mobile=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0||navigator.userAgent.indexOf("Android")>0,this.id=!1,this.selector_play_items=!1,this.selector_playlist=!1,!!g.is_local_storage_available()){this.selector_play_items=X(".js-playset-items"),this.selector_playlist=X(".js-playset-list");var t=X(".js-playset").attr("data-mediatype");if(this.selector_playlist.length||(this.selector_playlist="body"),this.selector_play_items.length?(!t||["audio","movies","etree"].includes(t))&&(X(this.selector_play_items).append('<span id="playplayset"/>'),X("#playplayset").html('<a\n          class="stealth"\n          href="#play-items"\n          data-event-click-tracking="Playset|PlayAllLink"\n        >\n          <span class="iconochive-play" aria-hidden="true"></span>\n          <span class="sr-only">play</span>\n          <span class="hidden-xs-span"> Play All</span>\n          <br />\n        </a>'),Id("#playplayset",g.create_playlist_goto_first_item),_a("autoplay",!0)&&!_a("playset",!0)&&setTimeout(g.create_playlist_goto_first_item,2500)):this.selector_play_items=!1,_a("playset",!0)){var e;if(e=_slicedToArray(location.href.match(/archive\.org\/details\/([^/&?]+)/),2),this.id=e[1],!this.id)return;X("#playset-xs").length||X("#theatre-ia-wrap").after('<div id="playset-xs" class="hidden-sm hidden-md hidden-lg"><div/></div>'),this.show_playlist(),g.skip_unplayable_item(),g.resizer()}Wn("playset ready")}}return _createClass(g,[{key:"show_playlist",value:function(){var e=this,n=g.get_playset();if(n){var o=!1,l="",a=!0,s=!1,r=void 0;try{for(var d=n.list[Symbol.iterator](),c;!(a=(c=d.next()).done);a=!0){var h=c.value;l+=g.playlist_item(h[0],h[1],h[2],h[3]),this.id===h[0]&&(o=!0)}}catch(v){s=!0,r=v}finally{try{!a&&d.return!=null&&d.return()}finally{if(s)throw r}}if(o){var f="\n".concat(g.playlist_header(n),'\n<div class="playset-list">\n').concat(l,"\n</div>\n");X("body").addClass("playset"),X("body").addClass(X("#theatre-ia-wrap").length?"":" playset-hdr-only"),X(this.selector_playlist).prepend('<div id="playset-ia">'.concat(f,"</div>")),Id("#playset-pp .js-playset-play",g.play),Id("#playset-pp .js-playset-pause",g.pause),setTimeout(function(){e.autoscroll_playlist()},500),X(document).ready(function(){X("#texty iframe").on("load",function(){X("#texty iframe").contents().click(g.pause)})})}}}},{key:"autoscroll_playlist",value:function(){var e=X('#playset-ia div[data-id="'.concat(this.id,'"')).offset();if(e){var n=X("#playset-xs:visible").length?10:X("#topnav").height(),o=e.top-n-X("#playset-ia .playset-hdr").height();Wn("scrolling playset to ",o),X("#playset-ia .playset-list").scrollTop(o)}}}],[{key:"create_playlist_goto_first_item",value:function(){Wn("create_playlist_goto_first_item()");var e=[],n=X("#also-found").length,o=n?"#also-found .item-ia":".item-ia:visible";X(o).each(function(l,a){var s=X(a),r=s.data().id;if(!r.match(/^__/)){var d=g.truncate(s.find(".item-ttl,.collection-title a").text(),35),c=g.truncate(s.find(".byv").text(),75),h=s.data().year,f=g.truncate(s.next().find(".C234 > span:first").text(),75);e.push([r,d,c.length?c:f,h])}}),g.set_playset(e),g.mobile?g.play_mobile(e):location.href="/details/".concat(e[0][0],"?autoplay=1&playset=1")}},{key:"play_mobile",value:function(e){var n=[],o=!0,l=!1,a=void 0;try{for(var s=e[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var d=r.value;n.push(d[0])}}catch(c){l=!0,a=c}finally{try{!o&&s.return!=null&&s.return()}finally{if(l)throw a}}location.href="https://archive.org/services/playset.php?ids=".concat(n.join(","))}},{key:"resizer",value:function(){g.resizer_listening||(g.resizer_listening=!0,X(window).on("resize  orientationchange",function(){clearTimeout(g.throttler),g.throttler=setTimeout(g.resizer,250)}));var e=X("#playset-xs:visible").length?"playset-xs":"theatre-ia-wrap",n=X("#playset-ia").parent().attr("id");Wn("browser resize: ",e," -v- ",n),e!==n&&(e==="playset-xs"?X("#playset-ia").appendTo("#playset-xs > div"):X("#playset-ia").prependTo("#".concat(e)),Wn("playset moved"))}},{key:"playlist_header",value:function(e){var n=e.src.match(/\?/)?"&":"?",o="".concat(e.src).concat(n,"autoplay=1");return'\n<div class="playset-hdr">\n<div>\n  <a href='.concat(o,">Playlist</a>\n  ").concat(g.glyph("beta"),'\n</div>\n<div id="playset-pp">\n  <a href="#" class="js-playset-pause">\n    ').concat(g.glyph("Pause"),'\n  </a>\n  <a href="#" class="js-playset-play" style="display:none">\n    ').concat(g.glyph("play"),"\n  </a>\n</div>\n<div>\n  <a href=").concat(o,">\n    ").concat(g.glyph("share"),"\n  </a>\n</div>\n</div>\n")}},{key:"playlist_item",value:function(e,n,o,l){return'\n<div class="playset-item" data-id='.concat(e,'>\n<a href="/details/').concat(e,'?autoplay=1&playset=1">\n  <div class="topinblock playset-img">\n    <img src="/services/img/').concat(e,'"/>\n  </div><div class="topinblock">\n    ').concat(g.item_year(l),"\n    <b>\n      ").concat(n,"\n    </b><br/>\n    ").concat(o,"\n  </div>\n</a>\n</div>")}},{key:"item_year",value:function(e){return e?'\n<div style="float:right">\n('.concat(e,")\n</div>"):""}},{key:"skip_unplayable_item",value:function(){g.unplayable_timer=setTimeout(function(){(typeof Tr=="undefined"||!X(g.avplayer).length)&&g.goto_next_item()},3e3)}},{key:"goto_next_item",value:function(){var e=location.href.match(/\/details\/([^/&?]+)/)[1],n=g.get_playlist(),o="",l=!0,a=!1,s=void 0;try{for(var r=n[Symbol.iterator](),d;!(l=(d=r.next()).done);l=!0){var c=d.value;e===o&&(location.href="/details/".concat(c[0],"?autoplay=1&playset=1"));var h;h=_slicedToArray(c,1),o=h[0]}}catch(f){a=!0,s=f}finally{try{!l&&r.return!=null&&r.return()}finally{if(a)throw s}}}},{key:"onComplete",value:function(e,n){var o=e.getPlaylistIndex(),l=e.getPlaylist().length,a=o+1>=l||n&&n.done;a&&g.goto_next_item()}},{key:"get_playlist",value:function(){var e=g.get_playset();return typeof e.list=="undefined"?e:e.list}},{key:"get_playset",value:function(){return JSON.parse(localStorage.getItem("playset"))}},{key:"set_playset",value:function(e){var n=new Date,o={version:"1.1",src:(location.pathname+location.search).replace(/[&?]autoplay=1/,""),created:n.toJSON(),createdTS:Math.round(n.getTime()/1e3),list:e};localStorage.setItem("playset",JSON.stringify(o))}},{key:"pause",value:function(){if(Wn("playset pause"),typeof Tr!="undefined"&&X(g.avplayer).length){var e=Tr(g.avplayer.substr(1));return e&&e.getState()&&(e.getState().toUpperCase()==="PLAYING"?e.pause():e.play(),X("#playset-pp a").toggle()),!1}return g.unplayable_timer&&(clearTimeout(g.unplayable_timer),g.unplayable_timer=null,X("#playset-pp a").toggle()),!1}},{key:"play",value:function(){if(Wn("play/resume"),typeof Tr!="undefined"&&X(g.avplayer).length){var e=Tr(g.avplayer.substr(1));return e&&e.getState()&&(e.getState().toUpperCase()!=="PLAYING"&&e.play(),X("#playset-pp a").toggle()),!1}return g.unplayable_timer||(g.skip_unplayable_item(),X("#playset-pp a").toggle()),!1}},{key:"glyph",value:function(e){return'<span class="iconochive-'.concat(e,'" aria-hidden="true"></span>\n           <span class="sr-only">').concat(e,"</span>")}},{key:"truncate",value:function(e,n){var o=e.trim().replace(/\s+/g," ");return o.length<=n?o:"".concat(o.substr(0,n),"..")}},{key:"is_local_storage_available",value:function(){try{return"localStorage"in window}catch(e){return!1}}}]),g}(),X(function(){return new tv}),nv=tv}});function iv(g,t){function e(o,l,a){if(!((typeof document=="undefined"?"undefined":_typeof(document))>"u")){a=cd({},t,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),o=encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var r in a)a[r]&&(s+="; "+r,a[r]!==!0&&(s+="="+a[r].split(";")[0]));return document.cookie=o+"="+g.write(l,o)+s}}function n(o){if(!((typeof document=="undefined"?"undefined":_typeof(document))>"u"||arguments.length&&!o)){for(var l=document.cookie?document.cookie.split("; "):[],a={},s=0;s<l.length;s++){var r=l[s].split("="),d=r.slice(1).join("=");try{var c=decodeURIComponent(r[0]);if(a[c]=g.read(d,c),o===c)break}catch(h){}}return o?a[o]:a}}return Object.create({set:e,get:n,remove:function(l,a){e(l,"",cd({},a,{expires:-1}))},withAttributes:function(l){return iv(this.converter,cd({},this.attributes,l))},withConverter:function(l){return iv(cd({},this.converter,l),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(g)}})}var Zx,ui,e5=Ht({"https-url:https://esm.archive.org/v135/js-cookie@3.0.5/esnext/js-cookie.mjs":function(){Zx={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},ui=iv(Zx,{path:"/"})}}),ka=Ht({"https-url:https://esm.archive.org/js-cookie":function(){e5(),e5()}}),Ai=Ht({"components/util/jquery.js":function(){Pd(),window.jQuery=X,window.$=X}}),Cn,bo=Ht({"components/util/log.js":function(){Cn=location.hostname==="localhost"||location.host.match(/^(www|cat)-[a-z0-9]+\.archive\.org$/)||location.host.match(/\.code\.archive\.org$/)||location.host.match(/\.dev\.archive\.org$/)||location.host.match(/^ia-petabox-/)?console.log.bind(console):function(){}}}),Qu,t5=Ht({"components/util/ios.js":function(){Qu=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0}}),n5=Ht({"components/util/center.js":function(){Ai(),bo(),t5(),X.fn.center=function(){var t=X(this).innerHeight();Cn("myheight",t),Cn("mywidth",this.width()),Cn("w.height",X(window).height(),"w.width",X(window).width(),"w.scrollTop",X(window).scrollTop(),"w.scrollLeft",X(window).scrollLeft());var e,n;if(Qu){var o=window.innerWidth,l=window.innerHeight;Cn("vpH",l),Cn("vpW",o),e=(l-t)/2+X(window).scrollTop(),n=(o-this.width())/2+X(window).scrollLeft()}else e=(X(window).height()-t)/2,n=(X(window).width()-this.width())/2;return e=Math.max(20,e),n=Math.max(20,n),this.css({position:Qu?"absolute":"fixed",display:"block",top:e,left:n}),this}}}),r5,x1=Ht({"components/util/popup.js":function(){Ai(),bo(),r5=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,null,[{key:"params",value:function(e,n){var o={height:n,width:e,scrollbars:"yes",resizable:"yes",toolbar:"no",directories:"no",location:"yes",menubar:"no",status:"yes"};return Object.keys(o).filter(function(l){return o[l]}).reduce(function(l,a){return l.concat("".concat(a,"=").concat(o[a]))},[]).join(",")}},{key:"setupPopupLink",value:function(){var e="popup-link",n="popup-link-width",o="popup-link-height";Cn("popup setup"),X(document.body).off("click.PopupLink").on("click.PopupLink","[data-".concat(e,"]"),function(l){l.preventDefault();var a=X(l.currentTarget),s=a.data(n)||500,r=a.data(o)||500;window.open(l.currentTarget.href,"popup",g.params(s,r))})}}]),g}(),X(r5.setupPopupLink)}}),Md,i5=Ht({"components/util/message.js":function(){Md=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,null,[{key:"LoadingMessage",value:function(e){var n=e.message,o=n===void 0?"Loading":n;return'<small class="loading-message">'.concat(o,"</small>")}},{key:"ErrorMessage",value:function(e){var n=e.errorMessage;return"<small>".concat(n,"</small>")}}]),g}()}}),S1=Ht({"components/tilebars/tilebars.js":function(){Ai()}}),o5,C1=Ht({"components/util/throttler.js":function(){o5=function(){"use strict";function g(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;_classCallCheck(this,g),this.callback=t,this.threshhold=e,this.context=n,this.last=void 0,this.deferTimeout=void 0}return _createClass(g,[{key:"execute",value:function(){var e=+new Date;this.last&&e<this.last+this.threshhold?(clearTimeout(this.deferTimeout),this.deferTimeout=setTimeout(this.executeCallback.bind(this),this.threshhold)):this.executeCallback.call(this)}},{key:"executeCallback",value:function(){this.last=+new Date,this.callback.apply(this.context)}}]),g}()}}),ov,a5=Ht({"components/util/scroll-proximity-handler.js":function(){Ai(),C1(),ov=function(){"use strict";function g(t,e,n){_classCallCheck(this,g),this.identifier=t,this.$targetElement=e,this.callback=n,this.$window=X(window),this.throttler=new o5(this.scrollListener,100,this)}return _createClass(g,[{key:"startListener",value:function(){this.$window.on("scroll.".concat(this.identifier),this.throttledListener.bind(this)),this.scrollListener()}},{key:"throttledListener",value:function(){return this.throttler.execute()}},{key:"getTargetScrollOffset",value:function(){var e=this.$targetElement.offset().top,n=this.$window.height();return e-n/2}},{key:"scrollListener",value:function(){var e=this.getTargetScrollOffset();this.$window.scrollTop()+this.$window.height()>=e&&(this.$window.off(".".concat(this.identifier)),this.callback())}}]),g}()}}),s5,A1=Ht({"components/util/is-bot.js":function(){s5=/bot|crawl|spider/i.test(navigator.userAgent)}}),Ld,l5=Ht({"components/related/related.js":function(){Ai(),i5(),S1(),a5(),A1(),Ld=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,null,[{key:"setup",value:function(){var e=X("#js-related");if(e.length&&(fp(),X(window).on("resize  orientationchange",function(o){clearTimeout(g.also_found_throttler),g.also_found_throttler=setTimeout(fp,250)})),!(!e.length||s5)){var n=X("#also-found");this.scrollProximityHandler=new ov("related_items",n,function(){if(!e.text())return n.find(".tilebars").show(),e.html(Md.LoadingMessage({message:"Fetching items"})),g.doWhenScrolledToRelatedSection()}),this.scrollProximityHandler.startListener()}}},{key:"doWhenScrolledToRelatedSection",value:function(){var e=X("#also-found").data("identifier"),n=X("#js-related");return g.getRelatedItems(e).then(function(o){n.html(o),fp()}).catch(function(o){X("#playplayset").hide(),n.html(Md.ErrorMessage({errorMessage:o.message})).show()})}},{key:"getRelatedItems",value:function(e,n){return new Promise(function(o,l){var a="/details/".concat(encodeURIComponent(e),"?RelatedItemsGet=").concat(n?"json":1),s="Related items temporarily unavailable. Please try back later.";X.get(a,function(r){r===""&&l(new Error("No similar items found.")),r==="service_disabled"&&l(new Error(s)),o(r)}).fail(function(){l(new Error(s))})})}}]),g}(),X(function(){return Ld.setup()})}}),u5,Rd,c5,d5,h5,f5,p5,v5,Dd,m5,av,sv,lv,g5,tr,uv,y5,$d,b5=Ht({"https-url:https://esm.archive.org/v135/clipboard@2.0.11/esnext/clipboard.mjs":function(){u5=Object.create,Rd=Object.defineProperty,c5=Object.getOwnPropertyDescriptor,d5=Object.getOwnPropertyNames,h5=Object.getPrototypeOf,f5=Object.prototype.hasOwnProperty,p5=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},v5=function(t,e){for(var n in e)Rd(t,n,{get:e[n],enumerable:!0})},Dd=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!f5.call(t,v)&&v!==n&&Rd(t,v,{get:function(){return e[v]},enumerable:!(o=c5(e,v))||o.enumerable})},d=d5(e)[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0)r(d,c)}catch(h){a=!0,s=h}finally{try{!l&&d.return!=null&&d.return()}finally{if(a)throw s}}return t},m5=function(t,e,n){return Dd(t,e,"default"),n&&Dd(n,e,"default")},av=function(t,e,n){return n=t!=null?u5(h5(t)):{},Dd(e||!t||!t.__esModule?Rd(n,"default",{value:t,enumerable:!0}):n,t)},sv=p5(function(t,e){(function(n,o){typeof t=="object"&&typeof e=="object"?e.exports=o():typeof define=="function"&&define.amd?define([],o):typeof t=="object"?t.ClipboardJS=o():n.ClipboardJS=o()})(t,function(){return function(){var n={686:function(a,s,r){"use strict";var d=function(ae){try{return document.execCommand(ae)}catch(se){return!1}},c=function(ae){var se=document.documentElement.getAttribute("dir")==="rtl",ve=document.createElement("textarea");ve.style.fontSize="12pt",ve.style.border="0",ve.style.padding="0",ve.style.margin="0",ve.style.position="absolute",ve.style[se?"right":"left"]="-9999px";var de=window.pageYOffset||document.documentElement.scrollTop;return ve.style.top="".concat(de,"px"),ve.setAttribute("readonly",""),ve.value=ae,ve},h=function(ae,se){if(!_instanceof(ae,se))throw new TypeError("Cannot call a class as a function")},f=function(ae,se){for(var ve=0;ve<se.length;ve++){var de=se[ve];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(ae,de.key,de)}},v=function(ae,se,ve){return se&&f(ae.prototype,se),ve&&f(ae,ve),ae},b=function(ae,se){if(typeof se!="function"&&se!==null)throw new TypeError("Super expression must either be null or a function");ae.prototype=Object.create(se&&se.prototype,{constructor:{value:ae,writable:!0,configurable:!0}}),se&&Y(ae,se)},w=function(ae){var se=E();return function(){var ve=B(ae),de;if(se){var Be=B(this).constructor;de=Reflect.construct(ve,arguments,Be)}else de=ve.apply(this,arguments);return k(this,de)}},k=function(ae,se){return se&&(he(se)==="object"||typeof se=="function")?se:C(ae)},C=function(ae){if(ae===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ae},E=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(ae){return!1}},A=function(ae,se){var ve="data-clipboard-".concat(ae);if(se.hasAttribute(ve))return se.getAttribute(ve)};r.d(s,{default:function(){return ce}});var j=r(279),y=r.n(j),u=r(370),p=r.n(u),m=r(817),_=r.n(m),x=function(ae){var se=_()(ae);return d("cut"),se},O=x,I=function(ae,se){var ve=c(ae);se.container.appendChild(ve);var de=_()(ve);return d("copy"),ve.remove(),de},P=function(ae){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},ve="";return typeof ae=="string"?ve=I(ae,se):_instanceof(ae,HTMLInputElement)&&!["text","search","url","tel","password"].includes(ae==null?void 0:ae.type)?ve=I(ae.value,se):(ve=_()(ae),d("copy")),ve},D=P;function V(J){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?V=function(se){return typeof se}:V=function(se){return se&&typeof Symbol=="function"&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se},V(J)}var q=function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},se=ae.action,ve=se===void 0?"copy":se,de=ae.container,Be=ae.target,it=ae.text;if(ve!=="copy"&&ve!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(Be!==void 0)if(Be&&V(Be)==="object"&&Be.nodeType===1){if(ve==="copy"&&Be.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(ve==="cut"&&(Be.hasAttribute("readonly")||Be.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}else throw new Error('Invalid "target" value, use a valid Element');if(it)return D(it,{container:de});if(Be)return ve==="cut"?O(Be):D(Be,{container:de})},z=q;function he(J){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?he=function(se){return typeof se}:he=function(se){return se&&typeof Symbol=="function"&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se},he(J)}function Y(J,ae){return Y=Object.setPrototypeOf||function(se,ve){return se.__proto__=ve,se},Y(J,ae)}function B(J){return B=Object.setPrototypeOf?Object.getPrototypeOf:function(se){return se.__proto__||Object.getPrototypeOf(se)},B(J)}var F=function(J){b(se,J);var ae=w(se);function se(ve,de){var Be;return h(this,se),Be=ae.call(this),Be.resolveOptions(de),Be.listenClick(ve),Be}return v(se,[{key:"resolveOptions",value:function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof de.action=="function"?de.action:this.defaultAction,this.target=typeof de.target=="function"?de.target:this.defaultTarget,this.text=typeof de.text=="function"?de.text:this.defaultText,this.container=he(de.container)==="object"?de.container:document.body}},{key:"listenClick",value:function(de){var Be=this;this.listener=p()(de,"click",function(it){return Be.onClick(it)})}},{key:"onClick",value:function(de){var Be=de.delegateTarget||de.currentTarget,it=this.action(Be)||"copy",mt=z({action:it,container:this.container,target:this.target(Be),text:this.text(Be)});this.emit(mt?"success":"error",{action:it,text:mt,trigger:Be,clearSelection:function(){Be&&Be.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(de){return A("action",de)}},{key:"defaultTarget",value:function(de){var Be=A("target",de);if(Be)return document.querySelector(Be)}},{key:"defaultText",value:function(de){return A("text",de)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(de){var Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return D(de,Be)}},{key:"cut",value:function(de){return O(de)}},{key:"isSupported",value:function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],Be=typeof de=="string"?[de]:de,it=!!document.queryCommandSupported;return Be.forEach(function(mt){it=it&&!!document.queryCommandSupported(mt)}),it}}]),se}(y()),ce=F},828:function(a){var s=function(h,f){for(;h&&h.nodeType!==r;){if(typeof h.matches=="function"&&h.matches(f))return h;h=h.parentNode}},r=9;if((typeof Element=="undefined"?"undefined":_typeof(Element))<"u"&&!Element.prototype.matches){var d=Element.prototype;d.matches=d.matchesSelector||d.mozMatchesSelector||d.msMatchesSelector||d.oMatchesSelector||d.webkitMatchesSelector}a.exports=s},438:function(a,s,r){var d=function(b,w,k,C,E){var A=h.apply(this,arguments);return b.addEventListener(k,A,E),{destroy:function(){b.removeEventListener(k,A,E)}}},c=function(b,w,k,C,E){return typeof b.addEventListener=="function"?d.apply(null,arguments):typeof k=="function"?d.bind(null,document).apply(null,arguments):(typeof b=="string"&&(b=document.querySelectorAll(b)),Array.prototype.map.call(b,function(A){return d(A,w,k,C,E)}))},h=function(b,w,k,C){return function(E){E.delegateTarget=f(E.target,w),E.delegateTarget&&C.call(b,E)}},f=r(828);a.exports=c},879:function(a,s){s.node=function(r){return r!==void 0&&_instanceof(r,HTMLElement)&&r.nodeType===1},s.nodeList=function(r){var d=Object.prototype.toString.call(r);return r!==void 0&&(d==="[object NodeList]"||d==="[object HTMLCollection]")&&"length"in r&&(r.length===0||s.node(r[0]))},s.string=function(r){return typeof r=="string"||_instanceof(r,String)},s.fn=function(r){var d=Object.prototype.toString.call(r);return d==="[object Function]"}},370:function(a,s,r){var d=function(k,C,E){if(!k&&!C&&!E)throw new Error("Missing required arguments");if(!v.string(C))throw new TypeError("Second argument must be a String");if(!v.fn(E))throw new TypeError("Third argument must be a Function");if(v.node(k))return c(k,C,E);if(v.nodeList(k))return h(k,C,E);if(v.string(k))return f(k,C,E);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")},c=function(k,C,E){return k.addEventListener(C,E),{destroy:function(){k.removeEventListener(C,E)}}},h=function(k,C,E){return Array.prototype.forEach.call(k,function(A){A.addEventListener(C,E)}),{destroy:function(){Array.prototype.forEach.call(k,function(j){j.removeEventListener(C,E)})}}},f=function(k,C,E){return b(document.body,k,C,E)},v=r(879),b=r(438);a.exports=d},817:function(a){var s=function(d){var c;if(d.nodeName==="SELECT")d.focus(),c=d.value;else if(d.nodeName==="INPUT"||d.nodeName==="TEXTAREA"){var h=d.hasAttribute("readonly");h||d.setAttribute("readonly",""),d.select(),d.setSelectionRange(0,d.value.length),h||d.removeAttribute("readonly"),c=d.value}else{d.hasAttribute("contenteditable")&&d.focus();var f=window.getSelection(),v=document.createRange();v.selectNodeContents(d),f.removeAllRanges(),f.addRange(v),c=f.toString()}return c};a.exports=s},279:function(a){var s=function(){};s.prototype={on:function(d,c,h){var f=this.e||(this.e={});return(f[d]||(f[d]=[])).push({fn:c,ctx:h}),this},once:function(d,c,h){var f=this;function v(){f.off(d,v),c.apply(h,arguments)}return v._=c,this.on(d,v,h)},emit:function(d){var c=[].slice.call(arguments,1),h=((this.e||(this.e={}))[d]||[]).slice(),f=0,v=h.length;for(f;f<v;f++)h[f].fn.apply(h[f].ctx,c);return this},off:function(d,c){var h=this.e||(this.e={}),f=h[d],v=[];if(f&&c)for(var b=0,w=f.length;b<w;b++)f[b].fn!==c&&f[b].fn._!==c&&v.push(f[b]);return v.length?h[d]=v:delete h[d],this}},a.exports=s,a.exports.TinyEmitter=s}},o={};function l(a){if(o[a])return o[a].exports;var s=o[a]={exports:{}};return n[a](s,s.exports,l),s.exports}return function(){l.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return l.d(s,{a:s}),s}}(),function(){l.d=function(a,s){for(var r in s)l.o(s,r)&&!l.o(a,r)&&Object.defineProperty(a,r,{enumerable:!0,get:s[r]})}}(),function(){l.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)}}(),l(686)}().default})}),lv={},v5(lv,{default:function(){return $d}}),g5=av(sv()),m5(lv,av(sv()));var g;tr=g5,g=tr,uv=g.default,y5=Bi(tr,["default"]),$d=uv!==void 0?uv:y5}}),O1=Ht({"https-url:https://esm.archive.org/clipboard":function(){b5(),b5()}}),j1=Ht({"components/setUpCopyableTexts/setUpCopyableTexts.js":function(){O1(),Ai(),X(bT)}}),E1=Ht({"components/disabilityEligibility/disabilityEligibility.js":function(){Ai(),bo(),X(function(){return wT()})}}),w5,T1=Ht({"components/related-music/related-music.js":function(){Ai(),a5(),w5=function(){"use strict";function g(t){_classCallCheck(this,g),this.$relatedTable=t,this.itemIdentifier=this.$relatedTable.data("item_identifier"),this.scrollProximityHandler=new ov("related_music",this.$relatedTable,this.startFetch.bind(this))}return _createClass(g,[{key:"startListener",value:function(){this.scrollProximityHandler.startListener()}},{key:"startFetch",value:function(){var e=this,n,o=(n=this.$relatedTable.find("tbody tr").length)!=null?n:0;return window==null||window.archive_analytics.send_event("related-music","start-fetch",o),new Promise(function(l){var a=e;e.$relatedTable.find("tbody tr").each(function(s,r){var d=X(r).data("filename");a.fetchRelatedMusic(d)}),l()})}},{key:"fetchRelatedMusic",value:function(e){var n=this,o="/services/related-music/?item_identifier=".concat(this.itemIdentifier,"&file_name=").concat(e);X.ajax({url:o,type:"GET",dataType:"json",crossDomain:!0}).then(function(l){n.handleResponse(e,"versions",l.result.versions),n.handleResponse(e,"compilations",l.result.compilations),n.handleResponse(e,"covers",l.result.covers)})}},{key:"handleResponse",value:function(e,n,o){var l=this.$relatedTable.find('tr[data-filename="'.concat(e,'"] .track-').concat(n)),a=l.find(".related-image"),s=l.find(".badge"),r=l.find(".related-album-image"),d=l.find(".img-container");a.removeClass("loading");var c=o?o.length:0,h=c>=50?"50<sup>+</sup>":c;s.html(h),c!==0&&(a.removeClass("empty"),r.attr("src","/services/img/".concat(o[0])),r.on("load",function(){var f=r.width()/r.height();f===4&&d.addClass("is-waveform")}))}}]),g}(),X(function(){var g=X(".related-music-table");if(g.length){var t=new w5(g);setTimeout(function(){t.startListener()},5e3)}X("#related-music-more-info-btn").on("click",function(){return X("#related-music-more-info-content").toggle(),!1}),X(".js-related-music-track-type").on("click",function(e){var n,o,l,a=e.currentTarget,s=(o=(n=a.dataset)==null?void 0:n.trackType)!=null?o:"unknown";(l=window==null?void 0:window.archive_analytics)==null||l.send_event("related-music","track-type-click",s)})})}}),_5,k5,P1=Ht({"components/paramsToJSON/paramsToJSON.js":function(){_5=function(){var g=window.location.search.substring(1),t={};return g.length>0&&g.split("&").forEach(function(e){var n=_slicedToArray(e.split("="),2),o=n[0],l=n[1];t[o]=decodeURIComponent(l)}),t},k5=_5}}),cv=Ht({"components/util/onclick.js":function(){Ai()}}),Ao,I1=Ht({"components/manage/manage.js":function(){bo(),oh(),n5(),cv(),Ai(),Ao=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,null,[{key:"css",value:function(){var e=document.createElement("style");e.textContent="\n#manage-ids {\n  visibility: hidden;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 1px;\n  height: 1px;\n}\n\n#manage-help > div {\n  display: inline-block;\n  font-weight: bold;\n  font-size: 125%;\n  padding-right: 10px;\n}\n\n#manage-help .btn-info {\n  background-color: #777;\n  border-color: #666;\n}\n\n\n#manage-help > p {\n  text-align: center;\n}\n\n.item-ia.manage-item  .item-img {\n  opacity: .8;\n}\n\n.item-ia.manage-item  .item-img:hover {\n  opacity: .9;\n}\n\n.manage-check {\n  position: absolute;\n  right: 0;\n  top: 0;\n  border-style: solid;\n  border-color: black;\n  border-width: 2px 4px;\n  background-color: black;\n  border-radius: 3px;\n}\n\n#confirm-remove-items .btn {\n  display: block;\n  margin: 0 auto 10px;\n}\n\n.task-pending {\n  opacity: .20;\n}\n\n/* Bulk remove items modal */\n#confirm-remove-items .modal-content {\n  padding: 1rem;\n}\n\n#confirm-remove-items h2 {\n  font-size: 2.4rem;\n}\n";var n=document.getElementsByTagName("head")[0];n.appendChild(e)}},{key:"Context",get:function(){return{Favorites:"collection",SearchResults:"search results",Uploads:"uploads",Posts:"posts",Reviews:"reviews",Collections:"collections",Loans:"loans",WebArchives:"web archives"}}},{key:"manage_items",value:function(e){X("body").hasClass("lists")&&X(".tiles-button:visible").click();var n=X("body").hasClass("search-results-page")?g.Context.SearchResults:Or.inTab();if(![g.Context.Favorites,g.Context.Uploads,g.Context.Collections,g.Context.WebArchives,g.Context.SearchResults].includes(n)){alert("Removal feature cannot be used here");return}var o=[".item-ia.new-item"];if(n===g.Context.Uploads||n===g.Context.Collections){var l=window.location.pathname.match(/^\/details\/@([^&/#?]+)/);l&&o.push('.item-ia[data-id="fav-'.concat(l[1],'"]'))}if(X(o.join(", ")).toggleClass("hidden-tiles"),X(".columns-facets").toggleClass("opac30"),X(".item-ia .manage-check").length)X(".item-ia").removeClass("manage-item").unbind("click"),X(".columns-items .co-top-row > div").toggle(),X(".item-ia .manage-check, #manage-help").remove(),X(".item-ia").off("contextmenu");else{if(X("#manage-help").length&&!X(".item-ia .hov").length){X(".item-ia").removeClass("manage-item").unbind("click"),X(".columns-items .co-top-row > div").toggle(),X(".item-ia .manage-check, #manage-help").remove(),X(".item-ia").off("contextmenu");return}var a;switch(n){case g.Context.Favorites:a="Select items to un-favorite";break;case g.Context.SearchResults:a="Select items";break;default:a="Select items to remove"}X(".columns-items .co-top-row").prepend('\n<div id="manage-help" style="display:none">\n  <div>\n    '.concat(a,'\n  </div>\n  <div class="topinblock">\n    <button class="btn btn-small btn-info"\n      onclick="Manage.manage_items()">Cancel</button>\n    <button class="btn btn-small btn-danger"\n      onclick="Manage.remove_items_modal(\'').concat(n,"')\">Remove selected items</button>\n    ").concat(e&&n===g.Context.SearchResults?'\n      <button class="btn btn-small btn-warning"\n        onclick="Manage.to_item_manager()">Item Manager the items</button>\n      ':"","\n  </div>\n    ").concat(e?'\n    <p class="topinblock">\n      <a href="#" onclick="return Manage.toggle_checkboxes()">\n        Toggle</br>all\n      </a>\n    </p>\n    ':"","\n</div>")),X(".columns-items .co-top-row > div").toggle(),X(".item-ia.task-pending").bind("click",g.tile_clicked);var s=X(".item-ia:not(.mobile-header):not(.new-item):not(.task-pending)");s.addClass("manage-item").bind("click",g.tile_clicked).append(g.checkbox(n===g.Context.SearchResults?"include item for item management":"remove this item from list")),X(".item-ia").on("contextmenu",function(r){var d=X(r.target).find("a:first").attr("href")||X(r.target).parents("a").attr("href");Cn("right-click",d),window.open(d,"_blank")})}}},{key:"remove_favorite_item",value:function(e){var n=X(e),o=n.data("id"),l=n.data("fav-collection");if(!(!o||!l)){var a=location.protocol.concat("//",location.host,"/details/",l).concat("?remove_item=".concat(encodeURIComponent(o),"&kind=favorite"));g.toggle_favorite_icon(n,!1),g.update_favorite_count(!1),X.get(a)}}},{key:"checkbox",value:function(e){return'\n<div class="manage-check">\n  <input\n    type="checkbox"\n    alt="'.concat(e,'"\n    title="').concat(e,'"/>\n</div>')}},{key:"tile_clicked",value:function(e){var n=X(e.target);if(n.attr("type")==="checkbox")return!0;e.stopPropagation(),e.preventDefault();var o=n.parents(".item-ia").find(".manage-check input");return o.prop("checked",!o.prop("checked")),!1}},{key:"toggle_checkboxes",value:function(){return X(".manage-check input").prop("checked",function(e,n){return!n}),!1}},{key:"remove_items_modal",value:function(e){var n="";X(".item-ia[data-id]:has(:checked)").each(function(a,s){var r=X(s),d=r.find(".C2 a").text().trim();n+='\n        <div>\n          <div class="pull-right">\n            '.concat(r.find(".pubdate > :first").text(),"\n          </div>\n          <div>\n            ").concat(d.length?d:"[untitled]","\n          </div>\n          <hr/>\n        </div>\n      ")});var o=n===""?"No items selected":"Are you sure you want to remove these items?";if(n==="")n='\n        <div class="alert alert-danger">\n          Please select some items using checkboxes from the prior screen to remove.\n        </div>';else{var l;switch(e){case g.Context.Favorites:l="confirmed_remove_favorites";break;case g.Context.WebArchives:l="confirmed_remove_web_archives";break;default:l="confirmed_dark_items"}n+='\n        <button class="btn btn-small btn-danger"\n          onclick="Manage.'.concat(l,'()">\n          Remove items\n        </button>')}Or.modal_add(g.modalID,{title:o,body:n,headerClass:""}).modal("show")}},{key:"checked_ids",value:function(){return X(".item-ia[data-id]:has(:checked)").toArray().reduce(function(e,n){var o=X(n).data().id;return e.concat(e?",":"",o)},"")}},{key:"checked_ids_json",value:function(){var e=X(".item-ia[data-id]:has(:checked)").toArray().map(function(n){return X(n).data().id});return JSON.stringify(e)}},{key:"to_item_manager",value:function(){var e=g.checked_ids();if(Cn("to_item_manager:",e),e!==""){var n=X('\n        <form id="manage-ids" method="POST" action="/manage/">\n          <input type="text" name="identifier" value="'.concat(e,'"/>\n        </form>'));X("body").append(n),n.submit()}return!1}},{key:"confirmed_remove_web_archives",value:function(){var e={action:"delete",identifiers:g.checked_ids_json()};X.ajax({type:"POST",url:"/services/web-archives/service.php",data:e,error:function(n,o,l){alert("Unable to complete the request. Our servers might be busy. Please try again later."),X(g.modalID).modal("hide")},success:g.update_tiles})}},{key:"confirmed_dark_items",value:function(){var e={identifier:g.checked_ids(),admin:"make_dark","curation[state]":"dark","curation[comment]":"from ".concat(location.pathname)};X.post("/manage/",e,g.update_tiles)}},{key:"confirmed_remove_favorites",value:function(){var e=g.checked_ids(),n=location.href.replace(/#.*$/,"").concat("?kind=favorite&remove_item=".concat(encodeURIComponent(e)));return X.get(n,g.update_tiles),!1}},{key:"update_tiles",value:function(){X(".item-ia[data-id]:has(:checked)").remove(),Or.tiler(),X(g.modalID).modal("hide")}},{key:"decorate_pendings",value:function(e){e.length&&(Cn("pending",e),e.forEach(function(n){return X(".item-ia[data-id=".concat(n,"]")).addClass("task-pending")}))}},{key:"toggle_list_status",value:function(e){return X(e).hasClass("favorited")?g.remove_favorite_item(e,!0):Or.modal_go(e,{favorite:1}),!1}},{key:"toggle_favorite_icon",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,o=X(e).find("span.icon-label");e.length&&(e.find("span:eq(0)").toggleClass("iconochive-No_Favorite iconochive-favorite"),n?(e.addClass("favorited"),e.attr({"data-original-title":"Unfavorite"}),o.text("Unfavorite")):(e.removeClass("favorited"),e.attr({"data-original-title":"Favorite"}),o.text("Favorite")))}},{key:"update_favorite_count",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=X(".favorite-count"),o=n.find(".item-stats-summary__label"),l=n.find(".item-stats-summary__count");l.length||(l=document.createElement("span"),l.className="item-stats-summary__count",n.append(l),o=document.createElement("span"),o.className="item-stats-summary__label",n.append(o));var a=Number(X(l).text().trim().replace(/,/g,""));e?a+=1:a-=1,X(o).text(a===1?" Favorite":" Favorites"),X(l).text(a.toLocaleString())}}]),g}(),X(function(){if(window.location.hostname!=="web.archive.org"){Ao.modalID="#confirm-remove-items",Ao.css(),X("body").hasClass("manage")&&Ao.manage_items(1);var g=X(".js-manage-toggle_list_status");g.length&&g.bind("click",function(t){t.preventDefault(),Ao.toggle_list_status(g[0])}),mi(".js-search-bar-manage",function(t){return Ao.manage_items(1)})}}),window.Manage=Ao}}),x5,M1=Ht({"components/nav/banners.js":function(){x5={namespace:"banners",action:"ia-banner-close",selector:".ia-banner",dismiss:function(t){t.preventDefault();var e=t.currentTarget.closest(this.selector);this.isLocalStorageAvailable()&&this.writeStorage(e.getAttribute("data-campaign")),e.remove()},readStorage:function(){return JSON.parse(localStorage.getItem(this.namespace))||[]},writeStorage:function(t){var e=this.readStorage();localStorage.setItem(this.namespace,JSON.stringify(_toConsumableArray(e).concat([t])))},bindEvents:function(){var t=this;document.querySelectorAll("".concat(this.selector," [data-action=").concat(this.action,"]")).forEach(function(e){var n=t;e.addEventListener("submit",function(o){return n.dismiss(o),!1})})},checkVisibility:function(){var t=this.isLocalStorageAvailable()?this.readStorage():[];document.querySelectorAll(this.selector).forEach(function(e){e.classList.toggle("visible",!t.includes(e.getAttribute("data-campaign")))})},isLocalStorageAvailable:function(){try{return Object.keys(localStorage).length>=0}catch(t){return!1}},init:function(){this.bindEvents(),this.checkVisibility()}}}}),S5=Ht({"components/util/cgiarg.js":function(){}}),C5=Ht({"components/util/add_commas.js":function(){}}),A5,L1=Ht({"components/login/loginModal.js":function(){ka(),Ai(),oh(),A5=function(g){var t=g.$form,e=g.url,n=g.selector,o=g.element,l=g.conf,a={success:function(r){ui.get("logged-in-user")!==void 0?(X(n).on("hidden.bs.modal",function(){X(n).remove(),Or.modal_go(o,bi(Zr({},l),{postLogin:!0}))}),X(document.body).removeClass("blurry"),X(n).modal("hide")):r.status!=="ok"&&(r.status==="bad_login"&&X(".reset-password").hide(),X(".password-error").html(r.message))},error:function(r){var d=r.responseJSON;X(".reset-password").hide(),d?X(".password-error").html(d.message):X(".password-error").text("Whoops! Something didn't work quite right. Please try again in a bit.")}};t.on("submit",function(){var s={},r=a.success,d=a.error;return t.find("input").each(function(c,h){X(h).attr("name").length&&(s[X(h).attr("name")]=X(h).val())}),s.submit_by_js="true",t.find(".alert").remove(),X.ajax(e,{type:"POST",data:s,success:r,error:d}),!1})}}}),dv,R1=Ht({"components/geo/geo.js":function(){Ai(),C5(),i5(),dv=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,null,[{key:"RegionsTable",value:function(e){var n=e.caption,o=n===void 0?"Regions":n,l=e.captionClass,a=l===void 0?"":l,s=e.counts,r=s===void 0?[]:s;return'\n      <table class="stats-table">\n        <caption class="'.concat(a,'">').concat(o,'</caption>\n\n        <thead>\n          <tr>\n            <th scope="col">Region</th>\n            <th scope="col">Country</th>\n            <th class="stats-table__numeric-column" scope="col">Views</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          ').concat(r.map(function(d){return'\n            <tr key="'.concat(d.state.code,"_").concat(d.country.code,"_").concat(d.count,'">\n              <td>').concat(d.state.formattedName,"</td>\n              <td>").concat(d.country.formattedName,'</td>\n              <td class="stats-table__numeric-column">').concat(d.formattedCount,"</td>\n            </tr>")}).join(""),"\n        </tbody>\n      </table>")}},{key:"setUpTopRegionsTable",value:function(){var e=X(".js-top-regions-table"),n=e.find(".js-top-regions-message"),o=n.text();if(!(!e||!n)){n.html(Md.LoadingMessage({message:"loading data"}));var l={uaKinds:["non_robot","unrecognized"]};e.data("days")&&(l.days=parseInt(e.data("days"),10)),e.data("limit")&&(l.limit=parseInt(e.data("limit"),10)),g.StatsApiClient.getGeoCounts(e.data("identifier"),l).then(function(a){e.html(g.RegionsTable({caption:e.data("caption"),captionClass:e.data("captionClass"),counts:a}))},function(){n.text(o)})}}}]),g}(),function(){var t=function(r){return r.charAt(0).toUpperCase()+r.slice(1)},e=function(r){return new l({count:r.sum_count_value,country:new o({code:r.geo_country,name:r.country}),state:new o({code:r.geo_state,name:r.state})})},n=function(r){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=d.uaKinds,h=c===void 0?["robot","non_robot","unrecognized"]:c;if(!r.counts_geo)throw new RangeError("API response doesn't contain property 'counts_geo'.");function f(C){return h.indexOf(C)!==-1}for(var v={},b=0;b<r.counts_geo.length;b++){var w=r.counts_geo[b];if(f(w.ua_kind)&&w.country!=="unknown"){var k="".concat(w.geo_country,"_").concat(w.geo_state);v[k]?v[k].count+=w.sum_count_value:v[k]=e(w)}}return Object.keys(v).map(function(C){return v[C]})},o=function(){"use strict";function s(r){var d=r.code,c=r.name;_classCallCheck(this,s),this.code=d,this.name=c}return _createClass(s,[{key:"formattedName",get:function(){return t(this.name)}}]),s}(),l=function(){"use strict";function s(r){var d=r.count,c=r.country,h=r.state;_classCallCheck(this,s),this.count=parseInt(d,10),this.country=c,this.state=h}return _createClass(s,[{key:"formattedCount",get:function(){return ga(this.count)}}]),s}(),a="https://be-api.us.archive.org/views/v1";dv.StatsApiClient=function(){"use strict";function s(){_classCallCheck(this,s)}return _createClass(s,null,[{key:"getGeoCounts",value:function(d){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=c.days,f=h===void 0?30:h,v=c.limit,b=v===void 0?100:v,w=c.uaKinds,k=w===void 0?["robot","non_robot","unrecognized"]:w,C="".concat(a,"/detail/collection/").concat(d,"/").concat(f);return X.get(C).then(function(E){try{return n(E,{uaKinds:k}).sort(function(A,j){return A.count<j.count?1:-1}).slice(0,b)}catch(A){return X.Deferred().reject(A)}})}}]),s}()}()}}),O5,Nd,j5,E5,T5,P5,I5,M5,Bd,L5,hv,fv,pv,R5,tr,vv,D5,mv,$5=Ht({"https-url:https://esm.archive.org/v135/jqueryui@1.11.1/esnext/jquery-ui.min.js":function(){O5=Object.create,Nd=Object.defineProperty,j5=Object.getOwnPropertyDescriptor,E5=Object.getOwnPropertyNames,T5=Object.getPrototypeOf,P5=Object.prototype.hasOwnProperty,I5=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},M5=function(t,e){for(var n in e)Nd(t,n,{get:e[n],enumerable:!0})},Bd=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!P5.call(t,v)&&v!==n&&Nd(t,v,{get:function(){return e[v]},enumerable:!(o=j5(e,v))||o.enumerable})},d=E5(e)[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0)r(d,c)}catch(h){a=!0,s=h}finally{try{!l&&d.return!=null&&d.return()}finally{if(a)throw s}}return t},L5=function(t,e,n){return Bd(t,e,"default"),n&&Bd(n,e,"default")},hv=function(t,e,n){return n=t!=null?O5(T5(t)):{},Bd(e||!t||!t.__esModule?Nd(n,"default",{value:t,enumerable:!0}):n,t)},fv=I5(function(){(function(t){typeof define=="function"&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){var e=function(u,p){var m,_,x,O=u.nodeName.toLowerCase();return O==="area"?(m=u.parentNode,_=m.name,u.href&&_&&m.nodeName.toLowerCase()==="map"?(x=t("img[usemap='#"+_+"']")[0],!!x&&n(x)):!1):(/input|select|textarea|button|object/.test(O)?!u.disabled:O==="a"&&u.href||p)&&n(u)},n=function(u){return t.expr.filters.visible(u)&&!t(u).parents().addBack().filter(function(){return t.css(this,"visibility")==="hidden"}).length},o=function(u){for(var p,m;u.length&&u[0]!==document;){if(p=u.css("position"),(p==="absolute"||p==="relative"||p==="fixed")&&(m=parseInt(u.css("zIndex"),10),!isNaN(m)&&m!==0))return m;u=u.parent()}return 0},l=function(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=a(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))},a=function(u){var p="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return u.delegate(p,"mouseout",function(){t(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&t(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(p,"mouseover",s)},s=function(){t.datepicker._isDisabledDatepicker(E.inline?E.dpDiv.parent()[0]:E.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&t(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&t(this).addClass("ui-datepicker-next-hover"))},r=function(u,p){t.extend(u,p);for(var m in p)p[m]==null&&(u[m]=p[m]);return u},d=function(u){return function(){var p=this.element.val();u.apply(this,arguments),this._refresh(),p!==this.element.val()&&this._trigger("change")}};t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(u){var p=this.css("position"),m=p==="absolute",_=u?/(auto|scroll|hidden)/:/(auto|scroll)/,x=this.parents().filter(function(){var O=t(this);return m&&O.css("position")==="static"?!1:_.test(O.css("overflow")+O.css("overflow-y")+O.css("overflow-x"))}).eq(0);return p!=="fixed"&&x.length?x:t(this[0].ownerDocument||document)},uniqueId:function(){var y=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++y)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(y){return function(u){return!!t.data(u,y)}}):function(y,u,p){return!!t.data(y,p[3])},focusable:function(u){return e(u,!isNaN(t.attr(u,"tabindex")))},tabbable:function(u){var p=t.attr(u,"tabindex"),m=isNaN(p);return(m||p>=0)&&e(u,!m)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(y,u){var p=function(I,P,D,V){return t.each(m,function(){P-=parseFloat(t.css(I,"padding"+this))||0,D&&(P-=parseFloat(t.css(I,"border"+this+"Width"))||0),V&&(P-=parseFloat(t.css(I,"margin"+this))||0)}),P},m=u==="Width"?["Left","Right"]:["Top","Bottom"],_=u.toLowerCase(),x={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+u]=function(O){return O===void 0?x["inner"+u].call(this):this.each(function(){t(this).css(_,p(this,O)+"px")})},t.fn["outer"+u]=function(O,I){return typeof O!="number"?x["outer"+u].call(this,O):this.each(function(){t(this).css(_,p(this,O,!0,I)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(y){return this.add(y==null?this.prevObject:this.prevObject.filter(y))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(y){return function(u){return arguments.length?y.call(this,t.camelCase(u)):y.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(y){return function(u,p){return typeof u=="number"?this.each(function(){var m=this;setTimeout(function(){t(m).focus(),p&&p.call(m)},u)}):y.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var y="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(y+".ui-disableSelection",function(u){u.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(u){if(u!==void 0)return this.css("zIndex",u);if(this.length)for(var p,m,_=t(this[0]);_.length&&_[0]!==document;){if(p=_.css("position"),(p==="absolute"||p==="relative"||p==="fixed")&&(m=parseInt(_.css("zIndex"),10),!isNaN(m)&&m!==0))return m;_=_.parent()}return 0}}),t.ui.plugin={add:function(u,p,m){var _,x=t.ui[u].prototype;for(_ in m)x.plugins[_]=x.plugins[_]||[],x.plugins[_].push([p,m[_]])},call:function(u,p,m,_){var x,O=u.plugins[p];if(O&&(_||u.element[0].parentNode&&u.element[0].parentNode.nodeType!==11))for(x=0;O.length>x;x++)u.options[O[x][0]]&&O[x][1].apply(u.element,m)}};var c=0,h=Array.prototype.slice;t.cleanData=function(y){return function(u){var p,m,_;for(_=0;(m=u[_])!=null;_++)try{p=t._data(m,"events"),p&&p.remove&&t(m).triggerHandler("remove")}catch(x){}y(u)}}(t.cleanData),t.widget=function(y,u,p){var m,_,x,O,I={},P=y.split(".")[0];return y=y.split(".")[1],m=P+"-"+y,p||(p=u,u=t.Widget),t.expr[":"][m.toLowerCase()]=function(D){return!!t.data(D,m)},t[P]=t[P]||{},_=t[P][y],x=t[P][y]=function(D,V){return this._createWidget?(arguments.length&&this._createWidget(D,V),void 0):new x(D,V)},t.extend(x,_,{version:p.version,_proto:t.extend({},p),_childConstructors:[]}),O=new u,O.options=t.widget.extend({},O.options),t.each(p,function(D,V){return t.isFunction(V)?(I[D]=function(){var q=function(){return u.prototype[D].apply(this,arguments)},z=function(Y){return u.prototype[D].apply(this,Y)};return function(){var he,Y=this._super,B=this._superApply;return this._super=q,this._superApply=z,he=V.apply(this,arguments),this._super=Y,this._superApply=B,he}}(),void 0):(I[D]=V,void 0)}),x.prototype=t.widget.extend(O,{widgetEventPrefix:_&&O.widgetEventPrefix||y},I,{constructor:x,namespace:P,widgetName:y,widgetFullName:m}),_?(t.each(_._childConstructors,function(D,V){var q=V.prototype;t.widget(q.namespace+"."+q.widgetName,x,V._proto)}),delete _._childConstructors):u._childConstructors.push(x),t.widget.bridge(y,x),x},t.widget.extend=function(y){for(var u,p,m=h.call(arguments,1),_=0,x=m.length;x>_;_++)for(u in m[_])p=m[_][u],m[_].hasOwnProperty(u)&&p!==void 0&&(y[u]=t.isPlainObject(p)?t.isPlainObject(y[u])?t.widget.extend({},y[u],p):t.widget.extend({},p):p);return y},t.widget.bridge=function(y,u){var p=u.prototype.widgetFullName||y;t.fn[y]=function(m){var _=typeof m=="string",x=h.call(arguments,1),O=this;return m=!_&&x.length?t.widget.extend.apply(null,[m].concat(x)):m,_?this.each(function(){var I,P=t.data(this,p);return m==="instance"?(O=P,!1):P?t.isFunction(P[m])&&m.charAt(0)!=="_"?(I=P[m].apply(P,x),I!==P&&I!==void 0?(O=I&&I.jquery?O.pushStack(I.get()):I,!1):void 0):t.error("no such method '"+m+"' for "+y+" widget instance"):t.error("cannot call methods on "+y+" prior to initialization; attempted to call method '"+m+"'")}):this.each(function(){var I=t.data(this,p);I?(I.option(m||{}),I._init&&I._init()):t.data(this,p,new u(m,this))}),O}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(u,p){p=t(p||this.defaultElement||this)[0],this.element=t(p),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),u),this.bindings=t(),this.hoverable=t(),this.focusable=t(),p!==this&&(t.data(p,this.widgetFullName,this),this._on(!0,this.element,{remove:function(_){_.target===p&&this.destroy()}}),this.document=t(p.style?p.ownerDocument:p.document||p),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(u,p){var m,_,x,O=u;if(arguments.length===0)return t.widget.extend({},this.options);if(typeof u=="string")if(O={},m=u.split("."),u=m.shift(),m.length){for(_=O[u]=t.widget.extend({},this.options[u]),x=0;m.length-1>x;x++)_[m[x]]=_[m[x]]||{},_=_[m[x]];if(u=m.pop(),arguments.length===1)return _[u]===void 0?null:_[u];_[u]=p}else{if(arguments.length===1)return this.options[u]===void 0?null:this.options[u];O[u]=p}return this._setOptions(O),this},_setOptions:function(u){var p;for(p in u)this._setOption(p,u[p]);return this},_setOption:function(u,p){return this.options[u]=p,u==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!p),p&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(u,p,m){var _,x=this;typeof u!="boolean"&&(m=p,p=u,u=!1),m?(p=_=t(p),this.bindings=this.bindings.add(p)):(m=p,p=this.element,_=this.widget()),t.each(m,function(O,I){var P=function(){return u||x.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?(typeof I=="string"?x[I]:I).apply(x,arguments):void 0};typeof I!="string"&&(P.guid=I.guid=I.guid||P.guid||t.guid++);var D=O.match(/^([\w:-]*)\s*(.*)$/),V=D[1]+x.eventNamespace,q=D[2];q?_.delegate(q,V,P):p.bind(V,P)})},_off:function(u,p){p=(p||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,u.unbind(p).undelegate(p)},_delay:function(u,p){var m=function(){return(typeof u=="string"?_[u]:u).apply(_,arguments)},_=this;return setTimeout(m,p||0)},_hoverable:function(u){this.hoverable=this.hoverable.add(u),this._on(u,{mouseenter:function(m){t(m.currentTarget).addClass("ui-state-hover")},mouseleave:function(m){t(m.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(u){this.focusable=this.focusable.add(u),this._on(u,{focusin:function(m){t(m.currentTarget).addClass("ui-state-focus")},focusout:function(m){t(m.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(u,p,m){var _,x,O=this.options[u];if(m=m||{},p=t.Event(p),p.type=(u===this.widgetEventPrefix?u:this.widgetEventPrefix+u).toLowerCase(),p.target=this.element[0],x=p.originalEvent)for(_ in x)_ in p||(p[_]=x[_]);return this.element.trigger(p,m),!(t.isFunction(O)&&O.apply(this.element[0],[p].concat(m))===!1||p.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(y,u){t.Widget.prototype["_"+y]=function(p,m,_){typeof m=="string"&&(m={effect:m});var x,O=m?m===!0||typeof m=="number"?u:m.effect||u:y;m=m||{},typeof m=="number"&&(m={duration:m}),x=!t.isEmptyObject(m),m.complete=_,m.delay&&p.delay(m.delay),x&&t.effects&&t.effects.effect[O]?p[y](m):O!==y&&p[O]?p[O](m.duration,m.easing,_):p.queue(function(I){t(this)[y](),_&&_.call(p[0]),I()})}}),t.widget;var f=!1;t(document).mouseup(function(){f=!1}),t.widget("ui.mouse",{version:"1.11.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var u=this;this.element.bind("mousedown."+this.widgetName,function(p){return u._mouseDown(p)}).bind("click."+this.widgetName,function(p){return t.data(p.target,u.widgetName+".preventClickEvent")===!0?(t.removeData(p.target,u.widgetName+".preventClickEvent"),p.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(u){if(!f){this._mouseStarted&&this._mouseUp(u),this._mouseDownEvent=u;var p=this,m=u.which===1,_=typeof this.options.cancel=="string"&&u.target.nodeName?t(u.target).closest(this.options.cancel).length:!1;return m&&!_&&this._mouseCapture(u)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){p.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(u)&&this._mouseDelayMet(u)&&(this._mouseStarted=this._mouseStart(u)!==!1,!this._mouseStarted)?(u.preventDefault(),!0):(t.data(u.target,this.widgetName+".preventClickEvent")===!0&&t.removeData(u.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(x){return p._mouseMove(x)},this._mouseUpDelegate=function(x){return p._mouseUp(x)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),u.preventDefault(),f=!0,!0)):!0}},_mouseMove:function(u){return t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!u.button?this._mouseUp(u):u.which?this._mouseStarted?(this._mouseDrag(u),u.preventDefault()):(this._mouseDistanceMet(u)&&this._mouseDelayMet(u)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,u)!==!1,this._mouseStarted?this._mouseDrag(u):this._mouseUp(u)),!this._mouseStarted):this._mouseUp(u)},_mouseUp:function(u){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,u.target===this._mouseDownEvent.target&&t.data(u.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(u)),f=!1,!1},_mouseDistanceMet:function(u){return Math.max(Math.abs(this._mouseDownEvent.pageX-u.pageX),Math.abs(this._mouseDownEvent.pageY-u.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){var y=function(B,F,ce){return[parseFloat(B[0])*(z.test(B[0])?F/100:1),parseFloat(B[1])*(z.test(B[1])?ce/100:1)]},u=function(B,F){return parseInt(t.css(B,F),10)||0},p=function(B){var F=B[0];return F.nodeType===9?{width:B.width(),height:B.height(),offset:{top:0,left:0}}:t.isWindow(F)?{width:B.width(),height:B.height(),offset:{top:B.scrollTop(),left:B.scrollLeft()}}:F.preventDefault?{width:0,height:0,offset:{top:F.pageY,left:F.pageX}}:{width:B.outerWidth(),height:B.outerHeight(),offset:B.offset()}};t.ui=t.ui||{};var m,_,x=Math.max,O=Math.abs,I=Math.round,P=/left|center|right/,D=/top|center|bottom/,V=/[\+\-]\d+(\.[\d]+)?%?/,q=/^\w+/,z=/%$/,he=t.fn.position;t.position={scrollbarWidth:function(){if(m!==void 0)return m;var B,F,ce=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),J=ce.children()[0];return t("body").append(ce),B=J.offsetWidth,ce.css("overflow","scroll"),F=J.offsetWidth,B===F&&(F=ce[0].clientWidth),ce.remove(),m=B-F},getScrollInfo:function(B){var F=B.isWindow||B.isDocument?"":B.element.css("overflow-x"),ce=B.isWindow||B.isDocument?"":B.element.css("overflow-y"),J=F==="scroll"||F==="auto"&&B.width<B.element[0].scrollWidth,ae=ce==="scroll"||ce==="auto"&&B.height<B.element[0].scrollHeight;return{width:ae?t.position.scrollbarWidth():0,height:J?t.position.scrollbarWidth():0}},getWithinInfo:function(B){var F=t(B||window),ce=t.isWindow(F[0]),J=!!F[0]&&F[0].nodeType===9;return{element:F,isWindow:ce,isDocument:J,offset:F.offset()||{left:0,top:0},scrollLeft:F.scrollLeft(),scrollTop:F.scrollTop(),width:ce||J?F.width():F.outerWidth(),height:ce||J?F.height():F.outerHeight()}}},t.fn.position=function(Y){if(!Y||!Y.of)return he.apply(this,arguments);Y=t.extend({},Y);var B,F,ce,J,ae,se,ve=t(Y.of),de=t.position.getWithinInfo(Y.within),Be=t.position.getScrollInfo(de),it=(Y.collision||"flip").split(" "),mt={};return se=p(ve),ve[0].preventDefault&&(Y.at="left top"),F=se.width,ce=se.height,J=se.offset,ae=t.extend({},J),t.each(["my","at"],function(){var ot,Ae,xe=(Y[this]||"").split(" ");xe.length===1&&(xe=P.test(xe[0])?xe.concat(["center"]):D.test(xe[0])?["center"].concat(xe):["center","center"]),xe[0]=P.test(xe[0])?xe[0]:"center",xe[1]=D.test(xe[1])?xe[1]:"center",ot=V.exec(xe[0]),Ae=V.exec(xe[1]),mt[this]=[ot?ot[0]:0,Ae?Ae[0]:0],Y[this]=[q.exec(xe[0])[0],q.exec(xe[1])[0]]}),it.length===1&&(it[1]=it[0]),Y.at[0]==="right"?ae.left+=F:Y.at[0]==="center"&&(ae.left+=F/2),Y.at[1]==="bottom"?ae.top+=ce:Y.at[1]==="center"&&(ae.top+=ce/2),B=y(mt.at,F,ce),ae.left+=B[0],ae.top+=B[1],this.each(function(){var ot,Ae,xe=t(this),De=xe.outerWidth(),et=xe.outerHeight(),Ve=u(this,"marginLeft"),je=u(this,"marginTop"),He=De+Ve+u(this,"marginRight")+Be.width,qe=et+je+u(this,"marginBottom")+Be.height,lt=t.extend({},ae),_t=y(mt.my,xe.outerWidth(),xe.outerHeight());Y.my[0]==="right"?lt.left-=De:Y.my[0]==="center"&&(lt.left-=De/2),Y.my[1]==="bottom"?lt.top-=et:Y.my[1]==="center"&&(lt.top-=et/2),lt.left+=_t[0],lt.top+=_t[1],_||(lt.left=I(lt.left),lt.top=I(lt.top)),ot={marginLeft:Ve,marginTop:je},t.each(["left","top"],function(be,ze){t.ui.position[it[be]]&&t.ui.position[it[be]][ze](lt,{targetWidth:F,targetHeight:ce,elemWidth:De,elemHeight:et,collisionPosition:ot,collisionWidth:He,collisionHeight:qe,offset:[B[0]+_t[0],B[1]+_t[1]],my:Y.my,at:Y.at,within:de,elem:xe})}),Y.using&&(Ae=function(ze){var Re=J.left-lt.left,$e=Re+F-De,Ye=J.top-lt.top,We=Ye+ce-et,Ct={target:{element:ve,left:J.left,top:J.top,width:F,height:ce},element:{element:xe,left:lt.left,top:lt.top,width:De,height:et},horizontal:0>$e?"left":Re>0?"right":"center",vertical:0>We?"top":Ye>0?"bottom":"middle"};De>F&&F>O(Re+$e)&&(Ct.horizontal="center"),et>ce&&ce>O(Ye+We)&&(Ct.vertical="middle"),Ct.important=x(O(Re),O($e))>x(O(Ye),O(We))?"horizontal":"vertical",Y.using.call(this,ze,Ct)}),xe.offset(t.extend(lt,{using:Ae}))})},t.ui.position={fit:{left:function(B,F){var ce,J=F.within,ae=J.isWindow?J.scrollLeft:J.offset.left,se=J.width,ve=B.left-F.collisionPosition.marginLeft,de=ae-ve,Be=ve+F.collisionWidth-se-ae;F.collisionWidth>se?de>0&&0>=Be?(ce=B.left+de+F.collisionWidth-se-ae,B.left+=de-ce):B.left=Be>0&&0>=de?ae:de>Be?ae+se-F.collisionWidth:ae:de>0?B.left+=de:Be>0?B.left-=Be:B.left=x(B.left-ve,B.left)},top:function(B,F){var ce,J=F.within,ae=J.isWindow?J.scrollTop:J.offset.top,se=F.within.height,ve=B.top-F.collisionPosition.marginTop,de=ae-ve,Be=ve+F.collisionHeight-se-ae;F.collisionHeight>se?de>0&&0>=Be?(ce=B.top+de+F.collisionHeight-se-ae,B.top+=de-ce):B.top=Be>0&&0>=de?ae:de>Be?ae+se-F.collisionHeight:ae:de>0?B.top+=de:Be>0?B.top-=Be:B.top=x(B.top-ve,B.top)}},flip:{left:function(B,F){var ce,J,ae=F.within,se=ae.offset.left+ae.scrollLeft,ve=ae.width,de=ae.isWindow?ae.scrollLeft:ae.offset.left,Be=B.left-F.collisionPosition.marginLeft,it=Be-de,mt=Be+F.collisionWidth-ve-de,ot=F.my[0]==="left"?-F.elemWidth:F.my[0]==="right"?F.elemWidth:0,Ae=F.at[0]==="left"?F.targetWidth:F.at[0]==="right"?-F.targetWidth:0,xe=-2*F.offset[0];0>it?(ce=B.left+ot+Ae+xe+F.collisionWidth-ve-se,(0>ce||O(it)>ce)&&(B.left+=ot+Ae+xe)):mt>0&&(J=B.left-F.collisionPosition.marginLeft+ot+Ae+xe-de,(J>0||mt>O(J))&&(B.left+=ot+Ae+xe))},top:function(B,F){var ce,J,ae=F.within,se=ae.offset.top+ae.scrollTop,ve=ae.height,de=ae.isWindow?ae.scrollTop:ae.offset.top,Be=B.top-F.collisionPosition.marginTop,it=Be-de,mt=Be+F.collisionHeight-ve-de,ot=F.my[1]==="top",Ae=ot?-F.elemHeight:F.my[1]==="bottom"?F.elemHeight:0,xe=F.at[1]==="top"?F.targetHeight:F.at[1]==="bottom"?-F.targetHeight:0,De=-2*F.offset[1];0>it?(J=B.top+Ae+xe+De+F.collisionHeight-ve-se,B.top+Ae+xe+De>it&&(0>J||O(it)>J)&&(B.top+=Ae+xe+De)):mt>0&&(ce=B.top-F.collisionPosition.marginTop+Ae+xe+De-de,B.top+Ae+xe+De>mt&&(ce>0||mt>O(ce))&&(B.top+=Ae+xe+De))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var Y,B,F,ce,J,ae=document.getElementsByTagName("body")[0],se=document.createElement("div");Y=document.createElement(ae?"div":"body"),F={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},ae&&t.extend(F,{position:"absolute",left:"-1000px",top:"-1000px"});for(J in F)Y.style[J]=F[J];Y.appendChild(se),B=ae||document.documentElement,B.insertBefore(Y,B.firstChild),se.style.cssText="position: absolute; left: 10.7432222px;",ce=t(se).offset().left,_=ce>10&&11>ce,Y.innerHTML="",B.removeChild(Y)}()}(),t.ui.position,t.widget("ui.accordion",{version:"1.11.1",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var u=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),u.collapsible||u.active!==!1&&u.active!=null||(u.active=0),this._processPanels(),0>u.active&&(u.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var u=this.options.icons;u&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+u.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(u.header).addClass(u.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var u;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),u=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),this.options.heightStyle!=="content"&&u.css("height","")},_setOption:function(u,p){return u==="active"?(this._activate(p),void 0):(u==="event"&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(p)),this._super(u,p),u!=="collapsible"||p||this.options.active!==!1||this._activate(0),u==="icons"&&(this._destroyIcons(),p&&this._createIcons()),u==="disabled"&&(this.element.toggleClass("ui-state-disabled",!!p).attr("aria-disabled",p),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!p)),void 0)},_keydown:function(u){if(!u.altKey&&!u.ctrlKey){var p=t.ui.keyCode,m=this.headers.length,_=this.headers.index(u.target),x=!1;switch(u.keyCode){case p.RIGHT:case p.DOWN:x=this.headers[(_+1)%m];break;case p.LEFT:case p.UP:x=this.headers[(_-1+m)%m];break;case p.SPACE:case p.ENTER:this._eventHandler(u);break;case p.HOME:x=this.headers[0];break;case p.END:x=this.headers[m-1]}x&&(t(u.target).attr("tabIndex",-1),t(x).attr("tabIndex",0),x.focus(),u.preventDefault())}},_panelKeyDown:function(u){u.keyCode===t.ui.keyCode.UP&&u.ctrlKey&&t(u.currentTarget).prev().focus()},refresh:function(){var u=this.options;this._processPanels(),u.active===!1&&u.collapsible===!0||!this.headers.length?(u.active=!1,this.active=t()):u.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(u.active=!1,this.active=t()):this._activate(Math.max(0,u.active-1)):u.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var u,p=this.options,m=p.heightStyle,_=this.element.parent();this.active=this._findActive(p.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var x=t(this),O=x.uniqueId().attr("id"),I=x.next(),P=I.uniqueId().attr("id");x.attr("aria-controls",P),I.attr("aria-labelledby",O)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(p.event),m==="fill"?(u=_.height(),this.element.siblings(":visible").each(function(){var x=t(this),O=x.css("position");O!=="absolute"&&O!=="fixed"&&(u-=x.outerHeight(!0))}),this.headers.each(function(){u-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,u-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):m==="auto"&&(u=0,this.headers.next().each(function(){u=Math.max(u,t(this).css("height","").height())}).height(u))},_activate:function(u){var p=this._findActive(u)[0];p!==this.active[0]&&(p=p||this.active[0],this._eventHandler({target:p,currentTarget:p,preventDefault:t.noop}))},_findActive:function(u){return typeof u=="number"?this.headers.eq(u):t()},_setupEvents:function(u){var p={keydown:"_keydown"};u&&t.each(u.split(" "),function(m,_){p[_]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,p),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(u){var p=this.options,m=this.active,_=t(u.currentTarget),x=_[0]===m[0],O=x&&p.collapsible,I=O?t():_.next(),P=m.next(),D={oldHeader:m,oldPanel:P,newHeader:O?t():_,newPanel:I};u.preventDefault(),x&&!p.collapsible||this._trigger("beforeActivate",u,D)===!1||(p.active=O?!1:this.headers.index(_),this.active=x?t():_,this._toggle(D),m.removeClass("ui-accordion-header-active ui-state-active"),p.icons&&m.children(".ui-accordion-header-icon").removeClass(p.icons.activeHeader).addClass(p.icons.header),x||(_.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),p.icons&&_.children(".ui-accordion-header-icon").removeClass(p.icons.header).addClass(p.icons.activeHeader),_.next().addClass("ui-accordion-content-active")))},_toggle:function(u){var p=u.newPanel,m=this.prevShow.length?this.prevShow:u.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=p,this.prevHide=m,this.options.animate?this._animate(p,m,u):(m.hide(),p.show(),this._toggleComplete(u)),m.attr({"aria-hidden":"true"}),m.prev().attr("aria-selected","false"),p.length&&m.length?m.prev().attr({tabIndex:-1,"aria-expanded":"false"}):p.length&&this.headers.filter(function(){return t(this).attr("tabIndex")===0}).attr("tabIndex",-1),p.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(u,p,m){var _,x,O,I=this,P=0,D=u.length&&(!p.length||u.index()<p.index()),V=this.options.animate||{},q=D&&V.down||V,z=function(){I._toggleComplete(m)};return typeof q=="number"&&(O=q),typeof q=="string"&&(x=q),x=x||q.easing||V.easing,O=O||q.duration||V.duration,p.length?u.length?(_=u.show().outerHeight(),p.animate(this.hideProps,{duration:O,easing:x,step:function(Y,B){B.now=Math.round(Y)}}),u.hide().animate(this.showProps,{duration:O,easing:x,complete:z,step:function(Y,B){B.now=Math.round(Y),B.prop!=="height"?P+=B.now:I.options.heightStyle!=="content"&&(B.now=Math.round(_-p.outerHeight()-P),P=0)}}),void 0):p.animate(this.hideProps,O,x,z):u.animate(this.showProps,O,x,z)},_toggleComplete:function(u){var p=u.oldPanel;p.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),p.length&&(p.parent()[0].className=p.parent()[0].className),this._trigger("activate",null,u)}}),t.widget("ui.menu",{version:"1.11.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(u){u.preventDefault()},"click .ui-menu-item":function(u){var p=t(u.target);!this.mouseHandled&&p.not(".ui-state-disabled").length&&(this.select(u),u.isPropagationStopped()||(this.mouseHandled=!0),p.has(".ui-menu").length?this.expand(u):!this.element.is(":focus")&&t(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(u){var p=t(u.currentTarget);p.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(u,p)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(p,m){var _=this.active||this.element.find(this.options.items).eq(0);m||this.focus(p,_)},blur:function(p){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(p)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(p){this._closeOnDocumentClick(p)&&this.collapseAll(p),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var u=t(this);u.data("ui-menu-submenu-carat")&&u.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(u){var p=function(V){return V.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},m,_,x,O,I,P=!0;switch(u.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(u);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(u);break;case t.ui.keyCode.HOME:this._move("first","first",u);break;case t.ui.keyCode.END:this._move("last","last",u);break;case t.ui.keyCode.UP:this.previous(u);break;case t.ui.keyCode.DOWN:this.next(u);break;case t.ui.keyCode.LEFT:this.collapse(u);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(u);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(u);break;case t.ui.keyCode.ESCAPE:this.collapse(u);break;default:P=!1,_=this.previousFilter||"",x=String.fromCharCode(u.keyCode),O=!1,clearTimeout(this.filterTimer),x===_?O=!0:x=_+x,I=RegExp("^"+p(x),"i"),m=this.activeMenu.find(this.options.items).filter(function(){return I.test(t(this).text())}),m=O&&m.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):m,m.length||(x=String.fromCharCode(u.keyCode),I=RegExp("^"+p(x),"i"),m=this.activeMenu.find(this.options.items).filter(function(){return I.test(t(this).text())})),m.length?(this.focus(u,m),m.length>1?(this.previousFilter=x,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}P&&u.preventDefault()},_activate:function(u){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(u):this.select(u))},refresh:function(){var u,p,m=this,_=this.options.icons.submenu,x=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),x.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var O=t(this),I=O.parent(),P=t("<span>").addClass("ui-menu-icon ui-icon "+_).data("ui-menu-submenu-carat",!0);I.attr("aria-haspopup","true").prepend(P),O.attr("aria-labelledby",I.attr("id"))}),u=x.add(this.element),p=u.find(this.options.items),p.not(".ui-menu-item").each(function(){var O=t(this);m._isDivider(O)&&O.addClass("ui-widget-content ui-menu-divider")}),p.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),p.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(u,p){u==="icons"&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(p.submenu),u==="disabled"&&this.element.toggleClass("ui-state-disabled",!!p).attr("aria-disabled",p),this._super(u,p)},focus:function(u,p){var m,_;this.blur(u,u&&u.type==="focus"),this._scrollIntoView(p),this.active=p.first(),_=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",_.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),u&&u.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay),m=p.children(".ui-menu"),m.length&&u&&/^mouse/.test(u.type)&&this._startOpening(m),this.activeMenu=p.parent(),this._trigger("focus",u,{item:p})},_scrollIntoView:function(u){var p,m,_,x,O,I;this._hasScroll()&&(p=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,m=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,_=u.offset().top-this.activeMenu.offset().top-p-m,x=this.activeMenu.scrollTop(),O=this.activeMenu.height(),I=u.outerHeight(),0>_?this.activeMenu.scrollTop(x+_):_+I>O&&this.activeMenu.scrollTop(x+_-O+I))},blur:function(u,p){p||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",u,{item:this.active}))},_startOpening:function(u){clearTimeout(this.timer),u.attr("aria-hidden")==="true"&&(this.timer=this._delay(function(){this._close(),this._open(u)},this.delay))},_open:function(u){var p=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(u.parents(".ui-menu")).hide().attr("aria-hidden","true"),u.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(p)},collapseAll:function(u,p){clearTimeout(this.timer),this.timer=this._delay(function(){var m=p?this.element:t(u&&u.target).closest(this.element.find(".ui-menu"));m.length||(m=this.element),this._close(m),this.blur(u),this.activeMenu=m},this.delay)},_close:function(u){u||(u=this.active?this.active.parent():this.element),u.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(u){return!t(u.target).closest(".ui-menu").length},_isDivider:function(u){return!/[^\-\u2014\u2013\s]/.test(u.text())},collapse:function(u){var p=this.active&&this.active.parent().closest(".ui-menu-item",this.element);p&&p.length&&(this._close(),this.focus(u,p))},expand:function(u){var p=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();p&&p.length&&(this._open(p.parent()),this._delay(function(){this.focus(u,p)}))},next:function(u){this._move("next","first",u)},previous:function(u){this._move("prev","last",u)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(u,p,m){var _;this.active&&(_=u==="first"||u==="last"?this.active[u==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[u+"All"](".ui-menu-item").eq(0)),_&&_.length&&this.active||(_=this.activeMenu.find(this.options.items)[p]()),this.focus(m,_)},nextPage:function(u){var p,m,_;return this.active?(this.isLastItem()||(this._hasScroll()?(m=this.active.offset().top,_=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return p=t(this),0>p.offset().top-m-_}),this.focus(u,p)):this.focus(u,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(u),void 0)},previousPage:function(u){var p,m,_;return this.active?(this.isFirstItem()||(this._hasScroll()?(m=this.active.offset().top,_=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return p=t(this),p.offset().top-m+_>0}),this.focus(u,p)):this.focus(u,this.activeMenu.find(this.options.items).first())),void 0):(this.next(u),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(u){this.active=this.active||t(u.target).closest(".ui-menu-item");var p={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(u,!0),this._trigger("select",u,p)}}),t.widget("ui.autocomplete",{version:"1.11.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var u,p,m,_=this.element[0].nodeName.toLowerCase(),x=_==="textarea",O=_==="input";this.isMultiLine=x?!0:O?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[x||O?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(P){if(this.element.prop("readOnly"))return u=!0,m=!0,p=!0,void 0;u=!1,m=!1,p=!1;var D=t.ui.keyCode;switch(P.keyCode){case D.PAGE_UP:u=!0,this._move("previousPage",P);break;case D.PAGE_DOWN:u=!0,this._move("nextPage",P);break;case D.UP:u=!0,this._keyEvent("previous",P);break;case D.DOWN:u=!0,this._keyEvent("next",P);break;case D.ENTER:this.menu.active&&(u=!0,P.preventDefault(),this.menu.select(P));break;case D.TAB:this.menu.active&&this.menu.select(P);break;case D.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(P),P.preventDefault());break;default:p=!0,this._searchTimeout(P)}},keypress:function(P){if(u)return u=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&P.preventDefault(),void 0;if(!p){var D=t.ui.keyCode;switch(P.keyCode){case D.PAGE_UP:this._move("previousPage",P);break;case D.PAGE_DOWN:this._move("nextPage",P);break;case D.UP:this._keyEvent("previous",P);break;case D.DOWN:this._keyEvent("next",P)}}},input:function(P){return m?(m=!1,P.preventDefault(),void 0):(this._searchTimeout(P),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(P){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(P),this._change(P),void 0)}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(P){P.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var D=this.menu.element[0];t(P.target).closest(".ui-menu-item").length||this._delay(function(){var V=this;this.document.one("mousedown",function(q){q.target===V.element[0]||q.target===D||t.contains(D,q.target)||V.close()})})},menufocus:function(P,D){var V,q;return this.isNewMenu&&(this.isNewMenu=!1,P.originalEvent&&/^mouse/.test(P.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){t(P.target).trigger(P.originalEvent)}),void 0):(q=D.item.data("ui-autocomplete-item"),this._trigger("focus",P,{item:q})!==!1&&P.originalEvent&&/^key/.test(P.originalEvent.type)&&this._value(q.value),V=D.item.attr("aria-label")||q.value,V&&t.trim(V).length&&(this.liveRegion.children().hide(),t("<div>").text(V).appendTo(this.liveRegion)),void 0)},menuselect:function(P,D){var V=D.item.data("ui-autocomplete-item"),q=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=q,this._delay(function(){this.previous=q,this.selectedItem=V})),this._trigger("select",P,{item:V})!==!1&&this._value(V.value),this.term=this._value(),this.close(P),this.selectedItem=V}}),this.liveRegion=t("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(u,p){this._super(u,p),u==="source"&&this._initSource(),u==="appendTo"&&this.menu.element.appendTo(this._appendTo()),u==="disabled"&&p&&this.xhr&&this.xhr.abort()},_appendTo:function(){var u=this.options.appendTo;return u&&(u=u.jquery||u.nodeType?t(u):this.document.find(u).eq(0)),u&&u[0]||(u=this.element.closest(".ui-front")),u.length||(u=this.document[0].body),u},_initSource:function(){var u,p,m=this;t.isArray(this.options.source)?(u=this.options.source,this.source=function(_,x){x(t.ui.autocomplete.filter(u,_.term))}):typeof this.options.source=="string"?(p=this.options.source,this.source=function(_,x){m.xhr&&m.xhr.abort(),m.xhr=t.ajax({url:p,data:_,dataType:"json",success:function(I){x(I)},error:function(){x([])}})}):this.source=this.options.source},_searchTimeout:function(u){clearTimeout(this.searching),this.searching=this._delay(function(){var p=this.term===this._value(),m=this.menu.element.is(":visible"),_=u.altKey||u.ctrlKey||u.metaKey||u.shiftKey;(!p||p&&!m&&!_)&&(this.selectedItem=null,this.search(null,u))},this.options.delay)},search:function(u,p){return u=u!=null?u:this._value(),this.term=this._value(),u.length<this.options.minLength?this.close(p):this._trigger("search",p)!==!1?this._search(u):void 0},_search:function(u){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:u},this._response())},_response:function(){var u=++this.requestIndex;return t.proxy(function(p){u===this.requestIndex&&this.__response(p),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(u){u&&(u=this._normalize(u)),this._trigger("response",null,{content:u}),!this.options.disabled&&u&&u.length&&!this.cancelSearch?(this._suggest(u),this._trigger("open")):this._close()},close:function(u){this.cancelSearch=!0,this._close(u)},_close:function(u){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",u))},_change:function(u){this.previous!==this._value()&&this._trigger("change",u,{item:this.selectedItem})},_normalize:function(u){return u.length&&u[0].label&&u[0].value?u:t.map(u,function(p){return typeof p=="string"?{label:p,value:p}:t.extend({},p,{label:p.label||p.value,value:p.value||p.label})})},_suggest:function(u){var p=this.menu.element.empty();this._renderMenu(p,u),this.isNewMenu=!0,this.menu.refresh(),p.show(),this._resizeMenu(),p.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var u=this.menu.element;u.outerWidth(Math.max(u.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(u,p){var m=this;t.each(p,function(_,x){m._renderItemData(u,x)})},_renderItemData:function(u,p){return this._renderItem(u,p).data("ui-autocomplete-item",p)},_renderItem:function(u,p){return t("<li>").text(p.label).appendTo(u)},_move:function(u,p){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(u)||this.menu.isLastItem()&&/^next/.test(u)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[u](p),void 0):(this.search(null,p),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(u,p){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(u,p),p.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(u){return u.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(u,p){var m=RegExp(t.ui.autocomplete.escapeRegex(p),"i");return t.grep(u,function(_){return m.test(_.label||_.value||_)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(u){return u+(u>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(u){var p;this._superApply(arguments),this.options.disabled||this.cancelSearch||(p=u&&u.length?this.options.messages.results(u.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(p).appendTo(this.liveRegion))}}),t.ui.autocomplete;var v,b="ui-button ui-widget ui-state-default ui-corner-all",w="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",k=function(){var u=t(this);setTimeout(function(){u.find(":ui-button").button("refresh")},1)},C=function(u){var p=u.name,m=u.form,_=t([]);return p&&(p=p.replace(/'/g,"\\'"),_=m?t(m).find("[name='"+p+"'][type=radio]"):t("[name='"+p+"'][type=radio]",u.ownerDocument).filter(function(){return!this.form})),_};t.widget("ui.button",{version:"1.11.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,k),typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var u=this,p=this.options,m=this.type==="checkbox"||this.type==="radio",_=m?"":"ui-state-active";p.label===null&&(p.label=this.type==="input"?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(b).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){p.disabled||this===v&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){p.disabled||t(this).removeClass(_)}).bind("click"+this.eventNamespace,function(x){p.disabled&&(x.preventDefault(),x.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),m&&this.element.bind("change"+this.eventNamespace,function(){u.refresh()}),this.type==="checkbox"?this.buttonElement.bind("click"+this.eventNamespace,function(){return p.disabled?!1:void 0}):this.type==="radio"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(p.disabled)return!1;t(this).addClass("ui-state-active"),u.buttonElement.attr("aria-pressed","true");var x=u.element[0];C(x).not(x).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return p.disabled?!1:(t(this).addClass("ui-state-active"),v=this,u.document.one("mouseup",function(){v=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return p.disabled?!1:(t(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(x){return p.disabled?!1:((x.keyCode===t.ui.keyCode.SPACE||x.keyCode===t.ui.keyCode.ENTER)&&t(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(x){x.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",p.disabled),this._resetButton()},_determineButtonType:function(){var u,p,m;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button",this.type==="checkbox"||this.type==="radio"?(u=this.element.parents().last(),p="label[for='"+this.element.attr("id")+"']",this.buttonElement=u.find(p),this.buttonElement.length||(u=u.length?u.siblings():this.element.siblings(),this.buttonElement=u.filter(p),this.buttonElement.length||(this.buttonElement=u.find(p))),this.element.addClass("ui-helper-hidden-accessible"),m=this.element.is(":checked"),m&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",m)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(b+" ui-state-active "+w).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(u,p){return this._super(u,p),u==="disabled"?(this.widget().toggleClass("ui-state-disabled",!!p),this.element.prop("disabled",!!p),p&&(this.type==="checkbox"||this.type==="radio"?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):(this._resetButton(),void 0)},refresh:function(){var u=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");u!==this.options.disabled&&this._setOption("disabled",u),this.type==="radio"?C(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input")return this.options.label&&this.element.val(this.options.label),void 0;var u=this.buttonElement.removeClass(w),p=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(u.empty()).text(),m=this.options.icons,_=m.primary&&m.secondary,x=[];m.primary||m.secondary?(this.options.text&&x.push("ui-button-text-icon"+(_?"s":m.primary?"-primary":"-secondary")),m.primary&&u.prepend("<span class='ui-button-icon-primary ui-icon "+m.primary+"'></span>"),m.secondary&&u.append("<span class='ui-button-icon-secondary ui-icon "+m.secondary+"'></span>"),this.options.text||(x.push(_?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||u.attr("title",t.trim(p)))):x.push("ui-button-text-only"),u.addClass(x.join(" "))}}),t.widget("ui.buttonset",{version:"1.11.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(u,p){u==="disabled"&&this.buttons.button("option",u,p),this._super(u,p)},refresh:function(){var u=this.element.css("direction")==="rtl",p=this.element.find(this.options.items),m=p.filter(":ui-button");p.not(":ui-button").button(),m.button("refresh"),this.buttons=p.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(u?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(u?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),t.ui.button,t.extend(t.ui,{datepicker:{version:"1.11.1"}});var E;t.extend(l.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(u){return r(this._defaults,u||{}),this},_attachDatepicker:function(u,p){var m,_,x;m=u.nodeName.toLowerCase(),_=m==="div"||m==="span",u.id||(this.uuid+=1,u.id="dp"+this.uuid),x=this._newInst(t(u),_),x.settings=t.extend({},p||{}),m==="input"?this._connectDatepicker(u,x):_&&this._inlineDatepicker(u,x)},_newInst:function(u,p){var m=u[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:m,input:u,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:p,dpDiv:p?a(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(u,p){var m=t(u);p.append=t([]),p.trigger=t([]),m.hasClass(this.markerClassName)||(this._attachments(m,p),m.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(p),t.data(u,"datepicker",p),p.settings.disabled&&this._disableDatepicker(u))},_attachments:function(u,p){var m,_,x,O=this._get(p,"appendText"),I=this._get(p,"isRTL");p.append&&p.append.remove(),O&&(p.append=t("<span class='"+this._appendClass+"'>"+O+"</span>"),u[I?"before":"after"](p.append)),u.unbind("focus",this._showDatepicker),p.trigger&&p.trigger.remove(),m=this._get(p,"showOn"),(m==="focus"||m==="both")&&u.focus(this._showDatepicker),(m==="button"||m==="both")&&(_=this._get(p,"buttonText"),x=this._get(p,"buttonImage"),p.trigger=t(this._get(p,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:x,alt:_,title:_}):t("<button type='button'></button>").addClass(this._triggerClass).html(x?t("<img/>").attr({src:x,alt:_,title:_}):_)),u[I?"before":"after"](p.trigger),p.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===u[0]?t.datepicker._hideDatepicker():(t.datepicker._datepickerShowing&&t.datepicker._lastInput!==u[0]&&t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(u[0])),!1}))},_autoSize:function(u){if(this._get(u,"autoSize")&&!u.inline){var p,m,_,x,O=new Date(2009,11,20),I=this._get(u,"dateFormat");I.match(/[DM]/)&&(p=function(D){for(m=0,_=0,x=0;D.length>x;x++)D[x].length>m&&(m=D[x].length,_=x);return _},O.setMonth(p(this._get(u,I.match(/MM/)?"monthNames":"monthNamesShort"))),O.setDate(p(this._get(u,I.match(/DD/)?"dayNames":"dayNamesShort"))+20-O.getDay())),u.input.attr("size",this._formatDate(u,O).length)}},_inlineDatepicker:function(u,p){var m=t(u);m.hasClass(this.markerClassName)||(m.addClass(this.markerClassName).append(p.dpDiv),t.data(u,"datepicker",p),this._setDate(p,this._getDefaultDate(p),!0),this._updateDatepicker(p),this._updateAlternate(p),p.settings.disabled&&this._disableDatepicker(u),p.dpDiv.css("display","block"))},_dialogDatepicker:function(u,p,m,_,x){var O,I,P,D,V,q=this._dialogInst;return q||(this.uuid+=1,O="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+O+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),q=this._dialogInst=this._newInst(this._dialogInput,!1),q.settings={},t.data(this._dialogInput[0],"datepicker",q)),r(q.settings,_||{}),p=p&&p.constructor===Date?this._formatDate(q,p):p,this._dialogInput.val(p),this._pos=x?x.length?x:[x.pageX,x.pageY]:null,this._pos||(I=document.documentElement.clientWidth,P=document.documentElement.clientHeight,D=document.documentElement.scrollLeft||document.body.scrollLeft,V=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[I/2-100+D,P/2-150+V]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),q.settings.onSelect=m,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",q),this},_destroyDatepicker:function(u){var p,m=t(u),_=t.data(u,"datepicker");m.hasClass(this.markerClassName)&&(p=u.nodeName.toLowerCase(),t.removeData(u,"datepicker"),p==="input"?(_.append.remove(),_.trigger.remove(),m.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(p==="div"||p==="span")&&m.removeClass(this.markerClassName).empty())},_enableDatepicker:function(u){var p,m,_=t(u),x=t.data(u,"datepicker");_.hasClass(this.markerClassName)&&(p=u.nodeName.toLowerCase(),p==="input"?(u.disabled=!1,x.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):(p==="div"||p==="span")&&(m=_.children("."+this._inlineClass),m.children().removeClass("ui-state-disabled"),m.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(O){return O===u?null:O}))},_disableDatepicker:function(u){var p,m,_=t(u),x=t.data(u,"datepicker");_.hasClass(this.markerClassName)&&(p=u.nodeName.toLowerCase(),p==="input"?(u.disabled=!0,x.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):(p==="div"||p==="span")&&(m=_.children("."+this._inlineClass),m.children().addClass("ui-state-disabled"),m.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(O){return O===u?null:O}),this._disabledInputs[this._disabledInputs.length]=u)},_isDisabledDatepicker:function(u){if(!u)return!1;for(var p=0;this._disabledInputs.length>p;p++)if(this._disabledInputs[p]===u)return!0;return!1},_getInst:function(u){try{return t.data(u,"datepicker")}catch(p){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(u,p,m){var _,x,O,I,P=this._getInst(u);return arguments.length===2&&typeof p=="string"?p==="defaults"?t.extend({},t.datepicker._defaults):P?p==="all"?t.extend({},P.settings):this._get(P,p):null:(_=p||{},typeof p=="string"&&(_={},_[p]=m),P&&(this._curInst===P&&this._hideDatepicker(),x=this._getDateDatepicker(u,!0),O=this._getMinMaxDate(P,"min"),I=this._getMinMaxDate(P,"max"),r(P.settings,_),O!==null&&_.dateFormat!==void 0&&_.minDate===void 0&&(P.settings.minDate=this._formatDate(P,O)),I!==null&&_.dateFormat!==void 0&&_.maxDate===void 0&&(P.settings.maxDate=this._formatDate(P,I)),"disabled"in _&&(_.disabled?this._disableDatepicker(u):this._enableDatepicker(u)),this._attachments(t(u),P),this._autoSize(P),this._setDate(P,x),this._updateAlternate(P),this._updateDatepicker(P)),void 0)},_changeDatepicker:function(u,p,m){this._optionDatepicker(u,p,m)},_refreshDatepicker:function(u){var p=this._getInst(u);p&&this._updateDatepicker(p)},_setDateDatepicker:function(u,p){var m=this._getInst(u);m&&(this._setDate(m,p),this._updateDatepicker(m),this._updateAlternate(m))},_getDateDatepicker:function(u,p){var m=this._getInst(u);return m&&!m.inline&&this._setDateFromField(m,p),m?this._getDate(m):null},_doKeyDown:function(u){var p,m,_,x=t.datepicker._getInst(u.target),O=!0,I=x.dpDiv.is(".ui-datepicker-rtl");if(x._keyEvent=!0,t.datepicker._datepickerShowing)switch(u.keyCode){case 9:t.datepicker._hideDatepicker(),O=!1;break;case 13:return _=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",x.dpDiv),_[0]&&t.datepicker._selectDay(u.target,x.selectedMonth,x.selectedYear,_[0]),p=t.datepicker._get(x,"onSelect"),p?(m=t.datepicker._formatDate(x),p.apply(x.input?x.input[0]:null,[m,x])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(u.target,u.ctrlKey?-t.datepicker._get(x,"stepBigMonths"):-t.datepicker._get(x,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(u.target,u.ctrlKey?+t.datepicker._get(x,"stepBigMonths"):+t.datepicker._get(x,"stepMonths"),"M");break;case 35:(u.ctrlKey||u.metaKey)&&t.datepicker._clearDate(u.target),O=u.ctrlKey||u.metaKey;break;case 36:(u.ctrlKey||u.metaKey)&&t.datepicker._gotoToday(u.target),O=u.ctrlKey||u.metaKey;break;case 37:(u.ctrlKey||u.metaKey)&&t.datepicker._adjustDate(u.target,I?1:-1,"D"),O=u.ctrlKey||u.metaKey,u.originalEvent.altKey&&t.datepicker._adjustDate(u.target,u.ctrlKey?-t.datepicker._get(x,"stepBigMonths"):-t.datepicker._get(x,"stepMonths"),"M");break;case 38:(u.ctrlKey||u.metaKey)&&t.datepicker._adjustDate(u.target,-7,"D"),O=u.ctrlKey||u.metaKey;break;case 39:(u.ctrlKey||u.metaKey)&&t.datepicker._adjustDate(u.target,I?-1:1,"D"),O=u.ctrlKey||u.metaKey,u.originalEvent.altKey&&t.datepicker._adjustDate(u.target,u.ctrlKey?+t.datepicker._get(x,"stepBigMonths"):+t.datepicker._get(x,"stepMonths"),"M");break;case 40:(u.ctrlKey||u.metaKey)&&t.datepicker._adjustDate(u.target,7,"D"),O=u.ctrlKey||u.metaKey;break;default:O=!1}else u.keyCode===36&&u.ctrlKey?t.datepicker._showDatepicker(this):O=!1;O&&(u.preventDefault(),u.stopPropagation())},_doKeyPress:function(u){var p,m,_=t.datepicker._getInst(u.target);return t.datepicker._get(_,"constrainInput")?(p=t.datepicker._possibleChars(t.datepicker._get(_,"dateFormat")),m=String.fromCharCode(u.charCode==null?u.keyCode:u.charCode),u.ctrlKey||u.metaKey||" ">m||!p||p.indexOf(m)>-1):void 0},_doKeyUp:function(u){var p,m=t.datepicker._getInst(u.target);if(m.input.val()!==m.lastVal)try{p=t.datepicker.parseDate(t.datepicker._get(m,"dateFormat"),m.input?m.input.val():null,t.datepicker._getFormatConfig(m)),p&&(t.datepicker._setDateFromField(m),t.datepicker._updateAlternate(m),t.datepicker._updateDatepicker(m))}catch(_){}return!0},_showDatepicker:function(u){if(u=u.target||u,u.nodeName.toLowerCase()!=="input"&&(u=t("input",u.parentNode)[0]),!t.datepicker._isDisabledDatepicker(u)&&t.datepicker._lastInput!==u){var p,m,_,x,O,I,P;p=t.datepicker._getInst(u),t.datepicker._curInst&&t.datepicker._curInst!==p&&(t.datepicker._curInst.dpDiv.stop(!0,!0),p&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),m=t.datepicker._get(p,"beforeShow"),_=m?m.apply(u,[u,p]):{},_!==!1&&(r(p.settings,_),p.lastVal=null,t.datepicker._lastInput=u,t.datepicker._setDateFromField(p),t.datepicker._inDialog&&(u.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(u),t.datepicker._pos[1]+=u.offsetHeight),x=!1,t(u).parents().each(function(){return x|=t(this).css("position")==="fixed",!x}),O={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,p.dpDiv.empty(),p.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(p),O=t.datepicker._checkOffset(p,O,x),p.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":x?"fixed":"absolute",display:"none",left:O.left+"px",top:O.top+"px"}),p.inline||(I=t.datepicker._get(p,"showAnim"),P=t.datepicker._get(p,"duration"),p.dpDiv.css("z-index",o(t(u))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[I]?p.dpDiv.show(I,t.datepicker._get(p,"showOptions"),P):p.dpDiv[I||"show"](I?P:null),t.datepicker._shouldFocusInput(p)&&p.input.focus(),t.datepicker._curInst=p))}},_updateDatepicker:function(u){this.maxRows=4,E=u,u.dpDiv.empty().append(this._generateHTML(u)),this._attachHandlers(u);var p,m=this._getNumberOfMonths(u),_=m[1],x=17,O=u.dpDiv.find("."+this._dayOverClass+" a");O.length>0&&s.apply(O.get(0)),u.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),_>1&&u.dpDiv.addClass("ui-datepicker-multi-"+_).css("width",x*_+"em"),u.dpDiv[(m[0]!==1||m[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi"),u.dpDiv[(this._get(u,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),u===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(u)&&u.input.focus(),u.yearshtml&&(p=u.yearshtml,setTimeout(function(){p===u.yearshtml&&u.yearshtml&&u.dpDiv.find("select.ui-datepicker-year:first").replaceWith(u.yearshtml),p=u.yearshtml=null},0))},_shouldFocusInput:function(u){return u.input&&u.input.is(":visible")&&!u.input.is(":disabled")&&!u.input.is(":focus")},_checkOffset:function(u,p,m){var _=u.dpDiv.outerWidth(),x=u.dpDiv.outerHeight(),O=u.input?u.input.outerWidth():0,I=u.input?u.input.outerHeight():0,P=document.documentElement.clientWidth+(m?0:t(document).scrollLeft()),D=document.documentElement.clientHeight+(m?0:t(document).scrollTop());return p.left-=this._get(u,"isRTL")?_-O:0,p.left-=m&&p.left===u.input.offset().left?t(document).scrollLeft():0,p.top-=m&&p.top===u.input.offset().top+I?t(document).scrollTop():0,p.left-=Math.min(p.left,p.left+_>P&&P>_?Math.abs(p.left+_-P):0),p.top-=Math.min(p.top,p.top+x>D&&D>x?Math.abs(x+I):0),p},_findPos:function(u){for(var p,m=this._getInst(u),_=this._get(m,"isRTL");u&&(u.type==="hidden"||u.nodeType!==1||t.expr.filters.hidden(u));)u=u[_?"previousSibling":"nextSibling"];return p=t(u).offset(),[p.left,p.top]},_hideDatepicker:function(u){var p,m,_,x,O=this._curInst;!O||u&&O!==t.data(u,"datepicker")||this._datepickerShowing&&(p=this._get(O,"showAnim"),m=this._get(O,"duration"),_=function(){t.datepicker._tidyDialog(O)},t.effects&&(t.effects.effect[p]||t.effects[p])?O.dpDiv.hide(p,t.datepicker._get(O,"showOptions"),m,_):O.dpDiv[p==="slideDown"?"slideUp":p==="fadeIn"?"fadeOut":"hide"](p?m:null,_),p||_(),this._datepickerShowing=!1,x=this._get(O,"onClose"),x&&x.apply(O.input?O.input[0]:null,[O.input?O.input.val():"",O]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(u){u.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(u){if(t.datepicker._curInst){var p=t(u.target),m=t.datepicker._getInst(p[0]);(p[0].id!==t.datepicker._mainDivId&&p.parents("#"+t.datepicker._mainDivId).length===0&&!p.hasClass(t.datepicker.markerClassName)&&!p.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||p.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==m)&&t.datepicker._hideDatepicker()}},_adjustDate:function(u,p,m){var _=t(u),x=this._getInst(_[0]);this._isDisabledDatepicker(_[0])||(this._adjustInstDate(x,p+(m==="M"?this._get(x,"showCurrentAtPos"):0),m),this._updateDatepicker(x))},_gotoToday:function(u){var p,m=t(u),_=this._getInst(m[0]);this._get(_,"gotoCurrent")&&_.currentDay?(_.selectedDay=_.currentDay,_.drawMonth=_.selectedMonth=_.currentMonth,_.drawYear=_.selectedYear=_.currentYear):(p=new Date,_.selectedDay=p.getDate(),_.drawMonth=_.selectedMonth=p.getMonth(),_.drawYear=_.selectedYear=p.getFullYear()),this._notifyChange(_),this._adjustDate(m)},_selectMonthYear:function(u,p,m){var _=t(u),x=this._getInst(_[0]);x["selected"+(m==="M"?"Month":"Year")]=x["draw"+(m==="M"?"Month":"Year")]=parseInt(p.options[p.selectedIndex].value,10),this._notifyChange(x),this._adjustDate(_)},_selectDay:function(u,p,m,_){var x,O=t(u);t(_).hasClass(this._unselectableClass)||this._isDisabledDatepicker(O[0])||(x=this._getInst(O[0]),x.selectedDay=x.currentDay=t("a",_).html(),x.selectedMonth=x.currentMonth=p,x.selectedYear=x.currentYear=m,this._selectDate(u,this._formatDate(x,x.currentDay,x.currentMonth,x.currentYear)))},_clearDate:function(u){var p=t(u);this._selectDate(p,"")},_selectDate:function(u,p){var m,_=t(u),x=this._getInst(_[0]);p=p!=null?p:this._formatDate(x),x.input&&x.input.val(p),this._updateAlternate(x),m=this._get(x,"onSelect"),m?m.apply(x.input?x.input[0]:null,[p,x]):x.input&&x.input.trigger("change"),x.inline?this._updateDatepicker(x):(this._hideDatepicker(),this._lastInput=x.input[0],typeof x.input[0]!="object"&&x.input.focus(),this._lastInput=null)},_updateAlternate:function(u){var p,m,_,x=this._get(u,"altField");x&&(p=this._get(u,"altFormat")||this._get(u,"dateFormat"),m=this._getDate(u),_=this.formatDate(p,m,this._getFormatConfig(u)),t(x).each(function(){t(this).val(_)}))},noWeekends:function(u){var p=u.getDay();return[p>0&&6>p,""]},iso8601Week:function(u){var p,m=new Date(u.getTime());return m.setDate(m.getDate()+4-(m.getDay()||7)),p=m.getTime(),m.setMonth(0),m.setDate(1),Math.floor(Math.round((p-m)/864e5)/7)+1},parseDate:function(u,p,m){if(u==null||p==null)throw"Invalid arguments";if(p=typeof p=="object"?""+p:p+"",p==="")return null;var _,x,O,I,P=0,D=(m?m.shortYearCutoff:null)||this._defaults.shortYearCutoff,V=typeof D!="string"?D:new Date().getFullYear()%100+parseInt(D,10),q=(m?m.dayNamesShort:null)||this._defaults.dayNamesShort,z=(m?m.dayNames:null)||this._defaults.dayNames,he=(m?m.monthNamesShort:null)||this._defaults.monthNamesShort,Y=(m?m.monthNames:null)||this._defaults.monthNames,B=-1,F=-1,ce=-1,J=-1,ae=!1,se=function(mt){var ot=u.length>_+1&&u.charAt(_+1)===mt;return ot&&_++,ot},ve=function(mt){var ot=se(mt),Ae=mt==="@"?14:mt==="!"?20:mt==="y"&&ot?4:mt==="o"?3:2,xe=mt==="y"?Ae:1,De=RegExp("^\\d{"+xe+","+Ae+"}"),et=p.substring(P).match(De);if(!et)throw"Missing number at position "+P;return P+=et[0].length,parseInt(et[0],10)},de=function(mt,ot,Ae){var xe=-1,De=t.map(se(mt)?Ae:ot,function(et,Ve){return[[Ve,et]]}).sort(function(et,Ve){return-(et[1].length-Ve[1].length)});if(t.each(De,function(et,Ve){var je=Ve[1];return p.substr(P,je.length).toLowerCase()===je.toLowerCase()?(xe=Ve[0],P+=je.length,!1):void 0}),xe!==-1)return xe+1;throw"Unknown name at position "+P},Be=function(){if(p.charAt(P)!==u.charAt(_))throw"Unexpected literal at position "+P;P++};for(_=0;u.length>_;_++)if(ae)u.charAt(_)!=="'"||se("'")?Be():ae=!1;else switch(u.charAt(_)){case"d":ce=ve("d");break;case"D":de("D",q,z);break;case"o":J=ve("o");break;case"m":F=ve("m");break;case"M":F=de("M",he,Y);break;case"y":B=ve("y");break;case"@":I=new Date(ve("@")),B=I.getFullYear(),F=I.getMonth()+1,ce=I.getDate();break;case"!":I=new Date((ve("!")-this._ticksTo1970)/1e4),B=I.getFullYear(),F=I.getMonth()+1,ce=I.getDate();break;case"'":se("'")?Be():ae=!0;break;default:Be()}if(p.length>P&&(O=p.substr(P),!/^\s+/.test(O)))throw"Extra/unparsed characters found in date: "+O;if(B===-1?B=new Date().getFullYear():100>B&&(B+=new Date().getFullYear()-new Date().getFullYear()%100+(V>=B?0:-100)),J>-1)for(F=1,ce=J;x=this._getDaysInMonth(B,F-1),!(x>=ce);)F++,ce-=x;if(I=this._daylightSavingAdjust(new Date(B,F-1,ce)),I.getFullYear()!==B||I.getMonth()+1!==F||I.getDate()!==ce)throw"Invalid date";return I},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(u,p,m){if(!p)return"";var _,x=(m?m.dayNamesShort:null)||this._defaults.dayNamesShort,O=(m?m.dayNames:null)||this._defaults.dayNames,I=(m?m.monthNamesShort:null)||this._defaults.monthNamesShort,P=(m?m.monthNames:null)||this._defaults.monthNames,D=function(B){var F=u.length>_+1&&u.charAt(_+1)===B;return F&&_++,F},V=function(B,F,ce){var J=""+F;if(D(B))for(;ce>J.length;)J="0"+J;return J},q=function(B,F,ce,J){return D(B)?J[F]:ce[F]},z="",he=!1;if(p)for(_=0;u.length>_;_++)if(he)u.charAt(_)!=="'"||D("'")?z+=u.charAt(_):he=!1;else switch(u.charAt(_)){case"d":z+=V("d",p.getDate(),2);break;case"D":z+=q("D",p.getDay(),x,O);break;case"o":z+=V("o",Math.round((new Date(p.getFullYear(),p.getMonth(),p.getDate()).getTime()-new Date(p.getFullYear(),0,0).getTime())/864e5),3);break;case"m":z+=V("m",p.getMonth()+1,2);break;case"M":z+=q("M",p.getMonth(),I,P);break;case"y":z+=D("y")?p.getFullYear():(10>p.getYear()%100?"0":"")+p.getYear()%100;break;case"@":z+=p.getTime();break;case"!":z+=1e4*p.getTime()+this._ticksTo1970;break;case"'":D("'")?z+="'":he=!0;break;default:z+=u.charAt(_)}return z},_possibleChars:function(u){var p,m="",_=!1,x=function(I){var P=u.length>p+1&&u.charAt(p+1)===I;return P&&p++,P};for(p=0;u.length>p;p++)if(_)u.charAt(p)!=="'"||x("'")?m+=u.charAt(p):_=!1;else switch(u.charAt(p)){case"d":case"m":case"y":case"@":m+="0123456789";break;case"D":case"M":return null;case"'":x("'")?m+="'":_=!0;break;default:m+=u.charAt(p)}return m},_get:function(u,p){return u.settings[p]!==void 0?u.settings[p]:this._defaults[p]},_setDateFromField:function(u,p){if(u.input.val()!==u.lastVal){var m=this._get(u,"dateFormat"),_=u.lastVal=u.input?u.input.val():null,x=this._getDefaultDate(u),O=x,I=this._getFormatConfig(u);try{O=this.parseDate(m,_,I)||x}catch(P){_=p?"":_}u.selectedDay=O.getDate(),u.drawMonth=u.selectedMonth=O.getMonth(),u.drawYear=u.selectedYear=O.getFullYear(),u.currentDay=_?O.getDate():0,u.currentMonth=_?O.getMonth():0,u.currentYear=_?O.getFullYear():0,this._adjustInstDate(u)}},_getDefaultDate:function(u){return this._restrictMinMax(u,this._determineDate(u,this._get(u,"defaultDate"),new Date))},_determineDate:function(u,p,m){var _=function(P){var D=new Date;return D.setDate(D.getDate()+P),D},x=function(P){try{return t.datepicker.parseDate(t.datepicker._get(u,"dateFormat"),P,t.datepicker._getFormatConfig(u))}catch(B){}for(var D=(P.toLowerCase().match(/^c/)?t.datepicker._getDate(u):null)||new Date,V=D.getFullYear(),q=D.getMonth(),z=D.getDate(),he=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,Y=he.exec(P);Y;){switch(Y[2]||"d"){case"d":case"D":z+=parseInt(Y[1],10);break;case"w":case"W":z+=7*parseInt(Y[1],10);break;case"m":case"M":q+=parseInt(Y[1],10),z=Math.min(z,t.datepicker._getDaysInMonth(V,q));break;case"y":case"Y":V+=parseInt(Y[1],10),z=Math.min(z,t.datepicker._getDaysInMonth(V,q))}Y=he.exec(P)}return new Date(V,q,z)},O=p==null||p===""?m:typeof p=="string"?x(p):typeof p=="number"?isNaN(p)?m:_(p):new Date(p.getTime());return O=O&&""+O=="Invalid Date"?m:O,O&&(O.setHours(0),O.setMinutes(0),O.setSeconds(0),O.setMilliseconds(0)),this._daylightSavingAdjust(O)},_daylightSavingAdjust:function(u){return u?(u.setHours(u.getHours()>12?u.getHours()+2:0),u):null},_setDate:function(u,p,m){var _=!p,x=u.selectedMonth,O=u.selectedYear,I=this._restrictMinMax(u,this._determineDate(u,p,new Date));u.selectedDay=u.currentDay=I.getDate(),u.drawMonth=u.selectedMonth=u.currentMonth=I.getMonth(),u.drawYear=u.selectedYear=u.currentYear=I.getFullYear(),x===u.selectedMonth&&O===u.selectedYear||m||this._notifyChange(u),this._adjustInstDate(u),u.input&&u.input.val(_?"":this._formatDate(u))},_getDate:function(u){var p=!u.currentYear||u.input&&u.input.val()===""?null:this._daylightSavingAdjust(new Date(u.currentYear,u.currentMonth,u.currentDay));return p},_attachHandlers:function(u){var p=this._get(u,"stepMonths"),m="#"+u.id.replace(/\\\\/g,"\\");u.dpDiv.find("[data-handler]").map(function(){var _={prev:function(){t.datepicker._adjustDate(m,-p,"M")},next:function(){t.datepicker._adjustDate(m,+p,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(m)},selectDay:function(){return t.datepicker._selectDay(m,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(m,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(m,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),_[this.getAttribute("data-handler")])})},_generateHTML:function(u){var p,m,_,x,O,I,P,D,V,q,z,he,Y,B,F,ce,J,ae,se,ve,de,Be,it,mt,ot,Ae,xe,De,et,Ve,je,He,qe,lt,_t,be,ze,Re,$e,Ye=new Date,We=this._daylightSavingAdjust(new Date(Ye.getFullYear(),Ye.getMonth(),Ye.getDate())),Ct=this._get(u,"isRTL"),gt=this._get(u,"showButtonPanel"),nt=this._get(u,"hideIfNoPrevNext"),rt=this._get(u,"navigationAsDateFormat"),ct=this._getNumberOfMonths(u),At=this._get(u,"showCurrentAtPos"),Mt=this._get(u,"stepMonths"),Lt=ct[0]!==1||ct[1]!==1,st=this._daylightSavingAdjust(u.currentDay?new Date(u.currentYear,u.currentMonth,u.currentDay):new Date(9999,9,9)),te=this._getMinMaxDate(u,"min"),Jt=this._getMinMaxDate(u,"max"),Ft=u.drawMonth-At,Yt=u.drawYear;if(0>Ft&&(Ft+=12,Yt--),Jt)for(p=this._daylightSavingAdjust(new Date(Jt.getFullYear(),Jt.getMonth()-ct[0]*ct[1]+1,Jt.getDate())),p=te&&te>p?te:p;this._daylightSavingAdjust(new Date(Yt,Ft,1))>p;)Ft--,0>Ft&&(Ft=11,Yt--);for(u.drawMonth=Ft,u.drawYear=Yt,m=this._get(u,"prevText"),m=rt?this.formatDate(m,this._daylightSavingAdjust(new Date(Yt,Ft-Mt,1)),this._getFormatConfig(u)):m,_=this._canAdjustMonth(u,-1,Yt,Ft)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+m+"'><span class='ui-icon ui-icon-circle-triangle-"+(Ct?"e":"w")+"'>"+m+"</span></a>":nt?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+m+"'><span class='ui-icon ui-icon-circle-triangle-"+(Ct?"e":"w")+"'>"+m+"</span></a>",x=this._get(u,"nextText"),x=rt?this.formatDate(x,this._daylightSavingAdjust(new Date(Yt,Ft+Mt,1)),this._getFormatConfig(u)):x,O=this._canAdjustMonth(u,1,Yt,Ft)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+x+"'><span class='ui-icon ui-icon-circle-triangle-"+(Ct?"w":"e")+"'>"+x+"</span></a>":nt?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+x+"'><span class='ui-icon ui-icon-circle-triangle-"+(Ct?"w":"e")+"'>"+x+"</span></a>",I=this._get(u,"currentText"),P=this._get(u,"gotoCurrent")&&u.currentDay?st:We,I=rt?this.formatDate(I,P,this._getFormatConfig(u)):I,D=u.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(u,"closeText")+"</button>",V=gt?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Ct?D:"")+(this._isInRange(u,P)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+I+"</button>":"")+(Ct?"":D)+"</div>":"",q=parseInt(this._get(u,"firstDay"),10),q=isNaN(q)?0:q,z=this._get(u,"showWeek"),he=this._get(u,"dayNames"),Y=this._get(u,"dayNamesMin"),B=this._get(u,"monthNames"),F=this._get(u,"monthNamesShort"),ce=this._get(u,"beforeShowDay"),J=this._get(u,"showOtherMonths"),ae=this._get(u,"selectOtherMonths"),se=this._getDefaultDate(u),ve="",Be=0;ct[0]>Be;Be++){for(it="",this.maxRows=4,mt=0;ct[1]>mt;mt++){if(ot=this._daylightSavingAdjust(new Date(Yt,Ft,u.selectedDay)),Ae=" ui-corner-all",xe="",Lt){if(xe+="<div class='ui-datepicker-group",ct[1]>1)switch(mt){case 0:xe+=" ui-datepicker-group-first",Ae=" ui-corner-"+(Ct?"right":"left");break;case ct[1]-1:xe+=" ui-datepicker-group-last",Ae=" ui-corner-"+(Ct?"left":"right");break;default:xe+=" ui-datepicker-group-middle",Ae=""}xe+="'>"}for(xe+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+Ae+"'>"+(/all|left/.test(Ae)&&Be===0?Ct?O:_:"")+(/all|right/.test(Ae)&&Be===0?Ct?_:O:"")+this._generateMonthYearHeader(u,Ft,Yt,te,Jt,Be>0||mt>0,B,F)+"</div><table class='ui-datepicker-calendar'><thead><tr>",De=z?"<th class='ui-datepicker-week-col'>"+this._get(u,"weekHeader")+"</th>":"",de=0;7>de;de++)et=(de+q)%7,De+="<th scope='col'"+((de+q+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+he[et]+"'>"+Y[et]+"</span></th>";for(xe+=De+"</tr></thead><tbody>",Ve=this._getDaysInMonth(Yt,Ft),Yt===u.selectedYear&&Ft===u.selectedMonth&&(u.selectedDay=Math.min(u.selectedDay,Ve)),je=(this._getFirstDayOfMonth(Yt,Ft)-q+7)%7,He=Math.ceil((je+Ve)/7),qe=Lt&&this.maxRows>He?this.maxRows:He,this.maxRows=qe,lt=this._daylightSavingAdjust(new Date(Yt,Ft,1-je)),_t=0;qe>_t;_t++){for(xe+="<tr>",be=z?"<td class='ui-datepicker-week-col'>"+this._get(u,"calculateWeek")(lt)+"</td>":"",de=0;7>de;de++)ze=ce?ce.apply(u.input?u.input[0]:null,[lt]):[!0,""],Re=lt.getMonth()!==Ft,$e=Re&&!ae||!ze[0]||te&&te>lt||Jt&&lt>Jt,be+="<td class='"+((de+q+6)%7>=5?" ui-datepicker-week-end":"")+(Re?" ui-datepicker-other-month":"")+(lt.getTime()===ot.getTime()&&Ft===u.selectedMonth&&u._keyEvent||se.getTime()===lt.getTime()&&se.getTime()===ot.getTime()?" "+this._dayOverClass:"")+($e?" "+this._unselectableClass+" ui-state-disabled":"")+(Re&&!J?"":" "+ze[1]+(lt.getTime()===st.getTime()?" "+this._currentClass:"")+(lt.getTime()===We.getTime()?" ui-datepicker-today":""))+"'"+(Re&&!J||!ze[2]?"":" title='"+ze[2].replace(/'/g,"&#39;")+"'")+($e?"":" data-handler='selectDay' data-event='click' data-month='"+lt.getMonth()+"' data-year='"+lt.getFullYear()+"'")+">"+(Re&&!J?"&#xa0;":$e?"<span class='ui-state-default'>"+lt.getDate()+"</span>":"<a class='ui-state-default"+(lt.getTime()===We.getTime()?" ui-state-highlight":"")+(lt.getTime()===st.getTime()?" ui-state-active":"")+(Re?" ui-priority-secondary":"")+"' href='#'>"+lt.getDate()+"</a>")+"</td>",lt.setDate(lt.getDate()+1),lt=this._daylightSavingAdjust(lt);xe+=be+"</tr>"}Ft++,Ft>11&&(Ft=0,Yt++),xe+="</tbody></table>"+(Lt?"</div>"+(ct[0]>0&&mt===ct[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),it+=xe}ve+=it}return ve+=V,u._keyEvent=!1,ve},_generateMonthYearHeader:function(u,p,m,_,x,O,I,P){var D,V,q,z,he,Y,B,F,ce=this._get(u,"changeMonth"),J=this._get(u,"changeYear"),ae=this._get(u,"showMonthAfterYear"),se="<div class='ui-datepicker-title'>",ve="";if(O||!ce)ve+="<span class='ui-datepicker-month'>"+I[p]+"</span>";else{for(D=_&&_.getFullYear()===m,V=x&&x.getFullYear()===m,ve+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",q=0;12>q;q++)(!D||q>=_.getMonth())&&(!V||x.getMonth()>=q)&&(ve+="<option value='"+q+"'"+(q===p?" selected='selected'":"")+">"+P[q]+"</option>");ve+="</select>"}if(ae||(se+=ve+(!O&&ce&&J?"":"&#xa0;")),!u.yearshtml)if(u.yearshtml="",O||!J)se+="<span class='ui-datepicker-year'>"+m+"</span>";else{for(z=this._get(u,"yearRange").split(":"),he=new Date().getFullYear(),Y=function(Be){var it=Be.match(/c[+\-].*/)?m+parseInt(Be.substring(1),10):Be.match(/[+\-].*/)?he+parseInt(Be,10):parseInt(Be,10);return isNaN(it)?he:it},B=Y(z[0]),F=Math.max(B,Y(z[1]||"")),B=_?Math.max(B,_.getFullYear()):B,F=x?Math.min(F,x.getFullYear()):F,u.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";F>=B;B++)u.yearshtml+="<option value='"+B+"'"+(B===m?" selected='selected'":"")+">"+B+"</option>";u.yearshtml+="</select>",se+=u.yearshtml,u.yearshtml=null}return se+=this._get(u,"yearSuffix"),ae&&(se+=(!O&&ce&&J?"":"&#xa0;")+ve),se+="</div>"},_adjustInstDate:function(u,p,m){var _=u.drawYear+(m==="Y"?p:0),x=u.drawMonth+(m==="M"?p:0),O=Math.min(u.selectedDay,this._getDaysInMonth(_,x))+(m==="D"?p:0),I=this._restrictMinMax(u,this._daylightSavingAdjust(new Date(_,x,O)));u.selectedDay=I.getDate(),u.drawMonth=u.selectedMonth=I.getMonth(),u.drawYear=u.selectedYear=I.getFullYear(),(m==="M"||m==="Y")&&this._notifyChange(u)},_restrictMinMax:function(u,p){var m=this._getMinMaxDate(u,"min"),_=this._getMinMaxDate(u,"max"),x=m&&m>p?m:p;return _&&x>_?_:x},_notifyChange:function(u){var p=this._get(u,"onChangeMonthYear");p&&p.apply(u.input?u.input[0]:null,[u.selectedYear,u.selectedMonth+1,u])},_getNumberOfMonths:function(u){var p=this._get(u,"numberOfMonths");return p==null?[1,1]:typeof p=="number"?[1,p]:p},_getMinMaxDate:function(u,p){return this._determineDate(u,this._get(u,p+"Date"),null)},_getDaysInMonth:function(u,p){return 32-this._daylightSavingAdjust(new Date(u,p,32)).getDate()},_getFirstDayOfMonth:function(u,p){return new Date(u,p,1).getDay()},_canAdjustMonth:function(u,p,m,_){var x=this._getNumberOfMonths(u),O=this._daylightSavingAdjust(new Date(m,_+(0>p?p:x[0]*x[1]),1));return 0>p&&O.setDate(this._getDaysInMonth(O.getFullYear(),O.getMonth())),this._isInRange(u,O)},_isInRange:function(u,p){var m,_,x=this._getMinMaxDate(u,"min"),O=this._getMinMaxDate(u,"max"),I=null,P=null,D=this._get(u,"yearRange");return D&&(m=D.split(":"),_=new Date().getFullYear(),I=parseInt(m[0],10),P=parseInt(m[1],10),m[0].match(/[+\-].*/)&&(I+=_),m[1].match(/[+\-].*/)&&(P+=_)),(!x||p.getTime()>=x.getTime())&&(!O||p.getTime()<=O.getTime())&&(!I||p.getFullYear()>=I)&&(!P||P>=p.getFullYear())},_getFormatConfig:function(u){var p=this._get(u,"shortYearCutoff");return p=typeof p!="string"?p:new Date().getFullYear()%100+parseInt(p,10),{shortYearCutoff:p,dayNamesShort:this._get(u,"dayNamesShort"),dayNames:this._get(u,"dayNames"),monthNamesShort:this._get(u,"monthNamesShort"),monthNames:this._get(u,"monthNames")}},_formatDate:function(u,p,m,_){p||(u.currentDay=u.selectedDay,u.currentMonth=u.selectedMonth,u.currentYear=u.selectedYear);var x=p?typeof p=="object"?p:this._daylightSavingAdjust(new Date(_,m,p)):this._daylightSavingAdjust(new Date(u.currentYear,u.currentMonth,u.currentDay));return this.formatDate(this._get(u,"dateFormat"),x,this._getFormatConfig(u))}}),t.fn.datepicker=function(y){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),t("#"+t.datepicker._mainDivId).length===0&&t("body").append(t.datepicker.dpDiv);var u=Array.prototype.slice.call(arguments,1);return typeof y!="string"||y!=="isDisabled"&&y!=="getDate"&&y!=="widget"?y==="option"&&arguments.length===2&&typeof arguments[1]=="string"?t.datepicker["_"+y+"Datepicker"].apply(t.datepicker,[this[0]].concat(u)):this.each(function(){typeof y=="string"?t.datepicker["_"+y+"Datepicker"].apply(t.datepicker,[this].concat(u)):t.datepicker._attachDatepicker(this,y)}):t.datepicker["_"+y+"Datepicker"].apply(t.datepicker,[this[0]].concat(u))},t.datepicker=new l,t.datepicker.initialized=!1,t.datepicker.uuid=new Date().getTime(),t.datepicker.version="1.11.1",t.datepicker,t.widget("ui.draggable",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){this.options.helper!=="original"||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(u,p){this._super(u,p),u==="handle"&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(u){var p=this.document[0],m=this.options;try{p.activeElement&&p.activeElement.nodeName.toLowerCase()!=="body"&&t(p.activeElement).blur()}catch(_){}return this.helper||m.disabled||t(u.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(u),this.handle?(t(m.iframeFix===!0?"iframe":m.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(u){var p=this.options;return this.helper=this._createHelper(u),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:u.pageX-this.offset.left,top:u.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(u,!1),this.originalPageX=u.pageX,this.originalPageY=u.pageY,p.cursorAt&&this._adjustOffsetFromHelper(p.cursorAt),this._setContainment(),this._trigger("start",u)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!p.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,u),this._mouseDrag(u,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,u),!0)},_mouseDrag:function(u,p){if(this.offsetParentCssPosition==="fixed"&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(u,!0),this.positionAbs=this._convertPositionTo("absolute"),!p){var m=this._uiHash();if(this._trigger("drag",u,m)===!1)return this._mouseUp({}),!1;this.position=m.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,u),!1},_mouseStop:function(u){var p=this,m=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(m=t.ui.ddmanager.drop(this,u)),this.dropped&&(m=this.dropped,this.dropped=!1),this.options.revert==="invalid"&&!m||this.options.revert==="valid"&&m||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,m)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){p._trigger("stop",u)!==!1&&p._clear()}):this._trigger("stop",u)!==!1&&this._clear(),!1},_mouseUp:function(u){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,u),this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,u)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(u){return this.options.handle?!!t(u.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(u){var p=this.options,m=t.isFunction(p.helper)?t(p.helper.apply(this.element[0],[u])):p.helper==="clone"?this.element.clone().removeAttr("id"):this.element;return m.parents("body").length||m.appendTo(p.appendTo==="parent"?this.element[0].parentNode:p.appendTo),m[0]===this.element[0]||/(fixed|absolute)/.test(m.css("position"))||m.css("position","absolute"),m},_adjustOffsetFromHelper:function(u){typeof u=="string"&&(u=u.split(" ")),t.isArray(u)&&(u={left:+u[0],top:+u[1]||0}),"left"in u&&(this.offset.click.left=u.left+this.margins.left),"right"in u&&(this.offset.click.left=this.helperProportions.width-u.right+this.margins.left),"top"in u&&(this.offset.click.top=u.top+this.margins.top),"bottom"in u&&(this.offset.click.top=this.helperProportions.height-u.bottom+this.margins.top)},_isRootNode:function(u){return/(html|body)/i.test(u.tagName)||u===this.document[0]},_getParentOffset:function(){var u=this.offsetParent.offset(),p=this.document[0];return this.cssPosition==="absolute"&&this.scrollParent[0]!==p&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(u.left+=this.scrollParent.scrollLeft(),u.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(u={top:0,left:0}),{top:u.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:u.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!=="relative")return{top:0,left:0};var u=this.element.position(),p=this._isRootNode(this.scrollParent[0]);return{top:u.top-(parseInt(this.helper.css("top"),10)||0)+(p?0:this.scrollParent.scrollTop()),left:u.left-(parseInt(this.helper.css("left"),10)||0)+(p?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var u,p,m,_=this.options,x=this.document[0];return this.relativeContainer=null,_.containment?_.containment==="window"?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||x.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):_.containment==="document"?(this.containment=[0,0,t(x).width()-this.helperProportions.width-this.margins.left,(t(x).height()||x.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):_.containment.constructor===Array?(this.containment=_.containment,void 0):(_.containment==="parent"&&(_.containment=this.helper[0].parentNode),p=t(_.containment),m=p[0],m&&(u=p.css("overflow")!=="hidden",this.containment=[(parseInt(p.css("borderLeftWidth"),10)||0)+(parseInt(p.css("paddingLeft"),10)||0),(parseInt(p.css("borderTopWidth"),10)||0)+(parseInt(p.css("paddingTop"),10)||0),(u?Math.max(m.scrollWidth,m.offsetWidth):m.offsetWidth)-(parseInt(p.css("borderRightWidth"),10)||0)-(parseInt(p.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(u?Math.max(m.scrollHeight,m.offsetHeight):m.offsetHeight)-(parseInt(p.css("borderBottomWidth"),10)||0)-(parseInt(p.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=p),void 0):(this.containment=null,void 0)},_convertPositionTo:function(u,p){p||(p=this.position);var m=u==="absolute"?1:-1,_=this._isRootNode(this.scrollParent[0]);return{top:p.top+this.offset.relative.top*m+this.offset.parent.top*m-(this.cssPosition==="fixed"?-this.offset.scroll.top:_?0:this.offset.scroll.top)*m,left:p.left+this.offset.relative.left*m+this.offset.parent.left*m-(this.cssPosition==="fixed"?-this.offset.scroll.left:_?0:this.offset.scroll.left)*m}},_generatePosition:function(u,p){var m,_,x,O,I=this.options,P=this._isRootNode(this.scrollParent[0]),D=u.pageX,V=u.pageY;return P&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),p&&(this.containment&&(this.relativeContainer?(_=this.relativeContainer.offset(),m=[this.containment[0]+_.left,this.containment[1]+_.top,this.containment[2]+_.left,this.containment[3]+_.top]):m=this.containment,u.pageX-this.offset.click.left<m[0]&&(D=m[0]+this.offset.click.left),u.pageY-this.offset.click.top<m[1]&&(V=m[1]+this.offset.click.top),u.pageX-this.offset.click.left>m[2]&&(D=m[2]+this.offset.click.left),u.pageY-this.offset.click.top>m[3]&&(V=m[3]+this.offset.click.top)),I.grid&&(x=I.grid[1]?this.originalPageY+Math.round((V-this.originalPageY)/I.grid[1])*I.grid[1]:this.originalPageY,V=m?x-this.offset.click.top>=m[1]||x-this.offset.click.top>m[3]?x:x-this.offset.click.top>=m[1]?x-I.grid[1]:x+I.grid[1]:x,O=I.grid[0]?this.originalPageX+Math.round((D-this.originalPageX)/I.grid[0])*I.grid[0]:this.originalPageX,D=m?O-this.offset.click.left>=m[0]||O-this.offset.click.left>m[2]?O:O-this.offset.click.left>=m[0]?O-I.grid[0]:O+I.grid[0]:O),I.axis==="y"&&(D=this.originalPageX),I.axis==="x"&&(V=this.originalPageY)),{top:V-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:P?0:this.offset.scroll.top),left:D-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:P?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(u,p,m){return m=m||this._uiHash(),t.ui.plugin.call(this,u,[p,m,this],!0),u==="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,u,p,m)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(u,p,m){var _=m.options,x=t.extend({},p,{item:m.element});m.sortables=[],t(_.connectToSortable).each(function(){var O=t(this).sortable("instance");O&&!O.options.disabled&&(m.sortables.push({instance:O,shouldRevert:O.options.revert}),O.refreshPositions(),O._trigger("activate",u,x))})},stop:function(u,p,m){var _=t.extend({},p,{item:m.element});t.each(m.sortables,function(){this.instance.isOver?(this.instance.isOver=0,m.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(u),this.instance.options.helper=this.instance.options._helper,m.options.helper==="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",u,_))})},drag:function(u,p,m){var _=this;t.each(m.sortables,function(){var x=!1,O=this;this.instance.positionAbs=m.positionAbs,this.instance.helperProportions=m.helperProportions,this.instance.offset.click=m.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(x=!0,t.each(m.sortables,function(){return this.instance.positionAbs=m.positionAbs,this.instance.helperProportions=m.helperProportions,this.instance.offset.click=m.offset.click,this!==O&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(O.instance.element[0],this.instance.element[0])&&(x=!1),x})),x?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(_).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return p.helper[0]},u.target=this.instance.currentItem[0],this.instance._mouseCapture(u,!0),this.instance._mouseStart(u,!0,!0),this.instance.offset.click.top=m.offset.click.top,this.instance.offset.click.left=m.offset.click.left,this.instance.offset.parent.left-=m.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=m.offset.parent.top-this.instance.offset.parent.top,m._trigger("toSortable",u),m.dropped=this.instance.element,m.currentItem=m.element,this.instance.fromOutside=m),this.instance.currentItem&&this.instance._mouseDrag(u)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",u,this.instance._uiHash(this.instance)),this.instance._mouseStop(u,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),m._trigger("fromSortable",u),m.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(u,p,m){var _=t("body"),x=m.options;_.css("cursor")&&(x._cursor=_.css("cursor")),_.css("cursor",x.cursor)},stop:function(u,p,m){var _=m.options;_._cursor&&t("body").css("cursor",_._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(u,p,m){var _=t(p.helper),x=m.options;_.css("opacity")&&(x._opacity=_.css("opacity")),_.css("opacity",x.opacity)},stop:function(u,p,m){var _=m.options;_._opacity&&t(p.helper).css("opacity",_._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(u,p,m){m.scrollParentNotHidden||(m.scrollParentNotHidden=m.helper.scrollParent(!1)),m.scrollParentNotHidden[0]!==m.document[0]&&m.scrollParentNotHidden[0].tagName!=="HTML"&&(m.overflowOffset=m.scrollParentNotHidden.offset())},drag:function(u,p,m){var _=m.options,x=!1,O=m.scrollParentNotHidden[0],I=m.document[0];O!==I&&O.tagName!=="HTML"?(_.axis&&_.axis==="x"||(m.overflowOffset.top+O.offsetHeight-u.pageY<_.scrollSensitivity?O.scrollTop=x=O.scrollTop+_.scrollSpeed:u.pageY-m.overflowOffset.top<_.scrollSensitivity&&(O.scrollTop=x=O.scrollTop-_.scrollSpeed)),_.axis&&_.axis==="y"||(m.overflowOffset.left+O.offsetWidth-u.pageX<_.scrollSensitivity?O.scrollLeft=x=O.scrollLeft+_.scrollSpeed:u.pageX-m.overflowOffset.left<_.scrollSensitivity&&(O.scrollLeft=x=O.scrollLeft-_.scrollSpeed))):(_.axis&&_.axis==="x"||(u.pageY-t(I).scrollTop()<_.scrollSensitivity?x=t(I).scrollTop(t(I).scrollTop()-_.scrollSpeed):t(window).height()-(u.pageY-t(I).scrollTop())<_.scrollSensitivity&&(x=t(I).scrollTop(t(I).scrollTop()+_.scrollSpeed))),_.axis&&_.axis==="y"||(u.pageX-t(I).scrollLeft()<_.scrollSensitivity?x=t(I).scrollLeft(t(I).scrollLeft()-_.scrollSpeed):t(window).width()-(u.pageX-t(I).scrollLeft())<_.scrollSensitivity&&(x=t(I).scrollLeft(t(I).scrollLeft()+_.scrollSpeed)))),x!==!1&&t.ui.ddmanager&&!_.dropBehaviour&&t.ui.ddmanager.prepareOffsets(m,u)}}),t.ui.plugin.add("draggable","snap",{start:function(u,p,m){var _=m.options;m.snapElements=[],t(_.snap.constructor!==String?_.snap.items||":data(ui-draggable)":_.snap).each(function(){var x=t(this),O=x.offset();this!==m.element[0]&&m.snapElements.push({item:this,width:x.outerWidth(),height:x.outerHeight(),top:O.top,left:O.left})})},drag:function(u,p,m){var _,x,O,I,P,D,V,q,z,he,Y=m.options,B=Y.snapTolerance,F=p.offset.left,ce=F+m.helperProportions.width,J=p.offset.top,ae=J+m.helperProportions.height;for(z=m.snapElements.length-1;z>=0;z--)P=m.snapElements[z].left,D=P+m.snapElements[z].width,V=m.snapElements[z].top,q=V+m.snapElements[z].height,P-B>ce||F>D+B||V-B>ae||J>q+B||!t.contains(m.snapElements[z].item.ownerDocument,m.snapElements[z].item)?(m.snapElements[z].snapping&&m.options.snap.release&&m.options.snap.release.call(m.element,u,t.extend(m._uiHash(),{snapItem:m.snapElements[z].item})),m.snapElements[z].snapping=!1):(Y.snapMode!=="inner"&&(_=B>=Math.abs(V-ae),x=B>=Math.abs(q-J),O=B>=Math.abs(P-ce),I=B>=Math.abs(D-F),_&&(p.position.top=m._convertPositionTo("relative",{top:V-m.helperProportions.height,left:0}).top-m.margins.top),x&&(p.position.top=m._convertPositionTo("relative",{top:q,left:0}).top-m.margins.top),O&&(p.position.left=m._convertPositionTo("relative",{top:0,left:P-m.helperProportions.width}).left-m.margins.left),I&&(p.position.left=m._convertPositionTo("relative",{top:0,left:D}).left-m.margins.left)),he=_||x||O||I,Y.snapMode!=="outer"&&(_=B>=Math.abs(V-J),x=B>=Math.abs(q-ae),O=B>=Math.abs(P-F),I=B>=Math.abs(D-ce),_&&(p.position.top=m._convertPositionTo("relative",{top:V,left:0}).top-m.margins.top),x&&(p.position.top=m._convertPositionTo("relative",{top:q-m.helperProportions.height,left:0}).top-m.margins.top),O&&(p.position.left=m._convertPositionTo("relative",{top:0,left:P}).left-m.margins.left),I&&(p.position.left=m._convertPositionTo("relative",{top:0,left:D-m.helperProportions.width}).left-m.margins.left)),!m.snapElements[z].snapping&&(_||x||O||I||he)&&m.options.snap.snap&&m.options.snap.snap.call(m.element,u,t.extend(m._uiHash(),{snapItem:m.snapElements[z].item})),m.snapElements[z].snapping=_||x||O||I||he)}}),t.ui.plugin.add("draggable","stack",{start:function(u,p,m){var _,x=m.options,O=t.makeArray(t(x.stack)).sort(function(I,P){return(parseInt(t(I).css("zIndex"),10)||0)-(parseInt(t(P).css("zIndex"),10)||0)});O.length&&(_=parseInt(t(O[0]).css("zIndex"),10)||0,t(O).each(function(I){t(this).css("zIndex",_+I)}),this.css("zIndex",_+O.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(u,p,m){var _=t(p.helper),x=m.options;_.css("zIndex")&&(x._zIndex=_.css("zIndex")),_.css("zIndex",x.zIndex)},stop:function(u,p,m){var _=m.options;_._zIndex&&t(p.helper).css("zIndex",_._zIndex)}}),t.ui.draggable,t.widget("ui.resizable",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(u){return parseInt(u,10)||0},_isNumber:function(u){return!isNaN(parseInt(u,10))},_hasScroll:function(u,p){if(t(u).css("overflow")==="hidden")return!1;var m=p&&p==="left"?"scrollLeft":"scrollTop",_=!1;return u[m]>0?!0:(u[m]=1,_=u[m]>0,u[m]=0,_)},_create:function(){var u,p,m,_,x,O=this,I=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!I.aspectRatio,aspectRatio:I.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:I.helper||I.ghost||I.animate?I.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=I.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for(this.handles==="all"&&(this.handles="n,e,s,w,se,sw,ne,nw"),u=this.handles.split(","),this.handles={},p=0;u.length>p;p++)m=t.trim(u[p]),x="ui-resizable-"+m,_=t("<div class='ui-resizable-handle "+x+"'></div>"),_.css({zIndex:I.zIndex}),m==="se"&&_.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[m]=".ui-resizable-"+m,this.element.append(_);this._renderAxis=function(P){var D,V,q,z;P=P||this.element;for(D in this.handles)this.handles[D].constructor===String&&(this.handles[D]=this.element.children(this.handles[D]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(V=t(this.handles[D],this.element),z=/sw|ne|nw|se|n|s/.test(D)?V.outerHeight():V.outerWidth(),q=["padding",/ne|nw|n/.test(D)?"Top":/se|sw|s/.test(D)?"Bottom":/^e$/.test(D)?"Right":"Left"].join(""),P.css(q,z),this._proportionallyResize()),t(this.handles[D]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){O.resizing||(this.className&&(_=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),O.axis=_&&_[1]?_[1]:"se")}),I.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){I.disabled||(t(this).removeClass("ui-resizable-autohide"),O._handles.show())}).mouseleave(function(){I.disabled||O.resizing||(t(this).addClass("ui-resizable-autohide"),O._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var u,p=function(_){t(_).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(p(this.element),u=this.element,this.originalElement.css({position:u.css("position"),width:u.outerWidth(),height:u.outerHeight(),top:u.css("top"),left:u.css("left")}).insertAfter(u),u.remove()),this.originalElement.css("resize",this.originalResizeStyle),p(this.originalElement),this},_mouseCapture:function(u){var p,m,_=!1;for(p in this.handles)m=t(this.handles[p])[0],(m===u.target||t.contains(m,u.target))&&(_=!0);return!this.options.disabled&&_},_mouseStart:function(u){var p,m,_,x=this.options,O=this.element;return this.resizing=!0,this._renderProxy(),p=this._num(this.helper.css("left")),m=this._num(this.helper.css("top")),x.containment&&(p+=t(x.containment).scrollLeft()||0,m+=t(x.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:p,top:m},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:O.width(),height:O.height()},this.originalSize=this._helper?{width:O.outerWidth(),height:O.outerHeight()}:{width:O.width(),height:O.height()},this.sizeDiff={width:O.outerWidth()-O.width(),height:O.outerHeight()-O.height()},this.originalPosition={left:p,top:m},this.originalMousePosition={left:u.pageX,top:u.pageY},this.aspectRatio=typeof x.aspectRatio=="number"?x.aspectRatio:this.originalSize.width/this.originalSize.height||1,_=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor",_==="auto"?this.axis+"-resize":_),O.addClass("ui-resizable-resizing"),this._propagate("start",u),!0},_mouseDrag:function(u){var p,m,_=this.originalMousePosition,x=this.axis,O=u.pageX-_.left||0,I=u.pageY-_.top||0,P=this._change[x];return this._updatePrevProperties(),P&&(p=P.apply(this,[u,O,I]),this._updateVirtualBoundaries(u.shiftKey),(this._aspectRatio||u.shiftKey)&&(p=this._updateRatio(p,u)),p=this._respectSize(p,u),this._updateCache(p),this._propagate("resize",u),m=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(m)||(this._updatePrevProperties(),this._trigger("resize",u,this.ui()),this._applyChanges())),!1},_mouseStop:function(u){this.resizing=!1;var p,m,_,x,O,I,P,D=this.options,V=this;return this._helper&&(p=this._proportionallyResizeElements,m=p.length&&/textarea/i.test(p[0].nodeName),_=m&&this._hasScroll(p[0],"left")?0:V.sizeDiff.height,x=m?0:V.sizeDiff.width,O={width:V.helper.width()-x,height:V.helper.height()-_},I=parseInt(V.element.css("left"),10)+(V.position.left-V.originalPosition.left)||null,P=parseInt(V.element.css("top"),10)+(V.position.top-V.originalPosition.top)||null,D.animate||this.element.css(t.extend(O,{top:P,left:I})),V.helper.height(V.size.height),V.helper.width(V.size.width),this._helper&&!D.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",u),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var u={};return this.position.top!==this.prevPosition.top&&(u.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(u.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(u.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(u.height=this.size.height+"px"),this.helper.css(u),u},_updateVirtualBoundaries:function(u){var p,m,_,x,O,I=this.options;O={minWidth:this._isNumber(I.minWidth)?I.minWidth:0,maxWidth:this._isNumber(I.maxWidth)?I.maxWidth:1/0,minHeight:this._isNumber(I.minHeight)?I.minHeight:0,maxHeight:this._isNumber(I.maxHeight)?I.maxHeight:1/0},(this._aspectRatio||u)&&(p=O.minHeight*this.aspectRatio,_=O.minWidth/this.aspectRatio,m=O.maxHeight*this.aspectRatio,x=O.maxWidth/this.aspectRatio,p>O.minWidth&&(O.minWidth=p),_>O.minHeight&&(O.minHeight=_),O.maxWidth>m&&(O.maxWidth=m),O.maxHeight>x&&(O.maxHeight=x)),this._vBoundaries=O},_updateCache:function(u){this.offset=this.helper.offset(),this._isNumber(u.left)&&(this.position.left=u.left),this._isNumber(u.top)&&(this.position.top=u.top),this._isNumber(u.height)&&(this.size.height=u.height),this._isNumber(u.width)&&(this.size.width=u.width)},_updateRatio:function(u){var p=this.position,m=this.size,_=this.axis;return this._isNumber(u.height)?u.width=u.height*this.aspectRatio:this._isNumber(u.width)&&(u.height=u.width/this.aspectRatio),_==="sw"&&(u.left=p.left+(m.width-u.width),u.top=null),_==="nw"&&(u.top=p.top+(m.height-u.height),u.left=p.left+(m.width-u.width)),u},_respectSize:function(u){var p=this._vBoundaries,m=this.axis,_=this._isNumber(u.width)&&p.maxWidth&&p.maxWidth<u.width,x=this._isNumber(u.height)&&p.maxHeight&&p.maxHeight<u.height,O=this._isNumber(u.width)&&p.minWidth&&p.minWidth>u.width,I=this._isNumber(u.height)&&p.minHeight&&p.minHeight>u.height,P=this.originalPosition.left+this.originalSize.width,D=this.position.top+this.size.height,V=/sw|nw|w/.test(m),q=/nw|ne|n/.test(m);return O&&(u.width=p.minWidth),I&&(u.height=p.minHeight),_&&(u.width=p.maxWidth),x&&(u.height=p.maxHeight),O&&V&&(u.left=P-p.minWidth),_&&V&&(u.left=P-p.maxWidth),I&&q&&(u.top=D-p.minHeight),x&&q&&(u.top=D-p.maxHeight),u.width||u.height||u.left||!u.top?u.width||u.height||u.top||!u.left||(u.left=null):u.top=null,u},_getPaddingPlusBorderDimensions:function(u){for(var p=0,m=[],_=[u.css("borderTopWidth"),u.css("borderRightWidth"),u.css("borderBottomWidth"),u.css("borderLeftWidth")],x=[u.css("paddingTop"),u.css("paddingRight"),u.css("paddingBottom"),u.css("paddingLeft")];4>p;p++)m[p]=parseInt(_[p],10)||0,m[p]+=parseInt(x[p],10)||0;return{height:m[0]+m[2],width:m[1]+m[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var u,p=0,m=this.helper||this.element;this._proportionallyResizeElements.length>p;p++)u=this._proportionallyResizeElements[p],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(u)),u.css({height:m.height()-this.outerDimensions.height||0,width:m.width()-this.outerDimensions.width||0})},_renderProxy:function(){var u=this.element,p=this.options;this.elementOffset=u.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++p.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(u,p){return{width:this.originalSize.width+p}},w:function(u,p){var m=this.originalSize,_=this.originalPosition;return{left:_.left+p,width:m.width-p}},n:function(u,p,m){var _=this.originalSize,x=this.originalPosition;return{top:x.top+m,height:_.height-m}},s:function(u,p,m){return{height:this.originalSize.height+m}},se:function(u,p,m){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[u,p,m]))},sw:function(u,p,m){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[u,p,m]))},ne:function(u,p,m){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[u,p,m]))},nw:function(u,p,m){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[u,p,m]))}},_propagate:function(u,p){t.ui.plugin.call(this,u,[p,this.ui()]),u!=="resize"&&this._trigger(u,p,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(u){var p=t(this).resizable("instance"),m=p.options,_=p._proportionallyResizeElements,x=_.length&&/textarea/i.test(_[0].nodeName),O=x&&p._hasScroll(_[0],"left")?0:p.sizeDiff.height,I=x?0:p.sizeDiff.width,P={width:p.size.width-I,height:p.size.height-O},D=parseInt(p.element.css("left"),10)+(p.position.left-p.originalPosition.left)||null,V=parseInt(p.element.css("top"),10)+(p.position.top-p.originalPosition.top)||null;p.element.animate(t.extend(P,V&&D?{top:V,left:D}:{}),{duration:m.animateDuration,easing:m.animateEasing,step:function(){var z={width:parseInt(p.element.css("width"),10),height:parseInt(p.element.css("height"),10),top:parseInt(p.element.css("top"),10),left:parseInt(p.element.css("left"),10)};_&&_.length&&t(_[0]).css({width:z.width,height:z.height}),p._updateCache(z),p._propagate("resize",u)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var u,p,m,_,x,O,I,P=t(this).resizable("instance"),D=P.options,V=P.element,q=D.containment,z=_instanceof(q,t)?q.get(0):/parent/.test(q)?V.parent().get(0):q;z&&(P.containerElement=t(z),/document/.test(q)||q===document?(P.containerOffset={left:0,top:0},P.containerPosition={left:0,top:0},P.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(u=t(z),p=[],t(["Top","Right","Left","Bottom"]).each(function(he,Y){p[he]=P._num(u.css("padding"+Y))}),P.containerOffset=u.offset(),P.containerPosition=u.position(),P.containerSize={height:u.innerHeight()-p[3],width:u.innerWidth()-p[1]},m=P.containerOffset,_=P.containerSize.height,x=P.containerSize.width,O=P._hasScroll(z,"left")?z.scrollWidth:x,I=P._hasScroll(z)?z.scrollHeight:_,P.parentData={element:z,left:m.left,top:m.top,width:O,height:I}))},resize:function(u){var p,m,_,x,O=t(this).resizable("instance"),I=O.options,P=O.containerOffset,D=O.position,V=O._aspectRatio||u.shiftKey,q={top:0,left:0},z=O.containerElement,he=!0;z[0]!==document&&/static/.test(z.css("position"))&&(q=P),D.left<(O._helper?P.left:0)&&(O.size.width=O.size.width+(O._helper?O.position.left-P.left:O.position.left-q.left),V&&(O.size.height=O.size.width/O.aspectRatio,he=!1),O.position.left=I.helper?P.left:0),D.top<(O._helper?P.top:0)&&(O.size.height=O.size.height+(O._helper?O.position.top-P.top:O.position.top),V&&(O.size.width=O.size.height*O.aspectRatio,he=!1),O.position.top=O._helper?P.top:0),_=O.containerElement.get(0)===O.element.parent().get(0),x=/relative|absolute/.test(O.containerElement.css("position")),_&&x?(O.offset.left=O.parentData.left+O.position.left,O.offset.top=O.parentData.top+O.position.top):(O.offset.left=O.element.offset().left,O.offset.top=O.element.offset().top),p=Math.abs(O.sizeDiff.width+(O._helper?O.offset.left-q.left:O.offset.left-P.left)),m=Math.abs(O.sizeDiff.height+(O._helper?O.offset.top-q.top:O.offset.top-P.top)),p+O.size.width>=O.parentData.width&&(O.size.width=O.parentData.width-p,V&&(O.size.height=O.size.width/O.aspectRatio,he=!1)),m+O.size.height>=O.parentData.height&&(O.size.height=O.parentData.height-m,V&&(O.size.width=O.size.height*O.aspectRatio,he=!1)),he||(O.position.left=O.prevPosition.left,O.position.top=O.prevPosition.top,O.size.width=O.prevSize.width,O.size.height=O.prevSize.height)},stop:function(){var u=t(this).resizable("instance"),p=u.options,m=u.containerOffset,_=u.containerPosition,x=u.containerElement,O=t(u.helper),I=O.offset(),P=O.outerWidth()-u.sizeDiff.width,D=O.outerHeight()-u.sizeDiff.height;u._helper&&!p.animate&&/relative/.test(x.css("position"))&&t(this).css({left:I.left-_.left-m.left,width:P,height:D}),u._helper&&!p.animate&&/static/.test(x.css("position"))&&t(this).css({left:I.left-_.left-m.left,width:P,height:D})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var u=t(this).resizable("instance"),p=u.options,m=function(x){t(x).each(function(){var O=t(this);O.data("ui-resizable-alsoresize",{width:parseInt(O.width(),10),height:parseInt(O.height(),10),left:parseInt(O.css("left"),10),top:parseInt(O.css("top"),10)})})};typeof p.alsoResize!="object"||p.alsoResize.parentNode?m(p.alsoResize):p.alsoResize.length?(p.alsoResize=p.alsoResize[0],m(p.alsoResize)):t.each(p.alsoResize,function(_){m(_)})},resize:function(u,p){var m=t(this).resizable("instance"),_=m.options,x=m.originalSize,O=m.originalPosition,I={height:m.size.height-x.height||0,width:m.size.width-x.width||0,top:m.position.top-O.top||0,left:m.position.left-O.left||0},P=function(V,q){t(V).each(function(){var z=t(this),he=t(this).data("ui-resizable-alsoresize"),Y={},B=q&&q.length?q:z.parents(p.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(B,function(F,ce){var J=(he[ce]||0)+(I[ce]||0);J&&J>=0&&(Y[ce]=J||null)}),z.css(Y)})};typeof _.alsoResize!="object"||_.alsoResize.nodeType?P(_.alsoResize):t.each(_.alsoResize,function(D,V){P(D,V)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var u=t(this).resizable("instance"),p=u.options,m=u.size;u.ghost=u.originalElement.clone(),u.ghost.css({opacity:.25,display:"block",position:"relative",height:m.height,width:m.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof p.ghost=="string"?p.ghost:""),u.ghost.appendTo(u.helper)},resize:function(){var u=t(this).resizable("instance");u.ghost&&u.ghost.css({position:"relative",height:u.size.height,width:u.size.width})},stop:function(){var u=t(this).resizable("instance");u.ghost&&u.helper&&u.helper.get(0).removeChild(u.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var u,p=t(this).resizable("instance"),m=p.options,_=p.size,x=p.originalSize,O=p.originalPosition,I=p.axis,P=typeof m.grid=="number"?[m.grid,m.grid]:m.grid,D=P[0]||1,V=P[1]||1,q=Math.round((_.width-x.width)/D)*D,z=Math.round((_.height-x.height)/V)*V,he=x.width+q,Y=x.height+z,B=m.maxWidth&&he>m.maxWidth,F=m.maxHeight&&Y>m.maxHeight,ce=m.minWidth&&m.minWidth>he,J=m.minHeight&&m.minHeight>Y;m.grid=P,ce&&(he+=D),J&&(Y+=V),B&&(he-=D),F&&(Y-=V),/^(se|s|e)$/.test(I)?(p.size.width=he,p.size.height=Y):/^(ne)$/.test(I)?(p.size.width=he,p.size.height=Y,p.position.top=O.top-z):/^(sw)$/.test(I)?(p.size.width=he,p.size.height=Y,p.position.left=O.left-q):((0>=Y-V||0>=he-D)&&(u=p._getPaddingPlusBorderDimensions(this)),Y-V>0?(p.size.height=Y,p.position.top=O.top-z):(Y=V-u.height,p.size.height=Y,p.position.top=O.top+x.height-Y),he-D>0?(p.size.width=he,p.position.left=O.left-q):(he=V-u.height,p.size.width=he,p.position.left=O.left+x.width-he))}}),t.ui.resizable,t.widget("ui.dialog",{version:"1.11.1",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(u){var p=t(this).css(u).offset().top;0>p&&t(this).css("top",u.top-p)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var u=this.options.appendTo;return u&&(u.jquery||u.nodeType)?t(u):this.document.find(u||"body").eq(0)},_destroy:function(){var u,p=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),u=p.parent.children().eq(p.index),u.length&&u[0]!==this.element[0]?u.before(this.element):p.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(u){var p,m=this;if(this._isOpen&&this._trigger("beforeClose",u)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{p=this.document[0].activeElement,p&&p.nodeName.toLowerCase()!=="body"&&t(p).blur()}catch(_){}this._hide(this.uiDialog,this.options.hide,function(){m._trigger("close",u)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(u,p){var m=!1,_=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),x=Math.max.apply(null,_);return x>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",x+1),m=!0),m&&!p&&this._trigger("focus",u),m},open:function(){var u=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){u._focusTabbable(),u._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var u=this._focusedElement;u||(u=this.element.find("[autofocus]")),u.length||(u=this.element.find(":tabbable")),u.length||(u=this.uiDialogButtonPane.find(":tabbable")),u.length||(u=this.uiDialogTitlebarClose.filter(":tabbable")),u.length||(u=this.uiDialog),u.eq(0).focus()},_keepFocus:function(u){var p=function(){var _=this.document[0].activeElement,x=this.uiDialog[0]===_||t.contains(this.uiDialog[0],_);x||this._focusTabbable()};u.preventDefault(),p.call(this),this._delay(p)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(p){if(this.options.closeOnEscape&&!p.isDefaultPrevented()&&p.keyCode&&p.keyCode===t.ui.keyCode.ESCAPE)return p.preventDefault(),this.close(p),void 0;if(p.keyCode===t.ui.keyCode.TAB&&!p.isDefaultPrevented()){var m=this.uiDialog.find(":tabbable"),_=m.filter(":first"),x=m.filter(":last");p.target!==x[0]&&p.target!==this.uiDialog[0]||p.shiftKey?p.target!==_[0]&&p.target!==this.uiDialog[0]||!p.shiftKey||(this._delay(function(){x.focus()}),p.preventDefault()):(this._delay(function(){_.focus()}),p.preventDefault())}},mousedown:function(p){this._moveToTop(p)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var u;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(m){t(m.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(m){m.preventDefault(),this.close(m)}}),u=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(u),this.uiDialog.attr({"aria-labelledby":u.attr("id")})},_title:function(u){this.options.title||u.html("&#160;"),u.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var u=this,p=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(p)||t.isArray(p)&&!p.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(t.each(p,function(m,_){var x,O;_=t.isFunction(_)?{click:_,text:m}:_,_=t.extend({type:"button"},_),x=_.click,_.click=function(){x.apply(u.element[0],arguments)},O={icons:_.icons,text:_.showText},delete _.icons,delete _.showText,t("<button></button>",_).button(O).appendTo(u.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){var u=function(x){return{position:x.position,offset:x.offset}},p=this,m=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(x,O){t(this).addClass("ui-dialog-dragging"),p._blockFrames(),p._trigger("dragStart",x,u(O))},drag:function(x,O){p._trigger("drag",x,u(O))},stop:function(x,O){var I=O.offset.left-p.document.scrollLeft(),P=O.offset.top-p.document.scrollTop();m.position={my:"left top",at:"left"+(I>=0?"+":"")+I+" top"+(P>=0?"+":"")+P,of:p.window},t(this).removeClass("ui-dialog-dragging"),p._unblockFrames(),p._trigger("dragStop",x,u(O))}})},_makeResizable:function(){var u=function(P){return{originalPosition:P.originalPosition,originalSize:P.originalSize,position:P.position,size:P.size}},p=this,m=this.options,_=m.resizable,x=this.uiDialog.css("position"),O=typeof _=="string"?_:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:m.maxWidth,maxHeight:m.maxHeight,minWidth:m.minWidth,minHeight:this._minHeight(),handles:O,start:function(P,D){t(this).addClass("ui-dialog-resizing"),p._blockFrames(),p._trigger("resizeStart",P,u(D))},resize:function(P,D){p._trigger("resize",P,u(D))},stop:function(P,D){var V=p.uiDialog.offset(),q=V.left-p.document.scrollLeft(),z=V.top-p.document.scrollTop();m.height=p.uiDialog.height(),m.width=p.uiDialog.width(),m.position={my:"left top",at:"left"+(q>=0?"+":"")+q+" top"+(z>=0?"+":"")+z,of:p.window},t(this).removeClass("ui-dialog-resizing"),p._unblockFrames(),p._trigger("resizeStop",P,u(D))}}).css("position",x)},_trackFocus:function(){this._on(this.widget(),{focusin:function(p){this._makeFocusTarget(),this._focusedElement=t(p.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var u=this._trackingInstances(),p=t.inArray(this,u);p!==-1&&u.splice(p,1)},_trackingInstances:function(){var u=this.document.data("ui-dialog-instances");return u||(u=[],this.document.data("ui-dialog-instances",u)),u},_minHeight:function(){var u=this.options;return u.height==="auto"?u.minHeight:Math.min(u.minHeight,u.height)},_position:function(){var u=this.uiDialog.is(":visible");u||this.uiDialog.show(),this.uiDialog.position(this.options.position),u||this.uiDialog.hide()},_setOptions:function(u){var p=this,m=!1,_={};t.each(u,function(x,O){p._setOption(x,O),x in p.sizeRelatedOptions&&(m=!0),x in p.resizableRelatedOptions&&(_[x]=O)}),m&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",_)},_setOption:function(u,p){var m,_,x=this.uiDialog;u==="dialogClass"&&x.removeClass(this.options.dialogClass).addClass(p),u!=="disabled"&&(this._super(u,p),u==="appendTo"&&this.uiDialog.appendTo(this._appendTo()),u==="buttons"&&this._createButtons(),u==="closeText"&&this.uiDialogTitlebarClose.button({label:""+p}),u==="draggable"&&(m=x.is(":data(ui-draggable)"),m&&!p&&x.draggable("destroy"),!m&&p&&this._makeDraggable()),u==="position"&&this._position(),u==="resizable"&&(_=x.is(":data(ui-resizable)"),_&&!p&&x.resizable("destroy"),_&&typeof p=="string"&&x.resizable("option","handles",p),_||p===!1||this._makeResizable()),u==="title"&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var u,p,m,_=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),_.minWidth>_.width&&(_.width=_.minWidth),u=this.uiDialog.css({height:"auto",width:_.width}).outerHeight(),p=Math.max(0,_.minHeight-u),m=typeof _.maxHeight=="number"?Math.max(0,_.maxHeight-u):"none",_.height==="auto"?this.element.css({minHeight:p,maxHeight:m,height:"auto"}):this.element.height(Math.max(0,_.height-u)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var u=t(this);return t("<div>").css({position:"absolute",width:u.outerWidth(),height:u.outerHeight()}).appendTo(u.parent()).offset(u.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(u){return t(u.target).closest(".ui-dialog").length?!0:!!t(u.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var u=!0;this._delay(function(){u=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(m){u||this._allowInteraction(m)||(m.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var u=this.document.data("ui-dialog-overlays")-1;u?this.document.data("ui-dialog-overlays",u):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),t.widget("ui.droppable",{version:"1.11.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var u,p=this.options,m=p.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(m)?m:function(_){return _.is(m)},this.proportions=function(){return arguments.length?(u=arguments[0],void 0):u||(u={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(p.scope),p.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(u){t.ui.ddmanager.droppables[u]=t.ui.ddmanager.droppables[u]||[],t.ui.ddmanager.droppables[u].push(this)},_splice:function(u){for(var p=0;u.length>p;p++)u[p]===this&&u.splice(p,1)},_destroy:function(){var u=t.ui.ddmanager.droppables[this.options.scope];this._splice(u),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(u,p){if(u==="accept")this.accept=t.isFunction(p)?p:function(_){return _.is(p)};else if(u==="scope"){var m=t.ui.ddmanager.droppables[this.options.scope];this._splice(m),this._addToManager(p)}this._super(u,p)},_activate:function(u){var p=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),p&&this._trigger("activate",u,this.ui(p))},_deactivate:function(u){var p=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),p&&this._trigger("deactivate",u,this.ui(p))},_over:function(u){var p=t.ui.ddmanager.current;p&&(p.currentItem||p.element)[0]!==this.element[0]&&this.accept.call(this.element[0],p.currentItem||p.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",u,this.ui(p)))},_out:function(u){var p=t.ui.ddmanager.current;p&&(p.currentItem||p.element)[0]!==this.element[0]&&this.accept.call(this.element[0],p.currentItem||p.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",u,this.ui(p)))},_drop:function(u,p){var m=p||t.ui.ddmanager.current,_=!1;return m&&(m.currentItem||m.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var x=t(this).droppable("instance");return x.options.greedy&&!x.options.disabled&&x.options.scope===m.options.scope&&x.accept.call(x.element[0],m.currentItem||m.element)&&t.ui.intersect(m,t.extend(x,{offset:x.element.offset()}),x.options.tolerance,u)?(_=!0,!1):void 0}),_?!1:this.accept.call(this.element[0],m.currentItem||m.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",u,this.ui(m)),this.element):!1):!1},ui:function(u){return{draggable:u.currentItem||u.element,helper:u.helper,position:u.position,offset:u.positionAbs}}}),t.ui.intersect=function(){var y=function(p,m,_){return p>=m&&m+_>p};return function(u,p,m,_){if(!p.offset)return!1;var x=(u.positionAbs||u.position.absolute).left,O=(u.positionAbs||u.position.absolute).top,I=x+u.helperProportions.width,P=O+u.helperProportions.height,D=p.offset.left,V=p.offset.top,q=D+p.proportions().width,z=V+p.proportions().height;switch(m){case"fit":return x>=D&&q>=I&&O>=V&&z>=P;case"intersect":return x+u.helperProportions.width/2>D&&q>I-u.helperProportions.width/2&&O+u.helperProportions.height/2>V&&z>P-u.helperProportions.height/2;case"pointer":return y(_.pageY,V,p.proportions().height)&&y(_.pageX,D,p.proportions().width);case"touch":return(O>=V&&z>=O||P>=V&&z>=P||V>O&&P>z)&&(x>=D&&q>=x||I>=D&&q>=I||D>x&&I>q);default:return!1}}}(),t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(u,p){var m,_,x=t.ui.ddmanager.droppables[u.options.scope]||[],O=p?p.type:null,I=(u.currentItem||u.element).find(":data(ui-droppable)").addBack();e:for(m=0;x.length>m;m++)if(!(x[m].options.disabled||u&&!x[m].accept.call(x[m].element[0],u.currentItem||u.element))){for(_=0;I.length>_;_++)if(I[_]===x[m].element[0]){x[m].proportions().height=0;continue e}x[m].visible=x[m].element.css("display")!=="none",x[m].visible&&(O==="mousedown"&&x[m]._activate.call(x[m],p),x[m].offset=x[m].element.offset(),x[m].proportions({width:x[m].element[0].offsetWidth,height:x[m].element[0].offsetHeight}))}},drop:function(u,p){var m=!1;return t.each((t.ui.ddmanager.droppables[u.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(u,this,this.options.tolerance,p)&&(m=this._drop.call(this,p)||m),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],u.currentItem||u.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,p)))}),m},dragStart:function(u,p){u.element.parentsUntil("body").bind("scroll.droppable",function(){u.options.refreshPositions||t.ui.ddmanager.prepareOffsets(u,p)})},drag:function(u,p){u.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(u,p),t.each(t.ui.ddmanager.droppables[u.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var m,_,x,O=t.ui.intersect(u,this,this.options.tolerance,p),I=!O&&this.isover?"isout":O&&!this.isover?"isover":null;I&&(this.options.greedy&&(_=this.options.scope,x=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===_}),x.length&&(m=t(x[0]).droppable("instance"),m.greedyChild=I==="isover")),m&&I==="isover"&&(m.isover=!1,m.isout=!0,m._out.call(m,p)),this[I]=!0,this[I==="isout"?"isover":"isout"]=!1,this[I==="isover"?"_over":"_out"].call(this,p),m&&I==="isout"&&(m.isout=!1,m.isover=!0,m._over.call(m,p)))}})},dragStop:function(u,p){u.element.parentsUntil("body").unbind("scroll.droppable"),u.options.refreshPositions||t.ui.ddmanager.prepareOffsets(u,p)}},t.ui.droppable;var A="ui-effects-",j=t;t.effects={effect:{}},function(y,u){var p=function(F,ce,J){var ae=q[ce.type]||{};return F==null?J||!ce.def?null:ce.def:(F=ae.floor?~~F:parseFloat(F),isNaN(F)?ce.def:ae.mod?(F+ae.mod)%ae.mod:0>F?0:F>ae.max?ae.max:F)},m=function(F){var ce=D(),J=ce._rgba=[];return F=F.toLowerCase(),Y(P,function(ae,se){var ve,de=se.re.exec(F),Be=de&&se.parse(de),it=se.space||"rgba";return Be?(ve=ce[it](Be),ce[V[it].cache]=ve[V[it].cache],J=ce._rgba=ve._rgba,!1):u}),J.length?(J.join()==="0,0,0,0"&&y.extend(J,x.transparent),ce):x[F]},_=function(F,ce,J){return J=(J+1)%1,1>6*J?F+6*(ce-F)*J:1>2*J?ce:2>3*J?F+6*(ce-F)*(.6666666666666666-J):F},x,O="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",I=/^([\-+])=\s*(\d+\.?\d*)/,P=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(F){return[F[1],F[2],F[3],F[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(F){return[2.55*F[1],2.55*F[2],2.55*F[3],F[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(F){return[parseInt(F[1],16),parseInt(F[2],16),parseInt(F[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(F){return[parseInt(F[1]+F[1],16),parseInt(F[2]+F[2],16),parseInt(F[3]+F[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(F){return[F[1],F[2]/100,F[3]/100,F[4]]}}],D=y.Color=function(F,ce,J,ae){return new y.Color.fn.parse(F,ce,J,ae)},V={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},q={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},z=D.support={},he=y("<p>")[0],Y=y.each;he.style.cssText="background-color:rgba(1,1,1,.5)",z.rgba=he.style.backgroundColor.indexOf("rgba")>-1,Y(V,function(B,F){F.cache="_"+B,F.props.alpha={idx:3,type:"percent",def:1}}),D.fn=y.extend(D.prototype,{parse:function(F,ce,J,ae){if(F===u)return this._rgba=[null,null,null,null],this;(F.jquery||F.nodeType)&&(F=y(F).css(ce),ce=u);var se=this,ve=y.type(F),de=this._rgba=[];return ce!==u&&(F=[F,ce,J,ae],ve="array"),ve==="string"?this.parse(m(F)||x._default):ve==="array"?(Y(V.rgba.props,function(Be,it){de[it.idx]=p(F[it.idx],it)}),this):ve==="object"?(_instanceof(F,D)?Y(V,function(Be,it){F[it.cache]&&(se[it.cache]=F[it.cache].slice())}):Y(V,function(Be,it){var mt=it.cache;Y(it.props,function(ot,Ae){if(!se[mt]&&it.to){if(ot==="alpha"||F[ot]==null)return;se[mt]=it.to(se._rgba)}se[mt][Ae.idx]=p(F[ot],Ae,!0)}),se[mt]&&0>y.inArray(null,se[mt].slice(0,3))&&(se[mt][3]=1,it.from&&(se._rgba=it.from(se[mt])))}),this):u},is:function(F){var ce=D(F),J=!0,ae=this;return Y(V,function(se,ve){var de,Be=ce[ve.cache];return Be&&(de=ae[ve.cache]||ve.to&&ve.to(ae._rgba)||[],Y(ve.props,function(it,mt){return Be[mt.idx]!=null?J=Be[mt.idx]===de[mt.idx]:u})),J}),J},_space:function(){var F=[],ce=this;return Y(V,function(J,ae){ce[ae.cache]&&F.push(J)}),F.pop()},transition:function(F,ce){var J=D(F),ae=J._space(),se=V[ae],ve=this.alpha()===0?D("transparent"):this,de=ve[se.cache]||se.to(ve._rgba),Be=de.slice();return J=J[se.cache],Y(se.props,function(it,mt){var ot=mt.idx,Ae=de[ot],xe=J[ot],De=q[mt.type]||{};xe!==null&&(Ae===null?Be[ot]=xe:(De.mod&&(xe-Ae>De.mod/2?Ae+=De.mod:Ae-xe>De.mod/2&&(Ae-=De.mod)),Be[ot]=p((xe-Ae)*ce+Ae,mt)))}),this[ae](Be)},blend:function(F){if(this._rgba[3]===1)return this;var ce=this._rgba.slice(),J=ce.pop(),ae=D(F)._rgba;return D(y.map(ce,function(se,ve){return(1-J)*ae[ve]+J*se}))},toRgbaString:function(){var F="rgba(",ce=y.map(this._rgba,function(J,ae){return J!=null?J:ae>2?1:0});return ce[3]===1&&(ce.pop(),F="rgb("),F+ce.join()+")"},toHslaString:function(){var F="hsla(",ce=y.map(this.hsla(),function(J,ae){return J==null&&(J=ae>2?1:0),ae&&3>ae&&(J=Math.round(100*J)+"%"),J});return ce[3]===1&&(ce.pop(),F="hsl("),F+ce.join()+")"},toHexString:function(F){var ce=this._rgba.slice(),J=ce.pop();return F&&ce.push(~~(255*J)),"#"+y.map(ce,function(ae){return ae=(ae||0).toString(16),ae.length===1?"0"+ae:ae}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),D.fn.parse.prototype=D.fn,V.hsla.to=function(B){if(B[0]==null||B[1]==null||B[2]==null)return[null,null,null,B[3]];var F,ce,J=B[0]/255,ae=B[1]/255,se=B[2]/255,ve=B[3],de=Math.max(J,ae,se),Be=Math.min(J,ae,se),it=de-Be,mt=de+Be,ot=.5*mt;return F=Be===de?0:J===de?60*(ae-se)/it+360:ae===de?60*(se-J)/it+120:60*(J-ae)/it+240,ce=it===0?0:.5>=ot?it/mt:it/(2-mt),[Math.round(F)%360,ce,ot,ve!=null?ve:1]},V.hsla.from=function(B){if(B[0]==null||B[1]==null||B[2]==null)return[null,null,null,B[3]];var F=B[0]/360,ce=B[1],J=B[2],ae=B[3],se=.5>=J?J*(1+ce):J+ce-J*ce,ve=2*J-se;return[Math.round(255*_(ve,se,F+1/3)),Math.round(255*_(ve,se,F)),Math.round(255*_(ve,se,F-1/3)),ae]},Y(V,function(B,F){var ce=F.props,J=F.cache,ae=F.to,se=F.from;D.fn[B]=function(ve){if(ae&&!this[J]&&(this[J]=ae(this._rgba)),ve===u)return this[J].slice();var de,Be=y.type(ve),it=Be==="array"||Be==="object"?ve:arguments,mt=this[J].slice();return Y(ce,function(ot,Ae){var xe=it[Be==="object"?ot:Ae.idx];xe==null&&(xe=mt[Ae.idx]),mt[Ae.idx]=p(xe,Ae)}),se?(de=D(se(mt)),de[J]=mt,de):D(mt)},Y(ce,function(ve,de){D.fn[ve]||(D.fn[ve]=function(Be){var it,mt=y.type(Be),ot=ve==="alpha"?this._hsla?"hsla":"rgba":B,Ae=this[ot](),xe=Ae[de.idx];return mt==="undefined"?xe:(mt==="function"&&(Be=Be.call(this,xe),mt=y.type(Be)),Be==null&&de.empty?this:(mt==="string"&&(it=I.exec(Be),it&&(Be=xe+parseFloat(it[2])*(it[1]==="+"?1:-1))),Ae[de.idx]=Be,this[ot](Ae)))})})}),D.hook=function(B){var F=B.split(" ");Y(F,function(ce,J){y.cssHooks[J]={set:function(se,ve){var de,Be,it="";if(ve!=="transparent"&&(y.type(ve)!=="string"||(de=m(ve)))){if(ve=D(de||ve),!z.rgba&&ve._rgba[3]!==1){for(Be=J==="backgroundColor"?se.parentNode:se;(it===""||it==="transparent")&&Be&&Be.style;)try{it=y.css(Be,"backgroundColor"),Be=Be.parentNode}catch(mt){}ve=ve.blend(it&&it!=="transparent"?it:"_default")}ve=ve.toRgbaString()}try{se.style[J]=ve}catch(mt){}}},y.fx.step[J]=function(ae){ae.colorInit||(ae.start=D(ae.elem,J),ae.end=D(ae.end),ae.colorInit=!0),y.cssHooks[J].set(ae.elem,ae.start.transition(ae.end,ae.pos))}})},D.hook(O),y.cssHooks.borderColor={expand:function(F){var ce={};return Y(["Top","Right","Bottom","Left"],function(J,ae){ce["border"+ae+"Color"]=F}),ce}},x=y.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(j),function(){var y=function(x){var O,I,P=x.ownerDocument.defaultView?x.ownerDocument.defaultView.getComputedStyle(x,null):x.currentStyle,D={};if(P&&P.length&&P[0]&&P[P[0]])for(I=P.length;I--;)O=P[I],typeof P[O]=="string"&&(D[t.camelCase(O)]=P[O]);else for(O in P)typeof P[O]=="string"&&(D[O]=P[O]);return D},u=function(x,O){var I,P,D={};for(I in O)P=O[I],x[I]!==P&&(m[I]||(t.fx.step[I]||!isNaN(parseFloat(P)))&&(D[I]=P));return D},p=["add","remove","toggle"],m={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(_,x){t.fx.step[x]=function(O){(O.end!=="none"&&!O.setAttr||O.pos===1&&!O.setAttr)&&(j.style(O.elem,x,O.end),O.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(_){return this.add(_==null?this.prevObject:this.prevObject.filter(_))}),t.effects.animateClass=function(_,x,O,I){var P=t.speed(x,O,I);return this.queue(function(){var D,V=t(this),q=V.attr("class")||"",z=P.children?V.find("*").addBack():V;z=z.map(function(){var he=t(this);return{el:he,start:y(this)}}),D=function(){t.each(p,function(Y,B){_[B]&&V[B+"Class"](_[B])})},D(),z=z.map(function(){return this.end=y(this.el[0]),this.diff=u(this.start,this.end),this}),V.attr("class",q),z=z.map(function(){var he=this,Y=t.Deferred(),B=t.extend({},P,{queue:!1,complete:function(){Y.resolve(he)}});return this.el.animate(this.diff,B),Y.promise()}),t.when.apply(t,z.get()).done(function(){D(),t.each(arguments,function(){var he=this.el;t.each(this.diff,function(Y){he.css(Y,"")})}),P.complete.call(V[0])})})},t.fn.extend({addClass:function(_){return function(x,O,I,P){return O?t.effects.animateClass.call(this,{add:x},O,I,P):_.apply(this,arguments)}}(t.fn.addClass),removeClass:function(_){return function(x,O,I,P){return arguments.length>1?t.effects.animateClass.call(this,{remove:x},O,I,P):_.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(_){return function(x,O,I,P,D){return typeof O=="boolean"||O===void 0?I?t.effects.animateClass.call(this,O?{add:x}:{remove:x},I,P,D):_.apply(this,arguments):t.effects.animateClass.call(this,{toggle:x},O,I,P)}}(t.fn.toggleClass),switchClass:function(x,O,I,P,D){return t.effects.animateClass.call(this,{add:O,remove:x},I,P,D)}})}(),function(){var y=function(m,_,x,O){return t.isPlainObject(m)&&(_=m,m=m.effect),m={effect:m},_==null&&(_={}),t.isFunction(_)&&(O=_,x=null,_={}),(typeof _=="number"||t.fx.speeds[_])&&(O=x,x=_,_={}),t.isFunction(x)&&(O=x,x=null),_&&t.extend(m,_),x=x||_.duration,m.duration=t.fx.off?0:typeof x=="number"?x:x in t.fx.speeds?t.fx.speeds[x]:t.fx.speeds._default,m.complete=O||_.complete,m},u=function(m){return!m||typeof m=="number"||t.fx.speeds[m]?!0:typeof m!="string"||t.effects.effect[m]?t.isFunction(m)?!0:!(typeof m!="object"||m.effect):!0};t.extend(t.effects,{version:"1.11.1",save:function(m,_){for(var x=0;_.length>x;x++)_[x]!==null&&m.data(A+_[x],m[0].style[_[x]])},restore:function(m,_){var x,O;for(O=0;_.length>O;O++)_[O]!==null&&(x=m.data(A+_[O]),x===void 0&&(x=""),m.css(_[O],x))},setMode:function(m,_){return _==="toggle"&&(_=m.is(":hidden")?"show":"hide"),_},getBaseline:function(m,_){var x,O;switch(m[0]){case"top":x=0;break;case"middle":x=.5;break;case"bottom":x=1;break;default:x=m[0]/_.height}switch(m[1]){case"left":O=0;break;case"center":O=.5;break;case"right":O=1;break;default:O=m[1]/_.width}return{x:O,y:x}},createWrapper:function(m){if(m.parent().is(".ui-effects-wrapper"))return m.parent();var _={width:m.outerWidth(!0),height:m.outerHeight(!0),float:m.css("float")},x=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),O={width:m.width(),height:m.height()},I=document.activeElement;try{I.id}catch(P){I=document.body}return m.wrap(x),(m[0]===I||t.contains(m[0],I))&&t(I).focus(),x=m.parent(),m.css("position")==="static"?(x.css({position:"relative"}),m.css({position:"relative"})):(t.extend(_,{position:m.css("position"),zIndex:m.css("z-index")}),t.each(["top","left","bottom","right"],function(P,D){_[D]=m.css(D),isNaN(parseInt(_[D],10))&&(_[D]="auto")}),m.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),m.css(O),x.css(_).show()},removeWrapper:function(m){var _=document.activeElement;return m.parent().is(".ui-effects-wrapper")&&(m.parent().replaceWith(m),(m[0]===_||t.contains(m[0],_))&&t(_).focus()),m},setTransition:function(m,_,x,O){return O=O||{},t.each(_,function(I,P){var D=m.cssUnit(P);D[0]>0&&(O[P]=D[0]*x+D[1])}),O}}),t.fn.extend({effect:function(){var m=function(D){function V(){t.isFunction(z)&&z.call(q[0]),t.isFunction(D)&&D()}var q=t(this),z=_.complete,he=_.mode;(q.is(":hidden")?he==="hide":he==="show")?(q[he](),V()):I.call(q[0],_,V)},_=y.apply(this,arguments),x=_.mode,O=_.queue,I=t.effects.effect[_.effect];return t.fx.off||!I?x?this[x](_.duration,_.complete):this.each(function(){_.complete&&_.complete.call(this)}):O===!1?this.each(m):this.queue(O||"fx",m)},show:function(p){return function(m){if(u(m))return p.apply(this,arguments);var _=y.apply(this,arguments);return _.mode="show",this.effect.call(this,_)}}(t.fn.show),hide:function(p){return function(m){if(u(m))return p.apply(this,arguments);var _=y.apply(this,arguments);return _.mode="hide",this.effect.call(this,_)}}(t.fn.hide),toggle:function(p){return function(m){if(u(m)||typeof m=="boolean")return p.apply(this,arguments);var _=y.apply(this,arguments);return _.mode="toggle",this.effect.call(this,_)}}(t.fn.toggle),cssUnit:function(m){var _=this.css(m),x=[];return t.each(["em","px","%","pt"],function(O,I){_.indexOf(I)>0&&(x=[parseFloat(_),I])}),x}})}(),function(){var y={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(u,p){y[p]=function(m){return Math.pow(m,u+2)}}),t.extend(y,{Sine:function(p){return 1-Math.cos(p*Math.PI/2)},Circ:function(p){return 1-Math.sqrt(1-p*p)},Elastic:function(p){return p===0||p===1?p:-Math.pow(2,8*(p-1))*Math.sin((80*(p-1)-7.5)*Math.PI/15)},Back:function(p){return p*p*(3*p-2)},Bounce:function(p){for(var m,_=4;((m=Math.pow(2,--_))-1)/11>p;);return 1/Math.pow(4,3-_)-7.5625*Math.pow((3*m-2)/22-p,2)}}),t.each(y,function(u,p){t.easing["easeIn"+u]=p,t.easing["easeOut"+u]=function(m){return 1-p(1-m)},t.easing["easeInOut"+u]=function(m){return .5>m?p(2*m)/2:1-p(-2*m+2)/2}})}(),t.effects,t.effects.effect.blind=function(y,u){var p,m,_,x=t(this),O=/up|down|vertical/,I=/up|left|vertical|horizontal/,P=["position","top","bottom","left","right","height","width"],D=t.effects.setMode(x,y.mode||"hide"),V=y.direction||"up",q=O.test(V),z=q?"height":"width",he=q?"top":"left",Y=I.test(V),B={},F=D==="show";x.parent().is(".ui-effects-wrapper")?t.effects.save(x.parent(),P):t.effects.save(x,P),x.show(),p=t.effects.createWrapper(x).css({overflow:"hidden"}),m=p[z](),_=parseFloat(p.css(he))||0,B[z]=F?m:0,Y||(x.css(q?"bottom":"right",0).css(q?"top":"left","auto").css({position:"absolute"}),B[he]=F?_:m+_),F&&(p.css(z,0),Y||p.css(he,_+m)),p.animate(B,{duration:y.duration,easing:y.easing,queue:!1,complete:function(){D==="hide"&&x.hide(),t.effects.restore(x,P),t.effects.removeWrapper(x),u()}})},t.effects.effect.bounce=function(y,u){var p,m,_,x=t(this),O=["position","top","bottom","left","right","height","width"],I=t.effects.setMode(x,y.mode||"effect"),P=I==="hide",D=I==="show",V=y.direction||"up",q=y.distance,z=y.times||5,he=2*z+(D||P?1:0),Y=y.duration/he,B=y.easing,F=V==="up"||V==="down"?"top":"left",ce=V==="up"||V==="left",J=x.queue(),ae=J.length;for((D||P)&&O.push("opacity"),t.effects.save(x,O),x.show(),t.effects.createWrapper(x),q||(q=x[F==="top"?"outerHeight":"outerWidth"]()/3),D&&(_={opacity:1},_[F]=0,x.css("opacity",0).css(F,ce?2*-q:2*q).animate(_,Y,B)),P&&(q/=Math.pow(2,z-1)),_={},_[F]=0,p=0;z>p;p++)m={},m[F]=(ce?"-=":"+=")+q,x.animate(m,Y,B).animate(_,Y,B),q=P?2*q:q/2;P&&(m={opacity:0},m[F]=(ce?"-=":"+=")+q,x.animate(m,Y,B)),x.queue(function(){P&&x.hide(),t.effects.restore(x,O),t.effects.removeWrapper(x),u()}),ae>1&&J.splice.apply(J,[1,0].concat(J.splice(ae,he+1))),x.dequeue()},t.effects.effect.clip=function(y,u){var p,m,_,x=t(this),O=["position","top","bottom","left","right","height","width"],I=t.effects.setMode(x,y.mode||"hide"),P=I==="show",D=y.direction||"vertical",V=D==="vertical",q=V?"height":"width",z=V?"top":"left",he={};t.effects.save(x,O),x.show(),p=t.effects.createWrapper(x).css({overflow:"hidden"}),m=x[0].tagName==="IMG"?p:x,_=m[q](),P&&(m.css(q,0),m.css(z,_/2)),he[q]=P?_:0,he[z]=P?0:_/2,m.animate(he,{queue:!1,duration:y.duration,easing:y.easing,complete:function(){P||x.hide(),t.effects.restore(x,O),t.effects.removeWrapper(x),u()}})},t.effects.effect.drop=function(y,u){var p,m=t(this),_=["position","top","bottom","left","right","opacity","height","width"],x=t.effects.setMode(m,y.mode||"hide"),O=x==="show",I=y.direction||"left",P=I==="up"||I==="down"?"top":"left",D=I==="up"||I==="left"?"pos":"neg",V={opacity:O?1:0};t.effects.save(m,_),m.show(),t.effects.createWrapper(m),p=y.distance||m[P==="top"?"outerHeight":"outerWidth"](!0)/2,O&&m.css("opacity",0).css(P,D==="pos"?-p:p),V[P]=(O?D==="pos"?"+=":"-=":D==="pos"?"-=":"+=")+p,m.animate(V,{queue:!1,duration:y.duration,easing:y.easing,complete:function(){x==="hide"&&m.hide(),t.effects.restore(m,_),t.effects.removeWrapper(m),u()}})},t.effects.effect.explode=function(y,u){var p=function(){J.push(this),J.length===V*q&&m()},m=function(){z.css({visibility:"visible"}),t(J).remove(),Y||z.hide(),u()},_,x,O,I,P,D,V=y.pieces?Math.round(Math.sqrt(y.pieces)):3,q=V,z=t(this),he=t.effects.setMode(z,y.mode||"hide"),Y=he==="show",B=z.show().css("visibility","hidden").offset(),F=Math.ceil(z.outerWidth()/q),ce=Math.ceil(z.outerHeight()/V),J=[];for(_=0;V>_;_++)for(I=B.top+_*ce,D=_-(V-1)/2,x=0;q>x;x++)O=B.left+x*F,P=x-(q-1)/2,z.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-x*F,top:-_*ce}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:F,height:ce,left:O+(Y?P*F:0),top:I+(Y?D*ce:0),opacity:Y?0:1}).animate({left:O+(Y?0:P*F),top:I+(Y?0:D*ce),opacity:Y?1:0},y.duration||500,y.easing,p)},t.effects.effect.fade=function(y,u){var p=t(this),m=t.effects.setMode(p,y.mode||"toggle");p.animate({opacity:m},{queue:!1,duration:y.duration,easing:y.easing,complete:u})},t.effects.effect.fold=function(y,u){var p,m,_=t(this),x=["position","top","bottom","left","right","height","width"],O=t.effects.setMode(_,y.mode||"hide"),I=O==="show",P=O==="hide",D=y.size||15,V=/([0-9]+)%/.exec(D),q=!!y.horizFirst,z=I!==q,he=z?["width","height"]:["height","width"],Y=y.duration/2,B={},F={};t.effects.save(_,x),_.show(),p=t.effects.createWrapper(_).css({overflow:"hidden"}),m=z?[p.width(),p.height()]:[p.height(),p.width()],V&&(D=parseInt(V[1],10)/100*m[P?0:1]),I&&p.css(q?{height:0,width:D}:{height:D,width:0}),B[he[0]]=I?m[0]:D,F[he[1]]=I?m[1]:0,p.animate(B,Y,y.easing).animate(F,Y,y.easing,function(){P&&_.hide(),t.effects.restore(_,x),t.effects.removeWrapper(_),u()})},t.effects.effect.highlight=function(y,u){var p=t(this),m=["backgroundImage","backgroundColor","opacity"],_=t.effects.setMode(p,y.mode||"show"),x={backgroundColor:p.css("backgroundColor")};_==="hide"&&(x.opacity=0),t.effects.save(p,m),p.show().css({backgroundImage:"none",backgroundColor:y.color||"#ffff99"}).animate(x,{queue:!1,duration:y.duration,easing:y.easing,complete:function(){_==="hide"&&p.hide(),t.effects.restore(p,m),u()}})},t.effects.effect.size=function(y,u){var p,m,_,x=t(this),O=["position","top","bottom","left","right","width","height","overflow","opacity"],I=["position","top","bottom","left","right","overflow","opacity"],P=["width","height","overflow"],D=["fontSize"],V=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],q=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],z=t.effects.setMode(x,y.mode||"effect"),he=y.restore||z!=="effect",Y=y.scale||"both",B=y.origin||["middle","center"],F=x.css("position"),ce=he?O:I,J={height:0,width:0,outerHeight:0,outerWidth:0};z==="show"&&x.show(),p={height:x.height(),width:x.width(),outerHeight:x.outerHeight(),outerWidth:x.outerWidth()},y.mode==="toggle"&&z==="show"?(x.from=y.to||J,x.to=y.from||p):(x.from=y.from||(z==="show"?J:p),x.to=y.to||(z==="hide"?J:p)),_={from:{y:x.from.height/p.height,x:x.from.width/p.width},to:{y:x.to.height/p.height,x:x.to.width/p.width}},(Y==="box"||Y==="both")&&(_.from.y!==_.to.y&&(ce=ce.concat(V),x.from=t.effects.setTransition(x,V,_.from.y,x.from),x.to=t.effects.setTransition(x,V,_.to.y,x.to)),_.from.x!==_.to.x&&(ce=ce.concat(q),x.from=t.effects.setTransition(x,q,_.from.x,x.from),x.to=t.effects.setTransition(x,q,_.to.x,x.to))),(Y==="content"||Y==="both")&&_.from.y!==_.to.y&&(ce=ce.concat(D).concat(P),x.from=t.effects.setTransition(x,D,_.from.y,x.from),x.to=t.effects.setTransition(x,D,_.to.y,x.to)),t.effects.save(x,ce),x.show(),t.effects.createWrapper(x),x.css("overflow","hidden").css(x.from),B&&(m=t.effects.getBaseline(B,p),x.from.top=(p.outerHeight-x.outerHeight())*m.y,x.from.left=(p.outerWidth-x.outerWidth())*m.x,x.to.top=(p.outerHeight-x.to.outerHeight)*m.y,x.to.left=(p.outerWidth-x.to.outerWidth)*m.x),x.css(x.from),(Y==="content"||Y==="both")&&(V=V.concat(["marginTop","marginBottom"]).concat(D),q=q.concat(["marginLeft","marginRight"]),P=O.concat(V).concat(q),x.find("*[width]").each(function(){var ae=t(this),se={height:ae.height(),width:ae.width(),outerHeight:ae.outerHeight(),outerWidth:ae.outerWidth()};he&&t.effects.save(ae,P),ae.from={height:se.height*_.from.y,width:se.width*_.from.x,outerHeight:se.outerHeight*_.from.y,outerWidth:se.outerWidth*_.from.x},ae.to={height:se.height*_.to.y,width:se.width*_.to.x,outerHeight:se.height*_.to.y,outerWidth:se.width*_.to.x},_.from.y!==_.to.y&&(ae.from=t.effects.setTransition(ae,V,_.from.y,ae.from),ae.to=t.effects.setTransition(ae,V,_.to.y,ae.to)),_.from.x!==_.to.x&&(ae.from=t.effects.setTransition(ae,q,_.from.x,ae.from),ae.to=t.effects.setTransition(ae,q,_.to.x,ae.to)),ae.css(ae.from),ae.animate(ae.to,y.duration,y.easing,function(){he&&t.effects.restore(ae,P)})})),x.animate(x.to,{queue:!1,duration:y.duration,easing:y.easing,complete:function(){x.to.opacity===0&&x.css("opacity",x.from.opacity),z==="hide"&&x.hide(),t.effects.restore(x,ce),he||(F==="static"?x.css({position:"relative",top:x.to.top,left:x.to.left}):t.each(["top","left"],function(se,ve){x.css(ve,function(de,Be){var it=parseInt(Be,10),mt=se?x.to.left:x.to.top;return Be==="auto"?mt+"px":it+mt+"px"})})),t.effects.removeWrapper(x),u()}})},t.effects.effect.scale=function(y,u){var p=t(this),m=t.extend(!0,{},y),_=t.effects.setMode(p,y.mode||"effect"),x=parseInt(y.percent,10)||(parseInt(y.percent,10)===0||_==="hide"?0:100),O=y.direction||"both",I=y.origin,P={height:p.height(),width:p.width(),outerHeight:p.outerHeight(),outerWidth:p.outerWidth()},D={y:O!=="horizontal"?x/100:1,x:O!=="vertical"?x/100:1};m.effect="size",m.queue=!1,m.complete=u,_!=="effect"&&(m.origin=I||["middle","center"],m.restore=!0),m.from=y.from||(_==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:P),m.to={height:P.height*D.y,width:P.width*D.x,outerHeight:P.outerHeight*D.y,outerWidth:P.outerWidth*D.x},m.fade&&(_==="show"&&(m.from.opacity=0,m.to.opacity=1),_==="hide"&&(m.from.opacity=1,m.to.opacity=0)),p.effect(m)},t.effects.effect.puff=function(y,u){var p=t(this),m=t.effects.setMode(p,y.mode||"hide"),_=m==="hide",x=parseInt(y.percent,10)||150,O=x/100,I={height:p.height(),width:p.width(),outerHeight:p.outerHeight(),outerWidth:p.outerWidth()};t.extend(y,{effect:"scale",queue:!1,fade:!0,mode:m,complete:u,percent:_?x:100,from:_?I:{height:I.height*O,width:I.width*O,outerHeight:I.outerHeight*O,outerWidth:I.outerWidth*O}}),p.effect(y)},t.effects.effect.pulsate=function(y,u){var p,m=t(this),_=t.effects.setMode(m,y.mode||"show"),x=_==="show",O=_==="hide",I=x||_==="hide",P=2*(y.times||5)+(I?1:0),D=y.duration/P,V=0,q=m.queue(),z=q.length;for((x||!m.is(":visible"))&&(m.css("opacity",0).show(),V=1),p=1;P>p;p++)m.animate({opacity:V},D,y.easing),V=1-V;m.animate({opacity:V},D,y.easing),m.queue(function(){O&&m.hide(),u()}),z>1&&q.splice.apply(q,[1,0].concat(q.splice(z,P+1))),m.dequeue()},t.effects.effect.shake=function(y,u){var p,m=t(this),_=["position","top","bottom","left","right","height","width"],x=t.effects.setMode(m,y.mode||"effect"),O=y.direction||"left",I=y.distance||20,P=y.times||3,D=2*P+1,V=Math.round(y.duration/D),q=O==="up"||O==="down"?"top":"left",z=O==="up"||O==="left",he={},Y={},B={},F=m.queue(),ce=F.length;for(t.effects.save(m,_),m.show(),t.effects.createWrapper(m),he[q]=(z?"-=":"+=")+I,Y[q]=(z?"+=":"-=")+2*I,B[q]=(z?"-=":"+=")+2*I,m.animate(he,V,y.easing),p=1;P>p;p++)m.animate(Y,V,y.easing).animate(B,V,y.easing);m.animate(Y,V,y.easing).animate(he,V/2,y.easing).queue(function(){x==="hide"&&m.hide(),t.effects.restore(m,_),t.effects.removeWrapper(m),u()}),ce>1&&F.splice.apply(F,[1,0].concat(F.splice(ce,D+1))),m.dequeue()},t.effects.effect.slide=function(y,u){var p,m=t(this),_=["position","top","bottom","left","right","width","height"],x=t.effects.setMode(m,y.mode||"show"),O=x==="show",I=y.direction||"left",P=I==="up"||I==="down"?"top":"left",D=I==="up"||I==="left",V={};t.effects.save(m,_),m.show(),p=y.distance||m[P==="top"?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(m).css({overflow:"hidden"}),O&&m.css(P,D?isNaN(p)?"-"+p:-p:p),V[P]=(O?D?"+=":"-=":D?"-=":"+=")+p,m.animate(V,{queue:!1,duration:y.duration,easing:y.easing,complete:function(){x==="hide"&&m.hide(),t.effects.restore(m,_),t.effects.removeWrapper(m),u()}})},t.effects.effect.transfer=function(y,u){var p=t(this),m=t(y.to),_=m.css("position")==="fixed",x=t("body"),O=_?x.scrollTop():0,I=_?x.scrollLeft():0,P=m.offset(),D={top:P.top-O,left:P.left-I,height:m.innerHeight(),width:m.innerWidth()},V=p.offset(),q=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(y.className).css({top:V.top-O,left:V.left-I,height:p.innerHeight(),width:p.innerWidth(),position:_?"fixed":"absolute"}).animate(D,y.duration,y.easing,function(){q.remove(),u()})},t.widget("ui.progressbar",{version:"1.11.1",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(u){return u===void 0?this.options.value:(this.options.value=this._constrainedValue(u),this._refreshValue(),void 0)},_constrainedValue:function(u){return u===void 0&&(u=this.options.value),this.indeterminate=u===!1,typeof u!="number"&&(u=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,u))},_setOptions:function(u){var p=u.value;delete u.value,this._super(u),this.options.value=this._constrainedValue(p),this._refreshValue()},_setOption:function(u,p){u==="max"&&(p=Math.max(this.min,p)),u==="disabled"&&this.element.toggleClass("ui-state-disabled",!!p).attr("aria-disabled",p),this._super(u,p)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var u=this.options.value,p=this._percentage();this.valueDiv.toggle(this.indeterminate||u>this.min).toggleClass("ui-corner-right",u===this.options.max).width(p.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":u}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==u&&(this.oldValue=u,this._trigger("change")),u===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.11.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var u,p=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){u=t(p.options.filter,p.element[0]),u.addClass("ui-selectee"),u.each(function(){var m=t(this),_=m.offset();t.data(this,"selectable-item",{element:this,$element:m,left:_.left,top:_.top,right:_.left+m.outerWidth(),bottom:_.top+m.outerHeight(),startselected:!1,selected:m.hasClass("ui-selected"),selecting:m.hasClass("ui-selecting"),unselecting:m.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=u.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(u){var p=this,m=this.options;this.opos=[u.pageX,u.pageY],this.options.disabled||(this.selectees=t(m.filter,this.element[0]),this._trigger("start",u),t(m.appendTo).append(this.helper),this.helper.css({left:u.pageX,top:u.pageY,width:0,height:0}),m.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var _=t.data(this,"selectable-item");_.startselected=!0,u.metaKey||u.ctrlKey||(_.$element.removeClass("ui-selected"),_.selected=!1,_.$element.addClass("ui-unselecting"),_.unselecting=!0,p._trigger("unselecting",u,{unselecting:_.element}))}),t(u.target).parents().addBack().each(function(){var _,x=t.data(this,"selectable-item");return x?(_=!u.metaKey&&!u.ctrlKey||!x.$element.hasClass("ui-selected"),x.$element.removeClass(_?"ui-unselecting":"ui-selected").addClass(_?"ui-selecting":"ui-unselecting"),x.unselecting=!_,x.selecting=_,x.selected=_,_?p._trigger("selecting",u,{selecting:x.element}):p._trigger("unselecting",u,{unselecting:x.element}),!1):void 0}))},_mouseDrag:function(u){if(this.dragged=!0,!this.options.disabled){var p,m=this,_=this.options,x=this.opos[0],O=this.opos[1],I=u.pageX,P=u.pageY;return x>I&&(p=I,I=x,x=p),O>P&&(p=P,P=O,O=p),this.helper.css({left:x,top:O,width:I-x,height:P-O}),this.selectees.each(function(){var D=t.data(this,"selectable-item"),V=!1;D&&D.element!==m.element[0]&&(_.tolerance==="touch"?V=!(D.left>I||x>D.right||D.top>P||O>D.bottom):_.tolerance==="fit"&&(V=D.left>x&&I>D.right&&D.top>O&&P>D.bottom),V?(D.selected&&(D.$element.removeClass("ui-selected"),D.selected=!1),D.unselecting&&(D.$element.removeClass("ui-unselecting"),D.unselecting=!1),D.selecting||(D.$element.addClass("ui-selecting"),D.selecting=!0,m._trigger("selecting",u,{selecting:D.element}))):(D.selecting&&((u.metaKey||u.ctrlKey)&&D.startselected?(D.$element.removeClass("ui-selecting"),D.selecting=!1,D.$element.addClass("ui-selected"),D.selected=!0):(D.$element.removeClass("ui-selecting"),D.selecting=!1,D.startselected&&(D.$element.addClass("ui-unselecting"),D.unselecting=!0),m._trigger("unselecting",u,{unselecting:D.element}))),D.selected&&(u.metaKey||u.ctrlKey||D.startselected||(D.$element.removeClass("ui-selected"),D.selected=!1,D.$element.addClass("ui-unselecting"),D.unselecting=!0,m._trigger("unselecting",u,{unselecting:D.element})))))}),!1}},_mouseStop:function(u){var p=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var m=t.data(this,"selectable-item");m.$element.removeClass("ui-unselecting"),m.unselecting=!1,m.startselected=!1,p._trigger("unselected",u,{unselected:m.element})}),t(".ui-selecting",this.element[0]).each(function(){var m=t.data(this,"selectable-item");m.$element.removeClass("ui-selecting").addClass("ui-selected"),m.selecting=!1,m.selected=!0,m.startselected=!0,p._trigger("selected",u,{selected:m.element})}),this._trigger("stop",u),this.helper.remove(),!1}}),t.widget("ui.selectmenu",{version:"1.11.1",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var u=this.element.uniqueId().attr("id");this.ids={element:u,button:u+"-button",menu:u+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var u=this,p=this.element.attr("tabindex");this.label=t("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(_){this.button.focus(),_.preventDefault()}}),this.element.hide(),this.button=t("<span>",{class:"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:p||this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),t("<span>",{class:"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=t("<span>",{class:"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){u.menuItems||u._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var u=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>",{class:"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(m,_){m.preventDefault(),u._select(_.item.data("ui-selectmenu-item"),m)},focus:function(m,_){var x=_.item.data("ui-selectmenu-item");u.focusIndex!=null&&x.index!==u.focusIndex&&(u._trigger("focus",m,{item:x}),u.isOpen||u._select(x,m)),u.focusIndex=x.index,u.button.attr("aria-activedescendant",u.menuItems.eq(x.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var u,p=this.element.find("option");p.length&&(this._parseOptions(p),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),u=this._getSelectedItem(),this.menuInstance.focus(null,u),this._setAria(u.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(u){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",u))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(u){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this._off(this.document),this._trigger("close",u))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(u,p){var m=this,_="";t.each(p,function(x,O){O.optgroup!==_&&(t("<li>",{class:"ui-selectmenu-optgroup ui-menu-divider"+(O.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:O.optgroup}).appendTo(u),_=O.optgroup),m._renderItemData(u,O)})},_renderItemData:function(u,p){return this._renderItem(u,p).data("ui-selectmenu-item",p)},_renderItem:function(u,p){var m=t("<li>");return p.disabled&&m.addClass("ui-state-disabled"),this._setText(m,p.label),m.appendTo(u)},_setText:function(u,p){p?u.text(p):u.html("&#160;")},_move:function(u,p){var m,_,x=".ui-menu-item";this.isOpen?m=this.menuItems.eq(this.focusIndex):(m=this.menuItems.eq(this.element[0].selectedIndex),x+=":not(.ui-state-disabled)"),_=u==="first"||u==="last"?m[u==="first"?"prevAll":"nextAll"](x).eq(-1):m[u+"All"](x).eq(0),_.length&&this.menuInstance.focus(p,_)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(u){this[this.isOpen?"close":"open"](u)},_documentClick:{mousedown:function(u){this.isOpen&&(t(u.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(u))}},_buttonEvents:{mousedown:function(u){u.preventDefault()},click:"_toggle",keydown:function(u){var p=!0;switch(u.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(u),p=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(u);break;case t.ui.keyCode.UP:u.altKey?this._toggle(u):this._move("prev",u);break;case t.ui.keyCode.DOWN:u.altKey?this._toggle(u):this._move("next",u);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(u):this._toggle(u);break;case t.ui.keyCode.LEFT:this._move("prev",u);break;case t.ui.keyCode.RIGHT:this._move("next",u);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",u);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",u);break;default:this.menu.trigger(u),p=!1}p&&u.preventDefault()}},_selectFocusedItem:function(u){var p=this.menuItems.eq(this.focusIndex);p.hasClass("ui-state-disabled")||this._select(p.data("ui-selectmenu-item"),u)},_select:function(u,p){var m=this.element[0].selectedIndex;this.element[0].selectedIndex=u.index,this._setText(this.buttonText,u.label),this._setAria(u),this._trigger("select",p,{item:u}),u.index!==m&&this._trigger("change",p,{item:u}),this.close(p)},_setAria:function(u){var p=this.menuItems.eq(u.index).attr("id");this.button.attr({"aria-labelledby":p,"aria-activedescendant":p}),this.menu.attr("aria-activedescendant",p)},_setOption:function(u,p){u==="icons"&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(p.button),this._super(u,p),u==="appendTo"&&this.menuWrap.appendTo(this._appendTo()),u==="disabled"&&(this.menuInstance.option("disabled",p),this.button.toggleClass("ui-state-disabled",p).attr("aria-disabled",p),this.element.prop("disabled",p),p?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),u==="width"&&this._resizeButton()},_appendTo:function(){var u=this.options.appendTo;return u&&(u=u.jquery||u.nodeType?t(u):this.document.find(u).eq(0)),u&&u[0]||(u=this.element.closest(".ui-front")),u.length||(u=this.document[0].body),u},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var u=this.options.width;u||(u=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(u)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(u){var p=[];u.each(function(m,_){var x=t(_),O=x.parent("optgroup");p.push({element:x,index:m,value:x.attr("value"),label:x.text(),optgroup:O.attr("label")||"",disabled:O.prop("disabled")||x.prop("disabled")})}),this.items=p},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),t.widget("ui.slider",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var u,p,m=this.options,_=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),x="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",O=[];for(p=m.values&&m.values.length||1,_.length>p&&(_.slice(p).remove(),_=_.slice(0,p)),u=_.length;p>u;u++)O.push(x);this.handles=_.add(t(O.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(I){t(this).data("ui-slider-handle-index",I)})},_createRange:function(){var u=this.options,p="";u.range?(u.range===!0&&(u.values?u.values.length&&u.values.length!==2?u.values=[u.values[0],u.values[0]]:t.isArray(u.values)&&(u.values=u.values.slice(0)):u.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),p="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(p+(u.range==="min"||u.range==="max"?" ui-slider-range-"+u.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(u){var p,m,_,x,O,I,P,D,V=this,q=this.options;return q.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),p={x:u.pageX,y:u.pageY},m=this._normValueFromMouse(p),_=this._valueMax()-this._valueMin()+1,this.handles.each(function(z){var he=Math.abs(m-V.values(z));(_>he||_===he&&(z===V._lastChangedValue||V.values(z)===q.min))&&(_=he,x=t(this),O=z)}),I=this._start(u,O),I===!1?!1:(this._mouseSliding=!0,this._handleIndex=O,x.addClass("ui-state-active").focus(),P=x.offset(),D=!t(u.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=D?{left:0,top:0}:{left:u.pageX-P.left-x.width()/2,top:u.pageY-P.top-x.height()/2-(parseInt(x.css("borderTopWidth"),10)||0)-(parseInt(x.css("borderBottomWidth"),10)||0)+(parseInt(x.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(u,O,m),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(u){var p={x:u.pageX,y:u.pageY},m=this._normValueFromMouse(p);return this._slide(u,this._handleIndex,m),!1},_mouseStop:function(u){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(u,this._handleIndex),this._change(u,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(u){var p,m,_,x,O;return this.orientation==="horizontal"?(p=this.elementSize.width,m=u.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(p=this.elementSize.height,m=u.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),_=m/p,_>1&&(_=1),0>_&&(_=0),this.orientation==="vertical"&&(_=1-_),x=this._valueMax()-this._valueMin(),O=this._valueMin()+_*x,this._trimAlignValue(O)},_start:function(u,p){var m={handle:this.handles[p],value:this.value()};return this.options.values&&this.options.values.length&&(m.value=this.values(p),m.values=this.values()),this._trigger("start",u,m)},_slide:function(u,p,m){var _,x,O;this.options.values&&this.options.values.length?(_=this.values(p?0:1),this.options.values.length===2&&this.options.range===!0&&(p===0&&m>_||p===1&&_>m)&&(m=_),m!==this.values(p)&&(x=this.values(),x[p]=m,O=this._trigger("slide",u,{handle:this.handles[p],value:m,values:x}),_=this.values(p?0:1),O!==!1&&this.values(p,m))):m!==this.value()&&(O=this._trigger("slide",u,{handle:this.handles[p],value:m}),O!==!1&&this.value(m))},_stop:function(u,p){var m={handle:this.handles[p],value:this.value()};this.options.values&&this.options.values.length&&(m.value=this.values(p),m.values=this.values()),this._trigger("stop",u,m)},_change:function(u,p){if(!this._keySliding&&!this._mouseSliding){var m={handle:this.handles[p],value:this.value()};this.options.values&&this.options.values.length&&(m.value=this.values(p),m.values=this.values()),this._lastChangedValue=p,this._trigger("change",u,m)}},value:function(u){return arguments.length?(this.options.value=this._trimAlignValue(u),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(u,p){var m,_,x;if(arguments.length>1)return this.options.values[u]=this._trimAlignValue(p),this._refreshValue(),this._change(null,u),void 0;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(u):this.value();for(m=this.options.values,_=arguments[0],x=0;m.length>x;x+=1)m[x]=this._trimAlignValue(_[x]),this._change(null,x);this._refreshValue()},_setOption:function(u,p){var m,_=0;switch(u==="range"&&this.options.range===!0&&(p==="min"?(this.options.value=this._values(0),this.options.values=null):p==="max"&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(_=this.options.values.length),u==="disabled"&&this.element.toggleClass("ui-state-disabled",!!p),this._super(u,p),u){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css(p==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),m=0;_>m;m+=1)this._change(null,m);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var u=this.options.value;return u=this._trimAlignValue(u)},_values:function(u){var p,m,_;if(arguments.length)return p=this.options.values[u],p=this._trimAlignValue(p);if(this.options.values&&this.options.values.length){for(m=this.options.values.slice(),_=0;m.length>_;_+=1)m[_]=this._trimAlignValue(m[_]);return m}return[]},_trimAlignValue:function(u){if(this._valueMin()>=u)return this._valueMin();if(u>=this._valueMax())return this._valueMax();var p=this.options.step>0?this.options.step:1,m=(u-this._valueMin())%p,_=u-m;return 2*Math.abs(m)>=p&&(_+=m>0?p:-p),parseFloat(_.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var u,p,m,_,x,O=this.options.range,I=this.options,P=this,D=this._animateOff?!1:I.animate,V={};this.options.values&&this.options.values.length?this.handles.each(function(q){p=100*((P.values(q)-P._valueMin())/(P._valueMax()-P._valueMin())),V[P.orientation==="horizontal"?"left":"bottom"]=p+"%",t(this).stop(1,1)[D?"animate":"css"](V,I.animate),P.options.range===!0&&(P.orientation==="horizontal"?(q===0&&P.range.stop(1,1)[D?"animate":"css"]({left:p+"%"},I.animate),q===1&&P.range[D?"animate":"css"]({width:p-u+"%"},{queue:!1,duration:I.animate})):(q===0&&P.range.stop(1,1)[D?"animate":"css"]({bottom:p+"%"},I.animate),q===1&&P.range[D?"animate":"css"]({height:p-u+"%"},{queue:!1,duration:I.animate}))),u=p}):(m=this.value(),_=this._valueMin(),x=this._valueMax(),p=x!==_?100*((m-_)/(x-_)):0,V[this.orientation==="horizontal"?"left":"bottom"]=p+"%",this.handle.stop(1,1)[D?"animate":"css"](V,I.animate),O==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[D?"animate":"css"]({width:p+"%"},I.animate),O==="max"&&this.orientation==="horizontal"&&this.range[D?"animate":"css"]({width:100-p+"%"},{queue:!1,duration:I.animate}),O==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[D?"animate":"css"]({height:p+"%"},I.animate),O==="max"&&this.orientation==="vertical"&&this.range[D?"animate":"css"]({height:100-p+"%"},{queue:!1,duration:I.animate}))},_handleEvents:{keydown:function(u){var p,m,_,x,O=t(u.target).data("ui-slider-handle-index");switch(u.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(u.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(u.target).addClass("ui-state-active"),p=this._start(u,O),p===!1))return}switch(x=this.options.step,m=_=this.options.values&&this.options.values.length?this.values(O):this.value(),u.keyCode){case t.ui.keyCode.HOME:_=this._valueMin();break;case t.ui.keyCode.END:_=this._valueMax();break;case t.ui.keyCode.PAGE_UP:_=this._trimAlignValue(m+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:_=this._trimAlignValue(m-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(m===this._valueMax())return;_=this._trimAlignValue(m+x);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(m===this._valueMin())return;_=this._trimAlignValue(m-x)}this._slide(u,O,_)},keyup:function(u){var p=t(u.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(u,p),this._change(u,p),t(u.target).removeClass("ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.11.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(u,p,m){return u>=p&&p+m>u},_isFloating:function(u){return/left|right/.test(u.css("float"))||/inline|table-cell/.test(u.css("display"))},_create:function(){var u=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?u.axis==="x"||this._isFloating(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(u,p){this._super(u,p),u==="handle"&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var u=this.items.length-1;u>=0;u--)this.items[u].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(u,p){var m=null,_=!1,x=this;return this.reverting||this.options.disabled||this.options.type==="static"?!1:(this._refreshItems(u),t(u.target).parents().each(function(){return t.data(this,x.widgetName+"-item")===x?(m=t(this),!1):void 0}),t.data(u.target,x.widgetName+"-item")===x&&(m=t(u.target)),m&&(!this.options.handle||p||(t(this.options.handle,m).find("*").addBack().each(function(){this===u.target&&(_=!0)}),_))?(this.currentItem=m,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(u,p,m){var _,x,O=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(u),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:u.pageX-this.offset.left,top:u.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(u),this.originalPageX=u.pageX,this.originalPageY=u.pageY,O.cursorAt&&this._adjustOffsetFromHelper(O.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),O.containment&&this._setContainment(),O.cursor&&O.cursor!=="auto"&&(x=this.document.find("body"),this.storedCursor=x.css("cursor"),x.css("cursor",O.cursor),this.storedStylesheet=t("<style>*{ cursor: "+O.cursor+" !important; }</style>").appendTo(x)),O.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",O.opacity)),O.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",O.zIndex)),this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",u,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!m)for(_=this.containers.length-1;_>=0;_--)this.containers[_]._trigger("activate",u,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!O.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,u),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(u),!0},_mouseDrag:function(u){var p,m,_,x,O=this.options,I=!1;for(this.position=this._generatePosition(u),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-u.pageY<O.scrollSensitivity?this.scrollParent[0].scrollTop=I=this.scrollParent[0].scrollTop+O.scrollSpeed:u.pageY-this.overflowOffset.top<O.scrollSensitivity&&(this.scrollParent[0].scrollTop=I=this.scrollParent[0].scrollTop-O.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-u.pageX<O.scrollSensitivity?this.scrollParent[0].scrollLeft=I=this.scrollParent[0].scrollLeft+O.scrollSpeed:u.pageX-this.overflowOffset.left<O.scrollSensitivity&&(this.scrollParent[0].scrollLeft=I=this.scrollParent[0].scrollLeft-O.scrollSpeed)):(u.pageY-t(document).scrollTop()<O.scrollSensitivity?I=t(document).scrollTop(t(document).scrollTop()-O.scrollSpeed):t(window).height()-(u.pageY-t(document).scrollTop())<O.scrollSensitivity&&(I=t(document).scrollTop(t(document).scrollTop()+O.scrollSpeed)),u.pageX-t(document).scrollLeft()<O.scrollSensitivity?I=t(document).scrollLeft(t(document).scrollLeft()-O.scrollSpeed):t(window).width()-(u.pageX-t(document).scrollLeft())<O.scrollSensitivity&&(I=t(document).scrollLeft(t(document).scrollLeft()+O.scrollSpeed))),I!==!1&&t.ui.ddmanager&&!O.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,u)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&this.options.axis==="y"||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&this.options.axis==="x"||(this.helper[0].style.top=this.position.top+"px"),p=this.items.length-1;p>=0;p--)if(m=this.items[p],_=m.item[0],x=this._intersectsWithPointer(m),x&&m.instance===this.currentContainer&&_!==this.currentItem[0]&&this.placeholder[x===1?"next":"prev"]()[0]!==_&&!t.contains(this.placeholder[0],_)&&(this.options.type==="semi-dynamic"?!t.contains(this.element[0],_):!0)){if(this.direction=x===1?"down":"up",this.options.tolerance!=="pointer"&&!this._intersectsWithSides(m))break;this._rearrange(u,m),this._trigger("change",u,this._uiHash());break}return this._contactContainers(u),t.ui.ddmanager&&t.ui.ddmanager.drag(this,u),this._trigger("sort",u,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(u,p){if(u){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,u),this.options.revert){var m=this,_=this.placeholder.offset(),x=this.options.axis,O={};x&&x!=="x"||(O.left=_.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),x&&x!=="y"||(O.top=_.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(O,parseInt(this.options.revert,10)||500,function(){m._clear(u)})}else this._clear(u,p);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),this.options.helper==="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var u=this.containers.length-1;u>=0;u--)this.containers[u]._trigger("deactivate",null,this._uiHash(this)),this.containers[u].containerCache.over&&(this.containers[u]._trigger("out",null,this._uiHash(this)),this.containers[u].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(u){var p=this._getItemsAsjQuery(u&&u.connected),m=[];return u=u||{},t(p).each(function(){var _=(t(u.item||this).attr(u.attribute||"id")||"").match(u.expression||/(.+)[\-=_](.+)/);_&&m.push((u.key||_[1]+"[]")+"="+(u.key&&u.expression?_[1]:_[2]))}),!m.length&&u.key&&m.push(u.key+"="),m.join("&")},toArray:function(u){var p=this._getItemsAsjQuery(u&&u.connected),m=[];return u=u||{},p.each(function(){m.push(t(u.item||this).attr(u.attribute||"id")||"")}),m},_intersectsWith:function(u){var p=this.positionAbs.left,m=p+this.helperProportions.width,_=this.positionAbs.top,x=_+this.helperProportions.height,O=u.left,I=O+u.width,P=u.top,D=P+u.height,V=this.offset.click.top,q=this.offset.click.left,z=this.options.axis==="x"||_+V>P&&D>_+V,he=this.options.axis==="y"||p+q>O&&I>p+q,Y=z&&he;return this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>u[this.floating?"width":"height"]?Y:p+this.helperProportions.width/2>O&&I>m-this.helperProportions.width/2&&_+this.helperProportions.height/2>P&&D>x-this.helperProportions.height/2},_intersectsWithPointer:function(u){var p=this.options.axis==="x"||this._isOverAxis(this.positionAbs.top+this.offset.click.top,u.top,u.height),m=this.options.axis==="y"||this._isOverAxis(this.positionAbs.left+this.offset.click.left,u.left,u.width),_=p&&m,x=this._getDragVerticalDirection(),O=this._getDragHorizontalDirection();return _?this.floating?O&&O==="right"||x==="down"?2:1:x&&(x==="down"?2:1):!1},_intersectsWithSides:function(u){var p=this._isOverAxis(this.positionAbs.top+this.offset.click.top,u.top+u.height/2,u.height),m=this._isOverAxis(this.positionAbs.left+this.offset.click.left,u.left+u.width/2,u.width),_=this._getDragVerticalDirection(),x=this._getDragHorizontalDirection();return this.floating&&x?x==="right"&&m||x==="left"&&!m:_&&(_==="down"&&p||_==="up"&&!p)},_getDragVerticalDirection:function(){var u=this.positionAbs.top-this.lastPositionAbs.top;return u!==0&&(u>0?"down":"up")},_getDragHorizontalDirection:function(){var u=this.positionAbs.left-this.lastPositionAbs.left;return u!==0&&(u>0?"right":"left")},refresh:function(u){return this._refreshItems(u),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var u=this.options;return u.connectWith.constructor===String?[u.connectWith]:u.connectWith},_getItemsAsjQuery:function(u){var p=function(){I.push(this)},m,_,x,O,I=[],P=[],D=this._connectWith();if(D&&u)for(m=D.length-1;m>=0;m--)for(x=t(D[m]),_=x.length-1;_>=0;_--)O=t.data(x[_],this.widgetFullName),O&&O!==this&&!O.options.disabled&&P.push([t.isFunction(O.options.items)?O.options.items.call(O.element):t(O.options.items,O.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),O]);for(P.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),m=P.length-1;m>=0;m--)P[m][0].each(p);return t(I)},_removeCurrentsFromItems:function(){var u=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(p){for(var m=0;u.length>m;m++)if(u[m]===p.item[0])return!1;return!0})},_refreshItems:function(u){this.items=[],this.containers=[this];var p,m,_,x,O,I,P,D,V=this.items,q=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],u,{item:this.currentItem}):t(this.options.items,this.element),this]],z=this._connectWith();if(z&&this.ready)for(p=z.length-1;p>=0;p--)for(_=t(z[p]),m=_.length-1;m>=0;m--)x=t.data(_[m],this.widgetFullName),x&&x!==this&&!x.options.disabled&&(q.push([t.isFunction(x.options.items)?x.options.items.call(x.element[0],u,{item:this.currentItem}):t(x.options.items,x.element),x]),this.containers.push(x));for(p=q.length-1;p>=0;p--)for(O=q[p][1],I=q[p][0],m=0,D=I.length;D>m;m++)P=t(I[m]),P.data(this.widgetName+"-item",O),V.push({item:P,instance:O,width:0,height:0,left:0,top:0})},refreshPositions:function(u){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var p,m,_,x;for(p=this.items.length-1;p>=0;p--)m=this.items[p],m.instance!==this.currentContainer&&this.currentContainer&&m.item[0]!==this.currentItem[0]||(_=this.options.toleranceElement?t(this.options.toleranceElement,m.item):m.item,u||(m.width=_.outerWidth(),m.height=_.outerHeight()),x=_.offset(),m.left=x.left,m.top=x.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(p=this.containers.length-1;p>=0;p--)x=this.containers[p].element.offset(),this.containers[p].containerCache.left=x.left,this.containers[p].containerCache.top=x.top,this.containers[p].containerCache.width=this.containers[p].element.outerWidth(),this.containers[p].containerCache.height=this.containers[p].element.outerHeight();return this},_createPlaceholder:function(u){u=u||this;var p,m=u.options;m.placeholder&&m.placeholder.constructor!==String||(p=m.placeholder,m.placeholder={element:function(){var x=u.currentItem[0].nodeName.toLowerCase(),O=t("<"+x+">",u.document[0]).addClass(p||u.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return x==="tr"?u.currentItem.children().each(function(){t("<td>&#160;</td>",u.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(O)}):x==="img"&&O.attr("src",u.currentItem.attr("src")),p||O.css("visibility","hidden"),O},update:function(x,O){(!p||m.forcePlaceholderSize)&&(O.height()||O.height(u.currentItem.innerHeight()-parseInt(u.currentItem.css("paddingTop")||0,10)-parseInt(u.currentItem.css("paddingBottom")||0,10)),O.width()||O.width(u.currentItem.innerWidth()-parseInt(u.currentItem.css("paddingLeft")||0,10)-parseInt(u.currentItem.css("paddingRight")||0,10)))}}),u.placeholder=t(m.placeholder.element.call(u.element,u.currentItem)),u.currentItem.after(u.placeholder),m.placeholder.update(u,u.placeholder)},_contactContainers:function(u){var p,m,_,x,O,I,P,D,V,q,z=null,he=null;for(p=this.containers.length-1;p>=0;p--)if(!t.contains(this.currentItem[0],this.containers[p].element[0]))if(this._intersectsWith(this.containers[p].containerCache)){if(z&&t.contains(this.containers[p].element[0],z.element[0]))continue;z=this.containers[p],he=p}else this.containers[p].containerCache.over&&(this.containers[p]._trigger("out",u,this._uiHash(this)),this.containers[p].containerCache.over=0);if(z)if(this.containers.length===1)this.containers[he].containerCache.over||(this.containers[he]._trigger("over",u,this._uiHash(this)),this.containers[he].containerCache.over=1);else{for(_=1e4,x=null,V=z.floating||this._isFloating(this.currentItem),O=V?"left":"top",I=V?"width":"height",q=V?"clientX":"clientY",m=this.items.length-1;m>=0;m--)t.contains(this.containers[he].element[0],this.items[m].item[0])&&this.items[m].item[0]!==this.currentItem[0]&&(P=this.items[m].item.offset()[O],D=!1,u[q]-P>this.items[m][I]/2&&(D=!0),_>Math.abs(u[q]-P)&&(_=Math.abs(u[q]-P),x=this.items[m],this.direction=D?"up":"down"));if(!x&&!this.options.dropOnEmpty||this.currentContainer===this.containers[he])return;x?this._rearrange(u,x,null,!0):this._rearrange(u,null,this.containers[he].element,!0),this._trigger("change",u,this._uiHash()),this.containers[he]._trigger("change",u,this._uiHash(this)),this.currentContainer=this.containers[he],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[he]._trigger("over",u,this._uiHash(this)),this.containers[he].containerCache.over=1}},_createHelper:function(u){var p=this.options,m=t.isFunction(p.helper)?t(p.helper.apply(this.element[0],[u,this.currentItem])):p.helper==="clone"?this.currentItem.clone():this.currentItem;return m.parents("body").length||t(p.appendTo!=="parent"?p.appendTo:this.currentItem[0].parentNode)[0].appendChild(m[0]),m[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!m[0].style.width||p.forceHelperSize)&&m.width(this.currentItem.width()),(!m[0].style.height||p.forceHelperSize)&&m.height(this.currentItem.height()),m},_adjustOffsetFromHelper:function(u){typeof u=="string"&&(u=u.split(" ")),t.isArray(u)&&(u={left:+u[0],top:+u[1]||0}),"left"in u&&(this.offset.click.left=u.left+this.margins.left),"right"in u&&(this.offset.click.left=this.helperProportions.width-u.right+this.margins.left),"top"in u&&(this.offset.click.top=u.top+this.margins.top),"bottom"in u&&(this.offset.click.top=this.helperProportions.height-u.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var u=this.offsetParent.offset();return this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(u.left+=this.scrollParent.scrollLeft(),u.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&t.ui.ie)&&(u={top:0,left:0}),{top:u.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:u.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var u=this.currentItem.position();return{top:u.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:u.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var u,p,m,_=this.options;_.containment==="parent"&&(_.containment=this.helper[0].parentNode),(_.containment==="document"||_.containment==="window")&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t(_.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(t(_.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(_.containment)||(u=t(_.containment)[0],p=t(_.containment).offset(),m=t(u).css("overflow")!=="hidden",this.containment=[p.left+(parseInt(t(u).css("borderLeftWidth"),10)||0)+(parseInt(t(u).css("paddingLeft"),10)||0)-this.margins.left,p.top+(parseInt(t(u).css("borderTopWidth"),10)||0)+(parseInt(t(u).css("paddingTop"),10)||0)-this.margins.top,p.left+(m?Math.max(u.scrollWidth,u.offsetWidth):u.offsetWidth)-(parseInt(t(u).css("borderLeftWidth"),10)||0)-(parseInt(t(u).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,p.top+(m?Math.max(u.scrollHeight,u.offsetHeight):u.offsetHeight)-(parseInt(t(u).css("borderTopWidth"),10)||0)-(parseInt(t(u).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(u,p){p||(p=this.position);var m=u==="absolute"?1:-1,_=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,x=/(html|body)/i.test(_[0].tagName);return{top:p.top+this.offset.relative.top*m+this.offset.parent.top*m-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():x?0:_.scrollTop())*m,left:p.left+this.offset.relative.left*m+this.offset.parent.left*m-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():x?0:_.scrollLeft())*m}},_generatePosition:function(u){var p,m,_=this.options,x=u.pageX,O=u.pageY,I=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,P=/(html|body)/i.test(I[0].tagName);return this.cssPosition!=="relative"||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(u.pageX-this.offset.click.left<this.containment[0]&&(x=this.containment[0]+this.offset.click.left),u.pageY-this.offset.click.top<this.containment[1]&&(O=this.containment[1]+this.offset.click.top),u.pageX-this.offset.click.left>this.containment[2]&&(x=this.containment[2]+this.offset.click.left),u.pageY-this.offset.click.top>this.containment[3]&&(O=this.containment[3]+this.offset.click.top)),_.grid&&(p=this.originalPageY+Math.round((O-this.originalPageY)/_.grid[1])*_.grid[1],O=this.containment?p-this.offset.click.top>=this.containment[1]&&p-this.offset.click.top<=this.containment[3]?p:p-this.offset.click.top>=this.containment[1]?p-_.grid[1]:p+_.grid[1]:p,m=this.originalPageX+Math.round((x-this.originalPageX)/_.grid[0])*_.grid[0],x=this.containment?m-this.offset.click.left>=this.containment[0]&&m-this.offset.click.left<=this.containment[2]?m:m-this.offset.click.left>=this.containment[0]?m-_.grid[0]:m+_.grid[0]:m)),{top:O-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():P?0:I.scrollTop()),left:x-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():P?0:I.scrollLeft())}},_rearrange:function(u,p,m,_){m?m[0].appendChild(this.placeholder[0]):p.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?p.item[0]:p.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var x=this.counter;this._delay(function(){x===this.counter&&this.refreshPositions(!_)})},_clear:function(u,p){var m=function(I,P,D){return function(V){D._trigger(I,V,P._uiHash(P))}};this.reverting=!1;var _,x=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(_ in this._storedCSS)(this._storedCSS[_]==="auto"||this._storedCSS[_]==="static")&&(this._storedCSS[_]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!p&&x.push(function(O){this._trigger("receive",O,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||p||x.push(function(O){this._trigger("update",O,this._uiHash())}),this!==this.currentContainer&&(p||(x.push(function(O){this._trigger("remove",O,this._uiHash())}),x.push(function(O){return function(I){O._trigger("receive",I,this._uiHash(this))}}.call(this,this.currentContainer)),x.push(function(O){return function(I){O._trigger("update",I,this._uiHash(this))}}.call(this,this.currentContainer)))),_=this.containers.length-1;_>=0;_--)p||x.push(m("deactivate",this,this.containers[_])),this.containers[_].containerCache.over&&(x.push(m("out",this,this.containers[_])),this.containers[_].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!p){for(this._trigger("beforeStop",u,this._uiHash()),_=0;x.length>_;_++)x[_].call(this,u);this._trigger("stop",u,this._uiHash())}return this.fromOutside=!1,!1}if(p||this._trigger("beforeStop",u,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!p){for(_=0;x.length>_;_++)x[_].call(this,u);this._trigger("stop",u,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(u){var p=u||this;return{helper:p.helper,placeholder:p.placeholder||t([]),position:p.position,originalPosition:p.originalPosition,offset:p.positionAbs,item:p.currentItem,sender:u?u.element:null}}}),t.widget("ui.spinner",{version:"1.11.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this.value()!==""&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var u={},p=this.element;return t.each(["min","max","step"],function(m,_){var x=p.attr(_);x!==void 0&&x.length&&(u[_]=x)}),u},_events:{keydown:function(u){this._start(u)&&this._keydown(u)&&u.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(u){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",u),void 0)},mousewheel:function(u,p){if(p){if(!this.spinning&&!this._start(u))return!1;this._spin((p>0?1:-1)*this.options.step,u),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(u)},100),u.preventDefault()}},"mousedown .ui-spinner-button":function(y){var u=function(){var _=this.element[0]===this.document[0].activeElement;_||(this.element.focus(),this.previous=p,this._delay(function(){this.previous=p}))},p;p=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),y.preventDefault(),u.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,u.call(this)}),this._start(y)!==!1&&this._repeat(null,t(y.currentTarget).hasClass("ui-spinner-up")?1:-1,y)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(y){return t(y.currentTarget).hasClass("ui-state-active")?this._start(y)===!1?!1:(this._repeat(null,t(y.currentTarget).hasClass("ui-spinner-up")?1:-1,y),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var u=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=u.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*u.height())&&u.height()>0&&u.height(u.height()),this.options.disabled&&this.disable()},_keydown:function(u){var p=this.options,m=t.ui.keyCode;switch(u.keyCode){case m.UP:return this._repeat(null,1,u),!0;case m.DOWN:return this._repeat(null,-1,u),!0;case m.PAGE_UP:return this._repeat(null,p.page,u),!0;case m.PAGE_DOWN:return this._repeat(null,-p.page,u),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(u){return this.spinning||this._trigger("start",u)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(u,p,m){u=u||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,p,m)},u),this._spin(p*this.options.step,m)},_spin:function(u,p){var m=this.value()||0;this.counter||(this.counter=1),m=this._adjustValue(m+u*this._increment(this.counter)),this.spinning&&this._trigger("spin",p,{value:m})===!1||(this._value(m),this.counter++)},_increment:function(u){var p=this.options.incremental;return p?t.isFunction(p)?p(u):Math.floor(u*u*u/5e4-u*u/500+17*u/200+1):1},_precision:function(){var u=this._precisionOf(this.options.step);return this.options.min!==null&&(u=Math.max(u,this._precisionOf(this.options.min))),u},_precisionOf:function(u){var p=""+u,m=p.indexOf(".");return m===-1?0:p.length-m-1},_adjustValue:function(u){var p,m,_=this.options;return p=_.min!==null?_.min:0,m=u-p,m=Math.round(m/_.step)*_.step,u=p+m,u=parseFloat(u.toFixed(this._precision())),_.max!==null&&u>_.max?_.max:_.min!==null&&_.min>u?_.min:u},_stop:function(u){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",u))},_setOption:function(u,p){if(u==="culture"||u==="numberFormat"){var m=this._parse(this.element.val());return this.options[u]=p,this.element.val(this._format(m)),void 0}(u==="max"||u==="min"||u==="step")&&typeof p=="string"&&(p=this._parse(p)),u==="icons"&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(p.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(p.down)),this._super(u,p),u==="disabled"&&(this.widget().toggleClass("ui-state-disabled",!!p),this.element.prop("disabled",!!p),this.buttons.button(p?"disable":"enable"))},_setOptions:d(function(y){this._super(y)}),_parse:function(u){return typeof u=="string"&&u!==""&&(u=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(u,10,this.options.culture):+u),u===""||isNaN(u)?null:u},_format:function(u){return u===""?"":window.Globalize&&this.options.numberFormat?Globalize.format(u,this.options.numberFormat,this.options.culture):u},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var u=this.value();return u===null?!1:u===this._adjustValue(u)},_value:function(u,p){var m;u!==""&&(m=this._parse(u),m!==null&&(p||(m=this._adjustValue(m)),u=this._format(m))),this.element.val(u),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:d(function(y){this._stepUp(y)}),_stepUp:function(u){this._start()&&(this._spin((u||1)*this.options.step),this._stop())},stepDown:d(function(y){this._stepDown(y)}),_stepDown:function(u){this._start()&&(this._spin((u||1)*-this.options.step),this._stop())},pageUp:d(function(y){this._stepUp((y||1)*this.options.page)}),pageDown:d(function(y){this._stepDown((y||1)*this.options.page)}),value:function(u){return arguments.length?(d(this._value).call(this,u),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.widget("ui.tabs",{version:"1.11.1",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var y=/#.*$/;return function(u){var p,m;u=u.cloneNode(!1),p=u.href.replace(y,""),m=location.href.replace(y,"");try{p=decodeURIComponent(p)}catch(_){}try{m=decodeURIComponent(m)}catch(_){}return u.hash.length>1&&p===m}}(),_create:function(){var u=this,p=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",p.collapsible),this._processTabs(),p.active=this._initialActive(),t.isArray(p.disabled)&&(p.disabled=t.unique(p.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(m){return u.tabs.index(m)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(p.active):t(),this._refresh(),this.active.length&&this.load(p.active)},_initialActive:function(){var u=this.options.active,p=this.options.collapsible,m=location.hash.substring(1);return u===null&&(m&&this.tabs.each(function(_,x){return t(x).attr("aria-controls")===m?(u=_,!1):void 0}),u===null&&(u=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(u===null||u===-1)&&(u=this.tabs.length?0:!1)),u!==!1&&(u=this.tabs.index(this.tabs.eq(u)),u===-1&&(u=p?!1:0)),!p&&u===!1&&this.anchors.length&&(u=0),u},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(u){var p=t(this.document[0].activeElement).closest("li"),m=this.tabs.index(p),_=!0;if(!this._handlePageNav(u)){switch(u.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:m++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:_=!1,m--;break;case t.ui.keyCode.END:m=this.anchors.length-1;break;case t.ui.keyCode.HOME:m=0;break;case t.ui.keyCode.SPACE:return u.preventDefault(),clearTimeout(this.activating),this._activate(m),void 0;case t.ui.keyCode.ENTER:return u.preventDefault(),clearTimeout(this.activating),this._activate(m===this.options.active?!1:m),void 0;default:return}u.preventDefault(),clearTimeout(this.activating),m=this._focusNextTab(m,_),u.ctrlKey||(p.attr("aria-selected","false"),this.tabs.eq(m).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",m)},this.delay))}},_panelKeydown:function(u){this._handlePageNav(u)||u.ctrlKey&&u.keyCode===t.ui.keyCode.UP&&(u.preventDefault(),this.active.focus())},_handlePageNav:function(u){return u.altKey&&u.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):u.altKey&&u.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(u,p){for(var m=function(){return u>_&&(u=0),0>u&&(u=_),u},_=this.tabs.length-1;t.inArray(m(),this.options.disabled)!==-1;)u=p?u+1:u-1;return u},_focusNextTab:function(u,p){return u=this._findNextTab(u,p),this.tabs.eq(u).focus(),u},_setOption:function(u,p){return u==="active"?(this._activate(p),void 0):u==="disabled"?(this._setupDisabled(p),void 0):(this._super(u,p),u==="collapsible"&&(this.element.toggleClass("ui-tabs-collapsible",p),p||this.options.active!==!1||this._activate(0)),u==="event"&&this._setupEvents(p),u==="heightStyle"&&this._setupHeightStyle(p),void 0)},_sanitizeSelector:function(u){return u?u.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var u=this.options,p=this.tablist.children(":has(a[href])");u.disabled=t.map(p.filter(".ui-state-disabled"),function(m){return p.index(m)}),this._processTabs(),u.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===u.disabled.length?(u.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,u.active-1),!1)):u.active=this.tabs.index(this.active):(u.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var u=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(p){t(this).is(".ui-state-disabled")&&p.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(p,m){var _,x,O,I=t(m).uniqueId().attr("id"),P=t(m).closest("li"),D=P.attr("aria-controls");u._isLocal(m)?(_=m.hash,O=_.substring(1),x=u.element.find(u._sanitizeSelector(_))):(O=P.attr("aria-controls")||t({}).uniqueId()[0].id,_="#"+O,x=u.element.find(_),x.length||(x=u._createPanel(O),x.insertAfter(u.panels[p-1]||u.tablist)),x.attr("aria-live","polite")),x.length&&(u.panels=u.panels.add(x)),D&&P.data("ui-tabs-aria-controls",D),P.attr({"aria-controls":O,"aria-labelledby":I}),x.attr("aria-labelledby",I)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(u){return t("<div>").attr("id",u).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(u){t.isArray(u)&&(u.length?u.length===this.anchors.length&&(u=!0):u=!1);for(var p,m=0;p=this.tabs[m];m++)u===!0||t.inArray(m,u)!==-1?t(p).addClass("ui-state-disabled").attr("aria-disabled","true"):t(p).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=u},_setupEvents:function(u){var p={};u&&t.each(u.split(" "),function(m,_){p[_]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(_){_.preventDefault()}}),this._on(this.anchors,p),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(u){var p,m=this.element.parent();u==="fill"?(p=m.height(),p-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var _=t(this),x=_.css("position");x!=="absolute"&&x!=="fixed"&&(p-=_.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){p-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,p-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):u==="auto"&&(p=0,this.panels.each(function(){p=Math.max(p,t(this).height("").height())}).height(p))},_eventHandler:function(u){var p=this.options,m=this.active,_=t(u.currentTarget),x=_.closest("li"),O=x[0]===m[0],I=O&&p.collapsible,P=I?t():this._getPanelForTab(x),D=m.length?this._getPanelForTab(m):t(),V={oldTab:m,oldPanel:D,newTab:I?t():x,newPanel:P};u.preventDefault(),x.hasClass("ui-state-disabled")||x.hasClass("ui-tabs-loading")||this.running||O&&!p.collapsible||this._trigger("beforeActivate",u,V)===!1||(p.active=I?!1:this.tabs.index(x),this.active=O?t():x,this.xhr&&this.xhr.abort(),D.length||P.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),P.length&&this.load(this.tabs.index(x),u),this._toggle(u,V))},_toggle:function(u,p){var m=function(){x.running=!1,x._trigger("activate",u,p)},_=function(){p.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),O.length&&x.options.show?x._show(O,x.options.show,m):(O.show(),m())},x=this,O=p.newPanel,I=p.oldPanel;this.running=!0,I.length&&this.options.hide?this._hide(I,this.options.hide,function(){p.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),_()}):(p.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),I.hide(),_()),I.attr("aria-hidden","true"),p.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),O.length&&I.length?p.oldTab.attr("tabIndex",-1):O.length&&this.tabs.filter(function(){return t(this).attr("tabIndex")===0}).attr("tabIndex",-1),O.attr("aria-hidden","false"),p.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(u){var p,m=this._findActive(u);m[0]!==this.active[0]&&(m.length||(m=this.active),p=m.find(".ui-tabs-anchor")[0],this._eventHandler({target:p,currentTarget:p,preventDefault:t.noop}))},_findActive:function(u){return u===!1?t():this.tabs.eq(u)},_getIndex:function(u){return typeof u=="string"&&(u=this.anchors.index(this.anchors.filter("[href$='"+u+"']"))),u},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var u=t(this),p=u.data("ui-tabs-aria-controls");p?u.attr("aria-controls",p).removeData("ui-tabs-aria-controls"):u.removeAttr("aria-controls")}),this.panels.show(),this.options.heightStyle!=="content"&&this.panels.css("height","")},enable:function(u){var p=this.options.disabled;p!==!1&&(u===void 0?p=!1:(u=this._getIndex(u),p=t.isArray(p)?t.map(p,function(m){return m!==u?m:null}):t.map(this.tabs,function(m,_){return _!==u?_:null})),this._setupDisabled(p))},disable:function(u){var p=this.options.disabled;if(p!==!0){if(u===void 0)p=!0;else{if(u=this._getIndex(u),t.inArray(u,p)!==-1)return;p=t.isArray(p)?t.merge([u],p).sort():[u]}this._setupDisabled(p)}},load:function(u,p){u=this._getIndex(u);var m=this,_=this.tabs.eq(u),x=_.find(".ui-tabs-anchor"),O=this._getPanelForTab(_),I={tab:_,panel:O};this._isLocal(x[0])||(this.xhr=t.ajax(this._ajaxSettings(x,p,I)),this.xhr&&this.xhr.statusText!=="canceled"&&(_.addClass("ui-tabs-loading"),O.attr("aria-busy","true"),this.xhr.success(function(P){setTimeout(function(){O.html(P),m._trigger("load",p,I)},1)}).complete(function(P,D){setTimeout(function(){D==="abort"&&m.panels.stop(!1,!0),_.removeClass("ui-tabs-loading"),O.removeAttr("aria-busy"),P===m.xhr&&delete m.xhr},1)})))},_ajaxSettings:function(u,p,m){var _=this;return{url:u.attr("href"),beforeSend:function(O,I){return _._trigger("beforeLoad",p,t.extend({jqXHR:O,ajaxSettings:I},m))}}},_getPanelForTab:function(u){var p=t(u).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+p))}}),t.widget("ui.tooltip",{version:"1.11.1",options:{content:function(){var u=t(this).attr("title")||"";return t("<a>").text(u).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(u,p){var m=(u.attr("aria-describedby")||"").split(/\s+/);m.push(p),u.data("ui-tooltip-id",p).attr("aria-describedby",t.trim(m.join(" ")))},_removeDescribedBy:function(u){var p=u.data("ui-tooltip-id"),m=(u.attr("aria-describedby")||"").split(/\s+/),_=t.inArray(p,m);_!==-1&&m.splice(_,1),u.removeData("ui-tooltip-id"),m=t.trim(m.join(" ")),m?u.attr("aria-describedby",m):u.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(u,p){var m=this;return u==="disabled"?(this[p?"_disable":"_enable"](),this.options[u]=p,void 0):(this._super(u,p),u==="content"&&t.each(this.tooltips,function(_,x){m._updateContent(x)}),void 0)},_disable:function(){var u=this;t.each(this.tooltips,function(p,m){var _=t.Event("blur");_.target=_.currentTarget=m[0],u.close(_,!0)}),this.element.find(this.options.items).addBack().each(function(){var p=t(this);p.is("[title]")&&p.data("ui-tooltip-title",p.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var u=t(this);u.data("ui-tooltip-title")&&u.attr("title",u.data("ui-tooltip-title"))})},open:function(u){var p=this,m=t(u?u.target:this.element).closest(this.options.items);m.length&&!m.data("ui-tooltip-id")&&(m.attr("title")&&m.data("ui-tooltip-title",m.attr("title")),m.data("ui-tooltip-open",!0),u&&u.type==="mouseover"&&m.parents().each(function(){var _,x=t(this);x.data("ui-tooltip-open")&&(_=t.Event("blur"),_.target=_.currentTarget=this,p.close(_,!0)),x.attr("title")&&(x.uniqueId(),p.parents[this.id]={element:this,title:x.attr("title")},x.attr("title",""))}),this._updateContent(m,u))},_updateContent:function(u,p){var m,_=this.options.content,x=this,O=p?p.type:null;return typeof _=="string"?this._open(p,u,_):(m=_.call(u[0],function(I){u.data("ui-tooltip-open")&&x._delay(function(){p&&(p.type=O),this._open(p,u,I)})}),m&&this._open(p,u,m),void 0)},_open:function(u,p,m){var _=function(q){D.of=q,x.is(":hidden")||x.position(D)},x,O,I,P,D=t.extend({},this.options.position);if(m){if(x=this._find(p),x.length)return x.find(".ui-tooltip-content").html(m),void 0;p.is("[title]")&&(u&&u.type==="mouseover"?p.attr("title",""):p.removeAttr("title")),x=this._tooltip(p),this._addDescribedBy(p,x.attr("id")),x.find(".ui-tooltip-content").html(m),this.liveRegion.children().hide(),m.clone?(P=m.clone(),P.removeAttr("id").find("[id]").removeAttr("id")):P=m,t("<div>").html(P).appendTo(this.liveRegion),this.options.track&&u&&/^mouse/.test(u.type)?(this._on(this.document,{mousemove:_}),_(u)):x.position(t.extend({of:p},this.options.position)),this.hiding=!1,this.closing=!1,x.hide(),this._show(x,this.options.show),this.options.show&&this.options.show.delay&&(I=this.delayedShow=setInterval(function(){x.is(":visible")&&(_(D.of),clearInterval(I))},t.fx.interval)),this._trigger("open",u,{tooltip:x}),O={keyup:function(q){if(q.keyCode===t.ui.keyCode.ESCAPE){var z=t.Event(q);z.currentTarget=p[0],this.close(z,!0)}}},p[0]!==this.element[0]&&(O.remove=function(){this._removeTooltip(x)}),u&&u.type!=="mouseover"||(O.mouseleave="close"),u&&u.type!=="focusin"||(O.focusout="close"),this._on(!0,p,O)}},close:function(u){var p=this,m=t(u?u.currentTarget:this.element),_=this._find(m);this.closing||(clearInterval(this.delayedShow),m.data("ui-tooltip-title")&&!m.attr("title")&&m.attr("title",m.data("ui-tooltip-title")),this._removeDescribedBy(m),this.hiding=!0,_.stop(!0),this._hide(_,this.options.hide,function(){p._removeTooltip(t(this)),this.hiding=!1,this.closing=!1}),m.removeData("ui-tooltip-open"),this._off(m,"mouseleave focusout keyup"),m[0]!==this.element[0]&&this._off(m,"remove"),this._off(this.document,"mousemove"),u&&u.type==="mouseleave"&&t.each(this.parents,function(x,O){t(O.element).attr("title",O.title),delete p.parents[x]}),this.closing=!0,this._trigger("close",u,{tooltip:_}),this.hiding||(this.closing=!1))},_tooltip:function(u){var p=t("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),m=p.uniqueId().attr("id");return t("<div>").addClass("ui-tooltip-content").appendTo(p),p.appendTo(this.document[0].body),this.tooltips[m]=u,p},_find:function(u){var p=u.data("ui-tooltip-id");return p?t("#"+p):t()},_removeTooltip:function(u){u.remove(),delete this.tooltips[u.attr("id")]},_destroy:function(){var u=this;t.each(this.tooltips,function(p,m){var _=t.Event("blur");_.target=_.currentTarget=m[0],u.close(_,!0),t("#"+p).remove(),m.data("ui-tooltip-title")&&(m.attr("title")||m.attr("title",m.data("ui-tooltip-title")),m.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})})}),pv={},M5(pv,{default:function(){return mv}}),R5=hv(fv()),L5(pv,hv(fv()));var g;tr=R5,g=tr,vv=g.default,D5=Bi(tr,["default"]),mv=vv!==void 0?vv:D5}}),gv={};wi(gv,{default:function(){return mv}});var N5=Ht({"https-url:https://esm.archive.org/jqueryui@1.11.1/jquery-ui.min.js":function(){$5(),$5()}}),B5,D1=Ht({"components/search/autocomplete.js":function(){Ai(),bo(),B5=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,null,[{key:"setup",value:function(){X(".js-search-bar").each(function(){var n=X(this),o=n.data("autocompleteFormat");o!=="off"&&Promise.resolve().then(function(){return N5(),gv}).then(function(){var l={minLength:3,source:function(s,r){X.ajax({url:"https://be-api.us.archive.org/searches/complete",data:{q:s.term,limit:15},dataType:"json",success:r,error:function(c,h,f){Cn("".concat(h,": ").concat(f)),r([])}})},open:function(){var s=X(this).autocomplete("widget"),r=s.offset();r.left<0&&(s.width(s.width()-r.left),s.offset({top:r.top,left:0}))},classes:{"ui-autocomplete":"truncate"}};o==="inline"?(l.appendTo=n.data("autocompleteAppendTo"),l.position={using:X.noop}):(l.classes["ui-autocomplete"]+=" z-above-top-nav",o==="right"&&(l.position={my:"right top",at:"right bottom"})),n.autocomplete(l)})})}}]),g}()}}),$1=Ht({"components/search/collection-search-submit.js":function(){Ai(),X(function(){var g=X(".search-form--inside");if(g){var t=function(s){return s?encodeURIComponent(s.trim()).replace(/%20/g,"+"):""},e=function(s,r,d){d&&s.append(r,d)},n=function(s,r,d){return d?"".concat(s?"&":"").concat(r,"=").concat(d):""},o=g.find(".searchlist").val(),l=g.find('[name="sin"]:checked').val(),a=new URLSearchParams(window.location.search.substring(1));g.submit(function(s){s.preventDefault();var r=g.find(".searchlist").val(),d=g.find('[name="sin"]:checked').val(),c=new URLSearchParams;e(c,"query",r),e(c,"sin",d);var h=c.toString();if(o===r&&l===d){var f=!0,v=!1,b=void 0;try{for(var w=a.getAll("and[]")[Symbol.iterator](),k;!(f=(k=w.next()).done);f=!0){var C=k.value;h+=n(h,"and[]",t(C))}}catch(j){v=!0,b=j}finally{try{!f&&w.return!=null&&w.return()}finally{if(v)throw b}}}var E=a.get("sort");h+=n(h,"sort",t(E)),h&&(h="?".concat(h));var A=window.location;window.location="".concat(A.origin).concat(A.pathname).concat(h)})}})}}),N1=Ht({"components/util/onchange.js":function(){Ai()}}),B1=Ht({"components/util/onsubmit.js":function(){Ai()}}),z1=Ht({"components/util/debounce.js":function(){}}),zd,z5,Fd,F5,H5,U5,Hd,V5=Ht({"https-url:https://esm.archive.org/v135/magic-snowflakes@6.3.0/esnext/magic-snowflakes.mjs":function(){zd="",(typeof window=="undefined"?"undefined":_typeof(window))<"u"&&(zd=Array.prototype.slice.call(window.getComputedStyle(document.documentElement,"")).join(",").search(/,animation/)>-1?"":"webkit"),z5=(typeof document=="undefined"?"undefined":_typeof(document))<"u"&&"onanimationend"in document,Fd=20,F5=function(){"use strict";function g(t){var e=this;_classCallCheck(this,g),this.size=0,this.sizeInner=0;var n=this.elem=document.createElement("div"),o=this.elemInner=document.createElement("div");this.update(t),yo(n,"snowflake"),yo(o,"snowflake__inner"),yo(n,"snowflake_animation"),z5?(yo(n,"snowflake_animation-end"),n.onanimationend=function(l){l.target===n&&(e.updateLeft(),e.reflow())}):yo(n,"snowflake_animation-infinity"),t.types&&yo(o,"snowflake__inner_type_"+Jk(0,t.types)),t.wind&&yo(o,"snowflake__inner_wind"),t.rotation&&yo(o,"snowflake__inner_rotation"+(Math.random()>.5?"":"_reverse")),n.appendChild(o)}return _createClass(g,[{key:"getLeft",value:function(){return Math.random()*99+"%"}},{key:"updateLeft",value:function(){this.elem&&Ps(this.elem,{left:this.getLeft()})}},{key:"update",value:function(e){if(!(!this.elem||!this.elemInner)){var n=e.minSize===e.maxSize;this.sizeInner=n?0:Jk(0,Fd),this.size=Zk(this.sizeInner,e.minSize,e.maxSize);var o=this.getAnimationProps(e),l={animationName:"snowflake_gid_".concat(e.gid,"_y"),animationDelay:o.animationDelay,animationDuration:o.animationDuration,left:this.getLeft(),top:-Math.sqrt(2)*this.size+"px",width:this.size+"px",height:this.size+"px"};n||(l.opacity=String(vp(this.size,e.minSize,e.maxSize,e.minOpacity,e.maxOpacity))),Ps(this.elem,l);var a="snowflake_gid_".concat(e.gid,"_x_").concat(this.sizeInner);Ps(this.elemInner,{animationName:a,animationDelay:Math.random()*4+"s"})}}},{key:"reflow",value:function(){this.elem&&(Kk(this.elem),this.elem.offsetHeight,Xk(this.elem))}},{key:"resize",value:function(e){if(this.elem){var n=this.getAnimationProps(e);Ps(this.elem,{animationDuration:n.animationDuration})}}},{key:"appendTo",value:function(e){this.elem&&e.appendChild(this.elem)}},{key:"destroy",value:function(){this.elem&&(this.elem.onanimationend=null,delete this.elem,delete this.elemInner)}},{key:"getAnimationProps",value:function(e){var n=e.containerHeight/50/e.speed,o=n/3;return{animationDelay:Math.random()*n+"s",animationDuration:vp(this.size,e.minSize,e.maxSize,n,o)+"s"}}}]),g}(),H5='.snowflake{pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;will-change:transform}.snowflake_animation{-webkit-animation:snowflake_unknown 10s linear;animation:snowflake_unknown 10s linear}.snowflake_animation-infinity{-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.snowflake__inner,.snowflake__inner:before{bottom:0;left:0;position:absolute;right:0;top:0}.snowflake__inner:before{background-size:100% 100%;content:""}.snowflake__inner_wind{-webkit-animation:snowflake_unknown 2s ease-in-out infinite alternate;animation:snowflake_unknown 2s ease-in-out infinite alternate}.snowflake__inner_rotation:before{-webkit-animation:snowflake_rotation 10s linear infinite;animation:snowflake_rotation 10s linear infinite}.snowflake__inner_rotation_reverse:before{-webkit-animation:snowflake_rotation_reverse 10s linear infinite;animation:snowflake_rotation_reverse 10s linear infinite}@-webkit-keyframes snowflake_rotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes snowflake_rotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes snowflake_rotation_reverse{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(-1turn);transform:rotate(-1turn)}}@keyframes snowflake_rotation_reverse{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(-1turn);transform:rotate(-1turn)}}.snowflakes{pointer-events:none}.snowflakes_paused .snowflake,.snowflakes_paused .snowflake__inner,.snowflakes_paused .snowflake__inner:before{-webkit-animation-play-state:paused;animation-play-state:paused}.snowflakes_hidden{visibility:hidden}.snowflakes_body{height:1px;left:0;position:fixed;top:0;width:100%}',U5=".snowflakes_gid_value .snowflake__inner_type_0:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='36.283' height='36.283'%3E%3Cpath d='M35.531 17.391h-3.09l.845-1.464a.748.748 0 1 0-1.297-.75l-1.276 2.214H28.61l2.515-4.354a.751.751 0 0 0-.272-1.024.75.75 0 0 0-1.024.274l-2.948 5.104h-2.023a6.751 6.751 0 0 0-2.713-4.684l1.019-1.76 5.896-.002a.75.75 0 0 0 0-1.5l-5.029.002 1.051-1.82 2.557.002a.75.75 0 0 0 0-1.5l-1.689-.002 1.545-2.676a.75.75 0 1 0-1.302-.75l-1.547 2.676-.844-1.463a.749.749 0 1 0-1.297.75l1.278 2.213-1.051 1.818-2.514-4.354a.75.75 0 0 0-1.298.75l2.946 5.104-1.016 1.758a6.692 6.692 0 0 0-2.706-.57 6.74 6.74 0 0 0-2.707.568l-1.013-1.754 2.946-5.105a.75.75 0 0 0-1.298-.75L13.56 8.697l-1.05-1.818 1.278-2.217a.749.749 0 0 0-1.298-.75l-.845 1.465-1.551-2.678a.75.75 0 0 0-1.024-.273.748.748 0 0 0-.274 1.023l1.545 2.678H8.652a.75.75 0 0 0 0 1.5h2.556l1.05 1.818H7.231a.75.75 0 0 0 0 1.5h5.894l1.017 1.762a6.755 6.755 0 0 0-2.712 4.684H9.406l-2.95-5.104a.75.75 0 1 0-1.299.75l2.516 4.354H5.569l-1.277-2.213a.75.75 0 0 0-1.298.75l.845 1.463H.75a.75.75 0 0 0 0 1.5h3.09l-.845 1.465a.747.747 0 0 0 .275 1.022.75.75 0 0 0 .374.103.75.75 0 0 0 .65-.375l1.277-2.215h2.103l-2.516 4.354a.75.75 0 0 0 1.299.75l2.949-5.104h2.024a6.761 6.761 0 0 0 2.712 4.685l-1.017 1.762H7.232a.75.75 0 0 0 0 1.5h5.026l-1.05 1.818H8.651a.75.75 0 0 0 0 1.5h1.69l-1.545 2.676a.75.75 0 0 0 1.299.75l1.546-2.676.846 1.465a.755.755 0 0 0 .65.375.737.737 0 0 0 .375-.103.747.747 0 0 0 .274-1.022l-1.279-2.215 1.05-1.82 2.515 4.354a.75.75 0 0 0 1.299-.75l-2.947-5.104 1.013-1.756a6.72 6.72 0 0 0 5.415 0l1.014 1.756-2.947 5.104a.75.75 0 0 0 1.298.75l2.515-4.354 1.053 1.82-1.277 2.213a.75.75 0 0 0 1.298.75l.844-1.463 1.545 2.678c.141.24.393.375.65.375a.75.75 0 0 0 .649-1.125l-1.548-2.678h1.689a.75.75 0 0 0 0-1.5h-2.557l-1.051-1.82 5.029.002a.75.75 0 0 0 0-1.5l-5.896-.002-1.019-1.76a6.75 6.75 0 0 0 2.711-4.685h2.023l2.947 5.104a.753.753 0 0 0 1.025.273.749.749 0 0 0 .272-1.023l-2.515-4.354h2.104l1.279 2.215a.75.75 0 0 0 .649.375c.127 0 .256-.03.375-.103a.748.748 0 0 0 .273-1.022l-.848-1.465h3.092a.75.75 0 0 0 .003-1.5zm-12.136.75c0 .257-.041.502-.076.75a5.223 5.223 0 0 1-1.943 3.358 5.242 5.242 0 0 1-1.291.766 5.224 5.224 0 0 1-1.949.384 5.157 5.157 0 0 1-3.239-1.15 5.22 5.22 0 0 1-1.943-3.358c-.036-.247-.076-.493-.076-.75s.04-.503.076-.75a5.22 5.22 0 0 1 1.944-3.359c.393-.312.82-.576 1.291-.765a5.219 5.219 0 0 1 1.948-.384c.69 0 1.344.142 1.948.384.471.188.898.454 1.291.765a5.222 5.222 0 0 1 1.943 3.359c.035.247.076.493.076.75z' fill=':color:'/%3E%3C/svg%3E\")}.snowflakes_gid_value .snowflake__inner_type_1:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32.813' height='32.813'%3E%3Cpath d='M29.106 24.424a.781.781 0 0 1-.781.781h-3.119v3.119a.782.782 0 0 1-1.562 0v-4.682h4.682c.43.001.78.351.78.782zM4.673 9.352h4.682V4.671a.781.781 0 0 0-1.563 0V7.79H4.673a.781.781 0 0 0 0 1.562zM3.708 24.24c0 .431.35.781.781.781H7.61v3.12a.78.78 0 1 0 1.562 0v-4.683H4.489a.782.782 0 0 0-.781.782zM28.923 8.39a.78.78 0 0 0-.781-.781h-3.121V4.488a.781.781 0 0 0-1.562 0v4.684h4.684a.783.783 0 0 0 .78-.782zm3.889 8.017c0 .431-.35.781-.781.781h-3.426l1.876 1.873a.784.784 0 0 1 0 1.107.791.791 0 0 1-.554.228.773.773 0 0 1-.55-.228l-2.979-2.98h-2.995a6.995 6.995 0 0 1-1.728 3.875h5.609a.781.781 0 0 1 0 1.562h-4.666v4.667a.782.782 0 0 1-1.562 0v-5.61a7 7 0 0 1-3.866 1.719v2.995l2.978 2.98c.306.305.306.8 0 1.104a.78.78 0 0 1-1.104 0l-1.874-1.876v3.427a.781.781 0 0 1-1.562 0v-3.427l-1.875 1.876a.78.78 0 1 1-1.105-1.104l2.979-2.98v-2.995a7.016 7.016 0 0 1-3.865-1.717v5.608a.781.781 0 0 1-1.562 0v-4.667H5.535a.781.781 0 0 1 0-1.562h5.607a7.022 7.022 0 0 1-1.728-3.875H6.417l-2.979 2.979a.784.784 0 0 1-1.104 0 .781.781 0 0 1 0-1.106l1.874-1.873H.782a.78.78 0 1 1-.001-1.563h3.426L2.333 13.75a.783.783 0 0 1 1.105-1.106l2.979 2.979h2.995a6.996 6.996 0 0 1 1.72-3.866H5.533a.781.781 0 0 1 0-1.562h4.666V5.528a.781.781 0 0 1 1.562 0v5.599a6.995 6.995 0 0 1 3.865-1.717V6.415l-2.978-2.979a.782.782 0 0 1 1.105-1.105l1.874 1.875V.781a.78.78 0 1 1 1.562 0v3.426l1.875-1.875a.777.777 0 0 1 1.104 0 .78.78 0 0 1 0 1.105l-2.978 2.98v2.996a7.021 7.021 0 0 1 3.866 1.718V5.532a.78.78 0 1 1 1.562 0v4.666h4.666a.78.78 0 1 1 0 1.562h-5.599a7 7 0 0 1 1.718 3.866h2.995l2.979-2.979a.783.783 0 0 1 1.106 1.106l-1.876 1.874h3.427a.777.777 0 0 1 .778.78zm-11.006-.782a5.457 5.457 0 0 0-4.618-4.617c-.257-.037-.514-.079-.781-.079-.268 0-.524.042-.781.079a5.458 5.458 0 0 0-4.618 4.617c-.038.257-.079.514-.079.781s.041.522.079.781a5.455 5.455 0 0 0 4.618 4.616c.257.036.514.079.781.079s.524-.043.781-.079a5.457 5.457 0 0 0 4.618-4.616c.037-.259.079-.515.079-.781s-.043-.524-.079-.781z' fill=':color:'/%3E%3C/svg%3E\")}.snowflakes_gid_value .snowflake__inner_type_2:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='35.79' height='35.79'%3E%3Cpath d='M7.161 22.223l.026-.047.865.5-.026.047a.503.503 0 0 1-.434.25c-.019 0-.034-.013-.053-.016l-.355-.205a.493.493 0 0 1-.023-.529zM9.969 8.988l2.785.001 1.393-2.414a.502.502 0 0 0-.869-.499l-1.103 1.913-2.208-.001a.5.5 0 1 0 .002 1zm15.854 17.813h-2.785l-1.393 2.411a.499.499 0 0 0 .436.75c.172 0 .34-.09.434-.25l1.104-1.911h2.207c.274 0 .5-.224.5-.5a.505.505 0 0 0-.503-.5zM23.038 8.99h2.785a.5.5 0 0 0 0-1h-2.207l-1.105-1.913a.5.5 0 0 0-.868.5l1.395 2.413zM12.754 26.801H9.967a.5.5 0 0 0 0 1h2.209l1.105 1.912a.496.496 0 0 0 .682.184.5.5 0 0 0 .184-.684l-1.393-2.412zm-7.218-6.309a.502.502 0 0 0 .685-.184l1.391-2.413-1.394-2.413a.5.5 0 0 0-.867.5l1.104 1.913-1.104 1.913a.5.5 0 0 0 .185.684zM30.254 15.3a.505.505 0 0 0-.685.183l-1.392 2.412 1.395 2.414a.501.501 0 0 0 .867-.5l-1.104-1.914 1.104-1.912a.5.5 0 0 0-.185-.683zm3.138 11.542a.501.501 0 0 1-.683.184l-.98-.565-2.137 1.231a.516.516 0 0 1-.5 0l-2.385-1.377a.502.502 0 0 1-.25-.433v-.854h-4.441l-2.225 3.852.736.428c.154.088.25.254.25.432l.001 2.755a.5.5 0 0 1-.25.433l-2.133 1.229v1.136c0 .274-.225.5-.5.5s-.5-.226-.5-.5v-1.136l-2.136-1.23a.5.5 0 0 1-.25-.433l.001-2.755c0-.178.096-.344.25-.432l.738-.427-2.224-3.849H9.332l.002.851a.505.505 0 0 1-.25.435l-2.387 1.377a.5.5 0 0 1-.5 0L4.06 26.46l-.982.567a.5.5 0 0 1-.5-.867l.982-.567.001-2.465c0-.179.097-.344.25-.434l2.388-1.377a.497.497 0 0 1 .5 0l.736.426 2.221-3.848-2.222-3.849-.737.426a.51.51 0 0 1-.5 0l-2.386-1.377a.5.5 0 0 1-.25-.434l.002-2.464-.983-.567a.501.501 0 0 1-.184-.683.502.502 0 0 1 .684-.183l.983.568 2.134-1.233a.5.5 0 0 1 .5 0l2.385 1.379c.156.089.25.255.25.433v.85h4.443l2.223-3.846-.74-.427a.501.501 0 0 1-.25-.434l.002-2.755c0-.178.096-.343.25-.433l2.135-1.233V.5a.5.5 0 0 1 1 0v1.135l2.134 1.231c.154.089.25.254.25.434l-.002 2.755a.503.503 0 0 1-.25.433l-.733.425 2.224 3.849h4.44l-.002-.851c0-.179.096-.344.25-.434l2.388-1.378a.502.502 0 0 1 .5 0l2.136 1.233.982-.568a.5.5 0 1 1 .5.866l-.983.568v2.464a.503.503 0 0 1-.25.433l-2.388 1.378a.5.5 0 0 1-.5 0l-.735-.426-2.222 3.849 2.223 3.849.734-.425a.506.506 0 0 1 .5 0l2.389 1.375c.154.09.25.255.25.435l-.002 2.462.982.568c.24.137.321.444.182.682zm-2.165-1.828l.001-1.597-1.888-1.087-.734.424-.348.201-.301.173-.5.289v2.179l1.885 1.088 1.386-.802.498-.286.001-.582zm-3.736-11.467l-.531-.307-2.283 1.318-2.443 3.337 2.442 3.337 2.283 1.316.531-.306-2.514-4.348 2.515-4.347zm-7.712 16.478l-.762-.438-.339-.194-.283-.166-.5-.289-.5.289-.279.162-.349.2-.757.437-.001 2.177 1.386.797.501.289.499-.287 1.386-.798-.002-2.179zM16.008 5.767l.736.425.371.214.279.16.5.288.5-.289.281-.163.367-.212.732-.424.002-2.178-1.381-.797-.502-.289-.498.287-1.385.8-.002 2.178zm6.52 14.227l-1.535-2.099 1.535-2.098.732-1-1.232.134-2.585.281-1.048-2.379-.5-1.133-.5 1.134-1.049 2.379-2.585-.281-1.232-.134.732 1 1.536 2.097-1.536 2.098-.732 1 1.232-.134 2.585-.281 1.049 2.379.5 1.134.5-1.134 1.048-2.379 2.585.281 1.232.134-.732-.999zm8.2-10.084l-1.386-.8-1.887 1.089v1.279l.002.32v.577l.5.289.28.163.367.213.732.424 1.888-1.089v-2.178l-.496-.287zM18.927 7.413l-.532.307v2.637l1.667 3.784 4.111-.447 2.283-1.317-.002-.613h-5.02l-2.507-4.351zm-9.594 4.348v.614l2.283 1.318 4.111.447 1.668-3.785V7.719l-.531-.306-2.509 4.347-5.022.001zm-2.15 1.279l.37-.213.279-.162.5-.289V10.2L6.446 9.11l-1.384.8-.499.289v.578l-.002 1.599 1.885 1.088.737-.424zm1.119 9.205l.53.306 2.281-1.316 2.443-3.339-2.442-3.337-2.281-1.317-.531.307 2.511 4.348-2.511 4.348zm-1.115-.069l-.026.047a.493.493 0 0 0 .023.529l-.734-.424-1.887 1.089-.001 1.599v.578l.5.288 1.386.8 1.887-1.088v-1.278l-.002-.321v-.577l-.5-.289-.293-.169c.02.002.035.017.055.017a.5.5 0 0 0 .433-.25l.026-.047-.867-.504zm9.679 6.202l.529-.306v-2.637l-1.668-3.785-4.111.447-2.283 1.316.002.611 5.021.002 2.51 4.352zm9.591-4.349v-.612L24.174 22.1l-4.111-.447-1.667 3.783v2.639l.531.307 2.512-4.352h5.018v-.001z' fill=':color:'/%3E%3C/svg%3E\")}.snowflakes_gid_value .snowflake__inner_type_3:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32.815' height='32.815'%3E%3Cpath d='M4.581 23.55h4.681v4.681a.78.78 0 1 1-1.562 0v-3.118H4.581a.781.781 0 0 1 0-1.563zM29.016 8.481a.781.781 0 0 0-.781-.781h-3.119V4.582a.781.781 0 0 0-1.562 0v4.681h4.682c.429 0 .78-.35.78-.782zm-24.252.598l4.683-.001V4.395a.781.781 0 0 0-1.562 0v3.121l-3.121.001a.781.781 0 0 0 0 1.562zm23.655 14.287h-4.685l.002 4.684a.78.78 0 1 0 1.562 0l-.002-3.121h3.122a.781.781 0 0 0 .001-1.563zm4.394-6.96a.78.78 0 0 1-.781.781h-3.426l1.876 1.875a.782.782 0 0 1-1.104 1.105l-2.979-2.979h-1.986L17.19 24.41v1.987l2.977 2.979a.781.781 0 0 1-1.103 1.106l-1.874-1.875v3.426a.78.78 0 1 1-1.562 0v-3.426l-1.875 1.875a.782.782 0 0 1-1.105-1.105l2.978-2.979V24.41l-7.219-7.22H6.418l-2.98 2.98a.777.777 0 0 1-1.103 0 .781.781 0 0 1 0-1.106L4.21 17.19H.783a.78.78 0 1 1 0-1.562h3.426l-1.876-1.875a.782.782 0 1 1 1.106-1.105l2.979 2.979h1.989l7.219-7.218v-1.99L12.648 3.44a.782.782 0 1 1 1.106-1.105l1.874 1.874V.781a.782.782 0 0 1 1.563 0v3.426l1.875-1.875a.783.783 0 0 1 1.106 1.105l-2.979 2.979v1.99l7.216 7.218h1.992l2.979-2.979a.782.782 0 0 1 1.105 1.105l-1.876 1.874h3.427a.781.781 0 0 1 .777.782zm-10.613.782l.778-.78-.781-.782-5.009-5.008-.781-.781-.781.781-5.01 5.008-.781.781.781.781 5.01 5.011.782.781.78-.779 5.012-5.013zm5.863 4.646a.782.782 0 0 0-.781-.781h-6.229v6.228a.78.78 0 1 0 1.562 0v-4.665h4.666a.782.782 0 0 0 .782-.782zm-.001-10.855a.782.782 0 0 0-.781-.781h-4.664V5.532a.782.782 0 0 0-1.562 0v6.228h6.227a.78.78 0 0 0 .78-.781zm-23.318 0c0 .432.35.781.781.781h6.228V5.532a.781.781 0 0 0-1.562 0v4.666H5.525a.781.781 0 0 0-.781.781zm.002 10.855c0 .432.35.781.781.781h4.664v4.665a.78.78 0 1 0 1.562 0v-6.228H5.527a.783.783 0 0 0-.781.782z' fill=':color:'/%3E%3C/svg%3E\")}.snowflakes_gid_value .snowflake__inner_type_4:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='37.794' height='37.794'%3E%3Cpath d='M30.638 17.313l-.914 1.584.915 1.585a.78.78 0 1 1-1.352.78l-1.366-2.366 1.366-2.365a.782.782 0 0 1 1.067-.286c.372.215.5.692.284 1.068zM11.65 11.08l2.733.002 1.367-2.367a.78.78 0 0 0-1.352-.781l-.915 1.585-1.831-.002h-.001a.78.78 0 0 0-.001 1.563zm14.491 15.633h-2.733l-1.365 2.365a.78.78 0 1 0 1.352.78l.914-1.584h1.831a.781.781 0 0 0 .001-1.561zm-4.1-17.998l1.367 2.367h2.733a.78.78 0 1 0 0-1.562h-1.833l-.915-1.585a.78.78 0 0 0-1.352.78zM15.75 29.08l-1.368-2.366h-2.733a.781.781 0 0 0 0 1.562h1.832l.917 1.585c.146.25.409.391.677.391a.779.779 0 0 0 .675-1.172zm-8.313-7.531a.78.78 0 0 0 1.067-.284L9.87 18.9l-1.367-2.368a.781.781 0 0 0-1.351.781l.916 1.587-.914 1.584a.776.776 0 0 0 .283 1.065zm27.827 6.798a.784.784 0 0 1-1.067.285l-.89-.515-2.096 1.209a.793.793 0 0 1-.391.105.762.762 0 0 1-.391-.105l-2.484-1.435a.78.78 0 0 1-.391-.676l-.002-2.417-2.408-1.392a7.714 7.714 0 0 1-5.467 3.168v2.773l2.093 1.208a.78.78 0 0 1 .391.676l.001 2.868c0 .28-.149.537-.392.676l-2.093 1.205v1.032a.781.781 0 0 1-1.562 0V35.98l-2.095-1.207a.78.78 0 0 1-.391-.676l.001-2.868c0-.28.15-.537.391-.676l2.094-1.206v-2.773a7.718 7.718 0 0 1-5.468-3.168l-2.408 1.392.002 2.415c0 .281-.15.539-.391.676l-2.487 1.437a.785.785 0 0 1-.782 0l-2.095-1.209-.893.518a.782.782 0 0 1-.782-1.354l.893-.517.001-2.414a.78.78 0 0 1 .391-.677l2.487-1.434a.774.774 0 0 1 .781 0l2.093 1.208 2.407-1.39a7.655 7.655 0 0 1 0-6.317l-2.406-1.39-2.096 1.209a.772.772 0 0 1-.782 0l-2.485-1.434a.786.786 0 0 1-.391-.676l.002-2.416-.894-.517a.78.78 0 0 1-.285-1.066.788.788 0 0 1 1.07-.283l.893.514 2.093-1.208a.774.774 0 0 1 .781 0L9.851 9.91c.24.14.391.398.391.675L10.24 13l2.408 1.392a7.712 7.712 0 0 1 5.468-3.167V8.45L16.02 7.242a.78.78 0 0 1-.391-.676l.002-2.87c0-.279.15-.538.391-.675l2.094-1.208V.781a.781.781 0 0 1 1.562 0v1.032l2.093 1.206a.785.785 0 0 1 .391.677l-.002 2.87c0 .28-.149.536-.391.674l-2.091 1.208v2.772a7.708 7.708 0 0 1 5.467 3.167l2.409-1.392-.002-2.416c0-.28.149-.539.391-.676l2.487-1.436c.24-.14.539-.14.781 0l2.095 1.208.894-.514a.78.78 0 1 1 .781 1.352l-.894.516v2.417c0 .279-.15.538-.391.675l-2.487 1.436a.785.785 0 0 1-.782 0l-2.092-1.209-2.408 1.39c.436.967.684 2.032.684 3.158a7.65 7.65 0 0 1-.684 3.158l2.408 1.391 2.091-1.206a.782.782 0 0 1 .78 0l2.488 1.432c.24.141.392.398.392.677l-.002 2.414.893.517a.783.783 0 0 1 .287 1.068zm-6.147-16.251l.001.9.78.453.921.531 1.706-.982v-1.965l-.78-.451-.923-.533-1.707.983.002 1.064zm-20.443-.002l.002-1.063-1.706-.985-.922.535-.778.451-.001.902-.001 1.063 1.703.982.924-.533.779-.451v-.901zm0 13.604l-.001-.899-.781-.451-.919-.533-1.706.982-.001 1.064v.901l.781.451.923.533 1.707-.982-.003-1.066zm15.109-3.076c.315-.413.586-.864.789-1.351a6.121 6.121 0 0 0 0-4.748 6.175 6.175 0 0 0-.789-1.35 6.158 6.158 0 0 0-4.106-2.375 6.48 6.48 0 0 0-.781-.056c-.266 0-.525.022-.781.056a6.149 6.149 0 0 0-4.106 2.375 6.128 6.128 0 0 0-.789 1.35 6.104 6.104 0 0 0-.479 2.374 6.1 6.1 0 0 0 1.268 3.725 6.15 6.15 0 0 0 4.106 2.374c.256.031.516.056.781.056s.525-.022.781-.056a6.142 6.142 0 0 0 4.106-2.374zM17.19 6.113l.924.531.781.452.781-.452.919-.531.002-1.968-.921-.531-.784-.452-.779.451-.922.532-.001 1.968zm3.408 25.57l-.921-.532-.781-.452-.781.452-.922.532-.001 1.966.923.531.782.451.78-.449.922-.533-.001-1.966zm11.925-5.819l.001-1.063-1.707-.981-.919.529-.782.451v.901l.001 1.065 1.702.981.924-.533.778-.449.002-.901z' fill=':color:'/%3E%3C/svg%3E\")}.snowflakes_gid_value .snowflake__inner_type_5:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='31.25' height='31.25'%3E%3Cpath d='M20.581 1.176l-3.914 3.915V0h1.041v2.576L19.845.439l.736.737zm-1.615 9.069l.351.217 6.623-6.625-.736-.737-6.048 6.051a7.141 7.141 0 0 0-1.449-.6v-.082l5.082-5.082-.737-.737-5.387 5.388v1.33l.402.093a6.213 6.213 0 0 1 1.899.784zm2.041 2.043c.368.585.63 1.224.786 1.893l.094.403h1.028l5.171-5.173-.736-.737-4.699 4.701a7.523 7.523 0 0 0-.549-1.28l6.048-6.05-.737-.735-6.622 6.625.216.353zm7.368 1.254l1.921-1.923-.736-.735-3.699 3.7h5.39v-1.042h-2.876zm1.185 6.826l.736-.736-1.923-1.923h2.877v-1.042h-5.389l3.699 3.701zm-6.915-2.498l4.705 4.707.736-.736-5.171-5.174h-1.03l-.096.4a6.24 6.24 0 0 1-.795 1.883l-.22.353 6.639 6.641.736-.736-6.061-6.062c.227-.414.414-.84.557-1.276zm-3.7 3.125a6.241 6.241 0 0 1-1.88.794l-.399.096v1.33l5.387 5.387.736-.736-5.082-5.082v-.089a7.322 7.322 0 0 0 1.434-.605l6.061 6.062.736-.736-6.641-6.641-.352.22zM16.667 31.25h1.041v-2.576l2.137 2.137.736-.737-3.914-3.914v5.09zm-5.26-.439l2.134-2.137v2.576h1.042v-5.093l-3.913 3.916.737.738zm.897-9.816l-.352-.222-6.642 6.641.736.736 6.062-6.062c.456.254.937.456 1.433.605v.089l-5.08 5.082.736.736 5.387-5.387v-1.33l-.4-.096a6.175 6.175 0 0 1-1.88-.792zm-2.046-2.047a6.315 6.315 0 0 1-.798-1.883l-.096-.4H8.335l-5.172 5.174.737.736 4.706-4.71c.145.441.329.865.556 1.276L3.1 25.202l.736.736 6.643-6.643-.221-.347zM0 16.667v1.042h2.876L.954 19.632l.736.736 3.698-3.701H0zm1.69-5.783l-.736.735 1.921 1.923H0v1.042h5.39l-3.7-3.7zm6.916 2.498L3.9 8.674l-.736.737 5.172 5.173h1.029l.096-.4a6.15 6.15 0 0 1 .798-1.881l.222-.352L3.837 5.31l-.736.736 6.062 6.06a7.268 7.268 0 0 0-.557 1.276zm-.145-9.996l5.08 5.082v.088c-.497.15-.977.352-1.433.606L6.047 3.101l-.736.737 6.643 6.643.352-.222a6.223 6.223 0 0 1 1.88-.797l.4-.095v-1.33L9.2 2.649l-.739.737zm5.081-.81L11.408.439l-.736.737 3.913 3.917V0h-1.042v2.576zm-1.757 14.831a4.2 4.2 0 0 0 2.06 2.058l.739.338v-3.136h-3.138l.339.74zm0-3.562l-.337.738h3.135v-3.136l-.739.338a4.223 4.223 0 0 0-2.059 2.06zm7.679 3.561l.338-.739h-3.135v3.136l.738-.338a4.204 4.204 0 0 0 2.059-2.059zm0-3.561a4.198 4.198 0 0 0-2.059-2.06l-.738-.34v3.138h3.135l-.338-.738z' fill=':color:'/%3E%3C/svg%3E\")}",Hd=function(){"use strict";function g(t){var e=this;_classCallCheck(this,g),this.destroyed=!1,this.flakes=[],this.isBody=!1,this.handleResize=function(){e.params.autoResize&&e.resize()},this.handleOrientationChange=function(){e.resize()},this.params=this.setParams(t),this.isBody=OT(this.params.container),g.gid++,this.gid=g.gid,this.container=this.appendContainer(),this.params.stop&&this.stop(),this.appendStyles(),this.appendFlakes(),this.containerSize={width:this.width(),height:this.height()},window.addEventListener("resize",this.handleResize,!1),screen.orientation&&screen.orientation.addEventListener&&screen.orientation.addEventListener("change",this.handleOrientationChange)}return _createClass(g,[{key:"start",value:function(){Qk(this.container,"snowflakes_paused")}},{key:"stop",value:function(){yo(this.container,"snowflakes_paused")}},{key:"show",value:function(){Qk(this.container,"snowflakes_hidden")}},{key:"hide",value:function(){yo(this.container,"snowflakes_hidden")}},{key:"resize",value:function(){var e=this.width(),n=this.height();if(n!==this.containerSize.height){this.containerSize.width=e,this.containerSize.height=n;var o=this.getFlakeParams();this.flakes.forEach(function(l){return l.resize(o)}),!this.isBody&&(Kk(this.container),this.updateAnimationStyle(),Xk(this.container))}}},{key:"destroy",value:function(){this.destroyed||(this.destroyed=!0,g.instanceCounter&&g.instanceCounter--,this.removeStyles(),dd(this.container),this.flakes.forEach(function(e){return e.destroy()}),this.flakes=[],window.removeEventListener("resize",this.handleResize,!1),screen.orientation&&screen.orientation.removeEventListener&&screen.orientation.removeEventListener("change",this.handleOrientationChange,!1))}},{key:"appendContainer",value:function(){var e=document.createElement("div");return yo(e,"snowflakes"),yo(e,"snowflakes_gid_".concat(this.gid)),this.isBody&&yo(e,"snowflakes_body"),Ps(e,{zIndex:String(this.params.zIndex)}),this.params.container.appendChild(e),e}},{key:"appendStyles",value:function(){g.instanceCounter||(this.mainStyleNode=this.injectStyle(H5)),g.instanceCounter++,this.imagesStyleNode=this.injectStyle(U5.replace(/:color:/g,encodeURIComponent(this.params.color))),this.animationStyleNode=this.injectStyle(this.getAnimationStyle())}},{key:"injectStyle",value:function(e,n){return AT(e.replace(/_gid_value/g,"_gid_".concat(this.gid)),n)}},{key:"getFlakeParams",value:function(){var e=this.height(),n=this.params;return{containerHeight:e,gid:this.gid,count:n.count,speed:n.speed,rotation:n.rotation,minOpacity:n.minOpacity,maxOpacity:n.maxOpacity,minSize:n.minSize,maxSize:n.maxSize,types:n.types,wind:n.wind}}},{key:"appendFlakes",value:function(){var e=this,n=this.getFlakeParams();this.flakes=[];for(var o=0;o<this.params.count;o++)this.flakes.push(new F5(n));this.flakes.sort(function(l,a){return l.size-a.size}).forEach(function(l){l.appendTo(e.container)})}},{key:"setParams",value:function(e){var n=e||{},o={},l={color:"#5ECDEF",container:document.body,count:50,speed:1,stop:!1,rotation:!0,minOpacity:.6,maxOpacity:1,minSize:10,maxSize:25,types:6,width:void 0,height:void 0,wind:!0,zIndex:9999,autoResize:!0};return Object.keys(l).forEach(function(a){o[a]=_typeof(n[a])>"u"?l[a]:n[a]}),o}},{key:"getAnimationStyle",value:function(){for(var e="0px",n=this.params.maxSize*Math.sqrt(2),o=this.isBody?"calc(100vh + ".concat(n,"px)"):"".concat(this.height()+n,"px"),l=this.gid,a="@-webkit-keyframes snowflake_gid_".concat(l,"_y{from{-webkit-transform:translateY(").concat(e,")}to{-webkit-transform:translateY(").concat(o,");}}\n@keyframes snowflake_gid_").concat(l,"_y{from{transform:translateY(").concat(e,")}to{transform:translateY(").concat(o,");}}"),s=0;s<=Fd;s++){var r=Zk(s,this.params.minSize,this.params.maxSize)+"px";a+="@-webkit-keyframes snowflake_gid_".concat(l,"_x_").concat(s,"{from{-webkit-transform:translateX(0px)}to{-webkit-transform:translateX(").concat(r,");}}\n@keyframes snowflake_gid_").concat(l,"_x_").concat(s,"{from{transform:translateX(0px)}to{transform:translateX(").concat(r,")}}")}return a}},{key:"updateAnimationStyle",value:function(){this.injectStyle(this.getAnimationStyle(),this.animationStyleNode)}},{key:"removeStyles",value:function(){g.instanceCounter||(dd(this.mainStyleNode),delete this.mainStyleNode),dd(this.imagesStyleNode),delete this.imagesStyleNode,dd(this.animationStyleNode),delete this.animationStyleNode}},{key:"width",value:function(){return this.params.width||(this.isBody?CT():this.params.container.offsetWidth)}},{key:"height",value:function(){return this.params.height||(this.isBody?ST():this.params.container.offsetHeight+this.params.maxSize)}}]),g}(),Hd.instanceCounter=0,Hd.gid=0}}),F1=Ht({"https-url:https://esm.archive.org/magic-snowflakes@^6.0.0":function(){V5(),V5()}});function Vo(g,t){var e=this;if(!_instanceof(e,Vo))return new Vo(g,t);var n=Object.assign({},W5,t),o=Ud(n.precision),l=hd(g,n);e.intValue=l,e.value=l/o,n.increment=n.increment||1/o,n.useVedic?n.groups=Y5:n.groups=G5,this.s=n,this.p=o}var W5,yv,Ud,q5,G5,Y5,bv,X5=Ht({"https-url:https://esm.archive.org/v135/currency.js@2.0.4/esnext/currency.mjs":function(){W5={symbol:"$",separator:",",decimal:".",errorOnInvalid:!1,precision:2,pattern:"!#",negativePattern:"-!#",format:jT,fromCents:!1},yv=function(t){return Math.round(t)},Ud=function(t){return Math.pow(10,t)},q5=function(t,e){return yv(t/e)*e},G5=/(\d)(?=(\d{3})+\b)/g,Y5=/(\d)(?=(\d\d)+\d\b)/g,Vo.prototype={add:function(t){var e=this.intValue,n=this.s,o=this.p;return Vo((e+=hd(t,n))/(n.fromCents?1:o),n)},subtract:function(t){var e=this.intValue,n=this.s,o=this.p;return Vo((e-=hd(t,n))/(n.fromCents?1:o),n)},multiply:function(t){var e=this.intValue,n=this.s;return Vo((e*=t)/(n.fromCents?1:Ud(n.precision)),n)},divide:function(t){var e=this.intValue,n=this.s;return Vo(e/=hd(t,n,!1),n)},distribute:function(t){for(var e=this.intValue,n=this.p,o=this.s,l=[],a=Math[e>=0?"floor":"ceil"](e/t),s=Math.abs(e-a*t),r=o.fromCents?1:n;t!==0;t--){var d=Vo(a/r,o);s-- >0&&(d=d[e>=0?"add":"subtract"](1/r)),l.push(d)}return l},dollars:function(){return~~this.value},cents:function(){var t=this.intValue,e=this.p;return~~(t%e)},format:function(t){var e=this.s;return typeof t=="function"?t(this,e):e.format(this,Object.assign({},e,t))},toString:function(){var t=this.intValue,e=this.p,n=this.s;return q5(t/e,n.increment).toFixed(n.precision)},toJSON:function(){return this.value}},bv=Vo}}),K5,Vd,Wo,Q5,J5,Z5=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/donation-form-data-models@0.3.3/esnext/donation-form-data-models.mjs":function(){(function(g){g.CreditCard="Credit Card",g.PayPal="PayPal",g.GooglePay="Google Pay",g.Venmo="Venmo",g.ApplePay="Apple Pay"})(K5||(K5={})),Vd=function(){"use strict";function g(t){_classCallCheck(this,g),this.donationType=t.donationType,this.amount=t.amount,this.coverFees=t.coverFees}return _createClass(g,[{key:"feeAmountCovered",get:function(){return this.coverFees?this.fee:0}},{key:"fee",get:function(){return g.calculateFeeAmount(this.amount)}},{key:"total",get:function(){return g.calculateTotal(this.amount,this.coverFees)}}],[{key:"calculateTotal",value:function(e,n){var o=n?this.calculateFeeAmount(e):0,l=e+o;return isNaN(l)?0:this.roundAmount(l)}},{key:"calculateFeeAmount",value:function(e){var n=e*.022+.3;return isNaN(n)?0:this.roundAmount(n)}},{key:"roundAmount",value:function(e){return Math.round(e*100)/100}}]),g}(),function(g){g.OneTime="one-time",g.Monthly="monthly",g.Upsell="up_sell"}(Wo||(Wo={})),Q5=[5,10,25,50,100,500,1e3],J5=new Vd({donationType:Wo.OneTime,amount:10,coverFees:!1})}}),e3,t3=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/donation-form-currency-validator@0.3.0/esnext/donation-form-currency-validator.mjs":function(){e3=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"keydown",value:function(e){var n,o,l=e.key;if(!e.metaKey){switch(l){case"Tab":case"Delete":case"Backspace":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":return}var a=e.target,s=a.value,r=s.slice(0,(n=a.selectionStart)!==null&&n!==void 0?n:0),d=s.slice((o=a.selectionEnd)!==null&&o!==void 0?o:0),c="".concat(r).concat(l).concat(d),h=/^[0-9]+(\.[0-9]{0,2})?$/g;c.match(h)||e.preventDefault()}}}]),g}()}}),Ju,Dl,n3=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/donation-form-section@0.3.5/esnext/donation-form-section.mjs":function(){Fr(),xn(),Wr(),function(g){g.HideBadge="hidebadge",g.ShowBadge="showbadge",g.HideBadgeLeaveSpacing="hidebadgeleavespacing"}(Ju||(Ju={})),Dl=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.sectionBadge="0",n.badgeMode=Ju.ShowBadge,_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return xt(_templateObject44(),this.badgeMode,this.sectionBadge,this.headline?xt(_templateObject43(),this.headline):"")}}],[{key:"styles",get:function(){var o=Ut(_templateObject45()),l=Ut(_templateObject46()),a=Ut(_templateObject47()),s=Ut(_templateObject48()),r=Ut(_templateObject49(),s),d=Ut(_templateObject50()),c=Ut(_templateObject51()),h=Ut(_templateObject52()),f=Ut(_templateObject53()),v=Ut(_templateObject54()),b=Ut(_templateObject55()),w=Ut(_templateObject56()),k=Ut(_templateObject57(),s);return Ut(_templateObject58(),b,w,r,l,r,l,o,r,a,h,r,r,s,c,d,k,f,v)}}]),e}(er),tt([on({type:String})],Dl.prototype,"sectionBadge",void 0),tt([on({type:String})],Dl.prototype,"headline",void 0),tt([on({type:String})],Dl.prototype,"badgeMode",void 0),Dl=tt([Qr("donation-form-section")],Dl)}}),Zu,qo,Oo,Bs,Wd,no,H1=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/donation-form-edit-donation@1.1.1/esnext/donation-form-edit-donation.mjs":function(){Fr(),xn(),Wr(),X5(),Z5(),t3(),n3(),function(g){g.HideNumbers="hidenumbers",g.ShowNumbers="shownumbers"}(Zu||(Zu={})),function(g){g.DonationType="donationType",g.Amount="amount"}(qo||(qo={})),function(g){g.ValidDonationAmount="valid_donation_amount",g.InvalidDonationAmount="invalid_donation_amount",g.DonationTooHigh="donation_too_high",g.DonationTooLow="donation_too_low"}(Oo||(Oo={})),function(g){g.Button="button",g.Checkbox="checkbox",g.Hide="hide"}(Bs||(Bs={})),function(g){g.SingleLine="single-line",g.MultiLine="multi-line"}(Wd||(Wd={})),no=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.donationInfo=J5,n.stepNumberMode=Zu.ShowNumbers,n.amountOptions=Q5,n.amountSelectionLayout=Wd.MultiLine,n.frequencySelectionMode=Bs.Button,n.customAmountMode="display",n.customFeesCheckboxMode="display",n.amountTitleDisplayMode="default",n.customAmountSelected=!1,n.currencyValidator=new e3,_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){var o=this.amountTitleDisplayMode==="default"?"Choose an amount (USD)":"";return xt(_templateObject62(),this.frequencySelectionMode===Bs.Button?this.frequencyButtonsTemplate:Vn,this.amountSelectionSectionNumber,o,this.formSectionNumberMode,this.amountTitleDisplayMode==="slot"?xt(_templateObject59()):Vn,this.presetAmountsTemplate,this.customAmountMode==="display"?xt(_templateObject60(),this.customAmountTemplate):Vn,this.error,this.customFeesCheckboxMode==="display"?xt(_templateObject61(),this.customFeesCheckboxTemplate,this.frequencySelectionMode===Bs.Checkbox?this.frequencyCheckboxTemplate:Vn):Vn)}},{key:"updated",value:function(o){o.has("customAmountSelected")&&this.customAmountButton&&(this.customAmountButton.checked=this.customAmountSelected),o.has("amountOptions")&&(this.customAmountSelected=!1,this.updateSelectedDonationInfo(),this.setupAmountColumnsLayoutConfig()),o.has("amountSelectionLayout")&&this.setupAmountColumnsLayoutConfig(),o.has("donationInfo")&&this.updateSelectedDonationInfo(),o.has("defaultSelectedAmount")&&this.defaultSelectedAmount!==void 0&&(this.customAmountSelected=!1,this.donationInfo=new Vd({donationType:this.donationInfo.donationType,amount:this.defaultSelectedAmount,coverFees:this.donationInfo.coverFees}))}},{key:"frequencyButtonsTemplate",get:function(){return xt(_templateObject63(),this.formSectionNumberMode,this.frequencyTemplate)}},{key:"frequencyCheckboxTemplate",get:function(){return xt(_templateObject64(),this.monthlyCheckboxChecked,this.donationInfo.donationType===Wo.Monthly)}},{key:"customFeesCheckboxTemplate",get:function(){return xt(_templateObject65(),this.coverFeesChecked,this.donationInfo.coverFees,this.coverFeesTextTemplate)}},{key:"amountSelectionSectionNumber",get:function(){return this.frequencySelectionMode===Bs.Button?2:1}},{key:"formSectionNumberMode",get:function(){switch(this.stepNumberMode){case Zu.ShowNumbers:return Ju.ShowBadge;case Zu.HideNumbers:return Ju.HideBadge}}},{key:"setupAmountColumnsLayoutConfig",value:function(){var o=this.customAmountMode==="hide"&&this.customFeesCheckboxMode==="hide"&&this.frequencySelectionMode===Bs.Hide,l=this.amountOptions.length,a=5,s=3;switch(l){case 7:a=5,s=3;break;case 6:a=4,s=2;break;case 5:a=4,s=3;break;case 4:if(o){a=4,s=0;break}a=3,s=2;break;case 3:a=2,s=1;break}this.amountSelectionLayout===Wd.SingleLine&&(a=l+3,s=3),this.style.setProperty("--paymentSelectorAmountColumnCount","".concat(a)),this.style.setProperty("--paymentSelectorCustomAmountColSpan","".concat(s))}},{key:"updateSelectedDonationInfo",value:function(){var o,l;if(!this.customAmountSelected&&this.amountOptions.includes(this.donationInfo.amount)){var a=(o=this.shadowRoot)===null||o===void 0?void 0:o.querySelector('input[type="radio"][name="'.concat(qo.Amount,'"][value="').concat(this.donationInfo.amount,'"]'));a.checked=!0,this.customAmountSelected=!1,this.customAmountInput&&(this.customAmountInput.value="")}else if(this.customAmountSelected=!0,((l=this.shadowRoot)===null||l===void 0?void 0:l.activeElement)!==this.customAmountInput){this.customAmountInput.value="".concat(this.donationInfo.amount);var s=this.getDonationInfoStatus(this.donationInfo.amount);this.handleDonationInfoStatus(s)}}},{key:"coverFeesTextTemplate",get:function(){var o=bv(this.donationInfo.fee,{symbol:"$"}).format();return xt(_templateObject66(),o)}},{key:"formatShortenedAmount",value:function(o){var l=o%1===0?0:2;return bv(o,{symbol:"$",precision:l}).format()}},{key:"frequencyTemplate",get:function(){return xt(_templateObject67(),this.getRadioButton({group:qo.DonationType,value:Wo.OneTime,displayText:"One time",checked:this.donationInfo.donationType===Wo.OneTime}),this.getRadioButton({group:qo.DonationType,value:Wo.Monthly,displayText:"Monthly",checked:this.donationInfo.donationType===Wo.Monthly}))}},{key:"presetAmountsTemplate",get:function(){var o=this;return xt(_templateObject69(),this.amountOptions.map(function(l){var a=!o.customAmountSelected&&l===o.donationInfo.amount,s=o.formatShortenedAmount(l);return xt(_templateObject68(),o.getRadioButton({group:qo.Amount,value:"".concat(l),displayText:"".concat(s),checked:a}))}))}},{key:"getRadioButton",value:function(o){var l=this,a="".concat(o.group,"-").concat(o.value,"-option");return xt(_templateObject70(),o.group,o.value,a,o.checked,this.radioSelected,function(s){o.group===qo.Amount&&parseFloat(o.value)===l.donationInfo.amount&&(console.log("SAME VALUE"),l.radioSelected(s))},a,o.displayText)}},{key:"customAmountTemplate",get:function(){var o=this.amountOptions.includes(this.donationInfo.amount)?"":this.donationInfo.amount;return xt(_templateObject71(),qo.Amount,this.customRadioSelected,o,this.customAmountChanged,this.currencyValidator.keydown,this.customAmountFocused)}},{key:"customRadioSelected",value:function(){this.customAmountInput.focus()}},{key:"customAmountFocused",value:function(o){var l=o.target;this.customAmountSelected=!0,this.handleCustomAmountInput(l.value)}},{key:"coverFeesChecked",value:function(o){var l=o.target.checked;this.updateDonationInfo({coverFees:l})}},{key:"customAmountChanged",value:function(o){var l=o.target.value;this.customAmountSelected=!0,this.handleCustomAmountInput(l)}},{key:"handleCustomAmountInput",value:function(o){var l=parseFloat(o);isNaN(l)?this.dispatchEditDonationError(Oo.InvalidDonationAmount):this.amountChanged(l)}},{key:"handleDonationInfoStatus",value:function(o){switch(o){case Oo.ValidDonationAmount:this.error=void 0;break;case Oo.DonationTooHigh:this.error=xt(_templateObject72()),this.dispatchEditDonationError(o);break;case Oo.DonationTooLow:this.customAmountInput.value.length>0&&(this.error=xt(_templateObject73())),this.dispatchEditDonationError(o);break;case Oo.InvalidDonationAmount:this.error=xt(_templateObject74()),this.dispatchEditDonationError(o);break}}},{key:"amountChanged",value:function(o){var l=this.getDonationInfoStatus(o);this.handleDonationInfoStatus(l),l===Oo.ValidDonationAmount&&this.updateDonationInfo({amount:o})}},{key:"getDonationInfoStatus",value:function(o){return isNaN(o)?Oo.InvalidDonationAmount:o>=1e4?Oo.DonationTooHigh:o<1?Oo.DonationTooLow:Oo.ValidDonationAmount}},{key:"radioSelected",value:function(o){var l=o.target,a=l.name,s=l.value;switch(a){case qo.Amount:this.presetAmountChanged(parseFloat(s));break;case qo.DonationType:this.updateDonationInfo({donationType:s});break;default:break}}},{key:"monthlyCheckboxChecked",value:function(o){var l=o.target.checked?Wo.Monthly:Wo.OneTime;this.updateDonationInfo({donationType:l})}},{key:"dispatchEditDonationError",value:function(o){var l=new CustomEvent("editDonationError",{detail:{error:o}});this.dispatchEvent(l)}},{key:"presetAmountChanged",value:function(o){this.error=void 0,this.customAmountSelected=!1,this.customAmountInput&&(this.customAmountInput.value=""),this.updateDonationInfo({amount:o})}},{key:"updateDonationInfo",value:function(o){var l,a,s,r=new Vd({donationType:(l=o.donationType)!==null&&l!==void 0?l:this.donationInfo.donationType,amount:(a=o.amount)!==null&&a!==void 0?a:this.donationInfo.amount,coverFees:(s=o.coverFees)!==null&&s!==void 0?s:this.donationInfo.coverFees});this.donationInfo=r;var d=new CustomEvent("donationInfoChanged",{detail:{donationInfo:r}});this.dispatchEvent(d)}}],[{key:"styles",get:function(){var o=Ut(_templateObject75()),l=Ut(_templateObject76()),a=Ut(_templateObject77()),s=Ut(_templateObject78()),r=Ut(_templateObject79()),d=Ut(_templateObject80()),c=Ut(_templateObject81()),h=Ut(_templateObject82()),f=Ut(_templateObject83()),v=Ut(_templateObject84()),b=Ut(_templateObject85()),w=Ut(_templateObject86()),k=Ut(_templateObject87()),C=Ut(_templateObject88()),E=Ut(_templateObject89());return Ut(_templateObject90(),l,C,E,a,o,s,h,r,d,c,f,v,b,w,k)}}]),e}(er),tt([on({type:Object})],no.prototype,"donationInfo",void 0),tt([on({type:String})],no.prototype,"stepNumberMode",void 0),tt([on({type:Number})],no.prototype,"defaultSelectedAmount",void 0),tt([on({type:Array})],no.prototype,"amountOptions",void 0),tt([on({type:String})],no.prototype,"amountSelectionLayout",void 0),tt([on({type:String,reflect:!0})],no.prototype,"frequencySelectionMode",void 0),tt([on({type:String,reflect:!0})],no.prototype,"customAmountMode",void 0),tt([on({type:String,reflect:!0})],no.prototype,"customFeesCheckboxMode",void 0),tt([on({type:String,reflect:!0})],no.prototype,"amountTitleDisplayMode",void 0),tt([on({type:Object})],no.prototype,"error",void 0),tt([on({type:Boolean})],no.prototype,"customAmountSelected",void 0),tt([ii("#custom-amount-button")],no.prototype,"customAmountButton",void 0),tt([ii("#custom-amount-input")],no.prototype,"customAmountInput",void 0),no=tt([Qr("donation-form-edit-donation")],no)}}),U1=Ht({"https-url:https://esm.archive.org/@internetarchive/donation-form-edit-donation@^1.1.1":function(){Fr(),xn(),Wr(),X5(),Z5(),t3(),n3(),H1()}}),lo,V1=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/donation-banner-thermometer@0.4.2/esnext/donation-banner-thermometer.mjs":function(){Fr(),xn(),Wr(),lo=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.goalMessageMode="amount",n.goalNearMessage="We\u2019ve almost reached our goal!",n.goalReachedMessage="We've reached our goal!",n.goalAmount=75e5,n.currentAmountMode="on",n.currentAmount=0,n.thermometerValueWidth=0,n.thermometerFillWidth=0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return xt(_templateObject92(),this.goalAmount,this.currentAmount,this.currentAmountDisplayValue,this.thermometerValuePosition,this.percentComplete,this.thermometerValuePosition==="value-left"?this.thermometerValueTemplate:Vn,this.thermometerValuePosition==="value-right"?this.thermometerValueTemplate:Vn,this.goalMessageMode!=="off"?xt(_templateObject91(),this.currentGoalMessage):Vn)}},{key:"thermometerValueTemplate",get:function(){return this.currentAmountMode==="off"?xt(_templateObject93(),Vn):xt(_templateObject94(),this.currentAmountDisplayValue)}},{key:"thermometerValuePosition",get:function(){return this.thermometerValueWidth+10<this.thermometerFillWidth?"value-left":"value-right"}},{key:"updated",value:function(o){if(o.has("resizeObserver")){var l=o.get("resizeObserver");this.disconnectResizeObserver(l),this.setupResizeObserver(this.resizeObserver)}o.has("currentAmountMode")&&(this.unobserveCurrentAmountResize(this.resizeObserver),this.observeCurrentAmountResize(this.resizeObserver))}},{key:"disconnectedCallback",value:function(){this.disconnectResizeObserver(this.resizeObserver)}},{key:"handleResize",value:function(o){var l;switch(o.target){case((l=this.shadowRoot)===null||l===void 0?void 0:l.host):this.style.setProperty("--bannerThermometerHeight",o.contentRect.height+"px");break;case this.thermometerValue:this.thermometerValueWidth=o.contentRect.width;break;case this.thermometerFill:this.thermometerFillWidth=o.contentRect.width;break}}},{key:"setupResizeObserver",value:function(o){var l;!(!((l=this.shadowRoot)===null||l===void 0)&&l.host)||!o||(o.addObserver({handler:this,target:this.shadowRoot.host}),o.addObserver({handler:this,target:this.thermometerFill}),this.observeCurrentAmountResize(o))}},{key:"disconnectResizeObserver",value:function(o){var l;!(!((l=this.shadowRoot)===null||l===void 0)&&l.host)||!o||(o.removeObserver({handler:this,target:this.shadowRoot.host}),o.removeObserver({handler:this,target:this.thermometerFill}),this.unobserveCurrentAmountResize(o))}},{key:"observeCurrentAmountResize",value:function(o){!this.thermometerValue||!o||(o==null||o.addObserver({handler:this,target:this.thermometerValue}))}},{key:"unobserveCurrentAmountResize",value:function(o){!this.thermometerValue||!o||(o==null||o.removeObserver({handler:this,target:this.thermometerValue}))}},{key:"goalMessage",get:function(){return this.currentAmount>=this.goalAmount?this.goalReachedMessage:this.goalNearMessage}},{key:"currentAmountDisplayValue",get:function(){return this.formatNumber(this.currentAmount)}},{key:"goalAmountDisplayValue",get:function(){return this.formatNumber(this.goalAmount)}},{key:"formatNumber",value:function(o){if(o===0)return"$0";var l="MM",a=o/1e6,s=a<10,r=0;return s?r=Math.round((a+Number.EPSILON)*10)/10:r=Math.round(a),"$".concat(r).concat(l)}},{key:"currentGoalMessage",get:function(){switch(this.goalMessageMode){case"amount":return"".concat(this.goalAmountDisplayValue," goal");case"message":return this.goalMessage;case"off":return""}}},{key:"percentComplete",get:function(){return Math.min(this.currentAmount/this.goalAmount*100,100)}}],[{key:"styles",get:function(){var o=Ut(_templateObject95()),l=Ut(_templateObject96()),a=Ut(_templateObject97()),s=Ut(_templateObject98(),a),r=Ut(_templateObject99()),d=Ut(_templateObject100(),a),c=Ut(_templateObject101(),o),h=Ut(_templateObject102()),f=Ut(_templateObject103());return Ut(_templateObject104(),r,c,d,a,l,s,h,f)}}]),e}(er),tt([on({type:String})],lo.prototype,"goalMessageMode",void 0),tt([on({type:String})],lo.prototype,"goalNearMessage",void 0),tt([on({type:String})],lo.prototype,"goalReachedMessage",void 0),tt([on({type:Number})],lo.prototype,"goalAmount",void 0),tt([on({type:String})],lo.prototype,"currentAmountMode",void 0),tt([on({type:Number})],lo.prototype,"currentAmount",void 0),tt([on({type:Object})],lo.prototype,"resizeObserver",void 0),tt([ii(".thermometer-value")],lo.prototype,"thermometerValue",void 0),tt([ii(".thermometer-fill")],lo.prototype,"thermometerFill",void 0),tt([to()],lo.prototype,"thermometerValueWidth",void 0),tt([to()],lo.prototype,"thermometerFillWidth",void 0),lo=tt([Qr("donation-banner-thermometer")],lo)}}),W1=Ht({"https-url:https://esm.archive.org/@internetarchive/donation-banner-thermometer@^0.4.2":function(){Fr(),xn(),Wr(),V1()}}),qa,r3,i3,wv,o3,ec,Ga,a3,_v,qd,kv,xv,s3,$l,tc,Sv,l3,u3,$o,zs,Cv,Av,Ov,c3,jv,d3,Ev,h3,Tv,Pv,f3,p3,v3,nc,m3,g3,y3,Iv,Mv,Gd,b3,Yd,Lv,w3,_3,k3,rc,Rv,ic,x3,q1=Ht({"https-url:https://esm.archive.org/v135/@juggle/resize-observer@3.4.0/esnext/resize-observer.mjs":function(){qa=[],r3=function(){return qa.some(function(t){return t.activeTargets.length>0})},i3=function(){return qa.some(function(t){return t.skippedTargets.length>0})},wv="ResizeObserver loop completed with undelivered notifications.",o3=function(){var t;typeof ErrorEvent=="function"?t=new ErrorEvent("error",{message:wv}):(t=document.createEvent("Event"),t.initEvent("error",!1,!1),t.message=wv),window.dispatchEvent(t)},function(g){g.BORDER_BOX="border-box",g.CONTENT_BOX="content-box",g.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(ec||(ec={})),Ga=function(t){return Object.freeze(t)},a3=function(){var g=function(e,n){this.inlineSize=e,this.blockSize=n,Ga(this)};return g}(),_v=function(){var g=function(e,n,o,l){return this.x=e,this.y=n,this.width=o,this.height=l,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Ga(this)};return g.prototype.toJSON=function(){var t=this,e=t.x,n=t.y,o=t.top,l=t.right,a=t.bottom,s=t.left,r=t.width,d=t.height;return{x:e,y:n,top:o,right:l,bottom:a,left:s,width:r,height:d}},g.fromRect=function(t){return new g(t.x,t.y,t.width,t.height)},g}(),qd=function(t){return _instanceof(t,SVGElement)&&"getBBox"in t},kv=function(t){if(qd(t)){var e=t.getBBox(),n=e.width,o=e.height;return!n&&!o}var l=t,a=l.offsetWidth,s=l.offsetHeight;return!(a||s||t.getClientRects().length)},xv=function(t){var e;if(_instanceof(t,Element))return!0;var n=(e=t==null?void 0:t.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(n&&_instanceof(t,n.Element))},s3=function(t){switch(t.tagName){case"INPUT":if(t.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},$l=(typeof window=="undefined"?"undefined":_typeof(window))<"u"?window:{},tc=new WeakMap,Sv=/auto|scroll/,l3=/^tb|vertical/,u3=/msie|trident/i.test($l.navigator&&$l.navigator.userAgent),$o=function(t){return parseFloat(t||"0")},zs=function(t,e,n){return t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=!1),new a3((n?e:t)||0,(n?t:e)||0)},Cv=Ga({devicePixelContentBoxSize:zs(),borderBoxSize:zs(),contentBoxSize:zs(),contentRect:new _v(0,0,0,0)}),Av=function(t,e){if(e===void 0&&(e=!1),tc.has(t)&&!e)return tc.get(t);if(kv(t))return tc.set(t,Cv),Cv;var n=getComputedStyle(t),o=qd(t)&&t.ownerSVGElement&&t.getBBox(),l=!u3&&n.boxSizing==="border-box",a=l3.test(n.writingMode||""),s=!o&&Sv.test(n.overflowY||""),r=!o&&Sv.test(n.overflowX||""),d=o?0:$o(n.paddingTop),c=o?0:$o(n.paddingRight),h=o?0:$o(n.paddingBottom),f=o?0:$o(n.paddingLeft),v=o?0:$o(n.borderTopWidth),b=o?0:$o(n.borderRightWidth),w=o?0:$o(n.borderBottomWidth),k=o?0:$o(n.borderLeftWidth),C=f+c,E=d+h,A=k+b,j=v+w,y=r?t.offsetHeight-j-t.clientHeight:0,u=s?t.offsetWidth-A-t.clientWidth:0,p=l?C+A:0,m=l?E+j:0,_=o?o.width:$o(n.width)-p-u,x=o?o.height:$o(n.height)-m-y,O=_+C+u+A,I=x+E+y+j,P=Ga({devicePixelContentBoxSize:zs(Math.round(_*devicePixelRatio),Math.round(x*devicePixelRatio),a),borderBoxSize:zs(O,I,a),contentBoxSize:zs(_,x,a),contentRect:new _v(f,d,_,x)});return tc.set(t,P),P},Ov=function(t,e,n){var o=Av(t,n),l=o.borderBoxSize,a=o.contentBoxSize,s=o.devicePixelContentBoxSize;switch(e){case ec.DEVICE_PIXEL_CONTENT_BOX:return s;case ec.BORDER_BOX:return l;default:return a}},c3=function(){var g=function(e){var n=Av(e);this.target=e,this.contentRect=n.contentRect,this.borderBoxSize=Ga([n.borderBoxSize]),this.contentBoxSize=Ga([n.contentBoxSize]),this.devicePixelContentBoxSize=Ga([n.devicePixelContentBoxSize])};return g}(),jv=function(t){if(kv(t))return 1/0;for(var e=0,n=t.parentNode;n;)e+=1,n=n.parentNode;return e},d3=function(){var t=1/0,e=[];qa.forEach(function(a){if(a.activeTargets.length!==0){var s=[];a.activeTargets.forEach(function(r){var d=new c3(r.target),c=jv(r.target);s.push(d),r.lastReportedSize=Ov(r.target,r.observedBox),c<t&&(t=c)}),e.push(function(){a.callback.call(a.observer,s,a.observer)}),a.activeTargets.splice(0,a.activeTargets.length)}});for(var n=0,o=e;n<o.length;n++){var l=o[n];l()}return t},Ev=function(t){qa.forEach(function(e){e.activeTargets.splice(0,e.activeTargets.length),e.skippedTargets.splice(0,e.skippedTargets.length),e.observationTargets.forEach(function(n){n.isActive()&&(jv(n.target)>t?e.activeTargets.push(n):e.skippedTargets.push(n))})})},h3=function(){var t=0;for(Ev(t);r3();)t=d3(),Ev(t);return i3()&&o3(),t>0},Pv=[],f3=function(){return Pv.splice(0).forEach(function(t){return t()})},p3=function(t){if(!Tv){var e=0,n=document.createTextNode(""),o={characterData:!0};new MutationObserver(function(){return f3()}).observe(n,o),Tv=function(){n.textContent="".concat(e?e--:e++)}}Pv.push(t),Tv()},v3=function(t){p3(function(){requestAnimationFrame(t)})},nc=0,m3=function(){return!!nc},g3=250,y3={attributes:!0,characterData:!0,childList:!0,subtree:!0},Iv=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Mv=function(t){return t===void 0&&(t=0),Date.now()+t},Gd=!1,b3=function(){var g=function(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}};return g.prototype.run=function(t){var e=this;if(t===void 0&&(t=g3),!Gd){Gd=!0;var n=Mv(t);v3(function(){var o=!1;try{o=h3()}finally{if(Gd=!1,t=n-Mv(),!m3())return;o?e.run(1e3):t>0?e.run(t):e.start()}})}},g.prototype.schedule=function(){this.stop(),this.run()},g.prototype.observe=function(){var t=this,e=function(){return t.observer&&t.observer.observe(document.body,y3)};document.body?e():$l.addEventListener("DOMContentLoaded",e)},g.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Iv.forEach(function(e){return $l.addEventListener(e,t.listener,!0)}))},g.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),Iv.forEach(function(e){return $l.removeEventListener(e,t.listener,!0)}),this.stopped=!0)},g}(),Yd=new b3,Lv=function(t){!nc&&t>0&&Yd.start(),nc+=t,!nc&&Yd.stop()},w3=function(t){return!qd(t)&&!s3(t)&&getComputedStyle(t).display==="inline"},_3=function(){var g=function(e,n){this.target=e,this.observedBox=n||ec.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}};return g.prototype.isActive=function(){var t=Ov(this.target,this.observedBox,!0);return w3(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},g}(),k3=function(){var g=function(e,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=n};return g}(),rc=new WeakMap,Rv=function(t,e){for(var n=0;n<t.length;n+=1)if(t[n].target===e)return n;return-1},ic=function(){var g=function(){};return g.connect=function(t,e){var n=new k3(t,e);rc.set(t,n)},g.observe=function(t,e,n){var o=rc.get(t),l=o.observationTargets.length===0;Rv(o.observationTargets,e)<0&&(l&&qa.push(o),o.observationTargets.push(new _3(e,n&&n.box)),Lv(1),Yd.schedule())},g.unobserve=function(t,e){var n=rc.get(t),o=Rv(n.observationTargets,e),l=n.observationTargets.length===1;o>=0&&(l&&qa.splice(qa.indexOf(n),1),n.observationTargets.splice(o,1),Lv(-1))},g.disconnect=function(t){var e=this,n=rc.get(t);n.observationTargets.slice().forEach(function(o){return e.unobserve(t,o.target)}),n.activeTargets.splice(0,n.activeTargets.length)},g}(),x3=function(){var g=function(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");ic.connect(this,e)};return g.prototype.observe=function(t,e){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!xv(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");ic.observe(this,t,e)},g.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!xv(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");ic.unobserve(this,t)},g.prototype.disconnect=function(){ic.disconnect(this)},g.toString=function(){return"function ResizeObserver () { [polyfill code] }"},g}()}}),G1=Ht({"https-url:https://esm.archive.org/@juggle/resize-observer@^3.3.1":function(){q1()}}),S3,Y1=Ht({"components/resize-observer-polyfill/resize-observer-polyfill.js":function(){G1(),S3=window.ResizeObserver||x3,window.ResizeObserver=S3}}),Ya,Nl=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/shared-resize-observer@0.2.0/esnext/shared-resize-observer.mjs":function(){Ya=function(){"use strict";function g(){var t=this;_classCallCheck(this,g),this.resizeObserver=new ResizeObserver(function(e){var n=t;window.requestAnimationFrame(function(){var o=!0,l=!1,a=void 0;try{for(var s=function(c,h){var f=h.value,v=n.resizeHandlers.get(f.target);v==null||v.forEach(function(b){b.handleResize(f)})},r=e[Symbol.iterator](),d;!(o=(d=r.next()).done);o=!0)s(r,d)}catch(c){l=!0,a=c}finally{try{!o&&r.return!=null&&r.return()}finally{if(l)throw a}}})}),this.resizeHandlers=new Map}return _createClass(g,[{key:"shutdown",value:function(){var e=this;this.resizeHandlers.forEach(function(n,o){e.resizeObserver.unobserve(o)}),this.resizeHandlers.clear()}},{key:"addObserver",value:function(e){var n,o=(n=this.resizeHandlers.get(e.target))!==null&&n!==void 0?n:new Set;o.add(e.handler),this.resizeHandlers.set(e.target,o),this.resizeObserver.observe(e.target,e.options)}},{key:"removeObserver",value:function(e){var n=this.resizeHandlers.get(e.target);n&&(n.delete(e.handler),n.size===0&&(this.resizeObserver.unobserve(e.target),this.resizeHandlers.delete(e.target)))}}]),g}()}}),X1=Ht({"https-url:https://esm.archive.org/@internetarchive/shared-resize-observer@^0.2.0":function(){Nl()}}),Dv=Ht({"components/ia-shared-resizeobserver/ia-shared-resizeobserver.js":function(){Y1(),X1(),window.SharedResizeObserver=Ya}}),$v,Go,C3=Ht({"components/donation-banner/donation-banner-iframe-handler.js":function(){Ai(),bo(),$v=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,null,[{key:"get_banner_height",value:function(){return X("#donate_banner").outerHeight()}},{key:"postMessage",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Cn("postin",{event:e,incomingValue:n});var o=g.get_banner_height(),l=g.preventResizeEventResponse?g.calculateBannerWithReminderForm():0,a=Math.max(l,n);window.parent.postMessage(JSON.stringify({event:e,value:a,bannerHeight:o}),"*"),e==="close modal"&&g.adjust_height()}},{key:"openReminderForm",value:function(){g.preventResizeEventResponse=!0,g.postMessage("set height"),window.scrollTo(0,0)}},{key:"closeReminderForm",value:function(){g.preventResizeEventResponse=!1,g.postMessage("close modal"),window.scrollTo(0,0)}},{key:"onSubmitReminderForm",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;g.preventResizeEventResponse=!1,g.postMessage("set cookie",e)}},{key:"calculateBannerWithReminderForm",value:function(){var e=document.querySelector(".js-donate-banner"),n=document.querySelector(".js-donate-form"),o=document.querySelector(".js-donate-later-dropdown"),l=15,a=e.offsetHeight,s=o.offsetHeight,r=n.offsetHeight+n.offsetTop,d=a-r,c=a-d+s+l;return c}},{key:"adjust_height",value:function(e){var n=e!=null?e:g.get_banner_height();g.postMessage("set height",n),Cn({banner_height:n}),this.currentBannerHeight=n}},{key:"init",value:function(){Cn("donato tornado"),X(window).on("resize  orientationchange",function(){g.fixBannerHeightIfNeeded(),clearTimeout(g.adjust_height_throttler),g.adjust_height_throttler=setTimeout(g.adjust_height,100)}),this.currentWindowWidth=window.innerWidth,this.currentBannerHeight=g.get_banner_height(),g.adjust_height()}},{key:"fixBannerHeightIfNeeded",value:function(){if(window.innerWidth===this.currentWindowWidth){var e=g.get_banner_height();e!==this.currentBannerHeight&&(Cn("Performing banner height correction: current, new",this.currentBannerHeight,e),g.adjust_height(e))}else this.currentWindowWidth=window.innerWidth}}]),g}(),$v.preventResizeEventResponse=!1,Go=$v}}),Nv,A3=Ht({"components/analyticsHandler/analyticsHandler.js":function(){Nv=function(){"use strict";function g(t){_classCallCheck(this,g),this.analyticsBackend=t||window.archive_analytics}return _createClass(g,[{key:"send_event",value:function(e,n,o,l){this.analyticsBackend&&this.analyticsBackend.send_event(e,n,o,l)}},{key:"send_event_no_sampling",value:function(e,n,o,l){this.analyticsBackend&&this.analyticsBackend.send_event_no_sampling(e,n,o,l)}}]),g}()}}),O3,oc,j3,K1=Ht({"components/donation-banner/remind_form.js":function(){C3(),O3=27,oc="RemindForm",j3=function(){"use strict";function g(t,e,n){_classCallCheck(this,g),this.$form=t,this.$trigger=e,this.setDonationCookie=n||$.noop}return _createClass(g,[{key:"setup",value:function(){var e=this,n=$("#donate_dropdown"),o=$("#close_donate_dropdown"),l=this.$form.attr("data-base-url")||"https://archive.org";this.$trigger.on("click.".concat(oc),function(a){n.hasClass("is-open")||n.addClass("is-open"),e.$form.find("input").filter(function(s,r){return!r.value}).eq(0).focus(),Go.openReminderForm(),a.preventDefault()}),o.on("click.".concat(oc),function(){n.removeClass("is-open"),Go.closeReminderForm(),e.$trigger.focus()}),$(window).on("keydown.".concat(oc),function(a){var s=n.hasClass("is-open");s&&a.keyCode===O3&&o.click()}),this.$form.on("submit.".concat(oc),function(a){var s=e;if(a.preventDefault(),!g.validateDonorEmail(e.$form.find("[name=email]").val())){e.$form.find(".error-email").show();return}["first_name","last_name"].forEach(function(d){g.validateNameField(s.$form.find("[name='".concat(d,"']")).val())||s.$form.find("[name='".concat(d,"']")).val("")});var r=e.$trigger.attr("data-source-context")||"";typeof archive_analytics!="undefined"&&archive_analytics.send_event_no_sampling("DonateBanner".concat(r),"MaybeLaterFormSubmit",window.location.pathname),e.sendForm(l)})}},{key:"sendForm",value:function(e){var n=this,o=$("#donate_reminder_success").addClass("hidden"),l=function(a,s){return"<h2>".concat(a,"</h2><p>").concat(s,"</p>")};$.ajax({type:"post",url:"".concat(e,"/donate/remindDonate.php"),data:this.$form.serialize(),success:function(){n.$form.addClass("hidden"),o.html(l("Thank You!","We'll be in touch in the next few days with a reminder to donate to the Internet Archive.")).removeClass("hidden");var a=90;n.setDonationCookie(a),Go.onSubmitReminderForm(a)},error:function(){o.html(l("Hmmm...","Something is amiss. Can you try again in a little while?")).removeClass("hidden")}})}}],[{key:"validateDonorEmail",value:function(e){return/.+@.+\..+/.test(e)}},{key:"validateNameField",value:function(e){return!/[<>&:?'"]/.test(e)}}]),g}()}}),E3,Q1=Ht({"components/donation-banner/donation-banner.js":function(){ka(),F1(),U1(),W1(),Dv(),Ai(),C3(),A3(),K1(),console==null||console.log("donation-banner loaded",{version:"1.1.1"}),E3=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"addCloseSupport",value:function(){var e=function(){var l=42;Go.postMessage("hide banner",l),this.bannerElement.style.display="none",this.logEvent("CloseClicked",!0),this.setDonationCookie(l)},n=document.getElementById("donate-close-button");n&&n.addEventListener("click",e.bind(this))}},{key:"initialize",value:function(){if(this.bannerElement){this.donationInfoError=!1,this.addCloseSupport(),this.setupDonationForm(),this.setupThermometer(),this.setupMinimalDonateButton(),this.setupSnow(),Go.init();var e=new j3(X("#donate_reminder_form"),X("#donate_later"),this.setDonationCookie);e.setup(),this.logEvent("Viewed")}}},{key:"setDonationCookie",value:function(e){g.setDonationCookie(e),Go.postMessage("set cookie",e)}},{key:"bannerElement",get:function(){return document.querySelector("#donate_banner")}},{key:"donationFormElement",get:function(){return document.querySelector("donation-form-edit-donation")}},{key:"bannerThermometerElement",get:function(){return document.querySelector("donation-banner-thermometer")}},{key:"minimalDonateButtonElement",get:function(){return document.querySelector("#minimal-donate-button")}},{key:"donationOrigin",get:function(){var e=this.bannerElement,n=e.dataset.exp,o=e.dataset.variant,l;try{l=window.parent.innerWidth}catch(r){l=Go.currentWindowWidth}var a=l<768?"Mobile":"Desktop",s="DonateBanner-".concat(n,"-").concat(o,"-").concat(a);return console.log("PSA Donation Banner donationOrigin: ",{responsiveMode:a,currentWindowWidth:l,origin:s}),s}},{key:"setupSnow",value:function(){if(this.bannerElement.dataset.snowfall==="on"){var e=new Hd({container:document.querySelector("#donate-body-background-layer2"),count:100,minOpacity:.08,maxOpacity:.15,minSize:4,maxSize:8,rotation:!0,speed:.15});e.start()}}},{key:"setupMinimalDonateButton",value:function(){var e=this,n=this.minimalDonateButtonElement;n&&n.addEventListener("click",function(){e.logEvent("MinimalDonateButtonClicked"),Go.postMessage("set cookie",30),window.top.location=e.baseDonatePageUrl})}},{key:"baseDonatePageUrl",get:function(){var e=this.bannerElement,n=e.dataset.baseurl,o=e.dataset.donationsourcedata,l=e.dataset.variantdollaramounts,a=e.dataset.variantamountlayout,s=e.dataset.variantfrequencymode,r=e.dataset.bannertemplate,d=e.dataset.platform,c=new URLSearchParams;this.donationOrigin&&c.set("origin",this.donationOrigin),o&&c.set("referer",o),l&&c.set("dollarAmounts",l),a&&c.set("amountLayout",a),s&&c.set("frequencyMode",s),d&&c.set("platform",d),r&&c.set("bannerTemplate",r);var h="".concat(n,"/donate?").concat(c.toString());return h}},{key:"setupDonationForm",value:function(){var e=this,n=this.donationFormElement;if(n){var o=n.donationInfo,l=this.bannerElement.classList.contains("formdesign-psa");if(l){var a=this,s=document.querySelector("#psa-cta");if(console.log("PSA Donation Banner CTA: ",s),!s)return;s.addEventListener("click",function(d){var c="".concat(a.baseDonatePageUrl,"&amt=").concat(o.amount);a.logEvent("ContinueClicked"),a.setDonationCookie(3),console==null||console.log("donationInfoChanged - IN minimal banner check - post cookie",{url:c}),window.top.location=c});return}n.addEventListener("donationInfoChanged",function(d){e.donationInfoError=!1,o=d.detail.donationInfo;var c=e.bannerElement.classList.contains("formdesign-minimal");if(console==null||console.log("donationInfoChanged",Zr({isMinimalBanner:c},o)),c){var h="".concat(e.baseDonatePageUrl,"&amt=").concat(o.amount);e.logEvent("ContinueClicked"),e.setDonationCookie(3),console==null||console.log("donationInfoChanged - IN minimal banner check - post cookie",{url:h}),window.top.location=h}}),n.addEventListener("editDonationError",function(d){e.donationInfoError=!0});var r=document.querySelector("#continue-button");r&&r.addEventListener("click",function(){if(!e.donationInfoError){e.logEvent("ContinueClicked");var d=e.bannerElement.dataset,c=d.selectedtextcolor?"&selectedTextColor=".concat(encodeURIComponent(d.selectedtextcolor)):"",h=d.selectedfillcolor?"&selectedFillColor=".concat(encodeURIComponent(d.selectedfillcolor)):"";d.donatepageselectedfillcolor&&(h="&selectedFillColor=".concat(encodeURIComponent(d.donatepageselectedfillcolor))),d.donatepageselectedtextcolor&&(c="&selectedTextColor=".concat(encodeURIComponent(d.donatepageselectedtextcolor)));var f=d.formtextcolor?"&formTextColor=".concat(encodeURIComponent(d.formtextcolor)):"",v="".concat(e.baseDonatePageUrl,"&amt=").concat(o.amount,"&contrib_type=").concat(o.donationType,"&coverFees=").concat(o.coverFees).concat(c).concat(h).concat(f);Go.postMessage("set cookie",30),window.top.location=v}})}}},{key:"setupThermometer",value:function(){var e=this.bannerThermometerElement;if(e){var n=new Ya;e.resizeObserver=n}}},{key:"logEvent",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=new Nv,l=this.bannerElement,a=l.dataset.debugmode==="true",s=l.dataset.platform,r=a?"DonateBannerDebug":"DonateBanner";n||e==="Viewed"&&(s==="ia"||s==="wb")?o.send_event(r,e,this.donationOrigin):o.send_event_no_sampling(r,e,this.donationOrigin)}}],[{key:"setDonationCookie",value:function(e){var n=parseInt(e,10);if(n){var o={path:"/",expires:n,domain:".archive.org"};ui.set("donation","x",o),ui.set("donation","x",X.extend(o,{domain:".openlibrary.org"}))}}}]),g}(),document.addEventListener("DOMContentLoaded",function(){var g=new E3;g.initialize()})}}),T3,Xd,P3,I3,M3,L3,uo,R3,Kd,D3,Bv,$3,N3,B3,z3,F3,H3,U3,V3,W3,q3,G3,Y3,zv,Fv,X3,tr,Hv,K3,Uv,Q3=Ht({"https-url:https://esm.archive.org/v135/bootstrap@3.4.1/esnext/bootstrap.mjs":function(){T3=Object.create,Xd=Object.defineProperty,P3=Object.getOwnPropertyDescriptor,I3=Object.getOwnPropertyNames,M3=Object.getPrototypeOf,L3=Object.prototype.hasOwnProperty,uo=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},R3=function(t,e){for(var n in e)Xd(t,n,{get:e[n],enumerable:!0})},Kd=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!L3.call(t,v)&&v!==n&&Xd(t,v,{get:function(){return e[v]},enumerable:!(o=P3(e,v))||o.enumerable})},d=I3(e)[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0)r(d,c)}catch(h){a=!0,s=h}finally{try{!l&&d.return!=null&&d.return()}finally{if(a)throw s}}return t},D3=function(t,e,n){return Kd(t,e,"default"),n&&Kd(n,e,"default")},Bv=function(t,e,n){return n=t!=null?T3(M3(t)):{},Kd(e||!t||!t.__esModule?Xd(n,"default",{value:t,enumerable:!0}):n,t)},$3=uo(function(){+function(t){"use strict";var e=function(){var o=document.createElement("bootstrap"),l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var a in l)if(o.style[a]!==void 0)return{end:l[a]};return!1};t.fn.emulateTransitionEnd=function(n){var o=!1,l=this;t(this).one("bsTransitionEnd",function(){o=!0});var a=function(){o||t(l).trigger(t.support.transition.end)};return setTimeout(a,n),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(o){if(t(o.target).is(this))return o.handleObj.handler.apply(this,arguments)}})})}(jQuery)}),N3=uo(function(){+function(t){"use strict";var e=function(s){return this.each(function(){var r=t(this),d=r.data("bs.alert");d||r.data("bs.alert",d=new o(this)),typeof s=="string"&&d[s].call(r)})},n='[data-dismiss="alert"]',o=function(s){t(s).on("click",n,this.close)};o.VERSION="3.4.1",o.TRANSITION_DURATION=150,o.prototype.close=function(a){var s=function(){c.detach().trigger("closed.bs.alert").remove()},r=t(this),d=r.attr("data-target");d||(d=r.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),d=d==="#"?[]:d;var c=t(document).find(d);a&&a.preventDefault(),c.length||(c=r.closest(".alert")),c.trigger(a=t.Event("close.bs.alert")),!a.isDefaultPrevented()&&(c.removeClass("in"),t.support.transition&&c.hasClass("fade")?c.one("bsTransitionEnd",s).emulateTransitionEnd(o.TRANSITION_DURATION):s())};var l=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=o,t.fn.alert.noConflict=function(){return t.fn.alert=l,this},t(document).on("click.bs.alert.data-api",n,o.prototype.close)}(jQuery)}),B3=uo(function(){+function(t){"use strict";var e=function(a){return this.each(function(){var s=t(this),r=s.data("bs.button"),d=typeof a=="object"&&a;r||s.data("bs.button",r=new n(this,d)),a=="toggle"?r.toggle():a&&r.setState(a)})},n=function(l,a){this.$element=t(l),this.options=t.extend({},n.DEFAULTS,a),this.isLoading=!1};n.VERSION="3.4.1",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(l){var a="disabled",s=this.$element,r=s.is("input")?"val":"html",d=s.data();l+="Text",d.resetText==null&&s.data("resetText",s[r]()),setTimeout(t.proxy(function(){s[r](d[l]==null?this.options[l]:d[l]),l=="loadingText"?(this.isLoading=!0,s.addClass(a).attr(a,a).prop(a,!0)):this.isLoading&&(this.isLoading=!1,s.removeClass(a).removeAttr(a).prop(a,!1))},this),0)},n.prototype.toggle=function(){var l=!0,a=this.$element.closest('[data-toggle="buttons"]');if(a.length){var s=this.$element.find("input");s.prop("type")=="radio"?(s.prop("checked")&&(l=!1),a.find(".active").removeClass("active"),this.$element.addClass("active")):s.prop("type")=="checkbox"&&(s.prop("checked")!==this.$element.hasClass("active")&&(l=!1),this.$element.toggleClass("active")),s.prop("checked",this.$element.hasClass("active")),l&&s.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var o=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=o,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(l){var a=t(l.target).closest(".btn");e.call(a,"toggle"),t(l.target).is('input[type="radio"], input[type="checkbox"]')||(l.preventDefault(),a.is("input,button")?a.trigger("focus"):a.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(l){t(l.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(l.type))})}(jQuery)}),z3=uo(function(){+function(t){"use strict";var e=function(s){return this.each(function(){var r=t(this),d=r.data("bs.carousel"),c=t.extend({},n.DEFAULTS,r.data(),typeof s=="object"&&s),h=typeof s=="string"?s:c.slide;d||r.data("bs.carousel",d=new n(this,c)),typeof s=="number"?d.to(s):h?d[h]():c.interval&&d.pause().cycle()})},n=function(s,r){this.$element=t(s),this.$indicators=this.$element.find(".carousel-indicators"),this.options=r,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),this.options.pause=="hover"&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.4.1",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},n.prototype.cycle=function(a){return a||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},n.prototype.getItemForDirection=function(a,s){var r=this.getItemIndex(s),d=a=="prev"&&r===0||a=="next"&&r==this.$items.length-1;if(d&&!this.options.wrap)return s;var c=a=="prev"?-1:1,h=(r+c)%this.$items.length;return this.$items.eq(h)},n.prototype.to=function(a){var s=this,r=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(a>this.$items.length-1||a<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){s.to(a)}):r==a?this.pause().cycle():this.slide(a>r?"next":"prev",this.$items.eq(a))},n.prototype.pause=function(a){return a||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(a,s){var r=this.$element.find(".item.active"),d=s||this.getItemForDirection(a,r),c=this.interval,h=a=="next"?"left":"right",f=this;if(d.hasClass("active"))return this.sliding=!1;var v=d[0],b=t.Event("slide.bs.carousel",{relatedTarget:v,direction:h});if(this.$element.trigger(b),!b.isDefaultPrevented()){if(this.sliding=!0,c&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var w=t(this.$indicators.children()[this.getItemIndex(d)]);w&&w.addClass("active")}var k=t.Event("slid.bs.carousel",{relatedTarget:v,direction:h});return t.support.transition&&this.$element.hasClass("slide")?(d.addClass(a),typeof d=="object"&&d.length&&d[0].offsetWidth,r.addClass(h),d.addClass(h),r.one("bsTransitionEnd",function(){d.removeClass([a,h].join(" ")).addClass("active"),r.removeClass(["active",h].join(" ")),f.sliding=!1,setTimeout(function(){f.$element.trigger(k)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(r.removeClass("active"),d.addClass("active"),this.sliding=!1,this.$element.trigger(k)),c&&this.cycle(),this}};var o=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=o,this};var l=function(s){var r=t(this),d=r.attr("href");d&&(d=d.replace(/.*(?=#[^\s]+$)/,""));var c=r.attr("data-target")||d,h=t(document).find(c);if(h.hasClass("carousel")){var f=t.extend({},h.data(),r.data()),v=r.attr("data-slide-to");v&&(f.interval=!1),e.call(h,f),v&&h.data("bs.carousel").to(v),s.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",l).on("click.bs.carousel.data-api","[data-slide-to]",l),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var a=t(this);e.call(a,a.data())})})}(jQuery)}),F3=uo(function(){+function(t){"use strict";var e=function(s){var r,d=s.attr("data-target")||(r=s.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"");return t(document).find(d)},n=function(s){return this.each(function(){var r=t(this),d=r.data("bs.collapse"),c=t.extend({},o.DEFAULTS,r.data(),typeof s=="object"&&s);!d&&c.toggle&&/show|hide/.test(s)&&(c.toggle=!1),d||r.data("bs.collapse",d=new o(this,c)),typeof s=="string"&&d[s]()})},o=function(a,s){this.$element=t(a),this.options=t.extend({},o.DEFAULTS,s),this.$trigger=t('[data-toggle="collapse"][href="#'+a.id+'"],[data-toggle="collapse"][data-target="#'+a.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};o.VERSION="3.4.1",o.TRANSITION_DURATION=350,o.DEFAULTS={toggle:!0},o.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},o.prototype.show=function(){if(!(this.transitioning||this.$element.hasClass("in"))){var a,s=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(s&&s.length&&(a=s.data("bs.collapse"),a&&a.transitioning))){var r=t.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){s&&s.length&&(n.call(s,"hide"),a||s.data("bs.collapse",null));var d=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[d](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var c=function(){this.$element.removeClass("collapsing").addClass("collapse in")[d](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return c.call(this);var h=t.camelCase(["scroll",d].join("-"));this.$element.one("bsTransitionEnd",t.proxy(c,this)).emulateTransitionEnd(o.TRANSITION_DURATION)[d](this.$element[0][h])}}}},o.prototype.hide=function(){if(!(this.transitioning||!this.$element.hasClass("in"))){var a=t.Event("hide.bs.collapse");if(this.$element.trigger(a),!a.isDefaultPrevented()){var s=this.dimension();this.$element[s](this.$element[s]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!t.support.transition)return r.call(this);this.$element[s](0).one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(o.TRANSITION_DURATION)}}},o.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},o.prototype.getParent=function(){return t(document).find(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(a,s){var r=t(s);this.addAriaAndCollapsedClass(e(r),r)},this)).end()},o.prototype.addAriaAndCollapsedClass=function(a,s){var r=a.hasClass("in");a.attr("aria-expanded",r),s.toggleClass("collapsed",!r).attr("aria-expanded",r)};var l=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=o,t.fn.collapse.noConflict=function(){return t.fn.collapse=l,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(a){var s=t(this);s.attr("data-target")||a.preventDefault();var r=e(s),d=r.data("bs.collapse"),c=d?"toggle":s.data();n.call(r,c)})}(jQuery)}),H3=uo(function(){+function(t){"use strict";var e=function(c){var h=c.attr("data-target");h||(h=c.attr("href"),h=h&&/#[A-Za-z]/.test(h)&&h.replace(/.*(?=#[^\s]*$)/,""));var f=h!=="#"?t(document).find(h):null;return f&&f.length?f:c.parent()},n=function(c){c&&c.which===3||(t(l).remove(),t(a).each(function(){var h=t(this),f=e(h),v={relatedTarget:this};f.hasClass("open")&&(c&&c.type=="click"&&/input|textarea/i.test(c.target.tagName)&&t.contains(f[0],c.target)||(f.trigger(c=t.Event("hide.bs.dropdown",v)),!c.isDefaultPrevented()&&(h.attr("aria-expanded","false"),f.removeClass("open").trigger(t.Event("hidden.bs.dropdown",v)))))}))},o=function(c){return this.each(function(){var h=t(this),f=h.data("bs.dropdown");f||h.data("bs.dropdown",f=new s(this)),typeof c=="string"&&f[c].call(h)})},l=".dropdown-backdrop",a='[data-toggle="dropdown"]',s=function(c){t(c).on("click.bs.dropdown",this.toggle)};s.VERSION="3.4.1",s.prototype.toggle=function(d){var c=t(this);if(!c.is(".disabled, :disabled")){var h=e(c),f=h.hasClass("open");if(n(),!f){"ontouchstart"in document.documentElement&&!h.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var v={relatedTarget:this};if(h.trigger(d=t.Event("show.bs.dropdown",v)),d.isDefaultPrevented())return;c.trigger("focus").attr("aria-expanded","true"),h.toggleClass("open").trigger(t.Event("shown.bs.dropdown",v))}return!1}},s.prototype.keydown=function(d){if(!(!/(38|40|27|32)/.test(d.which)||/input|textarea/i.test(d.target.tagName))){var c=t(this);if(d.preventDefault(),d.stopPropagation(),!c.is(".disabled, :disabled")){var h=e(c),f=h.hasClass("open");if(!f&&d.which!=27||f&&d.which==27)return d.which==27&&h.find(a).trigger("focus"),c.trigger("click");var v=" li:not(.disabled):visible a",b=h.find(".dropdown-menu"+v);if(b.length){var w=b.index(d.target);d.which==38&&w>0&&w--,d.which==40&&w<b.length-1&&w++,~w||(w=0),b.eq(w).trigger("focus")}}}};var r=t.fn.dropdown;t.fn.dropdown=o,t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(d){d.stopPropagation()}).on("click.bs.dropdown.data-api",a,s.prototype.toggle).on("keydown.bs.dropdown.data-api",a,s.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",s.prototype.keydown)}(jQuery)}),U3=uo(function(){+function(t){"use strict";var e=function(a,s){return this.each(function(){var r=t(this),d=r.data("bs.modal"),c=t.extend({},n.DEFAULTS,r.data(),typeof a=="object"&&a);d||r.data("bs.modal",d=new n(this,c)),typeof a=="string"?d[a](s):c.show&&d.show(s)})},n=function(a,s){this.options=s,this.$body=t(document.body),this.$element=t(a),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.fixedContent=".navbar-fixed-top, .navbar-fixed-bottom",this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.4.1",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(l){return this.isShown?this.hide():this.show(l)},n.prototype.show=function(l){var a=this,s=t.Event("show.bs.modal",{relatedTarget:l});this.$element.trigger(s),!(this.isShown||s.isDefaultPrevented())&&(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){a.$element.one("mouseup.dismiss.bs.modal",function(r){t(r.target).is(a.$element)&&(a.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=t.support.transition&&a.$element.hasClass("fade");a.$element.parent().length||a.$element.appendTo(a.$body),a.$element.show().scrollTop(0),a.adjustDialog(),r&&a.$element[0].offsetWidth,a.$element.addClass("in"),a.enforceFocus();var d=t.Event("shown.bs.modal",{relatedTarget:l});r?a.$dialog.one("bsTransitionEnd",function(){a.$element.trigger("focus").trigger(d)}).emulateTransitionEnd(n.TRANSITION_DURATION):a.$element.trigger("focus").trigger(d)}))},n.prototype.hide=function(l){l&&l.preventDefault(),l=t.Event("hide.bs.modal"),this.$element.trigger(l),!(!this.isShown||l.isDefaultPrevented())&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(l){document!==l.target&&this.$element[0]!==l.target&&!this.$element.has(l.target).length&&this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(l){l.which==27&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var l=this;this.$element.hide(),this.backdrop(function(){l.$body.removeClass("modal-open"),l.resetAdjustments(),l.resetScrollbar(),l.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(l){var a=this,s=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&s;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+s).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(c){if(this.ignoreBackdropClick){this.ignoreBackdropClick=!1;return}c.target===c.currentTarget&&(this.options.backdrop=="static"?this.$element[0].focus():this.hide())},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!l)return;r?this.$backdrop.one("bsTransitionEnd",l).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):l()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var d=function(){a.removeBackdrop(),l&&l()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",d).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):d()}else l&&l()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var l=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&l?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!l?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var l=window.innerWidth;if(!l){var a=document.documentElement.getBoundingClientRect();l=a.right-Math.abs(a.left)}this.bodyIsOverflowing=document.body.clientWidth<l,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var l=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";var a=this.scrollbarWidth;this.bodyIsOverflowing&&(this.$body.css("padding-right",l+a),t(this.fixedContent).each(function(s,r){var d=r.style.paddingRight,c=t(r).css("padding-right");t(r).data("padding-right",d).css("padding-right",parseFloat(c)+a+"px")}))},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad),t(this.fixedContent).each(function(l,a){var s=t(a).data("padding-right");t(a).removeData("padding-right"),a.style.paddingRight=s||""})},n.prototype.measureScrollbar=function(){var l=document.createElement("div");l.className="modal-scrollbar-measure",this.$body.append(l);var a=l.offsetWidth-l.clientWidth;return this.$body[0].removeChild(l),a};var o=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=o,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(l){var a=t(this),s=a.attr("href"),r=a.attr("data-target")||s&&s.replace(/.*(?=#[^\s]+$)/,""),d=t(document).find(r),c=d.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(s)&&s},d.data(),a.data());a.is("a")&&l.preventDefault(),d.one("show.bs.modal",function(h){h.isDefaultPrevented()||d.one("hidden.bs.modal",function(){a.is(":visible")&&a.trigger("focus")})}),e.call(d,c,this)})}(jQuery)}),V3=uo(function(){+function(t){"use strict";var e=function(b,w){var k=b.nodeName.toLowerCase();if(t.inArray(k,w)!==-1)return t.inArray(k,a)!==-1?!!(b.nodeValue.match(d)||b.nodeValue.match(c)):!0;for(var C=t(w).filter(function(j,y){return _instanceof(y,RegExp)}),E=0,A=C.length;E<A;E++)if(k.match(C[E]))return!0;return!1},n=function(b,w,k){if(b.length===0)return b;if(k&&typeof k=="function")return k(b);if(!document.implementation||!document.implementation.createHTMLDocument)return b;var C=document.implementation.createHTMLDocument("sanitization");C.body.innerHTML=b;for(var E=t.map(w,function(I,P){return P}),A=t(C.body).find("*"),j=0,y=A.length;j<y;j++){var u=A[j],p=u.nodeName.toLowerCase();if(t.inArray(p,E)===-1){u.parentNode.removeChild(u);continue}for(var m=t.map(u.attributes,function(I){return I}),_=[].concat(w["*"]||[],w[p]||[]),x=0,O=m.length;x<O;x++)e(m[x],_)||u.removeAttribute(m[x].nodeName)}return C.body.innerHTML},o=function(b){return this.each(function(){var w=t(this),k=w.data("bs.tooltip"),C=typeof b=="object"&&b;!k&&/destroy|hide/.test(b)||(k||w.data("bs.tooltip",k=new h(this,C)),typeof b=="string"&&k[b]())})},l=["sanitize","whiteList","sanitizeFn"],a=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],s=/^aria-[\w-]*$/i,r={"*":["class","dir","id","lang","role",s],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},d=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,c=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i,h=function(b,w){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",b,w)};h.VERSION="3.4.1",h.TRANSITION_DURATION=150,h.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0},sanitize:!0,sanitizeFn:null,whiteList:r},h.prototype.init=function(v,b,w){if(this.enabled=!0,this.type=v,this.$element=t(b),this.options=this.getOptions(w),this.$viewport=this.options.viewport&&t(document).find(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},_instanceof(this.$element[0],document.constructor)&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var k=this.options.trigger.split(" "),C=k.length;C--;){var E=k[C];if(E=="click")this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if(E!="manual"){var A=E=="hover"?"mouseenter":"focusin",j=E=="hover"?"mouseleave":"focusout";this.$element.on(A+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(j+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},h.prototype.getDefaults=function(){return h.DEFAULTS},h.prototype.getOptions=function(v){var b=this.$element.data();for(var w in b)b.hasOwnProperty(w)&&t.inArray(w,l)!==-1&&delete b[w];return v=t.extend({},this.getDefaults(),b,v),v.delay&&typeof v.delay=="number"&&(v.delay={show:v.delay,hide:v.delay}),v.sanitize&&(v.template=n(v.template,v.whiteList,v.sanitizeFn)),v},h.prototype.getDelegateOptions=function(){var v={},b=this.getDefaults();return this._options&&t.each(this._options,function(w,k){b[w]!=k&&(v[w]=k)}),v},h.prototype.enter=function(v){var b=_instanceof(v,this.constructor)?v:t(v.currentTarget).data("bs."+this.type);if(b||(b=new this.constructor(v.currentTarget,this.getDelegateOptions()),t(v.currentTarget).data("bs."+this.type,b)),_instanceof(v,t.Event)&&(b.inState[v.type=="focusin"?"focus":"hover"]=!0),b.tip().hasClass("in")||b.hoverState=="in"){b.hoverState="in";return}if(clearTimeout(b.timeout),b.hoverState="in",!b.options.delay||!b.options.delay.show)return b.show();b.timeout=setTimeout(function(){b.hoverState=="in"&&b.show()},b.options.delay.show)},h.prototype.isInStateTrue=function(){for(var v in this.inState)if(this.inState[v])return!0;return!1},h.prototype.leave=function(v){var b=_instanceof(v,this.constructor)?v:t(v.currentTarget).data("bs."+this.type);if(b||(b=new this.constructor(v.currentTarget,this.getDelegateOptions()),t(v.currentTarget).data("bs."+this.type,b)),_instanceof(v,t.Event)&&(b.inState[v.type=="focusout"?"focus":"hover"]=!1),!b.isInStateTrue()){if(clearTimeout(b.timeout),b.hoverState="out",!b.options.delay||!b.options.delay.hide)return b.hide();b.timeout=setTimeout(function(){b.hoverState=="out"&&b.hide()},b.options.delay.hide)}},h.prototype.show=function(){var v=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(v);var b=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(v.isDefaultPrevented()||!b)return;var w=this,k=this.tip(),C=this.getUID(this.type);this.setContent(),k.attr("id",C),this.$element.attr("aria-describedby",C),this.options.animation&&k.addClass("fade");var E=typeof this.options.placement=="function"?this.options.placement.call(this,k[0],this.$element[0]):this.options.placement,A=/\s?auto?\s?/i,j=A.test(E);j&&(E=E.replace(A,"")||"top"),k.detach().css({top:0,left:0,display:"block"}).addClass(E).data("bs."+this.type,this),this.options.container?k.appendTo(t(document).find(this.options.container)):k.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var y=this.getPosition(),u=k[0].offsetWidth,p=k[0].offsetHeight;if(j){var m=E,_=this.getPosition(this.$viewport);E=E=="bottom"&&y.bottom+p>_.bottom?"top":E=="top"&&y.top-p<_.top?"bottom":E=="right"&&y.right+u>_.width?"left":E=="left"&&y.left-u<_.left?"right":E,k.removeClass(m).addClass(E)}var x=this.getCalculatedOffset(E,y,u,p);this.applyPlacement(x,E);var O=function(){var P=w.hoverState;w.$element.trigger("shown.bs."+w.type),w.hoverState=null,P=="out"&&w.leave(w)};t.support.transition&&this.$tip.hasClass("fade")?k.one("bsTransitionEnd",O).emulateTransitionEnd(h.TRANSITION_DURATION):O()}},h.prototype.applyPlacement=function(v,b){var w=this.tip(),k=w[0].offsetWidth,C=w[0].offsetHeight,E=parseInt(w.css("margin-top"),10),A=parseInt(w.css("margin-left"),10);isNaN(E)&&(E=0),isNaN(A)&&(A=0),v.top+=E,v.left+=A,t.offset.setOffset(w[0],t.extend({using:function(O){w.css({top:Math.round(O.top),left:Math.round(O.left)})}},v),0),w.addClass("in");var j=w[0].offsetWidth,y=w[0].offsetHeight;b=="top"&&y!=C&&(v.top=v.top+C-y);var u=this.getViewportAdjustedDelta(b,v,j,y);u.left?v.left+=u.left:v.top+=u.top;var p=/top|bottom/.test(b),m=p?u.left*2-k+j:u.top*2-C+y,_=p?"offsetWidth":"offsetHeight";w.offset(v),this.replaceArrow(m,w[0][_],p)},h.prototype.replaceArrow=function(v,b,w){this.arrow().css(w?"left":"top",50*(1-v/b)+"%").css(w?"top":"left","")},h.prototype.setContent=function(){var v=this.tip(),b=this.getTitle();this.options.html?(this.options.sanitize&&(b=n(b,this.options.whiteList,this.options.sanitizeFn)),v.find(".tooltip-inner").html(b)):v.find(".tooltip-inner").text(b),v.removeClass("fade in top bottom left right")},h.prototype.hide=function(v){var b=function(){w.hoverState!="in"&&k.detach(),w.$element&&w.$element.removeAttr("aria-describedby").trigger("hidden.bs."+w.type),v&&v()},w=this,k=t(this.$tip),C=t.Event("hide.bs."+this.type);if(this.$element.trigger(C),!C.isDefaultPrevented())return k.removeClass("in"),t.support.transition&&k.hasClass("fade")?k.one("bsTransitionEnd",b).emulateTransitionEnd(h.TRANSITION_DURATION):b(),this.hoverState=null,this},h.prototype.fixTitle=function(){var v=this.$element;(v.attr("title")||typeof v.attr("data-original-title")!="string")&&v.attr("data-original-title",v.attr("title")||"").attr("title","")},h.prototype.hasContent=function(){return this.getTitle()},h.prototype.getPosition=function(v){v=v||this.$element;var b=v[0],w=b.tagName=="BODY",k=b.getBoundingClientRect();k.width==null&&(k=t.extend({},k,{width:k.right-k.left,height:k.bottom-k.top}));var C=window.SVGElement&&_instanceof(b,window.SVGElement),E=w?{top:0,left:0}:C?null:v.offset(),A={scroll:w?document.documentElement.scrollTop||document.body.scrollTop:v.scrollTop()},j=w?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},k,A,j,E)},h.prototype.getCalculatedOffset=function(v,b,w,k){return v=="bottom"?{top:b.top+b.height,left:b.left+b.width/2-w/2}:v=="top"?{top:b.top-k,left:b.left+b.width/2-w/2}:v=="left"?{top:b.top+b.height/2-k/2,left:b.left-w}:{top:b.top+b.height/2-k/2,left:b.left+b.width}},h.prototype.getViewportAdjustedDelta=function(v,b,w,k){var C={top:0,left:0};if(!this.$viewport)return C;var E=this.options.viewport&&this.options.viewport.padding||0,A=this.getPosition(this.$viewport);if(/right|left/.test(v)){var j=b.top-E-A.scroll,y=b.top+E-A.scroll+k;j<A.top?C.top=A.top-j:y>A.top+A.height&&(C.top=A.top+A.height-y)}else{var u=b.left-E,p=b.left+E+w;u<A.left?C.left=A.left-u:p>A.right&&(C.left=A.left+A.width-p)}return C},h.prototype.getTitle=function(){var v,b=this.$element,w=this.options;return v=b.attr("data-original-title")||(typeof w.title=="function"?w.title.call(b[0]):w.title),v},h.prototype.getUID=function(v){do v+=~~(Math.random()*1e6);while(document.getElementById(v));return v},h.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),this.$tip.length!=1))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},h.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},h.prototype.enable=function(){this.enabled=!0},h.prototype.disable=function(){this.enabled=!1},h.prototype.toggleEnabled=function(){this.enabled=!this.enabled},h.prototype.toggle=function(v){var b=this;v&&(b=t(v.currentTarget).data("bs."+this.type),b||(b=new this.constructor(v.currentTarget,this.getDelegateOptions()),t(v.currentTarget).data("bs."+this.type,b))),v?(b.inState.click=!b.inState.click,b.isInStateTrue()?b.enter(b):b.leave(b)):b.tip().hasClass("in")?b.leave(b):b.enter(b)},h.prototype.destroy=function(){var v=this;clearTimeout(this.timeout),this.hide(function(){v.$element.off("."+v.type).removeData("bs."+v.type),v.$tip&&v.$tip.detach(),v.$tip=null,v.$arrow=null,v.$viewport=null,v.$element=null})},h.prototype.sanitizeHtml=function(v){return n(v,this.options.whiteList,this.options.sanitizeFn)};var f=t.fn.tooltip;t.fn.tooltip=o,t.fn.tooltip.Constructor=h,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=f,this}}(jQuery)}),W3=uo(function(){+function(t){"use strict";var e=function(a){return this.each(function(){var s=t(this),r=s.data("bs.popover"),d=typeof a=="object"&&a;!r&&/destroy|hide/.test(a)||(r||s.data("bs.popover",r=new n(this,d)),typeof a=="string"&&r[a]())})},n=function(a,s){this.init("popover",a,s)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.4.1",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var l=this.tip(),a=this.getTitle(),s=this.getContent();if(this.options.html){var r=typeof s=="undefined"?"undefined":_typeof(s);this.options.sanitize&&(a=this.sanitizeHtml(a),r==="string"&&(s=this.sanitizeHtml(s))),l.find(".popover-title").html(a),l.find(".popover-content").children().detach().end()[r==="string"?"html":"append"](s)}else l.find(".popover-title").text(a),l.find(".popover-content").children().detach().end().text(s);l.removeClass("fade top bottom left right in"),l.find(".popover-title").html()||l.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var l=this.$element,a=this.options;return l.attr("data-content")||(typeof a.content=="function"?a.content.call(l[0]):a.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var o=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=o,this}}(jQuery)}),q3=uo(function(){+function(t){"use strict";var e=function(a){return this.each(function(){var s=t(this),r=s.data("bs.scrollspy"),d=typeof a=="object"&&a;r||s.data("bs.scrollspy",r=new n(this,d)),typeof a=="string"&&r[a]()})};function n(l,a){this.$body=t(document.body),this.$scrollElement=t(l).is(document.body)?t(window):t(l),this.options=t.extend({},n.DEFAULTS,a),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}n.VERSION="3.4.1",n.DEFAULTS={offset:10},n.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},n.prototype.refresh=function(){var l=this,a="offset",s=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(a="position",s=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var r=t(this),d=r.data("target")||r.attr("href"),c=/^#./.test(d)&&t(d);return c&&c.length&&c.is(":visible")&&[[c[a]().top+s,d]]||null}).sort(function(r,d){return r[0]-d[0]}).each(function(){l.offsets.push(this[0]),l.targets.push(this[1])})},n.prototype.process=function(){var l=this.$scrollElement.scrollTop()+this.options.offset,a=this.getScrollHeight(),s=this.options.offset+a-this.$scrollElement.height(),r=this.offsets,d=this.targets,c=this.activeTarget,h;if(this.scrollHeight!=a&&this.refresh(),l>=s)return c!=(h=d[d.length-1])&&this.activate(h);if(c&&l<r[0])return this.activeTarget=null,this.clear();for(h=r.length;h--;)c!=d[h]&&l>=r[h]&&(r[h+1]===void 0||l<r[h+1])&&this.activate(d[h])},n.prototype.activate=function(l){this.activeTarget=l,this.clear();var a=this.selector+'[data-target="'+l+'"],'+this.selector+'[href="'+l+'"]',s=t(a).parents("li").addClass("active");s.parent(".dropdown-menu").length&&(s=s.closest("li.dropdown").addClass("active")),s.trigger("activate.bs.scrollspy")},n.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var o=t.fn.scrollspy;t.fn.scrollspy=e,t.fn.scrollspy.Constructor=n,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=o,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var l=t(this);e.call(l,l.data())})})}(jQuery)}),G3=uo(function(){+function(t){"use strict";var e=function(s){return this.each(function(){var r=t(this),d=r.data("bs.tab");d||r.data("bs.tab",d=new n(this)),typeof s=="string"&&d[s]()})},n=function(s){this.element=t(s)};n.VERSION="3.4.1",n.TRANSITION_DURATION=150,n.prototype.show=function(){var a=this.element,s=a.closest("ul:not(.dropdown-menu)"),r=a.data("target");if(r||(r=a.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!a.parent("li").hasClass("active")){var d=s.find(".active:last a"),c=t.Event("hide.bs.tab",{relatedTarget:a[0]}),h=t.Event("show.bs.tab",{relatedTarget:d[0]});if(d.trigger(c),a.trigger(h),!(h.isDefaultPrevented()||c.isDefaultPrevented())){var f=t(document).find(r);this.activate(a.closest("li"),s),this.activate(f,f.parent(),function(){d.trigger({type:"hidden.bs.tab",relatedTarget:a[0]}),a.trigger({type:"shown.bs.tab",relatedTarget:d[0]})})}}},n.prototype.activate=function(a,s,r){var d=function(){c.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),a.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(a[0].offsetWidth,a.addClass("in")):a.removeClass("fade"),a.parent(".dropdown-menu").length&&a.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()},c=s.find("> .active"),h=r&&t.support.transition&&(c.length&&c.hasClass("fade")||!!s.find("> .fade").length);c.length&&h?c.one("bsTransitionEnd",d).emulateTransitionEnd(n.TRANSITION_DURATION):d(),c.removeClass("in")};var o=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=o,this};var l=function(s){s.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',l).on("click.bs.tab.data-api",'[data-toggle="pill"]',l)}(jQuery)}),Y3=uo(function(){+function(t){"use strict";var e=function(a){return this.each(function(){var s=t(this),r=s.data("bs.affix"),d=typeof a=="object"&&a;r||s.data("bs.affix",r=new n(this,d)),typeof a=="string"&&r[a]()})},n=function(l,a){this.options=t.extend({},n.DEFAULTS,a);var s=this.options.target===n.DEFAULTS.target?t(this.options.target):t(document).find(this.options.target);this.$target=s.on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(l),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.4.1",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(l,a,s,r){var d=this.$target.scrollTop(),c=this.$element.offset(),h=this.$target.height();if(s!=null&&this.affixed=="top")return d<s?"top":!1;if(this.affixed=="bottom")return s!=null?d+this.unpin<=c.top?!1:"bottom":d+h<=l-r?!1:"bottom";var f=this.affixed==null,v=f?d:c.top,b=f?h:a;return s!=null&&d<=s?"top":r!=null&&v+b>=l-r?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var l=this.$target.scrollTop(),a=this.$element.offset();return this.pinnedOffset=a.top-l},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var l=this.$element.height(),a=this.options.offset,s=a.top,r=a.bottom,d=Math.max(t(document).height(),t(document.body).height());typeof a!="object"&&(r=s=a),typeof s=="function"&&(s=a.top(this.$element)),typeof r=="function"&&(r=a.bottom(this.$element));var c=this.getState(d,l,s,r);if(this.affixed!=c){this.unpin!=null&&this.$element.css("top","");var h="affix"+(c?"-"+c:""),f=t.Event(h+".bs.affix");if(this.$element.trigger(f),f.isDefaultPrevented())return;this.affixed=c,this.unpin=c=="bottom"?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(h).trigger(h.replace("affix","affixed")+".bs.affix")}c=="bottom"&&this.$element.offset({top:d-l-r})}};var o=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=o,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var l=t(this),a=l.data();a.offset=a.offset||{},a.offsetBottom!=null&&(a.offset.bottom=a.offsetBottom),a.offsetTop!=null&&(a.offset.top=a.offsetTop),e.call(l,a)})})}(jQuery)}),zv=uo(function(){$3(),N3(),B3(),z3(),F3(),H3(),U3(),V3(),W3(),q3(),G3(),Y3()}),Fv={},R3(Fv,{default:function(){return Uv}}),X3=Bv(zv()),D3(Fv,Bv(zv()));var g;tr=X3,g=tr,Hv=g.default,K3=Bi(tr,["default"]),Uv=Hv!==void 0?Hv:K3}}),Vv={};wi(Vv,{default:function(){return Uv}});var J3=Ht({"https-url:https://esm.archive.org/bootstrap@^3.0.0":function(){Q3(),Q3()}}),Z3,Qd,e6,t6,n6,r6,i6,o6,Jd,a6,Wv,qv,Gv,s6,tr,Yv,l6,Xv,u6=Ht({"https-url:https://esm.archive.org/v135/flot@0.8.3/esnext/flot.mjs":function(){Z3=Object.create,Qd=Object.defineProperty,e6=Object.getOwnPropertyDescriptor,t6=Object.getOwnPropertyNames,n6=Object.getPrototypeOf,r6=Object.prototype.hasOwnProperty,i6=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},o6=function(t,e){for(var n in e)Qd(t,n,{get:e[n],enumerable:!0})},Jd=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!r6.call(t,v)&&v!==n&&Qd(t,v,{get:function(){return e[v]},enumerable:!(o=e6(e,v))||o.enumerable})},d=t6(e)[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0)r(d,c)}catch(h){a=!0,s=h}finally{try{!l&&d.return!=null&&d.return()}finally{if(a)throw s}}return t},a6=function(t,e,n){return Jd(t,e,"default"),n&&Jd(n,e,"default")},Wv=function(t,e,n){return n=t!=null?Z3(n6(t)):{},Jd(e||!t||!t.__esModule?Qd(n,"default",{value:t,enumerable:!0}):n,t)},qv=i6(function(){(function(t){t.color={},t.color.make=function(n,o,l,a){var s={};return s.r=n||0,s.g=o||0,s.b=l||0,s.a=a!=null?a:1,s.add=function(r,d){for(var c=0;c<r.length;++c)s[r.charAt(c)]+=d;return s.normalize()},s.scale=function(r,d){for(var c=0;c<r.length;++c)s[r.charAt(c)]*=d;return s.normalize()},s.toString=function(){return s.a>=1?"rgb("+[s.r,s.g,s.b].join(",")+")":"rgba("+[s.r,s.g,s.b,s.a].join(",")+")"},s.normalize=function(){var r=function(c,h,f){return h<c?c:h>f?f:h};return s.r=r(0,parseInt(s.r),255),s.g=r(0,parseInt(s.g),255),s.b=r(0,parseInt(s.b),255),s.a=r(0,s.a,1),s},s.clone=function(){return t.color.make(s.r,s.b,s.g,s.a)},s.normalize()},t.color.extract=function(n,o){var l;do{if(l=n.css(o).toLowerCase(),l!=""&&l!="transparent")break;n=n.parent()}while(n.length&&!t.nodeName(n.get(0),"body"));return l=="rgba(0, 0, 0, 0)"&&(l="transparent"),t.color.parse(l)},t.color.parse=function(n){var o,l=t.color.make;if(o=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(n))return l(parseInt(o[1],10),parseInt(o[2],10),parseInt(o[3],10));if(o=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return l(parseInt(o[1],10),parseInt(o[2],10),parseInt(o[3],10),parseFloat(o[4]));if(o=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(n))return l(parseFloat(o[1])*2.55,parseFloat(o[2])*2.55,parseFloat(o[3])*2.55);if(o=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return l(parseFloat(o[1])*2.55,parseFloat(o[2])*2.55,parseFloat(o[3])*2.55,parseFloat(o[4]));if(o=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(n))return l(parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16));if(o=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(n))return l(parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16));var a=t.trim(n).toLowerCase();return a=="transparent"?l(255,255,255,0):(o=e[a]||[0,0,0],l(o[0],o[1],o[2]))};var e={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery),function(t){var e=function(s,r){var d=r.children("."+s)[0];if(d==null&&(d=document.createElement("canvas"),d.className=s,t(d).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(r),!d.getContext))if(window.G_vmlCanvasManager)d=window.G_vmlCanvasManager.initElement(d);else throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");this.element=d;var c=this.context=d.getContext("2d"),h=window.devicePixelRatio||1,f=c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||1;this.pixelRatio=h/f,this.resize(r.width(),r.height()),this.textContainer=null,this.text={},this._textCache={}},n=function(s,r,d,c){var h=[],f={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:16.666666666666668},hooks:{}},v=null,b=null,w=null,k=null,C=null,E=[],A=[],j={left:0,right:0,top:0,bottom:0},y=0,u=0,p={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},m=this;m.setData=I,m.setupGrid=it,m.draw=De,m.getPlaceholder=function(){return s},m.getCanvas=function(){return v.element},m.getPlotOffset=function(){return j},m.width=function(){return y},m.height=function(){return u},m.offset=function(){var N=w.offset();return N.left+=j.left,N.top+=j.top,N},m.getData=function(){return h},m.getAxes=function(){var N={},Ze;return t.each(E.concat(A),function(ge,ie){ie&&(N[ie.direction+(ie.n!=1?ie.n:"")+"axis"]=ie)}),N},m.getXAxes=function(){return E},m.getYAxes=function(){return A},m.c2p=q,m.p2c=z,m.getOptions=function(){return f},m.highlight=Lt,m.unhighlight=st,m.triggerRedrawOverlay=At,m.pointOffset=function(N){return{left:parseInt(E[D(N,"x")-1].p2c(+N.x)+j.left,10),top:parseInt(A[D(N,"y")-1].p2c(+N.y)+j.top,10)}},m.shutdown=J,m.destroy=function(){J(),s.removeData("plot").empty(),h=[],f=null,v=null,b=null,w=null,k=null,C=null,E=[],A=[],p=null,Ye=[],m=null},m.resize=function(){var N=s.width(),Ze=s.height();v.resize(N,Ze),b.resize(N,Ze)},m.hooks=p,x(m),O(d),F(),I(r),it(),De(),ce();function _(N,Ze){Ze=[m].concat(Ze);for(var ge=0;ge<N.length;++ge)N[ge].apply(this,Ze)}function x(){for(var N={Canvas:e},Ze=0;Ze<c.length;++Ze){var ge=c[Ze];ge.init(m,N),ge.options&&t.extend(!0,f,ge.options)}}function O(N){t.extend(!0,f,N),N&&N.colors&&(f.colors=N.colors),f.xaxis.color==null&&(f.xaxis.color=t.color.parse(f.grid.color).scale("a",.22).toString()),f.yaxis.color==null&&(f.yaxis.color=t.color.parse(f.grid.color).scale("a",.22).toString()),f.xaxis.tickColor==null&&(f.xaxis.tickColor=f.grid.tickColor||f.xaxis.color),f.yaxis.tickColor==null&&(f.yaxis.tickColor=f.grid.tickColor||f.yaxis.color),f.grid.borderColor==null&&(f.grid.borderColor=f.grid.color),f.grid.tickColor==null&&(f.grid.tickColor=t.color.parse(f.grid.color).scale("a",.22).toString());var Ze,ge,ie,G=s.css("font-size"),H=G?+G.replace("px",""):13,Z={style:s.css("font-style"),size:Math.round(.8*H),variant:s.css("font-variant"),weight:s.css("font-weight"),family:s.css("font-family")};for(ie=f.xaxes.length||1,Ze=0;Ze<ie;++Ze)ge=f.xaxes[Ze],ge&&!ge.tickColor&&(ge.tickColor=ge.color),ge=t.extend(!0,{},f.xaxis,ge),f.xaxes[Ze]=ge,ge.font&&(ge.font=t.extend({},Z,ge.font),ge.font.color||(ge.font.color=ge.color),ge.font.lineHeight||(ge.font.lineHeight=Math.round(ge.font.size*1.15)));for(ie=f.yaxes.length||1,Ze=0;Ze<ie;++Ze)ge=f.yaxes[Ze],ge&&!ge.tickColor&&(ge.tickColor=ge.color),ge=t.extend(!0,{},f.yaxis,ge),f.yaxes[Ze]=ge,ge.font&&(ge.font=t.extend({},Z,ge.font),ge.font.color||(ge.font.color=ge.color),ge.font.lineHeight||(ge.font.lineHeight=Math.round(ge.font.size*1.15)));for(f.xaxis.noTicks&&f.xaxis.ticks==null&&(f.xaxis.ticks=f.xaxis.noTicks),f.yaxis.noTicks&&f.yaxis.ticks==null&&(f.yaxis.ticks=f.yaxis.noTicks),f.x2axis&&(f.xaxes[1]=t.extend(!0,{},f.xaxis,f.x2axis),f.xaxes[1].position="top",f.x2axis.min==null&&(f.xaxes[1].min=null),f.x2axis.max==null&&(f.xaxes[1].max=null)),f.y2axis&&(f.yaxes[1]=t.extend(!0,{},f.yaxis,f.y2axis),f.yaxes[1].position="right",f.y2axis.min==null&&(f.yaxes[1].min=null),f.y2axis.max==null&&(f.yaxes[1].max=null)),f.grid.coloredAreas&&(f.grid.markings=f.grid.coloredAreas),f.grid.coloredAreasColor&&(f.grid.markingsColor=f.grid.coloredAreasColor),f.lines&&t.extend(!0,f.series.lines,f.lines),f.points&&t.extend(!0,f.series.points,f.points),f.bars&&t.extend(!0,f.series.bars,f.bars),f.shadowSize!=null&&(f.series.shadowSize=f.shadowSize),f.highlightColor!=null&&(f.series.highlightColor=f.highlightColor),Ze=0;Ze<f.xaxes.length;++Ze)he(E,Ze+1).options=f.xaxes[Ze];for(Ze=0;Ze<f.yaxes.length;++Ze)he(A,Ze+1).options=f.yaxes[Ze];for(var oe in p)f.hooks[oe]&&f.hooks[oe].length&&(p[oe]=p[oe].concat(f.hooks[oe]));_(p.processOptions,[f])}function I(N){h=P(N),Y(),B()}function P(N){for(var Ze=[],ge=0;ge<N.length;++ge){var ie=t.extend(!0,{},f.series);N[ge].data!=null?(ie.data=N[ge].data,delete N[ge].data,t.extend(!0,ie,N[ge]),N[ge].data=ie.data):ie.data=N[ge],Ze.push(ie)}return Ze}function D(N,Ze){var ge=N[Ze+"axis"];return typeof ge=="object"&&(ge=ge.n),typeof ge!="number"&&(ge=1),ge}function V(){return t.grep(E.concat(A),function(N){return N})}function q(N){var Ze={},ge,ie;for(ge=0;ge<E.length;++ge)ie=E[ge],ie&&ie.used&&(Ze["x"+ie.n]=ie.c2p(N.left));for(ge=0;ge<A.length;++ge)ie=A[ge],ie&&ie.used&&(Ze["y"+ie.n]=ie.c2p(N.top));return Ze.x1!==void 0&&(Ze.x=Ze.x1),Ze.y1!==void 0&&(Ze.y=Ze.y1),Ze}function z(N){var Ze={},ge,ie,G;for(ge=0;ge<E.length;++ge)if(ie=E[ge],ie&&ie.used&&(G="x"+ie.n,N[G]==null&&ie.n==1&&(G="x"),N[G]!=null)){Ze.left=ie.p2c(N[G]);break}for(ge=0;ge<A.length;++ge)if(ie=A[ge],ie&&ie.used&&(G="y"+ie.n,N[G]==null&&ie.n==1&&(G="y"),N[G]!=null)){Ze.top=ie.p2c(N[G]);break}return Ze}function he(N,Ze){return N[Ze-1]||(N[Ze-1]={n:Ze,direction:N==E?"x":"y",options:t.extend(!0,{},N==E?f.xaxis:f.yaxis)}),N[Ze-1]}function Y(){var N=h.length,Ze=-1,ge;for(ge=0;ge<h.length;++ge){var ie=h[ge].color;ie!=null&&(N--,typeof ie=="number"&&ie>Ze&&(Ze=ie))}N<=Ze&&(N=Ze+1);var G,H=[],Z=f.colors,oe=Z.length,me=0;for(ge=0;ge<N;ge++)G=t.color.parse(Z[ge%oe]||"#666"),ge%oe==0&&ge&&(me>=0?me<.5?me=-me-.2:me=0:me=-me),H[ge]=G.scale("rgb",1+me);var Oe=0,Pe;for(ge=0;ge<h.length;++ge){if(Pe=h[ge],Pe.color==null?(Pe.color=H[Oe].toString(),++Oe):typeof Pe.color=="number"&&(Pe.color=H[Pe.color].toString()),Pe.lines.show==null){var Xe,Me=!0;for(Xe in Pe)if(Pe[Xe]&&Pe[Xe].show){Me=!1;break}Me&&(Pe.lines.show=!0)}Pe.lines.zero==null&&(Pe.lines.zero=!!Pe.lines.fill),Pe.xaxis=he(E,D(Pe,"x")),Pe.yaxis=he(A,D(Pe,"y"))}}function B(){var N=Number.POSITIVE_INFINITY,Ze=Number.NEGATIVE_INFINITY,ge=Number.MAX_VALUE,ie,G,H,Z,oe,me,Oe,Pe,Xe,Me,Qe,ht,Vt,$t,zt,qt;function Bt(Fn,Qn,en){Qn<Fn.datamin&&Qn!=-ge&&(Fn.datamin=Qn),en>Fn.datamax&&en!=ge&&(Fn.datamax=en)}for(t.each(V(),function(Fn,Qn){Qn.datamin=N,Qn.datamax=Ze,Qn.used=!1}),ie=0;ie<h.length;++ie)me=h[ie],me.datapoints={points:[]},_(p.processRawData,[me,me.data,me.datapoints]);for(ie=0;ie<h.length;++ie){if(me=h[ie],zt=me.data,qt=me.datapoints.format,!qt){if(qt=[],qt.push({x:!0,number:!0,required:!0}),qt.push({y:!0,number:!0,required:!0}),me.bars.show||me.lines.show&&me.lines.fill){var an=!!(me.bars.show&&me.bars.zero||me.lines.show&&me.lines.zero);qt.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:an}),me.bars.horizontal&&(delete qt[qt.length-1].y,qt[qt.length-1].x=!0)}me.datapoints.format=qt}if(me.datapoints.pointsize==null){me.datapoints.pointsize=qt.length,Pe=me.datapoints.pointsize,Oe=me.datapoints.points;var cn=me.lines.show&&me.lines.steps;for(me.xaxis.used=me.yaxis.used=!0,G=H=0;G<zt.length;++G,H+=Pe){$t=zt[G];var It=$t==null;if(!It)for(Z=0;Z<Pe;++Z)ht=$t[Z],Vt=qt[Z],Vt&&(Vt.number&&ht!=null&&(ht=+ht,isNaN(ht)?ht=null:ht==1/0?ht=ge:ht==-1/0&&(ht=-ge)),ht==null&&(Vt.required&&(It=!0),Vt.defaultValue!=null&&(ht=Vt.defaultValue))),Oe[H+Z]=ht;if(It)for(Z=0;Z<Pe;++Z)ht=Oe[H+Z],ht!=null&&(Vt=qt[Z],Vt.autoscale!==!1&&(Vt.x&&Bt(me.xaxis,ht,ht),Vt.y&&Bt(me.yaxis,ht,ht))),Oe[H+Z]=null;else if(cn&&H>0&&Oe[H-Pe]!=null&&Oe[H-Pe]!=Oe[H]&&Oe[H-Pe+1]!=Oe[H+1]){for(Z=0;Z<Pe;++Z)Oe[H+Pe+Z]=Oe[H+Z];Oe[H+1]=Oe[H-Pe+1],H+=Pe}}}}for(ie=0;ie<h.length;++ie)me=h[ie],_(p.processDatapoints,[me,me.datapoints]);for(ie=0;ie<h.length;++ie){me=h[ie],Oe=me.datapoints.points,Pe=me.datapoints.pointsize,qt=me.datapoints.format;var nn=N,Kt=N,Pn=Ze,Xt=Ze;for(G=0;G<Oe.length;G+=Pe)if(Oe[G]!=null)for(Z=0;Z<Pe;++Z)ht=Oe[G+Z],Vt=qt[Z],!(!Vt||Vt.autoscale===!1||ht==ge||ht==-ge)&&(Vt.x&&(ht<nn&&(nn=ht),ht>Pn&&(Pn=ht)),Vt.y&&(ht<Kt&&(Kt=ht),ht>Xt&&(Xt=ht)));if(me.bars.show){var ar;switch(me.bars.align){case"left":ar=0;break;case"right":ar=-me.bars.barWidth;break;default:ar=-me.bars.barWidth/2}me.bars.horizontal?(Kt+=ar,Xt+=ar+me.bars.barWidth):(nn+=ar,Pn+=ar+me.bars.barWidth)}Bt(me.xaxis,nn,Pn),Bt(me.yaxis,Kt,Xt)}t.each(V(),function(Fn,Qn){Qn.datamin==N&&(Qn.datamin=null),Qn.datamax==Ze&&(Qn.datamax=null)})}function F(){s.css("padding",0).children().filter(function(){return!t(this).hasClass("flot-overlay")&&!t(this).hasClass("flot-base")}).remove(),s.css("position")=="static"&&s.css("position","relative"),v=new e("flot-base",s),b=new e("flot-overlay",s),k=v.context,C=b.context,w=t(b.element).unbind();var N=s.data("plot");N&&(N.shutdown(),b.clear()),s.data("plot",m)}function ce(){f.grid.hoverable&&(w.mousemove(gt),w.bind("mouseleave",nt)),f.grid.clickable&&w.click(rt),_(p.bindEvents,[w])}function J(){We&&clearTimeout(We),w.unbind("mousemove",gt),w.unbind("mouseleave",nt),w.unbind("click",rt),_(p.shutdown,[w])}function ae(N){function Ze(Z){return Z}var ge,ie,G=N.options.transform||Ze,H=N.options.inverseTransform;N.direction=="x"?(ge=N.scale=y/Math.abs(G(N.max)-G(N.min)),ie=Math.min(G(N.max),G(N.min))):(ge=N.scale=u/Math.abs(G(N.max)-G(N.min)),ge=-ge,ie=Math.max(G(N.max),G(N.min))),G==Ze?N.p2c=function(Z){return(Z-ie)*ge}:N.p2c=function(Z){return(G(Z)-ie)*ge},H?N.c2p=function(Z){return H(ie+Z/ge)}:N.c2p=function(Z){return ie+Z/ge}}function se(N){for(var Ze=N.options,ge=N.ticks||[],ie=Ze.labelWidth||0,G=Ze.labelHeight||0,H=ie||(N.direction=="x"?Math.floor(v.width/(ge.length||1)):null),Z=N.direction+"Axis "+N.direction+N.n+"Axis",oe="flot-"+N.direction+"-axis flot-"+N.direction+N.n+"-axis "+Z,me=Ze.font||"flot-tick-label tickLabel",Oe=0;Oe<ge.length;++Oe){var Pe=ge[Oe];if(Pe.label){var Xe=v.getTextInfo(oe,Pe.label,me,null,H);ie=Math.max(ie,Xe.width),G=Math.max(G,Xe.height)}}N.labelWidth=Ze.labelWidth||ie,N.labelHeight=Ze.labelHeight||G}function ve(N){var Ze=N.labelWidth,ge=N.labelHeight,ie=N.options.position,G=N.direction==="x",H=N.options.tickLength,Z=f.grid.axisMargin,oe=f.grid.labelMargin,me=!0,Oe=!0,Pe=!0,Xe=!1;t.each(G?E:A,function(Me,Qe){Qe&&(Qe.show||Qe.reserveSpace)&&(Qe===N?Xe=!0:Qe.options.position===ie&&(Xe?Oe=!1:me=!1),Xe||(Pe=!1))}),Oe&&(Z=0),H==null&&(H=Pe?"full":5),isNaN(+H)||(oe+=+H),G?(ge+=oe,ie=="bottom"?(j.bottom+=ge+Z,N.box={top:v.height-j.bottom,height:ge}):(N.box={top:j.top+Z,height:ge},j.top+=ge+Z)):(Ze+=oe,ie=="left"?(N.box={left:j.left+Z,width:Ze},j.left+=Ze+Z):(j.right+=Ze+Z,N.box={left:v.width-j.right,width:Ze})),N.position=ie,N.tickLength=H,N.box.padding=oe,N.innermost=me}function de(N){N.direction=="x"?(N.box.left=j.left-N.labelWidth/2,N.box.width=v.width-j.left-j.right+N.labelWidth):(N.box.top=j.top-N.labelHeight/2,N.box.height=v.height-j.bottom-j.top+N.labelHeight)}function Be(){var N=f.grid.minBorderMargin,Ze,ge;if(N==null)for(N=0,ge=0;ge<h.length;++ge)N=Math.max(N,2*(h[ge].points.radius+h[ge].points.lineWidth/2));var ie={left:N,right:N,top:N,bottom:N};t.each(V(),function(G,H){H.reserveSpace&&H.ticks&&H.ticks.length&&(H.direction==="x"?(ie.left=Math.max(ie.left,H.labelWidth/2),ie.right=Math.max(ie.right,H.labelWidth/2)):(ie.bottom=Math.max(ie.bottom,H.labelHeight/2),ie.top=Math.max(ie.top,H.labelHeight/2)))}),j.left=Math.ceil(Math.max(ie.left,j.left)),j.right=Math.ceil(Math.max(ie.right,j.right)),j.top=Math.ceil(Math.max(ie.top,j.top)),j.bottom=Math.ceil(Math.max(ie.bottom,j.bottom))}function it(){var N,Ze=V(),ge=f.grid.show;for(var ie in j){var G=f.grid.margin||0;j[ie]=typeof G=="number"?G:G[ie]||0}_(p.processOffset,[j]);for(var ie in j)typeof f.grid.borderWidth=="object"?j[ie]+=ge?f.grid.borderWidth[ie]:0:j[ie]+=ge?f.grid.borderWidth:0;if(t.each(Ze,function(Z,oe){var me=oe.options;oe.show=me.show==null?oe.used:me.show,oe.reserveSpace=me.reserveSpace==null?oe.show:me.reserveSpace,mt(oe)}),ge){var H=t.grep(Ze,function(Z){return Z.show||Z.reserveSpace});for(t.each(H,function(Z,oe){ot(oe),Ae(oe),xe(oe,oe.ticks),se(oe)}),N=H.length-1;N>=0;--N)ve(H[N]);Be(),t.each(H,function(Z,oe){de(oe)})}y=v.width-j.left-j.right,u=v.height-j.bottom-j.top,t.each(Ze,function(Z,oe){ae(oe)}),ge&&He(),$e()}function mt(N){var Ze=N.options,ge=+(Ze.min!=null?Ze.min:N.datamin),ie=+(Ze.max!=null?Ze.max:N.datamax),G=ie-ge;if(G==0){var H=ie==0?1:.01;Ze.min==null&&(ge-=H),(Ze.max==null||Ze.min!=null)&&(ie+=H)}else{var Z=Ze.autoscaleMargin;Z!=null&&(Ze.min==null&&(ge-=G*Z,ge<0&&N.datamin!=null&&N.datamin>=0&&(ge=0)),Ze.max==null&&(ie+=G*Z,ie>0&&N.datamax!=null&&N.datamax<=0&&(ie=0)))}N.min=ge,N.max=ie}function ot(N){var Ze=N.options,ge;typeof Ze.ticks=="number"&&Ze.ticks>0?ge=Ze.ticks:ge=.3*Math.sqrt(N.direction=="x"?v.width:v.height);var ie=(N.max-N.min)/ge,G=-Math.floor(Math.log(ie)/Math.LN10),H=Ze.tickDecimals;H!=null&&G>H&&(G=H);var Z=Math.pow(10,-G),oe=ie/Z,me;if(oe<1.5?me=1:oe<3?(me=2,oe>2.25&&(H==null||G+1<=H)&&(me=2.5,++G)):oe<7.5?me=5:me=10,me*=Z,Ze.minTickSize!=null&&me<Ze.minTickSize&&(me=Ze.minTickSize),N.delta=ie,N.tickDecimals=Math.max(0,H!=null?H:G),N.tickSize=Ze.tickSize||me,Ze.mode=="time"&&!N.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(N.tickGenerator||(N.tickGenerator=function(Qe){var ht=[],Vt=o(Qe.min,Qe.tickSize),$t=0,zt=Number.NaN,qt;do qt=zt,zt=Vt+$t*Qe.tickSize,ht.push(zt),++$t;while(zt<Qe.max&&zt!=qt);return ht},N.tickFormatter=function(Qe,ht){var Vt=ht.tickDecimals?Math.pow(10,ht.tickDecimals):1,$t=""+Math.round(Qe*Vt)/Vt;if(ht.tickDecimals!=null){var zt=$t.indexOf("."),qt=zt==-1?0:$t.length-zt-1;if(qt<ht.tickDecimals)return(qt?$t:$t+".")+(""+Vt).substr(1,ht.tickDecimals-qt)}return $t}),t.isFunction(Ze.tickFormatter)&&(N.tickFormatter=function(Qe,ht){return""+Ze.tickFormatter(Qe,ht)}),Ze.alignTicksWithAxis!=null){var Oe=(N.direction=="x"?E:A)[Ze.alignTicksWithAxis-1];if(Oe&&Oe.used&&Oe!=N){var Pe=N.tickGenerator(N);if(Pe.length>0&&(Ze.min==null&&(N.min=Math.min(N.min,Pe[0])),Ze.max==null&&Pe.length>1&&(N.max=Math.max(N.max,Pe[Pe.length-1]))),N.tickGenerator=function(Qe){var ht=[],Vt,$t;for($t=0;$t<Oe.ticks.length;++$t)Vt=(Oe.ticks[$t].v-Oe.min)/(Oe.max-Oe.min),Vt=Qe.min+Vt*(Qe.max-Qe.min),ht.push(Vt);return ht},!N.mode&&Ze.tickDecimals==null){var Xe=Math.max(0,-Math.floor(Math.log(N.delta)/Math.LN10)+1),Me=N.tickGenerator(N);Me.length>1&&/\..*0$/.test((Me[1]-Me[0]).toFixed(Xe))||(N.tickDecimals=Xe)}}}}function Ae(N){var Ze=N.options.ticks,ge=[];Ze==null||typeof Ze=="number"&&Ze>0?ge=N.tickGenerator(N):Ze&&(t.isFunction(Ze)?ge=Ze(N):ge=Ze);var ie,G;for(N.ticks=[],ie=0;ie<ge.length;++ie){var H=null,Z=ge[ie];typeof Z=="object"?(G=+Z[0],Z.length>1&&(H=Z[1])):G=+Z,H==null&&(H=N.tickFormatter(G,N)),isNaN(G)||N.ticks.push({v:G,label:H})}}function xe(N,Ze){N.options.autoscaleMargin&&Ze.length>0&&(N.options.min==null&&(N.min=Math.min(N.min,Ze[0].v)),N.options.max==null&&Ze.length>1&&(N.max=Math.max(N.max,Ze[Ze.length-1].v)))}function De(){v.clear(),_(p.drawBackground,[k]);var N=f.grid;N.show&&N.backgroundColor&&Ve(),N.show&&!N.aboveData&&je();for(var Ze=0;Ze<h.length;++Ze)_(p.drawSeries,[k,h[Ze]]),qe(h[Ze]);_(p.draw,[k]),N.show&&N.aboveData&&je(),v.render(),At()}function et(N,Ze){for(var ge,ie,G,H,Z=V(),oe=0;oe<Z.length;++oe)if(ge=Z[oe],ge.direction==Ze&&(H=Ze+ge.n+"axis",!N[H]&&ge.n==1&&(H=Ze+"axis"),N[H])){ie=N[H].from,G=N[H].to;break}if(N[H]||(ge=Ze=="x"?E[0]:A[0],ie=N[Ze+"1"],G=N[Ze+"2"]),ie!=null&&G!=null&&ie>G){var me=ie;ie=G,G=me}return{from:ie,to:G,axis:ge}}function Ve(){k.save(),k.translate(j.left,j.top),k.fillStyle=Yt(f.grid.backgroundColor,u,0,"rgba(255, 255, 255, 0)"),k.fillRect(0,0,y,u),k.restore()}function je(){var N,Ze,ge,ie;k.save(),k.translate(j.left,j.top);var G=f.grid.markings;if(G)for(t.isFunction(G)&&(Ze=m.getAxes(),Ze.xmin=Ze.xaxis.min,Ze.xmax=Ze.xaxis.max,Ze.ymin=Ze.yaxis.min,Ze.ymax=Ze.yaxis.max,G=G(Ze)),N=0;N<G.length;++N){var H=G[N],Z=et(H,"x"),oe=et(H,"y");if(Z.from==null&&(Z.from=Z.axis.min),Z.to==null&&(Z.to=Z.axis.max),oe.from==null&&(oe.from=oe.axis.min),oe.to==null&&(oe.to=oe.axis.max),!(Z.to<Z.axis.min||Z.from>Z.axis.max||oe.to<oe.axis.min||oe.from>oe.axis.max)){Z.from=Math.max(Z.from,Z.axis.min),Z.to=Math.min(Z.to,Z.axis.max),oe.from=Math.max(oe.from,oe.axis.min),oe.to=Math.min(oe.to,oe.axis.max);var me=Z.from===Z.to,Oe=oe.from===oe.to;if(!(me&&Oe))if(Z.from=Math.floor(Z.axis.p2c(Z.from)),Z.to=Math.floor(Z.axis.p2c(Z.to)),oe.from=Math.floor(oe.axis.p2c(oe.from)),oe.to=Math.floor(oe.axis.p2c(oe.to)),me||Oe){var Pe=H.lineWidth||f.grid.markingsLineWidth,Xe=Pe%2?.5:0;k.beginPath(),k.strokeStyle=H.color||f.grid.markingsColor,k.lineWidth=Pe,me?(k.moveTo(Z.to+Xe,oe.from),k.lineTo(Z.to+Xe,oe.to)):(k.moveTo(Z.from,oe.to+Xe),k.lineTo(Z.to,oe.to+Xe)),k.stroke()}else k.fillStyle=H.color||f.grid.markingsColor,k.fillRect(Z.from,oe.to,Z.to-Z.from,oe.from-oe.to)}}Ze=V(),ge=f.grid.borderWidth;for(var Me=0;Me<Ze.length;++Me){var Qe=Ze[Me],ht=Qe.box,Vt=Qe.tickLength,$t,zt,qt,Bt;if(!(!Qe.show||Qe.ticks.length==0)){for(k.lineWidth=1,Qe.direction=="x"?($t=0,Vt=="full"?zt=Qe.position=="top"?0:u:zt=ht.top-j.top+(Qe.position=="top"?ht.height:0)):(zt=0,Vt=="full"?$t=Qe.position=="left"?0:y:$t=ht.left-j.left+(Qe.position=="left"?ht.width:0)),Qe.innermost||(k.strokeStyle=Qe.options.color,k.beginPath(),qt=Bt=0,Qe.direction=="x"?qt=y+1:Bt=u+1,k.lineWidth==1&&(Qe.direction=="x"?zt=Math.floor(zt)+.5:$t=Math.floor($t)+.5),k.moveTo($t,zt),k.lineTo($t+qt,zt+Bt),k.stroke()),k.strokeStyle=Qe.options.tickColor,k.beginPath(),N=0;N<Qe.ticks.length;++N){var an=Qe.ticks[N].v;qt=Bt=0,!(isNaN(an)||an<Qe.min||an>Qe.max||Vt=="full"&&(typeof ge=="object"&&ge[Qe.position]>0||ge>0)&&(an==Qe.min||an==Qe.max))&&(Qe.direction=="x"?($t=Qe.p2c(an),Bt=Vt=="full"?-u:Vt,Qe.position=="top"&&(Bt=-Bt)):(zt=Qe.p2c(an),qt=Vt=="full"?-y:Vt,Qe.position=="left"&&(qt=-qt)),k.lineWidth==1&&(Qe.direction=="x"?$t=Math.floor($t)+.5:zt=Math.floor(zt)+.5),k.moveTo($t,zt),k.lineTo($t+qt,zt+Bt))}k.stroke()}}ge&&(ie=f.grid.borderColor,typeof ge=="object"||typeof ie=="object"?(typeof ge!="object"&&(ge={top:ge,right:ge,bottom:ge,left:ge}),typeof ie!="object"&&(ie={top:ie,right:ie,bottom:ie,left:ie}),ge.top>0&&(k.strokeStyle=ie.top,k.lineWidth=ge.top,k.beginPath(),k.moveTo(0-ge.left,0-ge.top/2),k.lineTo(y,0-ge.top/2),k.stroke()),ge.right>0&&(k.strokeStyle=ie.right,k.lineWidth=ge.right,k.beginPath(),k.moveTo(y+ge.right/2,0-ge.top),k.lineTo(y+ge.right/2,u),k.stroke()),ge.bottom>0&&(k.strokeStyle=ie.bottom,k.lineWidth=ge.bottom,k.beginPath(),k.moveTo(y+ge.right,u+ge.bottom/2),k.lineTo(0,u+ge.bottom/2),k.stroke()),ge.left>0&&(k.strokeStyle=ie.left,k.lineWidth=ge.left,k.beginPath(),k.moveTo(0-ge.left/2,u+ge.bottom),k.lineTo(0-ge.left/2,0),k.stroke())):(k.lineWidth=ge,k.strokeStyle=f.grid.borderColor,k.strokeRect(-ge/2,-ge/2,y+ge,u+ge))),k.restore()}function He(){t.each(V(),function(N,Ze){var ge=Ze.box,ie=Ze.direction+"Axis "+Ze.direction+Ze.n+"Axis",G="flot-"+Ze.direction+"-axis flot-"+Ze.direction+Ze.n+"-axis "+ie,H=Ze.options.font||"flot-tick-label tickLabel",Z,oe,me,Oe,Pe;if(v.removeText(G),!(!Ze.show||Ze.ticks.length==0))for(var Xe=0;Xe<Ze.ticks.length;++Xe)Z=Ze.ticks[Xe],!(!Z.label||Z.v<Ze.min||Z.v>Ze.max)&&(Ze.direction=="x"?(Oe="center",oe=j.left+Ze.p2c(Z.v),Ze.position=="bottom"?me=ge.top+ge.padding:(me=ge.top+ge.height-ge.padding,Pe="bottom")):(Pe="middle",me=j.top+Ze.p2c(Z.v),Ze.position=="left"?(oe=ge.left+ge.width-ge.padding,Oe="right"):oe=ge.left+ge.padding),v.addText(G,oe,me,Z.label,H,null,null,Oe,Pe))})}function qe(N){N.lines.show&&lt(N),N.bars.show&&ze(N),N.points.show&&_t(N)}function lt(N){function Ze(oe,me,Oe,Pe,Xe){var Me=oe.points,Qe=oe.pointsize,ht=null,Vt=null;k.beginPath();for(var $t=Qe;$t<Me.length;$t+=Qe){var zt=Me[$t-Qe],qt=Me[$t-Qe+1],Bt=Me[$t],an=Me[$t+1];if(!(zt==null||Bt==null)){if(qt<=an&&qt<Xe.min){if(an<Xe.min)continue;zt=(Xe.min-qt)/(an-qt)*(Bt-zt)+zt,qt=Xe.min}else if(an<=qt&&an<Xe.min){if(qt<Xe.min)continue;Bt=(Xe.min-qt)/(an-qt)*(Bt-zt)+zt,an=Xe.min}if(qt>=an&&qt>Xe.max){if(an>Xe.max)continue;zt=(Xe.max-qt)/(an-qt)*(Bt-zt)+zt,qt=Xe.max}else if(an>=qt&&an>Xe.max){if(qt>Xe.max)continue;Bt=(Xe.max-qt)/(an-qt)*(Bt-zt)+zt,an=Xe.max}if(zt<=Bt&&zt<Pe.min){if(Bt<Pe.min)continue;qt=(Pe.min-zt)/(Bt-zt)*(an-qt)+qt,zt=Pe.min}else if(Bt<=zt&&Bt<Pe.min){if(zt<Pe.min)continue;an=(Pe.min-zt)/(Bt-zt)*(an-qt)+qt,Bt=Pe.min}if(zt>=Bt&&zt>Pe.max){if(Bt>Pe.max)continue;qt=(Pe.max-zt)/(Bt-zt)*(an-qt)+qt,zt=Pe.max}else if(Bt>=zt&&Bt>Pe.max){if(zt>Pe.max)continue;an=(Pe.max-zt)/(Bt-zt)*(an-qt)+qt,Bt=Pe.max}(zt!=ht||qt!=Vt)&&k.moveTo(Pe.p2c(zt)+me,Xe.p2c(qt)+Oe),ht=Bt,Vt=an,k.lineTo(Pe.p2c(Bt)+me,Xe.p2c(an)+Oe)}}k.stroke()}function ge(oe,me,Oe){for(var Pe=oe.points,Xe=oe.pointsize,Me=Math.min(Math.max(0,Oe.min),Oe.max),Qe=0,ht,Vt=!1,$t=1,zt=0,qt=0;!(Xe>0&&Qe>Pe.length+Xe);){Qe+=Xe;var Bt=Pe[Qe-Xe],an=Pe[Qe-Xe+$t],cn=Pe[Qe],It=Pe[Qe+$t];if(Vt){if(Xe>0&&Bt!=null&&cn==null){qt=Qe,Xe=-Xe,$t=2;continue}if(Xe<0&&Qe==zt+Xe){k.fill(),Vt=!1,Xe=-Xe,$t=1,Qe=zt=qt+Xe;continue}}if(!(Bt==null||cn==null)){if(Bt<=cn&&Bt<me.min){if(cn<me.min)continue;an=(me.min-Bt)/(cn-Bt)*(It-an)+an,Bt=me.min}else if(cn<=Bt&&cn<me.min){if(Bt<me.min)continue;It=(me.min-Bt)/(cn-Bt)*(It-an)+an,cn=me.min}if(Bt>=cn&&Bt>me.max){if(cn>me.max)continue;an=(me.max-Bt)/(cn-Bt)*(It-an)+an,Bt=me.max}else if(cn>=Bt&&cn>me.max){if(Bt>me.max)continue;It=(me.max-Bt)/(cn-Bt)*(It-an)+an,cn=me.max}if(Vt||(k.beginPath(),k.moveTo(me.p2c(Bt),Oe.p2c(Me)),Vt=!0),an>=Oe.max&&It>=Oe.max){k.lineTo(me.p2c(Bt),Oe.p2c(Oe.max)),k.lineTo(me.p2c(cn),Oe.p2c(Oe.max));continue}else if(an<=Oe.min&&It<=Oe.min){k.lineTo(me.p2c(Bt),Oe.p2c(Oe.min)),k.lineTo(me.p2c(cn),Oe.p2c(Oe.min));continue}var nn=Bt,Kt=cn;an<=It&&an<Oe.min&&It>=Oe.min?(Bt=(Oe.min-an)/(It-an)*(cn-Bt)+Bt,an=Oe.min):It<=an&&It<Oe.min&&an>=Oe.min&&(cn=(Oe.min-an)/(It-an)*(cn-Bt)+Bt,It=Oe.min),an>=It&&an>Oe.max&&It<=Oe.max?(Bt=(Oe.max-an)/(It-an)*(cn-Bt)+Bt,an=Oe.max):It>=an&&It>Oe.max&&an<=Oe.max&&(cn=(Oe.max-an)/(It-an)*(cn-Bt)+Bt,It=Oe.max),Bt!=nn&&k.lineTo(me.p2c(nn),Oe.p2c(an)),k.lineTo(me.p2c(Bt),Oe.p2c(an)),k.lineTo(me.p2c(cn),Oe.p2c(It)),cn!=Kt&&(k.lineTo(me.p2c(cn),Oe.p2c(It)),k.lineTo(me.p2c(Kt),Oe.p2c(It)))}}}k.save(),k.translate(j.left,j.top),k.lineJoin="round";var ie=N.lines.lineWidth,G=N.shadowSize;if(ie>0&&G>0){k.lineWidth=G,k.strokeStyle="rgba(0,0,0,0.1)";var H=Math.PI/18;Ze(N.datapoints,Math.sin(H)*(ie/2+G/2),Math.cos(H)*(ie/2+G/2),N.xaxis,N.yaxis),k.lineWidth=G/2,Ze(N.datapoints,Math.sin(H)*(ie/2+G/4),Math.cos(H)*(ie/2+G/4),N.xaxis,N.yaxis)}k.lineWidth=ie,k.strokeStyle=N.color;var Z=Re(N.lines,N.color,0,u);Z&&(k.fillStyle=Z,ge(N.datapoints,N.xaxis,N.yaxis)),ie>0&&Ze(N.datapoints,0,0,N.xaxis,N.yaxis),k.restore()}function _t(N){function Ze(oe,me,Oe,Pe,Xe,Me,Qe,ht){for(var Vt=oe.points,$t=oe.pointsize,zt=0;zt<Vt.length;zt+=$t){var qt=Vt[zt],Bt=Vt[zt+1];qt==null||qt<Me.min||qt>Me.max||Bt<Qe.min||Bt>Qe.max||(k.beginPath(),qt=Me.p2c(qt),Bt=Qe.p2c(Bt)+Pe,ht=="circle"?k.arc(qt,Bt,me,0,Xe?Math.PI:Math.PI*2,!1):ht(k,qt,Bt,me,Xe),k.closePath(),Oe&&(k.fillStyle=Oe,k.fill()),k.stroke())}}k.save(),k.translate(j.left,j.top);var ge=N.points.lineWidth,ie=N.shadowSize,G=N.points.radius,H=N.points.symbol;if(ge==0&&(ge=1e-4),ge>0&&ie>0){var Z=ie/2;k.lineWidth=Z,k.strokeStyle="rgba(0,0,0,0.1)",Ze(N.datapoints,G,null,Z+Z/2,!0,N.xaxis,N.yaxis,H),k.strokeStyle="rgba(0,0,0,0.2)",Ze(N.datapoints,G,null,Z/2,!0,N.xaxis,N.yaxis,H)}k.lineWidth=ge,k.strokeStyle=N.color,Ze(N.datapoints,G,Re(N.points,N.color),0,!1,N.xaxis,N.yaxis,H),k.restore()}function be(N,Ze,ge,ie,G,H,Z,oe,me,Oe,Pe){var Xe,Me,Qe,ht,Vt,$t,zt,qt,Bt;Oe?(qt=$t=zt=!0,Vt=!1,Xe=ge,Me=N,ht=Ze+ie,Qe=Ze+G,Me<Xe&&(Bt=Me,Me=Xe,Xe=Bt,Vt=!0,$t=!1)):(Vt=$t=zt=!0,qt=!1,Xe=N+ie,Me=N+G,Qe=ge,ht=Ze,ht<Qe&&(Bt=ht,ht=Qe,Qe=Bt,qt=!0,zt=!1)),!(Me<Z.min||Xe>Z.max||ht<oe.min||Qe>oe.max)&&(Xe<Z.min&&(Xe=Z.min,Vt=!1),Me>Z.max&&(Me=Z.max,$t=!1),Qe<oe.min&&(Qe=oe.min,qt=!1),ht>oe.max&&(ht=oe.max,zt=!1),Xe=Z.p2c(Xe),Qe=oe.p2c(Qe),Me=Z.p2c(Me),ht=oe.p2c(ht),H&&(me.fillStyle=H(Qe,ht),me.fillRect(Xe,ht,Me-Xe,Qe-ht)),Pe>0&&(Vt||$t||zt||qt)&&(me.beginPath(),me.moveTo(Xe,Qe),Vt?me.lineTo(Xe,ht):me.moveTo(Xe,ht),zt?me.lineTo(Me,ht):me.moveTo(Me,ht),$t?me.lineTo(Me,Qe):me.moveTo(Me,Qe),qt?me.lineTo(Xe,Qe):me.moveTo(Xe,Qe),me.stroke()))}function ze(N){function Ze(G,H,Z,oe,me,Oe){for(var Pe=G.points,Xe=G.pointsize,Me=0;Me<Pe.length;Me+=Xe)Pe[Me]!=null&&be(Pe[Me],Pe[Me+1],Pe[Me+2],H,Z,oe,me,Oe,k,N.bars.horizontal,N.bars.lineWidth)}k.save(),k.translate(j.left,j.top),k.lineWidth=N.bars.lineWidth,k.strokeStyle=N.color;var ge;switch(N.bars.align){case"left":ge=0;break;case"right":ge=-N.bars.barWidth;break;default:ge=-N.bars.barWidth/2}var ie=N.bars.fill?function(H,Z){return Re(N.bars,N.color,H,Z)}:null;Ze(N.datapoints,ge,ge+N.bars.barWidth,ie,N.xaxis,N.yaxis),k.restore()}function Re(N,Ze,ge,ie){var G=N.fill;if(!G)return null;if(N.fillColor)return Yt(N.fillColor,ge,ie,Ze);var H=t.color.parse(Ze);return H.a=typeof G=="number"?G:.4,H.normalize(),H.toString()}function $e(){if(f.legend.container!=null?t(f.legend.container).html(""):s.find(".legend").remove(),!!f.legend.show){for(var N=[],Ze=[],ge=!1,ie=f.legend.labelFormatter,G,H,Z=0;Z<h.length;++Z)G=h[Z],G.label&&(H=ie?ie(G.label,G):G.label,H&&Ze.push({label:H,color:G.color}));if(f.legend.sorted)if(t.isFunction(f.legend.sorted))Ze.sort(f.legend.sorted);else if(f.legend.sorted=="reverse")Ze.reverse();else{var oe=f.legend.sorted!="descending";Ze.sort(function($t,zt){return $t.label==zt.label?0:$t.label<zt.label!=oe?1:-1})}for(var Z=0;Z<Ze.length;++Z){var me=Ze[Z];Z%f.legend.noColumns==0&&(ge&&N.push("</tr>"),N.push("<tr>"),ge=!0),N.push('<td class="legendColorBox"><div style="border:1px solid '+f.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+me.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+me.label+"</td>")}if(ge&&N.push("</tr>"),N.length!=0){var Oe='<table style="font-size:smaller;color:'+f.grid.color+'">'+N.join("")+"</table>";if(f.legend.container!=null)t(f.legend.container).html(Oe);else{var Pe="",Xe=f.legend.position,Me=f.legend.margin;Me[0]==null&&(Me=[Me,Me]),Xe.charAt(0)=="n"?Pe+="top:"+(Me[1]+j.top)+"px;":Xe.charAt(0)=="s"&&(Pe+="bottom:"+(Me[1]+j.bottom)+"px;"),Xe.charAt(1)=="e"?Pe+="right:"+(Me[0]+j.right)+"px;":Xe.charAt(1)=="w"&&(Pe+="left:"+(Me[0]+j.left)+"px;");var Qe=t('<div class="legend">'+Oe.replace('style="','style="position:absolute;'+Pe+";")+"</div>").appendTo(s);if(f.legend.backgroundOpacity!=0){var ht=f.legend.backgroundColor;ht==null&&(ht=f.grid.backgroundColor,ht&&typeof ht=="string"?ht=t.color.parse(ht):ht=t.color.extract(Qe,"background-color"),ht.a=1,ht=ht.toString());var Vt=Qe.children();t('<div style="position:absolute;width:'+Vt.width()+"px;height:"+Vt.height()+"px;"+Pe+"background-color:"+ht+';"> </div>').prependTo(Qe).css("opacity",f.legend.backgroundOpacity)}}}}}var Ye=[],We=null;function Ct(N,Ze,ge){var ie=f.grid.mouseActiveRadius,G=ie*ie+1,H=null,Z=!1,oe,me,Oe;for(oe=h.length-1;oe>=0;--oe)if(ge(h[oe])){var Pe=h[oe],Xe=Pe.xaxis,Me=Pe.yaxis,Qe=Pe.datapoints.points,ht=Xe.c2p(N),Vt=Me.c2p(Ze),$t=ie/Xe.scale,zt=ie/Me.scale;if(Oe=Pe.datapoints.pointsize,Xe.options.inverseTransform&&($t=Number.MAX_VALUE),Me.options.inverseTransform&&(zt=Number.MAX_VALUE),Pe.lines.show||Pe.points.show)for(me=0;me<Qe.length;me+=Oe){var qt=Qe[me],Bt=Qe[me+1];if(qt!=null&&!(qt-ht>$t||qt-ht<-$t||Bt-Vt>zt||Bt-Vt<-zt)){var an=Math.abs(Xe.p2c(qt)-N),cn=Math.abs(Me.p2c(Bt)-Ze),It=an*an+cn*cn;It<G&&(G=It,H=[oe,me/Oe])}}if(Pe.bars.show&&!H){var nn,Kt;switch(Pe.bars.align){case"left":nn=0;break;case"right":nn=-Pe.bars.barWidth;break;default:nn=-Pe.bars.barWidth/2}for(Kt=nn+Pe.bars.barWidth,me=0;me<Qe.length;me+=Oe){var qt=Qe[me],Bt=Qe[me+1],Pn=Qe[me+2];qt!=null&&(h[oe].bars.horizontal?ht<=Math.max(Pn,qt)&&ht>=Math.min(Pn,qt)&&Vt>=Bt+nn&&Vt<=Bt+Kt:ht>=qt+nn&&ht<=qt+Kt&&Vt>=Math.min(Pn,Bt)&&Vt<=Math.max(Pn,Bt))&&(H=[oe,me/Oe])}}}return H?(oe=H[0],me=H[1],Oe=h[oe].datapoints.pointsize,{datapoint:h[oe].datapoints.points.slice(me*Oe,(me+1)*Oe),dataIndex:me,series:h[oe],seriesIndex:oe}):null}function gt(N){f.grid.hoverable&&ct("plothover",N,function(Ze){return Ze.hoverable!=!1})}function nt(N){f.grid.hoverable&&ct("plothover",N,function(Ze){return!1})}function rt(N){ct("plotclick",N,function(Ze){return Ze.clickable!=!1})}function ct(N,Ze,ge){var ie=w.offset(),G=Ze.pageX-ie.left-j.left,H=Ze.pageY-ie.top-j.top,Z=q({left:G,top:H});Z.pageX=Ze.pageX,Z.pageY=Ze.pageY;var oe=Ct(G,H,ge);if(oe&&(oe.pageX=parseInt(oe.series.xaxis.p2c(oe.datapoint[0])+ie.left+j.left,10),oe.pageY=parseInt(oe.series.yaxis.p2c(oe.datapoint[1])+ie.top+j.top,10)),f.grid.autoHighlight){for(var me=0;me<Ye.length;++me){var Oe=Ye[me];Oe.auto==N&&!(oe&&Oe.series==oe.series&&Oe.point[0]==oe.datapoint[0]&&Oe.point[1]==oe.datapoint[1])&&st(Oe.series,Oe.point)}oe&&Lt(oe.series,oe.datapoint,N)}s.trigger(N,[Z,oe])}function At(){var N=f.interaction.redrawOverlayInterval;if(N==-1){Mt();return}We||(We=setTimeout(Mt,N))}function Mt(){We=null,C.save(),b.clear(),C.translate(j.left,j.top);var N,Ze;for(N=0;N<Ye.length;++N)Ze=Ye[N],Ze.series.bars.show?Ft(Ze.series,Ze.point):Jt(Ze.series,Ze.point);C.restore(),_(p.drawOverlay,[C])}function Lt(N,Ze,ge){if(typeof N=="number"&&(N=h[N]),typeof Ze=="number"){var ie=N.datapoints.pointsize;Ze=N.datapoints.points.slice(ie*Ze,ie*(Ze+1))}var G=te(N,Ze);G==-1?(Ye.push({series:N,point:Ze,auto:ge}),At()):ge||(Ye[G].auto=!1)}function st(N,Ze){if(N==null&&Ze==null){Ye=[],At();return}if(typeof N=="number"&&(N=h[N]),typeof Ze=="number"){var ge=N.datapoints.pointsize;Ze=N.datapoints.points.slice(ge*Ze,ge*(Ze+1))}var ie=te(N,Ze);ie!=-1&&(Ye.splice(ie,1),At())}function te(N,Ze){for(var ge=0;ge<Ye.length;++ge){var ie=Ye[ge];if(ie.series==N&&ie.point[0]==Ze[0]&&ie.point[1]==Ze[1])return ge}return-1}function Jt(N,Ze){var ge=Ze[0],ie=Ze[1],G=N.xaxis,H=N.yaxis,Z=typeof N.highlightColor=="string"?N.highlightColor:t.color.parse(N.color).scale("a",.5).toString();if(!(ge<G.min||ge>G.max||ie<H.min||ie>H.max)){var oe=N.points.radius+N.points.lineWidth/2;C.lineWidth=oe,C.strokeStyle=Z;var me=1.5*oe;ge=G.p2c(ge),ie=H.p2c(ie),C.beginPath(),N.points.symbol=="circle"?C.arc(ge,ie,me,0,2*Math.PI,!1):N.points.symbol(C,ge,ie,me,!1),C.closePath(),C.stroke()}}function Ft(N,Ze){var ge=typeof N.highlightColor=="string"?N.highlightColor:t.color.parse(N.color).scale("a",.5).toString(),ie=ge,G;switch(N.bars.align){case"left":G=0;break;case"right":G=-N.bars.barWidth;break;default:G=-N.bars.barWidth/2}C.lineWidth=N.bars.lineWidth,C.strokeStyle=ge,be(Ze[0],Ze[1],Ze[2]||0,G,G+N.bars.barWidth,function(){return ie},N.xaxis,N.yaxis,C,N.bars.horizontal,N.bars.lineWidth)}function Yt(N,Ze,ge,ie){if(typeof N=="string")return N;for(var G=k.createLinearGradient(0,ge,0,Ze),H=0,Z=N.colors.length;H<Z;++H){var oe=N.colors[H];if(typeof oe!="string"){var me=t.color.parse(ie);oe.brightness!=null&&(me=me.scale("rgb",oe.brightness)),oe.opacity!=null&&(me.a*=oe.opacity),oe=me.toString()}G.addColorStop(H/(Z-1),oe)}return G}},o=function(s,r){return r*Math.floor(s/r)},l=Object.prototype.hasOwnProperty;t.fn.detach||(t.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),e.prototype.resize=function(a,s){if(a<=0||s<=0)throw new Error("Invalid dimensions for plot, width = "+a+", height = "+s);var r=this.element,d=this.context,c=this.pixelRatio;this.width!=a&&(r.width=a*c,r.style.width=a+"px",this.width=a),this.height!=s&&(r.height=s*c,r.style.height=s+"px",this.height=s),d.restore(),d.save(),d.scale(c,c)},e.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},e.prototype.render=function(){var a=this._textCache;for(var s in a)if(l.call(a,s)){var r=this.getTextLayer(s),d=a[s];r.hide();for(var c in d)if(l.call(d,c)){var h=d[c];for(var f in h)if(l.call(h,f)){for(var v=h[f].positions,b=0,w;w=v[b];b++)w.active?w.rendered||(r.append(w.element),w.rendered=!0):(v.splice(b--,1),w.rendered&&w.element.detach());v.length==0&&delete h[f]}}r.show()}},e.prototype.getTextLayer=function(a){var s=this.text[a];return s==null&&(this.textContainer==null&&(this.textContainer=t("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),s=this.text[a]=t("<div></div>").addClass(a).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),s},e.prototype.getTextInfo=function(a,s,r,d,c){var h,f,v,b;if(s=""+s,typeof r=="object"?h=r.style+" "+r.variant+" "+r.weight+" "+r.size+"px/"+r.lineHeight+"px "+r.family:h=r,f=this._textCache[a],f==null&&(f=this._textCache[a]={}),v=f[h],v==null&&(v=f[h]={}),b=v[s],b==null){var w=t("<div></div>").html(s).css({position:"absolute","max-width":c,top:-9999}).appendTo(this.getTextLayer(a));typeof r=="object"?w.css({font:h,color:r.color}):typeof r=="string"&&w.addClass(r),b=v[s]={width:w.outerWidth(!0),height:w.outerHeight(!0),element:w,positions:[]},w.detach()}return b},e.prototype.addText=function(a,s,r,d,c,h,f,v,b){var w=this.getTextInfo(a,d,c,h,f),k=w.positions;v=="center"?s-=w.width/2:v=="right"&&(s-=w.width),b=="middle"?r-=w.height/2:b=="bottom"&&(r-=w.height);for(var C=0,E;E=k[C];C++)if(E.x==s&&E.y==r){E.active=!0;return}E={active:!0,rendered:!1,element:k.length?w.element.clone():w.element,x:s,y:r},k.push(E),E.element.css({top:Math.round(r),left:Math.round(s),"text-align":v})},e.prototype.removeText=function(a,s,r,d,c,h){if(d==null){var f=this._textCache[a];if(f!=null){for(var v in f)if(l.call(f,v)){var b=f[v];for(var w in b)if(l.call(b,w))for(var k=b[w].positions,C=0,E;E=k[C];C++)E.active=!1}}}else for(var k=this.getTextInfo(a,d,c,h).positions,C=0,E;E=k[C];C++)E.x==s&&E.y==r&&(E.active=!1)},t.plot=function(a,s,r){var d=new n(t(a),s,r,t.plot.plugins);return d},t.plot.version="0.8.3",t.plot.plugins=[],t.fn.plot=function(a,s){return this.each(function(){t.plot(this,a,s)})}}(jQuery)}),Gv={},o6(Gv,{default:function(){return Xv}}),s6=Wv(qv()),a6(Gv,Wv(qv()));var g;tr=s6,g=tr,Yv=g.default,l6=Bi(tr,["default"]),Xv=Yv!==void 0?Yv:l6}}),c6={};wi(c6,{default:function(){return Xv}});var J1=Ht({"https-url:https://esm.archive.org/flot@%5E0.8.0":function(){u6(),u6()}}),d6,Zd,h6,f6,p6,v6,m6,g6,eh,y6,Kv,Qv,Jv,b6,tr,Zv,w6,em,_6=Ht({"https-url:https://esm.archive.org/v135/flot@0.8.3/esnext/jquery.flot.time.js":function(){d6=Object.create,Zd=Object.defineProperty,h6=Object.getOwnPropertyDescriptor,f6=Object.getOwnPropertyNames,p6=Object.getPrototypeOf,v6=Object.prototype.hasOwnProperty,m6=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},g6=function(t,e){for(var n in e)Zd(t,n,{get:e[n],enumerable:!0})},eh=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!v6.call(t,v)&&v!==n&&Zd(t,v,{get:function(){return e[v]},enumerable:!(o=h6(e,v))||o.enumerable})},d=f6(e)[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0)r(d,c)}catch(h){a=!0,s=h}finally{try{!l&&d.return!=null&&d.return()}finally{if(a)throw s}}return t},y6=function(t,e,n){return eh(t,e,"default"),n&&eh(n,e,"default")},Kv=function(t,e,n){return n=t!=null?d6(p6(t)):{},eh(e||!t||!t.__esModule?Zd(n,"default",{value:t,enumerable:!0}):n,t)},Qv=m6(function(){(function(t){var e=function(v,b){return b*Math.floor(v/b)},n=function(v,b,w,k){if(typeof v.strftime=="function")return v.strftime(b);var C=function(x,O){return x=""+x,O=""+(O!=null?O:"0"),x.length==1?O+x:x},E=[],A=!1,j=v.getHours(),y=j<12;w==null&&(w=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),k==null&&(k=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);var u;j>12?u=j-12:j==0?u=12:u=j;for(var p=0;p<b.length;++p){var m=b.charAt(p);if(A){switch(m){case"a":m=""+k[v.getDay()];break;case"b":m=""+w[v.getMonth()];break;case"d":m=C(v.getDate());break;case"e":m=C(v.getDate()," ");break;case"h":case"H":m=C(j);break;case"I":m=C(u);break;case"l":m=C(u," ");break;case"m":m=C(v.getMonth()+1);break;case"M":m=C(v.getMinutes());break;case"q":m=""+(Math.floor(v.getMonth()/3)+1);break;case"S":m=C(v.getSeconds());break;case"y":m=C(v.getFullYear()%100);break;case"Y":m=""+v.getFullYear();break;case"p":m=y?"am":"pm";break;case"P":m=y?"AM":"PM";break;case"w":m=""+v.getDay();break}E.push(m),A=!1}else m=="%"?A=!0:E.push(m)}return E.join("")},o=function(v){function b(E,A,j,y){E[A]=function(){return j[y].apply(j,arguments)}}var w={date:v};v.strftime!=null&&b(w,"strftime",v,"strftime"),b(w,"getTime",v,"getTime"),b(w,"setTime",v,"setTime");for(var k=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],C=0;C<k.length;C++)b(w,"get"+k[C],v,"getUTC"+k[C]),b(w,"set"+k[C],v,"setUTC"+k[C]);return w},l=function(v,b){if(b.timezone=="browser")return new Date(v);if(!b.timezone||b.timezone=="utc")return o(new Date(v));if((typeof timezoneJS=="undefined"?"undefined":_typeof(timezoneJS))<"u"&&_typeof(timezoneJS.Date)<"u"){var w=new timezoneJS.Date;return w.setTimezone(b.timezone),w.setTime(v),w}else return o(new Date(v))},a=function(v){v.hooks.processOptions.push(function(b,w){t.each(b.getAxes(),function(k,C){var E=C.options;E.mode=="time"&&(C.tickGenerator=function(A){var j=[],y=l(A.min,E),u=0,p=E.tickSize&&E.tickSize[1]==="quarter"||E.minTickSize&&E.minTickSize[1]==="quarter"?h:c;E.minTickSize!=null&&(typeof E.tickSize=="number"?u=E.tickSize:u=E.minTickSize[0]*r[E.minTickSize[1]]);for(var m=0;m<p.length-1&&!(A.delta<(p[m][0]*r[p[m][1]]+p[m+1][0]*r[p[m+1][1]])/2&&p[m][0]*r[p[m][1]]>=u);++m);var _=p[m][0],x=p[m][1];if(x=="year"){if(E.minTickSize!=null&&E.minTickSize[1]=="year")_=Math.floor(E.minTickSize[0]);else{var O=Math.pow(10,Math.floor(Math.log(A.delta/r.year)/Math.LN10)),I=A.delta/r.year/O;I<1.5?_=1:I<3?_=2:I<7.5?_=5:_=10,_*=O}_<1&&(_=1)}A.tickSize=E.tickSize||[_,x];var P=A.tickSize[0];x=A.tickSize[1];var D=P*r[x];x=="second"?y.setSeconds(e(y.getSeconds(),P)):x=="minute"?y.setMinutes(e(y.getMinutes(),P)):x=="hour"?y.setHours(e(y.getHours(),P)):x=="month"?y.setMonth(e(y.getMonth(),P)):x=="quarter"?y.setMonth(3*e(y.getMonth()/3,P)):x=="year"&&y.setFullYear(e(y.getFullYear(),P)),y.setMilliseconds(0),D>=r.minute&&y.setSeconds(0),D>=r.hour&&y.setMinutes(0),D>=r.day&&y.setHours(0),D>=r.day*4&&y.setDate(1),D>=r.month*2&&y.setMonth(e(y.getMonth(),3)),D>=r.quarter*2&&y.setMonth(e(y.getMonth(),6)),D>=r.year&&y.setMonth(0);var V=0,q=Number.NaN,z;do if(z=q,q=y.getTime(),j.push(q),x=="month"||x=="quarter")if(P<1){y.setDate(1);var he=y.getTime();y.setMonth(y.getMonth()+(x=="quarter"?3:1));var Y=y.getTime();y.setTime(q+V*r.hour+(Y-he)*P),V=y.getHours(),y.setHours(0)}else y.setMonth(y.getMonth()+P*(x=="quarter"?3:1));else x=="year"?y.setFullYear(y.getFullYear()+P):y.setTime(q+D);while(q<A.max&&q!=z);return j},C.tickFormatter=function(A,j){var y=l(A,j.options);if(E.timeformat!=null)return n(y,E.timeformat,E.monthNames,E.dayNames);var u=j.options.tickSize&&j.options.tickSize[1]=="quarter"||j.options.minTickSize&&j.options.minTickSize[1]=="quarter",p=j.tickSize[0]*r[j.tickSize[1]],m=j.max-j.min,_=E.twelveHourClock?" %p":"",x=E.twelveHourClock?"%I":"%H",O;p<r.minute?O=x+":%M:%S"+_:p<r.day?m<2*r.day?O=x+":%M"+_:O="%b %d "+x+":%M"+_:p<r.month?O="%b %d":u&&p<r.quarter||!u&&p<r.year?m<r.year?O="%b":O="%b %Y":u&&p<r.year?m<r.year?O="Q%q":O="Q%q %Y":O="%Y";var I=n(y,O,E.monthNames,E.dayNames);return I})})})},s={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},r={second:1e3,minute:60*1e3,hour:60*60*1e3,day:24*60*60*1e3,month:30*24*60*60*1e3,quarter:3*30*24*60*60*1e3,year:365.2425*24*60*60*1e3},d=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],c=d.concat([[3,"month"],[6,"month"],[1,"year"]]),h=d.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);t.plot.plugins.push({init:a,options:s,name:"time",version:"1.0"}),t.plot.formatDate=n,t.plot.dateGenerator=l})(jQuery)}),Jv={},g6(Jv,{default:function(){return em}}),b6=Kv(Qv()),y6(Jv,Kv(Qv()));var g;tr=b6,g=tr,Zv=g.default,w6=Bi(tr,["default"]),em=Zv!==void 0?Zv:w6}}),k6={};wi(k6,{default:function(){return em}});var Z1=Ht({"https-url:https://esm.archive.org/flot@%5E0.8.0/jquery.flot.time.js":function(){_6(),_6()}}),x6,th,S6,C6,A6,O6,j6,E6,nh,T6,tm,nm,rm,P6,tr,im,I6,om,M6=Ht({"https-url:https://esm.archive.org/v135/flot@0.8.3/esnext/jquery.flot.stack.js":function(){x6=Object.create,th=Object.defineProperty,S6=Object.getOwnPropertyDescriptor,C6=Object.getOwnPropertyNames,A6=Object.getPrototypeOf,O6=Object.prototype.hasOwnProperty,j6=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},E6=function(t,e){for(var n in e)th(t,n,{get:e[n],enumerable:!0})},nh=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!O6.call(t,v)&&v!==n&&th(t,v,{get:function(){return e[v]},enumerable:!(o=S6(e,v))||o.enumerable})},d=C6(e)[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0)r(d,c)}catch(h){a=!0,s=h}finally{try{!l&&d.return!=null&&d.return()}finally{if(a)throw s}}return t},T6=function(t,e,n){return nh(t,e,"default"),n&&nh(n,e,"default")},tm=function(t,e,n){return n=t!=null?x6(A6(t)):{},nh(e||!t||!t.__esModule?th(n,"default",{value:t,enumerable:!0}):n,t)},nm=j6(function(){(function(t){var e=function(l){function a(r,d){for(var c=null,h=0;h<d.length&&r!=d[h];++h)d[h].stack==r.stack&&(c=d[h]);return c}function s(r,d,c){if(!(d.stack==null||d.stack===!1)){var h=a(d,r.getData());if(h){for(var f=c.pointsize,v=c.points,b=h.datapoints.pointsize,w=h.datapoints.points,k=[],C,E,A,j,y,u,p=d.lines.show,m=d.bars.horizontal,_=f>2&&(m?c.format[2].x:c.format[2].y),x=p&&d.lines.steps,O=!0,I=m?1:0,P=m?0:1,D=0,V=0,q,z;!(D>=v.length);){if(q=k.length,v[D]==null){for(z=0;z<f;++z)k.push(v[D+z]);D+=f}else if(V>=w.length){if(!p)for(z=0;z<f;++z)k.push(v[D+z]);D+=f}else if(w[V]==null){for(z=0;z<f;++z)k.push(null);O=!0,V+=b}else{if(C=v[D+I],E=v[D+P],j=w[V+I],y=w[V+P],u=0,C==j){for(z=0;z<f;++z)k.push(v[D+z]);k[q+P]+=y,u=y,D+=f,V+=b}else if(C>j){if(p&&D>0&&v[D-f]!=null){for(A=E+(v[D-f+P]-E)*(j-C)/(v[D-f+I]-C),k.push(j),k.push(A+y),z=2;z<f;++z)k.push(v[D+z]);u=y}V+=b}else{if(O&&p){D+=f;continue}for(z=0;z<f;++z)k.push(v[D+z]);p&&V>0&&w[V-b]!=null&&(u=y+(w[V-b+P]-y)*(C-j)/(w[V-b+I]-j)),k[q+P]+=u,D+=f}O=!1,q!=k.length&&_&&(k[q+2]+=u)}if(x&&q!=k.length&&q>0&&k[q]!=null&&k[q]!=k[q-f]&&k[q+1]!=k[q-f+1]){for(z=0;z<f;++z)k[q+f+z]=k[q+z];k[q+1]=k[q-f+1]}}c.points=k}}}l.hooks.processDatapoints.push(s)},n={series:{stack:null}};t.plot.plugins.push({init:e,options:n,name:"stack",version:"1.2"})})(jQuery)}),rm={},E6(rm,{default:function(){return om}}),P6=tm(nm()),T6(rm,tm(nm()));var g;tr=P6,g=tr,im=g.default,I6=Bi(tr,["default"]),om=im!==void 0?im:I6}}),L6={};wi(L6,{default:function(){return om}});var eP=Ht({"https-url:https://esm.archive.org/flot@%5E0.8.0/jquery.flot.stack.js":function(){M6(),M6()}}),Yo,R6,rh,D6,$6,N6,B6,z6,F6,H6,ih,U6,am,sm,lm,V6,tr,um,W6,cm,q6=Ht({"https-url:https://esm.archive.org/v135/tablesorter@2.32.0/X-ZC9qcXVlcnlAMy42LjE/esnext/tablesorter.mjs":function(){Td(),Yo=function(t){var e=function(o){return _typeof(o.default)<"u"?o.default:o},n=function(o){return Object.assign({},o)};switch(t){case"jquery":return e(Fx);default:throw new Error('module "'+t+'" not found')}},R6=Object.create,rh=Object.defineProperty,D6=Object.getOwnPropertyDescriptor,$6=Object.getOwnPropertyNames,N6=Object.getPrototypeOf,B6=Object.prototype.hasOwnProperty,z6=function(t){return(typeof Yo=="undefined"?"undefined":_typeof(Yo))<"u"?Yo:(typeof Proxy=="undefined"?"undefined":_typeof(Proxy))<"u"?new Proxy(t,{get:function(e,n){return((typeof Yo=="undefined"?"undefined":_typeof(Yo))<"u"?Yo:e)[n]}}):t}(function(t){if((typeof Yo=="undefined"?"undefined":_typeof(Yo))<"u")return Yo.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')}),F6=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},H6=function(t,e){for(var n in e)rh(t,n,{get:e[n],enumerable:!0})},ih=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!B6.call(t,v)&&v!==n&&rh(t,v,{get:function(){return e[v]},enumerable:!(o=D6(e,v))||o.enumerable})},d=$6(e)[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0)r(d,c)}catch(h){a=!0,s=h}finally{try{!l&&d.return!=null&&d.return()}finally{if(a)throw s}}return t},U6=function(t,e,n){return ih(t,e,"default"),n&&ih(n,e,"default")},am=function(t,e,n){return n=t!=null?R6(N6(t)):{},ih(e||!t||!t.__esModule?rh(n,"default",{value:t,enumerable:!0}):n,t)},sm=F6(function(t,e){(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof e=="object"&&typeof e.exports=="object"?e.exports=n(z6("jquery")):n(jQuery)})(function(n){return function(o){"use strict";var l=o.tablesorter={version:"2.32.0",parsers:[],widgets:[],defaults:{theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,resort:!0,headers:null,ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",duplicateSpan:!0,textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,initWidgets:!0,widgetClass:"widget-{name}",widgets:[],widgetOptions:{zebra:["even","odd"]},initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssInfoBlock:"tablesorter-infoOnly",cssNoSort:"tablesorter-noSort",cssIgnoreRow:"tablesorter-ignoreRow",cssIcon:"tablesorter-icon",cssIconNone:"",cssIconAsc:"",cssIconDesc:"",cssIconDisabled:"",pointerClick:"click",pointerDown:"mousedown",pointerUp:"mouseup",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[],globalize:0,imgAttr:0},css:{table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",colgroup:"tablesorter-colgroup",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},language:{sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",sortDisabled:"sorting is disabled",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},regex:{templateContent:/\{content\}/g,templateIcon:/\{icon\}/g,templateName:/\{name\}/i,spaces:/\s+/g,nonWord:/\W/g,formElements:/(input|select|button|textarea)/i,chunk:/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i,comma:/,/g,digitNonUS:/[\s|\.]/g,digitNegativeTest:/^\s*\([.\d]+\)/,digitNegativeReplace:/^\s*\(([.\d]+)\)/,digitTest:/^[\-+(]?\d+[)]?$/,digitReplace:/[,.'"\s]/g},string:{max:1,min:-1,emptymin:1,emptymax:-1,zero:0,none:0,null:0,top:!0,bottom:!1},keyCodes:{enter:13},dates:{},instanceMethods:{},setup:function(s,r){if(!s||!s.tHead||s.tBodies.length===0||s.hasInitialized===!0){l.debug(r,"core")&&(s.hasInitialized?console.warn("Stopping initialization. Tablesorter has already been initialized"):console.error("Stopping initialization! No table, thead or tbody",s));return}var d="",c=o(s),h=o.metadata;s.hasInitialized=!1,s.isProcessing=!0,s.config=r,o.data(s,"tablesorter",r),l.debug(r,"core")&&(console[console.group?"group":"log"]("Initializing tablesorter v"+l.version),o.data(s,"startoveralltimer",new Date)),r.supportsDataObject=function(f){return f[0]=parseInt(f[0],10),f[0]>1||f[0]===1&&parseInt(f[1],10)>=4}(o.fn.jquery.split(".")),r.emptyTo=r.emptyTo.toLowerCase(),r.stringTo=r.stringTo.toLowerCase(),r.last={sortList:[],clickedIndex:-1},/tablesorter\-/.test(c.attr("class"))||(d=r.theme!==""?" tablesorter-"+r.theme:""),r.namespace?r.namespace="."+r.namespace.replace(l.regex.nonWord,""):r.namespace=".tablesorter"+Math.random().toString(16).slice(2),r.table=s,r.$table=c.addClass(l.css.table+" "+r.tableClass+d+" "+r.namespace.slice(1)).attr("role","grid"),r.$headers=c.find(r.selectorHeaders),r.$table.children().children("tr").attr("role","row"),r.$tbodies=c.children("tbody:not(."+r.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),r.$table.children("caption").length&&(d=r.$table.children("caption")[0],d.id||(d.id=r.namespace.slice(1)+"caption"),r.$table.attr("aria-labelledby",d.id)),r.widgetInit={},r.textExtraction=r.$table.attr("data-text-extraction")||r.textExtraction||"basic",l.buildHeaders(r),l.fixColumnWidth(s),l.addWidgetFromClass(s),l.applyWidgetOptions(s),l.setupParsers(r),r.totalRows=0,r.debug&&l.validateOptions(r),r.delayInit||l.buildCache(r),l.bindEvents(s,r.$headers,!0),l.bindMethods(r),r.supportsDataObject&&_typeof(c.data().sortlist)<"u"?r.sortList=c.data().sortlist:h&&c.metadata()&&c.metadata().sortlist&&(r.sortList=c.metadata().sortlist),l.applyWidget(s,!0),r.sortList.length>0?(r.last.sortList=r.sortList,l.sortOn(r,r.sortList,{},!r.initWidgets)):(l.setHeadersCss(r),r.initWidgets&&l.applyWidget(s,!1)),r.showProcessing&&c.unbind("sortBegin"+r.namespace+" sortEnd"+r.namespace).bind("sortBegin"+r.namespace+" sortEnd"+r.namespace,function(f){clearTimeout(r.timerProcessing),l.isProcessing(s),f.type==="sortBegin"&&(r.timerProcessing=setTimeout(function(){l.isProcessing(s,!0)},500))}),s.hasInitialized=!0,s.isProcessing=!1,l.debug(r,"core")&&(console.log("Overall initialization time:"+l.benchmark(o.data(s,"startoveralltimer"))),l.debug(r,"core")&&console.groupEnd&&console.groupEnd()),c.triggerHandler("tablesorter-initialized",s),typeof r.initialized=="function"&&r.initialized(s)},bindMethods:function(s){var r=s.$table,d=s.namespace,c="sortReset update updateRows updateAll updateHeaders addRows updateCell updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(d+" ");r.unbind(c.replace(l.regex.spaces," ")).bind("sortReset"+d,function(h,f){h.stopPropagation(),l.sortReset(this.config,function(v){v.isApplyingWidgets?setTimeout(function(){l.applyWidget(v,"",f)},100):l.applyWidget(v,"",f)})}).bind("updateAll"+d,function(h,f,v){h.stopPropagation(),l.updateAll(this.config,f,v)}).bind("update"+d+" updateRows"+d,function(h,f,v){h.stopPropagation(),l.update(this.config,f,v)}).bind("updateHeaders"+d,function(h,f){h.stopPropagation(),l.updateHeaders(this.config,f)}).bind("updateCell"+d,function(h,f,v,b){h.stopPropagation(),l.updateCell(this.config,f,v,b)}).bind("addRows"+d,function(h,f,v,b){h.stopPropagation(),l.addRows(this.config,f,v,b)}).bind("updateComplete"+d,function(){this.isUpdating=!1}).bind("sorton"+d,function(h,f,v,b){h.stopPropagation(),l.sortOn(this.config,f,v,b)}).bind("appendCache"+d,function(h,f,v){h.stopPropagation(),l.appendCache(this.config,v),o.isFunction(f)&&f(this)}).bind("updateCache"+d,function(h,f,v){h.stopPropagation(),l.updateCache(this.config,f,v)}).bind("applyWidgetId"+d,function(h,f){h.stopPropagation(),l.applyWidgetId(this,f)}).bind("applyWidgets"+d,function(h,f){h.stopPropagation(),l.applyWidget(this,!1,f)}).bind("refreshWidgets"+d,function(h,f,v){h.stopPropagation(),l.refreshWidgets(this,f,v)}).bind("removeWidget"+d,function(h,f,v){h.stopPropagation(),l.removeWidget(this,f,v)}).bind("destroy"+d,function(h,f,v){h.stopPropagation(),l.destroy(this,f,v)}).bind("resetToLoadState"+d,function(h){h.stopPropagation(),l.removeWidget(this,!0,!1);var f=o.extend(!0,{},s.originalSettings);s=o.extend(!0,{},l.defaults,f),s.originalSettings=f,this.hasInitialized=!1,l.setup(this,s)})},bindEvents:function(s,r,d){s=o(s)[0];var c,h=s.config,f=h.namespace,v=null;d!==!0&&(r.addClass(f.slice(1)+"_extra_headers"),c=l.getClosest(r,"table"),c.length&&c[0].nodeName==="TABLE"&&c[0]!==s&&o(c[0]).addClass(f.slice(1)+"_extra_table")),c=(h.pointerDown+" "+h.pointerUp+" "+h.pointerClick+" sort keyup ").replace(l.regex.spaces," ").split(" ").join(f+" "),r.find(h.selectorSort).add(r.filter(h.selectorSort)).unbind(c).bind(c,function(b,w){var k,C,E,A=o(b.target),j=" "+b.type+" ";if(!((b.which||b.button)!==1&&!j.match(" "+h.pointerClick+" | sort | keyup ")||j===" keyup "&&b.which!==l.keyCodes.enter||j.match(" "+h.pointerClick+" ")&&_typeof(b.which)<"u")&&!(j.match(" "+h.pointerUp+" ")&&v!==b.target&&w!==!0)){if(j.match(" "+h.pointerDown+" ")){v=b.target,E=A.jquery.split("."),E[0]==="1"&&E[1]<4&&b.preventDefault();return}if(v=null,k=l.getClosest(o(this),"."+l.css.header),l.regex.formElements.test(b.target.nodeName)||A.hasClass(h.cssNoSort)||A.parents("."+h.cssNoSort).length>0||k.hasClass("sorter-false")||A.parents("button").length>0)return!h.cancelSelection;h.delayInit&&l.isEmptyObject(h.cache)&&l.buildCache(h),h.last.clickedIndex=k.attr("data-column")||k.index(),C=h.$headerIndexed[h.last.clickedIndex][0],C&&!C.sortDisabled&&l.initSort(h,C,b)}}),h.cancelSelection&&r.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})},buildHeaders:function(s){var r,d,c,h;for(s.headerList=[],s.headerContent=[],s.sortVars=[],l.debug(s,"core")&&(c=new Date),s.columns=l.computeColumnIndex(s.$table.children("thead, tfoot").children("tr")),d=s.cssIcon?'<i class="'+(s.cssIcon===l.css.icon?l.css.icon:s.cssIcon+" "+l.css.icon)+'"></i>':"",s.$headers=o(o.map(s.$table.find(s.selectorHeaders),function(f,v){var b,w,k,C,E,A=o(f);if(!l.getClosest(A,"tr").hasClass(s.cssIgnoreRow))return/(th|td)/i.test(f.nodeName)||(E=l.getClosest(A,"th, td"),A.attr("data-column",E.attr("data-column"))),b=l.getColumnData(s.table,s.headers,v,!0),s.headerContent[v]=A.html(),s.headerTemplate!==""&&!A.find("."+l.css.headerIn).length&&(C=s.headerTemplate.replace(l.regex.templateContent,A.html()).replace(l.regex.templateIcon,A.find("."+l.css.icon).length?"":d),s.onRenderTemplate&&(w=s.onRenderTemplate.apply(A,[v,C]),w&&typeof w=="string"&&(C=w)),A.html('<div class="'+l.css.headerIn+'">'+C+"</div>")),s.onRenderHeader&&s.onRenderHeader.apply(A,[v,s,s.$table]),k=parseInt(A.attr("data-column"),10),f.column=k,E=l.getOrder(l.getData(A,b,"sortInitialOrder")||s.sortInitialOrder),s.sortVars[k]={count:-1,order:E?s.sortReset?[1,0,2]:[1,0]:s.sortReset?[0,1,2]:[0,1],lockedOrder:!1,sortedBy:""},E=l.getData(A,b,"lockedOrder")||!1,(typeof E=="undefined"?"undefined":_typeof(E))<"u"&&E!==!1&&(s.sortVars[k].lockedOrder=!0,s.sortVars[k].order=l.getOrder(E)?[1,1]:[0,0]),s.headerList[v]=f,A.addClass(l.css.header+" "+s.cssHeader),l.getClosest(A,"tr").addClass(l.css.headerRow+" "+s.cssHeaderRow).attr("role","row"),s.tabIndex&&A.attr("tabindex",0),f})),s.$headerIndexed=[],h=0;h<s.columns;h++)l.isEmptyObject(s.sortVars[h])&&(s.sortVars[h]={}),r=s.$headers.filter('[data-column="'+h+'"]'),s.$headerIndexed[h]=r.length?r.not(".sorter-false").length?r.not(".sorter-false").filter(":last"):r.filter(":last"):o();s.$table.find(s.selectorHeaders).attr({scope:"col",role:"columnheader"}),l.updateHeader(s),l.debug(s,"core")&&(console.log("Built headers:"+l.benchmark(c)),console.log(s.$headers))},addInstanceMethods:function(s){o.extend(l.instanceMethods,s)},setupParsers:function(s,r){var d,c,h,f,v,b,w,k,C,E,A,j,y,u,p=s.table,m=0,_=l.debug(s,"core"),x={};if(s.$tbodies=s.$table.children("tbody:not(."+s.cssInfoBlock+")"),y=(typeof r=="undefined"?"undefined":_typeof(r))>"u"?s.$tbodies:r,u=y.length,u===0)return _?console.warn("Warning: *Empty table!* Not building a parser cache"):"";for(_&&(j=new Date,console[console.group?"group":"log"]("Detecting parsers for each column")),c={extractors:[],parsers:[]};m<u;){if(d=y[m].rows,d.length)for(v=0,f=s.columns,b=0;b<f;b++){if(w=s.$headerIndexed[v],w&&w.length&&(k=l.getColumnData(p,s.headers,v),A=l.getParserById(l.getData(w,k,"extractor")),E=l.getParserById(l.getData(w,k,"sorter")),C=l.getData(w,k,"parser")==="false",s.empties[v]=(l.getData(w,k,"empty")||s.emptyTo||(s.emptyToBottom?"bottom":"top")).toLowerCase(),s.strings[v]=(l.getData(w,k,"string")||s.stringTo||"max").toLowerCase(),C&&(E=l.getParserById("no-parser")),A||(A=!1),E||(E=l.detectParserForColumn(s,d,-1,v)),_&&(x["("+v+") "+w.text()]={parser:E.id,extractor:A?A.id:"none",string:s.strings[v],empty:s.empties[v]}),c.parsers[v]=E,c.extractors[v]=A,h=w[0].colSpan-1,h>0))for(v+=h,f+=h;h+1>0;)c.parsers[v-h]=E,c.extractors[v-h]=A,h--;v++}m+=c.parsers.length?u:1}_&&(l.isEmptyObject(x)?console.warn("  No parsers detected!"):console[console.table?"table":"log"](x),console.log("Completed detecting parsers"+l.benchmark(j)),console.groupEnd&&console.groupEnd()),s.parsers=c.parsers,s.extractors=c.extractors},addParser:function(s){var r,d=l.parsers.length,c=!0;for(r=0;r<d;r++)l.parsers[r].id.toLowerCase()===s.id.toLowerCase()&&(c=!1);c&&(l.parsers[l.parsers.length]=s)},getParserById:function(s){if(s=="false")return!1;var r,d=l.parsers.length;for(r=0;r<d;r++)if(l.parsers[r].id.toLowerCase()===s.toString().toLowerCase())return l.parsers[r];return!1},detectParserForColumn:function(s,r,d,c){for(var h,f,v,b=l.parsers.length,w=!1,k="",C=l.debug(s,"core"),E=!0;k===""&&E;)d++,v=r[d],v&&d<50?v.className.indexOf(l.cssIgnoreRow)<0&&(w=r[d].cells[c],k=l.getElementText(s,w,c),f=o(w),C&&console.log("Checking if value was empty on row "+d+", column: "+c+': "'+k+'"')):E=!1;for(;--b>=0;)if(h=l.parsers[b],h&&h.id!=="text"&&h.is&&h.is(k,s.table,w,f))return h;return l.getParserById("text")},getElementText:function(s,r,d){if(!r)return"";var c,h=s.textExtraction||"",f=r.jquery?r:o(r);return typeof h=="string"?h==="basic"&&_typeof(c=f.attr(s.textAttribute))<"u"?o.trim(c):o.trim(r.textContent||f.text()):typeof h=="function"?o.trim(h(f[0],s.table,d)):typeof(c=l.getColumnData(s.table,h,d))=="function"?o.trim(c(f[0],s.table,d)):o.trim(f[0].textContent||f.text())},getParsedText:function(s,r,d,c){(typeof c=="undefined"?"undefined":_typeof(c))>"u"&&(c=l.getElementText(s,r,d));var h=""+c,f=s.parsers[d],v=s.extractors[d];return f&&(v&&typeof v.format=="function"&&(c=v.format(c,s.table,r,d)),h=f.id==="no-parser"?"":f.format(""+c,s.table,r,d),s.ignoreCase&&typeof h=="string"&&(h=h.toLowerCase())),h},buildCache:function(s,r,d){var c,h,f,v,b,w,k,C,E,A,j,y,u,p,m,_,x,O,I,P,D,V,q=s.table,z=s.parsers,he=l.debug(s,"core");if(s.$tbodies=s.$table.children("tbody:not(."+s.cssInfoBlock+")"),k=(typeof d=="undefined"?"undefined":_typeof(d))>"u"?s.$tbodies:d,s.cache={},s.totalRows=0,!z)return he?console.warn("Warning: *Empty table!* Not building a cache"):"";for(he&&(y=new Date),s.showProcessing&&l.isProcessing(q,!0),w=0;w<k.length;w++){for(_=[],c=s.cache[w]={normalized:[]},u=k[w]&&k[w].rows.length||0,v=0;v<u;++v)if(p={child:[],raw:[]},C=o(k[w].rows[v]),E=[],!C.hasClass(s.selectorRemove.slice(1))){if(C.hasClass(s.cssChildRow)&&v!==0){for(D=c.normalized.length-1,m=c.normalized[D][s.columns],m.$row=m.$row.add(C),C.prev().hasClass(s.cssChildRow)||C.prev().addClass(l.css.cssHasChild),A=C.children("th, td"),D=m.child.length,m.child[D]=[],O=0,P=s.columns,b=0;b<P;b++)j=A[b],j&&(m.child[D][b]=l.getParsedText(s,j,b),x=A[b].colSpan-1,x>0&&(O+=x,P+=x)),O++;continue}for(p.$row=C,p.order=v,O=0,P=s.columns,b=0;b<P;++b){if(j=C[0].cells[b],j&&O<s.columns&&(I=_typeof(z[O])<"u",!I&&he&&console.warn("No parser found for row: "+v+", column: "+b+'; cell containing: "'+o(j).text()+'"; does it have a header?'),h=l.getElementText(s,j,O),p.raw[O]=h,f=l.getParsedText(s,j,O,h),E[O]=f,I&&(z[O].type||"").toLowerCase()==="numeric"&&(_[O]=Math.max(Math.abs(f)||0,_[O]||0)),x=j.colSpan-1,x>0)){for(V=0;V<=x;)f=s.duplicateSpan||V===0?f:typeof s.textExtraction!="string"&&l.getElementText(s,j,O+V)||"",p.raw[O+V]=f,E[O+V]=f,V++;O+=x,P+=x}O++}E[s.columns]=p,c.normalized[c.normalized.length]=E}c.colMax=_,s.totalRows+=c.normalized.length}if(s.showProcessing&&l.isProcessing(q),he){for(D=Math.min(5,s.cache[0].normalized.length),console[console.group?"group":"log"]("Building cache for "+s.totalRows+" rows (showing "+D+" rows in log) and "+s.columns+" columns"+l.benchmark(y)),h={},b=0;b<s.columns;b++)for(O=0;O<D;O++)h["row: "+O]||(h["row: "+O]={}),h["row: "+O][s.$headerIndexed[b].text()]=s.cache[0].normalized[O][b];console[console.table?"table":"log"](h),console.groupEnd&&console.groupEnd()}o.isFunction(r)&&r(q)},getColumnText:function(s,r,d,c){s=o(s)[0];var h,f,v,b,w,k,C,E,A,j,y=typeof d=="function",u=r==="all",p={raw:[],parsed:[],$cell:[]},m=s.config;if(l.isEmptyObject(m))l.debug(m,"core")&&console.warn("No cache found - aborting getColumnText function!");else{for(w=m.$tbodies.length,h=0;h<w;h++)for(v=m.cache[h].normalized,k=v.length,f=0;f<k;f++)b=v[f],!(c&&!b[m.columns].$row.is(c))&&(j=!0,E=u?b.slice(0,m.columns):b[r],b=b[m.columns],C=u?b.raw:b.raw[r],A=u?b.$row.children():b.$row.children().eq(r),y&&(j=d({tbodyIndex:h,rowIndex:f,parsed:E,raw:C,$row:b.$row,$cell:A})),j!==!1&&(p.parsed[p.parsed.length]=E,p.raw[p.raw.length]=C,p.$cell[p.$cell.length]=A));return p}},setHeadersCss:function(s){var r,d,c=s.sortList,h=c.length,f=l.css.sortNone+" "+s.cssNone,v=[l.css.sortAsc+" "+s.cssAsc,l.css.sortDesc+" "+s.cssDesc],b=[s.cssIconAsc,s.cssIconDesc,s.cssIconNone],w=["ascending","descending"],k=function(j,y){j.removeClass(f).addClass(v[y]).attr("aria-sort",w[y]).find("."+l.css.icon).removeClass(b[2]).addClass(b[y])},C=s.$table.find("tfoot tr").children("td, th").add(o(s.namespace+"_extra_headers")).removeClass(v.join(" ")),E=s.$headers.add(o("thead "+s.namespace+"_extra_headers")).removeClass(v.join(" ")).addClass(f).attr("aria-sort","none").find("."+l.css.icon).removeClass(b.join(" ")).end();for(E.not(".sorter-false").find("."+l.css.icon).addClass(b[2]),s.cssIconDisabled&&E.filter(".sorter-false").find("."+l.css.icon).addClass(s.cssIconDisabled),r=0;r<h;r++)if(c[r][1]!==2){if(E=s.$headers.filter(function(A){for(var j=!0,y=s.$headers.eq(A),u=parseInt(y.attr("data-column"),10),p=u+l.getClosest(y,"th, td")[0].colSpan;u<p;u++)j=j?j||l.isValueInArray(u,s.sortList)>-1:!1;return j}),E=E.not(".sorter-false").filter('[data-column="'+c[r][0]+'"]'+(h===1?":last":"")),E.length)for(d=0;d<E.length;d++)E[d].sortDisabled||k(E.eq(d),c[r][1]);C.length&&k(C.filter('[data-column="'+c[r][0]+'"]'),c[r][1])}for(h=s.$headers.length,r=0;r<h;r++)l.setColumnAriaLabel(s,s.$headers.eq(r))},getClosest:function(s,r){return o.fn.closest?s.closest(r):s.is(r)?s:s.parents(r).filter(":first")},setColumnAriaLabel:function(s,r,d){if(r.length){var c=parseInt(r.attr("data-column"),10),h=s.sortVars[c],f=r.hasClass(l.css.sortAsc)?"sortAsc":r.hasClass(l.css.sortDesc)?"sortDesc":"sortNone",v=o.trim(r.text())+": "+l.language[f];r.hasClass("sorter-false")||d===!1?v+=l.language.sortDisabled:(f=(h.count+1)%h.order.length,d=h.order[f],v+=l.language[d===0?"nextAsc":d===1?"nextDesc":"nextNone"]),r.attr("aria-label",v),h.sortedBy?r.attr("data-sortedBy",h.sortedBy):r.removeAttr("data-sortedBy")}},updateHeader:function(s){var r,d,c,h,f=s.table,v=s.$headers.length;for(r=0;r<v;r++)c=s.$headers.eq(r),h=l.getColumnData(f,s.headers,r,!0),d=l.getData(c,h,"sorter")==="false"||l.getData(c,h,"parser")==="false",l.setColumnSort(s,c,d)},setColumnSort:function(s,r,d){var c=s.table.id;r[0].sortDisabled=d,r[d?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+d),s.tabIndex&&(d?r.removeAttr("tabindex"):r.attr("tabindex","0")),c&&(d?r.removeAttr("aria-controls"):r.attr("aria-controls",c))},updateHeaderSortCount:function(s,r){var d,c,h,f,v,b,w,k,C=r||s.sortList,E=C.length;for(s.sortList=[],f=0;f<E;f++)if(w=C[f],d=parseInt(w[0],10),d<s.columns){switch(s.sortVars[d].order||(l.getOrder(s.sortInitialOrder)?k=s.sortReset?[1,0,2]:[1,0]:k=s.sortReset?[0,1,2]:[0,1],s.sortVars[d].order=k,s.sortVars[d].count=0),k=s.sortVars[d].order,c=(""+w[1]).match(/^(1|d|s|o|n)/),c=c?c[0]:"",c){case"1":case"d":c=1;break;case"s":c=v||0;break;case"o":b=k[(v||0)%k.length],c=b===0?1:b===1?0:2;break;case"n":c=k[++s.sortVars[d].count%k.length];break;default:c=0;break}v=f===0?c:v,h=[d,parseInt(c,10)||0],s.sortList[s.sortList.length]=h,c=o.inArray(h[1],k),s.sortVars[d].count=c>=0?c:h[1]%k.length}},updateAll:function(s,r,d){var c=s.table;c.isUpdating=!0,l.refreshWidgets(c,!0,!0),l.buildHeaders(s),l.bindEvents(c,s.$headers,!0),l.bindMethods(s),l.commonUpdate(s,r,d)},update:function(s,r,d){var c=s.table;c.isUpdating=!0,l.updateHeader(s),l.commonUpdate(s,r,d)},updateHeaders:function(s,r){s.table.isUpdating=!0,l.buildHeaders(s),l.bindEvents(s.table,s.$headers,!0),l.resortComplete(s,r)},updateCell:function(s,r,d,c){if(o(r).closest("tr").hasClass(s.cssChildRow)){console.warn('Tablesorter Warning! "updateCell" for child row content has been disabled, use "update" instead');return}if(l.isEmptyObject(s.cache)){l.updateHeader(s),l.commonUpdate(s,d,c);return}s.table.isUpdating=!0,s.$table.find(s.selectorRemove).remove();var h,f,v,b,w,k,C=s.$tbodies,E=o(r),A=C.index(l.getClosest(E,"tbody")),j=s.cache[A],y=l.getClosest(E,"tr");if(r=E[0],C.length&&A>=0){if(v=C.eq(A).find("tr").not("."+s.cssChildRow).index(y),w=j.normalized[v],k=y[0].cells.length,k!==s.columns)for(b=0,h=!1,f=0;f<k;f++)!h&&y[0].cells[f]!==r?b+=y[0].cells[f].colSpan:h=!0;else b=E.index();h=l.getElementText(s,r,b),w[s.columns].raw[b]=h,h=l.getParsedText(s,r,b,h),w[b]=h,(s.parsers[b].type||"").toLowerCase()==="numeric"&&(j.colMax[b]=Math.max(Math.abs(h)||0,j.colMax[b]||0)),h=d!=="undefined"?d:s.resort,h!==!1?l.checkResort(s,h,c):l.resortComplete(s,c)}else l.debug(s,"core")&&console.error("updateCell aborted, tbody missing or not within the indicated table"),s.table.isUpdating=!1},addRows:function(s,r,d,c){var h,f,v,b,w,k,C,E,A,j,y,u,p,m=typeof r=="string"&&s.$tbodies.length===1&&/<tr/.test(r||""),_=s.table;if(m)r=o(r),s.$tbodies.append(r);else if(!r||!_instanceof(r,o)||l.getClosest(r,"table")[0]!==s.table)return l.debug(s,"core")&&console.error("addRows method requires (1) a jQuery selector reference to rows that have already been added to the table, or (2) row HTML string to be added to a table with only one tbody"),!1;if(_.isUpdating=!0,l.isEmptyObject(s.cache))l.updateHeader(s),l.commonUpdate(s,d,c);else{for(w=r.filter("tr").attr("role","row").length,v=s.$tbodies.index(r.parents("tbody").filter(":first")),s.parsers&&s.parsers.length||l.setupParsers(s),b=0;b<w;b++){for(A=0,C=r[b].cells.length,E=s.cache[v].normalized.length,y=[],j={child:[],raw:[],$row:r.eq(b),order:E},k=0;k<C;k++)u=r[b].cells[k],h=l.getElementText(s,u,A),j.raw[A]=h,f=l.getParsedText(s,u,A,h),y[A]=f,(s.parsers[A].type||"").toLowerCase()==="numeric"&&(s.cache[v].colMax[A]=Math.max(Math.abs(f)||0,s.cache[v].colMax[A]||0)),p=u.colSpan-1,p>0&&(A+=p),A++;y[s.columns]=j,s.cache[v].normalized[E]=y}l.checkResort(s,d,c)}},updateCache:function(s,r,d){s.parsers&&s.parsers.length||l.setupParsers(s,d),l.buildCache(s,r,d)},appendCache:function(s,r){var d,c,h,f,v,b,w,k=s.table,C=s.$tbodies,E=[],A=s.cache;if(l.isEmptyObject(A))return s.appender?s.appender(k,E):k.isUpdating?s.$table.triggerHandler("updateComplete",k):"";for(l.debug(s,"core")&&(w=new Date),b=0;b<C.length;b++)if(h=C.eq(b),h.length){for(f=l.processTbody(k,h,!0),d=A[b].normalized,c=d.length,v=0;v<c;v++)E[E.length]=d[v][s.columns].$row,(!s.appender||s.pager&&!s.pager.removeRows&&!s.pager.ajax)&&f.append(d[v][s.columns].$row);l.processTbody(k,f,!1)}s.appender&&s.appender(k,E),l.debug(s,"core")&&console.log("Rebuilt table"+l.benchmark(w)),!r&&!s.appender&&l.applyWidget(k),k.isUpdating&&s.$table.triggerHandler("updateComplete",k)},commonUpdate:function(s,r,d){s.$table.find(s.selectorRemove).remove(),l.setupParsers(s),l.buildCache(s),l.checkResort(s,r,d)},initSort:function(s,r,d){if(s.table.isUpdating)return setTimeout(function(){l.initSort(s,r,d)},50);var c,h,f,v,b,w,k,C=!d[s.sortMultiSortKey],E=s.table,A=s.$headers.length,j=l.getClosest(o(r),"th, td"),y=parseInt(j.attr("data-column"),10),u=d.type==="mouseup"?"user":d.type,p=s.sortVars[y].order;if(j=j[0],s.$table.triggerHandler("sortStart",E),w=(s.sortVars[y].count+1)%p.length,s.sortVars[y].count=d[s.sortResetKey]?2:w,s.sortRestart)for(f=0;f<A;f++)k=s.$headers.eq(f),w=parseInt(k.attr("data-column"),10),y!==w&&(C||k.hasClass(l.css.sortNone))&&(s.sortVars[w].count=-1);if(C){if(o.each(s.sortVars,function(m){s.sortVars[m].sortedBy=""}),s.sortList=[],s.last.sortList=[],s.sortForce!==null)for(c=s.sortForce,h=0;h<c.length;h++)c[h][0]!==y&&(s.sortList[s.sortList.length]=c[h],s.sortVars[c[h][0]].sortedBy="sortForce");if(v=p[s.sortVars[y].count],v<2&&(s.sortList[s.sortList.length]=[y,v],s.sortVars[y].sortedBy=u,j.colSpan>1))for(h=1;h<j.colSpan;h++)s.sortList[s.sortList.length]=[y+h,v],s.sortVars[y+h].count=o.inArray(v,p),s.sortVars[y+h].sortedBy=u}else if(s.sortList=o.extend([],s.last.sortList),l.isValueInArray(y,s.sortList)>=0)for(s.sortVars[y].sortedBy=u,h=0;h<s.sortList.length;h++)w=s.sortList[h],w[0]===y&&(w[1]=p[s.sortVars[y].count],w[1]===2&&(s.sortList.splice(h,1),s.sortVars[y].count=-1));else if(v=p[s.sortVars[y].count],s.sortVars[y].sortedBy=u,v<2&&(s.sortList[s.sortList.length]=[y,v],j.colSpan>1))for(h=1;h<j.colSpan;h++)s.sortList[s.sortList.length]=[y+h,v],s.sortVars[y+h].count=o.inArray(v,p),s.sortVars[y+h].sortedBy=u;if(s.last.sortList=o.extend([],s.sortList),s.sortList.length&&s.sortAppend&&(c=o.isArray(s.sortAppend)?s.sortAppend:s.sortAppend[s.sortList[0][0]],!l.isEmptyObject(c))){for(h=0;h<c.length;h++)if(c[h][0]!==y&&l.isValueInArray(c[h][0],s.sortList)<0){if(v=c[h][1],b=(""+v).match(/^(a|d|s|o|n)/),b)switch(w=s.sortList[0][1],b[0]){case"d":v=1;break;case"s":v=w;break;case"o":v=w===0?1:0;break;case"n":v=(w+1)%p.length;break;default:v=0;break}s.sortList[s.sortList.length]=[c[h][0],v],s.sortVars[c[h][0]].sortedBy="sortAppend"}}s.$table.triggerHandler("sortBegin",E),setTimeout(function(){l.setHeadersCss(s),l.multisort(s),l.appendCache(s),s.$table.triggerHandler("sortBeforeEnd",E),s.$table.triggerHandler("sortEnd",E)},1)},multisort:function(s){var r,d,c,h,f,v=s.table,b=[],w=0,k=s.textSorter||"",C=s.sortList,E=C.length,A=s.$tbodies.length;if(!(s.serverSideSorting||l.isEmptyObject(s.cache))){if(l.debug(s,"core")&&(d=new Date),typeof k=="object")for(c=s.columns;c--;)f=l.getColumnData(v,k,c),typeof f=="function"&&(b[c]=f);for(r=0;r<A;r++)c=s.cache[r].colMax,h=s.cache[r].normalized,h.sort(function(j,y){var u,p,m,_,x,O,I;for(u=0;u<E;u++){if(m=C[u][0],_=C[u][1],w=_===0,s.sortStable&&j[m]===y[m]&&E===1)return j[s.columns].order-y[s.columns].order;if(p=/n/i.test(l.getSortType(s.parsers,m)),p&&s.strings[m]?(typeof l.string[s.strings[m]]=="boolean"?p=(w?1:-1)*(l.string[s.strings[m]]?-1:1):p=s.strings[m]&&l.string[s.strings[m]]||0,x=s.numberSorter?s.numberSorter(j[m],y[m],w,c[m],v):l["sortNumeric"+(w?"Asc":"Desc")](j[m],y[m],p,c[m],m,s)):(O=w?j:y,I=w?y:j,typeof k=="function"?x=k(O[m],I[m],w,m,v):typeof b[m]=="function"?x=b[m](O[m],I[m],w,m,v):x=l["sortNatural"+(w?"Asc":"Desc")](j[m]||"",y[m]||"",m,s)),x)return x}return j[s.columns].order-y[s.columns].order});l.debug(s,"core")&&console.log("Applying sort "+C.toString()+l.benchmark(d))}},resortComplete:function(s,r){s.table.isUpdating&&s.$table.triggerHandler("updateComplete",s.table),o.isFunction(r)&&r(s.table)},checkResort:function(s,r,d){var c=o.isArray(r)?r:s.sortList,h=(typeof r=="undefined"?"undefined":_typeof(r))>"u"?s.resort:r;h!==!1&&!s.serverSideSorting&&!s.table.isProcessing?c.length?l.sortOn(s,c,function(){l.resortComplete(s,d)},!0):l.sortReset(s,function(){l.resortComplete(s,d),l.applyWidget(s.table,!1)}):(l.resortComplete(s,d),l.applyWidget(s.table,!1))},sortOn:function(s,r,d,c){var h,f=s.table;for(s.$table.triggerHandler("sortStart",f),h=0;h<s.columns;h++)s.sortVars[h].sortedBy=l.isValueInArray(h,r)>-1?"sorton":"";l.updateHeaderSortCount(s,r),l.setHeadersCss(s),s.delayInit&&l.isEmptyObject(s.cache)&&l.buildCache(s),s.$table.triggerHandler("sortBegin",f),l.multisort(s),l.appendCache(s,c),s.$table.triggerHandler("sortBeforeEnd",f),s.$table.triggerHandler("sortEnd",f),l.applyWidget(f),o.isFunction(d)&&d(f)},sortReset:function(s,r){s.sortList=[];var d;for(d=0;d<s.columns;d++)s.sortVars[d].count=-1,s.sortVars[d].sortedBy="";l.setHeadersCss(s),l.multisort(s),l.appendCache(s),o.isFunction(r)&&r(s.table)},getSortType:function(s,r){return s&&s[r]&&s[r].type||""},getOrder:function(s){return/^d/i.test(s)||s===1},sortNatural:function(s,r){if(s===r)return 0;s=(s||"").toString(),r=(r||"").toString();var d,c,h,f,v,b,w=l.regex;if(w.hex.test(r)){if(d=parseInt(s.match(w.hex),16),c=parseInt(r.match(w.hex),16),d<c)return-1;if(d>c)return 1}for(d=s.replace(w.chunk,"\\0$1\\0").replace(w.chunks,"").split("\\0"),c=r.replace(w.chunk,"\\0$1\\0").replace(w.chunks,"").split("\\0"),b=Math.max(d.length,c.length),v=0;v<b;v++){if(h=isNaN(d[v])?d[v]||0:parseFloat(d[v])||0,f=isNaN(c[v])?c[v]||0:parseFloat(c[v])||0,isNaN(h)!==isNaN(f))return isNaN(h)?1:-1;if((typeof h=="undefined"?"undefined":_typeof(h))!=(typeof f=="undefined"?"undefined":_typeof(f))&&(h+="",f+=""),h<f)return-1;if(h>f)return 1}return 0},sortNaturalAsc:function(s,r,d,c){if(s===r)return 0;var h=l.string[c.empties[d]||c.emptyTo];return s===""&&h!==0?typeof h=="boolean"?h?-1:1:-h||-1:r===""&&h!==0?typeof h=="boolean"?h?1:-1:h||1:l.sortNatural(s,r)},sortNaturalDesc:function(s,r,d,c){if(s===r)return 0;var h=l.string[c.empties[d]||c.emptyTo];return s===""&&h!==0?typeof h=="boolean"?h?-1:1:h||1:r===""&&h!==0?typeof h=="boolean"?h?1:-1:-h||-1:l.sortNatural(r,s)},sortText:function(s,r){return s>r?1:s<r?-1:0},getTextValue:function(s,r,d){if(d){var c,h=s?s.length:0,f=d+r;for(c=0;c<h;c++)f+=s.charCodeAt(c);return r*f}return 0},sortNumericAsc:function(s,r,d,c,h,f){if(s===r)return 0;var v=l.string[f.empties[h]||f.emptyTo];return s===""&&v!==0?typeof v=="boolean"?v?-1:1:-v||-1:r===""&&v!==0?typeof v=="boolean"?v?1:-1:v||1:(isNaN(s)&&(s=l.getTextValue(s,d,c)),isNaN(r)&&(r=l.getTextValue(r,d,c)),s-r)},sortNumericDesc:function(s,r,d,c,h,f){if(s===r)return 0;var v=l.string[f.empties[h]||f.emptyTo];return s===""&&v!==0?typeof v=="boolean"?v?-1:1:v||1:r===""&&v!==0?typeof v=="boolean"?v?1:-1:-v||-1:(isNaN(s)&&(s=l.getTextValue(s,d,c)),isNaN(r)&&(r=l.getTextValue(r,d,c)),r-s)},sortNumeric:function(s,r){return s-r},addWidget:function(s){s.id&&!l.isEmptyObject(l.getWidgetById(s.id))&&console.warn('"'+s.id+'" widget was loaded more than once!'),l.widgets[l.widgets.length]=s},hasWidget:function(s,r){return s=o(s),s.length&&s[0].config&&s[0].config.widgetInit[r]||!1},getWidgetById:function(s){var r,d,c=l.widgets.length;for(r=0;r<c;r++)if(d=l.widgets[r],d&&d.id&&d.id.toLowerCase()===s.toLowerCase())return d},applyWidgetOptions:function(s){var r,d,c,h=s.config,f=h.widgets.length;if(f)for(r=0;r<f;r++)d=l.getWidgetById(h.widgets[r]),d&&d.options&&(c=o.extend(!0,{},d.options),h.widgetOptions=o.extend(!0,c,h.widgetOptions),o.extend(!0,l.defaults.widgetOptions,d.options))},addWidgetFromClass:function(s){var r,d,c=s.config,h="^"+c.widgetClass.replace(l.regex.templateName,"(\\S+)+")+"$",f=new RegExp(h,"g"),v=(s.className||"").split(l.regex.spaces);if(v.length)for(r=v.length,d=0;d<r;d++)v[d].match(f)&&(c.widgets[c.widgets.length]=v[d].replace(f,"$1"))},applyWidgetId:function(s,r,d){s=o(s)[0];var c,h,f,v=s.config,b=v.widgetOptions,w=l.debug(v,"core"),k=l.getWidgetById(r);k&&(f=k.id,c=!1,o.inArray(f,v.widgets)<0&&(v.widgets[v.widgets.length]=f),w&&(h=new Date),(d||!v.widgetInit[f])&&(v.widgetInit[f]=!0,s.hasInitialized&&l.applyWidgetOptions(s),typeof k.init=="function"&&(c=!0,w&&console[console.group?"group":"log"]("Initializing "+f+" widget"),k.init(s,k,v,b))),!d&&typeof k.format=="function"&&(c=!0,w&&console[console.group?"group":"log"]("Updating "+f+" widget"),k.format(s,v,b,!1)),w&&c&&(console.log("Completed "+(d?"initializing ":"applying ")+f+" widget"+l.benchmark(h)),console.groupEnd&&console.groupEnd()))},applyWidget:function(s,r,d){s=o(s)[0];var c,h,f,v,b,w=s.config,k=l.debug(w,"core"),C=[];if(!(r!==!1&&s.hasInitialized&&(s.isApplyingWidgets||s.isUpdating))){if(k&&(b=new Date),l.addWidgetFromClass(s),clearTimeout(w.timerReady),w.widgets.length){for(s.isApplyingWidgets=!0,w.widgets=o.grep(w.widgets,function(E,A){return o.inArray(E,w.widgets)===A}),f=w.widgets||[],h=f.length,c=0;c<h;c++)v=l.getWidgetById(f[c]),v&&v.id?(v.priority||(v.priority=10),C[c]=v):k&&console.warn('"'+f[c]+'" was enabled, but the widget code has not been loaded!');for(C.sort(function(E,A){return E.priority<A.priority?-1:E.priority===A.priority?0:1}),h=C.length,k&&console[console.group?"group":"log"]("Start "+(r?"initializing":"applying")+" widgets"),c=0;c<h;c++)v=C[c],v&&v.id&&l.applyWidgetId(s,v.id,r);k&&console.groupEnd&&console.groupEnd()}w.timerReady=setTimeout(function(){s.isApplyingWidgets=!1,o.data(s,"lastWidgetApplication",new Date),w.$table.triggerHandler("tablesorter-ready"),!r&&typeof d=="function"&&d(s),k&&(v=w.widgets.length,console.log("Completed "+(r===!0?"initializing ":"applying ")+v+" widget"+(v!==1?"s":"")+l.benchmark(b)))},10)}},removeWidget:function(s,r,d){s=o(s)[0];var c,h,f,v,b=s.config;if(r===!0)for(r=[],v=l.widgets.length,f=0;f<v;f++)h=l.widgets[f],h&&h.id&&(r[r.length]=h.id);else r=(o.isArray(r)?r.join(","):r||"").toLowerCase().split(/[\s,]+/);for(v=r.length,c=0;c<v;c++)h=l.getWidgetById(r[c]),f=o.inArray(r[c],b.widgets),f>=0&&d!==!0&&b.widgets.splice(f,1),h&&h.remove&&(l.debug(b,"core")&&console.log((d?"Refreshing":"Removing")+' "'+r[c]+'" widget'),h.remove(s,b,b.widgetOptions,d),b.widgetInit[r[c]]=!1);b.$table.triggerHandler("widgetRemoveEnd",s)},refreshWidgets:function(s,r,d){s=o(s)[0];var c,h,f=s.config,v=f.widgets,b=l.widgets,w=b.length,k=[],C=function(A){o(A).triggerHandler("refreshComplete")};for(c=0;c<w;c++)h=b[c],h&&h.id&&(r||o.inArray(h.id,v)<0)&&(k[k.length]=h.id);l.removeWidget(s,k.join(","),!0),d!==!0?(l.applyWidget(s,r||!1,C),r&&l.applyWidget(s,!1,C)):C(s)},benchmark:function(s){return" ("+(new Date().getTime()-s.getTime())+" ms)"},log:function(){console.log(arguments)},debug:function(s,r){return s&&(s.debug===!0||typeof s.debug=="string"&&s.debug.indexOf(r)>-1)},isEmptyObject:function(s){for(var r in s)return!1;return!0},isValueInArray:function(s,r){var d,c=r&&r.length||0;for(d=0;d<c;d++)if(r[d][0]===s)return d;return-1},formatFloat:function(s,r){if(typeof s!="string"||s==="")return s;var d,c=r&&r.config?r.config.usNumberFormat!==!1:(typeof r=="undefined"?"undefined":_typeof(r))<"u"?r:!0;return c?s=s.replace(l.regex.comma,""):s=s.replace(l.regex.digitNonUS,"").replace(l.regex.comma,"."),l.regex.digitNegativeTest.test(s)&&(s=s.replace(l.regex.digitNegativeReplace,"-$1")),d=parseFloat(s),isNaN(d)?o.trim(s):d},isDigit:function(s){return isNaN(s)?l.regex.digitTest.test(s.toString().replace(l.regex.digitReplace,"")):s!==""},computeColumnIndex:function(s,r){var d,c,h,f,v,b,w,k,C,E,A=r&&r.columns||0,j=[],y=new Array(A);for(d=0;d<s.length;d++)for(b=s[d].cells,c=0;c<b.length;c++){for(v=b[c],w=d,k=v.rowSpan||1,C=v.colSpan||1,_typeof(j[w])>"u"&&(j[w]=[]),h=0;h<j[w].length+1;h++)if(_typeof(j[w][h])>"u"){E=h;break}for(A&&v.cellIndex===E||(v.setAttribute?v.setAttribute("data-column",E):o(v).attr("data-column",E)),h=w;h<w+k;h++)for(_typeof(j[h])>"u"&&(j[h]=[]),y=j[h],f=E;f<E+C;f++)y[f]="x"}return l.checkColumnCount(s,j,y.length),y.length},checkColumnCount:function(s,r,d){var c,h,f=!0,v=[];for(c=0;c<r.length;c++)if(r[c]&&(h=r[c].length,r[c].length!==d)){f=!1;break}f||(s.each(function(b,w){var k=w.parentElement.nodeName;v.indexOf(k)<0&&v.push(k)}),console.error("Invalid or incorrect number of columns in the "+v.join(" or ")+"; expected "+d+", but found "+h+" columns"))},fixColumnWidth:function(s){s=o(s)[0];var r,d,c,h,f,v=s.config,b=v.$table.children("colgroup");if(b.length&&b.hasClass(l.css.colgroup)&&b.remove(),v.widthFixed&&v.$table.children("colgroup").length===0){for(b=o('<colgroup class="'+l.css.colgroup+'">'),r=v.$table.width(),c=v.$tbodies.find("tr:first").children(":visible"),h=c.length,f=0;f<h;f++)d=parseInt(c.eq(f).width()/r*1e3,10)/10+"%",b.append(o("<col>").css("width",d));v.$table.prepend(b)}},getData:function(s,r,d){var c,h,f="",v=o(s);return v.length?(c=o.metadata?v.metadata():!1,h=" "+(v.attr("class")||""),_typeof(v.data(d))<"u"||_typeof(v.data(d.toLowerCase()))<"u"?f+=v.data(d)||v.data(d.toLowerCase()):c&&_typeof(c[d])<"u"?f+=c[d]:r&&_typeof(r[d])<"u"?f+=r[d]:h!==" "&&h.match(" "+d+"-")&&(f=h.match(new RegExp("\\s"+d+"-([\\w-]+)"))[1]||""),o.trim(f)):""},getColumnData:function(s,r,d,c,h){if(typeof r!="object"||r===null)return r;s=o(s)[0];var f,v,b=s.config,w=h||b.$headers,k=b.$headerIndexed&&b.$headerIndexed[d]||w.find('[data-column="'+d+'"]:last');if(_typeof(r[d])<"u")return c?r[d]:r[w.index(k)];for(v in r)if(typeof v=="string"&&(f=k.filter(v).add(k.find(v)),f.length))return r[v]},isProcessing:function(s,r,d){s=o(s);var c=s[0].config,h=d||s.find("."+l.css.header);r?((typeof d=="undefined"?"undefined":_typeof(d))<"u"&&c.sortList.length>0&&(h=h.filter(function(){return this.sortDisabled?!1:l.isValueInArray(parseFloat(o(this).attr("data-column")),c.sortList)>=0})),s.add(h).addClass(l.css.processing+" "+c.cssProcessing)):s.add(h).removeClass(l.css.processing+" "+c.cssProcessing)},processTbody:function(s,r,d){if(s=o(s)[0],d)return s.isProcessing=!0,r.before('<colgroup class="tablesorter-savemyplace"/>'),o.fn.detach?r.detach():r.remove();var c=o(s).find("colgroup.tablesorter-savemyplace");r.insertAfter(c),c.remove(),s.isProcessing=!1},clearTableBody:function(s){o(s)[0].config.$tbodies.children().detach()},characterEquivalents:{a:"\xE1\xE0\xE2\xE3\xE4\u0105\xE5",A:"\xC1\xC0\xC2\xC3\xC4\u0104\xC5",c:"\xE7\u0107\u010D",C:"\xC7\u0106\u010C",e:"\xE9\xE8\xEA\xEB\u011B\u0119",E:"\xC9\xC8\xCA\xCB\u011A\u0118",i:"\xED\xEC\u0130\xEE\xEF\u0131",I:"\xCD\xCC\u0130\xCE\xCF",o:"\xF3\xF2\xF4\xF5\xF6\u014D",O:"\xD3\xD2\xD4\xD5\xD6\u014C",ss:"\xDF",SS:"\u1E9E",u:"\xFA\xF9\xFB\xFC\u016F",U:"\xDA\xD9\xDB\xDC\u016E"},replaceAccents:function(s){var r,d="[",c=l.characterEquivalents;if(!l.characterRegex){l.characterRegexArray={};for(r in c)typeof r=="string"&&(d+=c[r],l.characterRegexArray[r]=new RegExp("["+c[r]+"]","g"));l.characterRegex=new RegExp(d+"]")}if(l.characterRegex.test(s))for(r in c)typeof r=="string"&&(s=s.replace(l.characterRegexArray[r],r));return s},validateOptions:function(s){var r,d,c,h,f="headers sortForce sortList sortAppend widgets".split(" "),v=s.originalSettings;if(v){l.debug(s,"core")&&(h=new Date);for(r in v)if(c=_typeof(l.defaults[r]),c==="undefined")console.warn('Tablesorter Warning! "table.config.'+r+'" option not recognized');else if(c==="object")for(d in v[r])c=l.defaults[r]&&_typeof(l.defaults[r][d]),o.inArray(r,f)<0&&c==="undefined"&&console.warn('Tablesorter Warning! "table.config.'+r+"."+d+'" option not recognized');l.debug(s,"core")&&console.log("validate options time:"+l.benchmark(h))}},restoreHeaders:function(s){var r,d,c=o(s)[0].config,h=c.$table.find(c.selectorHeaders),f=h.length;for(r=0;r<f;r++)d=h.eq(r),d.find("."+l.css.headerIn).length&&d.html(c.headerContent[r])},destroy:function(s,r,d){if(s=o(s)[0],!!s.hasInitialized){l.removeWidget(s,!0,!1);var c,h=o(s),f=s.config,v=h.find("thead:first"),b=v.find("tr."+l.css.headerRow).removeClass(l.css.headerRow+" "+f.cssHeaderRow),w=h.find("tfoot:first > tr").children("th, td");r===!1&&o.inArray("uitheme",f.widgets)>=0&&(h.triggerHandler("applyWidgetId",["uitheme"]),h.triggerHandler("applyWidgetId",["zebra"])),v.find("tr").not(b).remove(),c="sortReset update updateRows updateAll updateHeaders updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets removeWidget destroy mouseup mouseleave "+"keypress sortBegin sortEnd resetToLoadState ".split(" ").join(f.namespace+" "),h.removeData("tablesorter").unbind(c.replace(l.regex.spaces," ")),f.$headers.add(w).removeClass([l.css.header,f.cssHeader,f.cssAsc,f.cssDesc,l.css.sortAsc,l.css.sortDesc,l.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true"),b.find(f.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(f.namespace+" ").replace(l.regex.spaces," ")),l.restoreHeaders(s),h.toggleClass(l.css.table+" "+f.tableClass+" tablesorter-"+f.theme,r===!1),h.removeClass(f.namespace.slice(1)),s.hasInitialized=!1,delete s.config.cache,typeof d=="function"&&d(s),l.debug(f,"core")&&console.log("tablesorter has been removed")}}};o.fn.tablesorter=function(a){return this.each(function(){var s=this,r=o.extend(!0,{},l.defaults,a,l.instanceMethods);r.originalSettings=a,!s.hasInitialized&&l.buildTable&&this.nodeName!=="TABLE"?l.buildTable(s,r):l.setup(s,r)})},window.console&&window.console.log||(l.logs=[],console={},console.log=console.warn=console.error=console.table=function(){var a=arguments.length>1?arguments:arguments[0];l.logs[l.logs.length]={date:Date.now(),log:a}}),l.addParser({id:"no-parser",is:function(){return!1},format:function(){return""},type:"text"}),l.addParser({id:"text",is:function(){return!0},format:function(s,r){var d=r.config;return s&&(s=o.trim(d.ignoreCase?s.toLocaleLowerCase():s),s=d.sortLocaleCompare?l.replaceAccents(s):s),s},type:"text"}),l.regex.nondigit=/[^\w,. \-()]/g,l.addParser({id:"digit",is:function(s){return l.isDigit(s)},format:function(s,r){var d=l.formatFloat((s||"").replace(l.regex.nondigit,""),r);return s&&typeof d=="number"?d:s&&o.trim(s&&r.config.ignoreCase?s.toLocaleLowerCase():s)},type:"numeric"}),l.regex.currencyReplace=/[+\-,. ]/g,l.regex.currencyTest=/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/,l.addParser({id:"currency",is:function(s){return s=(s||"").replace(l.regex.currencyReplace,""),l.regex.currencyTest.test(s)},format:function(s,r){var d=l.formatFloat((s||"").replace(l.regex.nondigit,""),r);return s&&typeof d=="number"?d:s&&o.trim(s&&r.config.ignoreCase?s.toLocaleLowerCase():s)},type:"numeric"}),l.regex.urlProtocolTest=/^(https?|ftp|file):\/\//,l.regex.urlProtocolReplace=/(https?|ftp|file):\/\/(www\.)?/,l.addParser({id:"url",is:function(s){return l.regex.urlProtocolTest.test(s)},format:function(s){return s&&o.trim(s.replace(l.regex.urlProtocolReplace,""))},type:"text"}),l.regex.dash=/-/g,l.regex.isoDate=/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,l.addParser({id:"isoDate",is:function(s){return l.regex.isoDate.test(s)},format:function(s){var r=s&&new Date(s.replace(l.regex.dash,"/"));return _instanceof(r,Date)&&isFinite(r)?r.getTime():s},type:"numeric"}),l.regex.percent=/%/g,l.regex.percentTest=/(\d\s*?%|%\s*?\d)/,l.addParser({id:"percent",is:function(s){return l.regex.percentTest.test(s)&&s.length<15},format:function(s,r){return s&&l.formatFloat(s.replace(l.regex.percent,""),r)},type:"numeric"}),l.addParser({id:"image",is:function(s,r,d,c){return c.find("img").length>0},format:function(s,r,d){return o(d).find("img").attr(r.config.imgAttr||"alt")||s},parsed:!0,type:"text"}),l.regex.dateReplace=/(\S)([AP]M)$/i,l.regex.usLongDateTest1=/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i,l.regex.usLongDateTest2=/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i,l.addParser({id:"usLongDate",is:function(s){return l.regex.usLongDateTest1.test(s)||l.regex.usLongDateTest2.test(s)},format:function(s){var r=s&&new Date(s.replace(l.regex.dateReplace,"$1 $2"));return _instanceof(r,Date)&&isFinite(r)?r.getTime():s},type:"numeric"}),l.regex.shortDateTest=/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/,l.regex.shortDateReplace=/[\-.,]/g,l.regex.shortDateXXY=/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,l.regex.shortDateYMD=/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,l.convertFormat=function(a,s){a=(a||"").replace(l.regex.spaces," ").replace(l.regex.shortDateReplace,"/"),s==="mmddyyyy"?a=a.replace(l.regex.shortDateXXY,"$3/$1/$2"):s==="ddmmyyyy"?a=a.replace(l.regex.shortDateXXY,"$3/$2/$1"):s==="yyyymmdd"&&(a=a.replace(l.regex.shortDateYMD,"$1/$2/$3"));var r=new Date(a);return _instanceof(r,Date)&&isFinite(r)?r.getTime():""},l.addParser({id:"shortDate",is:function(s){return s=(s||"").replace(l.regex.spaces," ").replace(l.regex.shortDateReplace,"/"),l.regex.shortDateTest.test(s)},format:function(s,r,d,c){if(s){var h=r.config,f=h.$headerIndexed[c],v=f.length&&f.data("dateFormat")||l.getData(f,l.getColumnData(r,h.headers,c),"dateFormat")||h.dateFormat;return f.length&&f.data("dateFormat",v),l.convertFormat(s,v)||s}return s},type:"numeric"}),l.regex.timeTest=/^(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)$|^((?:[01]\d|[2][0-4]):[0-5]\d)$/i,l.regex.timeMatch=/(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)|((?:[01]\d|[2][0-4]):[0-5]\d)/i,l.addParser({id:"time",is:function(s){return l.regex.timeTest.test(s)},format:function(s){var r,d=(s||"").match(l.regex.timeMatch),c=new Date(s),h=s&&(d!==null?d[0]:"00:00 AM"),f=h&&new Date("2000/01/01 "+h.replace(l.regex.dateReplace,"$1 $2"));return _instanceof(f,Date)&&isFinite(f)?(r=_instanceof(c,Date)&&isFinite(c)?c.getTime():0,r?parseFloat(f.getTime()+"."+c.getTime()):f.getTime()):s},type:"numeric"}),l.addParser({id:"metadata",is:function(){return!1},format:function(s,r,d){var c=r.config,h=c.parserMetadataName?c.parserMetadataName:"sortValue";return o(d).metadata()[h]},type:"numeric"}),l.addWidget({id:"zebra",priority:90,format:function(s,r,d){var c,h,f,v,b,w,k,C=new RegExp(r.cssChildRow,"i"),E=r.$tbodies.add(o(r.namespace+"_extra_table").children("tbody:not(."+r.cssInfoBlock+")"));for(b=0;b<E.length;b++)for(f=0,c=E.eq(b).children("tr:visible").not(r.selectorRemove),k=c.length,w=0;w<k;w++)h=c.eq(w),C.test(h[0].className)||f++,v=f%2===0,h.removeClass(d.zebra[v?1:0]).addClass(d.zebra[v?0:1])},remove:function(s,r,d,c){if(!c){var h,f,v=r.$tbodies,b=(d.zebra||["even","odd"]).join(" ");for(h=0;h<v.length;h++)f=l.processTbody(s,v.eq(h),!0),f.children().removeClass(b),l.processTbody(s,f,!1)}}})}(n),function(o,l,a){"use strict";var s=o.tablesorter||{};o.extend(!0,s.defaults,{fixedUrl:"",widgetOptions:{storage_fixedUrl:"",storage_group:"",storage_page:"",storage_storageType:"",storage_tableId:"",storage_useSessionStorage:""}}),s.storage=function(r,d,c,h){r=o(r)[0];var f,v,b,w=!1,k={},C=r.config,E=C&&C.widgetOptions,A=s.debug(C,"storage"),j=(h&&h.storageType||E&&E.storage_storageType).toString().charAt(0).toLowerCase(),y=j?"":h&&h.useSessionStorage||E&&E.storage_useSessionStorage,u=o(r),p=h&&h.id||u.attr(h&&h.group||E&&E.storage_group||"data-table-group")||E&&E.storage_tableId||r.id||o(".tablesorter").index(u),m=h&&h.url||u.attr(h&&h.page||E&&E.storage_page||"data-table-page")||E&&E.storage_fixedUrl||C&&C.fixedUrl||l.location.pathname;if(j!=="c"&&(j=j==="s"||y?"sessionStorage":"localStorage",j in l))try{l[j].setItem("_tmptest","temp"),w=!0,l[j].removeItem("_tmptest")}catch(_){console.warn(j+" is not supported in this browser")}if(A&&console.log("Storage >> Using",w?j:"cookies"),o.parseJSON&&(w?k=o.parseJSON(l[j][d]||"null")||{}:(v=a.cookie.split(/[;\s|=]/),f=o.inArray(d,v)+1,k=f!==0?o.parseJSON(v[f]||"null")||{}:{})),(typeof c=="undefined"?"undefined":_typeof(c))<"u"&&l.JSON&&JSON.hasOwnProperty("stringify"))k[m]||(k[m]={}),k[m][p]=c,w?l[j][d]=JSON.stringify(k):(b=new Date,b.setTime(b.getTime()+31536e6),a.cookie=d+"="+JSON.stringify(k).replace(/\"/g,'"')+"; expires="+b.toGMTString()+"; path=/");else return k&&k[m]?k[m][p]:""}}(n,window,document),function(o){"use strict";var l=o.tablesorter||{};l.themes={bootstrap:{table:"table table-bordered table-striped",caption:"caption",header:"bootstrap-header",sortNone:"",sortAsc:"",sortDesc:"",active:"",hover:"",icons:"",iconSortNone:"bootstrap-icon-unsorted",iconSortAsc:"glyphicon glyphicon-chevron-up",iconSortDesc:"glyphicon glyphicon-chevron-down",filterRow:"",footerRow:"",footerCells:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",caption:"ui-widget-content",header:"ui-widget-header ui-corner-all ui-state-default",sortNone:"",sortAsc:"",sortDesc:"",active:"ui-state-active",hover:"ui-state-hover",icons:"ui-icon",iconSortNone:"ui-icon-carat-2-n-s ui-icon-caret-2-n-s",iconSortAsc:"ui-icon-carat-1-n ui-icon-caret-1-n",iconSortDesc:"ui-icon-carat-1-s ui-icon-caret-1-s",filterRow:"",footerRow:"",footerCells:"",even:"ui-widget-content",odd:"ui-state-default"}},o.extend(l.css,{wrapper:"tablesorter-wrapper"}),l.addWidget({id:"uitheme",priority:10,format:function(s,r,d){var c,h,f,v,b,w,k,C,E,A,j,y,u,p=l.themes,m=r.$table.add(o(r.namespace+"_extra_table")),_=r.$headers.add(o(r.namespace+"_extra_headers")),x=r.theme||"jui",O=p[x]||{},I=o.trim([O.sortNone,O.sortDesc,O.sortAsc,O.active].join(" ")),P=o.trim([O.iconSortNone,O.iconSortDesc,O.iconSortAsc].join(" ")),D=l.debug(r,"uitheme");for(D&&(b=new Date),(!m.hasClass("tablesorter-"+x)||r.theme!==r.appliedTheme||!d.uitheme_applied)&&(d.uitheme_applied=!0,A=p[r.appliedTheme]||{},u=!o.isEmptyObject(A),j=u?[A.sortNone,A.sortDesc,A.sortAsc,A.active].join(" "):"",y=u?[A.iconSortNone,A.iconSortDesc,A.iconSortAsc].join(" "):"",u&&(d.zebra[0]=o.trim(" "+d.zebra[0].replace(" "+A.even,"")),d.zebra[1]=o.trim(" "+d.zebra[1].replace(" "+A.odd,"")),r.$tbodies.children().removeClass([A.even,A.odd].join(" "))),O.even&&(d.zebra[0]+=" "+O.even),O.odd&&(d.zebra[1]+=" "+O.odd),m.children("caption").removeClass(A.caption||"").addClass(O.caption),C=m.removeClass((r.appliedTheme?"tablesorter-"+(r.appliedTheme||""):"")+" "+(A.table||"")).addClass("tablesorter-"+x+" "+(O.table||"")).children("tfoot"),r.appliedTheme=r.theme,C.length&&C.children("tr").removeClass(A.footerRow||"").addClass(O.footerRow).children("th, td").removeClass(A.footerCells||"").addClass(O.footerCells),_.removeClass((u?[A.header,A.hover,j].join(" "):"")||"").addClass(O.header).not(".sorter-false").unbind("mouseenter.tsuitheme mouseleave.tsuitheme").bind("mouseenter.tsuitheme mouseleave.tsuitheme",function(V){o(this)[V.type==="mouseenter"?"addClass":"removeClass"](O.hover||"")}),_.each(function(){var V=o(this);V.find("."+l.css.wrapper).length||V.wrapInner('<div class="'+l.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>')}),r.cssIcon&&_.find("."+l.css.icon).removeClass(u?[A.icons,y].join(" "):"").addClass(O.icons||""),l.hasWidget(r.table,"filter")&&(h=function(){m.children("thead").children("."+l.css.filterRow).removeClass(u&&A.filterRow||"").addClass(O.filterRow||"")},d.filter_initialized?h():m.one("filterInit",function(){h()}))),c=0;c<r.columns;c++)w=r.$headers.add(o(r.namespace+"_extra_headers")).not(".sorter-false").filter('[data-column="'+c+'"]'),k=l.css.icon?w.find("."+l.css.icon):o(),E=_.not(".sorter-false").filter('[data-column="'+c+'"]:last'),E.length&&(w.removeClass(I),k.removeClass(P),E[0].sortDisabled?k.removeClass(O.icons||""):(f=O.sortNone,v=O.iconSortNone,E.hasClass(l.css.sortAsc)?(f=[O.sortAsc,O.active].join(" "),v=O.iconSortAsc):E.hasClass(l.css.sortDesc)&&(f=[O.sortDesc,O.active].join(" "),v=O.iconSortDesc),w.addClass(f),k.addClass(v||"")));D&&console.log("uitheme >> Applied "+x+" theme"+l.benchmark(b))},remove:function(s,r,d,c){if(d.uitheme_applied){var h=r.$table,f=r.appliedTheme||"jui",v=l.themes[f]||l.themes.jui,b=h.children("thead").children(),w=v.sortNone+" "+v.sortDesc+" "+v.sortAsc,k=v.iconSortNone+" "+v.iconSortDesc+" "+v.iconSortAsc;h.removeClass("tablesorter-"+f+" "+v.table),d.uitheme_applied=!1,!c&&(h.find(l.css.header).removeClass(v.header),b.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(v.hover+" "+w+" "+v.active).filter("."+l.css.filterRow).removeClass(v.filterRow),b.find("."+l.css.icon).removeClass(v.icons+" "+k))}}})}(n),function(o){"use strict";var l=o.tablesorter||{};l.addWidget({id:"columns",priority:65,options:{columns:["primary","secondary","tertiary"]},format:function(s,r,d){var c,h,f,v,b,w,k,C,E=r.$table,A=r.$tbodies,j=r.sortList,y=j.length,u=d&&d.columns||["primary","secondary","tertiary"],p=u.length-1;for(k=u.join(" "),h=0;h<A.length;h++)c=l.processTbody(s,A.eq(h),!0),f=c.children("tr"),f.each(function(){if(b=o(this),this.style.display!=="none"&&(w=b.children().removeClass(k),j&&j[0]&&(w.eq(j[0][0]).addClass(u[0]),y>1)))for(C=1;C<y;C++)w.eq(j[C][0]).addClass(u[C]||u[p])}),l.processTbody(s,c,!1);if(v=d.columns_thead!==!1?["thead tr"]:[],d.columns_tfoot!==!1&&v.push("tfoot tr"),v.length&&(f=E.find(v.join(",")).children().removeClass(k),y))for(C=0;C<y;C++)f.filter('[data-column="'+j[C][0]+'"]').addClass(u[C]||u[p])},remove:function(s,r,d){var c,h,f=r.$tbodies,v=(d.columns||["primary","secondary","tertiary"]).join(" ");for(r.$headers.removeClass(v),r.$table.children("tfoot").children("tr").children("th, td").removeClass(v),c=0;c<f.length;c++)h=l.processTbody(s,f.eq(c),!0),h.children("tr").each(function(){o(this).children().removeClass(v)}),l.processTbody(s,h,!1)}})}(n),function(o){"use strict";var l,a,s=o.tablesorter||{},r=s.css,d=s.keyCodes;o.extend(r,{filterRow:"tablesorter-filter-row",filter:"tablesorter-filter",filterDisabled:"disabled",filterRowHide:"hideme"}),o.extend(d,{backSpace:8,escape:27,space:32,left:37,down:40}),s.addWidget({id:"filter",priority:50,options:{filter_cellFilter:"",filter_childRows:!1,filter_childByColumn:!1,filter_childWithSibs:!0,filter_columnAnyMatch:!0,filter_columnFilters:!0,filter_cssFilter:"",filter_defaultAttrib:"data-value",filter_defaultFilter:{},filter_excludeFilter:{},filter_external:"",filter_filteredRow:"filtered",filter_filterLabel:'Filter "{{label}}" column by...',filter_formatter:null,filter_functions:null,filter_hideEmpty:!0,filter_hideFilters:!1,filter_ignoreCase:!0,filter_liveSearch:!0,filter_matchType:{input:"exact",select:"exact"},filter_onlyAvail:"filter-onlyAvail",filter_placeholder:{search:"",select:""},filter_reset:null,filter_resetOnEsc:!0,filter_saveFilters:!1,filter_searchDelay:300,filter_searchFiltered:!0,filter_selectSource:null,filter_selectSourceSeparator:"|",filter_serversideFiltering:!1,filter_startsWith:!1,filter_useParsedData:!1},format:function(h,f,v){f.$table.hasClass("hasFilters")||l.init(h,f,v)},remove:function(h,f,v,b){var w,k,C=f.$table,E=f.$tbodies,A="addRows updateCell update updateRows updateComplete appendCache filterReset filterAndSortReset filterFomatterUpdate filterEnd search stickyHeadersInit ".split(" ").join(f.namespace+"filter ");if(C.removeClass("hasFilters").unbind(A.replace(s.regex.spaces," ")).find("."+r.filterRow).remove(),v.filter_initialized=!1,!b){for(w=0;w<E.length;w++)k=s.processTbody(h,E.eq(w),!0),k.children().removeClass(v.filter_filteredRow).show(),s.processTbody(h,k,!1);v.filter_reset&&o(document).undelegate(v.filter_reset,"click"+f.namespace+"filter")}}}),l=s.filter={regex:{regex:/^\/((?:\\\/|[^\/])+)\/([migyu]{0,5})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"\'=]+)|([\"\'=]+$)/g,operators:/[<>=]/g,query:"(q|query)",wild01:/\?/g,wild0More:/\*/g,quote:/\"/g,isNeg1:/(>=?\s*-\d)/,isNeg2:/(<=?\s*\d)/},types:{or:function(h,f,v){if((a.orTest.test(f.iFilter)||a.orSplit.test(f.filter))&&!a.regex.test(f.filter)){var b,w,k,C,E=o.extend({},f),A=f.filter.split(a.orSplit),j=f.iFilter.split(a.orSplit),y=A.length;for(b=0;b<y;b++){E.nestedFilters=!0,E.filter=""+(l.parseFilter(h,A[b],f)||""),E.iFilter=""+(l.parseFilter(h,j[b],f)||""),k="("+(l.parseFilter(h,E.filter,f)||"")+")";try{if(C=new RegExp(f.isMatch?k:"^"+k+"$",h.widgetOptions.filter_ignoreCase?"i":""),w=C.test(E.exact)||l.processTypes(h,E,v),w)return w}catch(u){return null}}return w||!1}return null},and:function(h,f,v){if(a.andTest.test(f.filter)){var b,w,k,C,E,A=o.extend({},f),j=f.filter.split(a.andSplit),y=f.iFilter.split(a.andSplit),u=j.length;for(b=0;b<u;b++){A.nestedFilters=!0,A.filter=""+(l.parseFilter(h,j[b],f)||""),A.iFilter=""+(l.parseFilter(h,y[b],f)||""),C=("("+(l.parseFilter(h,A.filter,f)||"")+")").replace(a.wild01,"\\S{1}").replace(a.wild0More,"\\S*");try{E=new RegExp(f.isMatch?C:"^"+C+"$",h.widgetOptions.filter_ignoreCase?"i":""),k=E.test(A.exact)||l.processTypes(h,A,v),b===0?w=k:w=w&&k}catch(p){return null}}return w||!1}return null},regex:function(h,f){if(a.regex.test(f.filter)){var v,b=f.filter_regexCache[f.index]||a.regex.exec(f.filter),w=_instanceof(b,RegExp);try{w||(f.filter_regexCache[f.index]=b=new RegExp(b[1],b[2])),v=b.test(f.exact)}catch(k){v=!1}return v}return null},operators:function(h,f){if(a.operTest.test(f.iFilter)&&f.iExact!==""){var v,b,w,k=h.table,C=f.parsed[f.index],E=s.formatFloat(f.iFilter.replace(a.operators,""),k),A=h.parsers[f.index]||{},j=E;return(C||A.type==="numeric")&&(w=o.trim(""+f.iFilter.replace(a.operators,"")),b=l.parseFilter(h,w,f,!0),E=typeof b=="number"&&b!==""&&!isNaN(b)?b:E),(C||A.type==="numeric")&&!isNaN(E)&&_typeof(f.cache)<"u"?v=f.cache:(w=isNaN(f.iExact)?f.iExact.replace(s.regex.nondigit,""):f.iExact,v=s.formatFloat(w,k)),a.gtTest.test(f.iFilter)?b=a.gteTest.test(f.iFilter)?v>=E:v>E:a.ltTest.test(f.iFilter)&&(b=a.lteTest.test(f.iFilter)?v<=E:v<E),!b&&j===""&&(b=!0),b}return null},notMatch:function(h,f){if(a.notTest.test(f.iFilter)){var v,b=f.iFilter.replace("!",""),w=l.parseFilter(h,b,f)||"";return a.exact.test(w)?(w=w.replace(a.exact,""),w===""?!0:o.trim(w)!==f.iExact):(v=f.iExact.search(o.trim(w)),w===""?!0:f.anyMatch?v<0:!(h.widgetOptions.filter_startsWith?v===0:v>=0))}return null},exact:function(h,f){if(a.exact.test(f.iFilter)){var v=f.iFilter.replace(a.exact,""),b=l.parseFilter(h,v,f)||"";return f.anyMatch?o.inArray(b,f.rowArray)>=0:b==f.iExact}return null},range:function(h,f){if(a.toTest.test(f.iFilter)){var v,b,w,k,C=h.table,E=f.index,A=f.parsed[E],j=f.iFilter.split(a.toSplit);return b=j[0].replace(s.regex.nondigit,"")||"",w=s.formatFloat(l.parseFilter(h,b,f),C),b=j[1].replace(s.regex.nondigit,"")||"",k=s.formatFloat(l.parseFilter(h,b,f),C),(A||h.parsers[E].type==="numeric")&&(v=h.parsers[E].format(""+j[0],C,h.$headers.eq(E),E),w=v!==""&&!isNaN(v)?v:w,v=h.parsers[E].format(""+j[1],C,h.$headers.eq(E),E),k=v!==""&&!isNaN(v)?v:k),(A||h.parsers[E].type==="numeric")&&!isNaN(w)&&!isNaN(k)?v=f.cache:(b=isNaN(f.iExact)?f.iExact.replace(s.regex.nondigit,""):f.iExact,v=s.formatFloat(b,C)),w>k&&(b=w,w=k,k=b),v>=w&&v<=k||w===""||k===""}return null},wild:function(h,f){if(a.wildOrTest.test(f.iFilter)){var v=""+(l.parseFilter(h,f.iFilter,f)||"");!a.wildTest.test(v)&&f.nestedFilters&&(v=f.isMatch?v:"^("+v+")$");try{return new RegExp(v.replace(a.wild01,"\\S{1}").replace(a.wild0More,"\\S*"),h.widgetOptions.filter_ignoreCase?"i":"").test(f.exact)}catch(b){return null}}return null},fuzzy:function(h,f){if(a.fuzzyTest.test(f.iFilter)){var v,b=0,w=f.iExact.length,k=f.iFilter.slice(1),C=l.parseFilter(h,k,f)||"";for(v=0;v<w;v++)f.iExact[v]===C[b]&&(b+=1);return b===C.length}return null}},init:function(h){s.language=o.extend(!0,{},{to:"to",or:"or",and:"and"},s.language);var f,v,b,w,k,C,E,A,j=h.config,y=j.widgetOptions,u=function(m,_,x){return _=_.trim(),_===""?"":(m||"")+_+(x||"")};if(j.$table.addClass("hasFilters"),j.lastSearch=[],y.filter_searchTimer=null,y.filter_initTimer=null,y.filter_formatterCount=0,y.filter_formatterInit=[],y.filter_anyColumnSelector='[data-column="all"],[data-column="any"]',y.filter_multipleColumnSelector='[data-column*="-"],[data-column*=","]',C="\\{"+a.query+"\\}",o.extend(a,{child:new RegExp(j.cssChildRow),filtered:new RegExp(y.filter_filteredRow),alreadyFiltered:new RegExp("(\\s+(-"+u("|",s.language.or)+u("|",s.language.to)+")\\s+)","i"),toTest:new RegExp("\\s+(-"+u("|",s.language.to)+")\\s+","i"),toSplit:new RegExp("(?:\\s+(?:-"+u("|",s.language.to)+")\\s+)","gi"),andTest:new RegExp("\\s+("+u("",s.language.and,"|")+"&&)\\s+","i"),andSplit:new RegExp("(?:\\s+(?:"+u("",s.language.and,"|")+"&&)\\s+)","gi"),orTest:new RegExp("(\\|"+u("|\\s+",s.language.or,"\\s+")+")","i"),orSplit:new RegExp("(?:\\|"+u("|\\s+(?:",s.language.or,")\\s+")+")","gi"),iQuery:new RegExp(C,"i"),igQuery:new RegExp(C,"ig"),operTest:/^[<>]=?/,gtTest:/>/,gteTest:/>=/,ltTest:/</,lteTest:/<=/,notTest:/^\!/,wildOrTest:/[\?\*\|]/,wildTest:/\?\*/,fuzzyTest:/^~/,exactTest:/[=\"\|!]/}),C=j.$headers.filter(".filter-false, .parser-false").length,y.filter_columnFilters!==!1&&C!==j.$headers.length&&l.buildRow(h,j,y),b="addRows updateCell update updateRows updateComplete appendCache filterReset "+"filterAndSortReset filterResetSaved filterEnd search ".split(" ").join(j.namespace+"filter "),j.$table.bind(b,function(p,m){return C=y.filter_hideEmpty&&o.isEmptyObject(j.cache)&&!(j.delayInit&&p.type==="appendCache"),j.$table.find("."+r.filterRow).toggleClass(y.filter_filteredRow,C),/(search|filter)/.test(p.type)||(p.stopPropagation(),l.buildDefault(h,!0)),p.type==="filterReset"||p.type==="filterAndSortReset"?(j.$table.find("."+r.filter).add(y.filter_$externalFilters).val(""),p.type==="filterAndSortReset"?s.sortReset(this.config,function(){l.searching(h,[])}):l.searching(h,[])):p.type==="filterResetSaved"?s.storage(h,"tablesorter-filters",""):p.type==="filterEnd"?l.buildDefault(h,!0):(m=p.type==="search"?m:p.type==="updateComplete"?j.$table.data("lastSearch"):"",/(update|add)/.test(p.type)&&p.type!=="updateComplete"&&(j.lastCombinedFilter=null,j.lastSearch=[],setTimeout(function(){j.$table.triggerHandler("filterFomatterUpdate")},100)),l.searching(h,m,!0)),!1}),y.filter_reset&&(_instanceof(y.filter_reset,o)?y.filter_reset.click(function(){j.$table.triggerHandler("filterReset")}):o(y.filter_reset).length&&o(document).undelegate(y.filter_reset,"click"+j.namespace+"filter").delegate(y.filter_reset,"click"+j.namespace+"filter",function(){j.$table.triggerHandler("filterReset")})),y.filter_functions){for(k=0;k<j.columns;k++)if(E=s.getColumnData(h,y.filter_functions,k),E){if(w=j.$headerIndexed[k].removeClass("filter-select"),A=!(w.hasClass("filter-false")||w.hasClass("parser-false")),f="",E===!0&&A)l.buildSelect(h,k);else if(typeof E=="object"&&A){for(v in E)typeof v=="string"&&(f+=f===""?'<option value="">'+(w.data("placeholder")||w.attr("data-placeholder")||y.filter_placeholder.select||"")+"</option>":"",C=v,b=v,v.indexOf(y.filter_selectSourceSeparator)>=0&&(C=v.split(y.filter_selectSourceSeparator),b=C[1],C=C[0]),f+="<option "+(b===C?"":'data-function-name="'+v+'" ')+'value="'+C+'">'+b+"</option>");j.$table.find("thead").find("select."+r.filter+'[data-column="'+k+'"]').append(f),b=y.filter_selectSource,E=typeof b=="function"?!0:s.getColumnData(h,b,k),E&&l.buildSelect(j.table,k,"",!0,w.hasClass(y.filter_onlyAvail))}}}l.buildDefault(h,!0),l.bindSearch(h,j.$table.find("."+r.filter),!0),y.filter_external&&l.bindSearch(h,y.filter_external),y.filter_hideFilters&&l.hideFilters(j),j.showProcessing&&(b="filterStart filterEnd ".split(" ").join(j.namespace+"filter-sp "),j.$table.unbind(b.replace(s.regex.spaces," ")).bind(b,function(p,m){w=m?j.$table.find("."+r.header).filter("[data-column]").filter(function(){return m[o(this).data("column")]!==""}):"",s.isProcessing(h,p.type==="filterStart",m?w:"")})),j.filteredRows=j.totalRows,b="tablesorter-initialized pagerBeforeInitialized ".split(" ").join(j.namespace+"filter "),j.$table.unbind(b.replace(s.regex.spaces," ")).bind(b,function(){l.completeInit(this)}),j.pager&&j.pager.initialized&&!y.filter_initialized?(j.$table.triggerHandler("filterFomatterUpdate"),setTimeout(function(){l.filterInitComplete(j)},100)):y.filter_initialized||l.completeInit(h)},completeInit:function(h){var f=h.config,v=f.widgetOptions,b=l.setDefaults(h,f,v)||[];b.length&&(f.delayInit&&b.join("")===""||s.setFilters(h,b,!0)),f.$table.triggerHandler("filterFomatterUpdate"),setTimeout(function(){v.filter_initialized||l.filterInitComplete(f)},100)},formatterUpdated:function(h,f){var v=h&&h.closest("table"),b=v.length&&v[0].config,w=b&&b.widgetOptions;w&&!w.filter_initialized&&(w.filter_formatterInit[f]=1)},filterInitComplete:function(h){var f,v,b=h.widgetOptions,w=0,k=function(){b.filter_initialized=!0,h.lastSearch=h.$table.data("lastSearch"),h.$table.triggerHandler("filterInit",h),l.findRows(h.table,h.lastSearch||[]),s.debug(h,"filter")&&console.log("Filter >> Widget initialized")};if(o.isEmptyObject(b.filter_formatter))k();else{for(v=b.filter_formatterInit.length,f=0;f<v;f++)b.filter_formatterInit[f]===1&&w++;clearTimeout(b.filter_initTimer),!b.filter_initialized&&w===b.filter_formatterCount?k():b.filter_initialized||(b.filter_initTimer=setTimeout(function(){k()},500))}},processFilters:function(h,f){var v,b=[],w=f?encodeURIComponent:decodeURIComponent,k=h.length;for(v=0;v<k;v++)h[v]&&(b[v]=w(h[v]));return b},setDefaults:function(h,f,v){var b,w,k,C,E,A=s.getFilters(h)||[];if(v.filter_saveFilters&&s.storage&&(w=s.storage(h,"tablesorter-filters")||[],b=o.isArray(w),b&&w.join("")===""||!b||(A=l.processFilters(w))),A.join("")==="")for(E=f.$headers.add(v.filter_$externalFilters).filter("["+v.filter_defaultAttrib+"]"),k=0;k<=f.columns;k++)C=k===f.columns?"all":k,A[k]=E.filter('[data-column="'+C+'"]').attr(v.filter_defaultAttrib)||A[k]||"";return f.$table.data("lastSearch",A),A},parseFilter:function(h,f,v,b){return b||v.parsed[v.index]?h.parsers[v.index].format(f,h.table,[],v.index):f},buildRow:function(h,f,v){var b,w,k,C,E,A,j,y,u,p=v.filter_cellFilter,m=f.columns,_=o.isArray(p),x='<tr role="search" class="'+r.filterRow+" "+f.cssIgnoreRow+'">';for(k=0;k<m;k++)f.$headerIndexed[k].length&&(u=f.$headerIndexed[k]&&f.$headerIndexed[k][0].colSpan||0,u>1?x+='<td data-column="'+k+"-"+(k+u-1)+'" colspan="'+u+'"':x+='<td data-column="'+k+'"',_?x+=p[k]?' class="'+p[k]+'"':"":x+=p!==""?' class="'+p+'"':"",x+="></td>");for(f.$filters=o(x+="</tr>").appendTo(f.$table.children("thead").eq(0)).children("td"),k=0;k<m;k++)A=!1,C=f.$headerIndexed[k],C&&C.length&&(b=l.getColumnElm(f,f.$filters,k),y=s.getColumnData(h,v.filter_functions,k),E=v.filter_functions&&y&&typeof y!="function"||C.hasClass("filter-select"),w=s.getColumnData(h,f.headers,k),A=s.getData(C[0],w,"filter")==="false"||s.getData(C[0],w,"parser")==="false",E?x=o("<select>").appendTo(b):(y=s.getColumnData(h,v.filter_formatter,k),y?(v.filter_formatterCount++,x=y(b,k),x&&x.length===0&&(x=b.children("input")),x&&(x.parent().length===0||x.parent().length&&x.parent()[0]!==b[0])&&b.append(x)):x=o('<input type="search">').appendTo(b),x&&(u=C.data("placeholder")||C.attr("data-placeholder")||v.filter_placeholder.search||"",x.attr("placeholder",u))),x&&(j=(o.isArray(v.filter_cssFilter)?_typeof(v.filter_cssFilter[k])<"u"&&v.filter_cssFilter[k]||"":v.filter_cssFilter)||"",x.addClass(r.filter+" "+j),j=v.filter_filterLabel,u=j.match(/{{([^}]+?)}}/g),u||(u=["{{label}}"]),o.each(u,function(O,I){var P=new RegExp(I,"g"),D=C.attr("data-"+I.replace(/{{|}}/g,"")),V=(typeof D=="undefined"?"undefined":_typeof(D))>"u"?C.text():D;j=j.replace(P,o.trim(V))}),x.attr({"data-column":b.attr("data-column"),"aria-label":j}),A&&(x.attr("placeholder","").addClass(r.filterDisabled)[0].disabled=!0)))},bindSearch:function(h,f,v){if(h=o(h)[0],f=o(f),!!f.length){var b,w=h.config,k=w.widgetOptions,C=w.namespace+"filter",E=k.filter_$externalFilters;v!==!0&&(b=k.filter_anyColumnSelector+","+k.filter_multipleColumnSelector,k.filter_$anyMatch=f.filter(b),E&&E.length?k.filter_$externalFilters=k.filter_$externalFilters.add(f):k.filter_$externalFilters=f,s.setFilters(h,w.$table.data("lastSearch")||[],v===!1)),b="keypress keyup keydown search change input ".split(" ").join(C+" "),f.attr("data-lastSearchTime",new Date().getTime()).unbind(b.replace(s.regex.spaces," ")).bind("keydown"+C,function(A){if(A.which===d.escape&&!h.config.widgetOptions.filter_resetOnEsc)return!1}).bind("keyup"+C,function(A){k=h.config.widgetOptions;var j=parseInt(o(this).attr("data-column"),10),y=typeof k.filter_liveSearch=="boolean"?k.filter_liveSearch:s.getColumnData(h,k.filter_liveSearch,j);if((typeof y=="undefined"?"undefined":_typeof(y))>"u"&&(y=k.filter_liveSearch.fallback||!1),o(this).attr("data-lastSearchTime",new Date().getTime()),A.which===d.escape)this.value=k.filter_resetOnEsc?"":w.lastSearch[j];else if(this.value!==""&&(typeof y=="number"&&this.value.length<y||A.which!==d.enter&&A.which!==d.backSpace&&(A.which<d.space||A.which>=d.left&&A.which<=d.down))||y===!1&&this.value!==""&&A.which!==d.enter)return;l.searching(h,!0,!0,j)}).bind("search change keypress input blur ".split(" ").join(C+" "),function(A){var j=parseInt(o(this).attr("data-column"),10),y=A.type,u=typeof k.filter_liveSearch=="boolean"?k.filter_liveSearch:s.getColumnData(h,k.filter_liveSearch,j);h.config.widgetOptions.filter_initialized&&(A.which===d.enter||y==="search"||y==="blur"||(y==="change"||y==="input")&&(u===!0||u!==!0&&A.target.nodeName!=="INPUT")&&this.value!==w.lastSearch[j])&&(A.preventDefault(),o(this).attr("data-lastSearchTime",new Date().getTime()),l.searching(h,y!=="keypress"||A.which===d.enter,!0,j))})}},searching:function(h,f,v,b){var w,k=h.config.widgetOptions;(typeof b=="undefined"?"undefined":_typeof(b))>"u"?w=!1:(w=typeof k.filter_liveSearch=="boolean"?k.filter_liveSearch:s.getColumnData(h,k.filter_liveSearch,b),(typeof w=="undefined"?"undefined":_typeof(w))>"u"&&(w=k.filter_liveSearch.fallback||!1)),clearTimeout(k.filter_searchTimer),(typeof f=="undefined"?"undefined":_typeof(f))>"u"||f===!0?k.filter_searchTimer=setTimeout(function(){l.checkFilters(h,f,v)},w?k.filter_searchDelay:10):l.checkFilters(h,f,v)},equalFilters:function(h,f,v){var b,w=[],k=[],C=h.columns+1;for(f=o.isArray(f)?f:[],v=o.isArray(v)?v:[],b=0;b<C;b++)w[b]=f[b]||"",k[b]=v[b]||"";return w.join(",")===k.join(",")},checkFilters:function(h,f,v){var b=h.config,w=b.widgetOptions,k=o.isArray(f),C=k?f:s.getFilters(h,!0),E=C||[];if(o.isEmptyObject(b.cache)){b.delayInit&&(!b.pager||b.pager&&b.pager.initialized)&&s.updateCache(b,function(){l.checkFilters(h,!1,v)});return}if(k&&(s.setFilters(h,C,!1,v!==!0),w.filter_initialized||(b.lastSearch=[],b.lastCombinedFilter="")),w.filter_hideFilters&&b.$table.find("."+r.filterRow).triggerHandler(l.hideFiltersCheck(b)?"mouseleave":"mouseenter"),l.equalFilters(b,b.lastSearch,E)){if(f!==!1)return;b.lastCombinedFilter="",b.lastSearch=[]}if(C=C||[],C=Array.prototype.map?C.map(String):C.join("\uFFFD").split("\uFFFD"),w.filter_initialized&&b.$table.triggerHandler("filterStart",[C]),b.showProcessing)setTimeout(function(){return l.findRows(h,C,E),!1},30);else return l.findRows(h,C,E),!1},hideFiltersCheck:function(h){if(typeof h.widgetOptions.filter_hideFilters=="function"){var f=h.widgetOptions.filter_hideFilters(h);if(typeof f=="boolean")return f}return s.getFilters(h.$table).join("")===""},hideFilters:function(h,f){var v;(f||h.$table).find("."+r.filterRow).addClass(r.filterRowHide).bind("mouseenter mouseleave",function(b){var w=b,k=o(this);clearTimeout(v),v=setTimeout(function(){/enter|over/.test(w.type)?k.removeClass(r.filterRowHide):o(document.activeElement).closest("tr")[0]!==k[0]&&k.toggleClass(r.filterRowHide,l.hideFiltersCheck(h))},200)}).find("input, select").bind("focus blur",function(b){var w=b,k=o(this).closest("tr");clearTimeout(v),v=setTimeout(function(){clearTimeout(v),k.toggleClass(r.filterRowHide,l.hideFiltersCheck(h)&&w.type!=="focus")},200)})},defaultFilter:function(h,f){if(h==="")return h;var v=a.iQuery,b=f.match(a.igQuery).length,w=b>1?o.trim(h).split(/\s/):[o.trim(h)],k=w.length-1,C=0,E=f;for(k<1&&b>1&&(w[1]=w[0]);v.test(E);)E=E.replace(v,w[C++]||""),v.test(E)&&C<k&&(w[C]||"")!==""&&(E=f.replace(v,E));return E},getLatestSearch:function(h){return h?h.sort(function(f,v){return o(v).attr("data-lastSearchTime")-o(f).attr("data-lastSearchTime")}):h||o()},findRange:function(h,f,v){var b,w,k,C,E,A,j,y,u,p=[];if(/^[0-9]+$/.test(f))return[parseInt(f,10)];if(!v&&/-/.test(f))for(w=f.match(/(\d+)\s*-\s*(\d+)/g),u=w?w.length:0,y=0;y<u;y++){for(k=w[y].split(/\s*-\s*/),C=parseInt(k[0],10)||0,E=parseInt(k[1],10)||h.columns-1,C>E&&(b=C,C=E,E=b),E>=h.columns&&(E=h.columns-1);C<=E;C++)p[p.length]=C;f=f.replace(w[y],"")}if(!v&&/,/.test(f))for(A=f.split(/\s*,\s*/),u=A.length,j=0;j<u;j++)A[j]!==""&&(y=parseInt(A[j],10),y<h.columns&&(p[p.length]=y));if(!p.length)for(y=0;y<h.columns;y++)p[p.length]=y;return p},getColumnElm:function(h,f,v){return f.filter(function(){var b=l.findRange(h,o(this).attr("data-column"));return o.inArray(v,b)>-1})},multipleColumns:function(h,f){var v=h.widgetOptions,b=v.filter_initialized||!f.filter(v.filter_anyColumnSelector).length,w=o.trim(l.getLatestSearch(f).attr("data-column")||"");return l.findRange(h,w,!b)},processTypes:function(h,f,v){var b,w=null,k=null;for(b in l.types)o.inArray(b,v.excludeMatch)<0&&k===null&&(k=l.types[b](h,f,v),k!==null&&(f.matchedOn=b,w=k));return w},matchType:function(h,f){var v,b=h.widgetOptions,w=h.$headerIndexed[f];return w.hasClass("filter-exact")?v=!1:w.hasClass("filter-match")?v=!0:(b.filter_columnFilters?w=h.$filters.find("."+r.filter).add(b.filter_$externalFilters).filter('[data-column="'+f+'"]'):b.filter_$externalFilters&&(w=b.filter_$externalFilters.filter('[data-column="'+f+'"]')),v=w.length?h.widgetOptions.filter_matchType[(w[0].nodeName||"").toLowerCase()]==="match":!1),v},processRow:function(h,f,v){var b,w,k,C,E,A=h.widgetOptions,j=!0,y=A.filter_$anyMatch&&A.filter_$anyMatch.length,u=A.filter_$anyMatch&&A.filter_$anyMatch.length?l.multipleColumns(h,A.filter_$anyMatch):[];if(f.$cells=f.$row.children(),f.matchedOn=null,f.anyMatchFlag&&u.length>1||f.anyMatchFilter&&!y){if(f.anyMatch=!0,f.isMatch=!0,f.rowArray=f.$cells.map(function(p){if(o.inArray(p,u)>-1||f.anyMatchFilter&&!y)return f.parsed[p]?E=f.cacheArray[p]:(E=f.rawArray[p],E=o.trim(A.filter_ignoreCase?E.toLowerCase():E),h.sortLocaleCompare&&(E=s.replaceAccents(E))),E}).get(),f.filter=f.anyMatchFilter,f.iFilter=f.iAnyMatchFilter,f.exact=f.rowArray.join(" "),f.iExact=A.filter_ignoreCase?f.exact.toLowerCase():f.exact,f.cache=f.cacheArray.slice(0,-1).join(" "),v.excludeMatch=v.noAnyMatch,w=l.processTypes(h,f,v),w!==null)j=w;else if(A.filter_startsWith)for(j=!1,u=Math.min(h.columns,f.rowArray.length);!j&&u>0;)u--,j=j||f.rowArray[u].indexOf(f.iFilter)===0;else j=(f.iExact+f.childRowText).indexOf(f.iFilter)>=0;if(f.anyMatch=!1,f.filters.join("")===f.filter)return j}for(u=0;u<h.columns;u++)f.filter=f.filters[u],f.index=u,v.excludeMatch=v.excludeFilter[u],f.filter&&(f.cache=f.cacheArray[u],b=f.parsed[u]?f.cache:f.rawArray[u]||"",f.exact=h.sortLocaleCompare?s.replaceAccents(b):b,f.iExact=!a.type.test(_typeof(f.exact))&&A.filter_ignoreCase?f.exact.toLowerCase():f.exact,f.isMatch=l.matchType(h,u),b=j,C=A.filter_columnFilters&&h.$filters.add(A.filter_$externalFilters).filter('[data-column="'+u+'"]').find("select option:selected").attr("data-function-name")||"",h.sortLocaleCompare&&(f.filter=s.replaceAccents(f.filter)),A.filter_defaultFilter&&a.iQuery.test(v.defaultColFilter[u])&&(f.filter=l.defaultFilter(f.filter,v.defaultColFilter[u])),f.iFilter=A.filter_ignoreCase?(f.filter||"").toLowerCase():f.filter,k=v.functions[u],w=null,k&&(typeof k=="function"?w=k(f.exact,f.cache,f.filter,u,f.$row,h,f):typeof k[C||f.filter]=="function"&&(E=C||f.filter,w=k[E](f.exact,f.cache,f.filter,u,f.$row,h,f))),w===null?(w=l.processTypes(h,f,v),E=k===!0&&(f.matchedOn==="and"||f.matchedOn==="or"),w!==null&&!E?b=w:k===!0?b=f.isMatch?(""+f.iExact).search(f.iFilter)>=0:f.filter===f.exact:(E=(f.iExact+f.childRowText).indexOf(l.parseFilter(h,f.iFilter,f)),b=!A.filter_startsWith&&E>=0||A.filter_startsWith&&E===0)):b=w,j=b?j:!1);return j},findRows:function(h,f,v){if(!(l.equalFilters(h.config,h.config.lastSearch,v)||!h.config.widgetOptions.filter_initialized)){var b,w,k,C,E,A,j,y,u,p,m,_,x,O,I,P,D,V,q,z,he,Y,B,F,ce=o.extend([],f),J=h.config,ae=J.widgetOptions,se=s.debug(J,"filter"),ve={anyMatch:!1,filters:f,filter_regexCache:[]},de={noAnyMatch:["range","operators"],functions:[],excludeFilter:[],defaultColFilter:[],defaultAnyFilter:s.getColumnData(h,ae.filter_defaultFilter,J.columns,!0)||""};for(ve.parsed=[],u=0;u<J.columns;u++)ve.parsed[u]=ae.filter_useParsedData||J.parsers&&J.parsers[u]&&J.parsers[u].parsed||s.getData&&s.getData(J.$headerIndexed[u],s.getColumnData(h,J.headers,u),"filter")==="parsed"||J.$headerIndexed[u].hasClass("filter-parsed"),de.functions[u]=s.getColumnData(h,ae.filter_functions,u)||J.$headerIndexed[u].hasClass("filter-select"),de.defaultColFilter[u]=s.getColumnData(h,ae.filter_defaultFilter,u)||"",de.excludeFilter[u]=(s.getColumnData(h,ae.filter_excludeFilter,u,!0)||"").split(/\s+/);for(se&&(console.log("Filter >> Starting filter widget search",f),I=new Date),J.filteredRows=0,J.totalRows=0,v=ce||[],j=0;j<J.$tbodies.length;j++){if(y=s.processTbody(h,J.$tbodies.eq(j),!0),u=J.columns,w=J.cache[j].normalized,C=o(o.map(w,function(Be){return Be[u].$row.get()})),v.join("")===""||ae.filter_serversideFiltering)C.removeClass(ae.filter_filteredRow).not("."+J.cssChildRow).css("display","");else{if(C=C.not("."+J.cssChildRow),b=C.length,(ae.filter_$anyMatch&&ae.filter_$anyMatch.length||_typeof(f[J.columns])<"u")&&(ve.anyMatchFlag=!0,ve.anyMatchFilter=""+(f[J.columns]||ae.filter_$anyMatch&&l.getLatestSearch(ae.filter_$anyMatch).val()||""),ae.filter_columnAnyMatch)){for(z=ve.anyMatchFilter.split(a.andSplit),he=!1,D=0;D<z.length;D++)Y=z[D].split(":"),Y.length>1&&(isNaN(Y[0])?o.each(J.headerContent,function(Be,it){it.toLowerCase().indexOf(Y[0])>-1&&(B=Be,f[B]=Y[1])}):B=parseInt(Y[0],10)-1,B>=0&&B<J.columns&&(f[B]=Y[1],z.splice(D,1),D--,he=!0));he&&(ve.anyMatchFilter=z.join(" && "))}if(q=ae.filter_searchFiltered,_=J.lastSearch||J.$table.data("lastSearch")||[],q)for(D=0;D<u+1;D++)P=f[D]||"",q||(D=u),q=q&&_.length&&P.indexOf(_[D]||"")===0&&!a.alreadyFiltered.test(P)&&!a.exactTest.test(P)&&!(a.isNeg1.test(P)||a.isNeg2.test(P))&&!(P!==""&&J.$filters&&J.$filters.filter('[data-column="'+D+'"]').find("select").length&&!l.matchType(J,D));for(V=C.not("."+ae.filter_filteredRow).length,q&&V===0&&(q=!1),se&&console.log("Filter >> Searching through "+(q&&V<b?V:"all")+" rows"),ve.anyMatchFlag&&(J.sortLocaleCompare&&(ve.anyMatchFilter=s.replaceAccents(ve.anyMatchFilter)),ae.filter_defaultFilter&&a.iQuery.test(de.defaultAnyFilter)&&(ve.anyMatchFilter=l.defaultFilter(ve.anyMatchFilter,de.defaultAnyFilter),q=!1),ve.iAnyMatchFilter=ae.filter_ignoreCase&&J.ignoreCase?ve.anyMatchFilter.toLowerCase():ve.anyMatchFilter),A=0;A<b;A++)if(F=C[A].className,p=A&&a.child.test(F),!(p||q&&a.filtered.test(F))){if(ve.$row=C.eq(A),ve.rowIndex=A,ve.cacheArray=w[A],k=ve.cacheArray[J.columns],ve.rawArray=k.raw,ve.childRowText="",!ae.filter_childByColumn){for(F="",m=k.child,D=0;D<m.length;D++)F+=" "+m[D].join(" ")||"";ve.childRowText=ae.filter_childRows?ae.filter_ignoreCase?F.toLowerCase():F:""}if(x=!1,O=l.processRow(J,ve,de),E=k.$row,P=!!O,m=k.$row.filter(":gt(0)"),ae.filter_childRows&&m.length){if(ae.filter_childByColumn)for(ae.filter_childWithSibs||(m.addClass(ae.filter_filteredRow),E=E.eq(0)),D=0;D<m.length;D++)ve.$row=m.eq(D),ve.cacheArray=k.child[D],ve.rawArray=ve.cacheArray,P=l.processRow(J,ve,de),x=x||P,!ae.filter_childWithSibs&&P&&m.eq(D).removeClass(ae.filter_filteredRow);x=x||O}else x=P;E.toggleClass(ae.filter_filteredRow,!x)[0].display=x?"":"none"}}J.filteredRows+=C.not("."+ae.filter_filteredRow).length,J.totalRows+=C.length,s.processTbody(h,y,!1)}J.lastCombinedFilter=ce.join(""),J.lastSearch=ce,J.$table.data("lastSearch",ce),ae.filter_saveFilters&&s.storage&&s.storage(h,"tablesorter-filters",l.processFilters(ce,!0)),se&&console.log("Filter >> Completed search"+s.benchmark(I)),ae.filter_initialized&&(J.$table.triggerHandler("filterBeforeEnd",J),J.$table.triggerHandler("filterEnd",J)),setTimeout(function(){s.applyWidget(J.table)},0)}},getOptionSource:function(h,f,v){h=o(h)[0];var b=h.config,w=b.widgetOptions,k=!1,C=w.filter_selectSource,E=b.$table.data("lastSearch")||[],A=typeof C=="function"?!0:s.getColumnData(h,C,f);if(v&&E[f]!==""&&(v=!1),A===!0)k=C(h,f,v);else{if(_instanceof(A,o)||o.type(A)==="string"&&A.indexOf("</option>")>=0)return A;if(o.isArray(A))k=A;else if(o.type(C)==="object"&&A&&(k=A(h,f,v),k===null))return null}return k===!1&&(k=l.getOptions(h,f,v)),l.processOptions(h,f,k)},processOptions:function(h,f,v){if(!o.isArray(v))return!1;h=o(h)[0];var b,w,k,C,E,A,j=h.config,y=(typeof f=="undefined"?"undefined":_typeof(f))<"u"&&f!==null&&f>=0&&f<j.columns,u=y?j.$headerIndexed[f].hasClass("filter-select-sort-desc"):!1,p=[];if(v=o.grep(v,function(m,_){return m.text?!0:o.inArray(m,v)===_}),y&&j.$headerIndexed[f].hasClass("filter-select-nosort"))return v;for(C=v.length,k=0;k<C;k++)w=v[k],A=w.text?w.text:w,E=(y&&j.parsers&&j.parsers.length&&j.parsers[f].format(A,h,[],f)||A).toString(),E=j.widgetOptions.filter_ignoreCase?E.toLowerCase():E,w.text?(w.parsed=E,p[p.length]=w):p[p.length]={text:w,parsed:E};for(b=j.textSorter||"",p.sort(function(m,_){var x=u?_.parsed:m.parsed,O=u?m.parsed:_.parsed;return y&&typeof b=="function"?b(x,O,!0,f,h):y&&typeof b=="object"&&b.hasOwnProperty(f)?b[f](x,O,!0,f,h):s.sortNatural?s.sortNatural(x,O):!0}),v=[],C=p.length,k=0;k<C;k++)v[v.length]=p[k];return v},getOptions:function(h,f,v){h=o(h)[0];var b,w,k,C,E,A,j,y,u=h.config,p=u.widgetOptions,m=[];for(w=0;w<u.$tbodies.length;w++)for(E=u.cache[w],k=u.cache[w].normalized.length,b=0;b<k;b++)if(C=E.row?E.row[b]:E.normalized[b][u.columns].$row[0],!(v&&C.className.match(p.filter_filteredRow))){if(p.filter_useParsedData||u.parsers[f].parsed||u.$headerIndexed[f].hasClass("filter-parsed")){if(m[m.length]=""+E.normalized[b][f],p.filter_childRows&&p.filter_childByColumn)for(y=E.normalized[b][u.columns].$row.length-1,A=0;A<y;A++)m[m.length]=""+E.normalized[b][u.columns].child[A][f]}else if(m[m.length]=E.normalized[b][u.columns].raw[f],p.filter_childRows&&p.filter_childByColumn)for(y=E.normalized[b][u.columns].$row.length,A=1;A<y;A++)j=E.normalized[b][u.columns].$row.eq(A).children().eq(f),m[m.length]=""+s.getElementText(u,j,f)}return m},buildSelect:function(h,f,v,b,w){if(h=o(h)[0],f=parseInt(f,10),!(!h.config.cache||o.isEmptyObject(h.config.cache))){var k,C,E,A,j,y,u,p=h.config,m=p.widgetOptions,_=p.$headerIndexed[f],x='<option value="">'+(_.data("placeholder")||_.attr("data-placeholder")||m.filter_placeholder.select||"")+"</option>",O=p.$table.find("thead").find("select."+r.filter+'[data-column="'+f+'"]').val();if(!(((typeof v=="undefined"?"undefined":_typeof(v))>"u"||v==="")&&(v=l.getOptionSource(h,f,w),v===null))){if(o.isArray(v)){for(k=0;k<v.length;k++)if(u=v[k],u.text){u["data-function-name"]=_typeof(u.value)>"u"?u.text:u.value,x+="<option";for(C in u)u.hasOwnProperty(C)&&C!=="text"&&(x+=" "+C+'="'+u[C].replace(a.quote,"&quot;")+'"');u.value||(x+=' value="'+u.text.replace(a.quote,"&quot;")+'"'),x+=">"+u.text.replace(a.quote,"&quot;")+"</option>"}else""+u!="[object Object]"&&(E=u=(""+u).replace(a.quote,"&quot;"),C=E,E.indexOf(m.filter_selectSourceSeparator)>=0&&(A=E.split(m.filter_selectSourceSeparator),C=A[0],E=A[1]),x+=u!==""?"<option "+(C===E?"":'data-function-name="'+u+'" ')+'value="'+C+'">'+E+"</option>":"");v=[]}j=(p.$filters?p.$filters:p.$table.children("thead")).find("."+r.filter),m.filter_$externalFilters&&(j=j&&j.length?j.add(m.filter_$externalFilters):m.filter_$externalFilters),y=j.filter('select[data-column="'+f+'"]'),y.length&&(y[b?"html":"append"](x),o.isArray(v)||y.append(v).val(O),y.val(O))}}},buildDefault:function(h,f){var v,b,w,k=h.config,C=k.widgetOptions,E=k.columns;for(v=0;v<E;v++)b=k.$headerIndexed[v],w=!(b.hasClass("filter-false")||b.hasClass("parser-false")),(b.hasClass("filter-select")||s.getColumnData(h,C.filter_functions,v)===!0)&&w&&l.buildSelect(h,v,"",f,b.hasClass(C.filter_onlyAvail))}},a=l.regex,s.getFilters=function(c,h,f,v){var b,w,k,C,E=[],A=c?o(c)[0].config:"",j=A?A.widgetOptions:"";if(h!==!0&&j&&!j.filter_columnFilters||o.isArray(f)&&l.equalFilters(A,f,A.lastSearch))return o(c).data("lastSearch")||[];if(A&&(A.$filters&&(w=A.$filters.find("."+r.filter)),j.filter_$externalFilters&&(w=w&&w.length?w.add(j.filter_$externalFilters):j.filter_$externalFilters),w&&w.length))for(E=f||[],b=0;b<A.columns+1;b++)C=b===A.columns?j.filter_anyColumnSelector+","+j.filter_multipleColumnSelector:'[data-column="'+b+'"]',k=w.filter(C),k.length&&(k=l.getLatestSearch(k),o.isArray(f)?(v&&k.length>1&&(k=k.slice(1)),b===A.columns&&(C=k.filter(j.filter_anyColumnSelector),k=C.length?C:k),k.val(f[b]).trigger("change"+A.namespace)):(E[b]=k.val()||"",b===A.columns?k.slice(1).filter('[data-column*="'+k.attr("data-column")+'"]').val(E[b]):k.slice(1).val(E[b])),b===A.columns&&k.length&&(j.filter_$anyMatch=k));return E},s.setFilters=function(c,h,f,v){var b=c?o(c)[0].config:"",w=s.getFilters(c,!0,h,v);return(typeof f=="undefined"?"undefined":_typeof(f))>"u"&&(f=!0),b&&f&&(b.lastCombinedFilter=null,b.lastSearch=[],l.searching(b.table,h,v),b.$table.triggerHandler("filterFomatterUpdate")),w.length!==0}}(n),function(o,l){"use strict";var a=function(d,c){var h=isNaN(c.stickyHeaders_offset)?o(c.stickyHeaders_offset):[];return h.length?h.height()||0:parseInt(c.stickyHeaders_offset,10)||0},s=o.tablesorter||{};o.extend(s.css,{sticky:"tablesorter-stickyHeader",stickyVis:"tablesorter-sticky-visible",stickyHide:"tablesorter-sticky-hidden",stickyWrap:"tablesorter-sticky-wrapper"}),s.addHeaderResizeEvent=function(r,d,c){if(r=o(r)[0],!!r.config){var h={timer:250},f=o.extend({},h,c),v=r.config,b=v.widgetOptions,w=function(C){var E,A,j,y,u,p,m=v.$headers.length;for(b.resize_flag=!0,A=[],E=0;E<m;E++)j=v.$headers.eq(E),y=j.data("savedSizes")||[0,0],u=j[0].offsetWidth,p=j[0].offsetHeight,(u!==y[0]||p!==y[1])&&(j.data("savedSizes",[u,p]),A.push(j[0]));A.length&&C!==!1&&v.$table.triggerHandler("resize",[A]),b.resize_flag=!1};if(clearInterval(b.resize_timer),d)return b.resize_flag=!1,!1;w(!1),b.resize_timer=setInterval(function(){b.resize_flag||w()},f.timer)}},s.addWidget({id:"stickyHeaders",priority:54,options:{stickyHeaders:"",stickyHeaders_appendTo:null,stickyHeaders_attachTo:null,stickyHeaders_xScroll:null,stickyHeaders_yScroll:null,stickyHeaders_offset:0,stickyHeaders_filteredToTop:!0,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:!0,stickyHeaders_includeCaption:!0,stickyHeaders_zIndex:2},format:function(d,c,h){if(!(c.$table.hasClass("hasStickyHeaders")||o.inArray("filter",c.widgets)>=0&&!c.$table.hasClass("hasFilters"))){var f,v,b,w=c.$table,k=o(h.stickyHeaders_attachTo||h.stickyHeaders_appendTo),C=c.namespace+"stickyheaders ",E=o(h.stickyHeaders_yScroll||h.stickyHeaders_attachTo||l),A=o(h.stickyHeaders_xScroll||h.stickyHeaders_attachTo||l),j=w.children("thead:first"),y=j.children("tr").not(".sticky-false").children(),u=w.children("tfoot"),p=a(c,h),m=w.parent().closest("."+s.css.table).hasClass("hasStickyHeaders")?w.parent().closest("table.tablesorter")[0].config.widgetOptions.$sticky.parent():[],_=m.length?m.height():0,x=h.$sticky=w.clone().addClass("containsStickyHeaders "+s.css.sticky+" "+h.stickyHeaders+" "+c.namespace.slice(1)+"_extra_table").wrap('<div class="'+s.css.stickyWrap+'">'),O=x.parent().addClass(s.css.stickyHide).css({position:k.length?"absolute":"fixed",padding:parseInt(x.parent().parent().css("padding-left"),10),top:p+_,left:0,visibility:"hidden",zIndex:h.stickyHeaders_zIndex||2}),I=x.children("thead:first"),P,D="",V=function(B,F){var ce,J,ae,se,ve,de=B.filter(":visible"),Be=de.length;for(ce=0;ce<Be;ce++)se=F.filter(":visible").eq(ce),ve=de.eq(ce),ve.css("box-sizing")==="border-box"?J=ve.outerWidth():se.css("border-collapse")==="collapse"?l.getComputedStyle?J=parseFloat(l.getComputedStyle(ve[0],null).width):(ae=parseFloat(ve.css("border-width")),J=ve.outerWidth()-parseFloat(ve.css("padding-left"))-parseFloat(ve.css("padding-right"))-ae):J=ve.width(),se.css({width:J,"min-width":J,"max-width":J})},q=function(B){return B===!1&&m.length?w.position().left:k.length?parseInt(k.css("padding-left"),10)||0:w.offset().left-parseInt(w.css("margin-left"),10)-o(l).scrollLeft()},z=function(){O.css({left:q(),width:w.outerWidth()}),V(w,x),V(y,P)},he=function(B){if(w.is(":visible")){_=m.length?m.offset().top-E.scrollTop()+m.height():0;var F,ce=w.offset(),J=a(c,h),ae=o.isWindow(E[0]),se=ae?E.scrollTop():m.length?parseInt(m[0].style.top,10):E.offset().top,ve=k.length?se:E.scrollTop(),de=h.stickyHeaders_includeCaption?0:w.children("caption").height()||0,Be=ve+J+_-de,it=w.height()-(O.height()+(u.height()||0))-de,mt=Be>ce.top&&Be<ce.top+it?"visible":"hidden",ot=mt==="visible"?s.css.stickyVis:s.css.stickyHide,Ae=!O.hasClass(ot),xe={visibility:mt};k.length&&(Ae=!0,xe.top=ae?Be-k.offset().top:k.scrollTop()),F=q(ae),F!==parseInt(O.css("left"),10)&&(Ae=!0,xe.left=F),xe.top=(xe.top||0)+(!ae&&m.length?m.height():J+_),Ae&&O.removeClass(s.css.stickyVis+" "+s.css.stickyHide).addClass(ot).css(xe),(mt!==D||B)&&(z(),D=mt)}};if(k.length&&!k.css("position")&&k.css("position","relative"),x.attr("id")&&(x[0].id+=h.stickyHeaders_cloneId),x.find("> thead:gt(0), tr.sticky-false").hide(),x.find("> tbody, > tfoot").remove(),x.find("caption").toggle(h.stickyHeaders_includeCaption),P=I.children().children(),x.css({height:0,width:0,margin:0}),P.find("."+s.css.resizer).remove(),w.addClass("hasStickyHeaders").bind("pagerComplete"+C,function(){z()}),s.bindEvents(d,I.children().children("."+s.css.header)),h.stickyHeaders_appendTo?o(h.stickyHeaders_appendTo).append(O):w.after(O),c.onRenderHeader)for(b=I.children("tr").children(),v=b.length,f=0;f<v;f++)c.onRenderHeader.apply(b.eq(f),[f,c,x]);A.add(E).unbind("scroll resize ".split(" ").join(C).replace(/\s+/g," ")).bind("scroll resize ".split(" ").join(C),function(Y){he(Y.type==="resize")}),c.$table.unbind("stickyHeadersUpdate"+C).bind("stickyHeadersUpdate"+C,function(){he(!0)}),h.stickyHeaders_addResizeEvent&&s.addHeaderResizeEvent(d),w.hasClass("hasFilters")&&h.filter_columnFilters&&(w.bind("filterEnd"+C,function(){var Y=o(document.activeElement).closest("td"),B=Y.parent().children().index(Y);O.hasClass(s.css.stickyVis)&&h.stickyHeaders_filteredToTop&&(l.scrollTo(0,w.position().top),B>=0&&c.$filters&&c.$filters.eq(B).find("a, select, input").filter(":visible").focus())}),s.filter.bindSearch(w,P.find("."+s.css.filter)),h.filter_hideFilters&&s.filter.hideFilters(c,x)),h.stickyHeaders_addResizeEvent&&w.bind("resize"+c.namespace+"stickyheaders",function(){z()}),he(!0),w.triggerHandler("stickyHeadersInit")}},remove:function(d,c,h){var f=c.namespace+"stickyheaders ";c.$table.removeClass("hasStickyHeaders").unbind("pagerComplete resize filterEnd stickyHeadersUpdate ".split(" ").join(f).replace(/\s+/g," ")).next("."+s.css.stickyWrap).remove(),h.$sticky&&h.$sticky.length&&h.$sticky.remove(),o(l).add(h.stickyHeaders_xScroll).add(h.stickyHeaders_yScroll).add(h.stickyHeaders_attachTo).unbind("scroll resize ".split(" ").join(f).replace(/\s+/g," ")),s.addHeaderResizeEvent(d,!0)}})}(n,window),function(o,l){"use strict";var a=o.tablesorter||{};o.extend(a.css,{resizableContainer:"tablesorter-resizable-container",resizableHandle:"tablesorter-resizable-handle",resizableNoSelect:"tablesorter-disableSelection",resizableStorage:"tablesorter-resizable"}),o(function(){var s="<style>body."+a.css.resizableNoSelect+" { -ms-user-select: none; -moz-user-select: -moz-none;-khtml-user-select: none; -webkit-user-select: none; user-select: none; }."+a.css.resizableContainer+" { position: relative; height: 1px; }."+a.css.resizableHandle+" { position: absolute; display: inline-block; width: 8px;top: 1px; cursor: ew-resize; z-index: 3; user-select: none; -moz-user-select: none; }</style>";o("head").append(s)}),a.resizable={init:function(r,d){if(!r.$table.hasClass("hasResizable")){r.$table.addClass("hasResizable");var c,h,f,v,b,w=r.$table,k=w.parent(),C=parseInt(w.css("margin-top"),10),E=d.resizable_vars={useStorage:a.storage&&d.resizable!==!1,$wrap:k,mouseXPosition:0,$target:null,$next:null,overflow:k.css("overflow")==="auto"||k.css("overflow")==="scroll"||k.css("overflow-x")==="auto"||k.css("overflow-x")==="scroll",storedSizes:[]};for(a.resizableReset(r.table,!0),E.tableWidth=w.width(),E.fullWidth=Math.abs(k.width()-E.tableWidth)<20,E.useStorage&&E.overflow&&(a.storage(r.table,"tablesorter-table-original-css-width",E.tableWidth),b=a.storage(r.table,"tablesorter-table-resized-width")||"auto",a.resizable.setWidth(w,b,!0)),d.resizable_vars.storedSizes=v=(E.useStorage?a.storage(r.table,a.css.resizableStorage):[])||[],a.resizable.setWidths(r,d,v),a.resizable.updateStoredSizes(r,d),d.$resizable_container=o('<div class="'+a.css.resizableContainer+'">').css({top:C}).insertBefore(w),f=0;f<r.columns;f++)h=r.$headerIndexed[f],b=a.getColumnData(r.table,r.headers,f),c=a.getData(h,b,"resizable")==="false",c||o('<div class="'+a.css.resizableHandle+'">').appendTo(d.$resizable_container).attr({"data-column":f,unselectable:"on"}).data("header",h).bind("selectstart",!1);a.resizable.bindings(r,d)}},updateStoredSizes:function(r,d){var c,h,f=r.columns,v=d.resizable_vars;for(v.storedSizes=[],c=0;c<f;c++)h=r.$headerIndexed[c],v.storedSizes[c]=h.is(":visible")?h.width():0},setWidth:function(r,d,c){r.css({width:d,"min-width":c?d:"","max-width":c?d:""})},setWidths:function(r,d,c){var h,f,v=d.resizable_vars,b=o(r.namespace+"_extra_headers"),w=r.$table.children("colgroup").children("col");if(c=c||v.storedSizes||[],c.length){for(h=0;h<r.columns;h++)a.resizable.setWidth(r.$headerIndexed[h],c[h],v.overflow),b.length&&(f=b.eq(h).add(w.eq(h)),a.resizable.setWidth(f,c[h],v.overflow));f=o(r.namespace+"_extra_table"),f.length&&!a.hasWidget(r.table,"scroller")&&a.resizable.setWidth(f,r.$table.outerWidth(),v.overflow)}},setHandlePosition:function(r,d){var c,h=r.$table.height(),f=d.$resizable_container.children(),v=Math.floor(f.width()/2);a.hasWidget(r.table,"scroller")&&(h=0,r.$table.closest("."+a.css.scrollerWrap).children().each(function(){var b=o(this);h+=b.filter('[style*="height"]').length?b.height():b.children("table").height()})),!d.resizable_includeFooter&&r.$table.children("tfoot").length&&(h-=r.$table.children("tfoot").height()),c=parseFloat(o.fn.jquery)>=3.3?0:r.$table.position().left,f.each(function(){var b=o(this),w=parseInt(b.attr("data-column"),10),k=r.columns-1,C=b.data("header");C&&(!C.is(":visible")||!d.resizable_addLastColumn&&a.resizable.checkVisibleColumns(r,w)?b.hide():(w<k||w===k&&d.resizable_addLastColumn)&&b.css({display:"inline-block",height:h,left:C.position().left-c+C.outerWidth()-v}))})},checkVisibleColumns:function(r,d){var c,h=0;for(c=d+1;c<r.columns;c++)h+=r.$headerIndexed[c].is(":visible")?1:0;return h===0},toggleTextSelection:function(r,d,c){var h=r.namespace+"tsresize";d.resizable_vars.disabled=c,o("body").toggleClass(a.css.resizableNoSelect,c),c?o("body").attr("unselectable","on").bind("selectstart"+h,!1):o("body").removeAttr("unselectable").unbind("selectstart"+h)},bindings:function(r,d){var c=r.namespace+"tsresize";d.$resizable_container.children().bind("mousedown",function(h){var f,v=d.resizable_vars,b=o(r.namespace+"_extra_headers"),w=o(h.target).data("header");f=parseInt(w.attr("data-column"),10),v.$target=w=w.add(b.filter('[data-column="'+f+'"]')),v.target=f,v.$next=h.shiftKey||d.resizable_targetLast?w.parent().children().not(".resizable-false").filter(":last"):w.nextAll(":not(.resizable-false)").eq(0),f=parseInt(v.$next.attr("data-column"),10),v.$next=v.$next.add(b.filter('[data-column="'+f+'"]')),v.next=f,v.mouseXPosition=h.pageX,a.resizable.updateStoredSizes(r,d),a.resizable.toggleTextSelection(r,d,!0)}),o(document).bind("mousemove"+c,function(h){var f=d.resizable_vars;!f.disabled||f.mouseXPosition===0||!f.$target||(d.resizable_throttle?(clearTimeout(f.timer),f.timer=setTimeout(function(){a.resizable.mouseMove(r,d,h)},isNaN(d.resizable_throttle)?5:d.resizable_throttle)):a.resizable.mouseMove(r,d,h))}).bind("mouseup"+c,function(){d.resizable_vars.disabled&&(a.resizable.toggleTextSelection(r,d,!1),a.resizable.stopResize(r,d),a.resizable.setHandlePosition(r,d))}),o(l).bind("resize"+c+" resizeEnd"+c,function(){a.resizable.setHandlePosition(r,d)}),r.$table.bind("columnUpdate pagerComplete resizableUpdate ".split(" ").join(c+" "),function(){a.resizable.setHandlePosition(r,d)}).bind("resizableReset"+c,function(){a.resizableReset(r.table)}).find("thead:first").add(o(r.namespace+"_extra_table").find("thead:first")).bind("contextmenu"+c,function(){var h=d.resizable_vars.storedSizes.length===0;return a.resizableReset(r.table),a.resizable.setHandlePosition(r,d),d.resizable_vars.storedSizes=[],h})},mouseMove:function(r,d,c){if(!(d.resizable_vars.mouseXPosition===0||!d.resizable_vars.$target)){var h,f=0,v=d.resizable_vars,b=v.$next,w=v.storedSizes[v.target],k=c.pageX-v.mouseXPosition;if(v.overflow){if(w+k>0){for(v.storedSizes[v.target]+=k,a.resizable.setWidth(v.$target,v.storedSizes[v.target],!0),h=0;h<r.columns;h++)f+=v.storedSizes[h];a.resizable.setWidth(r.$table.add(o(r.namespace+"_extra_table")),f)}b.length||(v.$wrap[0].scrollLeft=r.$table.width())}else v.fullWidth?(v.storedSizes[v.target]+=k,v.storedSizes[v.next]-=k,a.resizable.setWidths(r,d)):(v.storedSizes[v.target]+=k,a.resizable.setWidths(r,d));v.mouseXPosition=c.pageX,r.$table.triggerHandler("stickyHeadersUpdate")}},stopResize:function(r,d){var c=d.resizable_vars;a.resizable.updateStoredSizes(r,d),c.useStorage&&(a.storage(r.table,a.css.resizableStorage,c.storedSizes),a.storage(r.table,"tablesorter-table-resized-width",r.$table.width())),c.mouseXPosition=0,c.$target=c.$next=null,r.$table.triggerHandler("stickyHeadersUpdate"),r.$table.triggerHandler("resizableComplete")}},a.addWidget({id:"resizable",priority:40,options:{resizable:!0,resizable_addLastColumn:!1,resizable_includeFooter:!0,resizable_widths:[],resizable_throttle:!1,resizable_targetLast:!1},init:function(r,d,c,h){a.resizable.init(c,h)},format:function(r,d,c){a.resizable.setHandlePosition(d,c)},remove:function(r,d,c,h){if(c.$resizable_container){var f=d.namespace+"tsresize";d.$table.add(o(d.namespace+"_extra_table")).removeClass("hasResizable").children("thead").unbind("contextmenu"+f),c.$resizable_container.remove(),a.resizable.toggleTextSelection(d,c,!1),a.resizableReset(r,h),o(document).unbind("mousemove"+f+" mouseup"+f)}}}),a.resizableReset=function(s,r){o(s).each(function(){var d,c,h=this.config,f=h&&h.widgetOptions,v=f.resizable_vars;if(s&&h&&h.$headerIndexed.length){for(v.overflow&&v.tableWidth&&(a.resizable.setWidth(h.$table,v.tableWidth,!0),v.useStorage&&a.storage(s,"tablesorter-table-resized-width",v.tableWidth)),d=0;d<h.columns;d++)c=h.$headerIndexed[d],f.resizable_widths&&f.resizable_widths[d]?a.resizable.setWidth(c,f.resizable_widths[d],v.overflow):c.hasClass("resizable-false")||a.resizable.setWidth(c,"",v.overflow);h.$table.triggerHandler("stickyHeadersUpdate"),a.storage&&!r&&a.storage(this,a.css.resizableStorage,[])}})}}(n,window),function(o){"use strict";var l=function(d){var c=s.storage(d.table,"tablesorter-savesort");return c&&c.hasOwnProperty("sortList")&&o.isArray(c.sortList)?c.sortList:[]},a=function(d,c){return(c||l(d)).join(",")!==d.sortList.join(",")},s=o.tablesorter||{};s.addWidget({id:"saveSort",priority:20,options:{saveSort:!0},init:function(d,c,h,f){c.format(d,h,f,!0)},format:function(d,c,h,f){var v,b=c.$table,w=h.saveSort!==!1,k={sortList:c.sortList},C=s.debug(c,"saveSort");C&&(v=new Date),b.hasClass("hasSaveSort")?w&&d.hasInitialized&&s.storage&&a(c)&&(s.storage(d,"tablesorter-savesort",k),C&&console.log("saveSort >> Saving last sort: "+c.sortList+s.benchmark(v))):(b.addClass("hasSaveSort"),k="",s.storage&&(k=l(c),C&&console.log('saveSort >> Last sort loaded: "'+k+'"'+s.benchmark(v)),b.bind("saveSortReset",function(E){E.stopPropagation(),s.storage(d,"tablesorter-savesort","")})),f&&k&&k.length>0?c.sortList=k:d.hasInitialized&&k&&k.length>0&&a(c,k)&&s.sortOn(c,k))},remove:function(d,c){c.$table.removeClass("hasSaveSort"),s.storage&&s.storage(d,"tablesorter-savesort","")}})}(n),n.tablesorter})}),lm={},H6(lm,{default:function(){return cm}}),V6=am(sm()),U6(lm,am(sm()));var g;tr=V6,g=tr,um=g.default,W6=Bi(tr,["default"]),cm=um!==void 0?um:W6}}),G6={};wi(G6,{default:function(){return cm}});var tP=Ht({"https-url:https://esm.archive.org/tablesorter?deps=jquery@3.6.1":function(){Td(),q6(),q6()}}),Or,oh=Ht({"components/archive/archive.js":function(){ka(),Ai(),n5(),x1(),l5(),j1(),E1(),T1(),P1(),I1(),M1(),bo(),S5(),C5(),t5(),L1(),R1(),D1(),$1(),cv(),N1(),B1(),z1(),Q1(),Or=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,null,[{key:"paramsToJSON",value:function(){return k5()}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||window.DocumentTouch&&_instanceof(document,window.DocumentTouch)}},{key:"emulate_setup",value:function(e){e.toString=function(){return e.identifier},g.emulator=new IALoader(X("#canvas").get(0),e,null),X("#theatre-ia .iconochive-unmute, #theatre-ia .iconochive-mute").hide(),ui.get("unmute")?(X("#theatre-ia .iconochive-unmute").show(),g.emulator.unmute()):(X("#theatre-ia .iconochive-mute").show(),g.emulator.mute()),g.theatre_controls_position(),X(window).on("resize  orientationchange",function(){clearTimeout(g.theatre_controls_position_throttler),g.theatre_controls_position_throttler=setTimeout(g.theatre_controls_position,250)})}},{key:"emulate",value:function(){return X(".ui-keyboard").prepend('\n      <button style="position:relative;top:-5px;right:-8px;" type="button"\n              class="close js-emulate-keyboard" aria-hidden="true">\n        <span class="iconochive-remove-circle"></span></button>').appendTo(X("#emulate .posrel")).addClass("showing"),X("#jsmessSS").fadeOut("slow"),X("#canvasholder").css("visibility","visible"),g.emulator.start({hasCustomCSS:!0}),X(".js-ajs-emulate-fullscreen").on("click",g.emulator.requestFullScreen),mi(".js-emulate-keyboard",function(){return X(".ui-keyboard").removeClass("showing").hide()}),setTimeout(g.theatre_controls_position,100),setTimeout(g.theatre_controls_position,500),setTimeout(g.theatre_controls_position,3e3),setTimeout(g.theatre_controls_position,1e4),!1}},{key:"theatre_controls_position",value:function(e,n,o,l){var a=e,s=l&&!e;if(!(!s&&(e||(a=X("#canvas")),!a.length))){var r=s?l:a.height()||0,d=s?o:a.width()||0;!s&&typeof n!="undefined"&&X("#theatre-controls").offset({top:n});var c=Math.round((X("#theatre-ia-wrap").width()-X("#theatre-controls").width()-d)/2);Cn("width",d),Cn("right_gutter_width",c),X("#theatre-controls").css({height:r,visibility:"visible",right:Math.max(20,c/2)})}}},{key:"theatresize",value:function(e){g.theatresize_maxheight||(g.theatresize_maxheight=null);var n=function(){var o=100,l=1e3,a=Math.min(X(window).width(),400),s=X(window).height()-(X("#navwrap1").height()||0)-o;g.theatresize_maxheight&&(s=Math.min(s,g.theatresize_maxheight)),s=Math.max(s,a);var r=Math.min(s,l);X("#theatre-ia-wrap").addClass("resized").css("height",r),e&&e(X("#theatre-ia-wrap").height()||0)};n(),X(window).on("resize  orientationchange",function(){clearTimeout(g.theatresize_throttler),g.theatresize_throttler=setTimeout(n,250)})}},{key:"carouselsize",value:function(e,n){var o,l=X(e),a=l.find("img.carousel-image").map(function(s,r){var d=X.Deferred(),c;return r.complete?c=d.resolve(r.naturalHeight).promise():(r.addEventListener("load",function(){d.resolve(r.naturalHeight)}),c=d),c}).get();(o=X).when.apply(o,_toConsumableArray(a)).then(function(){for(var s=arguments.length,r=new Array(s),d=0;d<s;d++)r[d]=arguments[d];var c,h=l.height(),f=(c=Math).max.apply(c,_toConsumableArray(r));h>f&&(l.css("maxHeight",f),n&&(g.theatresize_maxheight=f,X(window).trigger("resize")))})}},{key:"popover_menu",value:function(e,n){var o={trigger:"hover focus click",container:e,content:n.content,html:!0};n.title&&(o.title=n.title),n.placement&&(o.placement=n.placement),n.trigger&&(o.trigger=n.trigger),X(e).popover(o)}},{key:"date_switcher",value:function(e){var n="#date_switcher";X(n).tooltip({html:!0,trigger:"manual",placement:"bottom",title:e}).on("mouseenter focusin",function(){X(n).parent().find(".tooltip").length||X(this).tooltip("show")}),X(".sortbar").on("mouseleave",function(){Cn("not hovering sortbar anymore"),X(n).tooltip("hide")}),X(n).on("shown.bs.tooltip",function(){X(n).parent().find(".date_switcher").on("click",function(){X(this).parents(".tooltip").find(".date_switcher.in").removeClass("in"),X(this).addClass("in")})})}},{key:"lists_v_tiles_setup",value:function(e){var n="tiles",o=ui.get("view-".concat(e)),l=ui.get("showdetails-".concat(e)),a=l==="showdetails"||l===void 0&&n==="lists";if(o==="lists"||!o&&n==="lists"){if(a)return;X("body").removeClass("showdetails")}else X("body").removeClass("lists".concat(a?"":" showdetails")).addClass("tiles")}},{key:"showdetails_toggle",value:function(e){var n=X("body"),o=n.hasClass("showdetails")?"":"showdetails";Cn("showdetails_toggle() going to: ",o),ui.set("showdetails-".concat(e),o,{path:"/",expires:30,domain:".archive.org"}),n.toggleClass("showdetails")}},{key:"tiles_toggle",value:function(e,n){var o=X("body"),l=o.hasClass("tiles")?"lists":"tiles";return Cn("tiles_toggle() going to",l),o.removeClass("lists tiles").addClass(l),g.tiler(),ui.set("view-".concat(n),l,{path:"/",expires:30,domain:".archive.org"}),!1}},{key:"inTab",value:function(){var e=X(".welcome .tabby.in .tabby-text").first().text().toLowerCase().trim();return e.indexOf("forum")===0?e.split(" ").shift():e}},{key:"selector",value:function(){var e=g.inTab();if(e==="forum"||e==="posts"||e==="about")return!1;var n=!1;if(e){Cn("inTab",e);var o="#tabby-".concat(e.replace(" ","-"));if(e==="collection"||e==="collections"||e==="uploads"||e==="reviews"||e==="web archives")n="#".concat(X(o.concat(" div.ikind.in:first")).attr("id"));else{var l=X(o.concat(" .ikind.stealth.in:first")).text().toLowerCase().replace(/ /,"-");n="#ikind-".concat(e).concat(l===""?"":"-").concat(l)}}else n="#ikind-".concat(X(".ikind.stealth.in:first").text().toLowerCase().replace(/ /,"-")),X(n).length||(n="#ikind-search");return Cn("SELECTOR",n),n}},{key:"parent_hover",value:function(e){e.find(".item-ia:not(.hov):not(.collection-ia):not(.account-ia)").addClass("hov").mouseover(function(n){return X(n.currentTarget).find(".item-parent").addClass("hoverin")}).mouseout(function(n){return X(n.currentTarget).find(".item-parent").removeClass("hoverin")})}},{key:"tiler",value:function(e,n){X("body").hasClass("tiles")||X("body").hasClass("showdetails")&&X(".sortbar input[name=showdetails]").prop("checked",!0);var o=e||g.selector();if(o!==!1){var l=X(o).first();g.parent_hovered=g.parent_hovered||{},g.parent_hovered[o]||(g.parent_hover(l),g.parent_hovered[o]=!0)}}},{key:"ikind",value:function(e,n){var o="#".concat(n);Cn("ikind",n),X(o).parent().find("div.ikind.in").hide(),X(o).removeClass("hidden").addClass("in").show(),X(o).parents(".tabby-data").find("a.ikind").removeClass("in"),X(e).addClass("in"),g.tiler(o);var l=X(o).parents(".tabby-data").find("select.ikind-mobile"),a=l.find("option:contains(".concat(X(e).text(),")")),s=l.find("option:selected");return a.text().trim()!==s.text().trim()&&(Cn("changing ikind mobile now to ",a.text()),g.ikind_mobile_change_ignore_next=!0,a.attr("selected","selected")),!1}},{key:"ikind_mobile_change",value:function(e){if(g.ikind_mobile_change_ignore_next){g.ikind_mobile_change_ignore_next=!1;return}var n=X(e).find("option:selected");Cn("ikind mobile changed to: ",n.text());var o=X(e).parents(".tabby-data").find("a.ikind");if(o.length||(o=X("body").find("a.ikind")),!!o.length){var l=o.filter(function(s,r){return X(r).text()===n.text()}),a=l.attr("href");Cn("goto",a),a&&(a.substr(0,1)==="#"?X("a.ikind[data-id=".concat(a.substr(1),"]")).click():location.href=a)}}},{key:"popState",value:function(e){if(g.pushState=typeof history.pushState!="undefined",Cn("popState(",e,") called, modern browser: ",g.pushState?"y":"n"),!e){var n=function(o){var l=pp("tab",!0);l?l="#tabby-".concat(l,"-finder"):o?l="#tabby-".concat(o,"-finder"):l=".tabby-default-finder",g.pushState&&Cn("goto tab: ",l," ################################################### STATE"),g.tabby_no_pushState_next_click=!0,X(l).click()};g.pushState&&X(window).on("popstate",function(){return n()}),n()}}},{key:"tabby",value:function(e,n){Cn("AJS.tabby()",n);var o=n.replace(/tabby-/,"").trim();if(!(o==="uploads"||o==="reviews"||o==="collections"||o==="loans"||o==="web archives")){if(X(".tabby-data.in").removeClass("in").hide(),X("#".concat(n)).removeClass("hidden").addClass("in").show(),X(".tabby").removeClass("in"),X(e).parents(".tabby").addClass("in"),g.tabby_no_pushState_next_click)delete g.tabby_no_pushState_next_click;else if(g.pushState&&typeof history.pushState!="undefined"){var l=X(e).attr("href"),a=location.href,s=location.protocol.concat("//",location.host,l);a!==s&&(Cn("pushState: ",l," ################################################### STATE"),history.pushState({},"",s))}(o==="collection"||o==="about")&&(o==="about"&&g.grafs(),g.tiler()),g.pushState&&(event==null||event.preventDefault())}}},{key:"collectionSummaryMoreClicked",value:function(){return g.tabby("#tabby-about-finder","tabby-about")}},{key:"head_img_dragdrop_setup",value:function(e){g.head_img_dragdrop_setup_done||(Cn("head_img_dragdrop_setup"),g.head_img_dragdrop_setup_done=!0,X("#file-dropper-wrap").bind("mouseenter",function(){Cn("enter"),g.head_img_replaceable(e),X("#file-dropper").show()}).bind("mouseleave",function(){Cn("ouddie"),g.file_picked||X("#file-dropper").hide()}),X("body").bind("dragover",function(n){return Cn("dragover"),n.stopPropagation(),n.preventDefault(),g.head_img_replaceable(e),X("#file-dropper").addClass("drag_over").show(),!1}),X("body").bind("dragleave",function(n){Cn("dragleave");var o=X("#file-dropper-wrap").is(":hover")||X("#file-dropper     ").is(":hover")||X("#file-dropper-img ").is(":hover"),l=n.pageX||n.originalEvent.pageX,a=n.pageY||n.originalEvent.pageY;if(!o){var s=X("#file-dropper-wrap"),r=s.offset(),d=r.left,c=r.top;l>=d&&l<=d+s.outerWidth()&&a>=c&&a<=c+s.outerHeight()&&(o=!0)}if(!o){var h=X("#file-dropper"),f=h.offset(),v=f.left,b=f.top;l>=v&&l<=v+h.outerWidth()&&a>=b&&a<=b+h.outerHeight()&&(o=!0)}o||X("#file-dropper").removeClass("drag_over").hide()}))}},{key:"head_img_replaceable",value:function(e){if(X("#file-dropper").html().trim()===""){X("#file-dropper").show().html('\n<div>\n<button id="file-cancel" type="button" class="close" data-dismiss="alert" aria-hidden="true"\n        title="cancel file upload" alt="cancel file upload">\n  &times;\n</button>\n<b>\n  <span style="font-size:40px; color:#aaa" class="iconochive-plus-circle" />\n</b><br/>\n<b>\n  Drag & Drop an image file here or\n</b>\n<button id="file-picker" type="button" class="btn btn-info btn-xs">\n  Pick image to upload\n</button>\n<form method="POST" action="/services/post-file.php?submit=1&identifier='.concat(e,'"\n      enctype="multipart/form-data" id="poster">\n  <div class="hidden">\n    <input id="file-selector" name="file" type="file" accept="image/*"/>\n  </div>\n  <input type="hidden" name="identifier" value="').concat(e,'"/>\n  <input id="file-submit" type="submit" name="submit" value="SUBMIT" class="btn btn-success"/>\n  <div id="file-uploading">\n    Uploading your file..\n  </div>\n</form>\n</div>')),mi("#file-picker",function(){return X("#file-selector").click()}),X("#file-cancel").bind("click",function(d){return g.cancelFile(),d.stopPropagation(),d.preventDefault(),!1});var n=function(){Cn("success!")},o=function(){var d=!1;typeof XMLHttpRequest=="undefined"&&(d="browser appears to not have HTML5 functionality"),d||(d=g.badFile());var c=new XMLHttpRequest;if(d||(Cn(g.file2post),c.upload||(d="browser submit setup failed")),d)return d;Cn("post");var h=Math.round(Date.now()/1e3);c.open("POST",location.protocol.concat("//",location.host,"/services/post-file.php?submit=1&identifier=",e,"&fname=",encodeURIComponent(g.file2post.name))),c.setRequestHeader("Content-Type","multipart/form-data; charset=UTF-8"),c.send(g.file2post),Cn("posted in background"),X("#file-dropper").html("waiting for your tasks to queue");var f=!1,v=function(){Cn("STALKING..."),X.getJSON("/metadata/".concat(e,"?rand=").concat(Math.random()),function(b){var w=b.pending_tasks&&b.tasks?b.tasks.length:0;if(!w)Cn("last update",b.item_last_updated,"vs now",h),b.item_last_updated<h?X("#file-dropper").html("waiting for your tasks to queue"):(Cn("task(s) done!"),clearInterval(f),X("#file-dropper").html("reloading page with your image"),window.location.reload());else{var k=b.tasks.filter(function(C){return C.wait_admin===2}).length;k?(X("#file-dropper").html('\n                  <div class="alert alert-danger">\n                    status task failure -- an admin will need to resolve\n                  </div>'),clearInterval(f)):X("#file-dropper").html("waiting for your ".concat(w," tasks to finish"))}})};return f=setInterval(v,2e3),""};X("#file-selector").bind("click",function(){g.file_picked="selected"}).bind("change",function(d){if(Cn("file dropdown selected!"),X("#file-submit, #file-cancel").show(),Cn(d),d.target&&d.target.files&&d.target.files.length){var c;c=_slicedToArray(d.target.files,1),g.file2post=c[0],g.previewFile()}}),X("#file-dropper").bind("drop",function(d){var c,h;if(d.stopPropagation(),d.preventDefault(),X("#file-dropper").removeClass("drag_over"),X("#file-submit, #file-cancel").show(),(h=(c=d.originalEvent)==null?void 0:c.dataTransfer)!=null&&h.files){Cn(d.originalEvent.dataTransfer.files),g.file_picked="dropped";var f;f=_slicedToArray(d.originalEvent.dataTransfer.files,1),g.file2post=f[0],g.previewFile(),X("#file-selector").files=d.originalEvent.dataTransfer.files}}),X("#poster").bind("focusin",function(d){Cn(d.type),X("#file-uploading").show()}).bind("submit",function(d){Cn("submit!"),X("#file-uploading").show();var c=o();return c===""?(n(),d.stopPropagation(),d.preventDefault(),!1):g.file_picked==="dropped"?(g.cancelFile(),alert("Failure: ".concat(c)),d.stopPropagation(),d.preventDefault(),!1):!0});var l=X("#file-dropper-img").outerWidth(),a=X("#file-dropper-img").outerHeight(),s=X("#file-dropper").outerWidth(),r=X("#file-dropper").outerHeight();X("#file-dropper").css({left:Math.round((l-s)/2),top:Math.round((a-r)/2)}),Qu&&(X("#file-dropper > form > div.hidden").removeClass("hidden"),X("#file-dropper > button").addClass("hidden"))}}},{key:"previewFile",value:function(){if(X("#file-dropper .uppreview").remove(),g.badFile())return g.cancelFile(),!1;if(typeof FileReader=="undefined")return!1;var e=new FileReader;return e.onload=function(n){Cn(n.target);var o=new Image;o.src=n.target.result,X("#file-dropper").append(o),X(o).addClass("uppreview")},Cn(g.file2post),e.readAsDataURL(g.file2post),!0}},{key:"cancelFile",value:function(){X("#file-dropper .uppreview").remove(),X("#file-dropper, file-submit, #file-cancel, #file-uploading").hide(),g.file_picked&&delete g.file_picked,g.file2post&&delete g.file2post}},{key:"badFile",value:function(){var e=!1;if(!e&&!g.file2post&&(e="file is missing"),!e&&g.file2post.size>8e6&&(e="file is over 8MB in size"),!e){var n=g.file2post.type.toLowerCase();n!=="image/jpeg"&&n!=="image/png"&&n!=="image/gif"&&(e="file not required format of JPEG or PNG or GIF")}return e&&alert(e),e}},{key:"drawPDF",value:function(e,n){var o="/download/".concat(e,"/",e,"_pdf.zip/",e,"_pdf/",e,"_"),l=!1,a=!1,s=!0,r=!1,d=void 0;try{for(var c=Object.keys(n)[Symbol.iterator](),h;!(s=(h=c.next()).done);s=!0){var f=h.value,v=f.slice(0,4);if(a===!1&&(a=v),a!==v){l=!0;break}}}catch(Y){r=!0,d=Y}finally{try{!s&&c.return!=null&&c.return()}finally{if(r)throw d}}var b="",w=b,k=666,C=!0,E=!1,A=void 0;try{for(var j=Object.keys(n)[Symbol.iterator](),y;!(C=(y=j.next()).done);C=!0){var u=y.value;if(u!=="yyyymmdd"){var p=n[u].split(","),m=u.slice(0,4),_=parseInt(u.slice(4,6),10),x=parseInt(u.slice(6,8),10),O=m.concat("-",_),I=!1,P="";O!==k&&(_===1?P="January":_===2?P="February":_===3?P="March":_===4?P="April":_===5?P="May":_===6?P="June":_===7?P="July":_===8?P="August":_===9?P="September":_===10?P="October":_===11?P="November":_===12?P="December":_===void 0?P="Single Page PDFs":P="Unknown_".concat(_),l&&(P=m.concat(" ",P)),w+=w?"</div><!--mo--><br/>":"",w+='\n<a href="#'.concat(P,",").concat(m,'" class="year-month" data-toggle="#m').concat(O,'">\n  <span class="iconochive-folder"></span> ').concat(P,'\n</a>\n<div class="mo" id="m').concat(O,'">')),(x===void 0||x==="")&&(I=!0),I?w+='<div class="day">':w+='\n<div class="day">\n<a href="#'.concat(O,"-").concat(x,'" class="year-month-day" data-toggle="#m').concat(O,"d").concat(x,'">\n  <span class="iconochive-folder" /> ').concat(x,'\n</a>\n<div class="pages" id="m').concat(O,"d").concat(x,'">');for(var D=1,V=void 0,q=void 0,z=0;z<p.length;z++)if(V=p[z],!!V){D>0&&(D=1-V),q=parseInt(V,10)+D,V="0000".concat(V),V=V.substr(V.length-4,4);var he=o.concat(V,".pdf");w+='<a href="'.concat(he,'">[').concat(q,"]</a> ")}I?w+="</div>":w+="</div><!--pages--></div><!--day-->",k=O}}}catch(Y){E=!0,A=Y}finally{try{!C&&j.return!=null&&j.return()}finally{if(E)throw A}}w+="</div><!--mo-->",X("#pdfs .replaced").html(w),mi("#pdfs .year-month",function(Y){return X(X(Y.currentTarget).data().toggle).toggle()}),mi("#pdfs .year-month-day",function(Y){return X(X(Y.currentTarget).data().toggle).toggle()})}},{key:"grafs",value:function(){var e=X("#grafs_views_api"),n=X("#grafs2"),o=n.attr("data-id");Cn("loading grafs"),e.html('<i><small>loading graph <img src="/images/loading.gif"/></small></i>').show(),n.html('<i><small>loading graph <img src="/images/loading.gif"/></small></i>').show();var l="<h2>";X.get("/details/".concat(o,"&grafs=1&v=3"),function(a){var s=a.split(l);s.length>=3&&(X("#activity-reviewsN").html(s[1]).parents(".activity-box").show(),X("#activity-forumN  ").html(s[2]).parents(".activity-box").show()),s.length===6?(e.html(l+s[3]),n.html(l+s[5])):(e.html("(graph data not available)"),n.html("(graph data not available)")),g.plot_graphs()}),dv.setUpTopRegionsTable()}},{key:"quick_down",value:function(e,n){var o="#".concat(e);if(X(".format-group.in").length)X(".format-group").slideDown(400),setTimeout(function(){X(".format-group.in").removeClass("in"),X(".download-button").html("DOWNLOAD OPTIONS")},400),X(o).slideUp();else{var l=X(n).text(),a=X(o).parents(".format-group");X(".download-button").html(l.concat(" FILES")),a.addClass("in"),X(".format-group:not(.in)").slideUp(),X(o).slideDown()}return!1}},{key:"arg",value:function(e,n){for(var o=n&&location.search===""?location.href.slice(1).split("&"):location.search.slice(1).split("&"),l=0;l<o.length;l++)if(o[l].slice(0,o[l].indexOf("="))===e){var a=o[l].slice(o[l].indexOf("=")+1);return a.length>0?unescape(a):""}return""}},{key:"scrolled",value:function(){var e=X(window).scrollTop(),n=".more_search:visible",o=X(n);if(o.length){var l=o.offset().top+o.outerHeight()-X(window).height()-40;e>l&&(Cn("hit rock bottom > ",l),g.more_searching||X(n.concat(" > a")).get(0).click())}}},{key:"more_search",value:function(e,n,o){var l=g.selector();if(l===!1)return!1;var a=l.replace(/#ikind-/,""),s=X(l.concat(" .more_search")),r=l;if(typeof g.page_map=="undefined"&&(g.page_map={}),typeof g.page_map[r]=="undefined"&&(g.page_map[r]=o||1),g.page_map[r]<0)return!1;g.page_map[r]+=1;var d=g.page_map[r];s.find(".more-search-fetching").show(),g.more_searching=!0;var c=n+d,h=location.protocol.concat("//",location.host,c);return c+="&scroll=1",Cn("url: ",c),Cn("urlreplace",h),Cn("more_search(selector=",l,"sort=",a,"page=",d,"url=",c,")"),X.get(c,function(f){if(f.length<100&&X(f).find("div.no-results")){s.find(".more-search-fetching, a.btn").hide(),g.page_map[r]=-1,g.more_searching=!1;return}g.pushState&&typeof history.replaceState!="undefined"&&history.replaceState({},"",h);var v=X(l).attr("id");g.tilerPREV&&g.tilerPREV.unsourced&&g.tilerPREV.unsourced[v]&&delete g.tilerPREV.unsourced[v];var b=X(l.concat(" .results"));b.append(g.addNotes(g.addingNotesKind,f)),g.tiler(l),s.find(".more-search-fetching").hide(),g.more_searching=!1,g.parent_hover(b),X(l.concat(" img")).on("load",function(){clearTimeout(g.more_search_throttler),g.more_search_throttler=setTimeout(g.tiler,1e3)}),typeof archive_analytics!="undefined"&&archive_analytics.send_scroll_fetch_event(d)}),!1}},{key:"embed_codes_adjust",value:function(){Cn("showing embeds!");var e=!0,n=!1,o=void 0;try{for(var l=["embedcodehere","embedcodehereWP"][Symbol.iterator](),a;!(e=(a=l.next()).done);e=!0){var s=a.value,r=X("#".concat(s));r.removeAttr("rows").css("height","");var d=r.text();X("body").prepend(X("<div/>").attr({id:"".concat(s,"Shadow"),class:"textarea-invert-readonly roundbox5"}).css({position:"absolute",visibility:"hidden",top:60,left:10,padding:"5px 15px 5px 15px",width:r.width(),"font-size":r.css("font-size")}).text(d));var c=X("#".concat(s,"Shadow")).outerHeight()+15;Cn(s,"bestie height",c,"for current width",r.width()),X("#".concat(s,"Shadow")).remove(),r.height(c)}}catch(h){n=!0,o=h}finally{try{!e&&l.return!=null&&l.return()}finally{if(n)throw o}}}},{key:"modal_add",value:function(e,n){X(e).length&&X(e).remove();var o=e.replace(/#/,""),l=n.prepended_el,a=l===void 0?document.body:l;return X(a).prepend('\n<div id="'.concat(o,'" class="modal fade" role="dialog" aria-hidden="true">\n<div class="modal-dialog modal-lg">\n  <div class="modal-content">\n    <div class="modal-header ').concat(n.headerClass!==void 0?n.headerClass:"modal-header-std",'">\n      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\n        <span class="iconochive-remove-circle"></span>\n      </button>\n      <h1 class="modal-title">\n        ').concat(typeof n.title=="undefined"?"Confirmed":n.title,'\n      </h1>\n    </div>\n    <div id="').concat(o,'-body">\n      ').concat(typeof n.body=="undefined"?"":n.body,"\n    </div>\n  </div>\n</div>\n</div>")),X(e)}},{key:"isFavoriteSuccessful",value:function(e){return e.indexOf('<meta name="ia-favorite-success" content="1">')!==-1}},{key:"modal_go",value:function(e,n){var o=n,l=X(e);if(typeof X.fn.modal=="undefined"){if(n.recalling)throw Error("still cant modal -- are there two jquery on the page?");return n.recalling=1,Promise.resolve().then(function(){return J3(),Vv}).then(function(){return g.modal_go(e,n)}),!1}o.favorite&&(o.login=!0,ui.get("logged-in-user")!==void 0&&(Ao.toggle_favorite_icon(l,!0),Ao.update_favorite_count(!0)));var a=l.attr("data-target"),s=o.favorite?l.attr("data-href"):l.attr("href");if((!o.ignore_lnk||o.add_modal)&&g.modal_add(a,o),o.shown&&X(a).on("shown.bs.modal",function(){o.shown()}),o.follow_link_on_dismiss&&X(a).on("hidden.bs.modal",function(){Cn("modal hidden, going to ",s,".."),X("body").removeClass("blurry"),location.href=s}),o.login&&ui.get("logged-in-user")===void 0){if(location.protocol!=="https:")return location.href="https://archive.org/account/login",!1;var r="/account/login";return X.get(r,function(d){var c=X(d).find(".container-ia > div").length?X(d).find(".container-ia > div").get(0):d;X(a).addClass("login-modal"),X(a.concat("-body")).html(c),X(a).modal("show");var h=X(a.concat("-body form:has(input[type=submit])"));if(h.length){var f=X(".password_icon")[0];navigator.cookieEnabled===!0?(X(".cookie-warning").addClass("hidden"),X(".login-form :input").prop("disabled",!1),f.src="/images/eye-crossed.svg",f.alt="Show text",X(".password_icon").on("click",function(){var v=X(".input-password")[0];v.type==="password"?(v.type="text",f.src="/images/eye.svg",f.alt="Hide text"):(v.type="password",f.src="/images/eye-crossed.svg",f.alt="Show text")}),X(".input-email, .input-password").on("focus",function(){X(".password-error").html(""),X(".reset-password").show()})):(X(".cookie-warning").removeClass("hidden"),X(".login-form :input").prop("disabled",!0)),A5({$form:h,url:r,selector:a,element:e,conf:o})}}),!1}return o.auto_remove&&(o.auto_close=!0,X(a).on("hidden.bs.modal",function(){X(a).remove(),X("body").removeClass("blurry")})),o.ignore_lnk?X(a).modal("show"):(X.get(s,function(d){if(o.favorite)if(typeof archive_analytics!="undefined"&&archive_analytics.send_ping({kind:"event",ec:"page_action",ea:"favorite",el:location.pathname,cache_bust:Math.random()}),g.isFavoriteSuccessful(d))setTimeout(function(){o.postLogin&&location.reload(!0)},g.modalInterval);else{Ao.toggle_favorite_icon(l,!1),Ao.update_favorite_count(!1);var c=X(a),h='\n              <center>\n                <p class="favorite-failure-message">\n                  There was an error adding the favorite. If the problem persists, please contact support.\n                </p>\n              </center>\n            ';c.find(".modal-title").html("Failed"),c.find("".concat(a,"-body")).html(h),X(a).modal("show")}else X(a).modal("show"),o.auto_close&&setTimeout(function(){return X(a).modal("hide")},g.modalInterval)}),X(a).on("hidden.bs.modal",function(){X(a).remove()})),o.center&&X(a.concat(" .modal-dialog")).center(),o.auto_close&&o.ignore_lnk&&setTimeout(function(){return X(a).modal("hide")},g.modalInterval),!1}},{key:"suffixFmt",value:function(e,n){return n.min>=0&&n.max<=5?Math.round(e*10,1)/10:e>=1e6?(e/1e6).toFixed(0).concat(" M"):e>=1e3?(e/1e3).toFixed(0).concat(" K"):e.toFixed(0)}},{key:"suffixFmtPercent",value:function(e,n){return g.suffixFmt(e,n).concat("%")}},{key:"pluralize",value:function(e,n,o){return e===1?n:o}},{key:"viewMessage",value:function(e,n,o){var l=n.length,a="<table><tr>";a+='<th class="tt-date" rowspan="'.concat(l,'">').concat(e[2]," ").concat(e[3],"</th>"),a+='<td class="tt-number">'.concat(ga(n[0]),"</td>"),a+="<td>".concat(g.pluralize(n[0],"View","Views")," ").concat(o[0],"</td></tr>");for(var s=1;s<l;s++)a+='<tr><td class="tt-number">'.concat(ga(n[s]),"</td>"),a+="<td>".concat(g.pluralize(n[s],"View","Views")," ").concat(o[s],"</td></tr>");return a+="<table>",a}},{key:"plot_graphs",value:function(){X(".js-ajs-plotter").each(function(e,n){var o=JSON.parse(X(n).val());g.plotter(function(){var l,a,s;Cn("js-ajs-plotter",o);var r=JSON.parse(o.cfg);o.dayBarsNoPoints&&(r.dayBarsNoPoints=!0),o.dark&&(r.dark=!0),((l=r.yaxis)==null?void 0:l.tickFormatter)==="AJS.suffixFmt"&&(r.yaxis.tickFormatter=g.suffixFmt),o.fmt==="AJS.broadcastsTooltip"?o.fmt=g.broadcastsTooltip:o.fmt==="AJS.airedTooltip"?o.fmt=g.airedTooltip:((a=o.fmt)==null?void 0:a.length)===3&&o.fmt[0]==="AJS.graphsTooltip"?o.fmt=g.graphsTooltip(o.fmt[1],o.fmt[2]):((s=o.fmt)==null?void 0:s.length)===3&&o.fmt[0]==="AJS.statsTooltip"&&(o.fmt=g.statsTooltip(o.fmt[1],o.fmt[2])),g.plot(o.id,r,o.fmt,JSON.parse(o.pts),o.many)})})}},{key:"broadcastsTooltip",value:function(e,n){var o=new Date(e).toUTCString().split(" ");return"<nobr>".concat(ga(n)," broadcasts on ").concat(o[2]," ").concat(o[3],"</nobr>")}},{key:"airedTooltip",value:function(e,n){var o=new Date(e).toDateString().split(" ");return"<nobr>Aired ".concat(ga(n)," times on ").concat(o[1]," ").concat(o[2],"</nobr>")}},{key:"graphsTooltip",value:function(e,n){return function(o,l){var a=new Date(o).toDateString().split(" ");return"<nobr>".concat(ga(l)," ").concat(e," in ").concat(a[1]," ").concat(n==="day"?a[2]:""," ").concat(a[3],"</nobr>")}}},{key:"statsTooltip",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o;switch(e){case"main":{o=function(a){var s=a.y,r=a.t;return"".concat(ga(s)," total items in <strong>").concat(r[2]," ").concat(r[3],"</strong>")};break}case"item":{o=function(a){var s=a.t,r=a.item;return"<strong>".concat(s[2]," ").concat(s[3],"</strong>: ").concat(ga(r.datapoint[1])," ").concat(g.pluralize(r.datapoint[1],"Item","Items"))};break}case"download":{o=function(a){var s=a.t,r=a.item;return"<strong>".concat(s[2]," ").concat(s[3],"</strong>: ").concat(ga(r.datapoint[1])," ").concat(g.pluralize(r.datapoint[1],"Download","Downloads"))};break}case"view":{o=function(a){var s=a.t,r=a.values,d=a.labels;return g.viewMessage(s,r,d)};break}default:break}var l=function(a,s,r,d,c){var h=new Date(a-n).toUTCString().split(" "),f={x:a,y:s,item:r,t:h,values:d,labels:c};return'<span style="white-space: nowrap;">'.concat(o(f),"</span>")};return l}},{key:"plotter",value:function(e){if(typeof g.plotters=="undefined"&&(g.plotters=[]),e)g.plotters.push(e),e();else{Cn("plotter() resize/orient change",g.plotters.length,"graphs to resize");for(var n=0;n<g.plotters.length;n++)g.plotters[n]()}}},{key:"plot",value:function(e,n,o,l,a){var s=n;s.xaxis||(s.xaxis={mode:"time",color:s.dark?"#ccc":"#545454"}),s.yaxis||(s.yaxis={color:s.dark?"#ccc":"#545454"});var r;a&&s.barWidth?r=s.barWidth*1:s.barWidth?r=s.barWidth*86400*1e3:r=(s.dayBarsNoPoints?1:7)*86400*1e3,s.color||(s.color="#385C74"),s.stack?s.series={stack:!0,bars:{show:!0,barWidth:r,fill:!0},legend:{show:!0}}:s.series={bars:{show:!0,barWidth:r,fill:.6,color:s.color},color:s.color,points:{show:!s.dayBarsNoPoints}},typeof s.grid=="undefined"&&(s.grid={borderColor:s.dark?"#333":"#aaa",hoverable:!0}),s.dark&&(s.grid.backgroundColor="#002b36"),s.tip||(s.tip={}),s.tip.id||(s.tip.id=e),typeof window.GraphPriorIndex=="undefined"&&(window.GraphPriorIndex={});var d=[];s.series.stack?d=l:(d=a?l:typeof l.data=="undefined"?[{data:l}]:[l],s.dayBarsNoPoints&&!s.noLabel&&(d[0].label=e));var c="#".concat(e);Promise.resolve().then(function(){return J1(),c6}).then(function(){Promise.all([Promise.resolve().then(function(){return Z1(),k6}),Promise.resolve().then(function(){return eP(),L6})]).then(function(){var h=X.plot(X(c),d,s);o&&X(c).bind("plothover",function(f,v,b){if(!b){window.GraphPriorDatapoint=[0,0,0],X("#gtip").remove();return}if(window.GraphPriorDatapoint!==b.datapoint){window.GraphPriorDatapoint=b.datapoint,X("#gtip").remove();var w=[],k=[];if(s.stack)for(var C=h.getData(),E=0;E<C.length;E++){var A=C[E];k[E]=A.label;for(var j=0;j<A.data.length;j++)if(A.data[j][0]===b.datapoint[0]){w[E]=A.data[j][1];break}}var y=o(b.datapoint[0],b.datapoint[1],b,w,k),u=X(c),p=u.offset(),m=s.tip.pegTo;m||(m=v.pageX-p.left>u.width()/2?"right":"left");var _=m==="right"?u.width()-(v.pageX-p.left-20):v.pageX-p.left+20;Cn(m,_),X("#".concat(s.tip.id)).append('<div id="gtip" class="roundbox5 grafs-tooltip" style="top:'.concat(v.pageY-p.top,"px; ").concat(m,":").concat(_,'px">').concat(y,"</div>")).fadeIn(200)}})})})}},{key:"makeMouseElementAccessible",value:function(e){X(e).attr("tabindex","0").on("keypress keydown",function(o){if(o.type!=="click"){var l=o.keyCode||o.which,a=32,s=13;[a,s].indexOf(l)!==-1&&X(this).click()}})}},{key:"autocomplete",value:function(e,n,o){Promise.resolve().then(function(){return N5(),gv}).then(function(){X(e).autocomplete({appendTo:"#autocompletee",minLength:0,source:function(l,a){a(X.ui.autocomplete.filter(n,l.term.split(/,\s*/).pop()))},focus:function(){return!1},select:function(a,s){if(o){var r=this.value.split(/,\s*/);r.pop(),r.push(s.item.value),r.push(""),this.value=r.join(", ")}else this.value=s.item.value;return!1}})})}},{key:"addNotes",value:function(e,n){if(e!=="favorite"&&e!=="list"||(!n&&X("body").hasClass("editable")&&(g.addingNotesKind=e),!g.addingNotesKind))return n;if(g.addNoteHTM=X('\n<div class="note">\n  <span class="edit">\n    <a href="#" class="js-note-add">Add a Note</a>\n  </span>\n</div>'),Cn("addNotes"),n){var o=X("<div>".concat(n,"</div>"));return o.find('.details-ia .C234:not(:has(".note"))').append(g.addNoteHTM),o.html()}return X('.details-ia .C234:not(:has(".note"))').append(g.addNoteHTM),mi(".js-note-add",function(l){return g.editNote(l.currentTarget)})}},{key:"editNote",value:function(e){var n=X(e),o=n.parents(".details-ia").prev().attr("data-id");if(!o)return!1;var l=n.parents(".note"),a="";return n.text()==="edit"&&(a=l.find("span:first").text(),a=a.replace(/</g,"&lt;").replace(/>/g,"&gt;")),l.hide(),l.parent().append(X('\n<form class="js-note-submit form form-horizontal note" role="form">\n  <div class="form-group">\n    <div class="col-xs-2 col-md-1 col-lg-1">\n      <b>Note:</b>\n    </div>\n    <div class="col-xs-10 col-md-6 col-lg-7">\n      <textarea class="form-control" name="comments">'.concat(a,'</textarea>\n      <div class="clearfix visible-xs-block"></div>\n    </div>\n    <div class="clearfix visible-xs-block"></div>\n    <div class="col-xs-12 col-md-5 col-lg-4 btns">\n      <button type="button" class="js-note-edited btn btn-success btn-xs">Save</button>\n      <button type="button" class="js-note-edited btn btn-info btn-cancel btn-xs">Cancel</button>\n      <button type="button" class="js-note-edited btn btn-danger btn-xs ').concat(a?"":"hidden",'">Remove</button>\n    </div>\n  </div>\n</form>'))),mi(".js-note-edited",function(s){return g.editedNote(s.currentTarget)}),kT(".js-note-submit",function(s){return g.editedNote(s.currentTarget)}),!1}},{key:"editedNote",value:function(e){var n=X(e),o=n.parents(".details-ia").prev().attr("data-id");if(o){n.is("form")&&(n=n.find('button:contains("Save")'));var l=n.text(),a=n.parents(".note"),s=a.prev();if(l==="Save"||l==="Remove"){var r=l==="Save"?a.find("textarea").val():"",d="/bookmarks.php?identifier=".concat(o,"&kind=",g.addingNotesKind,"&add_comment=",encodeURIComponent(r));Cn("get ",d),X.get(d,function(){var c=r?'Note: "<span>'.concat(r.replace(/</g,"&lt;").replace(/>/g,"&gt;"),'</span>"\n          <span class="edit">(<a href="#" class="js-note">edit</a>)</span>'):g.addNoteHTM.html();s.html(c).show(),a.remove(),mi(".js-note",function(h){return g.editNote(h.currentTarget)})});return}s.show(),a.remove()}}},{key:"thumbzilla",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n,o,l=X("body").hasClass("tv");l&&(window!=null&&window.TV2)&&TV2.unplay("thumbzilla"),e||(e=(n=location.pathname.match(/\/details\/([^/&?]+)/))==null?void 0:n[1]);var a="",s=function(){X("#opscreen1M").remove(),X("body").prepend(X("<div />").attr({id:"opscreen1M"}));var d=X("<div/>").attr({id:"thumbzilla"}).html("<div>".concat(a,"</div>"));d.appendTo("#opscreen1M"),X("#opscreen1M").css("visibility","hidden").show();for(var c=X(window).height()+(Qu?60:0),h=720;h>=10;h-=10){var f=Math.round(h*.6875);if(Cn("TRYING",h,"x",f),X("#thumbzilla img").css({width:h,height:f}),X("#thumbzilla img:last").offset().top+f<=c)break}X("#thumbzilla div").center(),X("#opscreen1M").hide().css("visibility","visible").fadeIn("slow").one("click.opscreen1M.nixer",function(){return X("#opscreen1M").fadeOut("slow")}),window!=null&&window.TV2&&mi(".js-tvthumb",function(v){X("#opscreen1M").fadeOut("slow"),TV2.seekURL(X(v.currentTarget).href.replace(/^\/details\/[^/+]/,""))})};if(l&&X(".js-tv3-init").length){var r=JSON.parse((o=X(".js-tv3-init").val())!=null?o:"{}");X(r["TV3.thumbzillas"]).each(function(d,c){var h=parseInt(c,10),f="/details/".concat(e,"/start/").concat(h,"/end/").concat(h+r["TV3.CLIP_SEC_MAX2"]);a+='<a class="js-tvthumb" href="'.concat(f,'">'),a+='<img src="/download/'.concat(e,"/").concat(e,".thumbs/").concat(e,"_").concat(c,'.jpg"/></a>')}),s()}else X.getJSON("/metadata/".concat(e,"/files"),function(d){var c=!0,h=!1,f=void 0;try{for(var v=d.result[Symbol.iterator](),b;!(c=(b=v.next()).done);c=!0){var w=b.value,k="original"in w&&w.name.match(/\.thumbs\/.*_([0-9]+)\.jpg$/);k&&(a+='\n              <a href="/details/'.concat(e,"/").concat(w.original,"?start=").concat(Number(k[1]),'"><img src="/download/').concat(e,"/").concat(w.name,'"></a>\n            '))}}catch(C){h=!0,f=C}finally{try{!c&&v.return!=null&&v.return()}finally{if(h)throw f}}a&&s()});return!1}},{key:"setUpSearchForms",value:function(){var e=function(a){var s=X(a),r=s.find(".js-search-bar"),d=s.find(".js-search-options"),c=d.data("keepOpenWhenChanged"),h=!1;function f(k){var C=this.dataset.waybackMachineSearchUrl,E=X(this.elements),A=E.filter('[name="sin"]:checked'),j=E.filter('[name="search"]'),y=A.length?A[0].value:"",u=j.length?j[0].value:"";C&&y==="WEB"&&(k.preventDefault(),window.location=[C.replace(/\/$/,""),u].join("/"))}function v(){d.addClass("is-open").attr("aria-expanded",!0)}function b(){d.removeClass("is-open").attr("aria-expanded",!1)}function w(k){!k||s[0].contains(k)||c&&h||X(k).parents(".ui-autocomplete").length||b()}s.length&&(s.on("submit",f),d.hasClass("is-open")||(n.on("click",function(k){w(k.target)}),s.on("change",function(){h=!0}).on("focusout",function(k){w(k.relatedTarget)}),r.on("focusin",function(){v()})))},n=X(document.body),o=X(".js-search-form");o.each(function(l,a){return e(a)})}},{key:"setUpAccordions",value:function(){var e=function(l,a){Array.from(l).forEach(function(s){s!==a&&(s.open=!1)})},n=function(l){function a(s){s.target.open&&(e(l.querySelectorAll("details"),s.target),X("html, body").animate({scrollTop:X(s.target).offset().top},400))}Array.from(l.querySelectorAll("details")).forEach(function(s){s.addEventListener("toggle",a)}),l.setAttribute("data-accordion-ready","")};Array.from(document.querySelectorAll("[data-accordion]")).forEach(n)}},{key:"advanced_search",value:function(e){if(!g.is_advanced_TV_search(e))return!0;g.adv||(g.adv={mapping:!1});var n=new Date().toISOString().substr(0,10);X.ajaxSetup({cache:!0});var o="https://".concat(location.host,"/includes/");return X.when(typeof TVSearch!="undefined"||X.getScript(o.concat("build/js/tvsearch.min.js?",n)),g.adv.mapping||X.getJSON("/details/tv?mappings&output=json&".concat(n),function(l){g.adv.mapping=l})).then(function(){if(g.adv.mapping.length!==2){alert("failed to get network and program mappings!");return}TVSearch.proPick(g.adv.mapping,e)}),!1}},{key:"is_advanced_TV_search",value:function(e){if(location.hostname==="web.archive.org"||X(document.body).hasClass("top"))return!1;var n=X(e).parents("form");return n.find(".js-search-options input[value=TV]").is(":checked")?n:!1}},{key:"isTextClamped",value:function(e){return e.clientHeight<e.scrollHeight}},{key:"bindClampCheckbox",value:function(e){var n=e.nextElementSibling;if(n&&n.type==="checkbox"){var o,l;X(n).on("click",function(){if(X(n).is(":checked")){var a=window.visualViewport.pageTop;o=e.getBoundingClientRect().top+a,l=o<a?o-10:a}else o<window.visualViewport.pageTop&&window.scrollTo({top:l,behavior:"instant"})})}}},{key:"unbindClampCheckbox",value:function(e){var n=e.nextElementSibling;n&&n.type==="checkbox"&&n.checked&&X(n).off("click")}}]),g}(),X(function(){X(".tabby a").click(function(a){var s=X(a.currentTarget).attr("data-tabby");Or.tabby(a.currentTarget,"tabby-".concat(s))}),X(".js-tiles-setup").each(function(a,s){var r=JSON.parse(X(s).val());Or.lists_v_tiles_setup(r.toggle_range),X("div.ikind").css({visibility:" visible"}),r.popState!==!1&&Or.popState(r.popState),Or.tiler(),X(window).on("resize  orientationchange",function(d){clearTimeout(Or.tiles_wrap_throttler),Or.tiles_wrap_throttler=setTimeout(Or.tiler,250)}),X(window).scroll(Or.scrolled)}),Or.makeMouseElementAccessible(".accessible-link"),typeof archive_analytics!="undefined"&&archive_analytics.set_up_event_tracking(),X(".js-tiles-toggle").click(function(a){var s=X(a.currentTarget).attr("data-range");return Or.tiles_toggle(a.currentTarget,s)}),X(".js-ikind-link").click(function(a){var s=X(a.currentTarget).attr("data-id");Or.ikind(a.currentTarget,"ikind-".concat(s))}),X(".js-more-search").click(function(a){var s=a.currentTarget,r=decodeURIComponent(X(s).attr("data-more-search")),d=parseInt(X(s).attr("data-page"),10);return Or.more_search(s,r,d),!1}),X("#showdetails").on("change",function(a){var s=X(a.currentTarget).attr("data-toggle-range");Or.showdetails_toggle(s)}),X(".ikind-mobile").on("change",function(a){Or.ikind_mobile_change(a.currentTarget)}),Or.setUpSearchForms(),Or.setUpAccordions(),typeof archive_analytics!="undefined"&&archive_analytics.create_tracking_image("external_executes"),Or.modalInterval=2e3,x5.init(),B5.setup(),X(".js-search-beta-opt-in").each(function(a,s){X(s).on("click",function(){window.localStorage.setItem("SearchBeta-opt-in",!0)})}),X(".js-collection-setup").each(function(a,s){var r=JSON.parse(X(s).val());r.about&&Or.grafs(),Or.addNotes(r.is_list),X(window).on("resize  orientationchange",function(d){clearTimeout(Or.plotter_throttler),Or.plotter_throttler=setTimeout(Or.plotter,250)})}),X(".js-collection-setup2").each(function(a,s){var r=JSON.parse(X(s).val());r.editable&&(X("#editlink").show(),r.image!==""&&Or.head_img_dragdrop_setup(r.image))}),X(".js-account-setup").each(function(a,s){var r,d=JSON.parse(X(s).val());Or.head_img_dragdrop_setup(d.dragdrop),(r=d.darking_ids)!=null&&r.length&&Ao.decorate_pendings(d.darking_ids)}),Or.plot_graphs(),X(".js-pages").each(function(a,s){var r=JSON.parse(X(s).val());Or.drawPDF(r.identifier,JSON.parse(r.pages))}),X(".js-carousel2").each(function(){Or.theatresize(),Or.carouselsize("#ia-carousel",!0)}),X(".js-emulation").each(function(a,s){X(".container-ia:first").attr("id","begPgSpcr"),Or.emulate_setup(JSON.parse(X(s).val()))}),X(".tablesorter").each(function(a,s){var r={textExtraction:"complex"};X("body").hasClass("js-tv-programPageColumnSorting")?r.headers={0:{sorter:!1}}:X("body").hasClass("services-views")&&(r.ignoreCase=!0,r.sortList=[[1,0]],r.widgets=["saveSort"],r.widgetOptions={saveSort:!0}),typeof X.fn.tablesorter=="undefined"?Promise.resolve().then(function(){return tP(),G6}).then(function(){X(s).tablesorter(r)}):X(s).tablesorter(r)}),mi(".js-ebook-maker",function(a){return $n(void 0,null,_regeneratorRuntime.default.mark(function s(){var r,d,c,h,f,v,b,w,k,C,E,A;return _regeneratorRuntime.default.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:for(r=a.currentTarget,r.parentElement.textContent="Generating...",d=X(r).data().maker,Cn({maker:d}),c=new URLSearchParams,h=!0,f=!1,v=void 0,y.prev=6,b=Object.entries(d)[Symbol.iterator]();!(h=(w=b.next()).done);h=!0)k=_slicedToArray(w.value,2),C=k[0],E=k[1],c.append(C,encodeURIComponent(E));y.next=14;break;case 10:y.prev=10,y.t0=y.catch(6),f=!0,v=y.t0;case 14:y.prev=14,y.prev=15,!h&&b.return!=null&&b.return();case 17:if(y.prev=17,!f){y.next=20;break}throw v;case 20:return y.finish(17);case 21:return y.finish(14);case 22:return y.next=24,fetch("/services/make-ebook.php",{method:"POST",body:c});case 24:A=y.sent,Cn({res:A});case 26:case"end":return y.stop()}},s,null,[[6,10,14,22],[15,,17,21]])}))});var g=X(".js-date_switcher"),t=!Or.isTouchDevice()&&typeof X.fn.tooltip=="undefined"?X('.container-ia [data-toggle="tooltip"], #cols [data-toggle="tooltip"], #tvbanner [data-toggle="tooltip"], #cher-modal [data-toggle="tooltip"]'):[];(t.length||g.length)&&Promise.resolve().then(function(){return J3(),Vv}).then(function(){t.length&&t.tooltip({}),g.each(function(a,s){return Or.date_switcher(JSON.parse(X(s).val()))})}),mi(".js-createclick",function(a){location.href="/create/"}),mi(".js-colclick",function(a){var s=X(a.currentTarget),r=s.attr("data-id"),d=r&&!r.startsWith("__id_")?"/details/".concat(r):s.find("a").attr("href");r&&X("body").hasClass("tiles")&&!s.hasClass("manage-item")&&(location.href=d)}),mi(".js-note",function(a){return Or.editNote(a.currentTarget)}),mi(".js-inliner",function(a){if(!window.inlined){window.inlined=!0;var s="".concat(a.currentTarget.href,"&nochrome=1"),r=X(a.currentTarget).parent().parent().parent();r.append('<div id="loadin" style="padding:50px"><hr/><h4><img src="/images/loading.gif"/> loading...</h4><hr/></div>'),X.get(s,function(d){X("#loadin").remove(),r.append("<hr/>".concat(d))})}}),mi(".js-auto-submit-perpetual",function(){document.getElementById("timeout_row").style.display="table-row",document.getElementById("loopsleep_row").style.display="table-row",document.getElementById("discard_itemlists_row").style.display="table-row",document.getElementById("timeout_row").classList.toggle("hidden"),document.getElementById("loopsleep_row").classList.toggle("hidden"),document.getElementById("discard_itemlists_row").classList.toggle("hidden")},"default"),_T(".js-auto-submit-cmd",function(a){a.currentTarget.value==="delete.php"&&alert('\n        WARNING: The "lost_item" arg is automatically\n        added to delete.php tasks submitted through this form.\n        That means the command can be used only to\n        tidy our records for items that have already\n        gotten lost, not to delete existing items.\n        If run on an item that actually exists still,\n        the task will redrow.')}),mi(".js-slide-toggle",function(a){return X(X(a.currentTarget).data().target).slideToggle()}),mi(".js-ajs-emulate",Or.emulate),mi(".js-ajs-deadlists",function(a){var s=a.currentTarget.href;window.open(s,"popup","width=800,height=600,scrollbars=yes,resizable=yes,toolbar=no,directories=no,location=no,menubar=no,status=no")});var e=document.querySelector("#js-useradmin-clipboard");e&&e.addEventListener("click",function(a){var s=Array.from(document.querySelectorAll(".js-useradmin-username")).map(function(r){return r.textContent}).join(" ");navigator.clipboard.writeText(s)});var n=document.querySelector(".js-useradmin-search");n&&(n.addEventListener("submit",function(a){a.preventDefault(),Array.from(n.querySelectorAll("input")).filter(function(s){return!s.value}).forEach(function(s){var r=s;r.disabled=!0}),n.submit()}),Array.from(n.querySelectorAll("input")).forEach(function(a){var s=a;s.disabled=!1}));var o=X(".js-clamp"),l="clamped";o.length&&(o.each(function(a,s){Or.isTextClamped(s)&&(s.classList.add(l),Or.bindClampCheckbox(s))}),window.addEventListener("resize",xT(function(){o.each(function(a,s){Or.isTextClamped(s)?(s.classList.add(l),Or.bindClampCheckbox(s)):(Or.unbindClampCheckbox(s),s.classList.remove(l))})}),50))}),window.AJS=Or}}),ac,ah,sh,dm,hm,si,sc,Y6,fm,X6=Ht({"https-url:https://esm.archive.org/v135/@lit/reactive-element@2.0.4/esnext/css-tag.js":function(){ac=globalThis,ah=ac.ShadowRoot&&(ac.ShadyCSS===void 0||ac.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,sh=Symbol(),dm=new WeakMap,hm=function(){"use strict";function g(t,e,n){if(_classCallCheck(this,g),this._$cssResult$=!0,n!==sh)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}return _createClass(g,[{key:"styleSheet",get:function(){var e=this.o,n=this.t;if(ah&&e===void 0){var o=n!==void 0&&n.length===1;o&&(e=dm.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),o&&dm.set(n,e))}return e}},{key:"toString",value:function(){return this.cssText}}]),g}(),si=function(g){return new hm(typeof g=="string"?g:g+"",void 0,sh)},sc=function(g){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];var o=g.length===1?g[0]:e.reduce(function(l,a,s){return l+function(r){if(r._$cssResult$===!0)return r.cssText;if(typeof r=="number")return r;throw Error("Value passed to 'css' function must be a 'css' function result: "+r+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")}(a)+g[s+1]},g[0]);return new hm(o,g,sh)},Y6=function(g,t){var e=!0,n=!1,o=void 0;if(ah)g.adoptedStyleSheets=t.map(function(c){return _instanceof(c,CSSStyleSheet)?c:c.styleSheet});else try{for(var l=t[Symbol.iterator](),a;!(e=(a=l.next()).done);e=!0){var s=a.value,r=document.createElement("style"),d=ac.litNonce;d!==void 0&&r.setAttribute("nonce",d),r.textContent=s.cssText,g.appendChild(r)}}catch(c){n=!0,o=c}finally{try{!e&&l.return!=null&&l.return()}finally{if(n)throw o}}},fm=ah?function(g){return g}:function(g){return _instanceof(g,CSSStyleSheet)?function(t){var e="",n=!0,o=!1,l=void 0;try{for(var a=t.cssRules[Symbol.iterator](),s;!(n=(s=a.next()).done);n=!0){var r=s.value;e+=r.cssText}}catch(d){o=!0,l=d}finally{try{!n&&a.return!=null&&a.return()}finally{if(o)throw l}}return si(e)}(g):g}}}),K6,Q6,J6,Z6,e7,t7,Fs,pm,n7,vm,Bl,lh,uh,mm,r7,i7,Hs,o7,lc=Ht({"https-url:https://esm.archive.org/v135/@lit/reactive-element@2.0.4/esnext/reactive-element.mjs":function(){X6(),X6();var g;g=Object,K6=g.is,Q6=g.defineProperty,J6=g.getOwnPropertyDescriptor,Z6=g.getOwnPropertyNames,e7=g.getOwnPropertySymbols,t7=g.getPrototypeOf,Fs=globalThis,pm=Fs.trustedTypes,n7=pm?pm.emptyScript:"",vm=Fs.reactiveElementPolyfillSupport,Bl=function(t,e){return t},lh={toAttribute:function(e,n){switch(n){case Boolean:e=e?n7:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute:function(e,n){var o=e;switch(n){case Boolean:o=e!==null;break;case Number:o=e===null?null:Number(e);break;case Object:case Array:try{o=JSON.parse(e)}catch(l){o=null}}return o}},uh=function(t,e){return!K6(t,e)},mm={attribute:!0,type:String,converter:lh,reflect:!1,hasChanged:uh},(r7=Symbol.metadata)!=null||(Symbol.metadata=Symbol("metadata")),(i7=Fs.litPropertyMetadata)!=null||(Fs.litPropertyMetadata=new WeakMap),Hs=function(t){"use strict";_inherits(n,t);var e=_createSuper(n);function n(){_classCallCheck(this,n);var o;return o=e.call(this),o._$Ep=void 0,o.isUpdatePending=!1,o.hasUpdated=!1,o._$Em=null,o._$Ev(),_possibleConstructorReturn(o)}return _createClass(n,[{key:"_$Ev",value:function(){var l=this,a;this._$ES=new Promise(function(s){return l.enableUpdating=s}),this._$AL=new Map,this._$E_(),this.requestUpdate(),(a=this.constructor.l)==null||a.forEach(function(s){return s(l)})}},{key:"addController",value:function(l){var a,s;((a=this._$EO)!=null?a:this._$EO=new Set).add(l),this.renderRoot!==void 0&&this.isConnected&&((s=l.hostConnected)==null||s.call(l))}},{key:"removeController",value:function(l){var a;(a=this._$EO)==null||a.delete(l)}},{key:"_$E_",value:function(){var l=new Map,a=this.constructor.elementProperties,s=!0,r=!1,d=void 0;try{for(var c=a.keys()[Symbol.iterator](),h;!(s=(h=c.next()).done);s=!0){var f=h.value;this.hasOwnProperty(f)&&(l.set(f,this[f]),delete this[f])}}catch(v){r=!0,d=v}finally{try{!s&&c.return!=null&&c.return()}finally{if(r)throw d}}l.size>0&&(this._$Ep=l)}},{key:"createRenderRoot",value:function(){var l,a=(l=this.shadowRoot)!=null?l:this.attachShadow(this.constructor.shadowRootOptions);return Y6(a,this.constructor.elementStyles),a}},{key:"connectedCallback",value:function(){var l,a;(l=this.renderRoot)!=null||(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(a=this._$EO)==null||a.forEach(function(s){var r;return(r=s.hostConnected)==null?void 0:r.call(s)})}},{key:"enableUpdating",value:function(l){}},{key:"disconnectedCallback",value:function(){var l;(l=this._$EO)==null||l.forEach(function(a){var s;return(s=a.hostDisconnected)==null?void 0:s.call(a)})}},{key:"attributeChangedCallback",value:function(l,a,s){this._$AK(l,s)}},{key:"_$EC",value:function(l,a){var s,r=this.constructor.elementProperties.get(l),d=this.constructor._$Eu(l,r);if(d!==void 0&&r.reflect===!0){var c=(((s=r.converter)==null?void 0:s.toAttribute)!==void 0?r.converter:lh).toAttribute(a,r.type);this._$Em=l,c==null?this.removeAttribute(d):this.setAttribute(d,c),this._$Em=null}}},{key:"_$AK",value:function(l,a){var s,r=this.constructor,d=r._$Eh.get(l);if(d!==void 0&&this._$Em!==d){var c=r.getPropertyOptions(d),h=typeof c.converter=="function"?{fromAttribute:c.converter}:((s=c.converter)==null?void 0:s.fromAttribute)!==void 0?c.converter:lh;this._$Em=d,this[d]=h.fromAttribute(a,c.type),this._$Em=null}}},{key:"requestUpdate",value:function(l,a,s){var r;if(l!==void 0){if(s!=null||(s=this.constructor.getPropertyOptions(l)),!((r=s.hasChanged)!=null?r:uh)(this[l],a))return;this.P(l,a,s)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}},{key:"P",value:function(l,a,s){var r;this._$AL.has(l)||this._$AL.set(l,a),s.reflect===!0&&this._$Em!==l&&((r=this._$Ej)!=null?r:this._$Ej=new Set).add(l)}},{key:"_$ET",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function l(){var a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return this.isUpdatePending=!0,r.prev=1,r.next=4,this._$ES;case 4:r.next=9;break;case 6:r.prev=6,r.t0=r.catch(1),Promise.reject(r.t0);case 9:if(a=this.scheduleUpdate(),r.t1=a!=null,!r.t1){r.next=14;break}return r.next=14,a;case 14:return r.abrupt("return",(r.t1&&r.sent,!this.isUpdatePending));case 15:case"end":return r.stop()}},l,this,[[1,6]])}))}},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){var l,a;if(this.isUpdatePending){if(!this.hasUpdated){if((l=this.renderRoot)!=null||(this.renderRoot=this.createRenderRoot()),this._$Ep){var s=!0,r=!1,d=void 0;try{for(var c=this._$Ep[Symbol.iterator](),h;!(s=(h=c.next()).done);s=!0){var f=_slicedToArray(h.value,2),v=f[0],b=f[1];this[v]=b}}catch(x){r=!0,d=x}finally{try{!s&&c.return!=null&&c.return()}finally{if(r)throw d}}this._$Ep=void 0}var w=this.constructor.elementProperties,k=!0,C=!1,E=void 0;if(w.size>0)try{for(var A=w[Symbol.iterator](),j;!(k=(j=A.next()).done);k=!0){var y=_slicedToArray(j.value,2),u=y[0],p=y[1];p.wrapped!==!0||this._$AL.has(u)||this[u]===void 0||this.P(u,this[u],p)}}catch(x){C=!0,E=x}finally{try{!k&&A.return!=null&&A.return()}finally{if(C)throw E}}}var m=!1,_=this._$AL;try{m=this.shouldUpdate(_),m?(this.willUpdate(_),(a=this._$EO)==null||a.forEach(function(x){var O;return(O=x.hostUpdate)==null?void 0:O.call(x)}),this.update(_)):this._$EU()}catch(x){throw m=!1,this._$EU(),x}m&&this._$AE(_)}}},{key:"willUpdate",value:function(l){}},{key:"_$AE",value:function(l){var a;(a=this._$EO)==null||a.forEach(function(s){var r;return(r=s.hostUpdated)==null?void 0:r.call(s)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(l)),this.updated(l)}},{key:"_$EU",value:function(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._$ES}},{key:"shouldUpdate",value:function(l){return!0}},{key:"update",value:function(l){var a=this;this._$Ej&&(this._$Ej=this._$Ej.forEach(function(s){return a._$EC(s,a[s])})),this._$EU()}},{key:"updated",value:function(l){}},{key:"firstUpdated",value:function(l){}}],[{key:"addInitializer",value:function(l){var a;this._$Ei(),((a=this.l)!=null?a:this.l=[]).push(l)}},{key:"observedAttributes",get:function(){return this.finalize(),this._$Eh&&_toConsumableArray(this._$Eh.keys())}},{key:"createProperty",value:function(l){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mm;if(a.state&&(a.attribute=!1),this._$Ei(),this.elementProperties.set(l,a),!a.noAccessor){var s=Symbol(),r=this.getPropertyDescriptor(l,s,a);r!==void 0&&Q6(this.prototype,l,r)}}},{key:"getPropertyDescriptor",value:function(l,a,s){var r,d=(r=J6(this.prototype,l))!=null?r:{get:function(){return this[a]},set:function(v){this[a]=v}},c=d.get,h=d.set;return{get:function(){return c==null?void 0:c.call(this)},set:function(v){var b=c==null?void 0:c.call(this);h.call(this,v),this.requestUpdate(l,b,s)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(l){var a;return(a=this.elementProperties.get(l))!=null?a:mm}},{key:"_$Ei",value:function(){if(!this.hasOwnProperty(Bl("elementProperties"))){var l=t7(this);l.finalize(),l.l!==void 0&&(this.l=_toConsumableArray(l.l)),this.elementProperties=new Map(l.elementProperties)}}},{key:"finalize",value:function(){if(!this.hasOwnProperty(Bl("finalized"))){if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Bl("properties"))){var l=this.properties,a=_toConsumableArray(Z6(l)).concat(_toConsumableArray(e7(l))),s=!0,r=!1,d=void 0;try{for(var c=a[Symbol.iterator](),h;!(s=(h=c.next()).done);s=!0){var f=h.value;this.createProperty(f,l[f])}}catch(q){r=!0,d=q}finally{try{!s&&c.return!=null&&c.return()}finally{if(r)throw d}}}var v=this[Symbol.metadata];if(v!==null){var b=litPropertyMetadata.get(v),w=!0,k=!1,C=void 0;if(b!==void 0)try{for(var E=b[Symbol.iterator](),A;!(w=(A=E.next()).done);w=!0){var j=_slicedToArray(A.value,2),y=j[0],u=j[1];this.elementProperties.set(y,u)}}catch(q){k=!0,C=q}finally{try{!w&&E.return!=null&&E.return()}finally{if(k)throw C}}}this._$Eh=new Map;var p=!0,m=!1,_=void 0;try{for(var x=this.elementProperties[Symbol.iterator](),O;!(p=(O=x.next()).done);p=!0){var I=_slicedToArray(O.value,2),P=I[0],D=I[1],V=this._$Eu(P,D);V!==void 0&&this._$Eh.set(V,P)}}catch(q){m=!0,_=q}finally{try{!p&&x.return!=null&&x.return()}finally{if(m)throw _}}this.elementStyles=this.finalizeStyles(this.styles)}}},{key:"finalizeStyles",value:function(l){var a=[];if(Array.isArray(l)){var s=new Set(l.flat(1/0).reverse()),r=!0,d=!1,c=void 0;try{for(var h=s[Symbol.iterator](),f;!(r=(f=h.next()).done);r=!0){var v=f.value;a.unshift(fm(v))}}catch(b){d=!0,c=b}finally{try{!r&&h.return!=null&&h.return()}finally{if(d)throw c}}}else l!==void 0&&a.push(fm(l));return a}},{key:"_$Eu",value:function(l,a){var s=a.attribute;return s===!1?void 0:typeof s=="string"?s:typeof l=="string"?l.toLowerCase():void 0}}]),n}(_wrapNativeSuper(HTMLElement)),Hs.elementStyles=[],Hs.shadowRootOptions={mode:"open"},Hs[Bl("elementProperties")]=new Map,Hs[Bl("finalized")]=new Map,vm==null||vm({ReactiveElement:Hs}),((o7=Fs.reactiveElementVersions)!=null?o7:Fs.reactiveElementVersions=[]).push("2.0.4")}}),ch,jo=Ht({"https-url:https://esm.archive.org/v135/typescript-memoize@1.1.1/esnext/typescript-memoize.mjs":function(){ch=new Map}}),uc,co,Xa,xa,Us,cc,a7,dh,zl,Oi=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/field-parsers@0.1.3/esnext/field-parsers.mjs":function(){uc=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){return typeof e=="string"&&(e==="false"||e==="0")?!1:!!e}}]),g}(),uc.shared=new uc,co=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){if(typeof e=="number")return e;if(typeof e!="boolean"){var n=parseFloat(e);if(!Number.isNaN(n))return n}}}]),g}(),co.shared=new co,Xa=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){return co.shared.parseValue(e)}}]),g}(),Xa.shared=new Xa,xa=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){return this.parseJSDate(e)||this.parseBracketDate(e)}},{key:"parseBracketDate",value:function(e){if(typeof e=="string"){var n=e.match(/\[([0-9]{4})\]/);if(!(!n||n.length<2))return this.parseJSDate(n[1])}}},{key:"parseJSDate",value:function(e){if(typeof e=="string"){var n=e;n.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}\s{1}[0-9]{2}:[0-9]{2}:[0-9]{2}$/)&&(n=n.replace(" ","T"));var o=Date.parse(n);if(!Number.isNaN(o)){var l=new Date(n);return(n.indexOf("Z")>-1||n.indexOf("+")>-1||n.match(/^[0-9]{4}$/)||n.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)||n.match(/^.*?-[0-9]{2}:[0-9]{2}$/)||n.match(/^.*?-[0-9]{4}$/))&&(l=new Date(l.getTime()+l.getTimezoneOffset()*1e3*60)),l}}}}]),g}(),xa.shared=new xa,Us=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){if(typeof e=="number")return e;if(typeof e!="boolean"){var n=e.split(":"),o;return n.length===1?o=this.parseNumberFormat(n[0]):o=this.parseColonSeparatedFormat(n),o}}},{key:"parseNumberFormat",value:function(e){var n=parseFloat(e);return Number.isNaN(n)&&(n=void 0),n}},{key:"parseColonSeparatedFormat",value:function(e){var n=!1,o=e.map(function(l,a){var s=parseFloat(l);if(Number.isNaN(s))return n=!0,0;var r=Ri(60,e.length-1-a);return s*Math.floor(r)}).reduce(function(l,a){return l+a},0);return n?void 0:o}}]),g}(),Us.shared=new Us,cc=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){if(typeof e=="string")return e}}]),g}(),cc.shared=new cc,a7=function(){"use strict";function g(t,e){_classCallCheck(this,g),this.separators=[";",","],this.parser=t,e&&e.separators&&(this.separators=e.separators)}return _createClass(g,[{key:"parseValue",value:function(e){var n=String(e),o=[],l=!0,a=!1,s=void 0;try{for(var r=this.separators[Symbol.iterator](),d;!(l=(d=r.next()).done);l=!0){var c=d.value;if(o=n.split(c),o.length>1)break}}catch(h){a=!0,s=h}finally{try{!l&&r.return!=null&&r.return()}finally{if(a)throw s}}return this.parseListValues(o)}},{key:"parseListValues",value:function(e){var n=this,o=e.map(function(a){return a.trim()}).map(function(a){return n.parser.parseValue(a)}),l=[];return o.forEach(function(a){a!==void 0&&l.push(a)}),l}}]),g}(),dh=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){if(typeof e=="string")return e}}]),g}(),dh.shared=new dh,zl=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){return String(e)}}]),g}(),zl.shared=new zl}}),s7,hh,l7,u7,c7,d7,h7,f7,fh,p7,gm,ym,bm,v7,tr,wm,m7,_m,g7=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/bookreader@5.0.0-82/esnext/BookReader/BookReader.js":function(){s7=Object.create,hh=Object.defineProperty,l7=Object.getOwnPropertyDescriptor,u7=Object.getOwnPropertyNames,c7=Object.getPrototypeOf,d7=Object.prototype.hasOwnProperty,h7=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},f7=function(t,e){for(var n in e)hh(t,n,{get:e[n],enumerable:!0})},fh=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!d7.call(t,v)&&v!==n&&hh(t,v,{get:function(){return e[v]},enumerable:!(o=l7(e,v))||o.enumerable})},d=u7(e)[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0)r(d,c)}catch(h){a=!0,s=h}finally{try{!l&&d.return!=null&&d.return()}finally{if(a)throw s}}return t},p7=function(t,e,n){return fh(t,e,"default"),n&&fh(n,e,"default")},gm=function(t,e,n){return n=t!=null?s7(c7(t)):{},fh(e||!t||!t.__esModule?hh(n,"default",{value:t,enumerable:!0}):n,t)},ym=h7(function(){(function(){var t,e={1774:function(a,s,r){"use strict";var d=function(u,p){if(u){if(typeof u=="string")return c(u,p);var m={}.toString.call(u).slice(8,-1);return m==="Object"&&u.constructor&&(m=u.constructor.name),m==="Map"||m==="Set"?Array.from(u):m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m)?c(u,p):void 0}},c=function(u,p){(p==null||p>u.length)&&(p=u.length);for(var m=0,_=Array(p);m<p;m++)_[m]=u[m];return _},h=function(u,p,m,_,x,O,I){try{var P=u[O](I),D=P.value}catch(V){return void m(V)}P.done?p(D):Promise.resolve(D).then(_,x)},f=function(u,p){for(var m=0;m<p.length;m++){var _=p[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(u,v(_.key),_)}},v=function(u){var p=function(m,_){if(E(m)!="object"||!m)return m;var x=m[Symbol.toPrimitive];if(x!==void 0){var O=x.call(m,"string");if(E(O)!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(m)}(u);return E(p)=="symbol"?p:p+""},b=function(u,p){var m=document.createElement("div");return m.style.width="".concat(u.width,"px"),m.style.height="".concat(u.height,"px"),m.setAttribute("class","BRPageLayer ".concat(p)),m},w=function(u){var p=u.l,m=u.r,_=u.b,x=u.t,O=document.createElementNS("http://www.w3.org/2000/svg","rect");return O.setAttribute("x",p.toString()),O.setAttribute("y",x.toString()),O.setAttribute("width",(m-p).toString()),O.setAttribute("height",(_-x).toString()),O.setAttribute("rx","4"),O.setAttribute("ry","4"),O},k=function(u,p,m,_){var x=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,O=_.querySelector(".".concat(u)),I=O||function(F,ce){var J=document.createElementNS("http://www.w3.org/2000/svg","svg");return J.setAttribute("xmlns","http://www.w3.org/2000/svg"),J.setAttribute("viewBox","0 0 ".concat(F.width," ").concat(F.height)),J.setAttribute("class","BRPageLayer ".concat(ce)),J.setAttribute("preserveAspectRatio","none"),J}(m,u);if(!O){var P=_.querySelector(".BRpageimage");P?C(I).insertAfter(P):C(I).prependTo(_)}var D,V,q,z=function(F,ce){var J=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&F[Symbol.iterator]||F["@@iterator"];if(!J){if(Array.isArray(F)||(J=d(F))){J&&(F=J);var ae=0,se=function(){};return{s:se,n:function(){return ae>=F.length?{done:!0}:{done:!1,value:F[ae++]}},e:function(mt){throw mt},f:se}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ve,de=!0,Be=!1;return{s:function(){J=J.call(F)},n:function(){var mt=J.next();return de=mt.done,mt},e:function(mt){Be=!0,ve=mt},f:function(){try{de||J.return==null||J.return()}finally{if(Be)throw ve}}}}(p.entries());try{for(z.s();!(D=z.n()).done;){var he=(V=D.value,q=2,function(F){if(Array.isArray(F))return F}(V)||function(F,ce){var J=F==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&F[Symbol.iterator]||F["@@iterator"];if(J!=null){var ae,se,ve,de,Be=[],it=!0,mt=!1;try{if(ve=(J=J.call(F)).next,ce===0){if(Object(J)!==J)return;it=!1}else for(;!(it=(ae=ve.call(J)).done)&&(Be.push(ae.value),Be.length!==ce);it=!0);}catch(ot){mt=!0,se=ot}finally{try{if(!it&&J.return!=null&&(de=J.return(),Object(de)!==de))return}finally{if(mt)throw se}}return Be}}(V,q)||d(V,q)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),Y=he[0],B=w(he[1]);x&&B.setAttribute("class",x[Y]),I.appendChild(B)}}catch(F){z.e(F)}finally{z.f()}};r.d(s,{KL:function(){return k},LN:function(){return j},Ql:function(){return b}}),r(2675),r(9463),r(6412),r(2259),r(5700),r(8125),r(8706),r(3418),r(3792),r(8598),r(2712),r(4490),r(4782),r(9572),r(2010),r(4731),r(479),r(8130),r(875),r(6099),r(3362),r(7495),r(8781),r(7764),r(3500),r(2953);var C=r(1669);function E(y){return E=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(p){return typeof p=="undefined"?"undefined":_typeof(p)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u=="undefined"?"undefined":_typeof(u)},E(y)}function A(){A=function(){return u};var y,u={},p=Object.prototype,m=p.hasOwnProperty,_=Object.defineProperty||function(je,He,qe){je[He]=qe.value},x=typeof Symbol=="function"?Symbol:{},O=x.iterator||"@@iterator",I=x.asyncIterator||"@@asyncIterator",P=x.toStringTag||"@@toStringTag";function D(je,He,qe){return Object.defineProperty(je,He,{value:qe,enumerable:!0,configurable:!0,writable:!0}),je[He]}try{D({},"")}catch(je){D=function(qe,lt,_t){return qe[lt]=_t}}function V(je,He,qe,lt){var _t=He&&_instanceof(He.prototype,ce)?He:ce,be=Object.create(_t.prototype),ze=new et(lt||[]);return _(be,"_invoke",{value:ot(je,qe,ze)}),be}function q(je,He,qe){try{return{type:"normal",arg:je.call(He,qe)}}catch(lt){return{type:"throw",arg:lt}}}u.wrap=V;var z="suspendedStart",he="suspendedYield",Y="executing",B="completed",F={};function ce(){}function J(){}function ae(){}var se={};D(se,O,function(){return this});var ve=Object.getPrototypeOf,de=ve&&ve(ve(Ve([])));de&&de!==p&&m.call(de,O)&&(se=de);var Be=ae.prototype=ce.prototype=Object.create(se);function it(je){["next","throw","return"].forEach(function(He){D(je,He,function(qe){return this._invoke(He,qe)})})}function mt(je,He){function qe(_t,be,ze,Re){var $e=q(je[_t],je,be);if($e.type!=="throw"){var Ye=$e.arg,We=Ye.value;return We&&E(We)=="object"&&m.call(We,"__await")?He.resolve(We.__await).then(function(Ct){qe("next",Ct,ze,Re)},function(Ct){qe("throw",Ct,ze,Re)}):He.resolve(We).then(function(Ct){Ye.value=Ct,ze(Ye)},function(Ct){return qe("throw",Ct,ze,Re)})}Re($e.arg)}var lt;_(this,"_invoke",{value:function(be,ze){function Re(){return new He(function($e,Ye){qe(be,ze,$e,Ye)})}return lt=lt?lt.then(Re,Re):Re()}})}function ot(je,He,qe){var lt=z;return function(_t,be){if(lt===Y)throw Error("Generator is already running");if(lt===B){if(_t==="throw")throw be;return{value:y,done:!0}}for(qe.method=_t,qe.arg=be;;){var ze=qe.delegate;if(ze){var Re=Ae(ze,qe);if(Re){if(Re===F)continue;return Re}}if(qe.method==="next")qe.sent=qe._sent=qe.arg;else if(qe.method==="throw"){if(lt===z)throw lt=B,qe.arg;qe.dispatchException(qe.arg)}else qe.method==="return"&&qe.abrupt("return",qe.arg);lt=Y;var $e=q(je,He,qe);if($e.type==="normal"){if(lt=qe.done?B:he,$e.arg===F)continue;return{value:$e.arg,done:qe.done}}$e.type==="throw"&&(lt=B,qe.method="throw",qe.arg=$e.arg)}}}function Ae(je,He){var qe=He.method,lt=je.iterator[qe];if(lt===y)return He.delegate=null,qe==="throw"&&je.iterator.return&&(He.method="return",He.arg=y,Ae(je,He),He.method==="throw")||qe!=="return"&&(He.method="throw",He.arg=new TypeError("The iterator does not provide a '"+qe+"' method")),F;var _t=q(lt,je.iterator,He.arg);if(_t.type==="throw")return He.method="throw",He.arg=_t.arg,He.delegate=null,F;var be=_t.arg;return be?be.done?(He[je.resultName]=be.value,He.next=je.nextLoc,He.method!=="return"&&(He.method="next",He.arg=y),He.delegate=null,F):be:(He.method="throw",He.arg=new TypeError("iterator result is not an object"),He.delegate=null,F)}function xe(je){var He={tryLoc:je[0]};1 in je&&(He.catchLoc=je[1]),2 in je&&(He.finallyLoc=je[2],He.afterLoc=je[3]),this.tryEntries.push(He)}function De(je){var He=je.completion||{};He.type="normal",delete He.arg,je.completion=He}function et(je){this.tryEntries=[{tryLoc:"root"}],je.forEach(xe,this),this.reset(!0)}function Ve(je){if(je||je===""){var He=je[O];if(He)return He.call(je);if(typeof je.next=="function")return je;if(!isNaN(je.length)){var qe=-1,lt=function _t(){for(;++qe<je.length;)if(m.call(je,qe))return _t.value=je[qe],_t.done=!1,_t;return _t.value=y,_t.done=!0,_t};return lt.next=lt}}throw new TypeError(E(je)+" is not iterable")}return J.prototype=ae,_(Be,"constructor",{value:ae,configurable:!0}),_(ae,"constructor",{value:J,configurable:!0}),J.displayName=D(ae,P,"GeneratorFunction"),u.isGeneratorFunction=function(je){var He=typeof je=="function"&&je.constructor;return!!He&&(He===J||(He.displayName||He.name)==="GeneratorFunction")},u.mark=function(je){return Object.setPrototypeOf?Object.setPrototypeOf(je,ae):(je.__proto__=ae,D(je,P,"GeneratorFunction")),je.prototype=Object.create(Be),je},u.awrap=function(je){return{__await:je}},it(mt.prototype),D(mt.prototype,I,function(){return this}),u.AsyncIterator=mt,u.async=function(je,He,qe,lt,_t){_t===void 0&&(_t=Promise);var be=new mt(V(je,He,qe,lt),_t);return u.isGeneratorFunction(He)?be:be.next().then(function(ze){return ze.done?ze.value:be.next()})},it(Be),D(Be,P,"Generator"),D(Be,O,function(){return this}),D(Be,"toString",function(){return"[object Generator]"}),u.keys=function(je){var He=Object(je),qe=[];for(var lt in He)qe.push(lt);return qe.reverse(),function _t(){for(;qe.length;){var be=qe.pop();if(be in He)return _t.value=be,_t.done=!1,_t}return _t.done=!0,_t}},u.values=Ve,et.prototype={constructor:et,reset:function(He){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(De),!He)for(var qe in this)qe.charAt(0)==="t"&&m.call(this,qe)&&!isNaN(+qe.slice(1))&&(this[qe]=y)},stop:function(){this.done=!0;var He=this.tryEntries[0].completion;if(He.type==="throw")throw He.arg;return this.rval},dispatchException:function(He){if(this.done)throw He;var qe=this;function lt(Ye,We){return ze.type="throw",ze.arg=He,qe.next=Ye,We&&(qe.method="next",qe.arg=y),!!We}for(var _t=this.tryEntries.length-1;_t>=0;--_t){var be=this.tryEntries[_t],ze=be.completion;if(be.tryLoc==="root")return lt("end");if(be.tryLoc<=this.prev){var Re=m.call(be,"catchLoc"),$e=m.call(be,"finallyLoc");if(Re&&$e){if(this.prev<be.catchLoc)return lt(be.catchLoc,!0);if(this.prev<be.finallyLoc)return lt(be.finallyLoc)}else if(Re){if(this.prev<be.catchLoc)return lt(be.catchLoc,!0)}else{if(!$e)throw Error("try statement without catch or finally");if(this.prev<be.finallyLoc)return lt(be.finallyLoc)}}}},abrupt:function(He,qe){for(var lt=this.tryEntries.length-1;lt>=0;--lt){var _t=this.tryEntries[lt];if(_t.tryLoc<=this.prev&&m.call(_t,"finallyLoc")&&this.prev<_t.finallyLoc){var be=_t;break}}be&&(He==="break"||He==="continue")&&be.tryLoc<=qe&&qe<=be.finallyLoc&&(be=null);var ze=be?be.completion:{};return ze.type=He,ze.arg=qe,be?(this.method="next",this.next=be.finallyLoc,F):this.complete(ze)},complete:function(He,qe){if(He.type==="throw")throw He.arg;return He.type==="break"||He.type==="continue"?this.next=He.arg:He.type==="return"?(this.rval=this.arg=He.arg,this.method="return",this.next="end"):He.type==="normal"&&qe&&(this.next=qe),F},finish:function(He){for(var qe=this.tryEntries.length-1;qe>=0;--qe){var lt=this.tryEntries[qe];if(lt.finallyLoc===He)return this.complete(lt.completion,lt.afterLoc),De(lt),F}},catch:function(He){for(var qe=this.tryEntries.length-1;qe>=0;--qe){var lt=this.tryEntries[qe];if(lt.tryLoc===He){var _t=lt.completion;if(_t.type==="throw"){var be=_t.arg;De(lt)}return be}}throw Error("illegal catch attempt")},delegateYield:function(He,qe,lt){return this.delegate={iterator:Ve(He),resultName:qe,nextLoc:lt},this.method==="next"&&(this.arg=y),F}},u}var j=function(){return y=function p(m,_){var x=_.isProtected,O=_.imageCache,I=_.loadingImage;(function(P,D){if(!_instanceof(P,D))throw new TypeError("Cannot call a class as a function")})(this,p),this.page=m,this.imageCache=O,this.loadingImage=I,this.$container=C("<div />",{class:"BRpagecontainer ".concat(m?"pagediv".concat(m.index):"BRemptypage"),css:{position:"absolute"}}).attr("data-side",m==null?void 0:m.pageSide),x&&(this.$container.append(C('<div class="BRscreen" />')),this.$container.addClass("protected")),this.$img=null},u=[{key:"update",value:function(m){var _,x,O=m.dimensions,I=O===void 0?null:O,P=m.reduce,D=P===void 0?null:P;if(I&&this.$container.css(I),D!=null&&this.page){var V=this.imageCache.imageLoaded(this.page.index,D),q=!V&&this.imageCache.getBestLoadedReduce(this.page.index,D),z=this.imageCache.image(this.page.index,D);if(((_=this.$img)===null||_===void 0?void 0:_[0].src)==z[0].src)return this;(x=this.$img)===null||x===void 0||x.remove(),this.$img=z.prependTo(this.$container);var he=[];return V||(this.$container.addClass("BRpageloading"),he.push('url("'.concat(this.loadingImage,'") center/20px no-repeat'))),q&&he.push('url("'.concat(this.page.getURI(q,0),'") center/100% 100% no-repeat')),V||this.$img.css("background",he.join(",")).one("loadend",function(){var Y,B=(Y=A().mark(function F(ce){return A().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:C(ce.target).css({background:""}),C(ce.target).parent().removeClass("BRpageloading");case 2:case"end":return J.stop()}},F)}),function(){var ce=this,J=arguments;return new Promise(function(ae,se){var ve=Y.apply(ce,J);function de(it){h(ve,ae,se,de,Be,"next",it)}function Be(it){h(ve,ae,se,de,Be,"throw",it)}de(void 0)})});return function(F){return B.apply(this,arguments)}}()),this}}}],u&&f(y.prototype,u),Object.defineProperty(y,"prototype",{writable:!1}),y;var y,u}()},6257:function(a,s,r){"use strict";var d=function(ae,se,ve,de,Be,it,mt){try{var ot=ae[it](mt),Ae=ot.value}catch(xe){return void ve(xe)}ot.done?se(Ae):Promise.resolve(Ae).then(de,Be)},c=function(ae){return function(){var se=this,ve=arguments;return new Promise(function(de,Be){var it=ae.apply(se,ve);function mt(Ae){d(it,de,Be,mt,ot,"next",Ae)}function ot(Ae){d(it,de,Be,mt,ot,"throw",Ae)}mt(void 0)})}},h=function(ae,se){(se==null||se>ae.length)&&(se=ae.length);for(var ve=0,de=Array(se);ve<se;ve++)de[ve]=ae[ve];return de},f=function(ae){ae.bind("mousedown",function(){return!1}),ae[0].onselectstart=function(){return!1}},v=function(ae,se,ve){return Math.min(Math.max(ae,se),ve)},b=function(ae,se){return ae/se*100+"%"},w=function(ae,se){return!se.includes(ae)},k=function(){var ae=B(arguments.length>0&&arguments[0]!==void 0?arguments[0]:document);return(ae==null?void 0:ae.tagName)=="INPUT"||(ae==null?void 0:ae.tagName)=="TEXTAREA"},C=function(ae){var se=ae.contentWindow||ae.contentDocument;return se.document||se},E=function(ae){return ae.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},A=function(ae){return decodeURIComponent(ae).replace(/\+/g," ")},j=function(ae){return encodeURIComponent(ae).replace(/%20/g,"+")},y=function(ae,se,ve){var de;return function(){var Be=this,it=arguments,mt=ve&&!de;clearTimeout(de),de=setTimeout(function(){de=null,ve||ae.apply(Be,it)},se),mt&&ae.apply(Be,it)}},u=function(ae,se,ve){var de,Be;return se||(se=250),ve&&(de=+new Date),function(){var it=this,mt=+new Date,ot=arguments;de&&mt<de+se?(clearTimeout(Be),Be=setTimeout(function(){de=mt,ae.apply(it,ot)},se)):(de=mt,ae.apply(it,ot))}},p=function(ae){if(typeof ae.CustomEvent=="function")return!1;ae.CustomEvent=m},m=function(ae){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ve=se.bubbles,de=ve!==void 0&&ve,Be=se.cancelable,it=Be!==void 0&&Be,mt=se.detail,ot=mt===void 0?null:mt,Ae=document.createEvent("CustomEvent");return Ae.initCustomEvent(ae,de,it,ot),Ae},_=function(){var ae=document.createElement("div");ae.style.width="1in",document.body.appendChild(ae);var se=ae.offsetWidth;document.body.removeChild(ae);var ve=1.25*se;return ve==0?100:ve},x=function(ae){return ae.reduce(function(se,ve){return se+ve},0)},O=function(ae){var se,ve=[],de=function(it,mt){var ot=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&it[Symbol.iterator]||it["@@iterator"];if(!ot){if(Array.isArray(it)||(ot=function(je,He){if(je){if(typeof je=="string")return h(je,He);var qe={}.toString.call(je).slice(8,-1);return qe==="Object"&&je.constructor&&(qe=je.constructor.name),qe==="Map"||qe==="Set"?Array.from(je):qe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qe)?h(je,He):void 0}}(it))||mt&&it&&typeof it.length=="number"){ot&&(it=ot);var Ae=0,xe=function(){};return{s:xe,n:function(){return Ae>=it.length?{done:!0}:{done:!1,value:it[Ae++]}},e:function(He){throw He},f:xe}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var De,et=!0,Ve=!1;return{s:function(){ot=ot.call(it)},n:function(){var He=ot.next();return et=He.done,He},e:function(He){Ve=!0,De=He},f:function(){try{et||ot.return==null||ot.return()}finally{if(Ve)throw De}}}}(ae);try{for(de.s();!(se=de.n()).done;){var Be=se.value;ve.push(Be)}}catch(it){de.e(it)}finally{de.f()}return ve},I=function(ae,se){return ae.length==se.length&&ae.every(function(ve,de){return ve==se[de]})},P=function(ae,se){return ae&&se&&!I(ae,se)},D=function(ae){return F.apply(this,arguments)},V=function(ae){return ce.apply(this,arguments)},q=function(ae,se){return new Promise(function(ve){ae.addEventListener(se,function de(Be){ae.removeEventListener(se,de),ve(Be)})})},z=function(ae){return ae.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")};function he(J){return he=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(se){return typeof se=="undefined"?"undefined":_typeof(se)}:function(ae){return ae&&typeof Symbol=="function"&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae=="undefined"?"undefined":_typeof(ae)},he(J)}function Y(){Y=function(){return ae};var J,ae={},se=Object.prototype,ve=se.hasOwnProperty,de=Object.defineProperty||function(Lt,st,te){Lt[st]=te.value},Be=typeof Symbol=="function"?Symbol:{},it=Be.iterator||"@@iterator",mt=Be.asyncIterator||"@@asyncIterator",ot=Be.toStringTag||"@@toStringTag";function Ae(Lt,st,te){return Object.defineProperty(Lt,st,{value:te,enumerable:!0,configurable:!0,writable:!0}),Lt[st]}try{Ae({},"")}catch(Lt){Ae=function(te,Jt,Ft){return te[Jt]=Ft}}function xe(Lt,st,te,Jt){var Ft=st&&_instanceof(st.prototype,lt)?st:lt,Yt=Object.create(Ft.prototype),N=new At(Jt||[]);return de(Yt,"_invoke",{value:gt(Lt,te,N)}),Yt}function De(Lt,st,te){try{return{type:"normal",arg:Lt.call(st,te)}}catch(Jt){return{type:"throw",arg:Jt}}}ae.wrap=xe;var et="suspendedStart",Ve="suspendedYield",je="executing",He="completed",qe={};function lt(){}function _t(){}function be(){}var ze={};Ae(ze,it,function(){return this});var Re=Object.getPrototypeOf,$e=Re&&Re(Re(Mt([])));$e&&$e!==se&&ve.call($e,it)&&(ze=$e);var Ye=be.prototype=lt.prototype=Object.create(ze);function We(Lt){["next","throw","return"].forEach(function(st){Ae(Lt,st,function(te){return this._invoke(st,te)})})}function Ct(Lt,st){function te(Ft,Yt,N,Ze){var ge=De(Lt[Ft],Lt,Yt);if(ge.type!=="throw"){var ie=ge.arg,G=ie.value;return G&&he(G)=="object"&&ve.call(G,"__await")?st.resolve(G.__await).then(function(H){te("next",H,N,Ze)},function(H){te("throw",H,N,Ze)}):st.resolve(G).then(function(H){ie.value=H,N(ie)},function(H){return te("throw",H,N,Ze)})}Ze(ge.arg)}var Jt;de(this,"_invoke",{value:function(Yt,N){function Ze(){return new st(function(ge,ie){te(Yt,N,ge,ie)})}return Jt=Jt?Jt.then(Ze,Ze):Ze()}})}function gt(Lt,st,te){var Jt=et;return function(Ft,Yt){if(Jt===je)throw Error("Generator is already running");if(Jt===He){if(Ft==="throw")throw Yt;return{value:J,done:!0}}for(te.method=Ft,te.arg=Yt;;){var N=te.delegate;if(N){var Ze=nt(N,te);if(Ze){if(Ze===qe)continue;return Ze}}if(te.method==="next")te.sent=te._sent=te.arg;else if(te.method==="throw"){if(Jt===et)throw Jt=He,te.arg;te.dispatchException(te.arg)}else te.method==="return"&&te.abrupt("return",te.arg);Jt=je;var ge=De(Lt,st,te);if(ge.type==="normal"){if(Jt=te.done?He:Ve,ge.arg===qe)continue;return{value:ge.arg,done:te.done}}ge.type==="throw"&&(Jt=He,te.method="throw",te.arg=ge.arg)}}}function nt(Lt,st){var te=st.method,Jt=Lt.iterator[te];if(Jt===J)return st.delegate=null,te==="throw"&&Lt.iterator.return&&(st.method="return",st.arg=J,nt(Lt,st),st.method==="throw")||te!=="return"&&(st.method="throw",st.arg=new TypeError("The iterator does not provide a '"+te+"' method")),qe;var Ft=De(Jt,Lt.iterator,st.arg);if(Ft.type==="throw")return st.method="throw",st.arg=Ft.arg,st.delegate=null,qe;var Yt=Ft.arg;return Yt?Yt.done?(st[Lt.resultName]=Yt.value,st.next=Lt.nextLoc,st.method!=="return"&&(st.method="next",st.arg=J),st.delegate=null,qe):Yt:(st.method="throw",st.arg=new TypeError("iterator result is not an object"),st.delegate=null,qe)}function rt(Lt){var st={tryLoc:Lt[0]};1 in Lt&&(st.catchLoc=Lt[1]),2 in Lt&&(st.finallyLoc=Lt[2],st.afterLoc=Lt[3]),this.tryEntries.push(st)}function ct(Lt){var st=Lt.completion||{};st.type="normal",delete st.arg,Lt.completion=st}function At(Lt){this.tryEntries=[{tryLoc:"root"}],Lt.forEach(rt,this),this.reset(!0)}function Mt(Lt){if(Lt||Lt===""){var st=Lt[it];if(st)return st.call(Lt);if(typeof Lt.next=="function")return Lt;if(!isNaN(Lt.length)){var te=-1,Jt=function Ft(){for(;++te<Lt.length;)if(ve.call(Lt,te))return Ft.value=Lt[te],Ft.done=!1,Ft;return Ft.value=J,Ft.done=!0,Ft};return Jt.next=Jt}}throw new TypeError(he(Lt)+" is not iterable")}return _t.prototype=be,de(Ye,"constructor",{value:be,configurable:!0}),de(be,"constructor",{value:_t,configurable:!0}),_t.displayName=Ae(be,ot,"GeneratorFunction"),ae.isGeneratorFunction=function(Lt){var st=typeof Lt=="function"&&Lt.constructor;return!!st&&(st===_t||(st.displayName||st.name)==="GeneratorFunction")},ae.mark=function(Lt){return Object.setPrototypeOf?Object.setPrototypeOf(Lt,be):(Lt.__proto__=be,Ae(Lt,ot,"GeneratorFunction")),Lt.prototype=Object.create(Ye),Lt},ae.awrap=function(Lt){return{__await:Lt}},We(Ct.prototype),Ae(Ct.prototype,mt,function(){return this}),ae.AsyncIterator=Ct,ae.async=function(Lt,st,te,Jt,Ft){Ft===void 0&&(Ft=Promise);var Yt=new Ct(xe(Lt,st,te,Jt),Ft);return ae.isGeneratorFunction(st)?Yt:Yt.next().then(function(N){return N.done?N.value:Yt.next()})},We(Ye),Ae(Ye,ot,"Generator"),Ae(Ye,it,function(){return this}),Ae(Ye,"toString",function(){return"[object Generator]"}),ae.keys=function(Lt){var st=Object(Lt),te=[];for(var Jt in st)te.push(Jt);return te.reverse(),function Ft(){for(;te.length;){var Yt=te.pop();if(Yt in st)return Ft.value=Yt,Ft.done=!1,Ft}return Ft.done=!0,Ft}},ae.values=Mt,At.prototype={constructor:At,reset:function(st){if(this.prev=0,this.next=0,this.sent=this._sent=J,this.done=!1,this.delegate=null,this.method="next",this.arg=J,this.tryEntries.forEach(ct),!st)for(var te in this)te.charAt(0)==="t"&&ve.call(this,te)&&!isNaN(+te.slice(1))&&(this[te]=J)},stop:function(){this.done=!0;var st=this.tryEntries[0].completion;if(st.type==="throw")throw st.arg;return this.rval},dispatchException:function(st){if(this.done)throw st;var te=this;function Jt(ie,G){return N.type="throw",N.arg=st,te.next=ie,G&&(te.method="next",te.arg=J),!!G}for(var Ft=this.tryEntries.length-1;Ft>=0;--Ft){var Yt=this.tryEntries[Ft],N=Yt.completion;if(Yt.tryLoc==="root")return Jt("end");if(Yt.tryLoc<=this.prev){var Ze=ve.call(Yt,"catchLoc"),ge=ve.call(Yt,"finallyLoc");if(Ze&&ge){if(this.prev<Yt.catchLoc)return Jt(Yt.catchLoc,!0);if(this.prev<Yt.finallyLoc)return Jt(Yt.finallyLoc)}else if(Ze){if(this.prev<Yt.catchLoc)return Jt(Yt.catchLoc,!0)}else{if(!ge)throw Error("try statement without catch or finally");if(this.prev<Yt.finallyLoc)return Jt(Yt.finallyLoc)}}}},abrupt:function(st,te){for(var Jt=this.tryEntries.length-1;Jt>=0;--Jt){var Ft=this.tryEntries[Jt];if(Ft.tryLoc<=this.prev&&ve.call(Ft,"finallyLoc")&&this.prev<Ft.finallyLoc){var Yt=Ft;break}}Yt&&(st==="break"||st==="continue")&&Yt.tryLoc<=te&&te<=Yt.finallyLoc&&(Yt=null);var N=Yt?Yt.completion:{};return N.type=st,N.arg=te,Yt?(this.method="next",this.next=Yt.finallyLoc,qe):this.complete(N)},complete:function(st,te){if(st.type==="throw")throw st.arg;return st.type==="break"||st.type==="continue"?this.next=st.arg:st.type==="return"?(this.rval=this.arg=st.arg,this.method="return",this.next="end"):st.type==="normal"&&te&&(this.next=te),qe},finish:function(st){for(var te=this.tryEntries.length-1;te>=0;--te){var Jt=this.tryEntries[te];if(Jt.finallyLoc===st)return this.complete(Jt.completion,Jt.afterLoc),ct(Jt),qe}},catch:function(st){for(var te=this.tryEntries.length-1;te>=0;--te){var Jt=this.tryEntries[te];if(Jt.tryLoc===st){var Ft=Jt.completion;if(Ft.type==="throw"){var Yt=Ft.arg;ct(Jt)}return Yt}}throw Error("illegal catch attempt")},delegateYield:function(st,te,Jt){return this.delegate={iterator:Mt(st),resultName:te,nextLoc:Jt},this.method==="next"&&(this.arg=J),qe}},ae}function B(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,ae=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],se=J.activeElement;return ae&&se!=null&&se.shadowRoot?B(se.shadowRoot,!0):se}function F(){return(F=c(Y().mark(function J(ae){return Y().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.abrupt("return",new Promise(function(ve){return setTimeout(ve,ae)}));case 1:case"end":return se.stop()}},J)}))).apply(this,arguments)}function ce(){return ce=c(Y().mark(function J(ae){var se,ve,de,Be,it,mt,ot,Ae,xe,De,et,Ve=arguments;return Y().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:ve=(se=Ve.length>1&&Ve[1]!==void 0?Ve[1]:{}).step,de=ve===void 0?50:ve,Be=se.timeout,it=Be===void 0?500:Be,mt=se.until,ot=mt===void 0?function(qe){return!!qe}:mt,Ae=se._sleep,xe=Ae===void 0?D:Ae,De=Date.now();case 2:if(!(Date.now()-De<it)){je.next=10;break}if(et=ae(),!ot(et)){je.next=6;break}return je.abrupt("return",et);case 6:return je.next=8,xe(de);case 8:je.next=2;break;case 10:case"end":return je.stop()}},J)})),ce.apply(this,arguments)}r.r(s),r.d(s,{PolyfilledCustomEvent:function(){return m},arrChanged:function(){return P},arrEquals:function(){return I},calcScreenDPI:function(){return _},clamp:function(){return v},cssPercentage:function(){return b},debounce:function(){return y},decodeURIComponentPlus:function(){return A},disableSelect:function(){return f},encodeURIComponentPlus:function(){return j},escapeHTML:function(){return E},escapeRegExp:function(){return z},genToArray:function(){return O},getActiveElement:function(){return B},getIFrameDocument:function(){return C},isInputActive:function(){return k},notInArray:function(){return w},poll:function(){return V},polyfillCustomEvent:function(){return p},promisifyEvent:function(){return q},sleep:function(){return D},sum:function(){return x},throttle:function(){return u}}),r(2675),r(9463),r(6412),r(2259),r(8125),r(3418),r(4423),r(3792),r(2712),r(4490),r(4782),r(2010),r(4731),r(479),r(875),r(6099),r(3362),r(7495),r(8781),r(1699),r(7764),r(5440),r(3500),r(2953)},542:function(a,s,r){"use strict";var d=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:navigator.vendor;return/chrome/i.test(b)&&/google inc/i.test(w)},c=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent;return/firefox/i.test(b)},h=function(){return"ongesturestart"in window&&navigator.maxTouchPoints>0},f=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent;return/SamsungBrowser/i.test(b)};r.d(s,{H8:function(){return d},gm:function(){return c},ij:function(){return f},un:function(){return h}}),r(7495)},2617:function(a){a.exports=function(){var s=function(M){Tn.realWindow=Sr=M;var U=M.document.createTextNode("");U.ownerDocument!==M.document&&typeof M.wrap=="function"&&M.wrap(U)===U&&(M=M.wrap(M)),Tn.window=Ne=M},r=function(M){var U=M.interaction;if(U.prepared.name==="drag"){var K=U.prepared.axis;K==="x"?(U.coords.cur.page.y=U.coords.start.page.y,U.coords.cur.client.y=U.coords.start.client.y,U.coords.velocity.client.y=0,U.coords.velocity.page.y=0):K==="y"&&(U.coords.cur.page.x=U.coords.start.page.x,U.coords.cur.client.x=U.coords.start.client.x,U.coords.velocity.client.x=0,U.coords.velocity.page.x=0)}},d=function(M){var U=M.iEvent,K=M.interaction;if(K.prepared.name==="drag"){var Q=K.prepared.axis;if(Q==="x"||Q==="y"){var ye=Q==="x"?"y":"x";U.page[ye]=K.coords.start.page[ye],U.client[ye]=K.coords.start.client[ye],U.delta[ye]=0}}},c=function(){},h=function(M){var U=M.parentNode;if(ue.default.docFrag(U)){for(;(U=U.host)&&ue.default.docFrag(U););return U}return U},f=function(M,U){return Tn.window!==Tn.realWindow&&(U=U.replace(/\/deep\//g," ")),M[Ei.default.prefixedMatchesSelector](U)},v=function(M,U){for(var K,Q=[],ye=M;(K=at(ye))&&ye!==U&&K!==ye.ownerDocument;)Q.unshift(ye),ye=K;return Q},b=function(M){return{x:(M=M||Tn.window).scrollX||M.document.documentElement.scrollLeft,y:M.scrollY||M.document.documentElement.scrollTop}},w=function(M){var U=_instanceof(M,cr.default.SVGElement)?M.getBoundingClientRect():M.getClientRects()[0];return U&&{left:U.left,right:U.right,top:U.top,bottom:U.bottom,width:U.width||U.right-U.left,height:U.height||U.bottom-U.top}},k=function(M,U){(U==null||U>M.length)&&(U=M.length);for(var K=0,Q=Array(U);K<U;K++)Q[K]=M[K];return Q},C=function(M,U,K){return M==="parent"?(0,yt.parentNode)(K):M==="self"?U.getRect(K):(0,yt.closest)(K,M)},E=function(M){return M.trim().split(/ +/)},A=function(M){return _instanceof(M,cr.default.Event)||_instanceof(M,cr.default.Touch)},j=function(M,U,K){return M=M||"page",(K=K||{}).x=U[M+"X"],K.y=U[M+"Y"],K},y=function(M,U){return U=U||{x:0,y:0},Ei.default.isOperaMobile&&A(M)?(j("screen",M,U),U.x+=window.scrollX,U.y+=window.scrollY):j("page",M,U),U},u=function(M,U){return U=U||{},Ei.default.isOperaMobile&&A(M)?j("screen",M,U):j("client",M,U),U},p=function(M){var U=[];return ue.default.array(M)?(U[0]=M[0],U[1]=M[1]):M.type==="touchend"?M.touches.length===1?(U[0]=M.touches[0],U[1]=M.changedTouches[0]):M.touches.length===0&&(U[0]=M.changedTouches[0],U[1]=M.changedTouches[1]):(U[0]=M.touches[0],U[1]=M.touches[1]),U},m=function(M){for(var U={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},K=0;K<M.length;K++){var Q=M[K];for(var ye in U)U[ye]+=Q[ye]}for(var Ee in U)U[Ee]/=M.length;return U},_=function(M,U,K){return U in M?Object.defineProperty(M,U,{value:K,enumerable:!0,configurable:!0,writable:!0}):M[U]=K,M},x=function(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M},O=function(M,U,K){return U in M?Object.defineProperty(M,U,{value:K,enumerable:!0,configurable:!0,writable:!0}):M[U]=K,M},I=function(M,U){for(var K=0;K<M.slice().length;K++){var Q=M.slice()[K],ye=Q.dropzone,Ee=Q.element;U.dropzone=ye,U.target=Ee,ye.fire(U),U.propagationStopped=U.immediatePropagationStopped=!1}},P=function(M,U){for(var K=function(Ee,Ge){for(var Ue=Ee.interactables,ut=[],wt=0;wt<Ue.list.length;wt++){var Gt=Ue.list[wt];if(Gt.options.drop.enabled){var Qt=Gt.options.drop.accept;if(!(ue.default.element(Qt)&&Qt!==Ge||ue.default.string(Qt)&&!yt.matchesSelector(Ge,Qt)||ue.default.func(Qt)&&!Qt({dropzone:Gt,draggableElement:Ge})))for(var mn=ue.default.string(Gt.target)?Gt._context.querySelectorAll(Gt.target):ue.default.array(Gt.target)?Gt.target:[Gt.target],tn=0;tn<mn.length;tn++){var Bn=mn[tn];Bn!==Ge&&ut.push({dropzone:Gt,element:Bn,rect:Gt.getRect(Bn)})}}}return ut}(M,U),Q=0;Q<K.length;Q++){var ye=K[Q];ye.rect=ye.dropzone.getRect(ye.element)}return K},D=function(M,U,K){for(var Q=M.dropState,ye=M.interactable,Ee=M.element,Ge=[],Ue=0;Ue<Q.activeDrops.length;Ue++){var ut=Q.activeDrops[Ue],wt=ut.dropzone,Gt=ut.element,Qt=ut.rect;Ge.push(wt.dropCheck(U,K,ye,Ee,Gt,Qt)?Gt:null)}var mn=yt.indexOfDeepestElement(Ge);return Q.activeDrops[mn]||null},V=function(M,U,K){var Q=M.dropState,ye={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return K.type==="dragstart"&&(ye.activate=new ai.DropEvent(Q,K,"dropactivate"),ye.activate.target=null,ye.activate.dropzone=null),K.type==="dragend"&&(ye.deactivate=new ai.DropEvent(Q,K,"dropdeactivate"),ye.deactivate.target=null,ye.deactivate.dropzone=null),Q.rejected||(Q.cur.element!==Q.prev.element&&(Q.prev.dropzone&&(ye.leave=new ai.DropEvent(Q,K,"dragleave"),K.dragLeave=ye.leave.target=Q.prev.element,K.prevDropzone=ye.leave.dropzone=Q.prev.dropzone),Q.cur.dropzone&&(ye.enter=new ai.DropEvent(Q,K,"dragenter"),K.dragEnter=Q.cur.element,K.dropzone=Q.cur.dropzone)),K.type==="dragend"&&Q.cur.dropzone&&(ye.drop=new ai.DropEvent(Q,K,"drop"),K.dropzone=Q.cur.dropzone,K.relatedTarget=Q.cur.element),K.type==="dragmove"&&Q.cur.dropzone&&(ye.move=new ai.DropEvent(Q,K,"dropmove"),ye.move.dragmove=K,K.dropzone=Q.cur.dropzone)),ye},q=function(M,U){var K=M.dropState,Q=K.activeDrops,ye=K.cur,Ee=K.prev;U.leave&&Ee.dropzone.fire(U.leave),U.enter&&ye.dropzone.fire(U.enter),U.move&&ye.dropzone.fire(U.move),U.drop&&ye.dropzone.fire(U.drop),U.deactivate&&I(Q,U.deactivate),K.prev.dropzone=ye.dropzone,K.prev.element=ye.element},z=function(M,U){var K=M.interaction,Q=M.iEvent,ye=M.event;if(Q.type==="dragmove"||Q.type==="dragend"){var Ee=K.dropState;U.dynamicDrop&&(Ee.activeDrops=P(U,K.element));var Ge=Q,Ue=D(K,Ge,ye);Ee.rejected=Ee.rejected&&!!Ue&&Ue.dropzone===Ee.cur.dropzone&&Ue.element===Ee.cur.element,Ee.cur.dropzone=Ue&&Ue.dropzone,Ee.cur.element=Ue&&Ue.element,Ee.events=V(K,0,Ge)}},he=function(M){var U=M.interaction,K=M.iEvent,Q=M.phase;if(U.prepared.name==="gesture"){var ye=U.pointers.map(function(wt){return wt.pointer}),Ee=Q==="start",Ge=Q==="end",Ue=U.interactable.options.deltaSource;if(K.touches=[ye[0],ye[1]],Ee)K.distance=Dn.touchDistance(ye,Ue),K.box=Dn.touchBBox(ye),K.scale=1,K.ds=0,K.angle=Dn.touchAngle(ye,Ue),K.da=0,U.gesture.startDistance=K.distance,U.gesture.startAngle=K.angle;else if(Ge){var ut=U.prevEvent;K.distance=ut.distance,K.box=ut.box,K.scale=ut.scale,K.ds=0,K.angle=ut.angle,K.da=0}else K.distance=Dn.touchDistance(ye,Ue),K.box=Dn.touchBBox(ye),K.scale=K.distance/U.gesture.startDistance,K.angle=Dn.touchAngle(ye,Ue),K.ds=K.scale-U.gesture.scale,K.da=K.angle-U.gesture.angle;U.gesture.distance=K.distance,U.gesture.angle=K.angle,ue.default.number(K.scale)&&K.scale!==1/0&&!isNaN(K.scale)&&(U.gesture.scale=K.scale)}},Y=function(M,U,K,Q,ye,Ee,Ge){if(!U)return!1;if(U===!0){var Ue=ue.default.number(Ee.width)?Ee.width:Ee.right-Ee.left,ut=ue.default.number(Ee.height)?Ee.height:Ee.bottom-Ee.top;if(Ge=Math.min(Ge,Math.abs((M==="left"||M==="right"?Ue:ut)/2)),Ue<0&&(M==="left"?M="right":M==="right"&&(M="left")),ut<0&&(M==="top"?M="bottom":M==="bottom"&&(M="top")),M==="left"){var wt=Ue>=0?Ee.left:Ee.right;return K.x<wt+Ge}if(M==="top"){var Gt=ut>=0?Ee.top:Ee.bottom;return K.y<Gt+Ge}if(M==="right")return K.x>(Ue>=0?Ee.right:Ee.left)-Ge;if(M==="bottom")return K.y>(ut>=0?Ee.bottom:Ee.top)-Ge}return!!ue.default.element(Q)&&(ue.default.element(U)?U===Q:yt.matchesUpTo(Q,U,ye))},B=function(M){var U=M.iEvent,K=M.interaction;if(K.prepared.name==="resize"&&K.resizeAxes){var Q=U;K.interactable.options.resize.square?(K.resizeAxes==="y"?Q.delta.x=Q.delta.y:Q.delta.y=Q.delta.x,Q.axes="xy"):(Q.axes=K.resizeAxes,K.resizeAxes==="x"?Q.delta.y=0:K.resizeAxes==="y"&&(Q.delta.x=0))}},F=function(M,U,K){return(ue.default.string(M)?(0,ln.getStringOptionResult)(M,U,K):M)||(0,Tn.getWindow)(K)},ce=function(M){return ue.default.window(M)&&(M=window.document.body),{x:M.scrollLeft,y:M.scrollTop}},J=function(M){return ue.default.bool(M)?(this.options.styleCursor=M,this):M===null?(delete this.options.styleCursor,this):this.options.styleCursor},ae=function(M){return ue.default.func(M)?(this.options.actionChecker=M,this):M===null?(delete this.options.actionChecker,this):this.options.actionChecker},se=function(M,U,K,Q,ye){return U.testIgnoreAllow(U.options[M.name],K,Q)&&U.options[M.name].enabled&&it(U,K,M,ye)?M:null},ve=function(M,U,K,Q,ye,Ee,Ge){for(var Ue=0,ut=Q.length;Ue<ut;Ue++){var wt=Q[Ue],Gt=ye[Ue],Qt=wt.getAction(U,K,M,Gt);if(Qt){var mn=se(Qt,wt,Gt,Ee,Ge);if(mn)return{action:mn,interactable:wt,element:Gt}}}return{action:null,interactable:null,element:null}},de=function(M,U,K,Q,ye){var Ee=[],Ge=[],Ue=Q;function ut(Gt){Ee.push(Gt),Ge.push(Ue)}for(;ue.default.element(Ue);){Ee=[],Ge=[],ye.interactables.forEachMatch(Ue,ut);var wt=ve(M,U,K,Ee,Ge,Q,ye);if(wt.action&&!wt.interactable.options[wt.action.name].manualStart)return wt;Ue=yt.parentNode(Ue)}return{action:null,interactable:null,element:null}},Be=function(M,U,K){var Q=U.action,ye=U.interactable,Ee=U.element;Q=Q||{name:null},M.interactable=ye,M.element=Ee,(0,Ci.copyAction)(M.prepared,Q),M.rect=ye&&Q.name?ye.getRect(Ee):null,Ae(M,K),K.fire("autoStart:prepared",{interaction:M})},it=function(M,U,K,Q){var ye=M.options,Ee=ye[K.name].max,Ge=ye[K.name].maxPerElement,Ue=Q.autoStart.maxInteractions,ut=0,wt=0,Gt=0;if(!(Ee&&Ge&&Ue))return!1;for(var Qt=0;Qt<Q.interactions.list.length;Qt++){var mn=Q.interactions.list[Qt],tn=mn.prepared.name;if(mn.interacting()&&(++ut>=Ue||mn.interactable===M&&((wt+=tn===K.name?1:0)>=Ee||mn.element===U&&(Gt++,tn===K.name&&Gt>=Ge))))return!1}return Ue>0},mt=function(M,U){return ue.default.number(M)?(U.autoStart.maxInteractions=M,this):U.autoStart.maxInteractions},ot=function(M,U,K){var Q=K.autoStart.cursorElement;Q&&Q!==M&&(Q.style.cursor=""),M.ownerDocument.documentElement.style.cursor=U,M.style.cursor=U,K.autoStart.cursorElement=U?M:null},Ae=function(M,U){var K=M.interactable,Q=M.element,ye=M.prepared;if(M.pointerType==="mouse"&&K&&K.options.styleCursor){var Ee="";if(ye.name){var Ge=K.options[ye.name].cursorChecker;Ee=ue.default.func(Ge)?Ge(ye,K,Q,M._interacting):U.actions.map[ye.name].getCursor(ye)}ot(M.element,Ee||"",U)}else U.autoStart.cursorElement&&ot(U.autoStart.cursorElement,"",U)},xe=function(M){var U=M.prepared&&M.prepared.name;if(!U)return null;var K=M.interactable.options;return K[U].hold||K[U].delay},De=function(M){return/^(always|never|auto)$/.test(M)?(this.options.preventDefault=M,this):ue.default.bool(M)?(this.options.preventDefault=M?"always":"never",this):this.options.preventDefault},et=function(M){var U=M.interaction,K=M.event;U.interactable&&U.interactable.checkAndPreventDefault(K)},Ve=function(M){var U=M.Interactable;U.prototype.preventDefault=De,U.prototype.checkAndPreventDefault=function(K){return function(Q,ye,Ee){var Ge=Q.options.preventDefault;if(Ge!=="never")if(Ge!=="always"){if(ye.events.supportsPassive&&/^touch(start|move)$/.test(Ee.type)){var Ue=(0,Tn.getWindow)(Ee.target).document,ut=ye.getDocOptions(Ue);if(!ut||!ut.events||ut.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(Ee.type)||ue.default.element(Ee.target)&&(0,yt.matchesSelector)(Ee.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||Ee.preventDefault()}else Ee.preventDefault()}(this,M,K)},M.interactions.docEvents.push({type:"dragstart",listener:function(Q){for(var ye=0;ye<M.interactions.list.length;ye++){var Ee=M.interactions.list[ye];if(Ee.element&&(Ee.element===Q.target||(0,yt.nodeContains)(Ee.element,Q.target)))return void Ee.interactable.checkAndPreventDefault(Q)}}})},je=function(M,U){return function(K){if(Array.isArray(K))return K}(M)||function(K,Q){var ye=K==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&K[Symbol.iterator]||K["@@iterator"];if(ye!=null){var Ee,Ge,Ue=[],ut=!0,wt=!1;try{for(ye=ye.call(K);!(ut=(Ee=ye.next()).done)&&(Ue.push(Ee.value),!Q||Ue.length!==Q);ut=!0);}catch(Gt){wt=!0,Ge=Gt}finally{try{ut||ye.return==null||ye.return()}finally{if(wt)throw Ge}}return Ue}}(M,U)||function(K,Q){if(K){if(typeof K=="string")return He(K,Q);var ye=Object.prototype.toString.call(K).slice(8,-1);return ye==="Object"&&K.constructor&&(ye=K.constructor.name),ye==="Map"||ye==="Set"?Array.from(K):ye==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ye)?He(K,Q):void 0}}(M,U)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},He=function(M,U){(U==null||U>M.length)&&(U=M.length);for(var K=0,Q=Array(U);K<U;K++)Q[K]=M[K];return Q},qe=function(M,U,K){return U in M?Object.defineProperty(M,U,{value:K,enumerable:!0,configurable:!0,writable:!0}):M[U]=K,M},lt=function(M,U){return{rect:U,coords:M,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}},_t=function(M,U){return M?{left:U.x-M.left,top:U.y-M.top,right:M.right-U.x,bottom:M.bottom-U.y}:{left:0,top:0,right:0,bottom:0}},be=function(M){var U=M.iEvent,K=M.interaction.modification.result;K&&(U.modifiers=K.eventProps)},ze=function(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M},Re=function(M,U,K){return U in M?Object.defineProperty(M,U,{value:K,enumerable:!0,configurable:!0,writable:!0}):M[U]=K,M},$e=function(M,U){for(var K=0;K<U.length;K++){var Q=U[K];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(M,Q.key,Q)}},Ye=function(M,U,K){return U in M?Object.defineProperty(M,U,{value:K,enumerable:!0,configurable:!0,writable:!0}):M[U]=K,M},We=function(M,U,K){return U in M?Object.defineProperty(M,U,{value:K,enumerable:!0,configurable:!0,writable:!0}):M[U]=K,M},Ct=function(M){M.pointerIsDown&&(ct(M.coords.cur,M.offset.total),M.offset.pending.x=0,M.offset.pending.y=0)},gt=function(M){nt(M.interaction)},nt=function(M){if(!function(K){return!(!K.offset.pending.x&&!K.offset.pending.y)}(M))return!1;var U=M.offset.pending;return ct(M.coords.cur,U),ct(M.coords.delta,U),ln.addEdges(M.edges,M.rect,U),U.x=0,U.y=0,!0},rt=function(M){var U=M.x,K=M.y;this.offset.pending.x+=U,this.offset.pending.y+=K,this.offset.total.x+=U,this.offset.total.y+=K},ct=function(M,U){var K=M.page,Q=M.client,ye=U.x,Ee=U.y;K.x+=ye,K.y+=Ee,Q.x+=ye,Q.y+=Ee},At=function(M,U,K){return U in M?Object.defineProperty(M,U,{value:K,enumerable:!0,configurable:!0,writable:!0}):M[U]=K,M},Mt=function(M){var U=M.interactable,K=M.prepared;return U&&U.options&&K.name&&U.options[K.name].inertia},Lt=function(M,U,K,Q){var ye=1-M;return ye*ye*U+2*ye*M*K+M*M*Q},st=function(M,U,K,Q){return-K*(M/=Q)*(M-2)+U},te=function(M,U,K){return U in M?Object.defineProperty(M,U,{value:K,enumerable:!0,configurable:!0,writable:!0}):M[U]=K,M},Jt=function(M,U){for(var K=0;K<U.length;K++){var Q=U[K];if(M.immediatePropagationStopped)break;Q(M)}},Ft=function(M,U,K){return U in M?Object.defineProperty(M,U,{value:K,enumerable:!0,configurable:!0,writable:!0}):M[U]=K,M},Yt=function(M,U,K){return U in M?Object.defineProperty(M,U,{value:K,enumerable:!0,configurable:!0,writable:!0}):M[U]=K,M},N=function(M,U,K){return U in M?Object.defineProperty(M,U,{value:K,enumerable:!0,configurable:!0,writable:!0}):M[U]=K,M},Ze=function(M,U){return function(K){if(Array.isArray(K))return K}(M)||function(K,Q){var ye=K==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&K[Symbol.iterator]||K["@@iterator"];if(ye!=null){var Ee,Ge,Ue=[],ut=!0,wt=!1;try{for(ye=ye.call(K);!(ut=(Ee=ye.next()).done)&&(Ue.push(Ee.value),!Q||Ue.length!==Q);ut=!0);}catch(Gt){wt=!0,Ge=Gt}finally{try{ut||ye.return==null||ye.return()}finally{if(wt)throw Ge}}return Ue}}(M,U)||function(K,Q){if(K){if(typeof K=="string")return ge(K,Q);var ye=Object.prototype.toString.call(K).slice(8,-1);return ye==="Object"&&K.constructor&&(ye=K.constructor.name),ye==="Map"||ye==="Set"?Array.from(K):ye==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ye)?ge(K,Q):void 0}}(M,U)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},ge=function(M,U){(U==null||U>M.length)&&(U=M.length);for(var K=0,Q=Array(U);K<U;K++)Q[K]=M[K];return Q},ie=function(M){if(!ue.default.object(M))return{capture:!!M,passive:!1};var U=(0,bt.default)({},M);return U.capture=!!M.capture,U.passive=!!M.passive,U},G=function(M,U){return M.pointers.some(function(K){return K.id===U})},H=function(M,U){return function(K){if(Array.isArray(K))return K}(M)||function(K,Q){var ye=K==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&K[Symbol.iterator]||K["@@iterator"];if(ye!=null){var Ee,Ge,Ue=[],ut=!0,wt=!1;try{for(ye=ye.call(K);!(ut=(Ee=ye.next()).done)&&(Ue.push(Ee.value),!Q||Ue.length!==Q);ut=!0);}catch(Gt){wt=!0,Ge=Gt}finally{try{ut||ye.return==null||ye.return()}finally{if(wt)throw Ge}}return Ue}}(M,U)||function(K,Q){if(K){if(typeof K=="string")return Z(K,Q);var ye=Object.prototype.toString.call(K).slice(8,-1);return ye==="Object"&&K.constructor&&(ye=K.constructor.name),ye==="Map"||ye==="Set"?Array.from(K):ye==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ye)?Z(K,Q):void 0}}(M,U)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},Z=function(M,U){(U==null||U>M.length)&&(U=M.length);for(var K=0,Q=Array(U);K<U;K++)Q[K]=M[K];return Q},oe=function(M,U){return function(K){var Q=U.interactions.list,ye=Dn.getPointerType(K),Ee=H(Dn.getEventTargets(K),2),Ge=Ee[0],Ue=Ee[1],ut=[];if(/^touch/.test(K.type)){U.prevTouchTime=U.now();for(var wt=0;wt<K.changedTouches.length;wt++){var Gt=K.changedTouches[wt],Qt={pointer:Gt,pointerId:Dn.getPointerId(Gt),pointerType:ye,eventType:K.type,eventTarget:Ge,curEventTarget:Ue,scope:U},mn=me(Qt);ut.push([Qt.pointer,Qt.eventTarget,Qt.curEventTarget,mn])}}else{var tn=!1;if(!Ei.default.supportsPointerEvent&&/mouse/.test(K.type)){for(var Bn=0;Bn<Q.length&&!tn;Bn++)tn=Q[Bn].pointerType!=="mouse"&&Q[Bn].pointerIsDown;tn=tn||U.now()-U.prevTouchTime<500||K.timeStamp===0}if(!tn){var Xn={pointer:K,pointerId:Dn.getPointerId(K),pointerType:ye,eventType:K.type,curEventTarget:Ue,eventTarget:Ge,scope:U},zn=me(Xn);ut.push([Xn.pointer,Xn.eventTarget,Xn.curEventTarget,zn])}}for(var Kn=0;Kn<ut.length;Kn++){var fr=H(ut[Kn],4),Er=fr[0],Vr=fr[1],Jr=fr[2];fr[3][M](Er,K,Vr,Jr)}}},me=function(M){var U=M.pointerType,K=M.scope,Q={interaction:gr.default.search(M),searchDetails:M};return K.fire("interactions:find",Q),Q.interaction||K.interactions.new({pointerType:U})},Oe=function(M,U){var K=M.doc,Q=M.scope,ye=M.options,Ee=Q.interactions.docEvents,Ge=Q.events,Ue=Ge[U];for(var ut in Q.browser.isIOS&&!ye.events&&(ye.events={passive:!1}),Ge.delegatedEvents)Ue(K,ut,Ge.delegateListener),Ue(K,ut,Ge.delegateUseCapture,!0);for(var wt=ye&&ye.events,Gt=0;Gt<Ee.length;Gt++){var Qt=Ee[Gt];Ue(K,Qt.type,Qt.listener,wt)}},Pe=function(M,U){if(!_instanceof(M,U))throw new TypeError("Cannot call a class as a function")},Xe=function(M,U){for(var K=0;K<U.length;K++){var Q=U[K];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(M,Q.key,Q)}},Me=function(M,U,K){return U&&Xe(M.prototype,U),K&&Xe(M,K),Object.defineProperty(M,"prototype",{writable:!1}),M},Qe=function(M,U,K){return U in M?Object.defineProperty(M,U,{value:K,enumerable:!0,configurable:!0,writable:!0}):M[U]=K,M},ht=function(M,U){return M.isInitialized=!0,ue.default.window(U)&&Tn.init(U),cr.default.init(U),Ei.default.init(U),Qi.default.init(U),M.window=U,M.document=U.document,M.usePlugin(oo.default),M.usePlugin(vn.default),M},Vt=function(M){return M&&M.replace(/\/.*$/,"")},$t=function(M,U){return function(K){if(Array.isArray(K))return K}(M)||function(K,Q){var ye=K==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&K[Symbol.iterator]||K["@@iterator"];if(ye!=null){var Ee,Ge,Ue=[],ut=!0,wt=!1;try{for(ye=ye.call(K);!(ut=(Ee=ye.next()).done)&&(Ue.push(Ee.value),!Q||Ue.length!==Q);ut=!0);}catch(Gt){wt=!0,Ge=Gt}finally{try{ut||ye.return==null||ye.return()}finally{if(wt)throw Ge}}return Ue}}(M,U)||function(K,Q){if(K){if(typeof K=="string")return zt(K,Q);var ye=Object.prototype.toString.call(K).slice(8,-1);return ye==="Object"&&K.constructor&&(ye=K.constructor.name),ye==="Map"||ye==="Set"?Array.from(K):ye==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ye)?zt(K,Q):void 0}}(M,U)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},zt=function(M,U){(U==null||U>M.length)&&(U=M.length);for(var K=0,Q=Array(U);K<U;K++)Q[K]=M[K];return Q},qt=function(M,U){var K=Object.keys(M);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(M);U&&(Q=Q.filter(function(ye){return Object.getOwnPropertyDescriptor(M,ye).enumerable})),K.push.apply(K,Q)}return K},Bt=function(M){for(var U=arguments,K=function(ye){var Ee=U[ye]!=null?U[ye]:{};ye%2?qt(Object(Ee),!0).forEach(function(Ge){an(M,Ge,Ee[Ge])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(Ee)):qt(Object(Ee)).forEach(function(Ge){Object.defineProperty(M,Ge,Object.getOwnPropertyDescriptor(Ee,Ge))})},Q=1;Q<arguments.length;Q++)K(Q);return M},an=function(M,U,K){return U in M?Object.defineProperty(M,U,{value:K,enumerable:!0,configurable:!0,writable:!0}):M[U]=K,M},cn=function(M,U,K){var Q=M.startCoords,ye=M.edgeSign;U?K.y=Q.y+(K.x-Q.x)*ye.y:K.x=Q.x+(K.y-Q.y)*ye.x},It=function(M,U,K,Q){var ye=M.startRect,Ee=M.startCoords,Ge=M.ratio,Ue=M.edgeSign;if(U){var ut=Q.width/Ge;K.y=Ee.y+(ut-ye.height)*Ue.y}else{var wt=Q.height*Ge;K.x=Ee.x+(wt-ye.width)*Ue.x}},nn=function(M,U,K){return ue.default.func(M)?ln.resolveRectLike(M,U.interactable,U.element,[K.x,K.y,U]):ln.resolveRectLike(M,U.interactable,U.element)},Kt=function(M,U){for(var K=["top","left","bottom","right"],Q=0;Q<K.length;Q++){var ye=K[Q];ye in M||(M[ye]=U[ye])}return M},Pn=function(M,U){(U==null||U>M.length)&&(U=M.length);for(var K=0,Q=Array(U);K<U;K++)Q[K]=M[K];return Q},Xt=function(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M},ar=function(M,U){var K=M.interaction,Q=M.pointer,ye=M.event,Ee=M.eventTarget,Ge=M.type,Ue=K.getPointerIndex(Q),ut=K.pointers[Ue];if(Ge==="tap"&&(K.pointerWasMoved||!ut||ut.downTarget!==Ee))return[];for(var wt=yt.getPath(Ee),Gt={interaction:K,pointer:Q,event:ye,eventTarget:Ee,type:Ge,path:wt,targets:[],node:null},Qt=0;Qt<wt.length;Qt++){var mn=wt[Qt];Gt.node=mn,U.fire("pointerEvents:collect-targets",Gt)}return Ge==="hold"&&(Gt.targets=Gt.targets.filter(function(tn){var Bn;return tn.eventable.options.holdDuration===((Bn=K.pointers[Ue])==null?void 0:Bn.hold.duration)})),Gt.targets},Fn=function(M){var U=M.interaction,K=M.pointerIndex,Q=U.pointers[K].hold;Q&&Q.timeout&&(clearTimeout(Q.timeout),Q.timeout=null)},Qn=function(M){var U=M.interaction;U.holdIntervalHandle&&(clearInterval(U.holdIntervalHandle),U.holdIntervalHandle=null)},en=function(M){return(0,bt.default)(this.events.options,M),this},bn=function(M){var U=M.Interactable;M.actions.phases.reflow=!0,U.prototype.reflow=function(K){return function(Q,ye,Ee){for(var Ge=ue.default.string(Q.target)?Rr.from(Q._context.querySelectorAll(Q.target)):[Q.target],Ue=Ee.window.Promise,ut=Ue?[]:null,wt=function(){var mn=Ge[Gt],tn=Q.getRect(mn);if(!tn)return"break";var Bn=Rr.find(Ee.interactions.list,function(Er){return Er.interacting()&&Er.interactable===Q&&Er.element===mn&&Er.prepared.name===ye.name}),Xn=void 0;if(Bn)Bn.move(),ut&&(Xn=Bn._reflowPromise||new Ue(function(Er){Bn._reflowResolve=Er}));else{var zn=(0,ln.tlbrToXywh)(tn),Kn={page:{x:zn.x,y:zn.y},client:{x:zn.x,y:zn.y},timeStamp:Ee.now()},fr=Dn.coordsToEvent(Kn);Xn=function(Er,Vr,Jr,Li,yi){var zr=Er.interactions.new({pointerType:"reflow"}),pa={interaction:zr,event:yi,pointer:yi,eventTarget:Jr,phase:"reflow"};zr.interactable=Vr,zr.element=Jr,zr.prevEvent=yi,zr.updatePointer(yi,yi,Jr,!0),Dn.setZeroCoords(zr.coords.delta),(0,Ci.copyAction)(zr.prepared,Li),zr._doPhase(pa);var va=Er.window.Promise,Uu=va?new va(function(Wk){zr._reflowResolve=Wk}):void 0;return zr._reflowPromise=Uu,zr.start(Li,Vr,Jr),zr._interacting?(zr.move(pa),zr.end(yi)):(zr.stop(),zr._reflowResolve()),zr.removePointer(yi,yi),Uu}(Ee,Q,mn,ye,fr)}ut&&ut.push(Xn)},Gt=0;Gt<Ge.length&&wt()!=="break";Gt++);return ut&&Ue.all(ut).then(function(){return Q})}(this,K,M)}},Zn={};Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.default=void 0,Zn.default=function(re){return!(!re||!re.Window)&&_instanceof(re,re.Window)};var Tn={};Object.defineProperty(Tn,"__esModule",{value:!0}),Tn.getWindow=function(re){return(0,Zn.default)(re)?re:(re.ownerDocument||re).defaultView||Ne.window},Tn.init=s,Tn.window=Tn.realWindow=void 0;var Sr=void 0;Tn.realWindow=Sr;var Ne=void 0;Tn.window=Ne,(typeof window=="undefined"?"undefined":_typeof(window))<"u"&&window&&s(window);var ue={};function Te(re){return Te=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(U){return typeof U=="undefined"?"undefined":_typeof(U)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M=="undefined"?"undefined":_typeof(M)},Te(re)}Object.defineProperty(ue,"__esModule",{value:!0}),ue.default=void 0;var ft=function(M){return!!M&&Te(M)==="object"},Tt=function(M){return typeof M=="function"},St={window:function(M){return M===Tn.window||(0,Zn.default)(M)},docFrag:function(M){return ft(M)&&M.nodeType===11},object:ft,func:Tt,number:function(M){return typeof M=="number"},bool:function(M){return typeof M=="boolean"},string:function(M){return typeof M=="string"},element:function(M){if(!M||Te(M)!=="object")return!1;var U=Tn.getWindow(M)||Tn.window;return/object|function/.test((typeof Element=="undefined"?"undefined":_typeof(Element))>"u"?"undefined":Te(Element))?_instanceof(M,Element)||_instanceof(M,U.Element):M.nodeType===1&&typeof M.nodeName=="string"},plainObject:function(M){return ft(M)&&!!M.constructor&&/function Object\b/.test(M.constructor.toString())},array:function(M){return ft(M)&&M.length!==void 0&&Tt(M.splice)}};ue.default=St;var sn={};Object.defineProperty(sn,"__esModule",{value:!0}),sn.default=void 0;var Mn={id:"actions/drag",install:function(M){var U=M.actions,K=M.Interactable,Q=M.defaults;K.prototype.draggable=Mn.draggable,U.map.drag=Mn,U.methodDict.drag="draggable",Q.actions.drag=Mn.defaults},listeners:{"interactions:before-action-move":r,"interactions:action-resume":r,"interactions:action-move":d,"auto-start:check":function(re){var M=re.interaction,U=re.interactable,K=re.buttons,Q=U.options.drag;if(Q&&Q.enabled&&(!M.pointerIsDown||!/mouse|pointer/.test(M.pointerType)||K&U.options.drag.mouseButtons))return re.action={name:"drag",axis:Q.lockAxis==="start"?Q.startAxis:Q.lockAxis},!1}},draggable:function(M){return ue.default.object(M)?(this.options.drag.enabled=M.enabled!==!1,this.setPerAction("drag",M),this.setOnEvents("drag",M),/^(xy|x|y|start)$/.test(M.lockAxis)&&(this.options.drag.lockAxis=M.lockAxis),/^(xy|x|y)$/.test(M.startAxis)&&(this.options.drag.startAxis=M.startAxis),this):ue.default.bool(M)?(this.options.drag.enabled=M,this):this.options.drag},beforeMove:r,move:d,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},Nn=Mn;sn.default=Nn;var cr={};Object.defineProperty(cr,"__esModule",{value:!0}),cr.default=void 0;var or={init:function(M){var U=M;or.document=U.document,or.DocumentFragment=U.DocumentFragment||c,or.SVGElement=U.SVGElement||c,or.SVGSVGElement=U.SVGSVGElement||c,or.SVGElementInstance=U.SVGElementInstance||c,or.Element=U.Element||c,or.HTMLElement=U.HTMLElement||or.Element,or.Event=U.Event,or.Touch=U.Touch||c,or.PointerEvent=U.PointerEvent||U.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null},Ar=or;cr.default=Ar;var Ei={};Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.default=void 0;var fi={init:function(M){var U=cr.default.Element,K=M.navigator||{};fi.supportsTouch="ontouchstart"in M||ue.default.func(M.DocumentTouch)&&_instanceof(cr.default.document,M.DocumentTouch),fi.supportsPointerEvent=K.pointerEnabled!==!1&&!!cr.default.PointerEvent,fi.isIOS=/iP(hone|od|ad)/.test(K.platform),fi.isIOS7=/iP(hone|od|ad)/.test(K.platform)&&/OS 7[^\d]/.test(K.appVersion),fi.isIe9=/MSIE 9/.test(K.userAgent),fi.isOperaMobile=K.appName==="Opera"&&fi.supportsTouch&&/Presto/.test(K.userAgent),fi.prefixedMatchesSelector="matches"in U.prototype?"matches":"webkitMatchesSelector"in U.prototype?"webkitMatchesSelector":"mozMatchesSelector"in U.prototype?"mozMatchesSelector":"oMatchesSelector"in U.prototype?"oMatchesSelector":"msMatchesSelector",fi.pEventTypes=fi.supportsPointerEvent?cr.default.PointerEvent===M.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,fi.wheelEvent=cr.default.document&&"onmousewheel"in cr.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},xi=fi;Ei.default=xi;var yt={};Object.defineProperty(yt,"__esModule",{value:!0}),yt.closest=function(re,M){for(;ue.default.element(re);){if(f(re,M))return re;re=h(re)}return null},yt.getActualElement=function(re){return re.correspondingUseElement||re},yt.getElementClientRect=w,yt.getElementRect=function(re){var M=w(re);if(!Ei.default.isIOS7&&M){var U=b(Tn.getWindow(re));M.left+=U.x,M.right+=U.x,M.top+=U.y,M.bottom+=U.y}return M},yt.getPath=function(re){for(var M=[];re;)M.push(re),re=h(re);return M},yt.getScrollXY=b,yt.indexOfDeepestElement=function(re){for(var M,U=[],K=0;K<re.length;K++){var Q=re[K],ye=re[M];if(Q&&K!==M)if(ye){var Ee=at(Q),Ge=at(ye);if(Ee!==Q.ownerDocument)if(Ge!==Q.ownerDocument)if(Ee!==Ge){U=U.length?U:v(ye);var Ue=void 0;if(_instanceof(ye,cr.default.HTMLElement)&&_instanceof(Q,cr.default.SVGElement)&&!_instanceof(Q,cr.default.SVGSVGElement)){if(Q===Ge)continue;Ue=Q.ownerSVGElement}else Ue=Q;for(var ut=v(Ue,ye.ownerDocument),wt=0;ut[wt]&&ut[wt]===U[wt];)wt++;var Gt=[ut[wt-1],ut[wt],U[wt]];if(Gt[0])for(var Qt=Gt[0].lastChild;Qt;){if(Qt===Gt[1]){M=K,U=ut;break}if(Qt===Gt[2])break;Qt=Qt.previousSibling}}else mn=Q,tn=ye,(parseInt(Tn.getWindow(mn).getComputedStyle(mn).zIndex,10)||0)>=(parseInt(Tn.getWindow(tn).getComputedStyle(tn).zIndex,10)||0)&&(M=K);else M=K}else M=K}var mn,tn;return M},yt.matchesSelector=f,yt.matchesUpTo=function(re,M,U){for(;ue.default.element(re);){if(f(re,M))return!0;if((re=h(re))===U)return f(re,M)}return!1},yt.nodeContains=function(re,M){if(re.contains)return re.contains(M);for(;M;){if(M===re)return!0;M=M.parentNode}return!1},yt.parentNode=h,yt.trySelector=function(re){return!!ue.default.string(re)&&(cr.default.document.querySelector(re),!0)};var at=function(M){return M.parentNode||M.host},bt={};Object.defineProperty(bt,"__esModule",{value:!0}),bt.default=function(re,M){for(var U in M)re[U]=M[U];return re};var ln={};Object.defineProperty(ln,"__esModule",{value:!0}),ln.addEdges=function(re,M,U){re.left&&(M.left+=U.x),re.right&&(M.right+=U.x),re.top&&(M.top+=U.y),re.bottom&&(M.bottom+=U.y),M.width=M.right-M.left,M.height=M.bottom-M.top},ln.getStringOptionResult=C,ln.rectToXY=function(re){return re&&{x:"x"in re?re.x:re.left,y:"y"in re?re.y:re.top}},ln.resolveRectLike=function(re,M,U,K){var Q,ye=re;return ue.default.string(ye)?ye=C(ye,M,U):ue.default.func(ye)&&(ye=ye.apply(void 0,function(Ee){if(Array.isArray(Ee))return k(Ee)}(Q=K)||function(Ee){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Ee[Symbol.iterator]!=null||Ee["@@iterator"]!=null)return Array.from(Ee)}(Q)||function(Ee,Ge){if(Ee){if(typeof Ee=="string")return k(Ee,Ge);var Ue=Object.prototype.toString.call(Ee).slice(8,-1);return Ue==="Object"&&Ee.constructor&&(Ue=Ee.constructor.name),Ue==="Map"||Ue==="Set"?Array.from(Ee):Ue==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ue)?k(Ee,Ge):void 0}}(Q)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),ue.default.element(ye)&&(ye=(0,yt.getElementRect)(ye)),ye},ln.tlbrToXywh=function(re){return!re||"x"in re&&"y"in re||((re=(0,bt.default)({},re)).x=re.left||0,re.y=re.top||0,re.width=re.width||(re.right||0)-re.x,re.height=re.height||(re.bottom||0)-re.y),re},ln.xywhToTlbr=function(re){return!re||"left"in re&&"top"in re||((re=(0,bt.default)({},re)).left=re.x||0,re.top=re.y||0,re.right=re.right||re.left+re.width,re.bottom=re.bottom||re.top+re.height),re};var fn={};Object.defineProperty(fn,"__esModule",{value:!0}),fn.default=function(re,M,U){var K=re.options[U],Q=K&&K.origin||re.options.origin,ye=(0,ln.resolveRectLike)(Q,re,M,[re&&M]);return(0,ln.rectToXY)(ye)||{x:0,y:0}};var Un={};Object.defineProperty(Un,"__esModule",{value:!0}),Un.default=function re(M,U,K){if(K=K||{},ue.default.string(M)&&M.search(" ")!==-1&&(M=E(M)),ue.default.array(M))return M.reduce(function(Ue,ut){return(0,bt.default)(Ue,re(ut,U,K))},K);if(ue.default.object(M)&&(U=M,M=""),ue.default.func(U))K[M]=K[M]||[],K[M].push(U);else if(ue.default.array(U))for(var Q=0;Q<U.length;Q++){var ye;ye=U[Q],re(M,ye,K)}else if(ue.default.object(U))for(var Ee in U){var Ge=E(Ee).map(function(Ue){return"".concat(M).concat(Ue)});re(Ge,U[Ee],K)}return K};var lr={};Object.defineProperty(lr,"__esModule",{value:!0}),lr.default=void 0,lr.default=function(re,M){return Math.sqrt(re*re+M*M)};var jr={};Object.defineProperty(jr,"__esModule",{value:!0}),jr.default=function(re,M){re.__set||(re.__set={});var U=function(ye){typeof re[ye]!="function"&&ye!=="__set"&&Object.defineProperty(re,ye,{get:function(){return ye in re.__set?re.__set[ye]:re.__set[ye]=M[ye]},set:function(Ge){re.__set[ye]=Ge},configurable:!0})};for(var K in M)U(K);return re};var Dn={};Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.coordsToEvent=function(re){return{coords:re,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},Dn.copyCoords=function(re,M){re.page=re.page||{},re.page.x=M.page.x,re.page.y=M.page.y,re.client=re.client||{},re.client.x=M.client.x,re.client.y=M.client.y,re.timeStamp=M.timeStamp},Dn.getClientXY=u,Dn.getEventTargets=function(re){var M=ue.default.func(re.composedPath)?re.composedPath():re.path;return[yt.getActualElement(M?M[0]:re.target),yt.getActualElement(re.currentTarget)]},Dn.getPageXY=y,Dn.getPointerId=function(re){return ue.default.number(re.pointerId)?re.pointerId:re.identifier},Dn.getPointerType=function(re){return ue.default.string(re.pointerType)?re.pointerType:ue.default.number(re.pointerType)?[void 0,void 0,"touch","pen","mouse"][re.pointerType]:/touch/.test(re.type||"")||_instanceof(re,cr.default.Touch)?"touch":"mouse"},Dn.getTouchPair=p,Dn.getXY=j,Dn.isNativePointer=A,Dn.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},Dn.pointerAverage=m,Object.defineProperty(Dn,"pointerExtend",{enumerable:!0,get:function(){return jr.default}}),Dn.setCoordDeltas=function(re,M,U){re.page.x=U.page.x-M.page.x,re.page.y=U.page.y-M.page.y,re.client.x=U.client.x-M.client.x,re.client.y=U.client.y-M.client.y,re.timeStamp=U.timeStamp-M.timeStamp},Dn.setCoordVelocity=function(re,M){var U=Math.max(M.timeStamp/1e3,.001);re.page.x=M.page.x/U,re.page.y=M.page.y/U,re.client.x=M.client.x/U,re.client.y=M.client.y/U,re.timeStamp=U},Dn.setCoords=function(re,M,U){var K=M.length>1?m(M):M[0];y(K,re.page),u(K,re.client),re.timeStamp=U},Dn.setZeroCoords=function(re){re.page.x=0,re.page.y=0,re.client.x=0,re.client.y=0},Dn.touchAngle=function(re,M){var U=M+"X",K=M+"Y",Q=p(re),ye=Q[1][U]-Q[0][U],Ee=Q[1][K]-Q[0][K];return 180*Math.atan2(Ee,ye)/Math.PI},Dn.touchBBox=function(re){if(!re.length)return null;var M=p(re),U=Math.min(M[0].pageX,M[1].pageX),K=Math.min(M[0].pageY,M[1].pageY),Q=Math.max(M[0].pageX,M[1].pageX),ye=Math.max(M[0].pageY,M[1].pageY);return{x:U,y:K,left:U,top:K,right:Q,bottom:ye,width:Q-U,height:ye-K}},Dn.touchDistance=function(re,M){var U=M+"X",K=M+"Y",Q=p(re),ye=Q[0][U]-Q[1][U],Ee=Q[0][K]-Q[1][K];return(0,lr.default)(ye,Ee)};var pi={};Object.defineProperty(pi,"__esModule",{value:!0}),pi.BaseEvent=void 0;var oi=function(){function re(K){(function(Q,ye){if(!_instanceof(Q,ye))throw new TypeError("Cannot call a class as a function")})(this,re),_(this,"immediatePropagationStopped",!1),_(this,"propagationStopped",!1),this._interaction=K}var M,U;return M=re,(U=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function(K,Q){for(var ye=0;ye<Q.length;ye++){var Ee=Q[ye];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(K,Ee.key,Ee)}}(M.prototype,U),Object.defineProperty(M,"prototype",{writable:!1}),re}();pi.BaseEvent=oi,Object.defineProperty(oi.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.remove=Rr.merge=Rr.from=Rr.findIndex=Rr.find=Rr.contains=void 0,Rr.contains=function(re,M){return re.indexOf(M)!==-1},Rr.remove=function(re,M){return re.splice(re.indexOf(M),1)};var _e=function(M,U){for(var K=0;K<U.length;K++){var Q=U[K];M.push(Q)}return M};Rr.merge=_e,Rr.from=function(re){return _e([],re)};var ro=function(M,U){for(var K=0;K<M.length;K++)if(U(M[K],K,M))return K;return-1};Rr.findIndex=ro,Rr.find=function(re,M){return re[ro(re,M)]};var ai={};function Si(re){return Si=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(U){return typeof U=="undefined"?"undefined":_typeof(U)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M=="undefined"?"undefined":_typeof(M)},Si(re)}function gi(re,M){return gi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(K,Q){return K.__proto__=Q,K},gi(re,M)}function gn(re){return gn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(U){return U.__proto__||Object.getPrototypeOf(U)},gn(re)}Object.defineProperty(ai,"__esModule",{value:!0}),ai.DropEvent=void 0;var yn=function(re){(function(Ge,Ue){if(typeof Ue!="function"&&Ue!==null)throw new TypeError("Super expression must either be null or a function");Ge.prototype=Object.create(Ue&&Ue.prototype,{constructor:{value:Ge,writable:!0,configurable:!0}}),Object.defineProperty(Ge,"prototype",{writable:!1}),Ue&&gi(Ge,Ue)})(Ee,re);var M,U,K,Q,ye=(K=Ee,Q=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ge){return!1}}(),function(){var Ue,ut=gn(K);if(Q){var wt=gn(this).constructor;Ue=Reflect.construct(ut,arguments,wt)}else Ue=ut.apply(this,arguments);return function(Gt,Qt){if(Qt&&(Si(Qt)==="object"||typeof Qt=="function"))return Qt;if(Qt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x(Gt)}(this,Ue)});function Ee(Ge,Ue,ut){var wt;(function(tn,Bn){if(!_instanceof(tn,Bn))throw new TypeError("Cannot call a class as a function")})(this,Ee),O(x(wt=ye.call(this,Ue._interaction)),"dropzone",void 0),O(x(wt),"dragEvent",void 0),O(x(wt),"relatedTarget",void 0),O(x(wt),"draggable",void 0),O(x(wt),"propagationStopped",!1),O(x(wt),"immediatePropagationStopped",!1);var Gt=ut==="dragleave"?Ge.prev:Ge.cur,Qt=Gt.element,mn=Gt.dropzone;return wt.type=ut,wt.target=Qt,wt.currentTarget=Qt,wt.dropzone=mn,wt.dragEvent=Ue,wt.relatedTarget=Ue.target,wt.draggable=Ue.interactable,wt.timeStamp=Ue.timeStamp,wt}return M=Ee,(U=[{key:"reject",value:function(){var Ue=this,ut=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&ut.cur.dropzone===this.dropzone&&ut.cur.element===this.target)if(ut.prev.dropzone=this.dropzone,ut.prev.element=this.target,ut.rejected=!0,ut.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var wt=ut.activeDrops,Gt=Rr.findIndex(wt,function(mn){var tn=mn.dropzone,Bn=mn.element;return tn===Ue.dropzone&&Bn===Ue.target});ut.activeDrops.splice(Gt,1);var Qt=new Ee(ut,this.dragEvent,"dropdeactivate");Qt.dropzone=this.dropzone,Qt.target=this.target,this.dropzone.fire(Qt)}else this.dropzone.fire(new Ee(ut,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function(Ge,Ue){for(var ut=0;ut<Ue.length;ut++){var wt=Ue[ut];wt.enumerable=wt.enumerable||!1,wt.configurable=!0,"value"in wt&&(wt.writable=!0),Object.defineProperty(Ge,wt.key,wt)}}(M.prototype,U),Object.defineProperty(M,"prototype",{writable:!1}),Ee}(pi.BaseEvent);ai.DropEvent=yn;var wn={};Object.defineProperty(wn,"__esModule",{value:!0}),wn.default=void 0;var ur={id:"actions/drop",install:function(M){var U=M.actions,K=M.interactStatic,Q=M.Interactable,ye=M.defaults;M.usePlugin(sn.default),Q.prototype.dropzone=function(Ee){return function(Ge,Ue){if(ue.default.object(Ue)){if(Ge.options.drop.enabled=Ue.enabled!==!1,Ue.listeners){var ut=(0,Un.default)(Ue.listeners),wt=Object.keys(ut).reduce(function(Gt,Qt){return Gt[/^(enter|leave)/.test(Qt)?"drag".concat(Qt):/^(activate|deactivate|move)/.test(Qt)?"drop".concat(Qt):Qt]=ut[Qt],Gt},{});Ge.off(Ge.options.drop.listeners),Ge.on(wt),Ge.options.drop.listeners=wt}return ue.default.func(Ue.ondrop)&&Ge.on("drop",Ue.ondrop),ue.default.func(Ue.ondropactivate)&&Ge.on("dropactivate",Ue.ondropactivate),ue.default.func(Ue.ondropdeactivate)&&Ge.on("dropdeactivate",Ue.ondropdeactivate),ue.default.func(Ue.ondragenter)&&Ge.on("dragenter",Ue.ondragenter),ue.default.func(Ue.ondragleave)&&Ge.on("dragleave",Ue.ondragleave),ue.default.func(Ue.ondropmove)&&Ge.on("dropmove",Ue.ondropmove),/^(pointer|center)$/.test(Ue.overlap)?Ge.options.drop.overlap=Ue.overlap:ue.default.number(Ue.overlap)&&(Ge.options.drop.overlap=Math.max(Math.min(1,Ue.overlap),0)),"accept"in Ue&&(Ge.options.drop.accept=Ue.accept),"checker"in Ue&&(Ge.options.drop.checker=Ue.checker),Ge}return ue.default.bool(Ue)?(Ge.options.drop.enabled=Ue,Ge):Ge.options.drop}(this,Ee)},Q.prototype.dropCheck=function(Ee,Ge,Ue,ut,wt,Gt){return function(Qt,mn,tn,Bn,Xn,zn,Kn){var fr=!1;if(!(Kn=Kn||Qt.getRect(zn)))return!!Qt.options.drop.checker&&Qt.options.drop.checker(mn,tn,fr,Qt,zn,Bn,Xn);var Er=Qt.options.drop.overlap;if(Er==="pointer"){var Vr=(0,fn.default)(Bn,Xn,"drag"),Jr=Dn.getPageXY(mn);Jr.x+=Vr.x,Jr.y+=Vr.y;var Li=Jr.x>Kn.left&&Jr.x<Kn.right,yi=Jr.y>Kn.top&&Jr.y<Kn.bottom;fr=Li&&yi}var zr=Bn.getRect(Xn);if(zr&&Er==="center"){var pa=zr.left+zr.width/2,va=zr.top+zr.height/2;fr=pa>=Kn.left&&pa<=Kn.right&&va>=Kn.top&&va<=Kn.bottom}return zr&&ue.default.number(Er)&&(fr=Math.max(0,Math.min(Kn.right,zr.right)-Math.max(Kn.left,zr.left))*Math.max(0,Math.min(Kn.bottom,zr.bottom)-Math.max(Kn.top,zr.top))/(zr.width*zr.height)>=Er),Qt.options.drop.checker&&(fr=Qt.options.drop.checker(mn,tn,fr,Qt,zn,Bn,Xn)),fr}(this,Ee,Ge,Ue,ut,wt,Gt)},K.dynamicDrop=function(Ee){return ue.default.bool(Ee)?(M.dynamicDrop=Ee,K):M.dynamicDrop},(0,bt.default)(U.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),U.methodDict.drop="dropzone",M.dynamicDrop=!1,ye.actions.drop=ur.defaults},listeners:{"interactions:before-action-start":function(re){var M=re.interaction;M.prepared.name==="drag"&&(M.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(re,M){var U=re.interaction,K=(re.event,re.iEvent);if(U.prepared.name==="drag"){var Q=U.dropState;Q.activeDrops=null,Q.events=null,Q.activeDrops=P(M,U.element),Q.events=V(U,0,K),Q.events.activate&&(I(Q.activeDrops,Q.events.activate),M.fire("actions/drop:start",{interaction:U,dragEvent:K}))}},"interactions:action-move":z,"interactions:after-action-move":function(re,M){var U=re.interaction,K=re.iEvent;U.prepared.name==="drag"&&(q(U,U.dropState.events),M.fire("actions/drop:move",{interaction:U,dragEvent:K}),U.dropState.events={})},"interactions:action-end":function(re,M){if(re.interaction.prepared.name==="drag"){var U=re.interaction,K=re.iEvent;z(re,M),q(U,U.dropState.events),M.fire("actions/drop:end",{interaction:U,dragEvent:K})}},"interactions:stop":function(re){var M=re.interaction;if(M.prepared.name==="drag"){var U=M.dropState;U&&(U.activeDrops=null,U.events=null,U.cur.dropzone=null,U.cur.element=null,U.prev.dropzone=null,U.prev.element=null,U.rejected=!1)}}},getActiveDrops:P,getDrop:D,getDropEvents:V,fireDropEvents:q,defaults:{enabled:!1,accept:null,overlap:"pointer"}},Pr=ur;wn.default=Pr;var ni={};Object.defineProperty(ni,"__esModule",{value:!0}),ni.default=void 0;var Ii={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(M){var U=M.actions,K=M.Interactable,Q=M.defaults;K.prototype.gesturable=function(ye){return ue.default.object(ye)?(this.options.gesture.enabled=ye.enabled!==!1,this.setPerAction("gesture",ye),this.setOnEvents("gesture",ye),this):ue.default.bool(ye)?(this.options.gesture.enabled=ye,this):this.options.gesture},U.map.gesture=Ii,U.methodDict.gesture="gesturable",Q.actions.gesture=Ii.defaults},listeners:{"interactions:action-start":he,"interactions:action-move":he,"interactions:action-end":he,"interactions:new":function(re){re.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(re){if(!(re.interaction.pointers.length<2)){var M=re.interactable.options.gesture;if(M&&M.enabled)return re.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},la=Ii;ni.default=la;var _o={};Object.defineProperty(_o,"__esModule",{value:!0}),_o.default=void 0;var ao={id:"actions/resize",before:["actions/drag"],install:function(M){var U=M.actions,K=M.browser,Q=M.Interactable,ye=M.defaults;ao.cursors=function(Ee){return Ee.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(K),ao.defaultMargin=K.supportsTouch||K.supportsPointerEvent?20:10,Q.prototype.resizable=function(Ee){return function(Ge,Ue,ut){return ue.default.object(Ue)?(Ge.options.resize.enabled=Ue.enabled!==!1,Ge.setPerAction("resize",Ue),Ge.setOnEvents("resize",Ue),ue.default.string(Ue.axis)&&/^x$|^y$|^xy$/.test(Ue.axis)?Ge.options.resize.axis=Ue.axis:Ue.axis===null&&(Ge.options.resize.axis=ut.defaults.actions.resize.axis),ue.default.bool(Ue.preserveAspectRatio)?Ge.options.resize.preserveAspectRatio=Ue.preserveAspectRatio:ue.default.bool(Ue.square)&&(Ge.options.resize.square=Ue.square),Ge):ue.default.bool(Ue)?(Ge.options.resize.enabled=Ue,Ge):Ge.options.resize}(this,Ee,M)},U.map.resize=ao,U.methodDict.resize="resizable",ye.actions.resize=ao.defaults},listeners:{"interactions:new":function(re){re.interaction.resizeAxes="xy"},"interactions:action-start":function(re){(function(M){var U=M.iEvent,K=M.interaction;if(K.prepared.name==="resize"&&K.prepared.edges){var Q=U,ye=K.rect;K._rects={start:(0,bt.default)({},ye),corrected:(0,bt.default)({},ye),previous:(0,bt.default)({},ye),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},Q.edges=K.prepared.edges,Q.rect=K._rects.corrected,Q.deltaRect=K._rects.delta}})(re),B(re)},"interactions:action-move":function(re){(function(M){var U=M.iEvent,K=M.interaction;if(K.prepared.name==="resize"&&K.prepared.edges){var Q=U,ye=K.interactable.options.resize.invert,Ee=ye==="reposition"||ye==="negate",Ge=K.rect,Ue=K._rects,ut=Ue.start,wt=Ue.corrected,Gt=Ue.delta,Qt=Ue.previous;if((0,bt.default)(Qt,wt),Ee){if((0,bt.default)(wt,Ge),ye==="reposition"){if(wt.top>wt.bottom){var mn=wt.top;wt.top=wt.bottom,wt.bottom=mn}if(wt.left>wt.right){var tn=wt.left;wt.left=wt.right,wt.right=tn}}}else wt.top=Math.min(Ge.top,ut.bottom),wt.bottom=Math.max(Ge.bottom,ut.top),wt.left=Math.min(Ge.left,ut.right),wt.right=Math.max(Ge.right,ut.left);for(var Bn in wt.width=wt.right-wt.left,wt.height=wt.bottom-wt.top,wt)Gt[Bn]=wt[Bn]-Qt[Bn];Q.edges=K.prepared.edges,Q.rect=wt,Q.deltaRect=Gt}})(re),B(re)},"interactions:action-end":function(re){var M=re.iEvent,U=re.interaction;if(U.prepared.name==="resize"&&U.prepared.edges){var K=M;K.edges=U.prepared.edges,K.rect=U._rects.corrected,K.deltaRect=U._rects.delta}},"auto-start:check":function(re){var M=re.interaction,U=re.interactable,K=re.element,Q=re.rect,ye=re.buttons;if(Q){var Ee=(0,bt.default)({},M.coords.cur.page),Ge=U.options.resize;if(Ge&&Ge.enabled&&(!M.pointerIsDown||!/mouse|pointer/.test(M.pointerType)||ye&Ge.mouseButtons)){if(ue.default.object(Ge.edges)){var Ue={left:!1,right:!1,top:!1,bottom:!1};for(var ut in Ue)Ue[ut]=Y(ut,Ge.edges[ut],Ee,M._latestPointer.eventTarget,K,Q,Ge.margin||ao.defaultMargin);Ue.left=Ue.left&&!Ue.right,Ue.top=Ue.top&&!Ue.bottom,(Ue.left||Ue.right||Ue.top||Ue.bottom)&&(re.action={name:"resize",edges:Ue})}else{var wt=Ge.axis!=="y"&&Ee.x>Q.right-ao.defaultMargin,Gt=Ge.axis!=="x"&&Ee.y>Q.bottom-ao.defaultMargin;(wt||Gt)&&(re.action={name:"resize",axes:(wt?"x":"")+(Gt?"y":"")})}return!re.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(M){var U=M.edges,K=M.axis,Q=M.name,ye=ao.cursors,Ee=null;if(K)Ee=ye[Q+K];else if(U){for(var Ge="",Ue=["top","bottom","left","right"],ut=0;ut<Ue.length;ut++){var wt=Ue[ut];U[wt]&&(Ge+=wt)}Ee=ye[Ge]}return Ee},defaultMargin:null},Mo=ao;_o.default=Mo;var ko={};Object.defineProperty(ko,"__esModule",{value:!0}),ko.default=void 0;var Nu={id:"actions",install:function(M){M.usePlugin(ni.default),M.usePlugin(_o.default),M.usePlugin(sn.default),M.usePlugin(wn.default)}};ko.default=Nu;var Qi={};Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.default=void 0;var so,Gi,io=0,bl={request:function(M){return so(M)},cancel:function(M){return Gi(M)},init:function(M){if(so=M.requestAnimationFrame,Gi=M.cancelAnimationFrame,!so)for(var U=["ms","moz","webkit","o"],K=0;K<U.length;K++){var Q=U[K];so=M["".concat(Q,"RequestAnimationFrame")],Gi=M["".concat(Q,"CancelAnimationFrame")]||M["".concat(Q,"CancelRequestAnimationFrame")]}so=so&&so.bind(M),Gi=Gi&&Gi.bind(M),so||(so=function(Ee){var Ge=Date.now(),Ue=Math.max(0,16-(Ge-io)),ut=M.setTimeout(function(){Ee(Ge+Ue)},Ue);return io=Ge+Ue,ut},Gi=function(Ee){return clearTimeout(Ee)})}};Qi.default=bl;var xo={};Object.defineProperty(xo,"__esModule",{value:!0}),xo.default=void 0,xo.getContainer=F,xo.getScroll=ce,xo.getScrollSize=function(re){return ue.default.window(re)&&(re=window.document.body),{x:re.scrollWidth,y:re.scrollHeight}},xo.getScrollSizeDelta=function(re,M){var U=re.interaction,K=re.element,Q=U&&U.interactable.options[U.prepared.name].autoScroll;if(!Q||!Q.enabled)return M(),{x:0,y:0};var ye=F(Q.container,U.interactable,K),Ee=ce(ye);M();var Ge=ce(ye);return{x:Ge.x-Ee.x,y:Ge.y-Ee.y}};var _r={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(M){_r.isScrolling=!0,Qi.default.cancel(_r.i),M.autoScroll=_r,_r.interaction=M,_r.prevTime=_r.now(),_r.i=Qi.default.request(_r.scroll)},stop:function(){_r.isScrolling=!1,_r.interaction&&(_r.interaction.autoScroll=null),Qi.default.cancel(_r.i)},scroll:function(){var M=_r.interaction,U=M.interactable,K=M.element,Q=M.prepared.name,ye=U.options[Q].autoScroll,Ee=F(ye.container,U,K),Ge=_r.now(),Ue=(Ge-_r.prevTime)/1e3,ut=ye.speed*Ue;if(ut>=1){var wt={x:_r.x*ut,y:_r.y*ut};if(wt.x||wt.y){var Gt=ce(Ee);ue.default.window(Ee)?Ee.scrollBy(wt.x,wt.y):Ee&&(Ee.scrollLeft+=wt.x,Ee.scrollTop+=wt.y);var Qt=ce(Ee),mn={x:Qt.x-Gt.x,y:Qt.y-Gt.y};(mn.x||mn.y)&&U.fire({type:"autoscroll",target:K,interactable:U,delta:mn,interaction:M,container:Ee})}_r.prevTime=Ge}_r.isScrolling&&(Qi.default.cancel(_r.i),_r.i=Qi.default.request(_r.scroll))},check:function(M,U){var K;return(K=M.options[U].autoScroll)==null?void 0:K.enabled},onInteractionMove:function(M){var U=M.interaction,K=M.pointer;if(U.interacting()&&_r.check(U.interactable,U.prepared.name))if(U.simulation)_r.x=_r.y=0;else{var Q,ye,Ee,Ge,Ue=U.interactable,ut=U.element,wt=U.prepared.name,Gt=Ue.options[wt].autoScroll,Qt=F(Gt.container,Ue,ut);if(ue.default.window(Qt))Ge=K.clientX<_r.margin,Q=K.clientY<_r.margin,ye=K.clientX>Qt.innerWidth-_r.margin,Ee=K.clientY>Qt.innerHeight-_r.margin;else{var mn=yt.getElementClientRect(Qt);Ge=K.clientX<mn.left+_r.margin,Q=K.clientY<mn.top+_r.margin,ye=K.clientX>mn.right-_r.margin,Ee=K.clientY>mn.bottom-_r.margin}_r.x=ye?1:Ge?-1:0,_r.y=Ee?1:Q?-1:0,_r.isScrolling||(_r.margin=Gt.margin,_r.speed=Gt.speed,_r.start(U))}}},Os={id:"auto-scroll",install:function(M){var U=M.defaults,K=M.actions;M.autoScroll=_r,_r.now=function(){return M.now()},K.phaselessTypes.autoscroll=!0,U.perAction.autoScroll=_r.defaults},listeners:{"interactions:new":function(re){re.interaction.autoScroll=null},"interactions:destroy":function(re){re.interaction.autoScroll=null,_r.stop(),_r.interaction&&(_r.interaction=null)},"interactions:stop":_r.stop,"interactions:action-move":function(re){return _r.onInteractionMove(re)}}},wl=Os;xo.default=wl;var Ci={};Object.defineProperty(Ci,"__esModule",{value:!0}),Ci.copyAction=function(re,M){return re.name=M.name,re.axis=M.axis,re.edges=M.edges,re},Ci.sign=void 0,Ci.warnOnce=function(re,M){var U=!1;return function(){return U||(Tn.window.console.warn(M),U=!0),re.apply(this,arguments)}},Ci.sign=function(re){return re>=0?1:-1};var Lo={};Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.default=void 0;var nd={id:"auto-start/interactableMethods",install:function(M){var U=M.Interactable;U.prototype.getAction=function(K,Q,ye,Ee){var Ge=function(Ue,ut,wt,Gt,Qt){var mn=Ue.getRect(Gt),tn={action:null,interactable:Ue,interaction:wt,element:Gt,rect:mn,buttons:ut.buttons||{0:1,1:4,3:8,4:16}[ut.button]};return Qt.fire("auto-start:check",tn),tn.action}(this,Q,ye,Ee,M);return this.options.actionChecker?this.options.actionChecker(K,Q,Ge,this,Ee,ye):Ge},U.prototype.ignoreFrom=(0,Ci.warnOnce)(function(K){return this._backCompatOption("ignoreFrom",K)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),U.prototype.allowFrom=(0,Ci.warnOnce)(function(K){return this._backCompatOption("allowFrom",K)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),U.prototype.actionChecker=ae,U.prototype.styleCursor=J}};Lo.default=nd;var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.default=void 0;var T={id:"auto-start/base",before:["actions"],install:function(M){var U=M.interactStatic,K=M.defaults;M.usePlugin(Lo.default),K.base.actionChecker=null,K.base.styleCursor=!0,(0,bt.default)(K.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),U.maxInteractions=function(Q){return mt(Q,M)},M.autoStart={maxInteractions:1/0,withinInteractionLimit:it,cursorElement:null}},listeners:{"interactions:down":function(re,M){var U=re.interaction,K=re.pointer,Q=re.event,ye=re.eventTarget;U.interacting()||Be(U,de(U,K,Q,ye,M),M)},"interactions:move":function(re,M){(function(U,K){var Q=U.interaction,ye=U.pointer,Ee=U.event,Ge=U.eventTarget;Q.pointerType!=="mouse"||Q.pointerIsDown||Q.interacting()||Be(Q,de(Q,ye,Ee,Ge,K),K)})(re,M),function(U,K){var Q=U.interaction;if(Q.pointerIsDown&&!Q.interacting()&&Q.pointerWasMoved&&Q.prepared.name){K.fire("autoStart:before-start",U);var ye=Q.interactable,Ee=Q.prepared.name;Ee&&ye&&(ye.options[Ee].manualStart||!it(ye,Q.element,Q.prepared,K)?Q.stop():(Q.start(Q.prepared,ye,Q.element),Ae(Q,K)))}}(re,M)},"interactions:stop":function(re,M){var U=re.interaction,K=U.interactable;K&&K.options.styleCursor&&ot(U.element,"",M)}},maxInteractions:mt,withinInteractionLimit:it,validateAction:se},ee=T;Ce.default=ee;var fe={};Object.defineProperty(fe,"__esModule",{value:!0}),fe.default=void 0;var Se={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(re,M){var U=re.interaction,K=re.eventTarget,Q=re.dx,ye=re.dy;if(U.prepared.name==="drag"){var Ee=Math.abs(Q),Ge=Math.abs(ye),Ue=U.interactable.options.drag,ut=Ue.startAxis,wt=Ee>Ge?"x":Ee<Ge?"y":"xy";if(U.prepared.axis=Ue.lockAxis==="start"?wt[0]:Ue.lockAxis,wt!=="xy"&&ut!=="xy"&&ut!==wt){U.prepared.name=null;for(var Gt=K,Qt=function(Bn){if(Bn!==U.interactable){var Xn=U.interactable.options.drag;if(!Xn.manualStart&&Bn.testIgnoreAllow(Xn,Gt,K)){var zn=Bn.getAction(U.downPointer,U.downEvent,U,Gt);if(zn&&zn.name==="drag"&&function(Kn,fr){if(!fr)return!1;var Er=fr.options.drag.startAxis;return Kn==="xy"||Er==="xy"||Er===Kn}(wt,Bn)&&Ce.default.validateAction(zn,Bn,Gt,K,M))return Bn}}};ue.default.element(Gt);){var mn=M.interactables.forEachMatch(Gt,Qt);if(mn){U.prepared.name="drag",U.interactable=mn,U.element=Gt;break}Gt=(0,yt.parentNode)(Gt)}}}}}};fe.default=Se;var Ke={};Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.default=void 0;var Je={id:"auto-start/hold",install:function(M){var U=M.defaults;M.usePlugin(Ce.default),U.perAction.hold=0,U.perAction.delay=0},listeners:{"interactions:new":function(re){re.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(re){var M=re.interaction,U=xe(M);U>0&&(M.autoStartHoldTimer=setTimeout(function(){M.start(M.prepared,M.interactable,M.element)},U))},"interactions:move":function(re){var M=re.interaction,U=re.duplicate;M.autoStartHoldTimer&&M.pointerWasMoved&&!U&&(clearTimeout(M.autoStartHoldTimer),M.autoStartHoldTimer=null)},"autoStart:before-start":function(re){var M=re.interaction;xe(M)>0&&(M.prepared.name=null)}},getHoldDuration:xe},dt=Je;Ke.default=dt;var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.default=void 0;var Dt={id:"auto-start",install:function(M){M.usePlugin(Ce.default),M.usePlugin(Ke.default),M.usePlugin(fe.default)}};Rt.default=Dt;var dn={};Object.defineProperty(dn,"__esModule",{value:!0}),dn.default=void 0,dn.install=Ve;var Nt={id:"core/interactablePreventDefault",install:Ve,listeners:["down","move","up","cancel"].reduce(function(re,M){return re["interactions:".concat(M)]=et,re},{})};dn.default=Nt;var le={};Object.defineProperty(le,"__esModule",{value:!0}),le.default=void 0,le.default={};var R,L={};Object.defineProperty(L,"__esModule",{value:!0}),L.default=void 0,function(re){re.touchAction="touchAction",re.boxSizing="boxSizing",re.noListeners="noListeners"}(R||(R={})),R.touchAction,R.boxSizing,R.noListeners,L.default={id:"dev-tools",install:function(){}};var W={};Object.defineProperty(W,"__esModule",{value:!0}),W.default=function re(M){var U={};for(var K in M){var Q=M[K];ue.default.plainObject(Q)?U[K]=re(Q):ue.default.array(Q)?U[K]=Rr.from(Q):U[K]=Q}return U};var ne={};Object.defineProperty(ne,"__esModule",{value:!0}),ne.default=void 0,ne.getRectOffset=_t;var we=function(){function re(K){(function(Q,ye){if(!_instanceof(Q,ye))throw new TypeError("Cannot call a class as a function")})(this,re),qe(this,"states",[]),qe(this,"startOffset",{left:0,right:0,top:0,bottom:0}),qe(this,"startDelta",void 0),qe(this,"result",void 0),qe(this,"endResult",void 0),qe(this,"startEdges",void 0),qe(this,"edges",void 0),qe(this,"interaction",void 0),this.interaction=K,this.result=lt(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}var M,U;return M=re,(U=[{key:"start",value:function(Q,ye){var Ee=Q.phase,Ge=this.interaction,Ue=function(wt){var Gt=wt.interactable.options[wt.prepared.name],Qt=Gt.modifiers;return Qt&&Qt.length?Qt:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(mn){var tn=Gt[mn];return tn&&tn.enabled&&{options:tn,methods:tn._methods}}).filter(function(mn){return!!mn})}(Ge);this.prepareStates(Ue),this.startEdges=(0,bt.default)({},Ge.edges),this.edges=(0,bt.default)({},this.startEdges),this.startOffset=_t(Ge.rect,ye),this.startDelta={x:0,y:0};var ut=this.fillArg({phase:Ee,pageCoords:ye,preEnd:!1});return this.result=lt(),this.startAll(ut),this.result=this.setAll(ut)}},{key:"fillArg",value:function(Q){var ye=this.interaction;return Q.interaction=ye,Q.interactable=ye.interactable,Q.element=ye.element,Q.rect||(Q.rect=ye.rect),Q.edges||(Q.edges=this.startEdges),Q.startOffset=this.startOffset,Q}},{key:"startAll",value:function(Q){for(var ye=0;ye<this.states.length;ye++){var Ee=this.states[ye];Ee.methods.start&&(Q.state=Ee,Ee.methods.start(Q))}}},{key:"setAll",value:function(Q){var ye=Q.phase,Ee=Q.preEnd,Ge=Q.skipModifiers,Ue=Q.rect,ut=Q.edges;Q.coords=(0,bt.default)({},Q.pageCoords),Q.rect=(0,bt.default)({},Ue),Q.edges=(0,bt.default)({},ut);for(var wt=Ge?this.states.slice(Ge):this.states,Gt=lt(Q.coords,Q.rect),Qt=0;Qt<wt.length;Qt++){var mn,tn=wt[Qt],Bn=tn.options,Xn=(0,bt.default)({},Q.coords),zn=null;(mn=tn.methods)!=null&&mn.set&&this.shouldDo(Bn,Ee,ye)&&(Q.state=tn,zn=tn.methods.set(Q),ln.addEdges(Q.edges,Q.rect,{x:Q.coords.x-Xn.x,y:Q.coords.y-Xn.y})),Gt.eventProps.push(zn)}(0,bt.default)(this.edges,Q.edges),Gt.delta.x=Q.coords.x-Q.pageCoords.x,Gt.delta.y=Q.coords.y-Q.pageCoords.y,Gt.rectDelta.left=Q.rect.left-Ue.left,Gt.rectDelta.right=Q.rect.right-Ue.right,Gt.rectDelta.top=Q.rect.top-Ue.top,Gt.rectDelta.bottom=Q.rect.bottom-Ue.bottom;var Kn=this.result.coords,fr=this.result.rect;if(Kn&&fr){var Er=Gt.rect.left!==fr.left||Gt.rect.right!==fr.right||Gt.rect.top!==fr.top||Gt.rect.bottom!==fr.bottom;Gt.changed=Er||Kn.x!==Gt.coords.x||Kn.y!==Gt.coords.y}return Gt}},{key:"applyToInteraction",value:function(Q){var ye=this.interaction,Ee=Q.phase,Ge=ye.coords.cur,Ue=ye.coords.start,ut=this.result,wt=this.startDelta,Gt=ut.delta;Ee==="start"&&(0,bt.default)(this.startDelta,ut.delta);for(var Qt=0;Qt<2;Qt++){var mn=je([[Ue,wt],[Ge,Gt]][Qt],2),tn=mn[0],Bn=mn[1];tn.page.x+=Bn.x,tn.page.y+=Bn.y,tn.client.x+=Bn.x,tn.client.y+=Bn.y}var Xn=this.result.rectDelta,zn=Q.rect||ye.rect;zn.left+=Xn.left,zn.right+=Xn.right,zn.top+=Xn.top,zn.bottom+=Xn.bottom,zn.width=zn.right-zn.left,zn.height=zn.bottom-zn.top}},{key:"setAndApply",value:function(Q){var ye=this.interaction,Ee=Q.phase,Ge=Q.preEnd,Ue=Q.skipModifiers,ut=this.setAll(this.fillArg({preEnd:Ge,phase:Ee,pageCoords:Q.modifiedCoords||ye.coords.cur.page}));if(this.result=ut,!ut.changed&&(!Ue||Ue<this.states.length)&&ye.interacting())return!1;if(Q.modifiedCoords){var wt=ye.coords.cur.page,Gt={x:Q.modifiedCoords.x-wt.x,y:Q.modifiedCoords.y-wt.y};ut.coords.x+=Gt.x,ut.coords.y+=Gt.y,ut.delta.x+=Gt.x,ut.delta.y+=Gt.y}this.applyToInteraction(Q)}},{key:"beforeEnd",value:function(Q){var ye=Q.interaction,Ee=Q.event,Ge=this.states;if(Ge&&Ge.length){for(var Ue=!1,ut=0;ut<Ge.length;ut++){var wt=Ge[ut];Q.state=wt;var Gt=wt.options,Qt=wt.methods,mn=Qt.beforeEnd&&Qt.beforeEnd(Q);if(mn)return this.endResult=mn,!1;Ue=Ue||!Ue&&this.shouldDo(Gt,!0,Q.phase,!0)}Ue&&ye.move({event:Ee,preEnd:!0})}}},{key:"stop",value:function(Q){var ye=Q.interaction;if(this.states&&this.states.length){var Ee=(0,bt.default)({states:this.states,interactable:ye.interactable,element:ye.element,rect:null},Q);this.fillArg(Ee);for(var Ge=0;Ge<this.states.length;Ge++){var Ue=this.states[Ge];Ee.state=Ue,Ue.methods.stop&&Ue.methods.stop(Ee)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(Q){this.states=[];for(var ye=0;ye<Q.length;ye++){var Ee=Q[ye],Ge=Ee.options,Ue=Ee.methods,ut=Ee.name;this.states.push({options:Ge,methods:Ue,index:ye,name:ut})}return this.states}},{key:"restoreInteractionCoords",value:function(Q){var ye=Q.interaction,Ee=ye.coords,Ge=ye.rect,Ue=ye.modification;if(Ue.result){for(var ut=Ue.startDelta,wt=Ue.result,Gt=wt.delta,Qt=wt.rectDelta,mn=[[Ee.start,ut],[Ee.cur,Gt]],tn=0;tn<mn.length;tn++){var Bn=je(mn[tn],2),Xn=Bn[0],zn=Bn[1];Xn.page.x-=zn.x,Xn.page.y-=zn.y,Xn.client.x-=zn.x,Xn.client.y-=zn.y}Ge.left-=Qt.left,Ge.right-=Qt.right,Ge.top-=Qt.top,Ge.bottom-=Qt.bottom}}},{key:"shouldDo",value:function(Q,ye,Ee,Ge){return!(!Q||Q.enabled===!1||Ge&&!Q.endOnly||Q.endOnly&&!ye||Ee==="start"&&!Q.setStart)}},{key:"copyFrom",value:function(Q){this.startOffset=Q.startOffset,this.startDelta=Q.startDelta,this.startEdges=Q.startEdges,this.edges=Q.edges,this.states=Q.states.map(function(ye){return(0,W.default)(ye)}),this.result=lt((0,bt.default)({},Q.result.coords),(0,bt.default)({},Q.result.rect))}},{key:"destroy",value:function(){for(var Q in this)this[Q]=null}}])&&function(K,Q){for(var ye=0;ye<Q.length;ye++){var Ee=Q[ye];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(K,Ee.key,Ee)}}(M.prototype,U),Object.defineProperty(M,"prototype",{writable:!1}),re}();ne.default=we;var Ie={};Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.addEventModifiers=be,Ie.default=void 0,Ie.makeModifier=function(re,M){var U=re.defaults,K={start:re.start,set:re.set,beforeEnd:re.beforeEnd,stop:re.stop},Q=function(Ee){var Ge=Ee||{};for(var Ue in Ge.enabled=Ge.enabled!==!1,U)Ue in Ge||(Ge[Ue]=U[Ue]);var ut={options:Ge,methods:K,name:M,enable:function(){return Ge.enabled=!0,ut},disable:function(){return Ge.enabled=!1,ut}};return ut};return M&&typeof M=="string"&&(Q._defaults=U,Q._methods=K),Q};var vt={id:"modifiers/base",before:["actions"],install:function(M){M.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(re){var M=re.interaction;M.modification=new ne.default(M)},"interactions:before-action-start":function(re){var M=re.interaction,U=re.interaction.modification;U.start(re,M.coords.start.page),M.edges=U.edges,U.applyToInteraction(re)},"interactions:before-action-move":function(re){var M=re.interaction,U=M.modification,K=U.setAndApply(re);return M.edges=U.edges,K},"interactions:before-action-end":function(re){var M=re.interaction,U=M.modification,K=U.beforeEnd(re);return M.edges=U.startEdges,K},"interactions:action-start":be,"interactions:action-move":be,"interactions:action-end":be,"interactions:after-action-start":function(re){return re.interaction.modification.restoreInteractionCoords(re)},"interactions:after-action-move":function(re){return re.interaction.modification.restoreInteractionCoords(re)},"interactions:stop":function(re){return re.interaction.modification.stop(re)}}},Et=vt;Ie.default=Et;var pt={};Object.defineProperty(pt,"__esModule",{value:!0}),pt.defaults=void 0,pt.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var pn={};function un(re){return un=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(U){return typeof U=="undefined"?"undefined":_typeof(U)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M=="undefined"?"undefined":_typeof(M)},un(re)}function jn(re,M){return jn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(K,Q){return K.__proto__=Q,K},jn(re,M)}function In(re){return In=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(U){return U.__proto__||Object.getPrototypeOf(U)},In(re)}Object.defineProperty(pn,"__esModule",{value:!0}),pn.InteractEvent=void 0;var An=function(re){(function(Ge,Ue){if(typeof Ue!="function"&&Ue!==null)throw new TypeError("Super expression must either be null or a function");Ge.prototype=Object.create(Ue&&Ue.prototype,{constructor:{value:Ge,writable:!0,configurable:!0}}),Object.defineProperty(Ge,"prototype",{writable:!1}),Ue&&jn(Ge,Ue)})(Ee,re);var M,U,K,Q,ye=(K=Ee,Q=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ge){return!1}}(),function(){var Ue,ut=In(K);if(Q){var wt=In(this).constructor;Ue=Reflect.construct(ut,arguments,wt)}else Ue=ut.apply(this,arguments);return function(Gt,Qt){if(Qt&&(un(Qt)==="object"||typeof Qt=="function"))return Qt;if(Qt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ze(Gt)}(this,Ue)});function Ee(Ge,Ue,ut,wt,Gt,Qt,mn){var tn;(function(Jr,Li){if(!_instanceof(Jr,Li))throw new TypeError("Cannot call a class as a function")})(this,Ee),Re(ze(tn=ye.call(this,Ge)),"relatedTarget",null),Re(ze(tn),"screenX",void 0),Re(ze(tn),"screenY",void 0),Re(ze(tn),"button",void 0),Re(ze(tn),"buttons",void 0),Re(ze(tn),"ctrlKey",void 0),Re(ze(tn),"shiftKey",void 0),Re(ze(tn),"altKey",void 0),Re(ze(tn),"metaKey",void 0),Re(ze(tn),"page",void 0),Re(ze(tn),"client",void 0),Re(ze(tn),"delta",void 0),Re(ze(tn),"rect",void 0),Re(ze(tn),"x0",void 0),Re(ze(tn),"y0",void 0),Re(ze(tn),"t0",void 0),Re(ze(tn),"dt",void 0),Re(ze(tn),"duration",void 0),Re(ze(tn),"clientX0",void 0),Re(ze(tn),"clientY0",void 0),Re(ze(tn),"velocity",void 0),Re(ze(tn),"speed",void 0),Re(ze(tn),"swipe",void 0),Re(ze(tn),"axes",void 0),Re(ze(tn),"preEnd",void 0),Gt=Gt||Ge.element;var Bn=Ge.interactable,Xn=(Bn&&Bn.options||pt.defaults).deltaSource,zn=(0,fn.default)(Bn,Gt,ut),Kn=wt==="start",fr=wt==="end",Er=Kn?ze(tn):Ge.prevEvent,Vr=Kn?Ge.coords.start:fr?{page:Er.page,client:Er.client,timeStamp:Ge.coords.cur.timeStamp}:Ge.coords.cur;return tn.page=(0,bt.default)({},Vr.page),tn.client=(0,bt.default)({},Vr.client),tn.rect=(0,bt.default)({},Ge.rect),tn.timeStamp=Vr.timeStamp,fr||(tn.page.x-=zn.x,tn.page.y-=zn.y,tn.client.x-=zn.x,tn.client.y-=zn.y),tn.ctrlKey=Ue.ctrlKey,tn.altKey=Ue.altKey,tn.shiftKey=Ue.shiftKey,tn.metaKey=Ue.metaKey,tn.button=Ue.button,tn.buttons=Ue.buttons,tn.target=Gt,tn.currentTarget=Gt,tn.preEnd=Qt,tn.type=mn||ut+(wt||""),tn.interactable=Bn,tn.t0=Kn?Ge.pointers[Ge.pointers.length-1].downTime:Er.t0,tn.x0=Ge.coords.start.page.x-zn.x,tn.y0=Ge.coords.start.page.y-zn.y,tn.clientX0=Ge.coords.start.client.x-zn.x,tn.clientY0=Ge.coords.start.client.y-zn.y,tn.delta=Kn||fr?{x:0,y:0}:{x:tn[Xn].x-Er[Xn].x,y:tn[Xn].y-Er[Xn].y},tn.dt=Ge.coords.delta.timeStamp,tn.duration=tn.timeStamp-tn.t0,tn.velocity=(0,bt.default)({},Ge.coords.velocity[Xn]),tn.speed=(0,lr.default)(tn.velocity.x,tn.velocity.y),tn.swipe=fr||wt==="inertiastart"?tn.getSwipe():null,tn}return M=Ee,(U=[{key:"getSwipe",value:function(){var Ue=this._interaction;if(Ue.prevEvent.speed<600||this.timeStamp-Ue.prevEvent.timeStamp>150)return null;var ut=180*Math.atan2(Ue.prevEvent.velocityY,Ue.prevEvent.velocityX)/Math.PI;ut<0&&(ut+=360);var wt=112.5<=ut&&ut<247.5,Gt=202.5<=ut&&ut<337.5;return{up:Gt,down:!Gt&&22.5<=ut&&ut<157.5,left:wt,right:!wt&&(292.5<=ut||ut<67.5),angle:ut,speed:Ue.prevEvent.speed,velocity:{x:Ue.prevEvent.velocityX,y:Ue.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&function(Ge,Ue){for(var ut=0;ut<Ue.length;ut++){var wt=Ue[ut];wt.enumerable=wt.enumerable||!1,wt.configurable=!0,"value"in wt&&(wt.writable=!0),Object.defineProperty(Ge,wt.key,wt)}}(M.prototype,U),Object.defineProperty(M,"prototype",{writable:!1}),Ee}(pi.BaseEvent);pn.InteractEvent=An,Object.defineProperties(An.prototype,{pageX:{get:function(){return this.page.x},set:function(M){this.page.x=M}},pageY:{get:function(){return this.page.y},set:function(M){this.page.y=M}},clientX:{get:function(){return this.client.x},set:function(M){this.client.x=M}},clientY:{get:function(){return this.client.y},set:function(M){this.client.y=M}},dx:{get:function(){return this.delta.x},set:function(M){this.delta.x=M}},dy:{get:function(){return this.delta.y},set:function(M){this.delta.y=M}},velocityX:{get:function(){return this.velocity.x},set:function(M){this.velocity.x=M}},velocityY:{get:function(){return this.velocity.y},set:function(M){this.velocity.y=M}}});var sr={};Object.defineProperty(sr,"__esModule",{value:!0}),sr.PointerInfo=void 0;var Ln=function(re,M,U){return M&&$e(re.prototype,M),U&&$e(re,U),Object.defineProperty(re,"prototype",{writable:!1}),re}(function re(M,U,K,Q,ye){(function(Ee,Ge){if(!_instanceof(Ee,Ge))throw new TypeError("Cannot call a class as a function")})(this,re),Ye(this,"id",void 0),Ye(this,"pointer",void 0),Ye(this,"event",void 0),Ye(this,"downTime",void 0),Ye(this,"downTarget",void 0),this.id=M,this.pointer=U,this.event=K,this.downTime=Q,this.downTarget=ye});sr.PointerInfo=Ln;var vr,dr,On={};Object.defineProperty(On,"__esModule",{value:!0}),On.Interaction=void 0,Object.defineProperty(On,"PointerInfo",{enumerable:!0,get:function(){return sr.PointerInfo}}),On.default=On._ProxyValues=On._ProxyMethods=void 0,On._ProxyValues=vr,function(re){re.interactable="",re.element="",re.prepared="",re.pointerIsDown="",re.pointerWasMoved="",re._proxy=""}(vr||(On._ProxyValues=vr={})),On._ProxyMethods=dr,function(re){re.start="",re.move="",re.end="",re.stop="",re.interacting=""}(dr||(On._ProxyMethods=dr={}));var nr=0,pr=function(){function re(K){var Q=this,ye=K.pointerType,Ee=K.scopeFire;(function(Qt,mn){if(!_instanceof(Qt,mn))throw new TypeError("Cannot call a class as a function")})(this,re),We(this,"interactable",null),We(this,"element",null),We(this,"rect",null),We(this,"_rects",void 0),We(this,"edges",null),We(this,"_scopeFire",void 0),We(this,"prepared",{name:null,axis:null,edges:null}),We(this,"pointerType",void 0),We(this,"pointers",[]),We(this,"downEvent",null),We(this,"downPointer",{}),We(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),We(this,"prevEvent",null),We(this,"pointerIsDown",!1),We(this,"pointerWasMoved",!1),We(this,"_interacting",!1),We(this,"_ending",!1),We(this,"_stopped",!0),We(this,"_proxy",null),We(this,"simulation",null),We(this,"doMove",(0,Ci.warnOnce)(function(Qt){this.move(Qt)},"The interaction.doMove() method has been renamed to interaction.move()")),We(this,"coords",{start:Dn.newCoords(),prev:Dn.newCoords(),cur:Dn.newCoords(),delta:Dn.newCoords(),velocity:Dn.newCoords()}),We(this,"_id",nr++),this._scopeFire=Ee,this.pointerType=ye;var Ge=this;this._proxy={};var Ue=function(mn){Object.defineProperty(Q._proxy,mn,{get:function(){return Ge[mn]}})};for(var ut in vr)Ue(ut);var wt=function(mn){Object.defineProperty(Q._proxy,mn,{value:function(){return Ge[mn].apply(Ge,arguments)}})};for(var Gt in dr)wt(Gt);this._scopeFire("interactions:new",{interaction:this})}var M,U;return M=re,U=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(Q,ye,Ee){var Ge=this.updatePointer(Q,ye,Ee,!0),Ue=this.pointers[Ge];this._scopeFire("interactions:down",{pointer:Q,event:ye,eventTarget:Ee,pointerIndex:Ge,pointerInfo:Ue,type:"down",interaction:this})}},{key:"start",value:function(Q,ye,Ee){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(Q.name==="gesture"?2:1)||!ye.options[Q.name].enabled)&&((0,Ci.copyAction)(this.prepared,Q),this.interactable=ye,this.element=Ee,this.rect=ye.getRect(Ee),this.edges=this.prepared.edges?(0,bt.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(Q,ye,Ee){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(Q,ye,Ee,!1);var Ge,Ue,ut=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(Ge=this.coords.cur.client.x-this.coords.start.client.x,Ue=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,lr.default)(Ge,Ue)>this.pointerMoveTolerance);var wt=this.getPointerIndex(Q),Gt={pointer:Q,pointerIndex:wt,pointerInfo:this.pointers[wt],event:ye,type:"move",eventTarget:Ee,dx:Ge,dy:Ue,duplicate:ut,interaction:this};ut||Dn.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",Gt),ut||this.simulation||(this.interacting()&&(Gt.type=null,this.move(Gt)),this.pointerWasMoved&&Dn.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(Q){Q&&Q.event||Dn.setZeroCoords(this.coords.delta),(Q=(0,bt.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},Q||{})).phase="move",this._doPhase(Q)}},{key:"pointerUp",value:function(Q,ye,Ee,Ge){var Ue=this.getPointerIndex(Q);Ue===-1&&(Ue=this.updatePointer(Q,ye,Ee,!1));var ut=/cancel$/i.test(ye.type)?"cancel":"up";this._scopeFire("interactions:".concat(ut),{pointer:Q,pointerIndex:Ue,pointerInfo:this.pointers[Ue],event:ye,eventTarget:Ee,type:ut,curEventTarget:Ge,interaction:this}),this.simulation||this.end(ye),this.removePointer(Q,ye)}},{key:"documentBlur",value:function(Q){this.end(Q),this._scopeFire("interactions:blur",{event:Q,type:"blur",interaction:this})}},{key:"end",value:function(Q){var ye;this._ending=!0,Q=Q||this._latestPointer.event,this.interacting()&&(ye=this._doPhase({event:Q,interaction:this,phase:"end"})),this._ending=!1,ye===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(Q){var ye=Dn.getPointerId(Q);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:Rr.findIndex(this.pointers,function(Ee){return Ee.id===ye})}},{key:"getPointerInfo",value:function(Q){return this.pointers[this.getPointerIndex(Q)]}},{key:"updatePointer",value:function(Q,ye,Ee,Ge){var Ue=Dn.getPointerId(Q),ut=this.getPointerIndex(Q),wt=this.pointers[ut];return Ge=Ge!==!1&&(Ge||/(down|start)$/i.test(ye.type)),wt?wt.pointer=Q:(wt=new sr.PointerInfo(Ue,Q,ye,null,null),ut=this.pointers.length,this.pointers.push(wt)),Dn.setCoords(this.coords.cur,this.pointers.map(function(Gt){return Gt.pointer}),this._now()),Dn.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),Ge&&(this.pointerIsDown=!0,wt.downTime=this.coords.cur.timeStamp,wt.downTarget=Ee,Dn.pointerExtend(this.downPointer,Q),this.interacting()||(Dn.copyCoords(this.coords.start,this.coords.cur),Dn.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=ye,this.pointerWasMoved=!1)),this._updateLatestPointer(Q,ye,Ee),this._scopeFire("interactions:update-pointer",{pointer:Q,event:ye,eventTarget:Ee,down:Ge,pointerInfo:wt,pointerIndex:ut,interaction:this}),ut}},{key:"removePointer",value:function(Q,ye){var Ee=this.getPointerIndex(Q);if(Ee!==-1){var Ge=this.pointers[Ee];this._scopeFire("interactions:remove-pointer",{pointer:Q,event:ye,eventTarget:null,pointerIndex:Ee,pointerInfo:Ge,interaction:this}),this.pointers.splice(Ee,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(Q,ye,Ee){this._latestPointer.pointer=Q,this._latestPointer.event=ye,this._latestPointer.eventTarget=Ee}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(Q,ye,Ee,Ge){return new pn.InteractEvent(this,Q,this.prepared.name,ye,this.element,Ee,Ge)}},{key:"_fireEvent",value:function(Q){var ye;(ye=this.interactable)==null||ye.fire(Q),(!this.prevEvent||Q.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=Q)}},{key:"_doPhase",value:function(Q){var ye=Q.event,Ee=Q.phase,Ge=Q.preEnd,Ue=Q.type,ut=this.rect;if(ut&&Ee==="move"&&(ln.addEdges(this.edges,ut,this.coords.delta[this.interactable.options.deltaSource]),ut.width=ut.right-ut.left,ut.height=ut.bottom-ut.top),this._scopeFire("interactions:before-action-".concat(Ee),Q)===!1)return!1;var wt=Q.iEvent=this._createPreparedEvent(ye,Ee,Ge,Ue);return this._scopeFire("interactions:action-".concat(Ee),Q),Ee==="start"&&(this.prevEvent=wt),this._fireEvent(wt),this._scopeFire("interactions:after-action-".concat(Ee),Q),!0}},{key:"_now",value:function(){return Date.now()}}],U&&function(K,Q){for(var ye=0;ye<Q.length;ye++){var Ee=Q[ye];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(K,Ee.key,Ee)}}(M.prototype,U),Object.defineProperty(M,"prototype",{writable:!1}),re}();On.Interaction=pr;var Jn=pr;On.default=Jn;var rr={};Object.defineProperty(rr,"__esModule",{value:!0}),rr.addTotal=Ct,rr.applyPending=nt,rr.default=void 0,On._ProxyMethods.offsetBy="";var Hr={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(M){M.Interaction.prototype.offsetBy=rt},listeners:{"interactions:new":function(re){re.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(re){return Ct(re.interaction)},"interactions:before-action-start":gt,"interactions:before-action-move":gt,"interactions:before-action-end":function(re){var M=re.interaction;if(nt(M))return M.move({offset:!0}),M.end(),!1},"interactions:stop":function(re){var M=re.interaction;M.offset.total.x=0,M.offset.total.y=0,M.offset.pending.x=0,M.offset.pending.y=0}}},Mr=Hr;rr.default=Mr;var hr={};Object.defineProperty(hr,"__esModule",{value:!0}),hr.default=hr.InertiaState=void 0;var wr=function(){function re(K){(function(Q,ye){if(!_instanceof(Q,ye))throw new TypeError("Cannot call a class as a function")})(this,re),At(this,"active",!1),At(this,"isModified",!1),At(this,"smoothEnd",!1),At(this,"allowResume",!1),At(this,"modification",void 0),At(this,"modifierCount",0),At(this,"modifierArg",void 0),At(this,"startCoords",void 0),At(this,"t0",0),At(this,"v0",0),At(this,"te",0),At(this,"targetOffset",void 0),At(this,"modifiedOffset",void 0),At(this,"currentOffset",void 0),At(this,"lambda_v0",0),At(this,"one_ve_v0",0),At(this,"timeout",void 0),At(this,"interaction",void 0),this.interaction=K}var M,U;return M=re,(U=[{key:"start",value:function(Q){var ye=this.interaction,Ee=Mt(ye);if(!Ee||!Ee.enabled)return!1;var Ge=ye.coords.velocity.client,Ue=(0,lr.default)(Ge.x,Ge.y),ut=this.modification||(this.modification=new ne.default(ye));if(ut.copyFrom(ye.modification),this.t0=ye._now(),this.allowResume=Ee.allowResume,this.v0=Ue,this.currentOffset={x:0,y:0},this.startCoords=ye.coords.cur.page,this.modifierArg=ut.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-ye.coords.cur.timeStamp<50&&Ue>Ee.minSpeed&&Ue>Ee.endSpeed)this.startInertia();else{if(ut.result=ut.setAll(this.modifierArg),!ut.result.changed)return!1;this.startSmoothEnd()}return ye.modification.result.rect=null,ye.offsetBy(this.targetOffset),ye._doPhase({interaction:ye,event:Q,phase:"inertiastart"}),ye.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),ye.modification.result.rect=null,this.active=!0,ye.simulation=this,!0}},{key:"startInertia",value:function(){var Q=this,ye=this.interaction.coords.velocity.client,Ee=Mt(this.interaction),Ge=Ee.resistance,Ue=-Math.log(Ee.endSpeed/this.v0)/Ge;this.targetOffset={x:(ye.x-Ue)/Ge,y:(ye.y-Ue)/Ge},this.te=Ue,this.lambda_v0=Ge/this.v0,this.one_ve_v0=1-Ee.endSpeed/this.v0;var ut=this.modification,wt=this.modifierArg;wt.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},ut.result=ut.setAll(wt),ut.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+ut.result.delta.x,y:this.targetOffset.y+ut.result.delta.y}),this.onNextFrame(function(){return Q.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var Q=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return Q.smoothEndTick()})}},{key:"onNextFrame",value:function(Q){var ye=this;this.timeout=Qi.default.request(function(){ye.active&&Q()})}},{key:"inertiaTick",value:function(){var Q,ye,Ee,Ge,Ue,ut=this,wt=this.interaction,Gt=Mt(wt).resistance,Qt=(wt._now()-this.t0)/1e3;if(Qt<this.te){var mn,tn=1-(Math.exp(-Gt*Qt)-this.lambda_v0)/this.one_ve_v0;this.isModified?(Q=this.targetOffset.x,ye=this.targetOffset.y,Ee=this.modifiedOffset.x,Ge=this.modifiedOffset.y,mn={x:Lt(Ue=tn,0,Q,Ee),y:Lt(Ue,0,ye,Ge)}):mn={x:this.targetOffset.x*tn,y:this.targetOffset.y*tn};var Bn={x:mn.x-this.currentOffset.x,y:mn.y-this.currentOffset.y};this.currentOffset.x+=Bn.x,this.currentOffset.y+=Bn.y,wt.offsetBy(Bn),wt.move(),this.onNextFrame(function(){return ut.inertiaTick()})}else wt.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var Q=this,ye=this.interaction,Ee=ye._now()-this.t0,Ge=Mt(ye).smoothEndDuration;if(Ee<Ge){var Ue={x:st(Ee,0,this.targetOffset.x,Ge),y:st(Ee,0,this.targetOffset.y,Ge)},ut={x:Ue.x-this.currentOffset.x,y:Ue.y-this.currentOffset.y};this.currentOffset.x+=ut.x,this.currentOffset.y+=ut.y,ye.offsetBy(ut),ye.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return Q.smoothEndTick()})}else ye.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(Q){var ye=Q.pointer,Ee=Q.event,Ge=Q.eventTarget,Ue=this.interaction;Ue.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),Ue.updatePointer(ye,Ee,Ge,!0),Ue._doPhase({interaction:Ue,event:Ee,phase:"resume"}),(0,Dn.copyCoords)(Ue.coords.prev,Ue.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Qi.default.cancel(this.timeout)}}])&&function(K,Q){for(var ye=0;ye<Q.length;ye++){var Ee=Q[ye];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(K,Ee.key,Ee)}}(M.prototype,U),Object.defineProperty(M,"prototype",{writable:!1}),re}();hr.InertiaState=wr;var Ur={id:"inertia",before:["modifiers","actions"],install:function(M){var U=M.defaults;M.usePlugin(rr.default),M.usePlugin(Ie.default),M.actions.phases.inertiastart=!0,M.actions.phases.resume=!0,U.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(re){var M=re.interaction;M.inertia=new wr(M)},"interactions:before-action-end":function(re){var M=re.interaction,U=re.event;return(!M._interacting||M.simulation||!M.inertia.start(U))&&null},"interactions:down":function(re){var M=re.interaction,U=re.eventTarget,K=M.inertia;if(K.active)for(var Q=U;ue.default.element(Q);){if(Q===M.element){K.resume(re);break}Q=yt.parentNode(Q)}},"interactions:stop":function(re){var M=re.interaction.inertia;M.active&&M.stop()},"interactions:before-action-resume":function(re){var M=re.interaction.modification;M.stop(re),M.start(re,re.interaction.coords.cur.page),M.applyToInteraction(re)},"interactions:before-action-inertiastart":function(re){return re.interaction.modification.setAndApply(re)},"interactions:action-resume":Ie.addEventModifiers,"interactions:action-inertiastart":Ie.addEventModifiers,"interactions:after-action-inertiastart":function(re){return re.interaction.modification.restoreInteractionCoords(re)},"interactions:after-action-resume":function(re){return re.interaction.modification.restoreInteractionCoords(re)}}},Xr=Ur;hr.default=Xr;var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.Eventable=void 0;var $r=function(){function re(K){(function(Q,ye){if(!_instanceof(Q,ye))throw new TypeError("Cannot call a class as a function")})(this,re),te(this,"options",void 0),te(this,"types",{}),te(this,"propagationStopped",!1),te(this,"immediatePropagationStopped",!1),te(this,"global",void 0),this.options=(0,bt.default)({},K||{})}var M,U;return M=re,(U=[{key:"fire",value:function(Q){var ye,Ee=this.global;(ye=this.types[Q.type])&&Jt(Q,ye),!Q.propagationStopped&&Ee&&(ye=Ee[Q.type])&&Jt(Q,ye)}},{key:"on",value:function(Q,ye){var Ee=(0,Un.default)(Q,ye);for(Q in Ee)this.types[Q]=Rr.merge(this.types[Q]||[],Ee[Q])}},{key:"off",value:function(Q,ye){var Ee=(0,Un.default)(Q,ye);for(Q in Ee){var Ge=this.types[Q];if(Ge&&Ge.length)for(var Ue=0;Ue<Ee[Q].length;Ue++){var ut=Ee[Q][Ue],wt=Ge.indexOf(ut);wt!==-1&&Ge.splice(wt,1)}}}},{key:"getRect",value:function(Q){return null}}])&&function(K,Q){for(var ye=0;ye<Q.length;ye++){var Ee=Q[ye];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(K,Ee.key,Ee)}}(M.prototype,U),Object.defineProperty(M,"prototype",{writable:!1}),re}();Dr.Eventable=$r;var Fe={};Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.default=function(re,M){if(M.phaselessTypes[re])return!0;for(var U in M.map)if(re.indexOf(U)===0&&re.substr(U.length)in M.phases)return!0;return!1};var ke={};Object.defineProperty(ke,"__esModule",{value:!0}),ke.createInteractStatic=function(re){var M=function U(K,Q){var ye=re.interactables.get(K,Q);return ye||((ye=re.interactables.new(K,Q)).events.global=U.globalEvents),ye};return M.getPointerAverage=Dn.pointerAverage,M.getTouchBBox=Dn.touchBBox,M.getTouchDistance=Dn.touchDistance,M.getTouchAngle=Dn.touchAngle,M.getElementRect=yt.getElementRect,M.getElementClientRect=yt.getElementClientRect,M.matchesSelector=yt.matchesSelector,M.closest=yt.closest,M.globalEvents={},M.version="1.10.18",M.scope=re,M.use=function(U,K){return this.scope.usePlugin(U,K),this},M.isSet=function(U,K){return!!this.scope.interactables.get(U,K&&K.context)},M.on=(0,Ci.warnOnce)(function(U,K,Q){if(ue.default.string(U)&&U.search(" ")!==-1&&(U=U.trim().split(/ +/)),ue.default.array(U)){for(var ye=0;ye<U.length;ye++){var Ee=U[ye];this.on(Ee,K,Q)}return this}if(ue.default.object(U)){for(var Ge in U)this.on(Ge,U[Ge],K);return this}return(0,Fe.default)(U,this.scope.actions)?this.globalEvents[U]?this.globalEvents[U].push(K):this.globalEvents[U]=[K]:this.scope.events.add(this.scope.document,U,K,{options:Q}),this},"The interact.on() method is being deprecated"),M.off=(0,Ci.warnOnce)(function(U,K,Q){if(ue.default.string(U)&&U.search(" ")!==-1&&(U=U.trim().split(/ +/)),ue.default.array(U)){for(var ye=0;ye<U.length;ye++){var Ee=U[ye];this.off(Ee,K,Q)}return this}if(ue.default.object(U)){for(var Ge in U)this.off(Ge,U[Ge],K);return this}var Ue;return(0,Fe.default)(U,this.scope.actions)?U in this.globalEvents&&(Ue=this.globalEvents[U].indexOf(K))!==-1&&this.globalEvents[U].splice(Ue,1):this.scope.events.remove(this.scope.document,U,K,Q),this},"The interact.off() method is being deprecated"),M.debug=function(){return this.scope},M.supportsTouch=function(){return Ei.default.supportsTouch},M.supportsPointerEvent=function(){return Ei.default.supportsPointerEvent},M.stop=function(){for(var U=0;U<this.scope.interactions.list.length;U++)this.scope.interactions.list[U].stop();return this},M.pointerMoveTolerance=function(U){return ue.default.number(U)?(this.scope.interactions.pointerMoveTolerance=U,this):this.scope.interactions.pointerMoveTolerance},M.addDocument=function(U,K){this.scope.addDocument(U,K)},M.removeDocument=function(U){this.scope.removeDocument(U)},M};var Le={};Object.defineProperty(Le,"__esModule",{value:!0}),Le.Interactable=void 0;var kt=function(){function re(K,Q,ye,Ee){(function(Ge,Ue){if(!_instanceof(Ge,Ue))throw new TypeError("Cannot call a class as a function")})(this,re),Ft(this,"options",void 0),Ft(this,"_actions",void 0),Ft(this,"target",void 0),Ft(this,"events",new Dr.Eventable),Ft(this,"_context",void 0),Ft(this,"_win",void 0),Ft(this,"_doc",void 0),Ft(this,"_scopeEvents",void 0),Ft(this,"_rectChecker",void 0),this._actions=Q.actions,this.target=K,this._context=Q.context||ye,this._win=(0,Tn.getWindow)((0,yt.trySelector)(K)?this._context:K),this._doc=this._win.document,this._scopeEvents=Ee,this.set(Q)}var M,U;return M=re,(U=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(Q,ye){return ue.default.func(ye.onstart)&&this.on("".concat(Q,"start"),ye.onstart),ue.default.func(ye.onmove)&&this.on("".concat(Q,"move"),ye.onmove),ue.default.func(ye.onend)&&this.on("".concat(Q,"end"),ye.onend),ue.default.func(ye.oninertiastart)&&this.on("".concat(Q,"inertiastart"),ye.oninertiastart),this}},{key:"updatePerActionListeners",value:function(Q,ye,Ee){(ue.default.array(ye)||ue.default.object(ye))&&this.off(Q,ye),(ue.default.array(Ee)||ue.default.object(Ee))&&this.on(Q,Ee)}},{key:"setPerAction",value:function(Q,ye){var Ee=this._defaults;for(var Ge in ye){var Ue=Ge,ut=this.options[Q],wt=ye[Ue];Ue==="listeners"&&this.updatePerActionListeners(Q,ut.listeners,wt),ue.default.array(wt)?ut[Ue]=Rr.from(wt):ue.default.plainObject(wt)?(ut[Ue]=(0,bt.default)(ut[Ue]||{},(0,W.default)(wt)),ue.default.object(Ee.perAction[Ue])&&"enabled"in Ee.perAction[Ue]&&(ut[Ue].enabled=wt.enabled!==!1)):ue.default.bool(wt)&&ue.default.object(Ee.perAction[Ue])?ut[Ue].enabled=wt:ut[Ue]=wt}}},{key:"getRect",value:function(Q){return Q=Q||(ue.default.element(this.target)?this.target:null),ue.default.string(this.target)&&(Q=Q||this._context.querySelector(this.target)),(0,yt.getElementRect)(Q)}},{key:"rectChecker",value:function(Q){var ye=this;return ue.default.func(Q)?(this._rectChecker=Q,this.getRect=function(Ee){var Ge=(0,bt.default)({},ye._rectChecker(Ee));return"width"in Ge||(Ge.width=Ge.right-Ge.left,Ge.height=Ge.bottom-Ge.top),Ge},this):Q===null?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(Q,ye){if((0,yt.trySelector)(ye)||ue.default.object(ye)){for(var Ee in this.options[Q]=ye,this._actions.map)this.options[Ee][Q]=ye;return this}return this.options[Q]}},{key:"origin",value:function(Q){return this._backCompatOption("origin",Q)}},{key:"deltaSource",value:function(Q){return Q==="page"||Q==="client"?(this.options.deltaSource=Q,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(Q){return this._context===Q.ownerDocument||(0,yt.nodeContains)(this._context,Q)}},{key:"testIgnoreAllow",value:function(Q,ye,Ee){return!this.testIgnore(Q.ignoreFrom,ye,Ee)&&this.testAllow(Q.allowFrom,ye,Ee)}},{key:"testAllow",value:function(Q,ye,Ee){return!Q||!!ue.default.element(Ee)&&(ue.default.string(Q)?(0,yt.matchesUpTo)(Ee,Q,ye):!!ue.default.element(Q)&&(0,yt.nodeContains)(Q,Ee))}},{key:"testIgnore",value:function(Q,ye,Ee){return!(!Q||!ue.default.element(Ee))&&(ue.default.string(Q)?(0,yt.matchesUpTo)(Ee,Q,ye):!!ue.default.element(Q)&&(0,yt.nodeContains)(Q,Ee))}},{key:"fire",value:function(Q){return this.events.fire(Q),this}},{key:"_onOff",value:function(Q,ye,Ee,Ge){ue.default.object(ye)&&!ue.default.array(ye)&&(Ge=Ee,Ee=null);var Ue=Q==="on"?"add":"remove",ut=(0,Un.default)(ye,Ee);for(var wt in ut){wt==="wheel"&&(wt=Ei.default.wheelEvent);for(var Gt=0;Gt<ut[wt].length;Gt++){var Qt=ut[wt][Gt];(0,Fe.default)(wt,this._actions)?this.events[Q](wt,Qt):ue.default.string(this.target)?this._scopeEvents["".concat(Ue,"Delegate")](this.target,this._context,wt,Qt,Ge):this._scopeEvents[Ue](this.target,wt,Qt,Ge)}}return this}},{key:"on",value:function(Q,ye,Ee){return this._onOff("on",Q,ye,Ee)}},{key:"off",value:function(Q,ye,Ee){return this._onOff("off",Q,ye,Ee)}},{key:"set",value:function(Q){var ye=this._defaults;for(var Ee in ue.default.object(Q)||(Q={}),this.options=(0,W.default)(ye.base),this._actions.methodDict){var Ge=Ee,Ue=this._actions.methodDict[Ge];this.options[Ge]={},this.setPerAction(Ge,(0,bt.default)((0,bt.default)({},ye.perAction),ye.actions[Ge])),this[Ue](Q[Ge])}for(var ut in Q)ue.default.func(this[ut])&&this[ut](Q[ut]);return this}},{key:"unset",value:function(){if(ue.default.string(this.target))for(var Q in this._scopeEvents.delegatedEvents)for(var ye=this._scopeEvents.delegatedEvents[Q],Ee=ye.length-1;Ee>=0;Ee--){var Ge=ye[Ee],Ue=Ge.selector,ut=Ge.context,wt=Ge.listeners;Ue===this.target&&ut===this._context&&ye.splice(Ee,1);for(var Gt=wt.length-1;Gt>=0;Gt--)this._scopeEvents.removeDelegate(this.target,this._context,Q,wt[Gt][0],wt[Gt][1])}else this._scopeEvents.remove(this.target,"all")}}])&&function(K,Q){for(var ye=0;ye<Q.length;ye++){var Ee=Q[ye];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(K,Ee.key,Ee)}}(M.prototype,U),Object.defineProperty(M,"prototype",{writable:!1}),re}();Le.Interactable=kt;var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.InteractableSet=void 0;var jt=function(){function re(K){var Q=this;(function(ye,Ee){if(!_instanceof(ye,Ee))throw new TypeError("Cannot call a class as a function")})(this,re),Yt(this,"list",[]),Yt(this,"selectorMap",{}),Yt(this,"scope",void 0),this.scope=K,K.addListeners({"interactable:unset":function(ye){var Ee=ye.interactable,Ge=Ee.target,Ue=Ee._context,ut=ue.default.string(Ge)?Q.selectorMap[Ge]:Ge[Q.scope.id],wt=Rr.findIndex(ut,function(Gt){return Gt.context===Ue});ut[wt]&&(ut[wt].context=null,ut[wt].interactable=null),ut.splice(wt,1)}})}var M,U;return M=re,(U=[{key:"new",value:function(Q,ye){ye=(0,bt.default)(ye||{},{actions:this.scope.actions});var Ee=new this.scope.Interactable(Q,ye,this.scope.document,this.scope.events),Ge={context:Ee._context,interactable:Ee};return this.scope.addDocument(Ee._doc),this.list.push(Ee),ue.default.string(Q)?(this.selectorMap[Q]||(this.selectorMap[Q]=[]),this.selectorMap[Q].push(Ge)):(Ee.target[this.scope.id]||Object.defineProperty(Q,this.scope.id,{value:[],configurable:!0}),Q[this.scope.id].push(Ge)),this.scope.fire("interactable:new",{target:Q,options:ye,interactable:Ee,win:this.scope._win}),Ee}},{key:"get",value:function(Q,ye){var Ee=ye&&ye.context||this.scope.document,Ge=ue.default.string(Q),Ue=Ge?this.selectorMap[Q]:Q[this.scope.id];if(!Ue)return null;var ut=Rr.find(Ue,function(wt){return wt.context===Ee&&(Ge||wt.interactable.inContext(Q))});return ut&&ut.interactable}},{key:"forEachMatch",value:function(Q,ye){for(var Ee=0;Ee<this.list.length;Ee++){var Ge=this.list[Ee],Ue=void 0;if((ue.default.string(Ge.target)?ue.default.element(Q)&&yt.matchesSelector(Q,Ge.target):Q===Ge.target)&&Ge.inContext(Q)&&(Ue=ye(Ge)),Ue!==void 0)return Ue}}}])&&function(K,Q){for(var ye=0;ye<Q.length;ye++){var Ee=Q[ye];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(K,Ee.key,Ee)}}(M.prototype,U),Object.defineProperty(M,"prototype",{writable:!1}),re}();Pt.InteractableSet=jt;var vn={};Object.defineProperty(vn,"__esModule",{value:!0}),vn.default=void 0;var Sn=function(){function re(K){(function(Q,ye){if(!_instanceof(Q,ye))throw new TypeError("Cannot call a class as a function")})(this,re),N(this,"currentTarget",void 0),N(this,"originalEvent",void 0),N(this,"type",void 0),this.originalEvent=K,(0,jr.default)(this,K)}var M,U;return M=re,(U=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&function(K,Q){for(var ye=0;ye<Q.length;ye++){var Ee=Q[ye];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(K,Ee.key,Ee)}}(M.prototype,U),Object.defineProperty(M,"prototype",{writable:!1}),re}(),Hn={id:"events",install:function(M){var U=function(Qt,mn,tn,Bn){var Xn=ie(Bn),zn=Rr.find(Ee,function(Kn){return Kn.eventTarget===Qt});zn||(zn={eventTarget:Qt,events:{}},Ee.push(zn)),zn.events[mn]||(zn.events[mn]=[]),Qt.addEventListener&&!Rr.contains(zn.events[mn],tn)&&(Qt.addEventListener(mn,tn,ut.supportsOptions?Xn:Xn.capture),zn.events[mn].push(tn))},K=function(Qt,mn){for(var tn=ie(mn),Bn=new Sn(Qt),Xn=Ge[Qt.type],zn=Ze(Dn.getEventTargets(Qt),1)[0],Kn=zn;ue.default.element(Kn);){for(var fr=0;fr<Xn.length;fr++){var Er=Xn[fr],Vr=Er.selector,Jr=Er.context;if(yt.matchesSelector(Kn,Vr)&&yt.nodeContains(Jr,zn)&&yt.nodeContains(Jr,Kn)){var Li=Er.listeners;Bn.currentTarget=Kn;for(var yi=0;yi<Li.length;yi++){var zr=Ze(Li[yi],2),pa=zr[0],va=zr[1],Uu=va.capture,Wk=va.passive;Uu===tn.capture&&Wk===tn.passive&&pa(Bn)}}}Kn=yt.parentNode(Kn)}},Q=function(Qt){return K(Qt,!0)},ye,Ee=[],Ge={},Ue=[],ut={add:U,remove:wt,addDelegate:function(Qt,mn,tn,Bn,Xn){var zn=ie(Xn);if(!Ge[tn]){Ge[tn]=[];for(var Kn=0;Kn<Ue.length;Kn++){var fr=Ue[Kn];U(fr,tn,K),U(fr,tn,Q,!0)}}var Er=Ge[tn],Vr=Rr.find(Er,function(Jr){return Jr.selector===Qt&&Jr.context===mn});Vr||(Vr={selector:Qt,context:mn,listeners:[]},Er.push(Vr)),Vr.listeners.push([Bn,zn])},removeDelegate:function(Qt,mn,tn,Bn,Xn){var zn,Kn=ie(Xn),fr=Ge[tn],Er=!1;if(fr)for(zn=fr.length-1;zn>=0;zn--){var Vr=fr[zn];if(Vr.selector===Qt&&Vr.context===mn){for(var Jr=Vr.listeners,Li=Jr.length-1;Li>=0;Li--){var yi=Ze(Jr[Li],2),zr=yi[0],pa=yi[1],va=pa.capture,Uu=pa.passive;if(zr===Bn&&va===Kn.capture&&Uu===Kn.passive){Jr.splice(Li,1),Jr.length||(fr.splice(zn,1),wt(mn,tn,K),wt(mn,tn,Q,!0)),Er=!0;break}}if(Er)break}}},delegateListener:K,delegateUseCapture:Q,delegatedEvents:Ge,documents:Ue,targets:Ee,supportsOptions:!1,supportsPassive:!1};function wt(Gt,Qt,mn,tn){var Bn=ie(tn),Xn=Rr.findIndex(Ee,function(Jr){return Jr.eventTarget===Gt}),zn=Ee[Xn];if(zn&&zn.events)if(Qt!=="all"){var Kn=!1,fr=zn.events[Qt];if(fr){if(mn==="all"){for(var Er=fr.length-1;Er>=0;Er--)wt(Gt,Qt,fr[Er],Bn);return}for(var Vr=0;Vr<fr.length;Vr++)if(fr[Vr]===mn){Gt.removeEventListener(Qt,mn,ut.supportsOptions?Bn:Bn.capture),fr.splice(Vr,1),fr.length===0&&(delete zn.events[Qt],Kn=!0);break}}Kn&&!Object.keys(zn.events).length&&Ee.splice(Xn,1)}else for(Qt in zn.events)zn.events.hasOwnProperty(Qt)&&wt(Gt,Qt,"all")}return(ye=M.document)==null||ye.createElement("div").addEventListener("test",null,{get capture(){return ut.supportsOptions=!0},get passive(){return ut.supportsPassive=!0}}),M.events=ut,ut}};vn.default=Hn;var gr={};Object.defineProperty(gr,"__esModule",{value:!0}),gr.default=void 0;var mr={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(M){for(var U=0;U<mr.methodOrder.length;U++){var K;K=mr.methodOrder[U];var Q=mr[K](M);if(Q)return Q}return null},simulationResume:function(M){var U=M.pointerType,K=M.eventType,Q=M.eventTarget,ye=M.scope;if(!/down|start/i.test(K))return null;for(var Ee=0;Ee<ye.interactions.list.length;Ee++){var Ge=ye.interactions.list[Ee],Ue=Q;if(Ge.simulation&&Ge.simulation.allowResume&&Ge.pointerType===U)for(;Ue;){if(Ue===Ge.element)return Ge;Ue=yt.parentNode(Ue)}}return null},mouseOrPen:function(M){var U,K=M.pointerId,Q=M.pointerType,ye=M.eventType,Ee=M.scope;if(Q!=="mouse"&&Q!=="pen")return null;for(var Ge=0;Ge<Ee.interactions.list.length;Ge++){var Ue=Ee.interactions.list[Ge];if(Ue.pointerType===Q){if(Ue.simulation&&!G(Ue,K))continue;if(Ue.interacting())return Ue;U||(U=Ue)}}if(U)return U;for(var ut=0;ut<Ee.interactions.list.length;ut++){var wt=Ee.interactions.list[ut];if(!(wt.pointerType!==Q||/down/i.test(ye)&&wt.simulation))return wt}return null},hasPointer:function(M){for(var U=M.pointerId,K=M.scope,Q=0;Q<K.interactions.list.length;Q++){var ye=K.interactions.list[Q];if(G(ye,U))return ye}return null},idle:function(M){for(var U=M.pointerType,K=M.scope,Q=0;Q<K.interactions.list.length;Q++){var ye=K.interactions.list[Q];if(ye.pointers.length===1){var Ee=ye.interactable;if(Ee&&(!Ee.options.gesture||!Ee.options.gesture.enabled))continue}else if(ye.pointers.length>=2)continue;if(!ye.interacting()&&U===ye.pointerType)return ye}return null}},Yn=mr;gr.default=Yn;var oo={};function Ba(re){return Ba=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(U){return typeof U=="undefined"?"undefined":_typeof(U)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M=="undefined"?"undefined":_typeof(M)},Ba(re)}function ua(re,M){return ua=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(K,Q){return K.__proto__=Q,K},ua(re,M)}function Ji(re){return Ji=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(U){return U.__proto__||Object.getPrototypeOf(U)},Ji(re)}Object.defineProperty(oo,"__esModule",{value:!0}),oo.default=void 0;var So=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"],Uo={id:"core/interactions",install:function(M){for(var U=function(){for(var ut=0;ut<M.interactions.list.length;ut++){var wt=M.interactions.list[ut];if(wt.pointerIsDown&&wt.pointerType==="touch"&&!wt._interacting)for(var Gt=function(){var tn=wt.pointers[Qt];M.documents.some(function(Bn){var Xn=Bn.doc;return(0,yt.nodeContains)(Xn,tn.downTarget)})||wt.removePointer(tn.pointer,tn.event)},Qt=0;Qt<wt.pointers.length;Qt++)Gt()}},K={},Q=0;Q<So.length;Q++){var ye=So[Q];K[ye]=oe(ye,M)}var Ee,Ge=Ei.default.pEventTypes;(Ee=cr.default.PointerEvent?[{type:Ge.down,listener:U},{type:Ge.down,listener:K.pointerDown},{type:Ge.move,listener:K.pointerMove},{type:Ge.up,listener:K.pointerUp},{type:Ge.cancel,listener:K.pointerUp}]:[{type:"mousedown",listener:K.pointerDown},{type:"mousemove",listener:K.pointerMove},{type:"mouseup",listener:K.pointerUp},{type:"touchstart",listener:U},{type:"touchstart",listener:K.pointerDown},{type:"touchmove",listener:K.pointerMove},{type:"touchend",listener:K.pointerUp},{type:"touchcancel",listener:K.pointerUp}]).push({type:"blur",listener:function(ut){for(var wt=0;wt<M.interactions.list.length;wt++)M.interactions.list[wt].documentBlur(ut)}}),M.prevTouchTime=0,M.Interaction=function(Ue){(function(Bn,Xn){if(typeof Xn!="function"&&Xn!==null)throw new TypeError("Super expression must either be null or a function");Bn.prototype=Object.create(Xn&&Xn.prototype,{constructor:{value:Bn,writable:!0,configurable:!0}}),Object.defineProperty(Bn,"prototype",{writable:!1}),Xn&&ua(Bn,Xn)})(tn,Ue);var ut,wt,Gt,Qt,mn=(Gt=tn,Qt=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Bn){return!1}}(),function(){var Xn,zn=Ji(Gt);if(Qt){var Kn=Ji(this).constructor;Xn=Reflect.construct(zn,arguments,Kn)}else Xn=zn.apply(this,arguments);return function(fr,Er){if(Er&&(Ba(Er)==="object"||typeof Er=="function"))return Er;if(Er!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Vr){if(Vr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Vr}(fr)}(this,Xn)});function tn(){return function(Bn,Xn){if(!_instanceof(Bn,Xn))throw new TypeError("Cannot call a class as a function")}(this,tn),mn.apply(this,arguments)}return ut=tn,(wt=[{key:"pointerMoveTolerance",get:function(){return M.interactions.pointerMoveTolerance},set:function(Xn){M.interactions.pointerMoveTolerance=Xn}},{key:"_now",value:function(){return M.now()}}])&&function(Bn,Xn){for(var zn=0;zn<Xn.length;zn++){var Kn=Xn[zn];Kn.enumerable=Kn.enumerable||!1,Kn.configurable=!0,"value"in Kn&&(Kn.writable=!0),Object.defineProperty(Bn,Kn.key,Kn)}}(ut.prototype,wt),Object.defineProperty(ut,"prototype",{writable:!1}),tn}(On.default),M.interactions={list:[],new:function(ut){ut.scopeFire=function(Gt,Qt){return M.fire(Gt,Qt)};var wt=new M.Interaction(ut);return M.interactions.list.push(wt),wt},listeners:K,docEvents:Ee,pointerMoveTolerance:1},M.usePlugin(dn.default)},listeners:{"scope:add-document":function(re){return Oe(re,"add")},"scope:remove-document":function(re){return Oe(re,"remove")},"interactable:unset":function(re,M){for(var U=re.interactable,K=M.interactions.list.length-1;K>=0;K--){var Q=M.interactions.list[K];Q.interactable===U&&(Q.stop(),M.fire("interactions:destroy",{interaction:Q}),Q.destroy(),M.interactions.list.length>2&&M.interactions.list.splice(K,1))}}},onDocSignal:Oe,doOnInteractions:oe,methodNames:So},Bu=Uo;oo.default=Bu;var ca={};function _l(re){return _l=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(U){return typeof U=="undefined"?"undefined":_typeof(U)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M=="undefined"?"undefined":_typeof(M)},_l(re)}function za(){return za=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(M,U,K){var Q=function(Ee,Ge){for(;!Object.prototype.hasOwnProperty.call(Ee,Ge)&&(Ee=Ro(Ee))!==null;);return Ee}(M,U);if(Q){var ye=Object.getOwnPropertyDescriptor(Q,U);return ye.get?ye.get.call(arguments.length<3?M:K):ye.value}},za.apply(this,arguments)}function Co(re,M){return Co=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(K,Q){return K.__proto__=Q,K},Co(re,M)}function Ro(re){return Ro=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(U){return U.__proto__||Object.getPrototypeOf(U)},Ro(re)}Object.defineProperty(ca,"__esModule",{value:!0}),ca.Scope=void 0,ca.initScope=ht;var rd=function(){function re(){var M=this;Pe(this,re),Qe(this,"id","__interact_scope_".concat(Math.floor(100*Math.random()))),Qe(this,"isInitialized",!1),Qe(this,"listenerMaps",[]),Qe(this,"browser",Ei.default),Qe(this,"defaults",(0,W.default)(pt.defaults)),Qe(this,"Eventable",Dr.Eventable),Qe(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}}),Qe(this,"interactStatic",(0,ke.createInteractStatic)(this)),Qe(this,"InteractEvent",pn.InteractEvent),Qe(this,"Interactable",void 0),Qe(this,"interactables",new Pt.InteractableSet(this)),Qe(this,"_win",void 0),Qe(this,"document",void 0),Qe(this,"window",void 0),Qe(this,"documents",[]),Qe(this,"_plugins",{list:[],map:{}}),Qe(this,"onWindowUnload",function(K){return M.removeDocument(K.target)});var U=this;this.Interactable=function(K){(function(Ue,ut){if(typeof ut!="function"&&ut!==null)throw new TypeError("Super expression must either be null or a function");Ue.prototype=Object.create(ut&&ut.prototype,{constructor:{value:Ue,writable:!0,configurable:!0}}),Object.defineProperty(Ue,"prototype",{writable:!1}),ut&&Co(Ue,ut)})(Ge,K);var Q,ye,Ee=(Q=Ge,ye=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ue){return!1}}(),function(){var ut,wt=Ro(Q);if(ye){var Gt=Ro(this).constructor;ut=Reflect.construct(wt,arguments,Gt)}else ut=wt.apply(this,arguments);return function(Qt,mn){if(mn&&(_l(mn)==="object"||typeof mn=="function"))return mn;if(mn!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(tn){if(tn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tn}(Qt)}(this,ut)});function Ge(){return Pe(this,Ge),Ee.apply(this,arguments)}return Me(Ge,[{key:"_defaults",get:function(){return U.defaults}},{key:"set",value:function(ut){return za(Ro(Ge.prototype),"set",this).call(this,ut),U.fire("interactable:set",{options:ut,interactable:this}),this}},{key:"unset",value:function(){za(Ro(Ge.prototype),"unset",this).call(this);var ut=U.interactables.list.indexOf(this);ut<0||(za(Ro(Ge.prototype),"unset",this).call(this),U.interactables.list.splice(ut,1),U.fire("interactable:unset",{interactable:this}))}}]),Ge}(Le.Interactable)}return Me(re,[{key:"addListeners",value:function(U,K){this.listenerMaps.push({id:K,map:U})}},{key:"fire",value:function(U,K){for(var Q=0;Q<this.listenerMaps.length;Q++){var ye=this.listenerMaps[Q].map[U];if(ye&&ye(K,this,U)===!1)return!1}}},{key:"init",value:function(U){return this.isInitialized?this:ht(this,U)}},{key:"pluginIsInstalled",value:function(U){return this._plugins.map[U.id]||this._plugins.list.indexOf(U)!==-1}},{key:"usePlugin",value:function(U,K){if(!this.isInitialized)return this;if(this.pluginIsInstalled(U))return this;if(U.id&&(this._plugins.map[U.id]=U),this._plugins.list.push(U),U.install&&U.install(this,K),U.listeners&&U.before){for(var Q=0,ye=this.listenerMaps.length,Ee=U.before.reduce(function(Ue,ut){return Ue[ut]=!0,Ue[Vt(ut)]=!0,Ue},{});Q<ye;Q++){var Ge=this.listenerMaps[Q].id;if(Ee[Ge]||Ee[Vt(Ge)])break}this.listenerMaps.splice(Q,0,{id:U.id,map:U.listeners})}else U.listeners&&this.listenerMaps.push({id:U.id,map:U.listeners});return this}},{key:"addDocument",value:function(U,K){if(this.getDocIndex(U)!==-1)return!1;var Q=Tn.getWindow(U);K=K?(0,bt.default)({},K):{},this.documents.push({doc:U,options:K}),this.events.documents.push(U),U!==this.document&&this.events.add(Q,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:U,window:Q,scope:this,options:K})}},{key:"removeDocument",value:function(U){var K=this.getDocIndex(U),Q=Tn.getWindow(U),ye=this.documents[K].options;this.events.remove(Q,"unload",this.onWindowUnload),this.documents.splice(K,1),this.events.documents.splice(K,1),this.fire("scope:remove-document",{doc:U,window:Q,scope:this,options:ye})}},{key:"getDocIndex",value:function(U){for(var K=0;K<this.documents.length;K++)if(this.documents[K].doc===U)return K;return-1}},{key:"getDocOptions",value:function(U){var K=this.getDocIndex(U);return K===-1?null:this.documents[K].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),re}();ca.Scope=rd;var Mi={};Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.default=void 0;var da=new ca.Scope,id=da.interactStatic;Mi.default=id;var od=(typeof globalThis=="undefined"?"undefined":_typeof(globalThis))<"u"?globalThis:(typeof window=="undefined"?"undefined":_typeof(window))<"u"?window:void 0;da.init(od);var mo={};Object.defineProperty(mo,"__esModule",{value:!0}),mo.default=void 0,mo.default=function(){};var go={};Object.defineProperty(go,"__esModule",{value:!0}),go.default=void 0,go.default=function(){};var kl={};Object.defineProperty(kl,"__esModule",{value:!0}),kl.default=void 0,kl.default=function(re){var M=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(K){var Q=$t(K,2),ye=Q[0],Ee=Q[1];return ye in re||Ee in re}),U=function(Q,ye){for(var Ee=re.range,Ge=re.limits,Ue=Ge===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:Ge,ut=re.offset,wt=ut===void 0?{x:0,y:0}:ut,Gt={range:Ee,grid:re,x:null,y:null},Qt=0;Qt<M.length;Qt++){var mn=$t(M[Qt],2),tn=mn[0],Bn=mn[1],Xn=Math.round((Q-wt.x)/re[tn]),zn=Math.round((ye-wt.y)/re[Bn]);Gt[tn]=Math.max(Ue.left,Math.min(Ue.right,Xn*re[tn]+wt.x)),Gt[Bn]=Math.max(Ue.top,Math.min(Ue.bottom,zn*re[Bn]+wt.y))}return Gt};return U.grid=re,U.coordFields=M,U};var js={};Object.defineProperty(js,"__esModule",{value:!0}),Object.defineProperty(js,"edgeTarget",{enumerable:!0,get:function(){return mo.default}}),Object.defineProperty(js,"elements",{enumerable:!0,get:function(){return go.default}}),Object.defineProperty(js,"grid",{enumerable:!0,get:function(){return kl.default}});var xl={};Object.defineProperty(xl,"__esModule",{value:!0}),xl.default=void 0;var Nk={id:"snappers",install:function(M){var U=M.interactStatic;U.snappers=(0,bt.default)(U.snappers||{},js),U.createSnapGrid=U.snappers.grid}},ad=Nk;xl.default=ad;var ha={};Object.defineProperty(ha,"__esModule",{value:!0}),ha.default=ha.aspectRatio=void 0;var hn={start:function(M){var U=M.state,K=M.rect,Q=M.edges,ye=M.pageCoords,Ee=U.options,Ge=Ee.ratio,Ue=Ee.enabled,ut=U.options,wt=ut.equalDelta,Gt=ut.modifiers;Ge==="preserve"&&(Ge=K.width/K.height),U.startCoords=(0,bt.default)({},ye),U.startRect=(0,bt.default)({},K),U.ratio=Ge,U.equalDelta=wt;var Qt=U.linkedEdges={top:Q.top||Q.left&&!Q.bottom,left:Q.left||Q.top&&!Q.right,bottom:Q.bottom||Q.right&&!Q.top,right:Q.right||Q.bottom&&!Q.left};if(U.xIsPrimaryAxis=!(!Q.left&&!Q.right),U.equalDelta){var mn=(Qt.left?1:-1)*(Qt.top?1:-1);U.edgeSign={x:mn,y:mn}}else U.edgeSign={x:Qt.left?-1:1,y:Qt.top?-1:1};if(Ue!==!1&&(0,bt.default)(Q,Qt),Gt!=null&&Gt.length){var tn=new ne.default(M.interaction);tn.copyFrom(M.interaction.modification),tn.prepareStates(Gt),U.subModification=tn,tn.startAll(Bt({},M))}},set:function(M){var U=M.state,K=M.rect,Q=M.coords,ye=U.linkedEdges,Ee=(0,bt.default)({},Q),Ge=U.equalDelta?cn:It;if((0,bt.default)(M.edges,ye),Ge(U,U.xIsPrimaryAxis,Q,K),!U.subModification)return null;var Ue=(0,bt.default)({},K);(0,ln.addEdges)(ye,Ue,{x:Q.x-Ee.x,y:Q.y-Ee.y});var ut=U.subModification.setAll(Bt(Bt({},M),{},{rect:Ue,edges:ye,pageCoords:Q,prevCoords:Q,prevRect:Ue})),wt=ut.delta;return ut.changed&&(Ge(U,Math.abs(wt.x)>Math.abs(wt.y),ut.coords,ut.rect),(0,bt.default)(Q,ut.coords)),ut.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};ha.aspectRatio=hn;var Ot=(0,Ie.makeModifier)(hn,"aspectRatio");ha.default=Ot;var Wt={};Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.default=void 0;var rn=function(){};rn._defaults={};var Rn=rn;Wt.default=Rn;var _n={};Object.defineProperty(_n,"__esModule",{value:!0}),Object.defineProperty(_n,"default",{enumerable:!0,get:function(){return Wt.default}});var kn={};Object.defineProperty(kn,"__esModule",{value:!0}),kn.default=void 0,kn.getRestrictionRect=nn,kn.restrict=void 0;var En={start:function(M){var U=M.rect,K=M.startOffset,Q=M.state,ye=M.interaction,Ee=M.pageCoords,Ge=Q.options,Ue=Ge.elementRect,ut=(0,bt.default)({left:0,top:0,right:0,bottom:0},Ge.offset||{});if(U&&Ue){var wt=nn(Ge.restriction,ye,Ee);if(wt){var Gt=wt.right-wt.left-U.width,Qt=wt.bottom-wt.top-U.height;Gt<0&&(ut.left+=Gt,ut.right+=Gt),Qt<0&&(ut.top+=Qt,ut.bottom+=Qt)}ut.left+=K.left-U.width*Ue.left,ut.top+=K.top-U.height*Ue.top,ut.right+=K.right-U.width*(1-Ue.right),ut.bottom+=K.bottom-U.height*(1-Ue.bottom)}Q.offset=ut},set:function(M){var U=M.coords,K=M.interaction,Q=M.state,ye=Q.options,Ee=Q.offset,Ge=nn(ye.restriction,K,U);if(Ge){var Ue=ln.xywhToTlbr(Ge);U.x=Math.max(Math.min(Ue.right-Ee.right,U.x),Ue.left+Ee.left),U.y=Math.max(Math.min(Ue.bottom-Ee.bottom,U.y),Ue.top+Ee.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};kn.restrict=En;var ir=(0,Ie.makeModifier)(En,"restrict");kn.default=ir;var Gn={};Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.restrictEdges=Gn.default=void 0;var yr={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Ir={top:-1/0,left:-1/0,bottom:1/0,right:1/0},Lr={noInner:yr,noOuter:Ir,start:function(M){var U,K=M.interaction,Q=M.startOffset,ye=M.state,Ee=ye.options;if(Ee){var Ge=(0,kn.getRestrictionRect)(Ee.offset,K,K.coords.start.page);U=ln.rectToXY(Ge)}U=U||{x:0,y:0},ye.offset={top:U.y+Q.top,left:U.x+Q.left,bottom:U.y-Q.bottom,right:U.x-Q.right}},set:function(M){var U=M.coords,K=M.edges,Q=M.interaction,ye=M.state,Ee=ye.offset,Ge=ye.options;if(K){var Ue=(0,bt.default)({},U),ut=(0,kn.getRestrictionRect)(Ge.inner,Q,Ue)||{},wt=(0,kn.getRestrictionRect)(Ge.outer,Q,Ue)||{};Kt(ut,yr),Kt(wt,Ir),K.top?U.y=Math.min(Math.max(wt.top+Ee.top,Ue.y),ut.top+Ee.top):K.bottom&&(U.y=Math.max(Math.min(wt.bottom+Ee.bottom,Ue.y),ut.bottom+Ee.bottom)),K.left?U.x=Math.min(Math.max(wt.left+Ee.left,Ue.x),ut.left+Ee.left):K.right&&(U.x=Math.max(Math.min(wt.right+Ee.right,Ue.x),ut.right+Ee.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};Gn.restrictEdges=Lr;var ei=(0,Ie.makeModifier)(Lr,"restrictEdges");Gn.default=ei;var ti={};Object.defineProperty(ti,"__esModule",{value:!0}),ti.restrictRect=ti.default=void 0;var Nr=(0,bt.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(re){}},kn.restrict.defaults),vi={start:kn.restrict.start,set:kn.restrict.set,defaults:Nr};ti.restrictRect=vi;var Zi=(0,Ie.makeModifier)(vi,"restrictRect");ti.default=Zi;var Kr={};Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.restrictSize=Kr.default=void 0;var fa={width:-1/0,height:-1/0},Sl={width:1/0,height:1/0},Fa={start:function(M){return Gn.restrictEdges.start(M)},set:function(M){var U=M.interaction,K=M.state,Q=M.rect,ye=M.edges,Ee=K.options;if(ye){var Ge=ln.tlbrToXywh((0,kn.getRestrictionRect)(Ee.min,U,M.coords))||fa,Ue=ln.tlbrToXywh((0,kn.getRestrictionRect)(Ee.max,U,M.coords))||Sl;K.options={endOnly:Ee.endOnly,inner:(0,bt.default)({},Gn.restrictEdges.noInner),outer:(0,bt.default)({},Gn.restrictEdges.noOuter)},ye.top?(K.options.inner.top=Q.bottom-Ge.height,K.options.outer.top=Q.bottom-Ue.height):ye.bottom&&(K.options.inner.bottom=Q.top+Ge.height,K.options.outer.bottom=Q.top+Ue.height),ye.left?(K.options.inner.left=Q.right-Ge.width,K.options.outer.left=Q.right-Ue.width):ye.right&&(K.options.inner.right=Q.left+Ge.width,K.options.outer.right=Q.left+Ue.width),Gn.restrictEdges.set(M),K.options=Ee}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};Kr.restrictSize=Fa;var eo=(0,Ie.makeModifier)(Fa,"restrictSize");Kr.default=eo;var Bk={};Object.defineProperty(Bk,"__esModule",{value:!0}),Object.defineProperty(Bk,"default",{enumerable:!0,get:function(){return Wt.default}});var Es={};Object.defineProperty(Es,"__esModule",{value:!0}),Es.snap=Es.default=void 0;var sT={start:function(M){var U,K=M.interaction,Q=M.interactable,ye=M.element,Ee=M.rect,Ge=M.state,Ue=M.startOffset,ut=Ge.options,wt=ut.offsetWithOrigin?function(mn){var tn=mn.interaction.element;return(0,ln.rectToXY)((0,ln.resolveRectLike)(mn.state.options.origin,null,null,[tn]))||(0,fn.default)(mn.interactable,tn,mn.interaction.prepared.name)}(M):{x:0,y:0};if(ut.offset==="startCoords")U={x:K.coords.start.page.x,y:K.coords.start.page.y};else{var Gt=(0,ln.resolveRectLike)(ut.offset,Q,ye,[K]);(U=(0,ln.rectToXY)(Gt)||{x:0,y:0}).x+=wt.x,U.y+=wt.y}var Qt=ut.relativePoints;Ge.offsets=Ee&&Qt&&Qt.length?Qt.map(function(mn,tn){return{index:tn,relativePoint:mn,x:Ue.left-Ee.width*mn.x+U.x,y:Ue.top-Ee.height*mn.y+U.y}}):[{index:0,relativePoint:null,x:U.x,y:U.y}]},set:function(M){var U=M.interaction,K=M.coords,Q=M.state,ye=Q.options,Ee=Q.offsets,Ge=(0,fn.default)(U.interactable,U.element,U.prepared.name),Ue=(0,bt.default)({},K),ut=[];ye.offsetWithOrigin||(Ue.x-=Ge.x,Ue.y-=Ge.y);for(var wt=0;wt<Ee.length;wt++)for(var Gt=Ee[wt],Qt=Ue.x-Gt.x,mn=Ue.y-Gt.y,tn=0,Bn=ye.targets.length;tn<Bn;tn++){var Xn,zn=ye.targets[tn];(Xn=ue.default.func(zn)?zn(Qt,mn,U._proxy,Gt,tn):zn)&&ut.push({x:(ue.default.number(Xn.x)?Xn.x:Qt)+Gt.x,y:(ue.default.number(Xn.y)?Xn.y:mn)+Gt.y,range:ue.default.number(Xn.range)?Xn.range:ye.range,source:zn,index:tn,offset:Gt})}for(var Kn={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},fr=0;fr<ut.length;fr++){var Er=ut[fr],Vr=Er.range,Jr=Er.x-Ue.x,Li=Er.y-Ue.y,yi=(0,lr.default)(Jr,Li),zr=yi<=Vr;Vr===1/0&&Kn.inRange&&Kn.range!==1/0&&(zr=!1),Kn.target&&!(zr?Kn.inRange&&Vr!==1/0?yi/Vr<Kn.distance/Kn.range:Vr===1/0&&Kn.range!==1/0||yi<Kn.distance:!Kn.inRange&&yi<Kn.distance)||(Kn.target=Er,Kn.distance=yi,Kn.range=Vr,Kn.inRange=zr,Kn.delta.x=Jr,Kn.delta.y=Li)}return Kn.inRange&&(K.x=Kn.target.x,K.y=Kn.target.y),Q.closest=Kn,Kn},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};Es.snap=sT;var TM=(0,Ie.makeModifier)(sT,"snap");Es.default=TM;var Ha={};Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.snapSize=Ha.default=void 0;var lT={start:function(M){var U=M.state,K=M.edges,Q=U.options;if(!K)return null;M.state={options:{targets:null,relativePoints:[{x:K.left?0:1,y:K.top?0:1}],offset:Q.offset||"self",origin:{x:0,y:0},range:Q.range}},U.targetFields=U.targetFields||[["width","height"],["x","y"]],Es.snap.start(M),U.offsets=M.state.offsets,M.state=U},set:function(M){var U,K=M.interaction,Q=M.state,ye=M.coords,Ee=Q.options,Ge=Q.offsets,Ue={x:ye.x-Ge[0].x,y:ye.y-Ge[0].y};Q.options=(0,bt.default)({},Ee),Q.options.targets=[];for(var ut=0;ut<(Ee.targets||[]).length;ut++){var wt=(Ee.targets||[])[ut],Gt=void 0;if(Gt=ue.default.func(wt)?wt(Ue.x,Ue.y,K):wt){for(var Qt=0;Qt<Q.targetFields.length;Qt++){var mn=function(zn){if(Array.isArray(zn))return zn}(U=Q.targetFields[Qt])||function(zn,Kn){var fr=zn==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&zn[Symbol.iterator]||zn["@@iterator"];if(fr!=null){var Er,Vr,Jr=[],Li=!0,yi=!1;try{for(fr=fr.call(zn);!(Li=(Er=fr.next()).done)&&(Jr.push(Er.value),Jr.length!==2);Li=!0);}catch(zr){yi=!0,Vr=zr}finally{try{Li||fr.return==null||fr.return()}finally{if(yi)throw Vr}}return Jr}}(U)||function(zn,Kn){if(zn){if(typeof zn=="string")return Pn(zn,2);var fr=Object.prototype.toString.call(zn).slice(8,-1);return fr==="Object"&&zn.constructor&&(fr=zn.constructor.name),fr==="Map"||fr==="Set"?Array.from(zn):fr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(fr)?Pn(zn,2):void 0}}(U)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),tn=mn[0],Bn=mn[1];if(tn in Gt||Bn in Gt){Gt.x=Gt[tn],Gt.y=Gt[Bn];break}}Q.options.targets.push(Gt)}}var Xn=Es.snap.set(M);return Q.options=Ee,Xn},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};Ha.snapSize=lT;var PM=(0,Ie.makeModifier)(lT,"snapSize");Ha.default=PM;var zu={};Object.defineProperty(zu,"__esModule",{value:!0}),zu.snapEdges=zu.default=void 0;var uT={start:function(M){var U=M.edges;return U?(M.state.targetFields=M.state.targetFields||[[U.left?"left":"right",U.top?"top":"bottom"]],Ha.snapSize.start(M)):null},set:Ha.snapSize.set,defaults:(0,bt.default)((0,W.default)(Ha.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};zu.snapEdges=uT;var IM=(0,Ie.makeModifier)(uT,"snapEdges");zu.default=IM;var zk={};Object.defineProperty(zk,"__esModule",{value:!0}),Object.defineProperty(zk,"default",{enumerable:!0,get:function(){return Wt.default}});var Fk={};Object.defineProperty(Fk,"__esModule",{value:!0}),Object.defineProperty(Fk,"default",{enumerable:!0,get:function(){return Wt.default}});var Fu={};Object.defineProperty(Fu,"__esModule",{value:!0}),Fu.default=void 0;var MM={aspectRatio:ha.default,restrictEdges:Gn.default,restrict:kn.default,restrictRect:ti.default,restrictSize:Kr.default,snapEdges:zu.default,snap:Es.default,snapSize:Ha.default,spring:zk.default,avoid:_n.default,transform:Fk.default,rubberband:Bk.default};Fu.default=MM;var sd={};Object.defineProperty(sd,"__esModule",{value:!0}),sd.default=void 0;var LM={id:"modifiers",install:function(M){var U=M.interactStatic;for(var K in M.usePlugin(Ie.default),M.usePlugin(xl.default),U.modifiers=Fu.default,Fu.default){var Q=Fu.default[K],ye=Q._defaults,Ee=Q._methods;ye._methods=Ee,M.defaults.perAction[K]=ye}}},RM=LM;sd.default=RM;var Cl={};function Hk(re){return Hk=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(U){return typeof U=="undefined"?"undefined":_typeof(U)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M=="undefined"?"undefined":_typeof(M)},Hk(re)}function Uk(re,M){return Uk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(K,Q){return K.__proto__=Q,K},Uk(re,M)}function up(re){return up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(U){return U.__proto__||Object.getPrototypeOf(U)},up(re)}Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.default=Cl.PointerEvent=void 0;var DM=function(re){(function(Ge,Ue){if(typeof Ue!="function"&&Ue!==null)throw new TypeError("Super expression must either be null or a function");Ge.prototype=Object.create(Ue&&Ue.prototype,{constructor:{value:Ge,writable:!0,configurable:!0}}),Object.defineProperty(Ge,"prototype",{writable:!1}),Ue&&Uk(Ge,Ue)})(Ee,re);var M,U,K,Q,ye=(K=Ee,Q=function(){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ge){return!1}}(),function(){var Ue,ut=up(K);if(Q){var wt=up(this).constructor;Ue=Reflect.construct(ut,arguments,wt)}else Ue=ut.apply(this,arguments);return function(Gt,Qt){if(Qt&&(Hk(Qt)==="object"||typeof Qt=="function"))return Qt;if(Qt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xt(Gt)}(this,Ue)});function Ee(Ge,Ue,ut,wt,Gt,Qt){var mn;if(function(Xn,zn){if(!_instanceof(Xn,zn))throw new TypeError("Cannot call a class as a function")}(this,Ee),mn=ye.call(this,Gt),Dn.pointerExtend(Xt(mn),ut),ut!==Ue&&Dn.pointerExtend(Xt(mn),Ue),mn.timeStamp=Qt,mn.originalEvent=ut,mn.type=Ge,mn.pointerId=Dn.getPointerId(Ue),mn.pointerType=Dn.getPointerType(Ue),mn.target=wt,mn.currentTarget=null,Ge==="tap"){var tn=Gt.getPointerIndex(Ue);mn.dt=mn.timeStamp-Gt.pointers[tn].downTime;var Bn=mn.timeStamp-Gt.tapTime;mn.double=!!Gt.prevTap&&Gt.prevTap.type!=="doubletap"&&Gt.prevTap.target===mn.target&&Bn<500}else Ge==="doubletap"&&(mn.dt=Ue.timeStamp-Gt.tapTime,mn.double=!0);return mn}return M=Ee,(U=[{key:"_subtractOrigin",value:function(Ue){var ut=Ue.x,wt=Ue.y;return this.pageX-=ut,this.pageY-=wt,this.clientX-=ut,this.clientY-=wt,this}},{key:"_addOrigin",value:function(Ue){var ut=Ue.x,wt=Ue.y;return this.pageX+=ut,this.pageY+=wt,this.clientX+=ut,this.clientY+=wt,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&function(Ge,Ue){for(var ut=0;ut<Ue.length;ut++){var wt=Ue[ut];wt.enumerable=wt.enumerable||!1,wt.configurable=!0,"value"in wt&&(wt.writable=!0),Object.defineProperty(Ge,wt.key,wt)}}(M.prototype,U),Object.defineProperty(M,"prototype",{writable:!1}),Ee}(pi.BaseEvent);Cl.PointerEvent=Cl.default=DM;var ld={};Object.defineProperty(ld,"__esModule",{value:!0}),ld.default=void 0;var cp={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(M){M.pointerEvents=cp,M.defaults.actions.pointerEvents=cp.defaults,(0,bt.default)(M.actions.phaselessTypes,cp.types)},listeners:{"interactions:new":function(re){var M=re.interaction;M.prevTap=null,M.tapTime=0},"interactions:update-pointer":function(re){var M=re.down,U=re.pointerInfo;!M&&U.hold||(U.hold={duration:1/0,timeout:null})},"interactions:move":function(re,M){var U=re.interaction,K=re.pointer,Q=re.event,ye=re.eventTarget;re.duplicate||U.pointerIsDown&&!U.pointerWasMoved||(U.pointerIsDown&&Fn(re),Ts({interaction:U,pointer:K,event:Q,eventTarget:ye,type:"move"},M))},"interactions:down":function(re,M){(function(U,K){for(var Q=U.interaction,ye=U.pointer,Ee=U.event,Ge=U.eventTarget,Ue=U.pointerIndex,ut=Q.pointers[Ue].hold,wt=yt.getPath(Ge),Gt={interaction:Q,pointer:ye,event:Ee,eventTarget:Ge,type:"hold",targets:[],path:wt,node:null},Qt=0;Qt<wt.length;Qt++){var mn=wt[Qt];Gt.node=mn,K.fire("pointerEvents:collect-targets",Gt)}if(Gt.targets.length){for(var tn=1/0,Bn=0;Bn<Gt.targets.length;Bn++){var Xn=Gt.targets[Bn].eventable.options.holdDuration;Xn<tn&&(tn=Xn)}ut.duration=tn,ut.timeout=setTimeout(function(){Ts({interaction:Q,eventTarget:Ge,pointer:ye,event:Ee,type:"hold"},K)},tn)}})(re,M),Ts(re,M)},"interactions:up":function(re,M){Fn(re),Ts(re,M),function(U,K){var Q=U.interaction,ye=U.pointer,Ee=U.event,Ge=U.eventTarget;Q.pointerWasMoved||Ts({interaction:Q,eventTarget:Ge,pointer:ye,event:Ee,type:"tap"},K)}(re,M)},"interactions:cancel":function(re,M){Fn(re),Ts(re,M)}},PointerEvent:Cl.PointerEvent,fire:Ts,collectEventTargets:ar,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function Ts(re,M){var U=re.interaction,K=re.pointer,Q=re.event,ye=re.eventTarget,Ee=re.type,Ge=re.targets,Ue=Ge===void 0?ar(re,M):Ge,ut=new Cl.PointerEvent(Ee,K,Q,ye,U,M.now());M.fire("pointerEvents:new",{pointerEvent:ut});for(var wt={interaction:U,pointer:K,event:Q,eventTarget:ye,targets:Ue,type:Ee,pointerEvent:ut},Gt=0;Gt<Ue.length;Gt++){var Qt=Ue[Gt];for(var mn in Qt.props||{})ut[mn]=Qt.props[mn];var tn=(0,fn.default)(Qt.eventable,Qt.node);if(ut._subtractOrigin(tn),ut.eventable=Qt.eventable,ut.currentTarget=Qt.node,Qt.eventable.fire(ut),ut._addOrigin(tn),ut.immediatePropagationStopped||ut.propagationStopped&&Gt+1<Ue.length&&Ue[Gt+1].node!==ut.currentTarget)break}if(M.fire("pointerEvents:fired",wt),Ee==="tap"){var Bn=ut.double?Ts({interaction:U,pointer:K,event:Q,eventTarget:ye,type:"doubletap"},M):ut;U.prevTap=Bn,U.tapTime=Bn.timeStamp}return ut}var $M=cp;ld.default=$M;var dp={};Object.defineProperty(dp,"__esModule",{value:!0}),dp.default=void 0;var NM={id:"pointer-events/holdRepeat",install:function(M){M.usePlugin(ld.default);var U=M.pointerEvents;U.defaults.holdRepeatInterval=0,U.types.holdrepeat=M.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(re,M){return re["pointerEvents:".concat(M)]=Qn,re},{"pointerEvents:new":function(re){var M=re.pointerEvent;M.type==="hold"&&(M.count=(M.count||0)+1)},"pointerEvents:fired":function(re,M){var U=re.interaction,K=re.pointerEvent,Q=re.eventTarget,ye=re.targets;if(K.type==="hold"&&ye.length){var Ee=ye[0].eventable.options.holdRepeatInterval;Ee<=0||(U.holdIntervalHandle=setTimeout(function(){M.pointerEvents.fire({interaction:U,eventTarget:Q,type:"hold",pointer:K,event:K},M)},Ee))}}})},BM=NM;dp.default=BM;var hp={};Object.defineProperty(hp,"__esModule",{value:!0}),hp.default=void 0;var zM={id:"pointer-events/interactableTargets",install:function(M){var U=M.Interactable;U.prototype.pointerEvents=en;var K=U.prototype._backCompatOption;U.prototype._backCompatOption=function(Q,ye){var Ee=K.call(this,Q,ye);return Ee===this&&(this.events.options[Q]=ye),Ee}},listeners:{"pointerEvents:collect-targets":function(re,M){var U=re.targets,K=re.node,Q=re.type,ye=re.eventTarget;M.interactables.forEachMatch(K,function(Ee){var Ge=Ee.events,Ue=Ge.options;Ge.types[Q]&&Ge.types[Q].length&&Ee.testIgnoreAllow(Ue,K,ye)&&U.push({node:K,eventable:Ge,props:{interactable:Ee}})})},"interactable:new":function(re){var M=re.interactable;M.events.getRect=function(U){return M.getRect(U)}},"interactable:set":function(re,M){var U=re.interactable,K=re.options;(0,bt.default)(U.events.options,M.pointerEvents.defaults),(0,bt.default)(U.events.options,K.pointerEvents||{})}}},FM=zM;hp.default=FM;var ud={};Object.defineProperty(ud,"__esModule",{value:!0}),ud.default=void 0;var HM={id:"pointer-events",install:function(M){M.usePlugin(ld),M.usePlugin(dp.default),M.usePlugin(hp.default)}},UM=HM;ud.default=UM;var Hu={};Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.default=void 0,Hu.install=bn;var VM={id:"reflow",install:bn,listeners:{"interactions:stop":function(re,M){var U=re.interaction;U.pointerType==="reflow"&&(U._reflowResolve&&U._reflowResolve(),Rr.remove(M.interactions.list,U))}}},WM=VM;Hu.default=WM;var Al={};Object.defineProperty(Al,"__esModule",{value:!0}),Al.default=void 0,Mi.default.use(dn.default),Mi.default.use(rr.default),Mi.default.use(ud.default),Mi.default.use(hr.default),Mi.default.use(sd.default),Mi.default.use(Rt.default),Mi.default.use(ko.default),Mi.default.use(xo.default),Mi.default.use(Hu.default);var qM=Mi.default;Al.default=qM,Mi.default.default=Mi.default,ko.default,xo.default,Rt.default,dn.default,L.default,hr.default,Mi.default,sd.default,rr.default,ud.default,Hu.default;var Ol={exports:{}};function Vk(re){return Vk=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(U){return typeof U=="undefined"?"undefined":_typeof(U)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M=="undefined"?"undefined":_typeof(M)},Vk(re)}Object.defineProperty(Ol.exports,"__esModule",{value:!0}),Ol.exports.default=void 0;var GM=Al.default;if(Ol.exports.default=GM,Vk(Ol)==="object"&&Ol)try{Ol.exports=Al.default}catch(re){}return Al.default.default=Al.default,Ol.exports}()},4638:function(a,s,r){(function(d,c,h){var f=function(te,Jt,Ft){var Yt=c.createElement(te);return Jt&&(Yt.id=be+Jt),Ft&&(Yt.style.cssText=Ft),d(Yt)},v=function(){return h.innerHeight?h.innerHeight:d(h).height()},b=function(te,Jt){Jt!==Object(Jt)&&(Jt={}),this.cache={},this.el=te,this.value=function(Ft){var Yt;return this.cache[Ft]===void 0&&((Yt=d(this.el).attr("data-cbox-"+Ft))!==void 0?this.cache[Ft]=Yt:Jt[Ft]!==void 0?this.cache[Ft]=Jt[Ft]:lt[Ft]!==void 0&&(this.cache[Ft]=lt[Ft])),this.cache[Ft]},this.get=function(Ft){var Yt=this.value(Ft);return d.isFunction(Yt)?Yt.call(this.el,this):Yt}},w=function(te){var Jt=V.length,Ft=(Ae+te)%Jt;return Ft<0?Jt+Ft:Ft},k=function(te,Jt){return Math.round((/%/.test(te)?(Jt==="x"?q.width():v())/100:1)*parseInt(te,10))},C=function(te,Jt){return te.get("photo")||te.get("photoRegex").test(Jt)},E=function(te,Jt){return te.get("retinaUrl")&&h.devicePixelRatio>1?Jt.replace(te.get("photoRegex"),te.get("retinaSuffix")):Jt},A=function(te){"contains"in m[0]&&!m[0].contains(te.target)&&te.target!==p[0]&&(te.stopPropagation(),m.focus())},j=function(te){d(c).trigger(te),nt.triggerHandler(te)},y=function(te){var Jt,Ft;if(!Ve){if(Jt=d(te).data(_t),de=new b(te,Jt),Ft=de.get("rel"),Ae=0,Ft&&Ft!==!1&&Ft!=="nofollow"?(V=d("."+ze).filter(function(){return new b(this,d.data(this,_t)).get("rel")===Ft}),(Ae=V.index(de.el))===-1&&(V=V.add(de.el),Ae=V.length-1)):V=d(de.el),!De){De=et=!0,Mt(de.get("className")),m.css({visibility:"hidden",display:"block",opacity:""}),z=f(rt,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),x.css({width:"",height:""}).append(z),Be=O.height()+D.height()+x.outerHeight(!0)-x.height(),it=I.width()+P.width()+x.outerWidth(!0)-x.width(),mt=z.outerHeight(!0),ot=z.outerWidth(!0);var Yt=k(de.get("initialWidth"),"x"),N=k(de.get("initialHeight"),"y"),Ze=de.get("maxWidth"),ge=de.get("maxHeight");de.w=Math.max((Ze!==!1?Math.min(Yt,k(Ze,"x")):Yt)-ot-it,0),de.h=Math.max((ge!==!1?Math.min(N,k(ge,"y")):N)-mt-Be,0),z.css({width:"",height:de.h}),He.position(),j(Re),de.get("onOpen"),ve.add(B).hide(),m.focus(),de.get("trapFocus")&&c.addEventListener&&(c.addEventListener("focus",A,!0),nt.one(Ct,function(){c.removeEventListener("focus",A,!0)})),de.get("returnFocus")&&nt.one(Ct,function(){d(de.el).focus()})}var ie=parseFloat(de.get("opacity"));p.css({opacity:ie==ie?ie:"",cursor:de.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),de.get("closeButton")?se.html(de.get("close")).appendTo(x):se.appendTo("<div/>"),function(){var G,H,Z,oe=He.prep,me=++ct;if(et=!0,xe=!1,j(gt),j($e),de.get("onLoad"),de.h=de.get("height")?k(de.get("height"),"y")-mt-Be:de.get("innerHeight")&&k(de.get("innerHeight"),"y"),de.w=de.get("width")?k(de.get("width"),"x")-ot-it:de.get("innerWidth")&&k(de.get("innerWidth"),"x"),de.mw=de.w,de.mh=de.h,de.get("maxWidth")&&(de.mw=k(de.get("maxWidth"),"x")-ot-it,de.mw=de.w&&de.w<de.mw?de.w:de.mw),de.get("maxHeight")&&(de.mh=k(de.get("maxHeight"),"y")-mt-Be,de.mh=de.h&&de.h<de.mh?de.h:de.mh),G=de.get("href"),je=setTimeout(function(){Y.show()},100),de.get("inline")){var Oe=d(G).eq(0);Z=d("<div>").hide().insertBefore(Oe),nt.one(gt,function(){Z.replaceWith(Oe)}),oe(Oe)}else de.get("iframe")?oe(" "):de.get("html")?oe(de.get("html")):C(de,G)?(G=E(de,G),xe=de.get("createImg"),d(xe).addClass(be+"Photo").bind("error."+be,function(){oe(f(rt,"Error").html(de.get("imgError")))}).one("load",function(){me===ct&&setTimeout(function(){var Pe;de.get("retinaImage")&&h.devicePixelRatio>1&&(xe.height=xe.height/h.devicePixelRatio,xe.width=xe.width/h.devicePixelRatio),de.get("scalePhotos")&&(H=function(){xe.height-=xe.height*Pe,xe.width-=xe.width*Pe},de.mw&&xe.width>de.mw&&(Pe=(xe.width-de.mw)/xe.width,H()),de.mh&&xe.height>de.mh&&(Pe=(xe.height-de.mh)/xe.height,H())),de.h&&(xe.style.marginTop=Math.max(de.mh-xe.height,0)/2+"px"),V[1]&&(de.get("loop")||V[Ae+1])&&(xe.style.cursor="pointer",d(xe).bind("click."+be,function(){He.next()})),xe.style.width=xe.width+"px",xe.style.height=xe.height+"px",oe(xe)},1)}),xe.src=G):G&&he.load(G,de.get("data"),function(Pe,Xe){me===ct&&oe(Xe==="error"?f(rt,"Error").html(de.get("xhrError")):d(this).contents())})}()}},u=function(){m||(qe=!1,q=d(h),m=f(rt).attr({id:_t,class:d.support.opacity===!1?be+"IE":"",role:"dialog",tabindex:"-1"}).hide(),p=f(rt,"Overlay").hide(),Y=d([f(rt,"LoadingOverlay")[0],f(rt,"LoadingGraphic")[0]]),_=f(rt,"Wrapper"),x=f(rt,"Content").append(B=f(rt,"Title"),F=f(rt,"Current"),ae=d('<button type="button"/>').attr({id:be+"Previous"}),J=d('<button type="button"/>').attr({id:be+"Next"}),ce=d('<button type="button"/>').attr({id:be+"Slideshow"}),Y),se=d('<button type="button"/>').attr({id:be+"Close"}),_.append(f(rt).append(f(rt,"TopLeft"),O=f(rt,"TopCenter"),f(rt,"TopRight")),f(rt,!1,"clear:left").append(I=f(rt,"MiddleLeft"),x,P=f(rt,"MiddleRight")),f(rt,!1,"clear:left").append(f(rt,"BottomLeft"),D=f(rt,"BottomCenter"),f(rt,"BottomRight"))).find("div div").css({float:"left"}),he=f(rt,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),ve=J.add(ae).add(F).add(ce)),c.body&&!m.parent().length&&d(c.body).append(p,m.append(_,he))},p,m,_,x,O,I,P,D,V,q,z,he,Y,B,F,ce,J,ae,se,ve,de,Be,it,mt,ot,Ae,xe,De,et,Ve,je,He,qe,lt={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return d(this).attr("href")},title:function(){return this.title},createImg:function(){var te=new Image,Jt=d(this).data("cbox-img-attrs");return typeof Jt=="object"&&d.each(Jt,function(Ft,Yt){te[Ft]=Yt}),te},createIframe:function(){var te=c.createElement("iframe"),Jt=d(this).data("cbox-iframe-attrs");return typeof Jt=="object"&&d.each(Jt,function(Ft,Yt){te[Ft]=Yt}),"frameBorder"in te&&(te.frameBorder=0),"allowTransparency"in te&&(te.allowTransparency="true"),te.name=new Date().getTime(),te.allowFullscreen=!0,te}},_t="colorbox",be="cbox",ze=be+"Element",Re=be+"_open",$e=be+"_load",Ye=be+"_complete",We=be+"_cleanup",Ct=be+"_closed",gt=be+"_purge",nt=d("<a/>"),rt="div",ct=0,At={};function Mt(st){Mt.str!==st&&(m.add(p).removeClass(Mt.str).addClass(st),Mt.str=st)}var Lt=function(){var st=function(){clearTimeout(Ze)},te=function(){(de.get("loop")||V[Ae+1])&&(st(),Ze=setTimeout(He.next,de.get("slideshowSpeed")))},Jt=function(){ce.html(de.get("slideshowStop")).unbind(ie).one(ie,Ft),nt.bind(Ye,te).bind($e,st),m.removeClass(ge+"off").addClass(ge+"on")},Ft=function(){st(),nt.unbind(Ye,te).unbind($e,st),ce.html(de.get("slideshowStart")).unbind(ie).one(ie,function(){He.next(),Jt()}),m.removeClass(ge+"on").addClass(ge+"off")},Yt=function(){N=!1,ce.hide(),st(),nt.unbind(Ye,te).unbind($e,st),m.removeClass(ge+"off "+ge+"on")},N,Ze,ge=be+"Slideshow_",ie="click."+be;return function(){N?de.get("slideshow")||(nt.unbind(We,Yt),Yt()):de.get("slideshow")&&V[1]&&(N=!0,nt.one(We,Yt),de.get("slideshowAuto")?Jt():Ft(),ce.show())}}();d[_t]||(d(u),(He=d.fn[_t]=d[_t]=function(st,te){var Jt=this;return st=st||{},d.isFunction(Jt)&&(Jt=d("<a/>"),st.open=!0),Jt[0]&&(u(),function(){var Ft=function(N){N.which>1||N.shiftKey||N.altKey||N.metaKey||N.ctrlKey||(N.preventDefault(),y(this))};return!!m&&(qe||(qe=!0,J.click(function(){He.next()}),ae.click(function(){He.prev()}),se.click(function(){He.close()}),p.click(function(){de.get("overlayClose")&&He.close()}),d(c).bind("keydown."+be,function(Yt){var N=Yt.keyCode;De&&de.get("escKey")&&N===27&&(Yt.preventDefault(),He.close()),De&&de.get("arrowKey")&&V[1]&&!Yt.altKey&&(N===37?(Yt.preventDefault(),ae.click()):N===39&&(Yt.preventDefault(),J.click()))}),d.isFunction(d.fn.on)?d(c).on("click."+be,"."+ze,Ft):d("."+ze).live("click."+be,Ft)),!0)}()&&(te&&(st.onComplete=te),Jt.each(function(){var Ft=d.data(this,_t)||{};d.data(this,_t,d.extend(Ft,st))}).addClass(ze),new b(Jt[0],st).get("open")&&y(Jt[0]))),Jt}).position=function(st,te){var Jt=function(){O[0].style.width=D[0].style.width=x[0].style.width=parseInt(m[0].style.width,10)-it+"px",x[0].style.height=I[0].style.height=P[0].style.height=parseInt(m[0].style.height,10)-Be+"px"},Ft,Yt,N,Ze=0,ge=0,ie=m.offset();if(q.unbind("resize."+be),m.css({top:-9e4,left:-9e4}),Yt=q.scrollTop(),N=q.scrollLeft(),de.get("fixed")?(ie.top-=Yt,ie.left-=N,m.css({position:"fixed"})):(Ze=Yt,ge=N,m.css({position:"absolute"})),de.get("right")!==!1?ge+=Math.max(q.width()-de.w-ot-it-k(de.get("right"),"x"),0):de.get("left")!==!1?ge+=k(de.get("left"),"x"):ge+=Math.round(Math.max(q.width()-de.w-ot-it,0)/2),de.get("bottom")!==!1?Ze+=Math.max(v()-de.h-mt-Be-k(de.get("bottom"),"y"),0):de.get("top")!==!1?Ze+=k(de.get("top"),"y"):Ze+=Math.round(Math.max(v()-de.h-mt-Be,0)/2),m.css({top:ie.top,left:ie.left,visibility:"visible"}),_[0].style.width=_[0].style.height="9999px",Ft={width:de.w+ot+it,height:de.h+mt+Be,top:Ze,left:ge},st){var G=0;d.each(Ft,function(H){Ft[H]===At[H]||(G=st)}),st=G}At=Ft,st||m.css(Ft),m.dequeue().animate(Ft,{duration:st||0,complete:function(){Jt(),et=!1,_[0].style.width=de.w+ot+it+"px",_[0].style.height=de.h+mt+Be+"px",de.get("reposition")&&setTimeout(function(){q.bind("resize."+be,He.position)},1),d.isFunction(te)&&te()},step:Jt})},He.resize=function(st){var te;De&&((st=st||{}).width&&(de.w=k(st.width,"x")-ot-it),st.innerWidth&&(de.w=k(st.innerWidth,"x")),z.css({width:de.w}),st.height&&(de.h=k(st.height,"y")-mt-Be),st.innerHeight&&(de.h=k(st.innerHeight,"y")),st.innerHeight||st.height||(te=z.scrollTop(),z.css({height:"auto"}),de.h=z.height()),z.css({height:de.h}),te&&z.scrollTop(te),He.position(de.get("transition")==="none"?0:de.get("speed")))},He.prep=function(st){if(De){var te,Jt=de.get("transition")==="none"?0:de.get("speed");z.remove(),(z=f(rt,"LoadedContent").append(st)).hide().appendTo(he.show()).css({width:(de.w=de.w||z.width(),de.w=de.mw&&de.mw<de.w?de.mw:de.w,de.w),overflow:de.get("scrolling")?"auto":"hidden"}).css({height:(de.h=de.h||z.height(),de.h=de.mh&&de.mh<de.h?de.mh:de.h,de.h)}).prependTo(x),he.hide(),d(xe).css({float:"none"}),Mt(de.get("className")),te=function(){var Yt=function(){d.support.opacity===!1&&m[0].style.removeAttribute("filter")},N,Ze,ge=V.length;De&&(Ze=function(){clearTimeout(je),Y.hide(),j(Ye),de.get("onComplete")},B.html(de.get("title")).show(),z.show(),ge>1?(typeof de.get("current")=="string"&&F.html(de.get("current").replace("{current}",Ae+1).replace("{total}",ge)).show(),J[de.get("loop")||Ae<ge-1?"show":"hide"]().html(de.get("next")),ae[de.get("loop")||Ae?"show":"hide"]().html(de.get("previous")),Lt(),de.get("preloading")&&d.each([w(-1),w(1)],function(){var ie=V[this],G=new b(ie,d.data(ie,_t)),H=G.get("href");H&&C(G,H)&&(H=E(G,H),c.createElement("img").src=H)})):ve.hide(),de.get("iframe")?(N=de.get("createIframe"),de.get("scrolling")||(N.scrolling="no"),d(N).attr({src:de.get("href"),class:be+"Iframe"}).one("load",Ze).appendTo(z),nt.one(gt,function(){N.src="//about:blank"}),de.get("fastIframe")&&d(N).trigger("load")):Ze(),de.get("transition")==="fade"?m.fadeTo(Jt,1,Yt):Yt())},de.get("transition")==="fade"?m.fadeTo(Jt,0,function(){He.position(0,te)}):He.position(Jt,te)}},He.next=function(){!et&&V[1]&&(de.get("loop")||V[Ae+1])&&(Ae=w(1),y(V[Ae]))},He.prev=function(){!et&&V[1]&&(de.get("loop")||Ae)&&(Ae=w(-1),y(V[Ae]))},He.close=function(){De&&!Ve&&(Ve=!0,De=!1,j(We),de.get("onCleanup"),q.unbind("."+be),p.fadeTo(de.get("fadeOut")||0,0),m.stop().fadeTo(de.get("fadeOut")||0,0,function(){m.hide(),p.hide(),j(gt),z.remove(),setTimeout(function(){Ve=!1,j(Ct),de.get("onClosed")},1)}))},He.remove=function(){m&&(m.stop(),d[_t].close(),m.stop(!1,!0).remove(),p.remove(),Ve=!1,m=null,d("."+ze).removeData(_t).removeClass(ze),d(c).unbind("click."+be).unbind("keydown."+be))},He.element=function(){return d(de.el)},He.settings=lt)})(r(1669),document,window)},8497:function(a,s,r){(function(d){var c=function(k,C){if(!(k.originalEvent.touches.length>1)){k.preventDefault();var E=k.originalEvent.changedTouches[0],A=document.createEvent("MouseEvents");A.initMouseEvent(C,!0,!0,window,1,E.screenX,E.screenY,E.clientX,E.clientY,!1,!1,!1,!1,0,null),k.target.dispatchEvent(A)}};if(d.support.touch="ontouchend"in document,d.support.touch){var h,f=d.ui.mouse.prototype,v=f._mouseInit,b=f._mouseDestroy;f._touchStart=function(w){!h&&this._mouseCapture(w.originalEvent.changedTouches[0])&&(h=!0,this._touchMoved=!1,c(w,"mouseover"),c(w,"mousemove"),c(w,"mousedown"))},f._touchMove=function(w){h&&(this._touchMoved=!0,c(w,"mousemove"))},f._touchEnd=function(w){h&&(c(w,"mouseup"),c(w,"mouseout"),this._touchMoved||c(w,"click"),h=!1)},f._mouseInit=function(){var w=this;w.element.bind({touchstart:d.proxy(w,"_touchStart"),touchmove:d.proxy(w,"_touchMove"),touchend:d.proxy(w,"_touchEnd")}),v.call(w)},f._mouseDestroy=function(){var w=this;w.element.unbind({touchstart:d.proxy(w,"_touchStart"),touchmove:d.proxy(w,"_touchMove"),touchend:d.proxy(w,"_touchEnd")}),b.call(w)}}})(r(1669))},8045:function(a,s,r){var d,c,h;c=[r(1669),r(6883)],(h=typeof(d=function(v){return v.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())})=="function"?d.apply(s,c):d)===void 0||(a.exports=h)},1897:function(a,s,r){var d,c,h;c=[r(1669),r(6883)],(h=typeof(d=function(v){return v.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})=="function"?d.apply(s,c):d)===void 0||(a.exports=h)},6883:function(a,s,r){var d,c,h;c=[r(1669)],(h=typeof(d=function(v){return v.ui=v.ui||{},v.ui.version="1.12.1"})=="function"?d.apply(s,c):d)===void 0||(a.exports=h)},9139:function(a,s,r){var d,c,h;c=[r(1669),r(6883)],d=function(v){var b,w=0,k=Array.prototype.slice;return v.cleanData=(b=v.cleanData,function(C){var E,A,j;for(j=0;(A=C[j])!=null;j++)try{(E=v._data(A,"events"))&&E.remove&&v(A).triggerHandler("remove")}catch(y){}b(C)}),v.widget=function(C,E,A){var j,y,u,p={},m=C.split(".")[0],_=m+"-"+(C=C.split(".")[1]);return A||(A=E,E=v.Widget),v.isArray(A)&&(A=v.extend.apply(null,[{}].concat(A))),v.expr[":"][_.toLowerCase()]=function(x){return!!v.data(x,_)},v[m]=v[m]||{},j=v[m][C],y=v[m][C]=function(x,O){if(!this._createWidget)return new y(x,O);arguments.length&&this._createWidget(x,O)},v.extend(y,j,{version:A.version,_proto:v.extend({},A),_childConstructors:[]}),(u=new E).options=v.widget.extend({},u.options),v.each(A,function(x,O){v.isFunction(O)?p[x]=function(){var I=function(){return E.prototype[x].apply(this,arguments)},P=function(V){return E.prototype[x].apply(this,V)};return function(){var D,V=this._super,q=this._superApply;return this._super=I,this._superApply=P,D=O.apply(this,arguments),this._super=V,this._superApply=q,D}}():p[x]=O}),y.prototype=v.widget.extend(u,{widgetEventPrefix:j&&u.widgetEventPrefix||C},p,{constructor:y,namespace:m,widgetName:C,widgetFullName:_}),j?(v.each(j._childConstructors,function(x,O){var I=O.prototype;v.widget(I.namespace+"."+I.widgetName,y,O._proto)}),delete j._childConstructors):E._childConstructors.push(y),v.widget.bridge(C,y),y},v.widget.extend=function(C){for(var E,A,j=k.call(arguments,1),y=0,u=j.length;y<u;y++)for(E in j[y])A=j[y][E],j[y].hasOwnProperty(E)&&A!==void 0&&(v.isPlainObject(A)?C[E]=v.isPlainObject(C[E])?v.widget.extend({},C[E],A):v.widget.extend({},A):C[E]=A);return C},v.widget.bridge=function(C,E){var A=E.prototype.widgetFullName||C;v.fn[C]=function(j){var y=typeof j=="string",u=k.call(arguments,1),p=this;return y?this.length||j!=="instance"?this.each(function(){var m,_=v.data(this,A);return j==="instance"?(p=_,!1):_?v.isFunction(_[j])&&j.charAt(0)!=="_"?(m=_[j].apply(_,u))!==_&&m!==void 0?(p=m&&m.jquery?p.pushStack(m.get()):m,!1):void 0:v.error("no such method '"+j+"' for "+C+" widget instance"):v.error("cannot call methods on "+C+" prior to initialization; attempted to call method '"+j+"'")}):p=void 0:(u.length&&(j=v.widget.extend.apply(null,[j].concat(u))),this.each(function(){var m=v.data(this,A);m?(m.option(j||{}),m._init&&m._init()):v.data(this,A,new E(j,this))})),p}},v.Widget=function(){},v.Widget._childConstructors=[],v.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(E,A){A=v(A||this.defaultElement||this)[0],this.element=v(A),this.uuid=w++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=v(),this.hoverable=v(),this.focusable=v(),this.classesElementLookup={},A!==this&&(v.data(A,this.widgetFullName,this),this._on(!0,this.element,{remove:function(y){y.target===A&&this.destroy()}}),this.document=v(A.style?A.ownerDocument:A.document||A),this.window=v(this.document[0].defaultView||this.document[0].parentWindow)),this.options=v.widget.extend({},this.options,this._getCreateOptions(),E),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:v.noop,_create:v.noop,_init:v.noop,destroy:function(){var E=this;this._destroy(),v.each(this.classesElementLookup,function(A,j){E._removeClass(j,A)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:v.noop,widget:function(){return this.element},option:function(E,A){var j,y,u,p=E;if(arguments.length===0)return v.widget.extend({},this.options);if(typeof E=="string")if(p={},j=E.split("."),E=j.shift(),j.length){for(y=p[E]=v.widget.extend({},this.options[E]),u=0;u<j.length-1;u++)y[j[u]]=y[j[u]]||{},y=y[j[u]];if(E=j.pop(),arguments.length===1)return y[E]===void 0?null:y[E];y[E]=A}else{if(arguments.length===1)return this.options[E]===void 0?null:this.options[E];p[E]=A}return this._setOptions(p),this},_setOptions:function(E){var A;for(A in E)this._setOption(A,E[A]);return this},_setOption:function(E,A){return E==="classes"&&this._setOptionClasses(A),this.options[E]=A,E==="disabled"&&this._setOptionDisabled(A),this},_setOptionClasses:function(E){var A,j,y;for(A in E)y=this.classesElementLookup[A],E[A]!==this.options.classes[A]&&y&&y.length&&(j=v(y.get()),this._removeClass(y,A),j.addClass(this._classes({element:j,keys:A,classes:E,add:!0})))},_setOptionDisabled:function(E){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!E),E&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(E){var A=function(p,m){var _,x;for(x=0;x<p.length;x++)_=y.classesElementLookup[p[x]]||v(),_=E.add?v(v.unique(_.get().concat(E.element.get()))):v(_.not(E.element).get()),y.classesElementLookup[p[x]]=_,j.push(p[x]),m&&E.classes[p[x]]&&j.push(E.classes[p[x]])},j=[],y=this;return E=v.extend({element:this.element,classes:this.options.classes||{}},E),this._on(E.element,{remove:"_untrackClassesElement"}),E.keys&&A(E.keys.match(/\S+/g)||[],!0),E.extra&&A(E.extra.match(/\S+/g)||[]),j.join(" ")},_untrackClassesElement:function(E){var A=this;v.each(A.classesElementLookup,function(j,y){v.inArray(E.target,y)!==-1&&(A.classesElementLookup[j]=v(y.not(E.target).get()))})},_removeClass:function(E,A,j){return this._toggleClass(E,A,j,!1)},_addClass:function(E,A,j){return this._toggleClass(E,A,j,!0)},_toggleClass:function(E,A,j,y){y=typeof y=="boolean"?y:j;var u=typeof E=="string"||E===null,p={extra:u?A:j,keys:u?E:A,element:u?this.element:E,add:y};return p.element.toggleClass(this._classes(p),y),this},_on:function(E,A,j){var y,u=this;typeof E!="boolean"&&(j=A,A=E,E=!1),j?(A=y=v(A),this.bindings=this.bindings.add(A)):(j=A,A=this.element,y=this.widget()),v.each(j,function(p,m){var _=function(){if(E||u.options.disabled!==!0&&!v(this).hasClass("ui-state-disabled"))return(typeof m=="string"?u[m]:m).apply(u,arguments)};typeof m!="string"&&(_.guid=m.guid=m.guid||_.guid||v.guid++);var x=p.match(/^([\w:-]*)\s*(.*)$/),O=x[1]+u.eventNamespace,I=x[2];I?y.on(O,I,_):A.on(O,_)})},_off:function(E,A){A=(A||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,E.off(A).off(A),this.bindings=v(this.bindings.not(E).get()),this.focusable=v(this.focusable.not(E).get()),this.hoverable=v(this.hoverable.not(E).get())},_delay:function(E,A){var j=this;return setTimeout(function(){return(typeof E=="string"?j[E]:E).apply(j,arguments)},A||0)},_hoverable:function(E){this.hoverable=this.hoverable.add(E),this._on(E,{mouseenter:function(j){this._addClass(v(j.currentTarget),null,"ui-state-hover")},mouseleave:function(j){this._removeClass(v(j.currentTarget),null,"ui-state-hover")}})},_focusable:function(E){this.focusable=this.focusable.add(E),this._on(E,{focusin:function(j){this._addClass(v(j.currentTarget),null,"ui-state-focus")},focusout:function(j){this._removeClass(v(j.currentTarget),null,"ui-state-focus")}})},_trigger:function(E,A,j){var y,u,p=this.options[E];if(j=j||{},(A=v.Event(A)).type=(E===this.widgetEventPrefix?E:this.widgetEventPrefix+E).toLowerCase(),A.target=this.element[0],u=A.originalEvent)for(y in u)y in A||(A[y]=u[y]);return this.element.trigger(A,j),!(v.isFunction(p)&&p.apply(this.element[0],[A].concat(j))===!1||A.isDefaultPrevented())}},v.each({show:"fadeIn",hide:"fadeOut"},function(C,E){v.Widget.prototype["_"+C]=function(A,j,y){var u;typeof j=="string"&&(j={effect:j});var p=j?j===!0||typeof j=="number"?E:j.effect||E:C;typeof(j=j||{})=="number"&&(j={duration:j}),u=!v.isEmptyObject(j),j.complete=y,j.delay&&A.delay(j.delay),u&&v.effects&&v.effects.effect[p]?A[C](j):p!==C&&A[p]?A[p](j.duration,j.easing,y):A.queue(function(m){v(this)[C](),y&&y.call(A[0]),m()})}}),v.widget},(h=d.apply(s,c))===void 0||(a.exports=h)},3662:function(a,s,r){var d,c,h;c=[r(1669),r(8045),r(6883),r(9139)],(h=typeof(d=function(v){var b=!1;return v(document).on("mouseup",function(){b=!1}),v.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var k=this;this.element.on("mousedown."+this.widgetName,function(C){return k._mouseDown(C)}).on("click."+this.widgetName,function(C){if(v.data(C.target,k.widgetName+".preventClickEvent")===!0)return v.removeData(C.target,k.widgetName+".preventClickEvent"),C.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(k){if(!b){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(k),this._mouseDownEvent=k;var C=this,E=k.which===1,A=!(typeof this.options.cancel!="string"||!k.target.nodeName)&&v(k.target).closest(this.options.cancel).length;return!(E&&!A&&this._mouseCapture(k)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){C.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(k)&&this._mouseDelayMet(k)&&(this._mouseStarted=this._mouseStart(k)!==!1,!this._mouseStarted)?(k.preventDefault(),0):(v.data(k.target,this.widgetName+".preventClickEvent")===!0&&v.removeData(k.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(j){return C._mouseMove(j)},this._mouseUpDelegate=function(j){return C._mouseUp(j)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),k.preventDefault(),b=!0,0)))}},_mouseMove:function(k){if(this._mouseMoved){if(v.ui.ie&&(!document.documentMode||document.documentMode<9)&&!k.button)return this._mouseUp(k);if(!k.which){if(k.originalEvent.altKey||k.originalEvent.ctrlKey||k.originalEvent.metaKey||k.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(k)}}return(k.which||k.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(k),k.preventDefault()):(this._mouseDistanceMet(k)&&this._mouseDelayMet(k)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,k)!==!1,this._mouseStarted?this._mouseDrag(k):this._mouseUp(k)),!this._mouseStarted)},_mouseUp:function(k){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,k.target===this._mouseDownEvent.target&&v.data(k.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(k)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,b=!1,k.preventDefault()},_mouseDistanceMet:function(k){return Math.max(Math.abs(this._mouseDownEvent.pageX-k.pageX),Math.abs(this._mouseDownEvent.pageY-k.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})=="function"?d.apply(s,c):d)===void 0||(a.exports=h)},4720:function(a,s,r){var d,c,h;c=[r(1669),r(3662),r(1897),r(6883),r(9139)],d=function(v){return v.widget("ui.slider",v.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var w,k,C=this.options,E=this.element.find(".ui-slider-handle"),A=[];for(k=C.values&&C.values.length||1,E.length>k&&(E.slice(k).remove(),E=E.slice(0,k)),w=E.length;w<k;w++)A.push("<span tabindex='0'></span>");this.handles=E.add(v(A.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(j){v(this).data("ui-slider-handle-index",j).attr("tabIndex",0)})},_createRange:function(){var w=this.options;w.range?(w.range===!0&&(w.values?w.values.length&&w.values.length!==2?w.values=[w.values[0],w.values[0]]:v.isArray(w.values)&&(w.values=w.values.slice(0)):w.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=v("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),w.range!=="min"&&w.range!=="max"||this._addClass(this.range,"ui-slider-range-"+w.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(w){var k,C,E,A,j,y,u,p=this,m=this.options;return!m.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),k={x:w.pageX,y:w.pageY},C=this._normValueFromMouse(k),E=this._valueMax()-this._valueMin()+1,this.handles.each(function(_){var x=Math.abs(C-p.values(_));(E>x||E===x&&(_===p._lastChangedValue||p.values(_)===m.min))&&(E=x,A=v(this),j=_)}),this._start(w,j)!==!1&&(this._mouseSliding=!0,this._handleIndex=j,this._addClass(A,null,"ui-state-active"),A.trigger("focus"),y=A.offset(),u=!v(w.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=u?{left:0,top:0}:{left:w.pageX-y.left-A.width()/2,top:w.pageY-y.top-A.height()/2-(parseInt(A.css("borderTopWidth"),10)||0)-(parseInt(A.css("borderBottomWidth"),10)||0)+(parseInt(A.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(w,j,C),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(w){var k={x:w.pageX,y:w.pageY},C=this._normValueFromMouse(k);return this._slide(w,this._handleIndex,C),!1},_mouseStop:function(w){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(w,this._handleIndex),this._change(w,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(w){var k,C,E,A,j;return this.orientation==="horizontal"?(k=this.elementSize.width,C=w.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(k=this.elementSize.height,C=w.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(E=C/k)>1&&(E=1),E<0&&(E=0),this.orientation==="vertical"&&(E=1-E),A=this._valueMax()-this._valueMin(),j=this._valueMin()+E*A,this._trimAlignValue(j)},_uiHash:function(w,k,C){var E={handle:this.handles[w],handleIndex:w,value:k!==void 0?k:this.value()};return this._hasMultipleValues()&&(E.value=k!==void 0?k:this.values(w),E.values=C||this.values()),E},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(w,k){return this._trigger("start",w,this._uiHash(k))},_slide:function(w,k,C){var E,A=this.value(),j=this.values();this._hasMultipleValues()&&(E=this.values(k?0:1),A=this.values(k),this.options.values.length===2&&this.options.range===!0&&(C=k===0?Math.min(E,C):Math.max(E,C)),j[k]=C),C!==A&&this._trigger("slide",w,this._uiHash(k,C,j))!==!1&&(this._hasMultipleValues()?this.values(k,C):this.value(C))},_stop:function(w,k){this._trigger("stop",w,this._uiHash(k))},_change:function(w,k){this._keySliding||this._mouseSliding||(this._lastChangedValue=k,this._trigger("change",w,this._uiHash(k)))},value:function(w){return arguments.length?(this.options.value=this._trimAlignValue(w),this._refreshValue(),void this._change(null,0)):this._value()},values:function(w,k){var C,E,A;if(arguments.length>1)return this.options.values[w]=this._trimAlignValue(k),this._refreshValue(),void this._change(null,w);if(!arguments.length)return this._values();if(!v.isArray(arguments[0]))return this._hasMultipleValues()?this._values(w):this.value();for(C=this.options.values,E=arguments[0],A=0;A<C.length;A+=1)C[A]=this._trimAlignValue(E[A]),this._change(null,A);this._refreshValue()},_setOption:function(w,k){var C,E=0;switch(w==="range"&&this.options.range===!0&&(k==="min"?(this.options.value=this._values(0),this.options.values=null):k==="max"&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),v.isArray(this.options.values)&&(E=this.options.values.length),this._super(w,k),w){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(k),this.handles.css(k==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),C=E-1;C>=0;C--)this._change(null,C);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(w){this._super(w),this._toggleClass(null,"ui-state-disabled",!!w)},_value:function(){var w=this.options.value;return this._trimAlignValue(w)},_values:function(w){var k,C,E;if(arguments.length)return k=this.options.values[w],this._trimAlignValue(k);if(this._hasMultipleValues()){for(C=this.options.values.slice(),E=0;E<C.length;E+=1)C[E]=this._trimAlignValue(C[E]);return C}return[]},_trimAlignValue:function(w){if(w<=this._valueMin())return this._valueMin();if(w>=this._valueMax())return this._valueMax();var k=this.options.step>0?this.options.step:1,C=(w-this._valueMin())%k,E=w-C;return 2*Math.abs(C)>=k&&(E+=C>0?k:-k),parseFloat(E.toFixed(5))},_calculateNewMax:function(){var w=this.options.max,k=this._valueMin(),C=this.options.step;(w=Math.round((w-k)/C)*C+k)>this.options.max&&(w-=C),this.max=parseFloat(w.toFixed(this._precision()))},_precision:function(){var w=this._precisionOf(this.options.step);return this.options.min!==null&&(w=Math.max(w,this._precisionOf(this.options.min))),w},_precisionOf:function(w){var k=w.toString(),C=k.indexOf(".");return C===-1?0:k.length-C-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(w){w==="vertical"&&this.range.css({width:"",left:""}),w==="horizontal"&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var w,k,C,E,A,j=this.options.range,y=this.options,u=this,p=!this._animateOff&&y.animate,m={};this._hasMultipleValues()?this.handles.each(function(_){k=(u.values(_)-u._valueMin())/(u._valueMax()-u._valueMin())*100,m[u.orientation==="horizontal"?"left":"bottom"]=k+"%",v(this).stop(1,1)[p?"animate":"css"](m,y.animate),u.options.range===!0&&(u.orientation==="horizontal"?(_===0&&u.range.stop(1,1)[p?"animate":"css"]({left:k+"%"},y.animate),_===1&&u.range[p?"animate":"css"]({width:k-w+"%"},{queue:!1,duration:y.animate})):(_===0&&u.range.stop(1,1)[p?"animate":"css"]({bottom:k+"%"},y.animate),_===1&&u.range[p?"animate":"css"]({height:k-w+"%"},{queue:!1,duration:y.animate}))),w=k}):(C=this.value(),E=this._valueMin(),A=this._valueMax(),k=A!==E?(C-E)/(A-E)*100:0,m[this.orientation==="horizontal"?"left":"bottom"]=k+"%",this.handle.stop(1,1)[p?"animate":"css"](m,y.animate),j==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[p?"animate":"css"]({width:k+"%"},y.animate),j==="max"&&this.orientation==="horizontal"&&this.range.stop(1,1)[p?"animate":"css"]({width:100-k+"%"},y.animate),j==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[p?"animate":"css"]({height:k+"%"},y.animate),j==="max"&&this.orientation==="vertical"&&this.range.stop(1,1)[p?"animate":"css"]({height:100-k+"%"},y.animate))},_handleEvents:{keydown:function(w){var k,C,E,A=v(w.target).data("ui-slider-handle-index");switch(w.keyCode){case v.ui.keyCode.HOME:case v.ui.keyCode.END:case v.ui.keyCode.PAGE_UP:case v.ui.keyCode.PAGE_DOWN:case v.ui.keyCode.UP:case v.ui.keyCode.RIGHT:case v.ui.keyCode.DOWN:case v.ui.keyCode.LEFT:if(w.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(v(w.target),null,"ui-state-active"),this._start(w,A)===!1))return}switch(E=this.options.step,k=C=this._hasMultipleValues()?this.values(A):this.value(),w.keyCode){case v.ui.keyCode.HOME:C=this._valueMin();break;case v.ui.keyCode.END:C=this._valueMax();break;case v.ui.keyCode.PAGE_UP:C=this._trimAlignValue(k+(this._valueMax()-this._valueMin())/this.numPages);break;case v.ui.keyCode.PAGE_DOWN:C=this._trimAlignValue(k-(this._valueMax()-this._valueMin())/this.numPages);break;case v.ui.keyCode.UP:case v.ui.keyCode.RIGHT:if(k===this._valueMax())return;C=this._trimAlignValue(k+E);break;case v.ui.keyCode.DOWN:case v.ui.keyCode.LEFT:if(k===this._valueMin())return;C=this._trimAlignValue(k-E)}this._slide(w,A,C)},keyup:function(w){var k=v(w.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(w,k),this._change(w,k),this._removeClass(v(w.target),null,"ui-state-active"))}}})},(h=d.apply(s,c))===void 0||(a.exports=h)},1669:function(a){"use strict";a.exports=jQuery},9306:function(a,s,r){"use strict";var d=r(4901),c=r(6823),h=TypeError;a.exports=function(f){if(d(f))return f;throw new h(c(f)+" is not a function")}},5548:function(a,s,r){"use strict";var d=r(3517),c=r(6823),h=TypeError;a.exports=function(f){if(d(f))return f;throw new h(c(f)+" is not a constructor")}},3506:function(a,s,r){"use strict";var d=r(3925),c=String,h=TypeError;a.exports=function(f){if(d(f))return f;throw new h("Can't set "+c(f)+" as a prototype")}},6469:function(a,s,r){"use strict";var d=r(8227),c=r(2360),h=r(4913).f,f=d("unscopables"),v=Array.prototype;v[f]===void 0&&h(v,f,{configurable:!0,value:c(null)}),a.exports=function(b){v[f][b]=!0}},7829:function(a,s,r){"use strict";var d=r(8183).charAt;a.exports=function(c,h,f){return h+(f?d(c,h).length:1)}},679:function(a,s,r){"use strict";var d=r(1625),c=TypeError;a.exports=function(h,f){if(d(f,h))return h;throw new c("Incorrect invocation")}},8551:function(a,s,r){"use strict";var d=r(34),c=String,h=TypeError;a.exports=function(f){if(d(f))return f;throw new h(c(f)+" is not an object")}},5652:function(a,s,r){"use strict";var d=r(9039);a.exports=d(function(){if(typeof ArrayBuffer=="function"){var c=new ArrayBuffer(8);Object.isExtensible(c)&&Object.defineProperty(c,"a",{value:8})}})},4373:function(a,s,r){"use strict";var d=r(8981),c=r(5610),h=r(6198);a.exports=function(f){for(var v=d(this),b=h(v),w=arguments.length,k=c(w>1?arguments[1]:void 0,b),C=w>2?arguments[2]:void 0,E=C===void 0?b:c(C,b);E>k;)v[k++]=f;return v}},235:function(a,s,r){"use strict";var d=r(9213).forEach,c=r(4598)("forEach");a.exports=c?[].forEach:function(h){return d(this,h,arguments.length>1?arguments[1]:void 0)}},7916:function(a,s,r){"use strict";var d=r(6080),c=r(9565),h=r(8981),f=r(6319),v=r(4209),b=r(3517),w=r(6198),k=r(4659),C=r(81),E=r(851),A=Array;a.exports=function(j){var y=h(j),u=b(this),p=arguments.length,m=p>1?arguments[1]:void 0,_=m!==void 0;_&&(m=d(m,p>2?arguments[2]:void 0));var x,O,I,P,D,V,q=E(y),z=0;if(!q||this===A&&v(q))for(x=w(y),O=u?new this(x):A(x);x>z;z++)V=_?m(y[z],z):y[z],k(O,z,V);else for(O=u?new this:[],D=(P=C(y,q)).next;!(I=c(D,P)).done;z++)V=_?f(P,m,[I.value,z],!0):I.value,k(O,z,V);return O.length=z,O}},9617:function(a,s,r){"use strict";var d=r(5397),c=r(5610),h=r(6198),f=function(b){return function(w,k,C){var E=d(w),A=h(E);if(A===0)return!b&&-1;var j,y=c(C,A);if(b&&k!=k){for(;A>y;)if((j=E[y++])!=j)return!0}else for(;A>y;y++)if((b||y in E)&&E[y]===k)return b||y||0;return!b&&-1}};a.exports={includes:f(!0),indexOf:f(!1)}},9213:function(a,s,r){"use strict";var d=r(6080),c=r(9504),h=r(7055),f=r(8981),v=r(6198),b=r(1469),w=c([].push),k=function(E){var A=E===1,j=E===2,y=E===3,u=E===4,p=E===6,m=E===7,_=E===5||p;return function(x,O,I,P){for(var D,V,q=f(x),z=h(q),he=v(z),Y=d(O,I),B=0,F=P||b,ce=A?F(x,he):j||m?F(x,0):void 0;he>B;B++)if((_||B in z)&&(V=Y(D=z[B],B,q),E))if(A)ce[B]=V;else if(V)switch(E){case 3:return!0;case 5:return D;case 6:return B;case 2:w(ce,D)}else switch(E){case 4:return!1;case 7:w(ce,D)}return p?-1:y||u?u:ce}};a.exports={forEach:k(0),map:k(1),filter:k(2),some:k(3),every:k(4),find:k(5),findIndex:k(6),filterReject:k(7)}},597:function(a,s,r){"use strict";var d=r(9039),c=r(8227),h=r(7388),f=c("species");a.exports=function(v){return h>=51||!d(function(){var b=[];return(b.constructor={})[f]=function(){return{foo:1}},b[v](Boolean).foo!==1})}},4598:function(a,s,r){"use strict";var d=r(9039);a.exports=function(c,h){var f=[][c];return!!f&&d(function(){f.call(null,h||function(){return 1},1)})}},926:function(a,s,r){"use strict";var d=r(9306),c=r(8981),h=r(7055),f=r(6198),v=TypeError,b="Reduce of empty array with no initial value",w=function(C){return function(E,A,j,y){var u=c(E),p=h(u),m=f(u);if(d(A),m===0&&j<2)throw new v(b);var _=C?m-1:0,x=C?-1:1;if(j<2)for(;;){if(_ in p){y=p[_],_+=x;break}if(_+=x,C?_<0:m<=_)throw new v(b)}for(;C?_>=0:m>_;_+=x)_ in p&&(y=A(y,p[_],_,u));return y}};a.exports={left:w(!1),right:w(!0)}},4527:function(a,s,r){"use strict";var d=r(3724),c=r(4376),h=TypeError,f=Object.getOwnPropertyDescriptor,v=d&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(b){return _instanceof(b,TypeError)}}();a.exports=v?function(b,w){if(c(b)&&!f(b,"length").writable)throw new h("Cannot set read only .length");return b.length=w}:function(b,w){return b.length=w}},7680:function(a,s,r){"use strict";var d=r(9504);a.exports=d([].slice)},4488:function(a,s,r){"use strict";var d=r(7680),c=Math.floor,h=function(f,v){var b=f.length;if(b<8)for(var w,k,C=1;C<b;){for(k=C,w=f[C];k&&v(f[k-1],w)>0;)f[k]=f[--k];k!==C++&&(f[k]=w)}else for(var E=c(b/2),A=h(d(f,0,E),v),j=h(d(f,E),v),y=A.length,u=j.length,p=0,m=0;p<y||m<u;)f[p+m]=p<y&&m<u?v(A[p],j[m])<=0?A[p++]:j[m++]:p<y?A[p++]:j[m++];return f};a.exports=h},7433:function(a,s,r){"use strict";var d=r(4376),c=r(3517),h=r(34),f=r(8227)("species"),v=Array;a.exports=function(b){var w;return d(b)&&(w=b.constructor,(c(w)&&(w===v||d(w.prototype))||h(w)&&(w=w[f])===null)&&(w=void 0)),w===void 0?v:w}},1469:function(a,s,r){"use strict";var d=r(7433);a.exports=function(c,h){return new(d(c))(h===0?0:h)}},6319:function(a,s,r){"use strict";var d=r(8551),c=r(9539);a.exports=function(h,f,v,b){try{return b?f(d(v)[0],v[1]):f(v)}catch(w){c(h,"throw",w)}}},4428:function(a,s,r){"use strict";var d=r(8227)("iterator"),c=!1;try{var h=0,f={next:function(){return{done:!!h++}},return:function(){c=!0}};f[d]=function(){return this},Array.from(f,function(){throw 2})}catch(v){}a.exports=function(v,b){try{if(!b&&!c)return!1}catch(C){return!1}var w=!1;try{var k={};k[d]=function(){return{next:function(){return{done:w=!0}}}},v(k)}catch(C){}return w}},4576:function(a,s,r){"use strict";var d=r(9504),c=d({}.toString),h=d("".slice);a.exports=function(f){return h(c(f),8,-1)}},6955:function(a,s,r){"use strict";var d=r(2140),c=r(4901),h=r(4576),f=r(8227)("toStringTag"),v=Object,b=h(function(){return arguments}())==="Arguments";a.exports=d?h:function(w){var k,C,E;return w===void 0?"Undefined":w===null?"Null":typeof(C=function(A,j){try{return A[j]}catch(y){}}(k=v(w),f))=="string"?C:b?h(k):(E=h(k))==="Object"&&c(k.callee)?"Arguments":E}},6938:function(a,s,r){"use strict";var d=r(2360),c=r(2106),h=r(6279),f=r(6080),v=r(679),b=r(4117),w=r(2652),k=r(1088),C=r(2529),E=r(7633),A=r(3724),j=r(3451).fastKey,y=r(1181),u=y.set,p=y.getterFor;a.exports={getConstructor:function(_,x,O,I){var P=_(function(he,Y){v(he,D),u(he,{type:x,index:d(null),first:void 0,last:void 0,size:0}),A||(he.size=0),b(Y)||w(Y,he[I],{that:he,AS_ENTRIES:O})}),D=P.prototype,V=p(x),q=function(Y,B,F){var ce,J,ae=V(Y),se=z(Y,B);return se?se.value=F:(ae.last=se={index:J=j(B,!0),key:B,value:F,previous:ce=ae.last,next:void 0,removed:!1},ae.first||(ae.first=se),ce&&(ce.next=se),A?ae.size++:Y.size++,J!=="F"&&(ae.index[J]=se)),Y},z=function(Y,B){var F,ce=V(Y),J=j(B);if(J!=="F")return ce.index[J];for(F=ce.first;F;F=F.next)if(F.key===B)return F};return h(D,{clear:function(){for(var Y=V(this),B=Y.first;B;)B.removed=!0,B.previous&&(B.previous=B.previous.next=void 0),B=B.next;Y.first=Y.last=void 0,Y.index=d(null),A?Y.size=0:this.size=0},delete:function(Y){var B=this,F=V(B),ce=z(B,Y);if(ce){var J=ce.next,ae=ce.previous;delete F.index[ce.index],ce.removed=!0,ae&&(ae.next=J),J&&(J.previous=ae),F.first===ce&&(F.first=J),F.last===ce&&(F.last=ae),A?F.size--:B.size--}return!!ce},forEach:function(Y){for(var B,F=V(this),ce=f(Y,arguments.length>1?arguments[1]:void 0);B=B?B.next:F.first;)for(ce(B.value,B.key,this);B&&B.removed;)B=B.previous},has:function(Y){return!!z(this,Y)}}),h(D,O?{get:function(Y){var B=z(this,Y);return B&&B.value},set:function(Y,B){return q(this,Y===0?0:Y,B)}}:{add:function(Y){return q(this,Y=Y===0?0:Y,Y)}}),A&&c(D,"size",{configurable:!0,get:function(){return V(this).size}}),P},setStrong:function(_,x,O){var I=x+" Iterator",P=p(x),D=p(I);k(_,x,function(V,q){u(this,{type:I,target:V,state:P(V),kind:q,last:void 0})},function(){for(var V=D(this),q=V.kind,z=V.last;z&&z.removed;)z=z.previous;return V.target&&(V.last=z=z?z.next:V.state.first)?C(q==="keys"?z.key:q==="values"?z.value:[z.key,z.value],!1):(V.target=void 0,C(void 0,!0))},O?"entries":"values",!O,!0),E(x)}}},4006:function(a,s,r){"use strict";var d=r(9504),c=r(6279),h=r(3451).getWeakData,f=r(679),v=r(8551),b=r(4117),w=r(34),k=r(2652),C=r(9213),E=r(9297),A=r(1181),j=A.set,y=A.getterFor,u=C.find,p=C.findIndex,m=d([].splice),_=0,x=function(D){return D.frozen||(D.frozen=new O)},O=function(){this.entries=[]},I=function(D,V){return u(D.entries,function(q){return q[0]===V})};O.prototype={get:function(D){var V=I(this,D);if(V)return V[1]},has:function(D){return!!I(this,D)},set:function(D,V){var q=I(this,D);q?q[1]=V:this.entries.push([D,V])},delete:function(D){var V=p(this.entries,function(q){return q[0]===D});return~V&&m(this.entries,V,1),!!~V}},a.exports={getConstructor:function(D,V,q,z){var he=D(function(ce,J){f(ce,Y),j(ce,{type:V,id:_++,frozen:void 0}),b(J)||k(J,ce[z],{that:ce,AS_ENTRIES:q})}),Y=he.prototype,B=y(V),F=function(J,ae,se){var ve=B(J),de=h(v(ae),!0);return de===!0?x(ve).set(ae,se):de[ve.id]=se,J};return c(Y,{delete:function(J){var ae=B(this);if(!w(J))return!1;var se=h(J);return se===!0?x(ae).delete(J):se&&E(se,ae.id)&&delete se[ae.id]},has:function(J){var ae=B(this);if(!w(J))return!1;var se=h(J);return se===!0?x(ae).has(J):se&&E(se,ae.id)}}),c(Y,q?{get:function(J){var ae=B(this);if(w(J)){var se=h(J);return se===!0?x(ae).get(J):se?se[ae.id]:void 0}},set:function(J,ae){return F(this,J,ae)}}:{add:function(J){return F(this,J,!0)}}),he}}},6468:function(a,s,r){"use strict";var d=r(6518),c=r(4475),h=r(9504),f=r(2796),v=r(6840),b=r(3451),w=r(2652),k=r(679),C=r(4901),E=r(4117),A=r(34),j=r(9039),y=r(4428),u=r(687),p=r(3167);a.exports=function(m,_,x){var O=m.indexOf("Map")!==-1,I=m.indexOf("Weak")!==-1,P=O?"set":"add",D=c[m],V=D&&D.prototype,q=D,z={},he=function(se){var ve=h(V[se]);v(V,se,se==="add"?function(de){return ve(this,de===0?0:de),this}:se==="delete"?function(de){return!(I&&!A(de))&&ve(this,de===0?0:de)}:se==="get"?function(de){return I&&!A(de)?void 0:ve(this,de===0?0:de)}:se==="has"?function(de){return!(I&&!A(de))&&ve(this,de===0?0:de)}:function(de,Be){return ve(this,de===0?0:de,Be),this})};if(f(m,!C(D)||!(I||V.forEach&&!j(function(){new D().entries().next()}))))q=x.getConstructor(_,m,O,P),b.enable();else if(f(m,!0)){var Y=new q,B=Y[P](I?{}:-0,1)!==Y,F=j(function(){Y.has(1)}),ce=y(function(ae){new D(ae)}),J=!I&&j(function(){for(var ae=new D,se=5;se--;)ae[P](se,se);return!ae.has(-0)});ce||((q=_(function(ae,se){k(ae,V);var ve=p(new D,ae,q);return E(se)||w(se,ve[P],{that:ve,AS_ENTRIES:O}),ve})).prototype=V,V.constructor=q),(F||J)&&(he("delete"),he("has"),O&&he("get")),(J||B)&&he(P),I&&V.clear&&delete V.clear}return z[m]=q,d({global:!0,constructor:!0,forced:q!==D},z),u(q,m),I||x.setStrong(q,m,O),q}},7740:function(a,s,r){"use strict";var d=r(9297),c=r(5031),h=r(7347),f=r(4913);a.exports=function(v,b,w){for(var k=c(b),C=f.f,E=h.f,A=0;A<k.length;A++){var j=k[A];d(v,j)||w&&d(w,j)||C(v,j,E(b,j))}}},1436:function(a,s,r){"use strict";var d=r(8227)("match");a.exports=function(c){var h=/./;try{"/./"[c](h)}catch(f){try{return h[d]=!1,"/./"[c](h)}catch(v){}}return!1}},2211:function(a,s,r){"use strict";var d=r(9039);a.exports=!d(function(){var c=function(){};return c.prototype.constructor=null,Object.getPrototypeOf(new c)!==c.prototype})},2529:function(a){"use strict";a.exports=function(s,r){return{value:s,done:r}}},6699:function(a,s,r){"use strict";var d=r(3724),c=r(4913),h=r(6980);a.exports=d?function(f,v,b){return c.f(f,v,h(1,b))}:function(f,v,b){return f[v]=b,f}},6980:function(a){"use strict";a.exports=function(s,r){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:r}}},4659:function(a,s,r){"use strict";var d=r(3724),c=r(4913),h=r(6980);a.exports=function(f,v,b){d?c.f(f,v,h(0,b)):f[v]=b}},3640:function(a,s,r){"use strict";var d=r(8551),c=r(4270),h=TypeError;a.exports=function(f){if(d(this),f==="string"||f==="default")f="string";else if(f!=="number")throw new h("Incorrect hint");return c(this,f)}},2106:function(a,s,r){"use strict";var d=r(283),c=r(4913);a.exports=function(h,f,v){return v.get&&d(v.get,f,{getter:!0}),v.set&&d(v.set,f,{setter:!0}),c.f(h,f,v)}},6840:function(a,s,r){"use strict";var d=r(4901),c=r(4913),h=r(283),f=r(9433);a.exports=function(v,b,w,k){k||(k={});var C=k.enumerable,E=k.name!==void 0?k.name:b;if(d(w)&&h(w,E,k),k.global)C?v[b]=w:f(b,w);else{try{k.unsafe?v[b]&&(C=!0):delete v[b]}catch(A){}C?v[b]=w:c.f(v,b,{value:w,enumerable:!1,configurable:!k.nonConfigurable,writable:!k.nonWritable})}return v}},6279:function(a,s,r){"use strict";var d=r(6840);a.exports=function(c,h,f){for(var v in h)d(c,v,h[v],f);return c}},9433:function(a,s,r){"use strict";var d=r(4475),c=Object.defineProperty;a.exports=function(h,f){try{c(d,h,{value:f,configurable:!0,writable:!0})}catch(v){d[h]=f}return f}},4606:function(a,s,r){"use strict";var d=r(6823),c=TypeError;a.exports=function(h,f){if(!delete h[f])throw new c("Cannot delete property "+d(f)+" of "+d(h))}},3724:function(a,s,r){"use strict";var d=r(9039);a.exports=!d(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},4055:function(a,s,r){"use strict";var d=r(4475),c=r(34),h=d.document,f=c(h)&&c(h.createElement);a.exports=function(v){return f?h.createElement(v):{}}},6837:function(a){"use strict";var s=TypeError;a.exports=function(r){if(r>9007199254740991)throw s("Maximum allowed index exceeded");return r}},7400:function(a){"use strict";a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},9296:function(a,s,r){"use strict";var d=r(4055)("span").classList,c=d&&d.constructor&&d.constructor.prototype;a.exports=c===Object.prototype?void 0:c},8834:function(a,s,r){"use strict";var d=r(9392).match(/firefox\/(\d+)/i);a.exports=!!d&&+d[1]},7290:function(a,s,r){"use strict";var d=r(516),c=r(9088);a.exports=!d&&!c&&typeof window=="object"&&typeof document=="object"},516:function(a){"use strict";a.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},3202:function(a,s,r){"use strict";var d=r(9392);a.exports=/MSIE|Trident/.test(d)},28:function(a,s,r){"use strict";var d=r(9392);a.exports=/ipad|iphone|ipod/i.test(d)&&(typeof Pebble=="undefined"?"undefined":_typeof(Pebble))<"u"},8119:function(a,s,r){"use strict";var d=r(9392);a.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(d)},9088:function(a,s,r){"use strict";var d=r(4475),c=r(4576);a.exports=c(d.process)==="process"},6765:function(a,s,r){"use strict";var d=r(9392);a.exports=/web0s(?!.*chrome)/i.test(d)},9392:function(a){"use strict";a.exports=(typeof navigator=="undefined"?"undefined":_typeof(navigator))<"u"&&String(navigator.userAgent)||""},7388:function(a,s,r){"use strict";var d,c,h=r(4475),f=r(9392),v=h.process,b=h.Deno,w=v&&v.versions||b&&b.version,k=w&&w.v8;k&&(c=(d=k.split("."))[0]>0&&d[0]<4?1:+(d[0]+d[1])),!c&&f&&(!(d=f.match(/Edge\/(\d+)/))||d[1]>=74)&&(d=f.match(/Chrome\/(\d+)/))&&(c=+d[1]),a.exports=c},9160:function(a,s,r){"use strict";var d=r(9392).match(/AppleWebKit\/(\d+)\./);a.exports=!!d&&+d[1]},8727:function(a){"use strict";a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6518:function(a,s,r){"use strict";var d=r(4475),c=r(7347).f,h=r(6699),f=r(6840),v=r(9433),b=r(7740),w=r(2796);a.exports=function(k,C){var E,A,j,y,u,p=k.target,m=k.global,_=k.stat;if(E=m?d:_?d[p]||v(p,{}):d[p]&&d[p].prototype)for(A in C){if(y=C[A],j=k.dontCallGetSet?(u=c(E,A))&&u.value:E[A],!w(m?A:p+(_?".":"#")+A,k.forced)&&j!==void 0){if((typeof y=="undefined"?"undefined":_typeof(y))==(typeof j=="undefined"?"undefined":_typeof(j)))continue;b(y,j)}(k.sham||j&&j.sham)&&h(y,"sham",!0),f(E,A,y,k)}}},9039:function(a){"use strict";a.exports=function(s){try{return!!s()}catch(r){return!0}}},9228:function(a,s,r){"use strict";r(7495);var d=r(9565),c=r(6840),h=r(7323),f=r(9039),v=r(8227),b=r(6699),w=v("species"),k=RegExp.prototype;a.exports=function(C,E,A,j){var y=v(C),u=!f(function(){var x={};return x[y]=function(){return 7},""[C](x)!==7}),p=u&&!f(function(){var x=!1,O=/a/;return C==="split"&&((O={}).constructor={},O.constructor[w]=function(){return O},O.flags="",O[y]=/./[y]),O.exec=function(){return x=!0,null},O[y](""),!x});if(!u||!p||A){var m=/./[y],_=E(y,""[C],function(x,O,I,P,D){var V=O.exec;return V===h||V===k.exec?u&&!D?{done:!0,value:d(m,O,I,P)}:{done:!0,value:d(x,I,O,P)}:{done:!1}});c(String.prototype,C,_[0]),c(k,y,_[1])}j&&b(k[y],"sham",!0)}},259:function(a,s,r){"use strict";var d=r(4376),c=r(6198),h=r(6837),f=r(6080),v=function(b,w,k,C,E,A,j,y){for(var u,p,m=E,_=0,x=!!j&&f(j,y);_<C;)_ in k&&(u=x?x(k[_],_,w):k[_],A>0&&d(u)?(p=c(u),m=v(b,w,u,p,m,A-1)-1):(h(m+1),b[m]=u),m++),_++;return m};a.exports=v},2744:function(a,s,r){"use strict";var d=r(9039);a.exports=!d(function(){return Object.isExtensible(Object.preventExtensions({}))})},8745:function(a,s,r){"use strict";var d=r(616),c=Function.prototype,h=c.apply,f=c.call;a.exports=typeof Reflect=="object"&&Reflect.apply||(d?f.bind(h):function(){return f.apply(h,arguments)})},6080:function(a,s,r){"use strict";var d=r(7476),c=r(9306),h=r(616),f=d(d.bind);a.exports=function(v,b){return c(v),b===void 0?v:h?f(v,b):function(){return v.apply(b,arguments)}}},616:function(a,s,r){"use strict";var d=r(9039);a.exports=!d(function(){var c=function(){}.bind();return typeof c!="function"||c.hasOwnProperty("prototype")})},566:function(a,s,r){"use strict";var d=r(9504),c=r(9306),h=r(34),f=r(9297),v=r(7680),b=r(616),w=Function,k=d([].concat),C=d([].join),E={};a.exports=b?w.bind:function(A){var j=c(this),y=j.prototype,u=v(arguments,1),p=function(){var m=k(u,v(arguments));return _instanceof(this,p)?function(_,x,O){if(!f(E,x)){for(var I=[],P=0;P<x;P++)I[P]="a["+P+"]";E[x]=w("C,a","return new C("+C(I,",")+")")}return E[x](_,O)}(j,m.length,m):j.apply(A,m)};return h(y)&&(p.prototype=y),p}},9565:function(a,s,r){"use strict";var d=r(616),c=Function.prototype.call;a.exports=d?c.bind(c):function(){return c.apply(c,arguments)}},350:function(a,s,r){"use strict";var d=r(3724),c=r(9297),h=Function.prototype,f=d&&Object.getOwnPropertyDescriptor,v=c(h,"name"),b=v&&function(){}.name==="something",w=v&&(!d||d&&f(h,"name").configurable);a.exports={EXISTS:v,PROPER:b,CONFIGURABLE:w}},6706:function(a,s,r){"use strict";var d=r(9504),c=r(9306);a.exports=function(h,f,v){try{return d(c(Object.getOwnPropertyDescriptor(h,f)[v]))}catch(b){}}},7476:function(a,s,r){"use strict";var d=r(4576),c=r(9504);a.exports=function(h){if(d(h)==="Function")return c(h)}},9504:function(a,s,r){"use strict";var d=r(616),c=Function.prototype,h=c.call,f=d&&c.bind.bind(h,h);a.exports=d?f:function(v){return function(){return h.apply(v,arguments)}}},7751:function(a,s,r){"use strict";var d=r(4475),c=r(4901);a.exports=function(h,f){return arguments.length<2?(v=d[h],c(v)?v:void 0):d[h]&&d[h][f];var v}},851:function(a,s,r){"use strict";var d=r(6955),c=r(5966),h=r(4117),f=r(6269),v=r(8227)("iterator");a.exports=function(b){if(!h(b))return c(b,v)||c(b,"@@iterator")||f[d(b)]}},81:function(a,s,r){"use strict";var d=r(9565),c=r(9306),h=r(8551),f=r(6823),v=r(851),b=TypeError;a.exports=function(w,k){var C=arguments.length<2?v(w):k;if(c(C))return h(d(C,w));throw new b(f(w)+" is not iterable")}},6933:function(a,s,r){"use strict";var d=r(9504),c=r(4376),h=r(4901),f=r(4576),v=r(655),b=d([].push);a.exports=function(w){if(h(w))return w;if(c(w)){for(var k=w.length,C=[],E=0;E<k;E++){var A=w[E];typeof A=="string"?b(C,A):typeof A!="number"&&f(A)!=="Number"&&f(A)!=="String"||b(C,v(A))}var j=C.length,y=!0;return function(u,p){if(y)return y=!1,p;if(c(this))return p;for(var m=0;m<j;m++)if(C[m]===u)return p}}}},5966:function(a,s,r){"use strict";var d=r(9306),c=r(4117);a.exports=function(h,f){var v=h[f];return c(v)?void 0:d(v)}},2478:function(a,s,r){"use strict";var d=r(9504),c=r(8981),h=Math.floor,f=d("".charAt),v=d("".replace),b=d("".slice),w=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,k=/\$([$&'`]|\d{1,2})/g;a.exports=function(C,E,A,j,y,u){var p=A+C.length,m=j.length,_=k;return y!==void 0&&(y=c(y),_=w),v(u,_,function(x,O){var I;switch(f(O,0)){case"$":return"$";case"&":return C;case"`":return b(E,0,A);case"'":return b(E,p);case"<":I=y[b(O,1,-1)];break;default:var P=+O;if(P===0)return x;if(P>m){var D=h(P/10);return D===0?x:D<=m?j[D-1]===void 0?f(O,1):j[D-1]+f(O,1):x}I=j[P-1]}return I===void 0?"":I})}},4475:function(a,s,r){"use strict";var d=function(h){return h&&h.Math===Math&&h};a.exports=d(typeof globalThis=="object"&&globalThis)||d(typeof window=="object"&&window)||d(typeof self=="object"&&self)||d(typeof r.g=="object"&&r.g)||d(typeof this=="object"&&this)||function(){return this}()||Function("return this")()},9297:function(a,s,r){"use strict";var d=r(9504),c=r(8981),h=d({}.hasOwnProperty);a.exports=Object.hasOwn||function(f,v){return h(c(f),v)}},421:function(a){"use strict";a.exports={}},3138:function(a){"use strict";a.exports=function(s,r){try{arguments.length===1?console.error(s):console.error(s,r)}catch(d){}}},397:function(a,s,r){"use strict";var d=r(7751);a.exports=d("document","documentElement")},5917:function(a,s,r){"use strict";var d=r(3724),c=r(9039),h=r(4055);a.exports=!d&&!c(function(){return Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a!==7})},7055:function(a,s,r){"use strict";var d=r(9504),c=r(9039),h=r(4576),f=Object,v=d("".split);a.exports=c(function(){return!f("z").propertyIsEnumerable(0)})?function(b){return h(b)==="String"?v(b,""):f(b)}:f},3167:function(a,s,r){"use strict";var d=r(4901),c=r(34),h=r(2967);a.exports=function(f,v,b){var w,k;return h&&d(w=v.constructor)&&w!==b&&c(k=w.prototype)&&k!==b.prototype&&h(f,k),f}},3706:function(a,s,r){"use strict";var d=r(9504),c=r(4901),h=r(7629),f=d(Function.toString);c(h.inspectSource)||(h.inspectSource=function(v){return f(v)}),a.exports=h.inspectSource},3451:function(a,s,r){"use strict";var d=r(6518),c=r(9504),h=r(421),f=r(34),v=r(9297),b=r(4913).f,w=r(8480),k=r(298),C=r(4124),E=r(3392),A=r(2744),j=!1,y=E("meta"),u=0,p=function(x){b(x,y,{value:{objectID:"O"+u++,weakData:{}}})},m=a.exports={enable:function(){m.enable=function(){},j=!0;var x=w.f,O=c([].splice),I={};I[y]=1,x(I).length&&(w.f=function(P){for(var D=x(P),V=0,q=D.length;V<q;V++)if(D[V]===y){O(D,V,1);break}return D},d({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:k.f}))},fastKey:function(x,O){if(!f(x))return(typeof x=="undefined"?"undefined":_typeof(x))=="symbol"?x:(typeof x=="string"?"S":"P")+x;if(!v(x,y)){if(!C(x))return"F";if(!O)return"E";p(x)}return x[y].objectID},getWeakData:function(x,O){if(!v(x,y)){if(!C(x))return!0;if(!O)return!1;p(x)}return x[y].weakData},onFreeze:function(x){return A&&j&&C(x)&&!v(x,y)&&p(x),x}};h[y]=!0},1181:function(a,s,r){"use strict";var d,c,h,f=r(8622),v=r(4475),b=r(34),w=r(6699),k=r(9297),C=r(7629),E=r(6119),A=r(421),j="Object already initialized",y=v.TypeError,u=v.WeakMap;if(f||C.state){var p=C.state||(C.state=new u);p.get=p.get,p.has=p.has,p.set=p.set,d=function(x,O){if(p.has(x))throw new y(j);return O.facade=x,p.set(x,O),O},c=function(x){return p.get(x)||{}},h=function(x){return p.has(x)}}else{var m=E("state");A[m]=!0,d=function(x,O){if(k(x,m))throw new y(j);return O.facade=x,w(x,m,O),O},c=function(x){return k(x,m)?x[m]:{}},h=function(x){return k(x,m)}}a.exports={set:d,get:c,has:h,enforce:function(x){return h(x)?c(x):d(x,{})},getterFor:function(x){return function(O){var I;if(!b(O)||(I=c(O)).type!==x)throw new y("Incompatible receiver, "+x+" required");return I}}}},4209:function(a,s,r){"use strict";var d=r(8227),c=r(6269),h=d("iterator"),f=Array.prototype;a.exports=function(v){return v!==void 0&&(c.Array===v||f[h]===v)}},4376:function(a,s,r){"use strict";var d=r(4576);a.exports=Array.isArray||function(c){return d(c)==="Array"}},4901:function(a){"use strict";var s=typeof document=="object"&&document.all;a.exports=s===void 0&&s!==void 0?function(r){return typeof r=="function"||r===s}:function(r){return typeof r=="function"}},3517:function(a,s,r){"use strict";var d=r(9504),c=r(9039),h=r(4901),f=r(6955),v=r(7751),b=r(3706),w=function(){},k=v("Reflect","construct"),C=/^\s*(?:class|function)\b/,E=d(C.exec),A=!C.test(w),j=function(p){if(!h(p))return!1;try{return k(w,[],p),!0}catch(m){return!1}},y=function(p){if(!h(p))return!1;switch(f(p)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return A||!!E(C,b(p))}catch(m){return!0}};y.sham=!0,a.exports=!k||c(function(){var u;return j(j.call)||!j(Object)||!j(function(){u=!0})||u})?y:j},6575:function(a,s,r){"use strict";var d=r(9297);a.exports=function(c){return c!==void 0&&(d(c,"value")||d(c,"writable"))}},2796:function(a,s,r){"use strict";var d=r(9039),c=r(4901),h=/#|\.prototype\./,f=function(E,A){var j=b[v(E)];return j===k||j!==w&&(c(A)?d(A):!!A)},v=f.normalize=function(E){return String(E).replace(h,".").toLowerCase()},b=f.data={},w=f.NATIVE="N",k=f.POLYFILL="P";a.exports=f},4117:function(a){"use strict";a.exports=function(s){return s==null}},34:function(a,s,r){"use strict";var d=r(4901);a.exports=function(c){return typeof c=="object"?c!==null:d(c)}},3925:function(a,s,r){"use strict";var d=r(34);a.exports=function(c){return d(c)||c===null}},6395:function(a){"use strict";a.exports=!1},788:function(a,s,r){"use strict";var d=r(34),c=r(4576),h=r(8227)("match");a.exports=function(f){var v;return d(f)&&((v=f[h])!==void 0?!!v:c(f)==="RegExp")}},757:function(a,s,r){"use strict";var d=r(7751),c=r(4901),h=r(1625),f=r(7040),v=Object;a.exports=f?function(b){return(typeof b=="undefined"?"undefined":_typeof(b))=="symbol"}:function(b){var w=d("Symbol");return c(w)&&h(w.prototype,v(b))}},2652:function(a,s,r){"use strict";var d=r(6080),c=r(9565),h=r(8551),f=r(6823),v=r(4209),b=r(6198),w=r(1625),k=r(81),C=r(851),E=r(9539),A=TypeError,j=function(p,m){this.stopped=p,this.result=m},y=j.prototype;a.exports=function(u,p,m){var _,x,O,I,P,D,V,q=m&&m.that,z=!(!m||!m.AS_ENTRIES),he=!(!m||!m.IS_RECORD),Y=!(!m||!m.IS_ITERATOR),B=!(!m||!m.INTERRUPTED),F=d(p,q),ce=function(se){return _&&E(_,"normal",se),new j(!0,se)},J=function(se){return z?(h(se),B?F(se[0],se[1],ce):F(se[0],se[1])):B?F(se,ce):F(se)};if(he)_=u.iterator;else if(Y)_=u;else{if(!(x=C(u)))throw new A(f(u)+" is not iterable");if(v(x)){for(O=0,I=b(u);I>O;O++)if((P=J(u[O]))&&w(y,P))return P;return new j(!1)}_=k(u,x)}for(D=he?u.next:_.next;!(V=c(D,_)).done;){try{P=J(V.value)}catch(ae){E(_,"throw",ae)}if(typeof P=="object"&&P&&w(y,P))return P}return new j(!1)}},9539:function(a,s,r){"use strict";var d=r(9565),c=r(8551),h=r(5966);a.exports=function(f,v,b){var w,k;c(f);try{if(!(w=h(f,"return"))){if(v==="throw")throw b;return b}w=d(w,f)}catch(C){k=!0,w=C}if(v==="throw")throw b;if(k)throw w;return c(w),b}},3994:function(a,s,r){"use strict";var d=r(7657).IteratorPrototype,c=r(2360),h=r(6980),f=r(687),v=r(6269),b=function(){return this};a.exports=function(w,k,C,E){var A=k+" Iterator";return w.prototype=c(d,{next:h(+!E,C)}),f(w,A,!1,!0),v[A]=b,w}},1088:function(a,s,r){"use strict";var d=r(6518),c=r(9565),h=r(6395),f=r(350),v=r(4901),b=r(3994),w=r(2787),k=r(2967),C=r(687),E=r(6699),A=r(6840),j=r(8227),y=r(6269),u=r(7657),p=f.PROPER,m=f.CONFIGURABLE,_=u.IteratorPrototype,x=u.BUGGY_SAFARI_ITERATORS,O=j("iterator"),I="keys",P="values",D="entries",V=function(){return this};a.exports=function(q,z,he,Y,B,F,ce){b(he,z,Y);var J,ae,se,ve=function(De){if(De===B&&ot)return ot;if(!x&&De&&De in it)return it[De];switch(De){case I:case P:case D:return function(){return new he(this,De)}}return function(){return new he(this)}},de=z+" Iterator",Be=!1,it=q.prototype,mt=it[O]||it["@@iterator"]||B&&it[B],ot=!x&&mt||ve(B),Ae=z==="Array"&&it.entries||mt;if(Ae&&(J=w(Ae.call(new q)))!==Object.prototype&&J.next&&(h||w(J)===_||(k?k(J,_):v(J[O])||A(J,O,V)),C(J,de,!0,!0),h&&(y[de]=V)),p&&B===P&&mt&&mt.name!==P&&(!h&&m?E(it,"name",P):(Be=!0,ot=function(){return c(mt,this)})),B)if(ae={values:ve(P),keys:F?ot:ve(I),entries:ve(D)},ce)for(se in ae)(x||Be||!(se in it))&&A(it,se,ae[se]);else d({target:z,proto:!0,forced:x||Be},ae);return h&&!ce||it[O]===ot||A(it,O,ot,{name:B}),y[z]=ot,ae}},7657:function(a,s,r){"use strict";var d,c,h,f=r(9039),v=r(4901),b=r(34),w=r(2360),k=r(2787),C=r(6840),E=r(8227),A=r(6395),j=E("iterator"),y=!1;[].keys&&("next"in(h=[].keys())?(c=k(k(h)))!==Object.prototype&&(d=c):y=!0),!b(d)||f(function(){var u={};return d[j].call(u)!==u})?d={}:A&&(d=w(d)),v(d[j])||C(d,j,function(){return this}),a.exports={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:y}},6269:function(a){"use strict";a.exports={}},6198:function(a,s,r){"use strict";var d=r(8014);a.exports=function(c){return d(c.length)}},283:function(a,s,r){"use strict";var d=r(9504),c=r(9039),h=r(4901),f=r(9297),v=r(3724),b=r(350).CONFIGURABLE,w=r(3706),k=r(1181),C=k.enforce,E=k.get,A=String,j=Object.defineProperty,y=d("".slice),u=d("".replace),p=d([].join),m=v&&!c(function(){return j(function(){},"length",{value:8}).length!==8}),_=String(String).split("String"),x=a.exports=function(I,P,D){y(A(P),0,7)==="Symbol("&&(P="["+u(A(P),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),D&&D.getter&&(P="get "+P),D&&D.setter&&(P="set "+P),(!f(I,"name")||b&&I.name!==P)&&(v?j(I,"name",{value:P,configurable:!0}):I.name=P),m&&D&&f(D,"arity")&&I.length!==D.arity&&j(I,"length",{value:D.arity});try{D&&f(D,"constructor")&&D.constructor?v&&j(I,"prototype",{writable:!1}):I.prototype&&(I.prototype=void 0)}catch(q){}var V=C(I);return f(V,"source")||(V.source=p(_,typeof P=="string"?P:"")),I};Function.prototype.toString=x(function(){return h(this)&&E(this).source||w(this)},"toString")},7782:function(a){"use strict";a.exports=Math.sign||function(s){var r=+s;return r===0||r!=r?r:r<0?-1:1}},741:function(a){"use strict";var s=Math.ceil,r=Math.floor;a.exports=Math.trunc||function(d){var c=+d;return(c>0?r:s)(c)}},1955:function(a,s,r){"use strict";var d,c,h,f,v,b=r(4475),w=r(3389),k=r(6080),C=r(9225).set,E=r(8265),A=r(8119),j=r(28),y=r(6765),u=r(9088),p=b.MutationObserver||b.WebKitMutationObserver,m=b.document,_=b.process,x=b.Promise,O=w("queueMicrotask");if(!O){var I=new E,P=function(){var V,q;for(u&&(V=_.domain)&&V.exit();q=I.get();)try{q()}catch(z){throw I.head&&d(),z}V&&V.enter()};A||u||y||!p||!m?!j&&x&&x.resolve?((f=x.resolve(void 0)).constructor=x,v=k(f.then,f),d=function(){v(P)}):u?d=function(){_.nextTick(P)}:(C=k(C,b),d=function(){C(P)}):(c=!0,h=m.createTextNode(""),new p(P).observe(h,{characterData:!0}),d=function(){h.data=c=!c}),O=function(V){I.head||d(),I.add(V)}}a.exports=O},6043:function(a,s,r){"use strict";var d=r(9306),c=TypeError,h=function(v){var b,w;this.promise=new v(function(k,C){if(b!==void 0||w!==void 0)throw new c("Bad Promise constructor");b=k,w=C}),this.resolve=d(b),this.reject=d(w)};a.exports.f=function(f){return new h(f)}},2892:function(a,s,r){"use strict";var d=r(788),c=TypeError;a.exports=function(h){if(d(h))throw new c("The method doesn't accept regular expressions");return h}},3904:function(a,s,r){"use strict";var d=r(4475),c=r(9039),h=r(9504),f=r(655),v=r(3802).trim,b=r(7452),w=h("".charAt),k=d.parseFloat,C=d.Symbol,E=C&&C.iterator,A=1/k(b+"-0")!=-1/0||E&&!c(function(){k(Object(E))});a.exports=A?function(j){var y=v(f(j)),u=k(y);return u===0&&w(y,0)==="-"?-0:u}:k},2703:function(a,s,r){"use strict";var d=r(4475),c=r(9039),h=r(9504),f=r(655),v=r(3802).trim,b=r(7452),w=d.parseInt,k=d.Symbol,C=k&&k.iterator,E=/^[+-]?0x/i,A=h(E.exec),j=w(b+"08")!==8||w(b+"0x16")!==22||C&&!c(function(){w(Object(C))});a.exports=j?function(y,u){var p=v(f(y));return w(p,u>>>0||(A(E,p)?16:10))}:w},4213:function(a,s,r){"use strict";var d=r(3724),c=r(9504),h=r(9565),f=r(9039),v=r(1072),b=r(3717),w=r(8773),k=r(8981),C=r(7055),E=Object.assign,A=Object.defineProperty,j=c([].concat);a.exports=!E||f(function(){if(d&&E({b:1},E(A({},"a",{enumerable:!0,get:function(){A(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var y={},u={},p=Symbol("assign detection"),m="abcdefghijklmnopqrst";return y[p]=7,m.split("").forEach(function(_){u[_]=_}),E({},y)[p]!==7||v(E({},u)).join("")!==m})?function(y,u){for(var p=k(y),m=arguments.length,_=1,x=b.f,O=w.f;m>_;)for(var I,P=C(arguments[_++]),D=x?j(v(P),x(P)):v(P),V=D.length,q=0;V>q;)I=D[q++],d&&!h(O,P,I)||(p[I]=P[I]);return p}:E},2360:function(a,s,r){"use strict";var d,c=r(8551),h=r(6801),f=r(8727),v=r(421),b=r(397),w=r(4055),k=r(6119),C="prototype",E="script",A=k("IE_PROTO"),j=function(){},y=function(_){return"<"+E+">"+_+"</"+E+">"},u=function(_){_.write(y("")),_.close();var x=_.parentWindow.Object;return _=null,x},p=function(){try{d=new ActiveXObject("htmlfile")}catch(I){}var m,_,x;p=(typeof document=="undefined"?"undefined":_typeof(document))<"u"?document.domain&&d?u(d):(_=w("iframe"),x="java"+E+":",_.style.display="none",b.appendChild(_),_.src=String(x),(m=_.contentWindow.document).open(),m.write(y("document.F=Object")),m.close(),m.F):u(d);for(var O=f.length;O--;)delete p[C][f[O]];return p()};v[A]=!0,a.exports=Object.create||function(m,_){var x;return m!==null?(j[C]=c(m),x=new j,j[C]=null,x[A]=m):x=p(),_===void 0?x:h.f(x,_)}},6801:function(a,s,r){"use strict";var d=r(3724),c=r(8686),h=r(4913),f=r(8551),v=r(5397),b=r(1072);s.f=d&&!c?Object.defineProperties:function(w,k){f(w);for(var C,E=v(k),A=b(k),j=A.length,y=0;j>y;)h.f(w,C=A[y++],E[C]);return w}},4913:function(a,s,r){"use strict";var d=r(3724),c=r(5917),h=r(8686),f=r(8551),v=r(6969),b=TypeError,w=Object.defineProperty,k=Object.getOwnPropertyDescriptor,C="enumerable",E="configurable",A="writable";s.f=d?h?function(j,y,u){if(f(j),y=v(y),f(u),typeof j=="function"&&y==="prototype"&&"value"in u&&A in u&&!u[A]){var p=k(j,y);p&&p[A]&&(j[y]=u.value,u={configurable:E in u?u[E]:p[E],enumerable:C in u?u[C]:p[C],writable:!1})}return w(j,y,u)}:w:function(j,y,u){if(f(j),y=v(y),f(u),c)try{return w(j,y,u)}catch(p){}if("get"in u||"set"in u)throw new b("Accessors not supported");return"value"in u&&(j[y]=u.value),j}},7347:function(a,s,r){"use strict";var d=r(3724),c=r(9565),h=r(8773),f=r(6980),v=r(5397),b=r(6969),w=r(9297),k=r(5917),C=Object.getOwnPropertyDescriptor;s.f=d?C:function(E,A){if(E=v(E),A=b(A),k)try{return C(E,A)}catch(j){}if(w(E,A))return f(!c(h.f,E,A),E[A])}},298:function(a,s,r){"use strict";var d=r(4576),c=r(5397),h=r(8480).f,f=r(7680),v=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];a.exports.f=function(b){return v&&d(b)==="Window"?function(w){try{return h(w)}catch(k){return f(v)}}(b):h(c(b))}},8480:function(a,s,r){"use strict";var d=r(1828),c=r(8727).concat("length","prototype");s.f=Object.getOwnPropertyNames||function(h){return d(h,c)}},3717:function(a,s){"use strict";s.f=Object.getOwnPropertySymbols},2787:function(a,s,r){"use strict";var d=r(9297),c=r(4901),h=r(8981),f=r(6119),v=r(2211),b=f("IE_PROTO"),w=Object,k=w.prototype;a.exports=v?w.getPrototypeOf:function(C){var E=h(C);if(d(E,b))return E[b];var A=E.constructor;return c(A)&&_instanceof(E,A)?A.prototype:_instanceof(E,w)?k:null}},4124:function(a,s,r){"use strict";var d=r(9039),c=r(34),h=r(4576),f=r(5652),v=Object.isExtensible,b=d(function(){v(1)});a.exports=b||f?function(w){return!!c(w)&&(!f||h(w)!=="ArrayBuffer")&&(!v||v(w))}:v},1625:function(a,s,r){"use strict";var d=r(9504);a.exports=d({}.isPrototypeOf)},1828:function(a,s,r){"use strict";var d=r(9504),c=r(9297),h=r(5397),f=r(9617).indexOf,v=r(421),b=d([].push);a.exports=function(w,k){var C,E=h(w),A=0,j=[];for(C in E)!c(v,C)&&c(E,C)&&b(j,C);for(;k.length>A;)c(E,C=k[A++])&&(~f(j,C)||b(j,C));return j}},1072:function(a,s,r){"use strict";var d=r(1828),c=r(8727);a.exports=Object.keys||function(h){return d(h,c)}},8773:function(a,s){"use strict";var r={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,c=d&&!r.call({1:2},1);s.f=c?function(h){var f=d(this,h);return!!f&&f.enumerable}:r},2967:function(a,s,r){"use strict";var d=r(6706),c=r(34),h=r(7750),f=r(3506);a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var v,b=!1,w={};try{(v=d(Object.prototype,"__proto__","set"))(w,[]),b=_instanceof(w,Array)}catch(k){}return function(k,C){return h(k),f(C),c(k)&&(b?v(k,C):k.__proto__=C),k}}():void 0)},2357:function(a,s,r){"use strict";var d=r(3724),c=r(9039),h=r(9504),f=r(2787),v=r(1072),b=r(5397),w=h(r(8773).f),k=h([].push),C=d&&c(function(){var A=Object.create(null);return A[2]=2,!w(A,2)}),E=function(j){return function(y){for(var u,p=b(y),m=v(p),_=C&&f(p)===null,x=m.length,O=0,I=[];x>O;)u=m[O++],d&&!(_?u in p:w(p,u))||k(I,j?[u,p[u]]:p[u]);return I}};a.exports={entries:E(!0),values:E(!1)}},3179:function(a,s,r){"use strict";var d=r(2140),c=r(6955);a.exports=d?{}.toString:function(){return"[object "+c(this)+"]"}},4270:function(a,s,r){"use strict";var d=r(9565),c=r(4901),h=r(34),f=TypeError;a.exports=function(v,b){var w,k;if(b==="string"&&c(w=v.toString)&&!h(k=d(w,v))||c(w=v.valueOf)&&!h(k=d(w,v))||b!=="string"&&c(w=v.toString)&&!h(k=d(w,v)))return k;throw new f("Can't convert object to primitive value")}},5031:function(a,s,r){"use strict";var d=r(7751),c=r(9504),h=r(8480),f=r(3717),v=r(8551),b=c([].concat);a.exports=d("Reflect","ownKeys")||function(w){var k=h.f(v(w)),C=f.f;return C?b(k,C(w)):k}},9167:function(a,s,r){"use strict";var d=r(4475);a.exports=d},1103:function(a){"use strict";a.exports=function(s){try{return{error:!1,value:s()}}catch(r){return{error:!0,value:r}}}},916:function(a,s,r){"use strict";var d=r(4475),c=r(550),h=r(4901),f=r(2796),v=r(3706),b=r(8227),w=r(7290),k=r(516),C=r(6395),E=r(7388),A=c&&c.prototype,j=b("species"),y=!1,u=h(d.PromiseRejectionEvent),p=f("Promise",function(){var m=v(c),_=m!==String(c);if(!_&&E===66||C&&(!A.catch||!A.finally))return!0;if(!E||E<51||!/native code/.test(m)){var x=new c(function(I){I(1)}),O=function(P){P(function(){},function(){})};if((x.constructor={})[j]=O,!(y=_instanceof(x.then(function(){}),O)))return!0}return!_&&(w||k)&&!u});a.exports={CONSTRUCTOR:p,REJECTION_EVENT:u,SUBCLASSING:y}},550:function(a,s,r){"use strict";var d=r(4475);a.exports=d.Promise},3438:function(a,s,r){"use strict";var d=r(8551),c=r(34),h=r(6043);a.exports=function(f,v){if(d(f),c(v)&&v.constructor===f)return v;var b=h.f(f);return(0,b.resolve)(v),b.promise}},537:function(a,s,r){"use strict";var d=r(550),c=r(4428),h=r(916).CONSTRUCTOR;a.exports=h||!c(function(f){d.all(f).then(void 0,function(){})})},1056:function(a,s,r){"use strict";var d=r(4913).f;a.exports=function(c,h,f){f in c||d(c,f,{configurable:!0,get:function(){return h[f]},set:function(b){h[f]=b}})}},8265:function(a){"use strict";var s=function(){this.head=null,this.tail=null};s.prototype={add:function(d){var c={item:d,next:null},h=this.tail;h?h.next=c:this.head=c,this.tail=c},get:function(){var d=this.head;if(d)return(this.head=d.next)===null&&(this.tail=null),d.item}},a.exports=s},6682:function(a,s,r){"use strict";var d=r(9565),c=r(8551),h=r(4901),f=r(4576),v=r(7323),b=TypeError;a.exports=function(w,k){var C=w.exec;if(h(C)){var E=d(C,w,k);return E!==null&&c(E),E}if(f(w)==="RegExp")return d(v,w,k);throw new b("RegExp#exec called on incompatible receiver")}},7323:function(a,s,r){"use strict";var d,c,h=r(9565),f=r(9504),v=r(655),b=r(7979),w=r(8429),k=r(5745),C=r(2360),E=r(1181).get,A=r(3635),j=r(8814),y=k("native-string-replace",String.prototype.replace),u=RegExp.prototype.exec,p=u,m=f("".charAt),_=f("".indexOf),x=f("".replace),O=f("".slice),I=(c=/b*/g,h(u,d=/a/,"a"),h(u,c,"a"),d.lastIndex!==0||c.lastIndex!==0),P=w.BROKEN_CARET,D=/()??/.exec("")[1]!==void 0;(I||D||P||A||j)&&(p=function(V){var q,z,he,Y,B,F,ce,J=this,ae=E(J),se=v(V),ve=ae.raw;if(ve)return ve.lastIndex=J.lastIndex,q=h(p,ve,se),J.lastIndex=ve.lastIndex,q;var de=ae.groups,Be=P&&J.sticky,it=h(b,J),mt=J.source,ot=0,Ae=se;if(Be&&(it=x(it,"y",""),_(it,"g")===-1&&(it+="g"),Ae=O(se,J.lastIndex),J.lastIndex>0&&(!J.multiline||J.multiline&&m(se,J.lastIndex-1)!=="\n")&&(mt="(?: "+mt+")",Ae=" "+Ae,ot++),z=new RegExp("^(?:"+mt+")",it)),D&&(z=new RegExp("^"+mt+"$(?!\\s)",it)),I&&(he=J.lastIndex),Y=h(u,Be?z:J,Ae),Be?Y?(Y.input=O(Y.input,ot),Y[0]=O(Y[0],ot),Y.index=J.lastIndex,J.lastIndex+=Y[0].length):J.lastIndex=0:I&&Y&&(J.lastIndex=J.global?Y.index+Y[0].length:he),D&&Y&&Y.length>1&&h(y,Y[0],z,function(){for(B=1;B<arguments.length-2;B++)arguments[B]===void 0&&(Y[B]=void 0)}),Y&&de)for(Y.groups=F=C(null),B=0;B<de.length;B++)F[(ce=de[B])[0]]=Y[ce[1]];return Y}),a.exports=p},7979:function(a,s,r){"use strict";var d=r(8551);a.exports=function(){var c=d(this),h="";return c.hasIndices&&(h+="d"),c.global&&(h+="g"),c.ignoreCase&&(h+="i"),c.multiline&&(h+="m"),c.dotAll&&(h+="s"),c.unicode&&(h+="u"),c.unicodeSets&&(h+="v"),c.sticky&&(h+="y"),h}},1034:function(a,s,r){"use strict";var d=r(9565),c=r(9297),h=r(1625),f=r(7979),v=RegExp.prototype;a.exports=function(b){var w=b.flags;return w!==void 0||"flags"in v||c(b,"flags")||!h(v,b)?w:d(f,b)}},8429:function(a,s,r){"use strict";var d=r(9039),c=r(4475).RegExp,h=d(function(){var b=c("a","y");return b.lastIndex=2,b.exec("abcd")!==null}),f=h||d(function(){return!c("a","y").sticky}),v=h||d(function(){var b=c("^r","gy");return b.lastIndex=2,b.exec("str")!==null});a.exports={BROKEN_CARET:v,MISSED_STICKY:f,UNSUPPORTED_Y:h}},3635:function(a,s,r){"use strict";var d=r(9039),c=r(4475).RegExp;a.exports=d(function(){var h=c(".","s");return!(h.dotAll&&h.test("\n")&&h.flags==="s")})},8814:function(a,s,r){"use strict";var d=r(9039),c=r(4475).RegExp;a.exports=d(function(){var h=c("(?<a>b)","g");return h.exec("b").groups.a!=="b"||"b".replace(h,"$<a>c")!=="bc"})},7750:function(a,s,r){"use strict";var d=r(4117),c=TypeError;a.exports=function(h){if(d(h))throw new c("Can't call method on "+h);return h}},3389:function(a,s,r){"use strict";var d=r(4475),c=r(3724),h=Object.getOwnPropertyDescriptor;a.exports=function(f){if(!c)return d[f];var v=h(d,f);return v&&v.value}},3470:function(a){"use strict";a.exports=Object.is||function(s,r){return s===r?s!==0||1/s==1/r:s!=s&&r!=r}},7633:function(a,s,r){"use strict";var d=r(7751),c=r(2106),h=r(8227),f=r(3724),v=h("species");a.exports=function(b){var w=d(b);f&&w&&!w[v]&&c(w,v,{configurable:!0,get:function(){return this}})}},687:function(a,s,r){"use strict";var d=r(4913).f,c=r(9297),h=r(8227)("toStringTag");a.exports=function(f,v,b){f&&!b&&(f=f.prototype),f&&!c(f,h)&&d(f,h,{configurable:!0,value:v})}},6119:function(a,s,r){"use strict";var d=r(5745),c=r(3392),h=d("keys");a.exports=function(f){return h[f]||(h[f]=c(f))}},7629:function(a,s,r){"use strict";var d=r(6395),c=r(4475),h=r(9433),f="__core-js_shared__",v=a.exports=c[f]||h(f,{});(v.versions||(v.versions=[])).push({version:"3.37.1",mode:d?"pure":"global",copyright:"\xA9 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(a,s,r){"use strict";var d=r(7629);a.exports=function(c,h){return d[c]||(d[c]=h||{})}},2293:function(a,s,r){"use strict";var d=r(8551),c=r(5548),h=r(4117),f=r(8227)("species");a.exports=function(v,b){var w,k=d(v).constructor;return k===void 0||h(w=d(k)[f])?b:c(w)}},8183:function(a,s,r){"use strict";var d=r(9504),c=r(1291),h=r(655),f=r(7750),v=d("".charAt),b=d("".charCodeAt),w=d("".slice),k=function(E){return function(A,j){var y,u,p=h(f(A)),m=c(j),_=p.length;return m<0||m>=_?E?"":void 0:(y=b(p,m))<55296||y>56319||m+1===_||(u=b(p,m+1))<56320||u>57343?E?v(p,m):y:E?w(p,m,m+2):u-56320+(y-55296<<10)+65536}};a.exports={codeAt:k(!1),charAt:k(!0)}},3802:function(a,s,r){"use strict";var d=r(9504),c=r(7750),h=r(655),f=r(7452),v=d("".replace),b=RegExp("^["+f+"]+"),w=RegExp("(^|[^"+f+"])["+f+"]+$"),k=function(E){return function(A){var j=h(c(A));return 1&E&&(j=v(j,b,"")),2&E&&(j=v(j,w,"$1")),j}};a.exports={start:k(1),end:k(2),trim:k(3)}},4495:function(a,s,r){"use strict";var d=r(7388),c=r(9039),h=r(4475).String;a.exports=!!Object.getOwnPropertySymbols&&!c(function(){var f=Symbol("symbol detection");return!h(f)||!_instanceof(Object(f),Symbol)||!Symbol.sham&&d&&d<41})},8242:function(a,s,r){"use strict";var d=r(9565),c=r(7751),h=r(8227),f=r(6840);a.exports=function(){var v=c("Symbol"),b=v&&v.prototype,w=b&&b.valueOf,k=h("toPrimitive");b&&!b[k]&&f(b,k,function(C){return d(w,this)},{arity:1})}},1296:function(a,s,r){"use strict";var d=r(4495);a.exports=d&&!!Symbol.for&&!!Symbol.keyFor},9225:function(a,s,r){"use strict";var d,c,h,f,v=r(4475),b=r(8745),w=r(6080),k=r(4901),C=r(9297),E=r(9039),A=r(397),j=r(7680),y=r(4055),u=r(2812),p=r(8119),m=r(9088),_=v.setImmediate,x=v.clearImmediate,O=v.process,I=v.Dispatch,P=v.Function,D=v.MessageChannel,V=v.String,q=0,z={},he="onreadystatechange";E(function(){d=v.location});var Y=function(ae){if(C(z,ae)){var se=z[ae];delete z[ae],se()}},B=function(ae){return function(){Y(ae)}},F=function(ae){Y(ae.data)},ce=function(ae){v.postMessage(V(ae),d.protocol+"//"+d.host)};_&&x||(_=function(ae){u(arguments.length,1);var se=k(ae)?ae:P(ae),ve=j(arguments,1);return z[++q]=function(){b(se,void 0,ve)},c(q),q},x=function(ae){delete z[ae]},m?c=function(ae){O.nextTick(B(ae))}:I&&I.now?c=function(ae){I.now(B(ae))}:D&&!p?(f=(h=new D).port2,h.port1.onmessage=F,c=w(f.postMessage,f)):v.addEventListener&&k(v.postMessage)&&!v.importScripts&&d&&d.protocol!=="file:"&&!E(ce)?(c=ce,v.addEventListener("message",F,!1)):c=he in y("script")?function(ae){A.appendChild(y("script"))[he]=function(){A.removeChild(this),Y(ae)}}:function(J){setTimeout(B(J),0)}),a.exports={set:_,clear:x}},1240:function(a,s,r){"use strict";var d=r(9504);a.exports=d(1 .valueOf)},5610:function(a,s,r){"use strict";var d=r(1291),c=Math.max,h=Math.min;a.exports=function(f,v){var b=d(f);return b<0?c(b+v,0):h(b,v)}},5397:function(a,s,r){"use strict";var d=r(7055),c=r(7750);a.exports=function(h){return d(c(h))}},1291:function(a,s,r){"use strict";var d=r(741);a.exports=function(c){var h=+c;return h!=h||h===0?0:d(h)}},8014:function(a,s,r){"use strict";var d=r(1291),c=Math.min;a.exports=function(h){var f=d(h);return f>0?c(f,9007199254740991):0}},8981:function(a,s,r){"use strict";var d=r(7750),c=Object;a.exports=function(h){return c(d(h))}},2777:function(a,s,r){"use strict";var d=r(9565),c=r(34),h=r(757),f=r(5966),v=r(4270),b=r(8227),w=TypeError,k=b("toPrimitive");a.exports=function(C,E){if(!c(C)||h(C))return C;var A,j=f(C,k);if(j){if(E===void 0&&(E="default"),A=d(j,C,E),!c(A)||h(A))return A;throw new w("Can't convert object to primitive value")}return E===void 0&&(E="number"),v(C,E)}},6969:function(a,s,r){"use strict";var d=r(2777),c=r(757);a.exports=function(h){var f=d(h,"string");return c(f)?f:f+""}},2140:function(a,s,r){"use strict";var d={};d[r(8227)("toStringTag")]="z",a.exports=String(d)==="[object z]"},655:function(a,s,r){"use strict";var d=r(6955),c=String;a.exports=function(h){if(d(h)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return c(h)}},6823:function(a){"use strict";var s=String;a.exports=function(r){try{return s(r)}catch(d){return"Object"}}},3392:function(a,s,r){"use strict";var d=r(9504),c=0,h=Math.random(),f=d(1 .toString);a.exports=function(v){return"Symbol("+(v===void 0?"":v)+")_"+f(++c+h,36)}},7416:function(a,s,r){"use strict";var d=r(9039),c=r(8227),h=r(3724),f=r(6395),v=c("iterator");a.exports=!d(function(){var b=new URL("b?a=1&b=2&c=3","http://a"),w=b.searchParams,k=new URLSearchParams("a=1&a=2&b=3"),C="";return b.pathname="c%20d",w.forEach(function(E,A){w.delete("b"),C+=A+E}),k.delete("a",2),k.delete("b",void 0),f&&(!b.toJSON||!k.has("a",1)||k.has("a",2)||!k.has("a",void 0)||k.has("b"))||!w.size&&(f||!h)||!w.sort||b.href!=="http://a/c%20d?a=1&c=3"||w.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!w[v]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||C!=="a1c3"||new URL("http://x",void 0).host!=="x"})},7040:function(a,s,r){"use strict";var d=r(4495);a.exports=d&&!Symbol.sham&&_typeof(Symbol.iterator)=="symbol"},8686:function(a,s,r){"use strict";var d=r(3724),c=r(9039);a.exports=d&&c(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},2812:function(a){"use strict";var s=TypeError;a.exports=function(r,d){if(r<d)throw new s("Not enough arguments");return r}},8622:function(a,s,r){"use strict";var d=r(4475),c=r(4901),h=d.WeakMap;a.exports=c(h)&&/native code/.test(String(h))},511:function(a,s,r){"use strict";var d=r(9167),c=r(9297),h=r(1951),f=r(4913).f;a.exports=function(v){var b=d.Symbol||(d.Symbol={});c(b,v)||f(b,v,{value:h.f(v)})}},1951:function(a,s,r){"use strict";var d=r(8227);s.f=d},8227:function(a,s,r){"use strict";var d=r(4475),c=r(5745),h=r(9297),f=r(3392),v=r(4495),b=r(7040),w=d.Symbol,k=c("wks"),C=b?w.for||w:w&&w.withoutSetter||f;a.exports=function(E){return h(k,E)||(k[E]=v&&h(w,E)?w[E]:C("Symbol."+E)),k[E]}},7452:function(a){"use strict";a.exports="	\n\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF"},8706:function(a,s,r){"use strict";var d=r(6518),c=r(9039),h=r(4376),f=r(34),v=r(8981),b=r(6198),w=r(6837),k=r(4659),C=r(1469),E=r(597),A=r(8227),j=r(7388),y=A("isConcatSpreadable"),u=j>=51||!c(function(){var m=[];return m[y]=!1,m.concat()[0]!==m}),p=function(_){if(!f(_))return!1;var x=_[y];return x!==void 0?!!x:h(_)};d({target:"Array",proto:!0,arity:1,forced:!u||!E("concat")},{concat:function(_){var x,O,I,P,D,V=v(this),q=C(V,0),z=0;for(x=-1,I=arguments.length;x<I;x++)if(p(D=x===-1?V:arguments[x]))for(P=b(D),w(z+P),O=0;O<P;O++,z++)O in D&&k(q,z,D[O]);else w(z+1),k(q,z++,D);return q.length=z,q}})},3771:function(a,s,r){"use strict";var d=r(6518),c=r(4373),h=r(6469);d({target:"Array",proto:!0},{fill:c}),h("fill")},2008:function(a,s,r){"use strict";var d=r(6518),c=r(9213).filter;d({target:"Array",proto:!0,forced:!r(597)("filter")},{filter:function(f){return c(this,f,arguments.length>1?arguments[1]:void 0)}})},8980:function(a,s,r){"use strict";var d=r(6518),c=r(9213).findIndex,h=r(6469),f="findIndex",v=!0;f in[]&&Array(1)[f](function(){v=!1}),d({target:"Array",proto:!0,forced:v},{findIndex:function(w){return c(this,w,arguments.length>1?arguments[1]:void 0)}}),h(f)},113:function(a,s,r){"use strict";var d=r(6518),c=r(9213).find,h=r(6469),f="find",v=!0;f in[]&&Array(1)[f](function(){v=!1}),d({target:"Array",proto:!0,forced:v},{find:function(w){return c(this,w,arguments.length>1?arguments[1]:void 0)}}),h(f)},8350:function(a,s,r){"use strict";var d=r(6518),c=r(259),h=r(9306),f=r(8981),v=r(6198),b=r(1469);d({target:"Array",proto:!0},{flatMap:function(k){var C,E=f(this),A=v(E);return h(k),(C=b(E,0)).length=c(C,E,E,A,0,1,k,arguments.length>1?arguments[1]:void 0),C}})},6449:function(a,s,r){"use strict";var d=r(6518),c=r(259),h=r(8981),f=r(6198),v=r(1291),b=r(1469);d({target:"Array",proto:!0},{flat:function(){var k=arguments.length?arguments[0]:void 0,C=h(this),E=f(C),A=b(C,0);return A.length=c(A,C,C,E,0,k===void 0?1:v(k)),A}})},3418:function(a,s,r){"use strict";var d=r(6518),c=r(7916);d({target:"Array",stat:!0,forced:!r(4428)(function(h){Array.from(h)})},{from:c})},4423:function(a,s,r){"use strict";var d=r(6518),c=r(9617).includes,h=r(9039),f=r(6469);d({target:"Array",proto:!0,forced:h(function(){return!Array(1).includes()})},{includes:function(b){return c(this,b,arguments.length>1?arguments[1]:void 0)}}),f("includes")},3792:function(a,s,r){"use strict";var d=r(5397),c=r(6469),h=r(6269),f=r(1181),v=r(4913).f,b=r(1088),w=r(2529),k=r(6395),C=r(3724),E="Array Iterator",A=f.set,j=f.getterFor(E);a.exports=b(Array,"Array",function(u,p){A(this,{type:E,target:d(u),index:0,kind:p})},function(){var u=j(this),p=u.target,m=u.index++;if(!p||m>=p.length)return u.target=void 0,w(void 0,!0);switch(u.kind){case"keys":return w(m,!1);case"values":return w(p[m],!1)}return w([m,p[m]],!1)},"values");var y=h.Arguments=h.Array;if(c("keys"),c("values"),c("entries"),!k&&C&&y.name!=="values")try{v(y,"name",{value:"values"})}catch(u){}},8598:function(a,s,r){"use strict";var d=r(6518),c=r(9504),h=r(7055),f=r(5397),v=r(4598),b=c([].join);d({target:"Array",proto:!0,forced:h!==Object||!v("join",",")},{join:function(k){return b(f(this),k===void 0?",":k)}})},2062:function(a,s,r){"use strict";var d=r(6518),c=r(9213).map;d({target:"Array",proto:!0,forced:!r(597)("map")},{map:function(f){return c(this,f,arguments.length>1?arguments[1]:void 0)}})},2712:function(a,s,r){"use strict";var d=r(6518),c=r(926).left,h=r(4598),f=r(7388);d({target:"Array",proto:!0,forced:!r(9088)&&f>79&&f<83||!h("reduce")},{reduce:function(b){var w=arguments.length;return c(this,b,w,w>1?arguments[1]:void 0)}})},4490:function(a,s,r){"use strict";var d=r(6518),c=r(9504),h=r(4376),f=c([].reverse),v=[1,2];d({target:"Array",proto:!0,forced:String(v)===String(v.reverse())},{reverse:function(){return h(this)&&(this.length=this.length),f(this)}})},4782:function(a,s,r){"use strict";var d=r(6518),c=r(4376),h=r(3517),f=r(34),v=r(5610),b=r(6198),w=r(5397),k=r(4659),C=r(8227),E=r(597),A=r(7680),j=E("slice"),y=C("species"),u=Array,p=Math.max;d({target:"Array",proto:!0,forced:!j},{slice:function(_,x){var O,I,P,D=w(this),V=b(D),q=v(_,V),z=v(x===void 0?V:x,V);if(c(D)&&(O=D.constructor,(h(O)&&(O===u||c(O.prototype))||f(O)&&(O=O[y])===null)&&(O=void 0),O===u||O===void 0))return A(D,q,z);for(I=new(O===void 0?u:O)(p(z-q,0)),P=0;q<z;q++,P++)q in D&&k(I,P,D[q]);return I.length=P,I}})},6910:function(a,s,r){"use strict";var d=r(6518),c=r(9504),h=r(9306),f=r(8981),v=r(6198),b=r(4606),w=r(655),k=r(9039),C=r(4488),E=r(4598),A=r(8834),j=r(3202),y=r(7388),u=r(9160),p=[],m=c(p.sort),_=c(p.push),x=k(function(){p.sort(void 0)}),O=k(function(){p.sort(null)}),I=E("sort"),P=!k(function(){if(y)return y<70;if(!(A&&A>3)){if(j)return!0;if(u)return u<603;var D,V,q,z,he="";for(D=65;D<76;D++){switch(V=String.fromCharCode(D),D){case 66:case 69:case 70:case 72:q=3;break;case 68:case 71:q=4;break;default:q=2}for(z=0;z<47;z++)p.push({k:V+z,v:q})}for(p.sort(function(Y,B){return B.v-Y.v}),z=0;z<p.length;z++)V=p[z].k.charAt(0),he.charAt(he.length-1)!==V&&(he+=V);return he!=="DGBEFHACIJK"}});d({target:"Array",proto:!0,forced:x||!O||!I||!P},{sort:function(V){V!==void 0&&h(V);var q=f(this);if(P)return V===void 0?m(q):m(q,V);var z,he,Y=[],B=v(q);for(he=0;he<B;he++)he in q&&_(Y,q[he]);for(C(Y,function(F){return function(ce,J){return J===void 0?-1:ce===void 0?1:F!==void 0?+F(ce,J)||0:w(ce)>w(J)?1:-1}}(V)),z=v(Y),he=0;he<z;)q[he]=Y[he++];for(;he<B;)b(q,he++);return q}})},4554:function(a,s,r){"use strict";var d=r(6518),c=r(8981),h=r(5610),f=r(1291),v=r(6198),b=r(4527),w=r(6837),k=r(1469),C=r(4659),E=r(4606),A=r(597)("splice"),j=Math.max,y=Math.min;d({target:"Array",proto:!0,forced:!A},{splice:function(p,m){var _,x,O,I,P,D,V=c(this),q=v(V),z=h(p,q),he=arguments.length;for(he===0?_=x=0:he===1?(_=0,x=q-z):(_=he-2,x=y(j(f(m),0),q-z)),w(q+_-x),O=k(V,x),I=0;I<x;I++)(P=z+I)in V&&C(O,I,V[P]);if(O.length=x,_<x){for(I=z;I<q-x;I++)D=I+_,(P=I+x)in V?V[D]=V[P]:E(V,D);for(I=q;I>q-x+_;I--)E(V,I-1)}else if(_>x)for(I=q-x;I>z;I--)D=I+_-1,(P=I+x-1)in V?V[D]=V[P]:E(V,D);for(I=0;I<_;I++)V[I+z]=arguments[I+2];return b(V,q-x+_),O}})},237:function(a,s,r){"use strict";r(6469)("flatMap")},3514:function(a,s,r){"use strict";r(6469)("flat")},739:function(a,s,r){"use strict";var d=r(6518),c=r(9039),h=r(8981),f=r(2777);d({target:"Date",proto:!0,arity:1,forced:c(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1})},{toJSON:function(b){var w=h(this),k=f(w,"number");return typeof k!="number"||isFinite(k)?w.toISOString():null}})},9572:function(a,s,r){"use strict";var d=r(9297),c=r(6840),h=r(3640),f=r(8227)("toPrimitive"),v=Date.prototype;d(v,f)||c(v,f,h)},2010:function(a,s,r){"use strict";var d=r(3724),c=r(350).EXISTS,h=r(9504),f=r(2106),v=Function.prototype,b=h(v.toString),w=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,k=h(w.exec);d&&!c&&f(v,"name",{configurable:!0,get:function(){try{return k(w,b(this))[1]}catch(E){return""}}})},5081:function(a,s,r){"use strict";var d=r(6518),c=r(4475);d({global:!0,forced:c.globalThis!==c},{globalThis:c})},3110:function(a,s,r){"use strict";var d=r(6518),c=r(7751),h=r(8745),f=r(9565),v=r(9504),b=r(9039),w=r(4901),k=r(757),C=r(7680),E=r(6933),A=r(4495),j=String,y=c("JSON","stringify"),u=v(/./.exec),p=v("".charAt),m=v("".charCodeAt),_=v("".replace),x=v(1 .toString),O=/[\uD800-\uDFFF]/g,I=/^[\uD800-\uDBFF]$/,P=/^[\uDC00-\uDFFF]$/,D=!A||b(function(){var he=c("Symbol")("stringify detection");return y([he])!=="[null]"||y({a:he})!=="{}"||y(Object(he))!=="{}"}),V=b(function(){return y("\uDF06\uD834")!=='"\uDF06\uD834"'||y("\uDEAD")!=='"\uDEAD"'}),q=function(Y,B){var F=C(arguments),ce=E(B);if(w(ce)||Y!==void 0&&!k(Y))return F[1]=function(J,ae){if(w(ce)&&(ae=f(ce,this,j(J),ae)),!k(ae))return ae},h(y,null,F)},z=function(Y,B,F){var ce=p(F,B-1),J=p(F,B+1);return u(I,Y)&&!u(P,J)||u(P,Y)&&!u(I,ce)?"\\u"+x(m(Y,0),16):Y};y&&d({target:"JSON",stat:!0,arity:3,forced:D||V},{stringify:function(Y,B,F){var ce=C(arguments),J=h(D?q:y,null,ce);return V&&typeof J=="string"?_(J,O,z):J}})},4731:function(a,s,r){"use strict";var d=r(4475);r(687)(d.JSON,"JSON",!0)},8523:function(a,s,r){"use strict";r(6468)("Map",function(d){return function(){return d(this,arguments.length?arguments[0]:void 0)}},r(6938))},6033:function(a,s,r){"use strict";r(8523)},1367:function(a,s,r){"use strict";var d=r(6518),c=Math.log,h=Math.LN2;d({target:"Math",stat:!0},{log2:function(v){return c(v)/h}})},5914:function(a,s,r){"use strict";r(6518)({target:"Math",stat:!0},{sign:r(7782)})},479:function(a,s,r){"use strict";r(687)(Math,"Math",!0)},8130:function(a,s,r){"use strict";var d=r(6518),c=r(6395),h=r(3724),f=r(4475),v=r(9167),b=r(9504),w=r(2796),k=r(9297),C=r(3167),E=r(1625),A=r(757),j=r(2777),y=r(9039),u=r(8480).f,p=r(7347).f,m=r(4913).f,_=r(1240),x=r(3802).trim,O="Number",I=f[O],P=v[O],D=I.prototype,V=f.TypeError,q=b("".slice),z=b("".charCodeAt),he=w(O,!I(" 0o1")||!I("0b1")||I("+0x1")),Y=function(F){var ce,J=arguments.length<1?0:I(function(ae){var se=j(ae,"number");return(typeof se=="undefined"?"undefined":_typeof(se))=="bigint"?se:function(ve){var de,Be,it,mt,ot,Ae,xe,De,et=j(ve,"number");if(A(et))throw new V("Cannot convert a Symbol value to a number");if(typeof et=="string"&&et.length>2){if(et=x(et),(de=z(et,0))===43||de===45){if((Be=z(et,2))===88||Be===120)return NaN}else if(de===48){switch(z(et,1)){case 66:case 98:it=2,mt=49;break;case 79:case 111:it=8,mt=55;break;default:return+et}for(Ae=(ot=q(et,2)).length,xe=0;xe<Ae;xe++)if((De=z(ot,xe))<48||De>mt)return NaN;return parseInt(ot,it)}}return+et}(se)}(F));return E(D,ce=this)&&y(function(){_(ce)})?C(Object(J),this,Y):J};Y.prototype=D,he&&!c&&(D.constructor=Y),d({global:!0,constructor:!0,wrap:!0,forced:he},{Number:Y});var B=function(ce,J){for(var ae,se=h?u(J):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),ve=0;se.length>ve;ve++)k(J,ae=se[ve])&&!k(ce,ae)&&m(ce,ae,p(J,ae))};c&&P&&B(v[O],P),(he||c)&&B(v[O],I)},9085:function(a,s,r){"use strict";var d=r(6518),c=r(4213);d({target:"Object",stat:!0,arity:2,forced:Object.assign!==c},{assign:c})},2811:function(a,s,r){"use strict";var d=r(6518),c=r(2744),h=r(9039),f=r(34),v=r(3451).onFreeze,b=Object.freeze;d({target:"Object",stat:!0,forced:h(function(){b(1)}),sham:!c},{freeze:function(k){return b&&f(k)?b(v(k)):k}})},3851:function(a,s,r){"use strict";var d=r(6518),c=r(9039),h=r(5397),f=r(7347).f,v=r(3724);d({target:"Object",stat:!0,forced:!v||c(function(){f(1)}),sham:!v},{getOwnPropertyDescriptor:function(w,k){return f(h(w),k)}})},1278:function(a,s,r){"use strict";var d=r(6518),c=r(3724),h=r(5031),f=r(5397),v=r(7347),b=r(4659);d({target:"Object",stat:!0,sham:!c},{getOwnPropertyDescriptors:function(k){for(var C,E,A=f(k),j=v.f,y=h(A),u={},p=0;y.length>p;)(E=j(A,C=y[p++]))!==void 0&&b(u,C,E);return u}})},1480:function(a,s,r){"use strict";var d=r(6518),c=r(9039),h=r(298).f;d({target:"Object",stat:!0,forced:c(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:h})},9773:function(a,s,r){"use strict";var d=r(6518),c=r(4495),h=r(9039),f=r(3717),v=r(8981);d({target:"Object",stat:!0,forced:!c||h(function(){f.f(1)})},{getOwnPropertySymbols:function(w){var k=f.f;return k?k(v(w)):[]}})},875:function(a,s,r){"use strict";var d=r(6518),c=r(9039),h=r(8981),f=r(2787),v=r(2211);d({target:"Object",stat:!0,forced:c(function(){f(1)}),sham:!v},{getPrototypeOf:function(w){return f(h(w))}})},9432:function(a,s,r){"use strict";var d=r(6518),c=r(8981),h=r(1072);d({target:"Object",stat:!0,forced:r(9039)(function(){h(1)})},{keys:function(v){return h(c(v))}})},6099:function(a,s,r){"use strict";var d=r(2140),c=r(6840),h=r(3179);d||c(Object.prototype,"toString",h,{unsafe:!0})},6034:function(a,s,r){"use strict";var d=r(6518),c=r(2357).values;d({target:"Object",stat:!0},{values:function(f){return c(f)}})},8459:function(a,s,r){"use strict";var d=r(6518),c=r(3904);d({global:!0,forced:parseFloat!==c},{parseFloat:c})},8940:function(a,s,r){"use strict";var d=r(6518),c=r(2703);d({global:!0,forced:parseInt!==c},{parseInt:c})},6499:function(a,s,r){"use strict";var d=r(6518),c=r(9565),h=r(9306),f=r(6043),v=r(1103),b=r(2652);d({target:"Promise",stat:!0,forced:r(537)},{all:function(k){var C=this,E=f.f(C),A=E.resolve,j=E.reject,y=v(function(){var u=h(C.resolve),p=[],m=0,_=1;b(k,function(x){var O=m++,I=!1;_++,c(u,C,x).then(function(P){I||(I=!0,p[O]=P,--_||A(p))},j)}),--_||A(p)});return y.error&&j(y.value),E.promise}})},2003:function(a,s,r){"use strict";var d=r(6518),c=r(6395),h=r(916).CONSTRUCTOR,f=r(550),v=r(7751),b=r(4901),w=r(6840),k=f&&f.prototype;if(d({target:"Promise",proto:!0,forced:h,real:!0},{catch:function(A){return this.then(void 0,A)}}),!c&&b(f)){var C=v("Promise").prototype.catch;k.catch!==C&&w(k,"catch",C,{unsafe:!0})}},436:function(a,s,r){"use strict";var d,c,h,f=r(6518),v=r(6395),b=r(9088),w=r(4475),k=r(9565),C=r(6840),E=r(2967),A=r(687),j=r(7633),y=r(9306),u=r(4901),p=r(34),m=r(679),_=r(2293),x=r(9225).set,O=r(1955),I=r(3138),P=r(1103),D=r(8265),V=r(1181),q=r(550),z=r(916),he=r(6043),Y="Promise",B=z.CONSTRUCTOR,F=z.REJECTION_EVENT,ce=z.SUBCLASSING,J=V.getterFor(Y),ae=V.set,se=q&&q.prototype,ve=q,de=se,Be=w.TypeError,it=w.document,mt=w.process,ot=he.f,Ae=ot,xe=!!(it&&it.createEvent&&w.dispatchEvent),De="unhandledrejection",et=function(Ye){var We;return!(!p(Ye)||!u(We=Ye.then))&&We},Ve=function(Ye,We){var Ct,gt,nt,rt=We.value,ct=We.state===1,At=ct?Ye.ok:Ye.fail,Mt=Ye.resolve,Lt=Ye.reject,st=Ye.domain;try{At?(ct||(We.rejection===2&&_t(We),We.rejection=1),At===!0?Ct=rt:(st&&st.enter(),Ct=At(rt),st&&(st.exit(),nt=!0)),Ct===Ye.promise?Lt(new Be("Promise-chain cycle")):(gt=et(Ct))?k(gt,Ct,Mt,Lt):Mt(Ct)):Lt(rt)}catch(te){st&&!nt&&st.exit(),Lt(te)}},je=function(Ye,We){Ye.notified||(Ye.notified=!0,O(function(){for(var Ct,gt=Ye.reactions;Ct=gt.get();)Ve(Ct,Ye);Ye.notified=!1,We&&!Ye.rejection&&qe(Ye)}))},He=function(Ye,We,Ct){var gt,nt;xe?((gt=it.createEvent("Event")).promise=We,gt.reason=Ct,gt.initEvent(Ye,!1,!0),w.dispatchEvent(gt)):gt={promise:We,reason:Ct},!F&&(nt=w["on"+Ye])?nt(gt):Ye===De&&I("Unhandled promise rejection",Ct)},qe=function(Ye){k(x,w,function(){var We,Ct=Ye.facade,gt=Ye.value;if(lt(Ye)&&(We=P(function(){b?mt.emit("unhandledRejection",gt,Ct):He(De,Ct,gt)}),Ye.rejection=b||lt(Ye)?2:1,We.error))throw We.value})},lt=function(Ye){return Ye.rejection!==1&&!Ye.parent},_t=function(Ye){k(x,w,function(){var We=Ye.facade;b?mt.emit("rejectionHandled",We):He("rejectionhandled",We,Ye.value)})},be=function(Ye,We,Ct){return function(gt){Ye(We,gt,Ct)}},ze=function(Ye,We,Ct){Ye.done||(Ye.done=!0,Ct&&(Ye=Ct),Ye.value=We,Ye.state=2,je(Ye,!0))},Re=function($e,Ye,We){if(!$e.done){$e.done=!0,We&&($e=We);try{if($e.facade===Ye)throw new Be("Promise can't be resolved itself");var Ct=et(Ye);Ct?O(function(){var gt={done:!1};try{k(Ct,Ye,be(Re,gt,$e),be(ze,gt,$e))}catch(nt){ze(gt,nt,$e)}}):($e.value=Ye,$e.state=1,je($e,!1))}catch(gt){ze({done:!1},gt,$e)}}};if(B&&(de=(ve=function(Ye){m(this,de),y(Ye),k(d,this);var We=J(this);try{Ye(be(Re,We),be(ze,We))}catch(Ct){ze(We,Ct)}}).prototype,(d=function(Ye){ae(this,{type:Y,done:!1,notified:!1,parent:!1,reactions:new D,rejection:!1,state:0,value:void 0})}).prototype=C(de,"then",function($e,Ye){var We=J(this),Ct=ot(_(this,ve));return We.parent=!0,Ct.ok=!u($e)||$e,Ct.fail=u(Ye)&&Ye,Ct.domain=b?mt.domain:void 0,We.state===0?We.reactions.add(Ct):O(function(){Ve(Ct,We)}),Ct.promise}),c=function(){var Ye=new d,We=J(Ye);this.promise=Ye,this.resolve=be(Re,We),this.reject=be(ze,We)},he.f=ot=function(Ye){return Ye===ve||Ye===void 0?new c(Ye):Ae(Ye)},!v&&u(q)&&se!==Object.prototype)){h=se.then,ce||C(se,"then",function($e,Ye){var We=this;return new ve(function(Ct,gt){k(h,We,Ct,gt)}).then($e,Ye)},{unsafe:!0});try{delete se.constructor}catch($e){}E&&E(se,de)}f({global:!0,constructor:!0,wrap:!0,forced:B},{Promise:ve}),A(ve,Y,!1,!0),j(Y)},3362:function(a,s,r){"use strict";r(436),r(6499),r(2003),r(7743),r(1481),r(280)},7743:function(a,s,r){"use strict";var d=r(6518),c=r(9565),h=r(9306),f=r(6043),v=r(1103),b=r(2652);d({target:"Promise",stat:!0,forced:r(537)},{race:function(k){var C=this,E=f.f(C),A=E.reject,j=v(function(){var y=h(C.resolve);b(k,function(u){c(y,C,u).then(E.resolve,A)})});return j.error&&A(j.value),E.promise}})},1481:function(a,s,r){"use strict";var d=r(6518),c=r(6043);d({target:"Promise",stat:!0,forced:r(916).CONSTRUCTOR},{reject:function(f){var v=c.f(this);return(0,v.reject)(f),v.promise}})},280:function(a,s,r){"use strict";var d=r(6518),c=r(7751),h=r(6395),f=r(550),v=r(916).CONSTRUCTOR,b=r(3438),w=c("Promise"),k=h&&!v;d({target:"Promise",stat:!0,forced:h||v},{resolve:function(E){return b(k&&this===w?f:this,E)}})},825:function(a,s,r){"use strict";var d=r(6518),c=r(7751),h=r(8745),f=r(566),v=r(5548),b=r(8551),w=r(34),k=r(2360),C=r(9039),E=c("Reflect","construct"),A=Object.prototype,j=[].push,y=C(function(){var m=function(){};return!_instanceof(E(function(){},[],m),m)}),u=!C(function(){E(function(){})}),p=y||u;d({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(_,x){v(_),b(x);var O=arguments.length<3?_:v(arguments[2]);if(u&&!y)return E(_,x,O);if(_===O){switch(x.length){case 0:return new _;case 1:return new _(x[0]);case 2:return new _(x[0],x[1]);case 3:return new _(x[0],x[1],x[2]);case 4:return new _(x[0],x[1],x[2],x[3])}var I=[null];return h(j,I,x),new(h(f,_,I))}var P=O.prototype,D=k(w(P)?P:A),V=h(_,D,x);return w(V)?V:D}})},888:function(a,s,r){"use strict";var d=r(6518),c=r(9565),h=r(34),f=r(8551),v=r(6575),b=r(7347),w=r(2787);d({target:"Reflect",stat:!0},{get:function k(C,E){var A,j,y=arguments.length<3?C:arguments[2];return f(C)===y?C[E]:(A=b.f(C,E))?v(A)?A.value:A.get===void 0?void 0:c(A.get,y):h(j=w(C))?k(j,E,y):void 0}})},4864:function(a,s,r){"use strict";var d=r(3724),c=r(4475),h=r(9504),f=r(2796),v=r(3167),b=r(6699),w=r(2360),k=r(8480).f,C=r(1625),E=r(788),A=r(655),j=r(1034),y=r(8429),u=r(1056),p=r(6840),m=r(9039),_=r(9297),x=r(1181).enforce,O=r(7633),I=r(8227),P=r(3635),D=r(8814),V=I("match"),q=c.RegExp,z=q.prototype,he=c.SyntaxError,Y=h(z.exec),B=h("".charAt),F=h("".replace),ce=h("".indexOf),J=h("".slice),ae=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,se=/a/g,ve=/a/g,de=new q(se)!==se,Be=y.MISSED_STICKY,it=y.UNSUPPORTED_Y;if(f("RegExp",d&&(!de||Be||P||D||m(function(){return ve[V]=!1,q(se)!==se||q(ve)===ve||String(q(se,"i"))!=="/a/i"})))){for(var mt=function(xe,De){var et,Ve,je,He,qe,lt,_t=C(z,this),be=E(xe),ze=De===void 0,Re=[],$e=xe;if(!_t&&be&&ze&&xe.constructor===mt)return xe;if((be||C(z,xe))&&(xe=xe.source,ze&&(De=j($e))),xe=xe===void 0?"":A(xe),De=De===void 0?"":A(De),$e=xe,P&&"dotAll"in se&&(Ve=!!De&&ce(De,"s")>-1)&&(De=F(De,/s/g,"")),et=De,Be&&"sticky"in se&&(je=!!De&&ce(De,"y")>-1)&&it&&(De=F(De,/y/g,"")),D&&(He=function(Ye){for(var We,Ct=Ye.length,gt=0,nt="",rt=[],ct=w(null),At=!1,Mt=!1,Lt=0,st="";gt<=Ct;gt++){if((We=B(Ye,gt))==="\\")We+=B(Ye,++gt);else if(We==="]")At=!1;else if(!At)switch(!0){case We==="[":At=!0;break;case We==="(":Y(ae,J(Ye,gt+1))&&(gt+=2,Mt=!0),nt+=We,Lt++;continue;case(We===">"&&Mt):if(st===""||_(ct,st))throw new he("Invalid capture group name");ct[st]=!0,rt[rt.length]=[st,Lt],Mt=!1,st="";continue}Mt?st+=We:nt+=We}return[nt,rt]}(xe),xe=He[0],Re=He[1]),qe=v(q(xe,De),_t?this:z,mt),(Ve||je||Re.length)&&(lt=x(qe),Ve&&(lt.dotAll=!0,lt.raw=mt(function(Ye){for(var We,Ct=Ye.length,gt=0,nt="",rt=!1;gt<=Ct;gt++)(We=B(Ye,gt))!=="\\"?rt||We!=="."?(We==="["?rt=!0:We==="]"&&(rt=!1),nt+=We):nt+="[\\s\\S]":nt+=We+B(Ye,++gt);return nt}(xe),et)),je&&(lt.sticky=!0),Re.length&&(lt.groups=Re)),xe!==$e)try{b(qe,"source",$e===""?"(?:)":$e)}catch(Ye){}return qe},ot=k(q),Ae=0;ot.length>Ae;)u(mt,q,ot[Ae++]);z.constructor=mt,mt.prototype=z,p(c,"RegExp",mt,{constructor:!0})}O("RegExp")},7495:function(a,s,r){"use strict";var d=r(6518),c=r(7323);d({target:"RegExp",proto:!0,forced:/./.exec!==c},{exec:c})},8781:function(a,s,r){"use strict";var d=r(350).PROPER,c=r(6840),h=r(8551),f=r(655),v=r(9039),b=r(1034),w="toString",k=RegExp.prototype,C=k[w],E=v(function(){return C.call({source:"a",flags:"b"})!=="/a/b"}),A=d&&C.name!==w;(E||A)&&c(k,w,function(){var j=h(this);return"/"+f(j.source)+"/"+f(b(j))},{unsafe:!0})},2405:function(a,s,r){"use strict";r(6468)("Set",function(d){return function(){return d(this,arguments.length?arguments[0]:void 0)}},r(6938))},1415:function(a,s,r){"use strict";r(2405)},9449:function(a,s,r){"use strict";var d,c=r(6518),h=r(7476),f=r(7347).f,v=r(8014),b=r(655),w=r(2892),k=r(7750),C=r(1436),E=r(6395),A=h("".slice),j=Math.min,y=C("endsWith");c({target:"String",proto:!0,forced:!(!E&&!y&&(d=f(String.prototype,"endsWith"),d&&!d.writable)||y)},{endsWith:function(p){var m=b(k(this));w(p);var _=arguments.length>1?arguments[1]:void 0,x=m.length,O=_===void 0?x:j(v(_),x),I=b(p);return A(m,O-I.length,O)===I}})},1699:function(a,s,r){"use strict";var d=r(6518),c=r(9504),h=r(2892),f=r(7750),v=r(655),b=r(1436),w=c("".indexOf);d({target:"String",proto:!0,forced:!b("includes")},{includes:function(C){return!!~w(v(f(this)),v(h(C)),arguments.length>1?arguments[1]:void 0)}})},7764:function(a,s,r){"use strict";var d=r(8183).charAt,c=r(655),h=r(1181),f=r(1088),v=r(2529),b="String Iterator",w=h.set,k=h.getterFor(b);f(String,"String",function(C){w(this,{type:b,string:c(C),index:0})},function(){var C,E=k(this),A=E.string,j=E.index;return j>=A.length?v(void 0,!0):(C=d(A,j),E.index+=C.length,v(C,!1))})},1761:function(a,s,r){"use strict";var d=r(9565),c=r(9228),h=r(8551),f=r(4117),v=r(8014),b=r(655),w=r(7750),k=r(5966),C=r(7829),E=r(6682);c("match",function(A,j,y){return[function(u){var p=w(this),m=f(u)?void 0:k(u,A);return m?d(m,u,p):new RegExp(u)[A](b(p))},function(u){var p=h(this),m=b(u),_=y(j,p,m);if(_.done)return _.value;if(!p.global)return E(p,m);var x=p.unicode;p.lastIndex=0;for(var O,I=[],P=0;(O=E(p,m))!==null;){var D=b(O[0]);I[P]=D,D===""&&(p.lastIndex=C(m,v(p.lastIndex),x)),P++}return P===0?null:I}]})},5440:function(a,s,r){"use strict";var d=r(8745),c=r(9565),h=r(9504),f=r(9228),v=r(9039),b=r(8551),w=r(4901),k=r(4117),C=r(1291),E=r(8014),A=r(655),j=r(7750),y=r(7829),u=r(5966),p=r(2478),m=r(6682),_=r(8227)("replace"),x=Math.max,O=Math.min,I=h([].concat),P=h([].push),D=h("".indexOf),V=h("".slice),q="a".replace(/./,"$0")==="$0",z=!!/./[_]&&/./[_]("a","$0")==="";f("replace",function(he,Y,B){var F=z?"$":"$0";return[function(ce,J){var ae=j(this),se=k(ce)?void 0:u(ce,_);return se?c(se,ce,ae,J):c(Y,A(ae),ce,J)},function(ce,J){var ae=b(this),se=A(ce);if(typeof J=="string"&&D(J,F)===-1&&D(J,"$<")===-1){var ve=B(Y,ae,se,J);if(ve.done)return ve.value}var de=w(J);de||(J=A(J));var Be,it=ae.global;it&&(Be=ae.unicode,ae.lastIndex=0);for(var mt,ot=[];(mt=m(ae,se))!==null&&(P(ot,mt),it);)A(mt[0])===""&&(ae.lastIndex=y(se,E(ae.lastIndex),Be));for(var Ae,xe="",De=0,et=0;et<ot.length;et++){for(var Ve,je=A((mt=ot[et])[0]),He=x(O(C(mt.index),se.length),0),qe=[],lt=1;lt<mt.length;lt++)P(qe,(Ae=mt[lt])===void 0?Ae:String(Ae));var _t=mt.groups;if(de){var be=I([je],qe,He,se);_t!==void 0&&P(be,_t),Ve=A(d(J,void 0,be))}else Ve=p(je,se,He,qe,_t,J);He>=De&&(xe+=V(se,De,He)+Ve,De=He+je.length)}return xe+V(se,De)}]},!!v(function(){var he=/./;return he.exec=function(){var Y=[];return Y.groups={a:"7"},Y},"".replace(he,"$<a>")!=="7"})||!q||z)},5746:function(a,s,r){"use strict";var d=r(9565),c=r(9228),h=r(8551),f=r(4117),v=r(7750),b=r(3470),w=r(655),k=r(5966),C=r(6682);c("search",function(E,A,j){return[function(y){var u=v(this),p=f(y)?void 0:k(y,E);return p?d(p,y,u):new RegExp(y)[E](w(u))},function(y){var u=h(this),p=w(y),m=j(A,u,p);if(m.done)return m.value;var _=u.lastIndex;b(_,0)||(u.lastIndex=0);var x=C(u,p);return b(u.lastIndex,_)||(u.lastIndex=_),x===null?-1:x.index}]})},744:function(a,s,r){"use strict";var d=r(9565),c=r(9504),h=r(9228),f=r(8551),v=r(4117),b=r(7750),w=r(2293),k=r(7829),C=r(8014),E=r(655),A=r(5966),j=r(6682),y=r(8429),u=r(9039),p=y.UNSUPPORTED_Y,m=Math.min,_=c([].push),x=c("".slice),O=!u(function(){var P=/(?:)/,D=P.exec;P.exec=function(){return D.apply(this,arguments)};var V="ab".split(P);return V.length!==2||V[0]!=="a"||V[1]!=="b"}),I="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;h("split",function(P,D,V){var q="0".split(void 0,0).length?function(he,Y){return he===void 0&&Y===0?[]:d(D,this,he,Y)}:D;return[function(z,he){var Y=b(this),B=v(z)?void 0:A(z,P);return B?d(B,z,Y,he):d(q,E(Y),z,he)},function(z,he){var Y=f(this),B=E(z);if(!I){var F=V(q,Y,B,he,q!==D);if(F.done)return F.value}var ce=w(Y,RegExp),J=Y.unicode,ae=(Y.ignoreCase?"i":"")+(Y.multiline?"m":"")+(Y.unicode?"u":"")+(p?"g":"y"),se=new ce(p?"^(?:"+Y.source+")":Y,ae),ve=he===void 0?4294967295:he>>>0;if(ve===0)return[];if(B.length===0)return j(se,B)===null?[B]:[];for(var de=0,Be=0,it=[];Be<B.length;){se.lastIndex=p?0:Be;var mt,ot=j(se,p?x(B,Be):B);if(ot===null||(mt=m(C(se.lastIndex+(p?Be:0)),B.length))===de)Be=k(B,Be,J);else{if(_(it,x(B,de,Be)),it.length===ve)return it;for(var Ae=1;Ae<=ot.length-1;Ae++)if(_(it,ot[Ae]),it.length===ve)return it;Be=de=mt}}return _(it,x(B,de)),it}]},I||!O,p)},1392:function(a,s,r){"use strict";var d,c=r(6518),h=r(7476),f=r(7347).f,v=r(8014),b=r(655),w=r(2892),k=r(7750),C=r(1436),E=r(6395),A=h("".slice),j=Math.min,y=C("startsWith");c({target:"String",proto:!0,forced:!(!E&&!y&&(d=f(String.prototype,"startsWith"),d&&!d.writable)||y)},{startsWith:function(p){var m=b(k(this));w(p);var _=v(j(arguments.length>1?arguments[1]:void 0,m.length)),x=b(p);return A(m,_,_+x.length)===x}})},6412:function(a,s,r){"use strict";r(511)("asyncIterator")},6761:function(a,s,r){"use strict";var d=r(6518),c=r(4475),h=r(9565),f=r(9504),v=r(6395),b=r(3724),w=r(4495),k=r(9039),C=r(9297),E=r(1625),A=r(8551),j=r(5397),y=r(6969),u=r(655),p=r(6980),m=r(2360),_=r(1072),x=r(8480),O=r(298),I=r(3717),P=r(7347),D=r(4913),V=r(6801),q=r(8773),z=r(6840),he=r(2106),Y=r(5745),B=r(6119),F=r(421),ce=r(3392),J=r(8227),ae=r(1951),se=r(511),ve=r(8242),de=r(687),Be=r(1181),it=r(9213).forEach,mt=B("hidden"),ot="Symbol",Ae="prototype",xe=Be.set,De=Be.getterFor(ot),et=Object[Ae],Ve=c.Symbol,je=Ve&&Ve[Ae],He=c.RangeError,qe=c.TypeError,lt=c.QObject,_t=P.f,be=D.f,ze=O.f,Re=q.f,$e=f([].push),Ye=Y("symbols"),We=Y("op-symbols"),Ct=Y("wks"),gt=!lt||!lt[Ae]||!lt[Ae].findChild,nt=function(Yt,N,Ze){var ge=_t(et,N);ge&&delete et[N],be(Yt,N,Ze),ge&&Yt!==et&&be(et,N,ge)},rt=b&&k(function(){return m(be({},"a",{get:function(){return be(this,"a",{value:7}).a}})).a!==7})?nt:be,ct=function(Yt,N){var Ze=Ye[Yt]=m(je);return xe(Ze,{type:ot,tag:Yt,description:N}),b||(Ze.description=N),Ze},At=function(Ft,Yt,N){Ft===et&&At(We,Yt,N),A(Ft);var Ze=y(Yt);return A(N),C(Ye,Ze)?(N.enumerable?(C(Ft,mt)&&Ft[mt][Ze]&&(Ft[mt][Ze]=!1),N=m(N,{enumerable:p(0,!1)})):(C(Ft,mt)||be(Ft,mt,p(1,m(null))),Ft[mt][Ze]=!0),rt(Ft,Ze,N)):be(Ft,Ze,N)},Mt=function(Yt,N){A(Yt);var Ze=j(N),ge=_(Ze).concat(Jt(Ze));return it(ge,function(ie){b&&!h(Lt,Ze,ie)||At(Yt,ie,Ze[ie])}),Yt},Lt=function(Yt){var N=y(Yt),Ze=h(Re,this,N);return!(this===et&&C(Ye,N)&&!C(We,N))&&(!(Ze||!C(this,N)||!C(Ye,N)||C(this,mt)&&this[mt][N])||Ze)},st=function(Yt,N){var Ze=j(Yt),ge=y(N);if(Ze!==et||!C(Ye,ge)||C(We,ge)){var ie=_t(Ze,ge);return!ie||!C(Ye,ge)||C(Ze,mt)&&Ze[mt][ge]||(ie.enumerable=!0),ie}},te=function(Yt){var N=ze(j(Yt)),Ze=[];return it(N,function(ge){C(Ye,ge)||C(F,ge)||$e(Ze,ge)}),Ze},Jt=function(Yt){var N=Yt===et,Ze=ze(N?We:j(Yt)),ge=[];return it(Ze,function(ie){!C(Ye,ie)||N&&!C(et,ie)||$e(ge,Ye[ie])}),ge};w||(Ve=function(){if(E(je,this))throw new qe("Symbol is not a constructor");var Yt=arguments.length&&arguments[0]!==void 0?u(arguments[0]):void 0,N=ce(Yt),Ze=function(ge){var ie=this===void 0?c:this;ie===et&&h(Ze,We,ge),C(ie,mt)&&C(ie[mt],N)&&(ie[mt][N]=!1);var G=p(1,ge);try{rt(ie,N,G)}catch(H){if(!_instanceof(H,He))throw H;nt(ie,N,G)}};return b&&gt&&rt(et,N,{configurable:!0,set:Ze}),ct(N,Yt)},z(je=Ve[Ae],"toString",function(){return De(this).tag}),z(Ve,"withoutSetter",function(Ft){return ct(ce(Ft),Ft)}),q.f=Lt,D.f=At,V.f=Mt,P.f=st,x.f=O.f=te,I.f=Jt,ae.f=function(Ft){return ct(J(Ft),Ft)},b&&(he(je,"description",{configurable:!0,get:function(){return De(this).description}}),v||z(et,"propertyIsEnumerable",Lt,{unsafe:!0}))),d({global:!0,constructor:!0,wrap:!0,forced:!w,sham:!w},{Symbol:Ve}),it(_(Ct),function(Ft){se(Ft)}),d({target:ot,stat:!0,forced:!w},{useSetter:function(){gt=!0},useSimple:function(){gt=!1}}),d({target:"Object",stat:!0,forced:!w,sham:!b},{create:function(Yt,N){return N===void 0?m(Yt):Mt(m(Yt),N)},defineProperty:At,defineProperties:Mt,getOwnPropertyDescriptor:st}),d({target:"Object",stat:!0,forced:!w},{getOwnPropertyNames:te}),ve(),de(Ve,ot),F[mt]=!0},9463:function(a,s,r){"use strict";var d=r(6518),c=r(3724),h=r(4475),f=r(9504),v=r(9297),b=r(4901),w=r(1625),k=r(655),C=r(2106),E=r(7740),A=h.Symbol,j=A&&A.prototype;if(c&&b(A)&&(!("description"in j)||A().description!==void 0)){var y={},u=function(){var D=arguments.length<1||arguments[0]===void 0?void 0:k(arguments[0]),V=w(j,this)?new A(D):D===void 0?A():A(D);return D===""&&(y[V]=!0),V};E(u,A),u.prototype=j,j.constructor=u;var p=String(A("description detection"))==="Symbol(description detection)",m=f(j.valueOf),_=f(j.toString),x=/^Symbol\((.*)\)[^)]+$/,O=f("".replace),I=f("".slice);C(j,"description",{configurable:!0,get:function(){var D=m(this);if(v(y,D))return"";var V=_(D),q=p?I(V,7,-1):O(V,x,"$1");return q===""?void 0:q}}),d({global:!0,constructor:!0,forced:!0},{Symbol:u})}},1510:function(a,s,r){"use strict";var d=r(6518),c=r(7751),h=r(9297),f=r(655),v=r(5745),b=r(1296),w=v("string-to-symbol-registry"),k=v("symbol-to-string-registry");d({target:"Symbol",stat:!0,forced:!b},{for:function(E){var A=f(E);if(h(w,A))return w[A];var j=c("Symbol")(A);return w[A]=j,k[j]=A,j}})},2259:function(a,s,r){"use strict";r(511)("iterator")},2675:function(a,s,r){"use strict";r(6761),r(1510),r(7812),r(3110),r(9773)},7812:function(a,s,r){"use strict";var d=r(6518),c=r(9297),h=r(757),f=r(6823),v=r(5745),b=r(1296),w=v("symbol-to-string-registry");d({target:"Symbol",stat:!0,forced:!b},{keyFor:function(C){if(!h(C))throw new TypeError(f(C)+" is not a symbol");if(c(w,C))return w[C]}})},5700:function(a,s,r){"use strict";var d=r(511),c=r(8242);d("toPrimitive"),c()},8125:function(a,s,r){"use strict";var d=r(7751),c=r(511),h=r(687);c("toStringTag"),h(d("Symbol"),"Symbol")},3365:function(a,s,r){"use strict";var d,c=r(2744),h=r(4475),f=r(9504),v=r(6279),b=r(3451),w=r(6468),k=r(4006),C=r(34),E=r(1181).enforce,A=r(9039),j=r(8622),y=Object,u=Array.isArray,p=y.isExtensible,m=y.isFrozen,_=y.isSealed,x=y.freeze,O=y.seal,I=!h.ActiveXObject&&"ActiveXObject"in h,P=function(F){return function(){return F(this,arguments.length?arguments[0]:void 0)}},D=w("WeakMap",P,k),V=D.prototype,q=f(V.set);if(j)if(I){d=k.getConstructor(P,"WeakMap",!0),b.enable();var z=f(V.delete),he=f(V.has),Y=f(V.get);v(V,{delete:function(F){if(C(F)&&!p(F)){var ce=E(this);return ce.frozen||(ce.frozen=new d),z(this,F)||ce.frozen.delete(F)}return z(this,F)},has:function(F){if(C(F)&&!p(F)){var ce=E(this);return ce.frozen||(ce.frozen=new d),he(this,F)||ce.frozen.has(F)}return he(this,F)},get:function(F){if(C(F)&&!p(F)){var ce=E(this);return ce.frozen||(ce.frozen=new d),he(this,F)?Y(this,F):ce.frozen.get(F)}return Y(this,F)},set:function(F,ce){if(C(F)&&!p(F)){var J=E(this);J.frozen||(J.frozen=new d),he(this,F)?q(this,F,ce):J.frozen.set(F,ce)}else q(this,F,ce);return this}})}else c&&A(function(){var B=x([]);return q(new D,B,1),!m(B)})&&v(V,{set:function(F,ce){var J;return u(F)&&(m(F)?J=x:_(F)&&(J=O)),q(this,F,ce),J&&J(F),this}})},3772:function(a,s,r){"use strict";r(3365)},2480:function(a,s,r){"use strict";r(5081)},3500:function(a,s,r){"use strict";var d=r(4475),c=r(7400),h=r(9296),f=r(235),v=r(6699),b=function(C){if(C&&C.forEach!==f)try{v(C,"forEach",f)}catch(E){C.forEach=f}};for(var w in c)c[w]&&b(d[w]&&d[w].prototype);b(h)},2953:function(a,s,r){"use strict";var d=r(4475),c=r(7400),h=r(9296),f=r(3792),v=r(6699),b=r(687),w=r(8227)("iterator"),k=f.values,C=function(j,y){if(j){if(j[w]!==k)try{v(j,w,k)}catch(p){j[w]=k}if(b(j,y,!0),c[y]){for(var u in f)if(j[u]!==f[u])try{v(j,u,f[u])}catch(p){j[u]=f[u]}}}};for(var E in c)C(d[E]&&d[E].prototype,E);C(h,"DOMTokenList")},8406:function(a,s,r){"use strict";r(3792);var d=r(6518),c=r(4475),h=r(3389),f=r(9565),v=r(9504),b=r(3724),w=r(7416),k=r(6840),C=r(2106),E=r(6279),A=r(687),j=r(3994),y=r(1181),u=r(679),p=r(4901),m=r(9297),_=r(6080),x=r(6955),O=r(8551),I=r(34),P=r(655),D=r(2360),V=r(6980),q=r(81),z=r(851),he=r(2529),Y=r(2812),B=r(8227),F=r(4488),ce=B("iterator"),J="URLSearchParams",ae=J+"Iterator",se=y.set,ve=y.getterFor(J),de=y.getterFor(ae),Be=h("fetch"),it=h("Request"),mt=h("Headers"),ot=it&&it.prototype,Ae=mt&&mt.prototype,xe=c.RegExp,De=c.TypeError,et=c.decodeURIComponent,Ve=c.encodeURIComponent,je=v("".charAt),He=v([].join),qe=v([].push),lt=v("".replace),_t=v([].shift),be=v([].splice),ze=v("".split),Re=v("".slice),$e=/\+/g,Ye=Array(4),We=function(ge){return Ye[ge-1]||(Ye[ge-1]=xe("((?:%[\\da-f]{2}){"+ge+"})","gi"))},Ct=function(ge){try{return et(ge)}catch(ie){return ge}},gt=function(ge){var ie=lt(ge,$e," "),G=4;try{return et(ie)}catch(H){for(;G;)ie=lt(ie,We(G--),Ct);return ie}},nt=/[!'()~]|%20/g,rt={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ct=function(ge){return rt[ge]},At=function(ge){return lt(Ve(ge),nt,ct)},Mt=j(function(Ze,ge){se(this,{type:ae,target:ve(Ze).entries,index:0,kind:ge})},J,function(){var Ze=de(this),ge=Ze.target,ie=Ze.index++;if(!ge||ie>=ge.length)return Ze.target=void 0,he(void 0,!0);var G=ge[ie];switch(Ze.kind){case"keys":return he(G.key,!1);case"values":return he(G.value,!1)}return he([G.key,G.value],!1)},!0),Lt=function(ge){this.entries=[],this.url=null,ge!==void 0&&(I(ge)?this.parseObject(ge):this.parseQuery(typeof ge=="string"?je(ge,0)==="?"?Re(ge,1):ge:P(ge)))};Lt.prototype={type:J,bindURL:function(ge){this.url=ge,this.update()},parseObject:function(ge){var ie,G,H,Z,oe,me,Oe,Pe=this.entries,Xe=z(ge);if(Xe)for(G=(ie=q(ge,Xe)).next;!(H=f(G,ie)).done;){if(oe=(Z=q(O(H.value))).next,(me=f(oe,Z)).done||(Oe=f(oe,Z)).done||!f(oe,Z).done)throw new De("Expected sequence with length 2");qe(Pe,{key:P(me.value),value:P(Oe.value)})}else for(var Me in ge)m(ge,Me)&&qe(Pe,{key:Me,value:P(ge[Me])})},parseQuery:function(ge){if(ge)for(var ie,G,H=this.entries,Z=ze(ge,"&"),oe=0;oe<Z.length;)(ie=Z[oe++]).length&&(G=ze(ie,"="),qe(H,{key:gt(_t(G)),value:gt(He(G,"="))}))},serialize:function(){for(var ge,ie=this.entries,G=[],H=0;H<ie.length;)ge=ie[H++],qe(G,At(ge.key)+"="+At(ge.value));return He(G,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var st=function(){u(this,te);var ge=se(this,new Lt(arguments.length>0?arguments[0]:void 0));b||(this.size=ge.entries.length)},te=st.prototype;if(E(te,{append:function(ge,ie){var G=ve(this);Y(arguments.length,2),qe(G.entries,{key:P(ge),value:P(ie)}),b||this.length++,G.updateURL()},delete:function(ge){for(var ie=ve(this),G=Y(arguments.length,1),H=ie.entries,Z=P(ge),oe=G<2?void 0:arguments[1],me=oe===void 0?oe:P(oe),Oe=0;Oe<H.length;){var Pe=H[Oe];if(Pe.key!==Z||me!==void 0&&Pe.value!==me)Oe++;else if(be(H,Oe,1),me!==void 0)break}b||(this.size=H.length),ie.updateURL()},get:function(ge){var ie=ve(this).entries;Y(arguments.length,1);for(var G=P(ge),H=0;H<ie.length;H++)if(ie[H].key===G)return ie[H].value;return null},getAll:function(ge){var ie=ve(this).entries;Y(arguments.length,1);for(var G=P(ge),H=[],Z=0;Z<ie.length;Z++)ie[Z].key===G&&qe(H,ie[Z].value);return H},has:function(ge){for(var ie=ve(this).entries,G=Y(arguments.length,1),H=P(ge),Z=G<2?void 0:arguments[1],oe=Z===void 0?Z:P(Z),me=0;me<ie.length;){var Oe=ie[me++];if(Oe.key===H&&(oe===void 0||Oe.value===oe))return!0}return!1},set:function(ge,ie){var G=ve(this);Y(arguments.length,1);for(var H,Z=G.entries,oe=!1,me=P(ge),Oe=P(ie),Pe=0;Pe<Z.length;Pe++)(H=Z[Pe]).key===me&&(oe?be(Z,Pe--,1):(oe=!0,H.value=Oe));oe||qe(Z,{key:me,value:Oe}),b||(this.size=Z.length),G.updateURL()},sort:function(){var ge=ve(this);F(ge.entries,function(ie,G){return ie.key>G.key?1:-1}),ge.updateURL()},forEach:function(ge){for(var ie,G=ve(this).entries,H=_(ge,arguments.length>1?arguments[1]:void 0),Z=0;Z<G.length;)H((ie=G[Z++]).value,ie.key,this)},keys:function(){return new Mt(this,"keys")},values:function(){return new Mt(this,"values")},entries:function(){return new Mt(this,"entries")}},{enumerable:!0}),k(te,ce,te.entries,{name:"entries"}),k(te,"toString",function(){return ve(this).serialize()},{enumerable:!0}),b&&C(te,"size",{get:function(){return ve(this).entries.length},configurable:!0,enumerable:!0}),A(st,J),d({global:!0,constructor:!0,forced:!w},{URLSearchParams:st}),!w&&p(mt)){var Jt=v(Ae.has),Ft=v(Ae.set),Yt=function(ge){if(I(ge)){var ie,G=ge.body;if(x(G)===J)return ie=ge.headers?new mt(ge.headers):new mt,Jt(ie,"content-type")||Ft(ie,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),D(ge,{body:V(0,P(G)),headers:V(0,ie)})}return ge};if(p(Be)&&d({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(ge){return Be(ge,arguments.length>1?Yt(arguments[1]):{})}}),p(it)){var N=function(ge){return u(this,ot),new it(ge,arguments.length>1?Yt(arguments[1]):{})};ot.constructor=N,N.prototype=ot,d({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:N})}}a.exports={URLSearchParams:st,getState:ve}},8408:function(a,s,r){"use strict";r(8406)},1091:function(a,s,r){"use strict";var d=function(C,E){(E==null||E>C.length)&&(E=C.length);for(var A=0,j=Array(E);A<E;A++)j[A]=C[A];return j},c=function(C,E){for(var A=0;A<E.length;A++){var j=E[A];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(C,h(j.key),j)}},h=function(C){var E=function(A,j){if(f(A)!="object"||!A)return A;var y=A[Symbol.toPrimitive];if(y!==void 0){var u=y.call(A,"string");if(f(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(A)}(C);return f(E)=="symbol"?E:E+""};function f(k){return f=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(E){return typeof E=="undefined"?"undefined":_typeof(E)}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C=="undefined"?"undefined":_typeof(C)},f(k)}r.d(s,{OA:function(){return v},WL:function(){return w},u$:function(){return b}}),r(2675),r(9463),r(2259),r(5700),r(3418),r(3792),r(4782),r(9572),r(2010),r(8130),r(6099),r(7495),r(8781),r(7764),r(2953);var v={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},b=function(C){return function(){for(var E=arguments.length,A=new Array(E),j=0;j<E;j++)A[j]=arguments[j];return{_$litDirective$:C,values:A}}},w=function(){return function(k,C,E){return C&&c(k.prototype,C),Object.defineProperty(k,"prototype",{writable:!1}),k}(function k(C){(function(E,A){if(!_instanceof(E,A))throw new TypeError("Cannot call a class as a function")})(this,k)},[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AT",value:function(C,E,A){this._$Ct=C,this._$AM=E,this._$Ci=A}},{key:"_$AS",value:function(C,E){return this.update(C,E)}},{key:"update",value:function(C,E){return this.render.apply(this,function(j){if(Array.isArray(j))return d(j)}(A=E)||function(j){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&j[Symbol.iterator]!=null||j["@@iterator"]!=null)return Array.from(j)}(A)||function(j,y){if(j){if(typeof j=="string")return d(j,y);var u={}.toString.call(j).slice(8,-1);return u==="Object"&&j.constructor&&(u=j.constructor.name),u==="Map"||u==="Set"?Array.from(j):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?d(j,y):void 0}}(A)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var A}}])}()},6681:function(a,s,r){"use strict";var d=function(nt,rt,ct){return rt=y(rt),function(At,Mt){if(Mt&&(p(Mt)=="object"||typeof Mt=="function"))return Mt;if(Mt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Lt){if(Lt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Lt}(At)}(nt,j()?Reflect.construct(rt,ct||[],y(nt).constructor):rt.apply(nt,ct))},c=function(nt,rt){if(typeof rt!="function"&&rt!==null)throw new TypeError("Super expression must either be null or a function");nt.prototype=Object.create(rt&&rt.prototype,{constructor:{value:nt,writable:!0,configurable:!0}}),Object.defineProperty(nt,"prototype",{writable:!1}),rt&&u(nt,rt)},h=function(nt,rt){var ct=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&nt[Symbol.iterator]||nt["@@iterator"];if(!ct){if(Array.isArray(nt)||(ct=f(nt))||rt&&nt&&typeof nt.length=="number"){ct&&(nt=ct);var At=0,Mt=function(){};return{s:Mt,n:function(){return At>=nt.length?{done:!0}:{done:!1,value:nt[At++]}},e:function(Ft){throw Ft},f:Mt}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Lt,st=!0,te=!1;return{s:function(){ct=ct.call(nt)},n:function(){var Ft=ct.next();return st=Ft.done,Ft},e:function(Ft){te=!0,Lt=Ft},f:function(){try{st||ct.return==null||ct.return()}finally{if(te)throw Lt}}}},f=function(nt,rt){if(nt){if(typeof nt=="string")return v(nt,rt);var ct={}.toString.call(nt).slice(8,-1);return ct==="Object"&&nt.constructor&&(ct=nt.constructor.name),ct==="Map"||ct==="Set"?Array.from(nt):ct==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ct)?v(nt,rt):void 0}},v=function(nt,rt){(rt==null||rt>nt.length)&&(rt=nt.length);for(var ct=0,At=Array(rt);ct<rt;ct++)At[ct]=nt[ct];return At},b=function(nt,rt){if(!_instanceof(nt,rt))throw new TypeError("Cannot call a class as a function")},w=function(nt,rt){for(var ct=0;ct<rt.length;ct++){var At=rt[ct];At.enumerable=At.enumerable||!1,At.configurable=!0,"value"in At&&(At.writable=!0),Object.defineProperty(nt,C(At.key),At)}},k=function(nt,rt,ct){return rt&&w(nt.prototype,rt),ct&&w(nt,ct),Object.defineProperty(nt,"prototype",{writable:!1}),nt},C=function(nt){var rt=function(ct,At){if(p(ct)!="object"||!ct)return ct;var Mt=ct[Symbol.toPrimitive];if(Mt!==void 0){var Lt=Mt.call(ct,"string");if(p(Lt)!="object")return Lt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ct)}(nt);return p(rt)=="symbol"?rt:rt+""},E=function(nt,rt){if(!Array.isArray(nt)||!nt.hasOwnProperty("raw"))throw Error("invalid template strings array");return x!==void 0?x.createHTML(rt):rt},A;function j(){try{var gt=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(nt){}return(j=function(){return!!gt})()}function y(gt){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},y(gt)}function u(gt,nt){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ct,At){return ct.__proto__=At,ct},u(gt,nt)}function p(gt){return p=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(rt){return typeof rt=="undefined"?"undefined":_typeof(rt)}:function(nt){return nt&&typeof Symbol=="function"&&nt.constructor===Symbol&&nt!==Symbol.prototype?"symbol":typeof nt=="undefined"?"undefined":_typeof(nt)},p(gt)}r.d(s,{JW:function(){return mt},XX:function(){return Ct},c0:function(){return ot},ge:function(){return Ye},qy:function(){return it},s6:function(){return Ae}}),r(2675),r(9463),r(2259),r(5700),r(8706),r(3771),r(3418),r(3792),r(4782),r(9572),r(2010),r(8130),r(875),r(6099),r(825),r(4864),r(7495),r(8781),r(9449),r(7764),r(744),r(1392),r(3772),r(2953);var m=window,_=m.trustedTypes,x=_?_.createPolicy("lit-html",{createHTML:function(nt){return nt}}):void 0,O="$lit$",I="lit$".concat((Math.random()+"").slice(9),"$"),P="?"+I,D="<".concat(P,">"),V=document,q=function(){return V.createComment("")},z=function(nt){return nt===null||p(nt)!="object"&&typeof nt!="function"},he=Array.isArray,Y=function(nt){return he(nt)||typeof(nt==null?void 0:nt[Symbol.iterator])=="function"},B="[ 	\n\f\r]",F=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ce=/-->/g,J=/>/g,ae=RegExp(">|".concat(B,"(?:([^\\s\"'>=/]+)(").concat(B,"*=").concat(B,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),se=/'/g,ve=/"/g,de=/^(?:script|style|textarea|title)$/i,Be=function(nt){return function(rt){for(var ct=arguments.length,At=new Array(ct>1?ct-1:0),Mt=1;Mt<ct;Mt++)At[Mt-1]=arguments[Mt];return{_$litType$:nt,strings:rt,values:At}}},it=Be(1),mt=Be(2),ot=Symbol.for("lit-noChange"),Ae=Symbol.for("lit-nothing"),xe=new WeakMap,De=V.createTreeWalker(V,129,null,!1),et=function(nt,rt){for(var ct,At=nt.length-1,Mt=[],Lt=rt===2?"<svg>":"",st=F,te=0;te<At;te++){for(var Jt=nt[te],Ft=void 0,Yt=void 0,N=-1,Ze=0;Ze<Jt.length&&(st.lastIndex=Ze,(Yt=st.exec(Jt))!==null);)Ze=st.lastIndex,st===F?Yt[1]==="!--"?st=ce:Yt[1]!==void 0?st=J:Yt[2]!==void 0?(de.test(Yt[2])&&(ct=RegExp("</"+Yt[2],"g")),st=ae):Yt[3]!==void 0&&(st=ae):st===ae?Yt[0]===">"?(st=ct!=null?ct:F,N=-1):Yt[1]===void 0?N=-2:(N=st.lastIndex-Yt[2].length,Ft=Yt[1],st=Yt[3]===void 0?ae:Yt[3]==='"'?ve:se):st===ve||st===se?st=ae:st===ce||st===J?st=F:(st=ae,ct=void 0);var ge=st===ae&&nt[te+1].startsWith("/>")?" ":"";Lt+=st===F?Jt+D:N>=0?(Mt.push(Ft),Jt.slice(0,N)+O+Jt.slice(N)+I+ge):Jt+I+(N===-2?(Mt.push(void 0),te):ge)}return[E(nt,Lt+(nt[At]||"<?>")+(rt===2?"</svg>":"")),Mt]},Ve=function(){return k(function gt(nt,rt){var ct,At=nt.strings,Mt=nt._$litType$;b(this,gt),this.parts=[];var Lt=0,st=0,te=At.length-1,Jt=this.parts,Ft=function(zt,qt){return function(Bt){if(Array.isArray(Bt))return Bt}(zt)||function(Bt,an){var cn=Bt==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Bt[Symbol.iterator]||Bt["@@iterator"];if(cn!=null){var It,nn,Kt,Pn,Xt=[],ar=!0,Fn=!1;try{if(Kt=(cn=cn.call(Bt)).next,an===0){if(Object(cn)!==cn)return;ar=!1}else for(;!(ar=(It=Kt.call(cn)).done)&&(Xt.push(It.value),Xt.length!==an);ar=!0);}catch(Qn){Fn=!0,nn=Qn}finally{try{if(!ar&&cn.return!=null&&(Pn=cn.return(),Object(Pn)!==Pn))return}finally{if(Fn)throw nn}}return Xt}}(zt,qt)||f(zt,qt)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(et(At,Mt),2),Yt=Ft[0],N=Ft[1];if(this.el=gt.createElement(Yt,rt),De.currentNode=this.el.content,Mt===2){var Ze=this.el.content,ge=Ze.firstChild;ge.remove(),Ze.append.apply(Ze,function(zt){return function(qt){if(Array.isArray(qt))return v(qt)}(zt)||function(qt){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&qt[Symbol.iterator]!=null||qt["@@iterator"]!=null)return Array.from(qt)}(zt)||f(zt)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(ge.childNodes))}for(;(ct=De.nextNode())!==null&&Jt.length<te;){if(ct.nodeType===1){if(ct.hasAttributes()){var ie,G=[],H=h(ct.getAttributeNames());try{for(H.s();!(ie=H.n()).done;){var Z=ie.value;if(Z.endsWith(O)||Z.startsWith(I)){var oe=N[st++];if(G.push(Z),oe!==void 0){var me=ct.getAttribute(oe.toLowerCase()+O).split(I),Oe=/([.?@])?(.*)/.exec(oe);Jt.push({type:1,index:Lt,name:Oe[2],strings:me,ctor:Oe[1]==="."?_t:Oe[1]==="?"?ze:Oe[1]==="@"?Re:lt})}else Jt.push({type:6,index:Lt})}}}catch(zt){H.e(zt)}finally{H.f()}for(var Pe=0,Xe=G;Pe<Xe.length;Pe++){var Me=Xe[Pe];ct.removeAttribute(Me)}}if(de.test(ct.tagName)){var Qe=ct.textContent.split(I),ht=Qe.length-1;if(ht>0){ct.textContent=_?_.emptyScript:"";for(var Vt=0;Vt<ht;Vt++)ct.append(Qe[Vt],q()),De.nextNode(),Jt.push({type:2,index:++Lt});ct.append(Qe[ht],q())}}}else if(ct.nodeType===8)if(ct.data===P)Jt.push({type:2,index:Lt});else for(var $t=-1;($t=ct.data.indexOf(I,$t+1))!==-1;)Jt.push({type:7,index:Lt}),$t+=I.length-1;Lt++}},null,[{key:"createElement",value:function(nt,rt){var ct=V.createElement("template");return ct.innerHTML=nt,ct}}])}();function je(gt,nt){var rt,ct,At,Mt,Lt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gt,st=arguments.length>3?arguments[3]:void 0;if(nt===ot)return nt;var te=st!==void 0?(rt=Lt._$Co)===null||rt===void 0?void 0:rt[st]:Lt._$Cl,Jt=z(nt)?void 0:nt._$litDirective$;return(te==null?void 0:te.constructor)!==Jt&&((ct=te==null?void 0:te._$AO)===null||ct===void 0||ct.call(te,!1),Jt===void 0?te=void 0:(te=new Jt(gt))._$AT(gt,Lt,st),st!==void 0?((At=(Mt=Lt)._$Co)!==null&&At!==void 0?At:Mt._$Co=[])[st]=te:Lt._$Cl=te),te!==void 0&&(nt=je(gt,te._$AS(gt,nt.values),te,st)),nt}var He=function(){return k(function gt(nt,rt){b(this,gt),this._$AV=[],this._$AN=void 0,this._$AD=nt,this._$AM=rt},[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(nt){var rt,ct=this._$AD,At=ct.el.content,Mt=ct.parts,Lt=((rt=nt==null?void 0:nt.creationScope)!==null&&rt!==void 0?rt:V).importNode(At,!0);De.currentNode=Lt;for(var st=De.nextNode(),te=0,Jt=0,Ft=Mt[0];Ft!==void 0;){if(te===Ft.index){var Yt=void 0;Ft.type===2?Yt=new qe(st,st.nextSibling,this,nt):Ft.type===1?Yt=new Ft.ctor(st,Ft.name,Ft.strings,this,nt):Ft.type===6&&(Yt=new $e(st,this,nt)),this._$AV.push(Yt),Ft=Mt[++Jt]}te!==(Ft==null?void 0:Ft.index)&&(st=De.nextNode(),te++)}return De.currentNode=V,Lt}},{key:"v",value:function(nt){var rt,ct=0,At=h(this._$AV);try{for(At.s();!(rt=At.n()).done;){var Mt=rt.value;Mt!==void 0&&(Mt.strings!==void 0?(Mt._$AI(nt,Mt,ct),ct+=Mt.strings.length-2):Mt._$AI(nt[ct])),ct++}}catch(Lt){At.e(Lt)}finally{At.f()}}}])}(),qe=function(){function gt(nt,rt,ct,At){var Mt;b(this,gt),this.type=2,this._$AH=Ae,this._$AN=void 0,this._$AA=nt,this._$AB=rt,this._$AM=ct,this.options=At,this._$Cp=(Mt=At==null?void 0:At.isConnected)===null||Mt===void 0||Mt}return k(gt,[{key:"_$AU",get:function(){var rt,ct;return(ct=(rt=this._$AM)===null||rt===void 0?void 0:rt._$AU)!==null&&ct!==void 0?ct:this._$Cp}},{key:"parentNode",get:function(){var rt=this._$AA.parentNode,ct=this._$AM;return ct!==void 0&&(rt==null?void 0:rt.nodeType)===11&&(rt=ct.parentNode),rt}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(rt){rt=je(this,rt,arguments.length>1&&arguments[1]!==void 0?arguments[1]:this),z(rt)?rt===Ae||rt==null||rt===""?(this._$AH!==Ae&&this._$AR(),this._$AH=Ae):rt!==this._$AH&&rt!==ot&&this._(rt):rt._$litType$!==void 0?this.g(rt):rt.nodeType!==void 0?this.$(rt):Y(rt)?this.T(rt):this._(rt)}},{key:"k",value:function(rt){return this._$AA.parentNode.insertBefore(rt,this._$AB)}},{key:"$",value:function(rt){this._$AH!==rt&&(this._$AR(),this._$AH=this.k(rt))}},{key:"_",value:function(rt){this._$AH!==Ae&&z(this._$AH)?this._$AA.nextSibling.data=rt:this.$(V.createTextNode(rt)),this._$AH=rt}},{key:"g",value:function(rt){var ct,At=rt.values,Mt=rt._$litType$,Lt=typeof Mt=="number"?this._$AC(rt):(Mt.el===void 0&&(Mt.el=Ve.createElement(E(Mt.h,Mt.h[0]),this.options)),Mt);if(((ct=this._$AH)===null||ct===void 0?void 0:ct._$AD)===Lt)this._$AH.v(At);else{var st=new He(Lt,this),te=st.u(this.options);st.v(At),this.$(te),this._$AH=st}}},{key:"_$AC",value:function(rt){var ct=xe.get(rt.strings);return ct===void 0&&xe.set(rt.strings,ct=new Ve(rt)),ct}},{key:"T",value:function(rt){he(this._$AH)||(this._$AH=[],this._$AR());var ct,At,Mt=this._$AH,Lt=0,st=h(rt);try{for(st.s();!(At=st.n()).done;){var te=At.value;Lt===Mt.length?Mt.push(ct=new gt(this.k(q()),this.k(q()),this,this.options)):ct=Mt[Lt],ct._$AI(te),Lt++}}catch(Jt){st.e(Jt)}finally{st.f()}Lt<Mt.length&&(this._$AR(ct&&ct._$AB.nextSibling,Lt),Mt.length=Lt)}},{key:"_$AR",value:function(){var rt,ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,At=arguments.length>1?arguments[1]:void 0;for((rt=this._$AP)===null||rt===void 0||rt.call(this,!1,!0,At);ct&&ct!==this._$AB;){var Mt=ct.nextSibling;ct.remove(),ct=Mt}}},{key:"setConnected",value:function(rt){var ct;this._$AM===void 0&&(this._$Cp=rt,(ct=this._$AP)===null||ct===void 0||ct.call(this,rt))}}])}(),lt=function(){return k(function gt(nt,rt,ct,At,Mt){b(this,gt),this.type=1,this._$AH=Ae,this._$AN=void 0,this.element=nt,this.name=rt,this._$AM=At,this.options=Mt,ct.length>2||ct[0]!==""||ct[1]!==""?(this._$AH=Array(ct.length-1).fill(new String),this.strings=ct):this._$AH=Ae},[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(nt){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,ct=arguments.length>2?arguments[2]:void 0,At=arguments.length>3?arguments[3]:void 0,Mt=this.strings,Lt=!1;if(Mt===void 0)nt=je(this,nt,rt,0),(Lt=!z(nt)||nt!==this._$AH&&nt!==ot)&&(this._$AH=nt);else{var st,te,Jt=nt;for(nt=Mt[0],st=0;st<Mt.length-1;st++)(te=je(this,Jt[ct+st],rt,st))===ot&&(te=this._$AH[st]),Lt||(Lt=!z(te)||te!==this._$AH[st]),te===Ae?nt=Ae:nt!==Ae&&(nt+=(te!=null?te:"")+Mt[st+1]),this._$AH[st]=te}Lt&&!At&&this.j(nt)}},{key:"j",value:function(nt){nt===Ae?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,nt!=null?nt:"")}}])}(),_t=function(gt){function nt(){var rt;return b(this,nt),(rt=d(this,nt,arguments)).type=3,rt}return c(nt,gt),k(nt,[{key:"j",value:function(ct){this.element[this.name]=ct===Ae?void 0:ct}}])}(lt),be=_?_.emptyScript:"",ze=function(gt){function nt(){var rt;return b(this,nt),(rt=d(this,nt,arguments)).type=4,rt}return c(nt,gt),k(nt,[{key:"j",value:function(ct){ct&&ct!==Ae?this.element.setAttribute(this.name,be):this.element.removeAttribute(this.name)}}])}(lt),Re=function(gt){function nt(rt,ct,At,Mt,Lt){var st;return b(this,nt),(st=d(this,nt,[rt,ct,At,Mt,Lt])).type=5,st}return c(nt,gt),k(nt,[{key:"_$AI",value:function(ct){var At;if((ct=(At=je(this,ct,arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,0))!==null&&At!==void 0?At:Ae)!==ot){var Mt=this._$AH,Lt=ct===Ae&&Mt!==Ae||ct.capture!==Mt.capture||ct.once!==Mt.once||ct.passive!==Mt.passive,st=ct!==Ae&&(Mt===Ae||Lt);Lt&&this.element.removeEventListener(this.name,this,Mt),st&&this.element.addEventListener(this.name,this,ct),this._$AH=ct}}},{key:"handleEvent",value:function(ct){var At,Mt;typeof this._$AH=="function"?this._$AH.call((Mt=(At=this.options)===null||At===void 0?void 0:At.host)!==null&&Mt!==void 0?Mt:this.element,ct):this._$AH.handleEvent(ct)}}])}(lt),$e=function(){return k(function gt(nt,rt,ct){b(this,gt),this.element=nt,this.type=6,this._$AN=void 0,this._$AM=rt,this.options=ct},[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(nt){je(this,nt)}}])}(),Ye={O:O,P:I,A:P,C:1,M:et,L:He,R:Y,D:je,I:qe,V:lt,H:ze,N:Re,U:_t,F:$e},We=m.litHtmlPolyfillSupport;We==null||We(Ve,qe),((A=m.litHtmlVersions)!==null&&A!==void 0?A:m.litHtmlVersions=[]).push("2.8.0");var Ct=function(nt,rt,ct){var At,Mt,Lt=(At=ct==null?void 0:ct.renderBefore)!==null&&At!==void 0?At:rt,st=Lt._$litPart$;if(st===void 0){var te=(Mt=ct==null?void 0:ct.renderBefore)!==null&&Mt!==void 0?Mt:null;Lt._$litPart$=st=new qe(rt.insertBefore(q(),te),te,void 0,ct!=null?ct:{})}return st._$AI(nt),st}},9696:function(a,s,r){"use strict";var d=function(V,q){var z=Object.keys(V);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(V);q&&(he=he.filter(function(Y){return Object.getOwnPropertyDescriptor(V,Y).enumerable})),z.push.apply(z,he)}return z},c=function(V){for(var q=arguments,z=function(Y){var B=q[Y]!=null?q[Y]:{};Y%2?d(Object(B),!0).forEach(function(F){h(V,F,B[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(B)):d(Object(B)).forEach(function(F){Object.defineProperty(V,F,Object.getOwnPropertyDescriptor(B,F))})},he=1;he<arguments.length;he++)z(he);return V},h=function(V,q,z){return(q=function(he){var Y=function(B,F){if(u(B)!="object"||!B)return B;var ce=B[Symbol.toPrimitive];if(ce!==void 0){var J=ce.call(B,"string");if(u(J)!="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(he);return u(Y)=="symbol"?Y:Y+""}(q))in V?Object.defineProperty(V,q,{value:z,enumerable:!0,configurable:!0,writable:!0}):V[q]=z,V},f=function(V){return function(q,z){return z!==void 0?m(V,q,z):p(V,q)}},v=function(V,q){var z=Object.keys(V);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(V);q&&(he=he.filter(function(Y){return Object.getOwnPropertyDescriptor(V,Y).enumerable})),z.push.apply(z,he)}return z},b=function(V){for(var q=arguments,z=function(Y){var B=q[Y]!=null?q[Y]:{};Y%2?v(Object(B),!0).forEach(function(F){w(V,F,B[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(B)):v(Object(B)).forEach(function(F){Object.defineProperty(V,F,Object.getOwnPropertyDescriptor(B,F))})},he=1;he<arguments.length;he++)z(he);return V},w=function(V,q,z){return(q=function(he){var Y=function(B,F){if(_(B)!="object"||!B)return B;var ce=B[Symbol.toPrimitive];if(ce!==void 0){var J=ce.call(B,"string");if(_(J)!="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(he);return _(Y)=="symbol"?Y:Y+""}(q))in V?Object.defineProperty(V,q,{value:z,enumerable:!0,configurable:!0,writable:!0}):V[q]=z,V},k=function(V){return f(b(b({},V),{},{state:!0}))},C=function(V,q){var z=Object.keys(V);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(V);q&&(he=he.filter(function(Y){return Object.getOwnPropertyDescriptor(V,Y).enumerable})),z.push.apply(z,he)}return z},E=function(V){for(var q=arguments,z=function(Y){var B=q[Y]!=null?q[Y]:{};Y%2?C(Object(B),!0).forEach(function(F){A(V,F,B[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(B)):C(Object(B)).forEach(function(F){Object.defineProperty(V,F,Object.getOwnPropertyDescriptor(B,F))})},he=1;he<arguments.length;he++)z(he);return V},A=function(V,q,z){return(q=function(he){var Y=function(B,F){if(x(B)!="object"||!B)return B;var ce=B[Symbol.toPrimitive];if(ce!==void 0){var J=ce.call(B,"string");if(x(J)!="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(he);return x(Y)=="symbol"?Y:Y+""}(q))in V?Object.defineProperty(V,q,{value:z,enumerable:!0,configurable:!0,writable:!0}):V[q]=z,V},j=function(V,q){return I({descriptor:function(he){var Y={get:function(){var ce,J;return(J=(ce=this.renderRoot)===null||ce===void 0?void 0:ce.querySelector(V))!==null&&J!==void 0?J:null},enumerable:!0,configurable:!0};if(q){var B=P(he)=="symbol"?Symbol():"__"+he;Y.get=function(){var F,ce;return this[B]===void 0&&(this[B]=(ce=(F=this.renderRoot)===null||F===void 0?void 0:F.querySelector(V))!==null&&ce!==void 0?ce:null),this[B]}}return Y}})};r.d(s,{EM:function(){return y},MZ:function(){return f},P:function(){return j},wk:function(){return k}});var y=function(V){return function(q){return typeof q=="function"?function(z,he){return customElements.define(z,he),he}(V,q):function(z,he){return{kind:he.kind,elements:he.elements,finisher:function(B){customElements.define(z,B)}}}(V,q)}};function u(D){return u=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(q){return typeof q=="undefined"?"undefined":_typeof(q)}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V=="undefined"?"undefined":_typeof(V)},u(D)}r(2675),r(9463),r(2259),r(5700),r(2008),r(3792),r(9572),r(8130),r(3851),r(1278),r(9432),r(6099),r(7764),r(3500),r(2953);var p=function(V,q){return q.kind==="method"&&q.descriptor&&!("value"in q.descriptor)?c(c({},q),{},{finisher:function(he){he.createProperty(q.key,V)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:q.key,initializer:function(){typeof q.initializer=="function"&&(this[q.key]=q.initializer.call(this))},finisher:function(he){he.createProperty(q.key,V)}}},m=function(V,q,z){q.constructor.createProperty(z,V)};function _(D){return _=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(q){return typeof q=="undefined"?"undefined":_typeof(q)}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V=="undefined"?"undefined":_typeof(V)},_(D)}function x(D){return x=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(q){return typeof q=="undefined"?"undefined":_typeof(q)}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V=="undefined"?"undefined":_typeof(V)},x(D)}r(9085);var O,I=function(V){var q=V.finisher,z=V.descriptor;return function(he,Y){var B;if(Y===void 0){var F=(B=he.originalKey)!==null&&B!==void 0?B:he.key,ce=z!=null?{kind:"method",placement:"prototype",key:F,descriptor:z(he.key)}:E(E({},he),{},{key:F});return q!=null&&(ce.finisher=function(ae){q(ae,F)}),ce}var J=he.constructor;z!==void 0&&Object.defineProperty(he,Y,z(Y)),q==null||q(J,Y)}};function P(D){return P=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(q){return typeof q=="undefined"?"undefined":_typeof(q)}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V=="undefined"?"undefined":_typeof(V)},P(D)}r(6412),r(8125),r(4490),r(4782),r(2010),r(4731),r(479),r(875),r(3362),(O=window.HTMLSlotElement)===null||O===void 0||O.prototype.assignedElements},8900:function(a,s,r){"use strict";var d=function(m,_){(_==null||_>m.length)&&(_=m.length);for(var x=0,O=Array(_);x<_;x++)O[x]=m[x];return O},c=function(m,_){for(var x=0;x<_.length;x++){var O=_[x];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(m,h(O.key),O)}},h=function(m){var _=function(x,O){if(k(x)!="object"||!x)return x;var I=x[Symbol.toPrimitive];if(I!==void 0){var P=I.call(x,"string");if(k(P)!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(x)}(m);return k(_)=="symbol"?_:_+""},f=function(m,_,x){return _=E(_),function(O,I){if(I&&(k(I)=="object"||typeof I=="function"))return I;if(I!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(O)}(m,C()?Reflect.construct(_,x||[],E(m).constructor):_.apply(m,x))},v=function(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m};r.d(s,{W:function(){return u}}),r(2675),r(9463),r(2259),r(5700),r(8706),r(3418),r(4423),r(3792),r(2712),r(4782),r(9572),r(2010),r(8130),r(875),r(9432),r(6099),r(825),r(7495),r(8781),r(1415),r(9449),r(1699),r(7764),r(5440),r(3500),r(2953);var b=r(6681),w=r(1091);function k(p){return k=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(_){return typeof _=="undefined"?"undefined":_typeof(_)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m=="undefined"?"undefined":_typeof(m)},k(p)}function C(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(m){}return(C=function(){return!!p})()}function E(p){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},E(p)}function A(p,m){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(x,O){return x.__proto__=O,x},A(p,m)}var j="important",y=" !"+j,u=(0,w.u$)(function(p){function m(O){var I,P;if(function(D,V){if(!_instanceof(D,V))throw new TypeError("Cannot call a class as a function")}(this,m),I=f(this,m,[O]),O.type!==w.OA.ATTRIBUTE||O.name!=="style"||((P=O.strings)===null||P===void 0?void 0:P.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.");return v(I)}return function(O,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(I&&I.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),I&&A(O,I)}(m,p),_=m,x=[{key:"render",value:function(I){return Object.keys(I).reduce(function(P,D){var V=I[D];return V==null?P:P+"".concat(D=D.includes("-")?D:D.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase(),":").concat(V,";")},"")}},{key:"update",value:function(I,P){var D=this,V=function(F,ce){return function(J){if(Array.isArray(J))return J}(F)||function(J,ae){var se=J==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&J[Symbol.iterator]||J["@@iterator"];if(se!=null){var ve,de,Be,it,mt=[],ot=!0,Ae=!1;try{if(Be=(se=se.call(J)).next,ae===0){if(Object(se)!==se)return;ot=!1}else for(;!(ot=(ve=Be.call(se)).done)&&(mt.push(ve.value),mt.length!==ae);ot=!0);}catch(xe){Ae=!0,de=xe}finally{try{if(!ot&&se.return!=null&&(it=se.return(),Object(it)!==it))return}finally{if(Ae)throw de}}return mt}}(F,ce)||function(J,ae){if(J){if(typeof J=="string")return d(J,ae);var se={}.toString.call(J).slice(8,-1);return se==="Object"&&J.constructor&&(se=J.constructor.name),se==="Map"||se==="Set"?Array.from(J):se==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(se)?d(J,ae):void 0}}(F,ce)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(P,1)[0],q=I.element.style;if(this.ht===void 0){for(var z in this.ht=new Set,V)this.ht.add(z);return this.render(V)}for(var he in this.ht.forEach(function(F){V[F]==null&&(D.ht.delete(F),F.includes("-")?q.removeProperty(F):q[F]="")}),V){var Y=V[he];if(Y!=null){this.ht.add(he);var B=typeof Y=="string"&&Y.endsWith(y);he.includes("-")||B?q.setProperty(he,B?Y.slice(0,-11):Y,B?j:""):q[he]=Y}}return b.c0}}],x&&c(_.prototype,x),Object.defineProperty(_,"prototype",{writable:!1}),_;var _,x}(w.WL))},420:function(a,s,r){"use strict";var d=function(be,ze){(ze==null||ze>be.length)&&(ze=be.length);for(var Re=0,$e=Array(ze);Re<ze;Re++)$e[Re]=be[Re];return $e},c=function(be,ze){for(var Re=0;Re<ze.length;Re++){var $e=ze[Re];$e.enumerable=$e.enumerable||!1,$e.configurable=!0,"value"in $e&&($e.writable=!0),Object.defineProperty(be,h($e.key),$e)}},h=function(be){var ze=function(Re,$e){if(p(Re)!="object"||!Re)return Re;var Ye=Re[Symbol.toPrimitive];if(Ye!==void 0){var We=Ye.call(Re,"string");if(p(We)!="object")return We;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Re)}(be);return p(ze)=="symbol"?ze:ze+""},f=function(be,ze){var Re=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&be[Symbol.iterator]||be["@@iterator"];if(!Re){if(Array.isArray(be)||(Re=b(be))||ze&&be&&typeof be.length=="number"){Re&&(be=Re);var $e=0,Ye=function(){};return{s:Ye,n:function(){return $e>=be.length?{done:!0}:{done:!1,value:be[$e++]}},e:function(rt){throw rt},f:Ye}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var We,Ct=!0,gt=!1;return{s:function(){Re=Re.call(be)},n:function(){var rt=Re.next();return Ct=rt.done,rt},e:function(rt){gt=!0,We=rt},f:function(){try{Ct||Re.return==null||Re.return()}finally{if(gt)throw We}}}},v=function(be){return function(ze){if(Array.isArray(ze))return w(ze)}(be)||function(ze){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&ze[Symbol.iterator]!=null||ze["@@iterator"]!=null)return Array.from(ze)}(be)||b(be)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},b=function(be,ze){if(be){if(typeof be=="string")return w(be,ze);var Re={}.toString.call(be).slice(8,-1);return Re==="Object"&&be.constructor&&(Re=be.constructor.name),Re==="Map"||Re==="Set"?Array.from(be):Re==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Re)?w(be,ze):void 0}},w=function(be,ze){(ze==null||ze>be.length)&&(ze=be.length);for(var Re=0,$e=Array(ze);Re<ze;Re++)$e[Re]=be[Re];return $e},k=function(be,ze,Re,$e,Ye,We,Ct){try{var gt=be[We](Ct),nt=gt.value}catch(rt){return void Re(rt)}gt.done?ze(nt):Promise.resolve(nt).then($e,Ye)},C=function(be,ze){for(var Re=0;Re<ze.length;Re++){var $e=ze[Re];$e.enumerable=$e.enumerable||!1,$e.configurable=!0,"value"in $e&&($e.writable=!0),Object.defineProperty(be,E($e.key),$e)}},E=function(be){var ze=function(Re,$e){if(q(Re)!="object"||!Re)return Re;var Ye=Re[Symbol.toPrimitive];if(Ye!==void 0){var We=Ye.call(Re,"string");if(q(We)!="object")return We;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Re)}(be);return q(ze)=="symbol"?ze:ze+""},A=function(be,ze){for(var Re=0;Re<ze.length;Re++){var $e=ze[Re];$e.enumerable=$e.enumerable||!1,$e.configurable=!0,"value"in $e&&($e.writable=!0),Object.defineProperty(be,j($e.key),$e)}},j=function(be){var ze=function(Re,$e){if(De(Re)!="object"||!Re)return Re;var Ye=Re[Symbol.toPrimitive];if(Ye!==void 0){var We=Ye.call(Re,"string");if(De(We)!="object")return We;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Re)}(be);return De(ze)=="symbol"?ze:ze+""},y=function(be,ze,Re){return ze=je(ze),function($e,Ye){if(Ye&&(De(Ye)=="object"||typeof Ye=="function"))return Ye;if(Ye!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u($e)}(be,et()?Reflect.construct(ze,Re||[],je(be).constructor):ze.apply(be,Re))},u=function(be){if(be===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return be};function p(_t){return p=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(ze){return typeof ze=="undefined"?"undefined":_typeof(ze)}:function(be){return be&&typeof Symbol=="function"&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be=="undefined"?"undefined":_typeof(be)},p(_t)}r.d(s,{WF:function(){return qe},AH:function(){return D},qy:function(){return xe.qy},s6:function(){return xe.s6},XX:function(){return xe.XX},JW:function(){return xe.JW}}),r(2675),r(9463),r(6412),r(2259),r(5700),r(8125),r(8706),r(6449),r(3418),r(3792),r(4490),r(4782),r(4554),r(3514),r(739),r(9572),r(2010),r(4731),r(6033),r(479),r(8130),r(1480),r(875),r(9432),r(6099),r(3362),r(825),r(7495),r(8781),r(1415),r(7764),r(3500),r(2953),r(2062),r(2712),r(3772);var m,_=window,x=_.ShadowRoot&&(_.ShadyCSS===void 0||_.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,O=Symbol(),I=new WeakMap,P=function(){return function(_t,be,ze){return be&&c(_t.prototype,be),Object.defineProperty(_t,"prototype",{writable:!1}),_t}(function _t(be,ze,Re){if(function($e,Ye){if(!_instanceof($e,Ye))throw new TypeError("Cannot call a class as a function")}(this,_t),this._$cssResult$=!0,Re!==O)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=be,this.t=ze},[{key:"styleSheet",get:function(){var be=this.o,ze=this.t;if(x&&be===void 0){var Re=ze!==void 0&&ze.length===1;Re&&(be=I.get(ze)),be===void 0&&((this.o=be=new CSSStyleSheet).replaceSync(this.cssText),Re&&I.set(ze,be))}return be}},{key:"toString",value:function(){return this.cssText}}])}(),D=function(be){for(var ze=arguments.length,Re=new Array(ze>1?ze-1:0),$e=1;$e<ze;$e++)Re[$e-1]=arguments[$e];var Ye=be.length===1?be[0]:Re.reduce(function(We,Ct,gt){return We+function(nt){if(nt._$cssResult$===!0)return nt.cssText;if(typeof nt=="number")return nt;throw Error("Value passed to 'css' function must be a 'css' function result: "+nt+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")}(Ct)+be[gt+1]},be[0]);return new P(Ye,be,O)},V=x?function(be){return be}:function(_t){return _instanceof(_t,CSSStyleSheet)?function(be){var ze,Re="",$e=function(Ye,We){var Ct=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Ye[Symbol.iterator]||Ye["@@iterator"];if(!Ct){if(Array.isArray(Ye)||(Ct=function(Mt,Lt){if(Mt){if(typeof Mt=="string")return d(Mt,Lt);var st={}.toString.call(Mt).slice(8,-1);return st==="Object"&&Mt.constructor&&(st=Mt.constructor.name),st==="Map"||st==="Set"?Array.from(Mt):st==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(st)?d(Mt,Lt):void 0}}(Ye))||We&&Ye&&typeof Ye.length=="number"){Ct&&(Ye=Ct);var gt=0,nt=function(){};return{s:nt,n:function(){return gt>=Ye.length?{done:!0}:{done:!1,value:Ye[gt++]}},e:function(Lt){throw Lt},f:nt}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var rt,ct=!0,At=!1;return{s:function(){Ct=Ct.call(Ye)},n:function(){var Lt=Ct.next();return ct=Lt.done,Lt},e:function(Lt){At=!0,rt=Lt},f:function(){try{ct||Ct.return==null||Ct.return()}finally{if(At)throw rt}}}}(be.cssRules);try{for($e.s();!(ze=$e.n()).done;)Re+=ze.value.cssText}catch(Ye){$e.e(Ye)}finally{$e.f()}return function(Ye){return new P(typeof Ye=="string"?Ye:Ye+"",void 0,O)}(Re)}(_t):_t};function q(_t){return q=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(ze){return typeof ze=="undefined"?"undefined":_typeof(ze)}:function(be){return be&&typeof Symbol=="function"&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be=="undefined"?"undefined":_typeof(be)},q(_t)}function z(){z=function(){return be};var _t,be={},ze=Object.prototype,Re=ze.hasOwnProperty,$e=Object.defineProperty||function(Me,Qe,ht){Me[Qe]=ht.value},Ye=typeof Symbol=="function"?Symbol:{},We=Ye.iterator||"@@iterator",Ct=Ye.asyncIterator||"@@asyncIterator",gt=Ye.toStringTag||"@@toStringTag";function nt(Me,Qe,ht){return Object.defineProperty(Me,Qe,{value:ht,enumerable:!0,configurable:!0,writable:!0}),Me[Qe]}try{nt({},"")}catch(Me){nt=function(ht,Vt,$t){return ht[Vt]=$t}}function rt(Me,Qe,ht,Vt){var $t=Qe&&_instanceof(Qe.prototype,Jt)?Qe:Jt,zt=Object.create($t.prototype),qt=new Pe(Vt||[]);return $e(zt,"_invoke",{value:Z(Me,ht,qt)}),zt}function ct(Me,Qe,ht){try{return{type:"normal",arg:Me.call(Qe,ht)}}catch(Vt){return{type:"throw",arg:Vt}}}be.wrap=rt;var At="suspendedStart",Mt="suspendedYield",Lt="executing",st="completed",te={};function Jt(){}function Ft(){}function Yt(){}var N={};nt(N,We,function(){return this});var Ze=Object.getPrototypeOf,ge=Ze&&Ze(Ze(Xe([])));ge&&ge!==ze&&Re.call(ge,We)&&(N=ge);var ie=Yt.prototype=Jt.prototype=Object.create(N);function G(Me){["next","throw","return"].forEach(function(Qe){nt(Me,Qe,function(ht){return this._invoke(Qe,ht)})})}function H(Me,Qe){function ht($t,zt,qt,Bt){var an=ct(Me[$t],Me,zt);if(an.type!=="throw"){var cn=an.arg,It=cn.value;return It&&q(It)=="object"&&Re.call(It,"__await")?Qe.resolve(It.__await).then(function(nn){ht("next",nn,qt,Bt)},function(nn){ht("throw",nn,qt,Bt)}):Qe.resolve(It).then(function(nn){cn.value=nn,qt(cn)},function(nn){return ht("throw",nn,qt,Bt)})}Bt(an.arg)}var Vt;$e(this,"_invoke",{value:function(zt,qt){function Bt(){return new Qe(function(an,cn){ht(zt,qt,an,cn)})}return Vt=Vt?Vt.then(Bt,Bt):Bt()}})}function Z(Me,Qe,ht){var Vt=At;return function($t,zt){if(Vt===Lt)throw Error("Generator is already running");if(Vt===st){if($t==="throw")throw zt;return{value:_t,done:!0}}for(ht.method=$t,ht.arg=zt;;){var qt=ht.delegate;if(qt){var Bt=oe(qt,ht);if(Bt){if(Bt===te)continue;return Bt}}if(ht.method==="next")ht.sent=ht._sent=ht.arg;else if(ht.method==="throw"){if(Vt===At)throw Vt=st,ht.arg;ht.dispatchException(ht.arg)}else ht.method==="return"&&ht.abrupt("return",ht.arg);Vt=Lt;var an=ct(Me,Qe,ht);if(an.type==="normal"){if(Vt=ht.done?st:Mt,an.arg===te)continue;return{value:an.arg,done:ht.done}}an.type==="throw"&&(Vt=st,ht.method="throw",ht.arg=an.arg)}}}function oe(Me,Qe){var ht=Qe.method,Vt=Me.iterator[ht];if(Vt===_t)return Qe.delegate=null,ht==="throw"&&Me.iterator.return&&(Qe.method="return",Qe.arg=_t,oe(Me,Qe),Qe.method==="throw")||ht!=="return"&&(Qe.method="throw",Qe.arg=new TypeError("The iterator does not provide a '"+ht+"' method")),te;var $t=ct(Vt,Me.iterator,Qe.arg);if($t.type==="throw")return Qe.method="throw",Qe.arg=$t.arg,Qe.delegate=null,te;var zt=$t.arg;return zt?zt.done?(Qe[Me.resultName]=zt.value,Qe.next=Me.nextLoc,Qe.method!=="return"&&(Qe.method="next",Qe.arg=_t),Qe.delegate=null,te):zt:(Qe.method="throw",Qe.arg=new TypeError("iterator result is not an object"),Qe.delegate=null,te)}function me(Me){var Qe={tryLoc:Me[0]};1 in Me&&(Qe.catchLoc=Me[1]),2 in Me&&(Qe.finallyLoc=Me[2],Qe.afterLoc=Me[3]),this.tryEntries.push(Qe)}function Oe(Me){var Qe=Me.completion||{};Qe.type="normal",delete Qe.arg,Me.completion=Qe}function Pe(Me){this.tryEntries=[{tryLoc:"root"}],Me.forEach(me,this),this.reset(!0)}function Xe(Me){if(Me||Me===""){var Qe=Me[We];if(Qe)return Qe.call(Me);if(typeof Me.next=="function")return Me;if(!isNaN(Me.length)){var ht=-1,Vt=function $t(){for(;++ht<Me.length;)if(Re.call(Me,ht))return $t.value=Me[ht],$t.done=!1,$t;return $t.value=_t,$t.done=!0,$t};return Vt.next=Vt}}throw new TypeError(q(Me)+" is not iterable")}return Ft.prototype=Yt,$e(ie,"constructor",{value:Yt,configurable:!0}),$e(Yt,"constructor",{value:Ft,configurable:!0}),Ft.displayName=nt(Yt,gt,"GeneratorFunction"),be.isGeneratorFunction=function(Me){var Qe=typeof Me=="function"&&Me.constructor;return!!Qe&&(Qe===Ft||(Qe.displayName||Qe.name)==="GeneratorFunction")},be.mark=function(Me){return Object.setPrototypeOf?Object.setPrototypeOf(Me,Yt):(Me.__proto__=Yt,nt(Me,gt,"GeneratorFunction")),Me.prototype=Object.create(ie),Me},be.awrap=function(Me){return{__await:Me}},G(H.prototype),nt(H.prototype,Ct,function(){return this}),be.AsyncIterator=H,be.async=function(Me,Qe,ht,Vt,$t){$t===void 0&&($t=Promise);var zt=new H(rt(Me,Qe,ht,Vt),$t);return be.isGeneratorFunction(Qe)?zt:zt.next().then(function(qt){return qt.done?qt.value:zt.next()})},G(ie),nt(ie,gt,"Generator"),nt(ie,We,function(){return this}),nt(ie,"toString",function(){return"[object Generator]"}),be.keys=function(Me){var Qe=Object(Me),ht=[];for(var Vt in Qe)ht.push(Vt);return ht.reverse(),function $t(){for(;ht.length;){var zt=ht.pop();if(zt in Qe)return $t.value=zt,$t.done=!1,$t}return $t.done=!0,$t}},be.values=Xe,Pe.prototype={constructor:Pe,reset:function(Qe){if(this.prev=0,this.next=0,this.sent=this._sent=_t,this.done=!1,this.delegate=null,this.method="next",this.arg=_t,this.tryEntries.forEach(Oe),!Qe)for(var ht in this)ht.charAt(0)==="t"&&Re.call(this,ht)&&!isNaN(+ht.slice(1))&&(this[ht]=_t)},stop:function(){this.done=!0;var Qe=this.tryEntries[0].completion;if(Qe.type==="throw")throw Qe.arg;return this.rval},dispatchException:function(Qe){if(this.done)throw Qe;var ht=this;function Vt(cn,It){return qt.type="throw",qt.arg=Qe,ht.next=cn,It&&(ht.method="next",ht.arg=_t),!!It}for(var $t=this.tryEntries.length-1;$t>=0;--$t){var zt=this.tryEntries[$t],qt=zt.completion;if(zt.tryLoc==="root")return Vt("end");if(zt.tryLoc<=this.prev){var Bt=Re.call(zt,"catchLoc"),an=Re.call(zt,"finallyLoc");if(Bt&&an){if(this.prev<zt.catchLoc)return Vt(zt.catchLoc,!0);if(this.prev<zt.finallyLoc)return Vt(zt.finallyLoc)}else if(Bt){if(this.prev<zt.catchLoc)return Vt(zt.catchLoc,!0)}else{if(!an)throw Error("try statement without catch or finally");if(this.prev<zt.finallyLoc)return Vt(zt.finallyLoc)}}}},abrupt:function(Qe,ht){for(var Vt=this.tryEntries.length-1;Vt>=0;--Vt){var $t=this.tryEntries[Vt];if($t.tryLoc<=this.prev&&Re.call($t,"finallyLoc")&&this.prev<$t.finallyLoc){var zt=$t;break}}zt&&(Qe==="break"||Qe==="continue")&&zt.tryLoc<=ht&&ht<=zt.finallyLoc&&(zt=null);var qt=zt?zt.completion:{};return qt.type=Qe,qt.arg=ht,zt?(this.method="next",this.next=zt.finallyLoc,te):this.complete(qt)},complete:function(Qe,ht){if(Qe.type==="throw")throw Qe.arg;return Qe.type==="break"||Qe.type==="continue"?this.next=Qe.arg:Qe.type==="return"?(this.rval=this.arg=Qe.arg,this.method="return",this.next="end"):Qe.type==="normal"&&ht&&(this.next=ht),te},finish:function(Qe){for(var ht=this.tryEntries.length-1;ht>=0;--ht){var Vt=this.tryEntries[ht];if(Vt.finallyLoc===Qe)return this.complete(Vt.completion,Vt.afterLoc),Oe(Vt),te}},catch:function(Qe){for(var ht=this.tryEntries.length-1;ht>=0;--ht){var Vt=this.tryEntries[ht];if(Vt.tryLoc===Qe){var $t=Vt.completion;if($t.type==="throw"){var zt=$t.arg;Oe(Vt)}return zt}}throw Error("illegal catch attempt")},delegateYield:function(Qe,ht,Vt){return this.delegate={iterator:Xe(Qe),resultName:ht,nextLoc:Vt},this.method==="next"&&(this.arg=_t),te}},be}function he(_t){var be=typeof Map=="function"?new Map:void 0;return he=function(Re){if(Re===null||!function(Ye){try{return Function.toString.call(Ye).indexOf("[native code]")!==-1}catch(We){return typeof Ye=="function"}}(Re))return Re;if(typeof Re!="function")throw new TypeError("Super expression must either be null or a function");if(be!==void 0){if(be.has(Re))return be.get(Re);be.set(Re,$e)}function $e(){return function(Ye,We,Ct){if(Y())return Reflect.construct.apply(null,arguments);var gt=[null];gt.push.apply(gt,We);var nt=new(Ye.bind.apply(Ye,gt));return Ct&&B(nt,Ct.prototype),nt}(Re,arguments,F(this).constructor)}return $e.prototype=Object.create(Re.prototype,{constructor:{value:$e,enumerable:!1,writable:!0,configurable:!0}}),B($e,Re)},he(_t)}function Y(){try{var _t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(be){}return(Y=function(){return!!_t})()}function B(_t,be){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Re,$e){return Re.__proto__=$e,Re},B(_t,be)}function F(_t){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ze){return ze.__proto__||Object.getPrototypeOf(ze)},F(_t)}var ce=window,J=ce.trustedTypes,ae=J?J.emptyScript:"",se=ce.reactiveElementPolyfillSupport,ve={toAttribute:function(be,ze){switch(ze){case Boolean:be=be?ae:null;break;case Object:case Array:be=be==null?be:JSON.stringify(be)}return be},fromAttribute:function(be,ze){var Re=be;switch(ze){case Boolean:Re=be!==null;break;case Number:Re=be===null?null:Number(be);break;case Object:case Array:try{Re=JSON.parse(be)}catch($e){Re=null}}return Re}},de=function(be,ze){return ze!==be&&(ze==ze||be==be)},Be={attribute:!0,type:String,converter:ve,reflect:!1,hasChanged:de},it="finalized",mt=function(_t){function be(){var Re;return function($e,Ye){if(!_instanceof($e,Ye))throw new TypeError("Cannot call a class as a function")}(this,be),(Re=function($e,Ye,We){return Ye=F(Ye),function(Ct,gt){if(gt&&(q(gt)=="object"||typeof gt=="function"))return gt;if(gt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(nt){if(nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return nt}(Ct)}($e,Y()?Reflect.construct(Ye,We||[],F($e).constructor):Ye.apply($e,We))}(this,be))._$Ei=new Map,Re.isUpdatePending=!1,Re.hasUpdated=!1,Re._$El=null,Re._$Eu(),Re}return function(Re,$e){if(typeof $e!="function"&&$e!==null)throw new TypeError("Super expression must either be null or a function");Re.prototype=Object.create($e&&$e.prototype,{constructor:{value:Re,writable:!0,configurable:!0}}),Object.defineProperty(Re,"prototype",{writable:!1}),$e&&B(Re,$e)}(be,_t),function(Re,$e,Ye){return $e&&C(Re.prototype,$e),Ye&&C(Re,Ye),Object.defineProperty(Re,"prototype",{writable:!1}),Re}(be,[{key:"_$Eu",value:function(){var $e,Ye=this;this._$E_=new Promise(function(We){return Ye.enableUpdating=We}),this._$AL=new Map,this._$Eg(),this.requestUpdate(),($e=this.constructor.h)===null||$e===void 0||$e.forEach(function(We){return We(Ye)})}},{key:"addController",value:function($e){var Ye,We;((Ye=this._$ES)!==null&&Ye!==void 0?Ye:this._$ES=[]).push($e),this.renderRoot!==void 0&&this.isConnected&&((We=$e.hostConnected)===null||We===void 0||We.call($e))}},{key:"removeController",value:function($e){var Ye;(Ye=this._$ES)===null||Ye===void 0||Ye.splice(this._$ES.indexOf($e)>>>0,1)}},{key:"_$Eg",value:function(){var $e=this;this.constructor.elementProperties.forEach(function(Ye,We){$e.hasOwnProperty(We)&&($e._$Ei.set(We,$e[We]),delete $e[We])})}},{key:"createRenderRoot",value:function(){var $e,Ye=($e=this.shadowRoot)!==null&&$e!==void 0?$e:this.attachShadow(this.constructor.shadowRootOptions);return function(We,Ct){x?We.adoptedStyleSheets=Ct.map(function(gt){return _instanceof(gt,CSSStyleSheet)?gt:gt.styleSheet}):Ct.forEach(function(gt){var nt=document.createElement("style"),rt=_.litNonce;rt!==void 0&&nt.setAttribute("nonce",rt),nt.textContent=gt.cssText,We.appendChild(nt)})}(Ye,this.constructor.elementStyles),Ye}},{key:"connectedCallback",value:function(){var $e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),($e=this._$ES)===null||$e===void 0||$e.forEach(function(Ye){var We;return(We=Ye.hostConnected)===null||We===void 0?void 0:We.call(Ye)})}},{key:"enableUpdating",value:function($e){}},{key:"disconnectedCallback",value:function(){var $e;($e=this._$ES)===null||$e===void 0||$e.forEach(function(Ye){var We;return(We=Ye.hostDisconnected)===null||We===void 0?void 0:We.call(Ye)})}},{key:"attributeChangedCallback",value:function($e,Ye,We){this._$AK($e,We)}},{key:"_$EO",value:function($e,Ye){var We,Ct=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Be,gt=this.constructor._$Ep($e,Ct);if(gt!==void 0&&Ct.reflect===!0){var nt=(((We=Ct.converter)===null||We===void 0?void 0:We.toAttribute)!==void 0?Ct.converter:ve).toAttribute(Ye,Ct.type);this._$El=$e,nt==null?this.removeAttribute(gt):this.setAttribute(gt,nt),this._$El=null}}},{key:"_$AK",value:function($e,Ye){var We,Ct=this.constructor,gt=Ct._$Ev.get($e);if(gt!==void 0&&this._$El!==gt){var nt=Ct.getPropertyOptions(gt),rt=typeof nt.converter=="function"?{fromAttribute:nt.converter}:((We=nt.converter)===null||We===void 0?void 0:We.fromAttribute)!==void 0?nt.converter:ve;this._$El=gt,this[gt]=rt.fromAttribute(Ye,nt.type),this._$El=null}}},{key:"requestUpdate",value:function($e,Ye,We){var Ct=!0;$e!==void 0&&(((We=We||this.constructor.getPropertyOptions($e)).hasChanged||de)(this[$e],Ye)?(this._$AL.has($e)||this._$AL.set($e,Ye),We.reflect===!0&&this._$El!==$e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set($e,We))):Ct=!1),!this.isUpdatePending&&Ct&&(this._$E_=this._$Ej())}},{key:"_$Ej",value:(ze=function(Re){return function(){var $e=this,Ye=arguments;return new Promise(function(We,Ct){var gt=Re.apply($e,Ye);function nt(ct){k(gt,We,Ct,nt,rt,"next",ct)}function rt(ct){k(gt,We,Ct,nt,rt,"throw",ct)}nt(void 0)})}}(z().mark(function Re(){var $e;return z().wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:return this.isUpdatePending=!0,Ye.prev=1,Ye.next=4,this._$E_;case 4:Ye.next=9;break;case 6:Ye.prev=6,Ye.t0=Ye.catch(1),Promise.reject(Ye.t0);case 9:if($e=this.scheduleUpdate(),Ye.t1=$e!=null,!Ye.t1){Ye.next=14;break}return Ye.next=14,$e;case 14:return Ye.abrupt("return",!this.isUpdatePending);case 15:case"end":return Ye.stop()}},Re,this,[[1,6]])})),function(){return ze.apply(this,arguments)})},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){var $e,Ye=this;if(this.isUpdatePending){this.hasUpdated,this._$Ei&&(this._$Ei.forEach(function(gt,nt){return Ye[nt]=gt}),this._$Ei=void 0);var We=!1,Ct=this._$AL;try{(We=this.shouldUpdate(Ct))?(this.willUpdate(Ct),($e=this._$ES)===null||$e===void 0||$e.forEach(function(gt){var nt;return(nt=gt.hostUpdate)===null||nt===void 0?void 0:nt.call(gt)}),this.update(Ct)):this._$Ek()}catch(gt){throw We=!1,this._$Ek(),gt}We&&this._$AE(Ct)}}},{key:"willUpdate",value:function($e){}},{key:"_$AE",value:function($e){var Ye;(Ye=this._$ES)===null||Ye===void 0||Ye.forEach(function(We){var Ct;return(Ct=We.hostUpdated)===null||Ct===void 0?void 0:Ct.call(We)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated($e)),this.updated($e)}},{key:"_$Ek",value:function(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._$E_}},{key:"shouldUpdate",value:function($e){return!0}},{key:"update",value:function($e){var Ye=this;this._$EC!==void 0&&(this._$EC.forEach(function(We,Ct){return Ye._$EO(Ct,Ye[Ct],We)}),this._$EC=void 0),this._$Ek()}},{key:"updated",value:function($e){}},{key:"firstUpdated",value:function($e){}}],[{key:"addInitializer",value:function($e){var Ye;this.finalize(),((Ye=this.h)!==null&&Ye!==void 0?Ye:this.h=[]).push($e)}},{key:"observedAttributes",get:function(){var $e=this;this.finalize();var Ye=[];return this.elementProperties.forEach(function(We,Ct){var gt=$e._$Ep(Ct,We);gt!==void 0&&($e._$Ev.set(gt,Ct),Ye.push(gt))}),Ye}},{key:"createProperty",value:function($e){var Ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Be;if(Ye.state&&(Ye.attribute=!1),this.finalize(),this.elementProperties.set($e,Ye),!Ye.noAccessor&&!this.prototype.hasOwnProperty($e)){var We=q($e)=="symbol"?Symbol():"__"+$e,Ct=this.getPropertyDescriptor($e,We,Ye);Ct!==void 0&&Object.defineProperty(this.prototype,$e,Ct)}}},{key:"getPropertyDescriptor",value:function($e,Ye,We){return{get:function(){return this[Ye]},set:function(gt){var nt=this[$e];this[Ye]=gt,this.requestUpdate($e,nt,We)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function($e){return this.elementProperties.get($e)||Be}},{key:"finalize",value:function(){if(this.hasOwnProperty(it))return!1;this[it]=!0;var $e=Object.getPrototypeOf(this);if($e.finalize(),$e.h!==void 0&&(this.h=v($e.h)),this.elementProperties=new Map($e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){var Ye,We=this.properties,Ct=f([].concat(v(Object.getOwnPropertyNames(We)),v(Object.getOwnPropertySymbols(We))));try{for(Ct.s();!(Ye=Ct.n()).done;){var gt=Ye.value;this.createProperty(gt,We[gt])}}catch(nt){Ct.e(nt)}finally{Ct.f()}}return this.elementStyles=this.finalizeStyles(this.styles),!0}},{key:"finalizeStyles",value:function($e){var Ye=[];if(Array.isArray($e)){var We,Ct=f(new Set($e.flat(1/0).reverse()));try{for(Ct.s();!(We=Ct.n()).done;){var gt=We.value;Ye.unshift(V(gt))}}catch(nt){Ct.e(nt)}finally{Ct.f()}}else $e!==void 0&&Ye.push(V($e));return Ye}},{key:"_$Ep",value:function($e,Ye){var We=Ye.attribute;return We===!1?void 0:typeof We=="string"?We:typeof $e=="string"?$e.toLowerCase():void 0}}]);var ze}(he(HTMLElement));mt[it]=!0,mt.elementProperties=new Map,mt.elementStyles=[],mt.shadowRootOptions={mode:"open"},se==null||se({ReactiveElement:mt}),((m=ce.reactiveElementVersions)!==null&&m!==void 0?m:ce.reactiveElementVersions=[]).push("1.6.3");var ot,Ae,xe=r(6681);function De(_t){return De=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(ze){return typeof ze=="undefined"?"undefined":_typeof(ze)}:function(be){return be&&typeof Symbol=="function"&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be=="undefined"?"undefined":_typeof(be)},De(_t)}function et(){try{var _t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(be){}return(et=function(){return!!_t})()}function Ve(){return Ve=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(be,ze,Re){var $e=function(We,Ct){for(;!{}.hasOwnProperty.call(We,Ct)&&(We=je(We))!==null;);return We}(be,ze);if($e){var Ye=Object.getOwnPropertyDescriptor($e,ze);return Ye.get?Ye.get.call(arguments.length<3?be:Re):Ye.value}},Ve.apply(null,arguments)}function je(_t){return je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ze){return ze.__proto__||Object.getPrototypeOf(ze)},je(_t)}function He(_t,be){return He=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Re,$e){return Re.__proto__=$e,Re},He(_t,be)}r(3851),r(888),r(2480);var qe=function(_t){function be(){var ze;return function(Re,$e){if(!_instanceof(Re,$e))throw new TypeError("Cannot call a class as a function")}(this,be),(ze=y(this,be,arguments)).renderOptions={host:u(ze)},ze._$Do=void 0,ze}return function(ze,Re){if(typeof Re!="function"&&Re!==null)throw new TypeError("Super expression must either be null or a function");ze.prototype=Object.create(Re&&Re.prototype,{constructor:{value:ze,writable:!0,configurable:!0}}),Object.defineProperty(ze,"prototype",{writable:!1}),Re&&He(ze,Re)}(be,_t),function(ze,Re,$e){return Re&&A(ze.prototype,Re),Object.defineProperty(ze,"prototype",{writable:!1}),ze}(be,[{key:"createRenderRoot",value:function(){var Re,$e,Ye=Ve(je(be.prototype),"createRenderRoot",this).call(this);return(Re=($e=this.renderOptions).renderBefore)!==null&&Re!==void 0||($e.renderBefore=Ye.firstChild),Ye}},{key:"update",value:function(Re){var $e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),Ve(je(be.prototype),"update",this).call(this,Re),this._$Do=(0,xe.XX)($e,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function(){var Re;Ve(je(be.prototype),"connectedCallback",this).call(this),(Re=this._$Do)===null||Re===void 0||Re.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var Re;Ve(je(be.prototype),"disconnectedCallback",this).call(this),(Re=this._$Do)===null||Re===void 0||Re.setConnected(!1)}},{key:"render",value:function(){return xe.c0}}])}(mt);qe.finalized=!0,qe._$litElement$=!0,(ot=globalThis.litElementHydrateSupport)===null||ot===void 0||ot.call(globalThis,{LitElement:qe});var lt=globalThis.litElementPolyfillSupport;lt==null||lt({LitElement:qe}),((Ae=globalThis.litElementVersions)!==null&&Ae!==void 0?Ae:globalThis.litElementVersions=[]).push("3.3.3")}},n={};function o(a){var s=n[a];if(s!==void 0)return s.exports;var r=n[a]={id:a,loaded:!1,exports:{}};return e[a].call(r.exports,r,r.exports,o),r.loaded=!0,r.exports}o.m=e,t=[],o.O=function(a,s,r,d){if(!s){var c=1/0;for(w=0;w<t.length;w++){var h=function(k,C){(!1&d||c>=d)&&Object.keys(o.O).every(function(E){return o.O[E](s[C])})?s.splice(C--,1):(k=!1,d<c&&(c=d)),f=k,v=C};s=t[w][0],r=t[w][1],d=t[w][2];for(var f=!0,v=0;v<s.length;v++)h(f,v);if(f){t.splice(w--,1);var b=r();b!==void 0&&(a=b)}}return a}d=d||0;for(var w=t.length;w>0&&t[w-1][2]>d;w--)t[w]=t[w-1];t[w]=[s,r,d]},o.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(s,{a:s}),s},o.d=function(a,s){for(var r in s)o.o(s,r)&&!o.o(a,r)&&Object.defineProperty(a,r,{enumerable:!0,get:s[r]})},o.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(a){if(typeof window=="object")return window}}(),o.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},o.r=function(a){(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},o.nmd=function(a){return a.paths=[],a.children||(a.children=[]),a},function(){var a={340:0};o.O.j=function(d){return a[d]===0};var s=function(c,h){var f,v,b=h[0],w=h[1],k=h[2],C=0;if(b.some(function(A){return a[A]!==0})){for(f in w)o.o(w,f)&&(o.m[f]=w[f]);if(k)var E=k(o)}for(c&&c(h);C<b.length;C++)v=b[C],o.o(a,v)&&a[v]&&a[v][0](),a[v]=0;return o.O(E)},r=self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[];r.forEach(s.bind(null,0)),r.push=s.bind(null,r.push.bind(r))}();var l={};(function(){"use strict";var a=function(R,L){for(var W=0;W<L.length;W++){var ne=L[W];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(R,s(ne.key),ne)}},s=function(R){var L=function(W,ne){if(Vt(W)!="object"||!W)return W;var we=W[Symbol.toPrimitive];if(we!==void 0){var Ie=we.call(W,"string");if(Vt(Ie)!="object")return Ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(W)}(R);return Vt(L)=="symbol"?L:L+""},r=function(R,L){(L==null||L>R.length)&&(L=R.length);for(var W=0,ne=Array(L);W<L;W++)ne[W]=R[W];return ne},d=function(R,L){for(var W=0;W<L.length;W++){var ne=L[W];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(R,c(ne.key),ne)}},c=function(R){var L=function(W,ne){if(Pn(W)!="object"||!W)return W;var we=W[Symbol.toPrimitive];if(we!==void 0){var Ie=we.call(W,"string");if(Pn(Ie)!="object")return Ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(W)}(R);return Pn(L)=="symbol"?L:L+""},h=function(R,L,W,ne){var we=window.screenLeft!=null?window.screenLeft:screen.left,Ie=window.screenTop!=null?window.screenTop:screen.top,vt=(window.innerWidth||document.documentElement.clientWidth||screen.width)/2-L/2+we,Et=(window.innerHeight||document.documentElement.clientHeight||screen.height)/2-W/2+Ie,pt="status=1,width=".concat(L,",height=").concat(W,",top=").concat(Et,",left=").concat(vt);window.open(R,ne,pt)},f=function(R,L){var W=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&R[Symbol.iterator]||R["@@iterator"];if(!W){if(Array.isArray(R)||(W=function(pt,pn){if(pt){if(typeof pt=="string")return v(pt,pn);var un={}.toString.call(pt).slice(8,-1);return un==="Object"&&pt.constructor&&(un=pt.constructor.name),un==="Map"||un==="Set"?Array.from(pt):un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un)?v(pt,pn):void 0}}(R))||L&&R&&typeof R.length=="number"){W&&(R=W);var ne=0,we=function(){};return{s:we,n:function(){return ne>=R.length?{done:!0}:{done:!1,value:R[ne++]}},e:function(pn){throw pn},f:we}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ie,vt=!0,Et=!1;return{s:function(){W=W.call(R)},n:function(){var pn=W.next();return vt=pn.done,pn},e:function(pn){Et=!0,Ie=pn},f:function(){try{vt||W.return==null||W.return()}finally{if(Et)throw Ie}}}},v=function(R,L){(L==null||L>R.length)&&(L=R.length);for(var W=0,ne=Array(L);W<L;W++)ne[W]=R[W];return ne},b=function(R,L){if(!_instanceof(R,L))throw new TypeError("Cannot call a class as a function")},w=function(R,L){for(var W=0;W<L.length;W++){var ne=L[W];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(R,C(ne.key),ne)}},k=function(R,L,W){return L&&w(R.prototype,L),W&&w(R,W),Object.defineProperty(R,"prototype",{writable:!1}),R},C=function(R){var L=function(W,ne){if(ar(W)!="object"||!W)return W;var we=W[Symbol.toPrimitive];if(we!==void 0){var Ie=we.call(W,"string");if(ar(Ie)!="object")return Ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(W)}(R);return ar(L)=="symbol"?L:L+""},E=function(R,L,W,ne,we,Ie,vt){try{var Et=R[Ie](vt),pt=Et.value}catch(pn){return void W(pn)}Et.done?L(pt):Promise.resolve(pt).then(ne,we)},A=function(R){return function(){var L=this,W=arguments;return new Promise(function(ne,we){var Ie=R.apply(L,W);function vt(pt){E(Ie,ne,we,vt,Et,"next",pt)}function Et(pt){E(Ie,ne,we,vt,Et,"throw",pt)}vt(void 0)})}},j=function(R,L){if(!_instanceof(R,L))throw new TypeError("Cannot call a class as a function")},y=function(R,L){for(var W=0;W<L.length;W++){var ne=L[W];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(R,m(ne.key),ne)}},u=function(R,L,W){return L&&y(R.prototype,L),W&&y(R,W),Object.defineProperty(R,"prototype",{writable:!1}),R},p=function(R,L,W){return(L=m(L))in R?Object.defineProperty(R,L,{value:W,enumerable:!0,configurable:!0,writable:!0}):R[L]=W,R},m=function(R){var L=function(W,ne){if(Te(W)!="object"||!W)return W;var we=W[Symbol.toPrimitive];if(we!==void 0){var Ie=we.call(W,"string");if(Te(Ie)!="object")return Ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(W)}(R);return Te(L)=="symbol"?L:L+""},_=function(R,L){for(var W=0;W<L.length;W++){var ne=L[W];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(R,O(ne.key),ne)}},x=function(R,L,W){return(L=O(L))in R?Object.defineProperty(R,L,{value:W,enumerable:!0,configurable:!0,writable:!0}):R[L]=W,R},O=function(R){var L=function(W,ne){if(sn(W)!="object"||!W)return W;var we=W[Symbol.toPrimitive];if(we!==void 0){var Ie=we.call(W,"string");if(sn(Ie)!="object")return Ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(W)}(R);return sn(L)=="symbol"?L:L+""},I=function(R,L){for(var W=0;W<L.length;W++){var ne=L[W];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(R,P(ne.key),ne)}},P=function(R){var L=function(W,ne){if(Nn(W)!="object"||!W)return W;var we=W[Symbol.toPrimitive];if(we!==void 0){var Ie=we.call(W,"string");if(Nn(Ie)!="object")return Ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(W)}(R);return Nn(L)=="symbol"?L:L+""},D=function(R,L){for(var W=0;W<L.length;W++){var ne=L[W];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(R,z(ne.key),ne)}},V=function(R,L,W){return L&&D(R.prototype,L),W&&D(R,W),Object.defineProperty(R,"prototype",{writable:!1}),R},q=function(R,L,W){return(L=z(L))in R?Object.defineProperty(R,L,{value:W,enumerable:!0,configurable:!0,writable:!0}):R[L]=W,R},z=function(R){var L=function(W,ne){if(or(W)!="object"||!W)return W;var we=W[Symbol.toPrimitive];if(we!==void 0){var Ie=we.call(W,"string");if(or(Ie)!="object")return Ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(W)}(R);return or(L)=="symbol"?L:L+""},he=function(R){return function(L){if(Array.isArray(L))return Be(L)}(R)||it(R)||de(R)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},Y=function(R,L){for(var W=0;W<L.length;W++){var ne=L[W];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(R,ve(ne.key),ne)}},B=function(R,L,W){return L=ln(L),function(ne,we){if(we&&(fi(we)=="object"||typeof we=="function"))return we;if(we!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ie){if(Ie===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ie}(ne)}(R,xi()?Reflect.construct(L,W||[],ln(R).constructor):L.apply(R,W))},F=function(R){var L,W=ve(R.key);R.kind==="method"?L={value:R.value,writable:!0,configurable:!0,enumerable:!1}:R.kind==="get"?L={get:R.value,configurable:!0,enumerable:!1}:R.kind==="set"?L={set:R.value,configurable:!0,enumerable:!1}:R.kind==="field"&&(L={configurable:!0,writable:!0,enumerable:!0});var ne={kind:R.kind==="field"?"field":"method",key:W,placement:R.static?"static":R.kind==="field"?"own":"prototype",descriptor:L};return R.decorators&&(ne.decorators=R.decorators),R.kind==="field"&&(ne.initializer=R.value),ne},ce=function(R,L){R.descriptor.get!==void 0?L.descriptor.get=R.descriptor.get:L.descriptor.set=R.descriptor.set},J=function(R){return R.decorators&&R.decorators.length},ae=function(R){return R!==void 0&&!(R.value===void 0&&R.writable===void 0)},se=function(R,L){var W=R[L];if(W!==void 0&&typeof W!="function")throw new TypeError("Expected '"+L+"' to be a function");return W},ve=function(R){var L=function(W,ne){if(fi(W)!="object"||!W)return W;var we=W[Symbol.toPrimitive];if(we!==void 0){var Ie=we.call(W,"string");if(fi(Ie)!="object")return Ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(W)}(R);return fi(L)=="symbol"?L:L+""},de=function(R,L){if(R){if(typeof R=="string")return Be(R,L);var W={}.toString.call(R).slice(8,-1);return W==="Object"&&R.constructor&&(W=R.constructor.name),W==="Map"||W==="Set"?Array.from(R):W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W)?Be(R,L):void 0}},Be=function(R,L){(L==null||L>R.length)&&(L=R.length);for(var W=0,ne=Array(L);W<L;W++)ne[W]=R[W];return ne},it=function(R){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&R[Symbol.iterator]!=null||R["@@iterator"]!=null)return Array.from(R)},mt=function(R,L){for(var W=0;W<L.length;W++){var ne=L[W];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(R,Ae(ne.key),ne)}},ot=function(R,L,W){return(L=Ae(L))in R?Object.defineProperty(R,L,{value:W,enumerable:!0,configurable:!0,writable:!0}):R[L]=W,R},Ae=function(R){var L=function(W,ne){if(Rr(W)!="object"||!W)return W;var we=W[Symbol.toPrimitive];if(we!==void 0){var Ie=we.call(W,"string");if(Rr(Ie)!="object")return Ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(W)}(R);return Rr(L)=="symbol"?L:L+""},xe=function(R,L){return R.split(" ").map(function(W){return W+L}).join(" ")},De=function(R){var L,W;return R.clientX!==void 0?(L=R.clientX,W=R.clientY):R.screenX!==void 0?(L=R.screenX,W=R.screenY):R.targetTouches!==void 0?(L=R.targetTouches[0].pageX,W=R.targetTouches[0].pageY):R.originalEvent===void 0?console.error("don't understand x and y for "+R.type,R):R.originalEvent.clientX!==void 0?(L=R.originalEvent.clientX,W=R.originalEvent.clientY):R.originalEvent.screenX!==void 0?(L=R.originalEvent.screenX,W=R.originalEvent.screenY):R.originalEvent.targetTouches!==void 0&&(L=R.originalEvent.targetTouches[0].pageX,W=R.originalEvent.targetTouches[0].pageY),{left:L,top:W}},et=function(R,L,W,ne,we,Ie,vt){try{var Et=R[Ie](vt),pt=Et.value}catch(pn){return void W(pn)}Et.done?L(pt):Promise.resolve(pt).then(ne,we)},Ve=function(R){return function(){var L=this,W=arguments;return new Promise(function(ne,we){var Ie=R.apply(L,W);function vt(pt){et(Ie,ne,we,vt,Et,"next",pt)}function Et(pt){et(Ie,ne,we,vt,Et,"throw",pt)}vt(void 0)})}},je=function(R,L){for(var W=0;W<L.length;W++){var ne=L[W];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(R,He(ne.key),ne)}},He=function(R){var L=function(W,ne){if(Si(W)!="object"||!W)return W;var we=W[Symbol.toPrimitive];if(we!==void 0){var Ie=we.call(W,"string");if(Si(Ie)!="object")return Ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(W)}(R);return Si(L)=="symbol"?L:L+""},qe=function(R,L){return L||(L=R.slice(0)),Object.freeze(Object.defineProperties(R,{raw:{value:Object.freeze(L)}}))},lt=function(R,L,W,ne,we,Ie,vt){try{var Et=R[Ie](vt),pt=Et.value}catch(pn){return void W(pn)}Et.done?L(pt):Promise.resolve(pt).then(ne,we)},_t=function(R){return function(){var L=this,W=arguments;return new Promise(function(ne,we){var Ie=R.apply(L,W);function vt(pt){lt(Ie,ne,we,vt,Et,"next",pt)}function Et(pt){lt(Ie,ne,we,vt,Et,"throw",pt)}vt(void 0)})}},be=function(R,L){for(var W=0;W<L.length;W++){var ne=L[W];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(R,At(ne.key),ne)}},ze=function(R,L,W){return L&&be(R.prototype,L),W&&be(R,W),Object.defineProperty(R,"prototype",{writable:!1}),R},Re=function(R,L){if(!_instanceof(R,L))throw new TypeError("Cannot call a class as a function")},$e=function(R,L,W){return L=io(L),function(ne,we){if(we&&(Mo(we)=="object"||typeof we=="function"))return we;if(we!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ie){if(Ie===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ie}(ne)}(R,Nu()?Reflect.construct(L,W||[],io(R).constructor):L.apply(R,W))},Ye=function(R,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(L&&L.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),L&&Qi(R,L)},We=function(R,L,W,ne){var we=so();if(ne)for(var Ie=0;Ie<ne.length;Ie++)we=ne[Ie](we);var vt=L(function(pt){we.initializeInstanceElements(pt,Et.elements)},W),Et=we.decorateClass(function(pt){for(var pn=[],un=function(Ln){return Ln.kind==="method"&&Ln.key===An.key&&Ln.placement===An.placement},jn=0;jn<pt.length;jn++){var In,An=pt[jn];if(An.kind==="method"&&(In=pn.find(un)))if(rt(An.descriptor)||rt(In.descriptor)){if(nt(An)||nt(In))throw new ReferenceError("Duplicated methods ("+An.key+") can't be decorated.");In.descriptor=An.descriptor}else{if(nt(An)){if(nt(In))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+An.key+").");In.decorators=An.decorators}gt(An,In)}else pn.push(An)}return pn}(vt.d.map(Ct)),R);return we.initializeClassElements(vt.F,Et.elements),we.runClassFinishers(vt.F,Et.finishers)},Ct=function(R){var L,W=At(R.key);R.kind==="method"?L={value:R.value,writable:!0,configurable:!0,enumerable:!1}:R.kind==="get"?L={get:R.value,configurable:!0,enumerable:!1}:R.kind==="set"?L={set:R.value,configurable:!0,enumerable:!1}:R.kind==="field"&&(L={configurable:!0,writable:!0,enumerable:!0});var ne={kind:R.kind==="field"?"field":"method",key:W,placement:R.static?"static":R.kind==="field"?"own":"prototype",descriptor:L};return R.decorators&&(ne.decorators=R.decorators),R.kind==="field"&&(ne.initializer=R.value),ne},gt=function(R,L){R.descriptor.get!==void 0?L.descriptor.get=R.descriptor.get:L.descriptor.set=R.descriptor.set},nt=function(R){return R.decorators&&R.decorators.length},rt=function(R){return R!==void 0&&!(R.value===void 0&&R.writable===void 0)},ct=function(R,L){var W=R[L];if(W!==void 0&&typeof W!="function")throw new TypeError("Expected '"+L+"' to be a function");return W},At=function(R){var L=function(W,ne){if(Mo(W)!="object"||!W)return W;var we=W[Symbol.toPrimitive];if(we!==void 0){var Ie=we.call(W,"string");if(Mo(Ie)!="object")return Ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(W)}(R);return Mo(L)=="symbol"?L:L+""},Mt=function(R,L){if(R){if(typeof R=="string")return Lt(R,L);var W={}.toString.call(R).slice(8,-1);return W==="Object"&&R.constructor&&(W=R.constructor.name),W==="Map"||W==="Set"?Array.from(R):W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W)?Lt(R,L):void 0}},Lt=function(R,L){(L==null||L>R.length)&&(L=R.length);for(var W=0,ne=Array(L);W<L;W++)ne[W]=R[W];return ne},st=function(R){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&R[Symbol.iterator]!=null||R["@@iterator"]!=null)return Array.from(R)},te=function(R,L,W,ne,we,Ie,vt){try{var Et=R[Ie](vt),pt=Et.value}catch(pn){return void W(pn)}Et.done?L(pt):Promise.resolve(pt).then(ne,we)},Jt=function(R){return function(){var L=this,W=arguments;return new Promise(function(ne,we){var Ie=R.apply(L,W);function vt(pt){te(Ie,ne,we,vt,Et,"next",pt)}function Et(pt){te(Ie,ne,we,vt,Et,"throw",pt)}vt(void 0)})}},Ft=function(R,L){for(var W=0;W<L.length;W++){var ne=L[W];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(R,Yt(ne.key),ne)}},Yt=function(R){var L=function(W,ne){if(_r(W)!="object"||!W)return W;var we=W[Symbol.toPrimitive];if(we!==void 0){var Ie=we.call(W,"string");if(_r(Ie)!="object")return Ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(W)}(R);return _r(L)=="symbol"?L:L+""},N=function(R,L){var W=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&R[Symbol.iterator]||R["@@iterator"];if(!W){if(Array.isArray(R)||(W=function(pt,pn){if(pt){if(typeof pt=="string")return Ze(pt,pn);var un={}.toString.call(pt).slice(8,-1);return un==="Object"&&pt.constructor&&(un=pt.constructor.name),un==="Map"||un==="Set"?Array.from(pt):un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un)?Ze(pt,pn):void 0}}(R))||L&&R&&typeof R.length=="number"){W&&(R=W);var ne=0,we=function(){};return{s:we,n:function(){return ne>=R.length?{done:!0}:{done:!1,value:R[ne++]}},e:function(pn){throw pn},f:we}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ie,vt=!0,Et=!1;return{s:function(){W=W.call(R)},n:function(){var pn=W.next();return vt=pn.done,pn},e:function(pn){Et=!0,Ie=pn},f:function(){try{vt||W.return==null||W.return()}finally{if(Et)throw Ie}}}},Ze=function(R,L){(L==null||L>R.length)&&(L=R.length);for(var W=0,ne=Array(L);W<L;W++)ne[W]=R[W];return ne},ge=function(R,L){for(var W=0;W<L.length;W++){var ne=L[W];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(R,ie(ne.key),ne)}},ie=function(R){var L=function(W,ne){if(Lo(W)!="object"||!W)return W;var we=W[Symbol.toPrimitive];if(we!==void 0){var Ie=we.call(W,"string");if(Lo(Ie)!="object")return Ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(W)}(R);return Lo(L)=="symbol"?L:L+""},G=function(R){return function(L){if(Array.isArray(L))return H(L)}(R)||function(L){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&L[Symbol.iterator]!=null||L["@@iterator"]!=null)return Array.from(L)}(R)||function(L,W){if(L){if(typeof L=="string")return H(L,W);var ne={}.toString.call(L).slice(8,-1);return ne==="Object"&&L.constructor&&(ne=L.constructor.name),ne==="Map"||ne==="Set"?Array.from(L):ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne)?H(L,W):void 0}}(R)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},H=function(R,L){(L==null||L>R.length)&&(L=R.length);for(var W=0,ne=Array(L);W<L;W++)ne[W]=R[W];return ne},Z=function(R,L){for(var W=0;W<L.length;W++){var ne=L[W];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(R,oe(ne.key),ne)}},oe=function(R){var L=function(W,ne){if(Se(W)!="object"||!W)return W;var we=W[Symbol.toPrimitive];if(we!==void 0){var Ie=we.call(W,"string");if(Se(Ie)!="object")return Ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(W)}(R);return Se(L)=="symbol"?L:L+""},me=function(R,L,W,ne,we,Ie,vt){try{var Et=R[Ie](vt),pt=Et.value}catch(pn){return void W(pn)}Et.done?L(pt):Promise.resolve(pt).then(ne,we)},Oe=function(R){return function(){var L=this,W=arguments;return new Promise(function(ne,we){var Ie=R.apply(L,W);function vt(pt){me(Ie,ne,we,vt,Et,"next",pt)}function Et(pt){me(Ie,ne,we,vt,Et,"throw",pt)}vt(void 0)})}},Pe=function(R,L){(L==null||L>R.length)&&(L=R.length);for(var W=0,ne=Array(L);W<L;W++)ne[W]=R[W];return ne},Xe=function(R,L,W){var ne,we,Ie,vt,Et,pt,pn,un;we=W,Ie=function(In){return In.br},vt=Nt,Et=arguments.length>3&&arguments[3]!==void 0?arguments[3]:W,pt=function(In){return In._overrideable[L]},pn=(ne=R).prototype[we],un=function(){return pn.apply(pt(this),arguments)},Object.defineProperty(vt.prototype,Et,{get:function(){return un},set:function(In){ne.prototype[we]=function(){var An=_instanceof(this,ne)?Ie(this):this;return In.apply(An,arguments)},un=In}})};o(2675),o(9463),o(6412),o(2259),o(8125),o(8706),o(2008),o(113),o(3418),o(4423),o(3792),o(8598),o(2062),o(2712),o(4490),o(4782),o(2010),o(4731),o(479),o(875),o(9432),o(6099),o(6034),o(8940),o(3362),o(7495),o(8781),o(1699),o(7764),o(5746),o(3500),o(2953),o(8408),o(9139),o(3662),o(8497);var Me=o(6257);o(5700),o(9572),o(8130),o(8459),o(4720);var Qe={fragmentChange:"fragmentChange",pageChanged:"pageChanged",PostInit:"PostInit",stop:"stop",resize:"resize",userAction:"userAction",fullscreenToggled:"fullscreenToggled",zoomOut:"zoomOut",zoomIn:"zoomIn","1PageViewSelected":"1PageViewSelected","2PageViewSelected":"2PageViewSelected","3PageViewSelected":"3PageViewSelected"},ht=o(1669);function Vt(le){return Vt=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(L){return typeof L=="undefined"?"undefined":_typeof(L)}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R=="undefined"?"undefined":_typeof(R)},Vt(le)}var $t=function(){return le=function L(W){(function(ne,we){if(!_instanceof(ne,we))throw new TypeError("Cannot call a class as a function")})(this,L),this.br=W,this.$root=null,this.$nav=null,this.maxPageNum=null,this.minimumControls=["viewmode"],this.maximumControls=["book_left","book_right","zoom_in","zoom_out","onepg","twopg","thumb"],this.updateNavIndexThrottled=(0,Me.throttle)(this.updateNavIndex.bind(this),250,!1)},R=[{key:"controlFor",value:function(W){var ne=this.br.options.controls[W];return ne.visible?ne.template?"<li>".concat(ne.template(this.br),"</li>"):'<li>\n      <button class="BRicon '.concat(ne.className,'" title="').concat(ne.label,'">\n        <div class="icon icon-').concat(ne.iconClassName,'"></div>\n        <span class="BRtooltip">').concat(ne.label,"</span>\n      </button>\n    </li>"):""}},{key:"_renderControls",value:function(){var W=this;return["bookLeft","bookRight","onePage","twoPage","thumbnail","viewmode","zoomOut","zoomIn","fullScreen"].map(function(ne){return W.controlFor(ne)}).join("")}},{key:"_bindViewModeButton",value:function(){var W=this,ne=this.br,we=ne.options.controls.viewmode,Ie=[{mode:ne.constMode1up,className:"onepg",title:"One-page view"},{mode:ne.constMode2up,className:"twopg",title:"Two-page view"},{mode:ne.constModeThumb,className:"thumb",title:"Thumbnail view"}].filter(function(pn){return!we.excludedModes.includes(pn.mode)}),vt=Ie.map(function(pn){return pn.mode});we.excludedModes.includes(ne.mode)&&ne.switchMode(vt[0]);for(var Et=vt.indexOf(ne.mode),pt=0;pt<=Et;pt++)vt.push(vt.shift());Ie.length<2&&this.$nav.find(".".concat(we.className)).remove(),this.br.bind(Qe.PostInit,function(){var pn=W.$nav.find(".".concat(we.className)).off(".bindNavigationHandlers").on("click",function(jn){var In=vt.shift(),An=Ie.find(function(Ln){return Ln.mode===In}),sr=Ie.find(function(Ln){return Ln.mode===vt[0]});vt.push(In),ne.viewModeOrder=vt,W.updateViewModeButton(ht(jn.currentTarget),sr.className,sr.title),ne.switchMode(An.mode)}),un=Ie.find(function(jn){return jn.mode===vt[0]});W.updateViewModeButton(pn,un.className,un.title)})}},{key:"updateViewModeButton",value:function(W,ne,we){W.attr("title",we).find(".icon").removeClass().addClass("icon icon-".concat(ne)).end().find(".BRtooltip").text(we)}},{key:"switchNavbarControls",value:function(){this.br.options.bookType!=="linerNotes"&&(this.br.refs.$brContainer.prop("clientWidth")<640?this.showMinimumNavbarControls():this.showMaximumNavbarControls())}},{key:"showMinimumNavbarControls",value:function(){this.minimumControls.forEach(function(W){var ne=document.querySelector(".controls .".concat(W));ne&&ne.classList.remove("hide")}),this.maximumControls.forEach(function(W){var ne=document.querySelector(".controls .".concat(W));ne&&ne.classList.add("hide")})}},{key:"showMaximumNavbarControls",value:function(){this.maximumControls.forEach(function(W){var ne=document.querySelector(".controls .".concat(W));ne&&ne.classList.remove("hide")}),this.minimumControls.forEach(function(W){var ne=document.querySelector(".controls .".concat(W));ne&&ne.classList.add("hide")})}},{key:"init",value:function(){var W=this,ne=this.br,we=ne.options.navbarTitle,Ie=ne.pageProgression==="rl",vt=Ie?"book_flip_next":"book_flip_prev",Et=Ie?"book_flip_prev":"book_flip_next";this.br.options.controls.bookLeft.className="book_left ".concat(vt),this.br.options.controls.bookRight.className="book_right ".concat(Et),ne.refs.$BRfooter=this.$root=ht('<div class="BRfooter"></div>'),ne.refs.$BRnav=this.$nav=ht('<div class="BRnav BRnavDesktop">\n          '.concat(we?'<div class="BRnavTitle">'.concat(we,"</div>"):"",'\n          <nav class="BRcontrols">\n            <ul class="controls">\n              <li class="scrubber">\n                <div class="BRnavpos">\n                  <div class="BRpager"></div>\n                  <div class="BRnavline"></div>\n                </div>\n                <p><span class=\'BRcurrentpage\'></span></p>\n              </li>\n              ').concat(this._renderControls(),"\n            </ul>\n          </nav>\n        </div>")),this.$root.append(this.$nav),ne.refs.$br.append(this.$root);var pt=this.$root.find(".BRpager").slider({animate:!0,min:0,max:ne.book.getNumLeafs()-1,value:ne.currentIndex(),range:"min"});return pt.on("slide",function(pn,un){return W.updateNavPageNum(un.value),!0}),pt.on("slidechange",function(pn,un){return W.updateNavPageNum(un.value),pt.data("swallowchange")?pt.data("swallowchange",!1):ne.jumpToIndex(un.value),!0}),ne.options.controls.viewmode.visible&&this._bindViewModeButton(),this.updateNavPageNum(ne.currentIndex()),this.$nav}},{key:"getNavPageNumString",value:function(W){var ne=this.br,we=ne.book.getPageNum(W),Ie=(ne.book.getPageProp(W,"pageType"),ne.book.getNumLeafs());if(!this.maxPageNum){for(var vt,Et=0,pt=0;pt<Ie;pt++)vt=parseFloat(ne.book.getPageNum(pt)),!isNaN(vt)&&vt>Et&&(Et=vt);this.maxPageNum=Et}return function(pn,un,jn,In,An){if(jn[0]=="n")return"(".concat(pn+1," of ").concat(un,")");var sr=An&&parseFloat(jn)?" of ".concat(An):"";return"".concat(jn).concat(sr)}(W,Ie,we,0,this.maxPageNum)}},{key:"updateNavPageNum",value:function(W){this.$root.find(".BRcurrentpage").html(this.getNavPageNumString(W))}},{key:"updateNavIndex",value:function(W){W=W!==void 0?W:this.br.currentIndex(),this.$root.find(".BRpager").data("swallowchange",!0).slider("value",W)}}],R&&a(le.prototype,R),Object.defineProperty(le,"prototype",{writable:!1}),le;var le,R}();function zt(le){return zt=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(L){return typeof L=="undefined"?"undefined":_typeof(L)}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R=="undefined"?"undefined":_typeof(R)},zt(le)}function qt(le){var R=typeof Map=="function"?new Map:void 0;return qt=function(W){if(W===null||!function(we){try{return Function.toString.call(we).indexOf("[native code]")!==-1}catch(Ie){return typeof we=="function"}}(W))return W;if(typeof W!="function")throw new TypeError("Super expression must either be null or a function");if(R!==void 0){if(R.has(W))return R.get(W);R.set(W,ne)}function ne(){return function(we,Ie,vt){if(Bt())return Reflect.construct.apply(null,arguments);var Et=[null];Et.push.apply(Et,Ie);var pt=new(we.bind.apply(we,Et));return vt&&an(pt,vt.prototype),pt}(W,arguments,cn(this).constructor)}return ne.prototype=Object.create(W.prototype,{constructor:{value:ne,enumerable:!1,writable:!0,configurable:!0}}),an(ne,W)},qt(le)}function Bt(){try{var le=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(R){}return(Bt=function(){return!!le})()}function an(le,R){return an=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(W,ne){return W.__proto__=ne,W},an(le,R)}function cn(le){return cn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},cn(le)}o(6033),o(825);var It={defaults:null,padding:10,ui:"full",uiAutoHide:!1,thumbRowBuffer:1,thumbColumns:6,thumbMaxLoading:4,thumbPadding:10,thumbMinZoomColumns:2,thumbMaxZoomColumns:8,flipSpeed:400,showToolbar:!0,showNavbar:!0,navBarTitle:"",showLogo:!0,logoURL:"https://archive.org",imagesBaseURL:"/BookReader/images/",reduceSet:"pow2",reductionFactors:[{reduce:.25,autofit:null},{reduce:.5,autofit:null},{reduce:1,autofit:null},{reduce:2,autofit:null},{reduce:3,autofit:null},{reduce:4,autofit:null},{reduce:6,autofit:null}],onePage:{autofit:"auto"},twoPage:{coverInternalPadding:0,coverExternalPadding:0,bookSpineDivWidth:64,autofit:"auto"},onePageMinBreakpoint:800,bookTitle:"",bookUrl:null,bookUrlText:null,bookUrlTitle:null,enableBookTitleLink:!0,bookLanguage:null,metadata:[],thumbnail:null,bookUrlMoreInfo:null,enableExperimentalControls:!1,el:"#BookReader",pageProgression:"lr",ppi:500,protected:!1,plugins:{textSelection:null},vars:{},data:[],table_of_contents:null,getNumLeafs:null,getPageWidth:null,getPageHeight:null,getPageURI:null,getPageSide:null,getSpreadIndices:null,getPageNum:null,getPageProp:null,leafNumToIndex:null,getEmbedCode:null,controls:{bookLeft:{visible:!0,label:"Flip left",className:"book_left",iconClassName:"left-arrow"},bookRight:{visible:!0,label:"Flip right",className:"book_right",iconClassName:"left-arrow hflip"},onePage:{visible:!0,label:"One-page view",className:"onepg",iconClassName:"onepg"},twoPage:{visible:!0,label:"Two-page view",className:"twopg",iconClassName:"twopg"},thumbnail:{visible:!0,label:"Thumbnail view",className:"thumb",iconClassName:"thumb"},viewmode:{visible:!0,className:"viewmode",excludedModes:[]},zoomOut:{visible:!0,label:"Zoom out",className:"zoom_out",iconClassName:"magnify"},zoomIn:{visible:!0,label:"Zoom in",className:"zoom_in",iconClassName:"magnify plus"},fullScreen:{visible:!0,label:"Toggle fullscreen",className:"full",iconClassName:"fullscreen"}},startFullscreen:!1,enableFSLogoShortcut:!1,autoResize:!0,useSrcSet:!1,unviewablePageURI:"./unviewable_page.png"},nn=function(le){function R(){return function(Ie,vt){if(!_instanceof(Ie,vt))throw new TypeError("Cannot call a class as a function")}(this,R),W=this,we=arguments,ne=cn(ne=R),function(Ie,vt){if(vt&&(zt(vt)=="object"||typeof vt=="function"))return vt;if(vt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Et){if(Et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Et}(Ie)}(W,Bt()?Reflect.construct(ne,we||[],cn(W).constructor):ne.apply(W,we));var W,ne,we}return function(W,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Super expression must either be null or a function");W.prototype=Object.create(ne&&ne.prototype,{constructor:{value:W,writable:!0,configurable:!0}}),Object.defineProperty(W,"prototype",{writable:!1}),ne&&an(W,ne)}(R,le),L=R,Object.defineProperty(L,"prototype",{writable:!1}),L;var L}(qt(Error)),Kt=(o(5440),o(4638),o(1669));function Pn(le){return Pn=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(L){return typeof L=="undefined"?"undefined":_typeof(L)}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R=="undefined"?"undefined":_typeof(R)},Pn(le)}var Xt=function(){return le=function L(W){(function(ne,we){if(!_instanceof(ne,we))throw new TypeError("Cannot call a class as a function")})(this,L),this.br=W},R=[{key:"buildToolbarElement",value:function(){var W=this.br,ne=W.showLogo?'\n      <span class="BRtoolbarSection BRtoolbarSectionLogo">\n        <a class="logo" href="'.concat(W.logoURL,'"></a>\n      </span>'):"";W.refs.$BRtoolbar=Kt('\n      <div class="BRtoolbar header">\n        <div class="BRtoolbarbuttons">\n          <div class="BRtoolbarLeft">\n            '.concat(ne,'\n            <span class="BRtoolbarSection BRtoolbarSectionTitle"></span>\n          </div>\n          <div class="BRtoolbarRight">\n            <span class="BRtoolbarSection BRtoolbarSectionInfo">\n              <button class="BRpill info js-tooltip">Info</button>\n              <button class="BRpill share js-tooltip">Share</button>\n            </span>\n          </div>\n        </div>\n      </div>'));var we=W.refs.$BRtoolbar.find(".BRtoolbarSectionTitle");return W.bookUrl&&W.options.enableBookTitleLink?we.append(Kt("<a>").attr({href:W.bookUrl,title:W.bookUrlTitle}).addClass("BRreturn").html(W.bookUrlText||W.bookTitle)):W.bookTitle&&we.append(W.bookUrlText||W.bookTitle),W.refs.$BRtoolbar}},{key:"initToolbar",value:function(W,ne){var we=this.br;we.refs.$br.append(this.buildToolbarElement()),we.$(".BRnavCntl").addClass("BRup"),we.$(".pause").hide(),we.refs.$BRtoolbar.append(),we.canSwitchToMode(we.constMode2up)||we.$(".two_page_mode, .play, .pause").hide(),we.canSwitchToMode(we.constModeThumb)||we.$(".thumbnail_mode").hide(),we.canSwitchToMode(we.constMode2up)||we.canSwitchToMode(we.constModeThumb)||we.$(".one_page_mode").hide(),Kt('<div style="display: none;"></div>').append(Kt('\n    <div class="BRfloat BRshare">\n      <div class="BRfloatHead">\n        Share\n        <button class="floatShut" href="javascript:;" onclick="$.fn.colorbox.close();"><span class="br-colorbox-shift">Close</span></button>\n      </div>\n    </div>')).append(Kt('\n    <div class="BRfloat BRinfo">\n      <div class="BRfloatHead">About this book\n        <button class="floatShut" href="javascript:;" onclick="$.fn.colorbox.close();"><span class="br-colorbox-shift">Close</span></button>\n      </div>\n      <div class="BRfloatBody">\n        <div class="BRfloatCover"></div>\n        <div class="BRfloatMeta">\n          <div class="BRfloatTitle">\n            <h2><a /></h2>\n          </div>\n        </div>\n      </div>\n      <div class="BRfloatFoot">\n        <a href="https://openlibrary.org/dev/docs/bookreader">About the BookReader</a>\n      </div>\n    </div>')).appendTo(we.refs.$br),we.$(".BRinfo .BRfloatTitle a").attr({href:we.bookUrl}).text(we.bookTitle).addClass("title"),this.buildInfoDiv(we.$(".BRinfo")),this.buildShareDiv(we.$(".BRshare")),we.$(".share").colorbox({inline:!0,opacity:"0.5",href:we.$(".BRshare"),onLoad:function(){we.trigger(Qe.stop),we.$(".BRpageviewValue").val(window.location.href)}}),we.$(".info").colorbox({inline:!0,opacity:"0.5",href:we.$(".BRinfo"),onLoad:function(){we.trigger(Qe.stop)}})}},{key:"buildShareDiv",value:function(W){var ne=this,we=this.br,Ie=document.location+"",vt=(Ie+"").replace(/#.*/,""),Et=we.getEmbedCode?'\n      <div class="share-embed">\n        <p class="share-embed-prompt">Copy and paste one of these options to share this book elsewhere.</p>\n        <form method="post" action="">\n          <fieldset class="fieldset-share-pageview">\n            <label for="pageview">Link to this page view</label>\n            <input type="text" name="pageview" class="BRpageviewValue" value="'.concat(Ie,'"/>\n          </fieldset>\n          <fieldset class="fieldset-share-book-link">\n            <label for="booklink">Link to the book</label>\n            <input type="text" name="booklink" class="booklink" value="').concat(vt,'"/>\n          </fieldset>\n          <fieldset class="fieldset-embed">\n            <label for="iframe">Embed a mini Book Reader</label>\n            <fieldset class="sub">\n              <label class="sub">\n                <input type="radio" name="pages" value="').concat(we.constMode1up,'" checked="checked"/>\n                1 page\n              </label>\n              <label class="sub">\n                <input type="radio" name="pages" value="').concat(we.constMode2up,'"/>\n                2 pages\n              </label>\n              <label class="sub">\n                <input type="checkbox" name="thispage" value="thispage"/>\n                Open to this page?\n              </label>\n            </fieldset>\n            <textarea cols="30" rows="4" name="iframe" class="BRframeEmbed"></textarea>\n          </fieldset>\n        </form>\n      </div>'):"",pt=Kt('\n      <div class="share-title">Share this book</div>\n      <div class="share-social">\n        <label class="sub open-to-this-page">\n          <input class="thispage-social" type="checkbox" />\n          Open to this page?\n        </label>\n        <div><button class="BRaction share facebook-share-button"><i class="BRicon fb" /> Facebook</button></div>\n        <div><button class="BRaction share twitter-share-button"><i class="BRicon twitter" /> Twitter</button></div>\n        <div><button class="BRaction share email-share-button"><i class="BRicon email" /> Email</button></div>\n      </div>\n      '.concat(Et,'\n      <div class="BRfloatFoot">\n        <button class="share-finished" type="button" onclick="$.fn.colorbox.close();">Finished</button>\n      </div>'));pt.appendTo(W),pt.find(".fieldset-embed input").on("change",function(pn){var un=Kt(pn.target).parents("form").first(),jn={};jn.mode=Kt(un.find(".fieldset-embed input[name=pages]:checked")).val(),un.find(".fieldset-embed input[name=thispage]").prop("checked")&&(jn.page=we.book.getPageNum(we.currentIndex())),we.getEmbedCode&&un.find(".BRframeEmbed").val(we.getEmbedCode("480px","430px",jn))}),pt.find("input, textarea").on("focus",function(pn){return pn.target.select()}),pt.find(".facebook-share-button").on("click",function(){h("https://www.facebook.com/sharer.php?"+Kt.param({u:ne._getSocialShareUrl()}),600,400,"Share")}),pt.find(".twitter-share-button").on("click",function(){h("https://twitter.com/intent/tweet?"+Kt.param({url:ne._getSocialShareUrl(),text:we.bookTitle}),600,400,"Share")}),pt.find(".email-share-button").on("click",function(){var pn="".concat(we.bookTitle,"\n\n").concat(ne._getSocialShareUrl());window.location.href="mailto:?subject=".concat(encodeURI(we.bookTitle),"&body=").concat(encodeURI(pn))}),pt.find("input[name=thispage]").trigger("change"),pt.appendTo(W)}},{key:"_getSocialShareUrl",value:function(){return this.br.$(".thispage-social").prop("checked")?window.location.href:"".concat(document.location.protocol,"//").concat(window.location.hostname).concat(window.location.pathname)}},{key:"buildInfoDiv",value:function(W){var ne=this.br;W.find(".BRfloatBody, .BRfloatCover, .BRfloatFoot").remove();var we=Kt('<div class="BRinfoLeftCol"></div>');ne.thumbnail&&we.append(Kt('\n        <div class="BRimageW">\n          <img src="'.concat(ne.thumbnail,'" alt="').concat((0,Me.escapeHTML)(ne.bookTitle),'" />\n        </div>')));var Ie,vt=Kt('<div class="BRinfoRightCol">'),Et=function(dr,On){var nr=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&dr[Symbol.iterator]||dr["@@iterator"];if(!nr){if(Array.isArray(dr)||(nr=function(hr,wr){if(hr){if(typeof hr=="string")return r(hr,wr);var Ur={}.toString.call(hr).slice(8,-1);return Ur==="Object"&&hr.constructor&&(Ur=hr.constructor.name),Ur==="Map"||Ur==="Set"?Array.from(hr):Ur==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ur)?r(hr,wr):void 0}}(dr))||On&&dr&&typeof dr.length=="number"){nr&&(dr=nr);var pr=0,Jn=function(){};return{s:Jn,n:function(){return pr>=dr.length?{done:!0}:{done:!1,value:dr[pr++]}},e:function(wr){throw wr},f:Jn}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var rr,Hr=!0,Mr=!1;return{s:function(){nr=nr.call(dr)},n:function(){var wr=nr.next();return Hr=wr.done,wr},e:function(wr){Mr=!0,rr=wr},f:function(){try{Hr||nr.return==null||nr.return()}finally{if(Mr)throw rr}}}}(ne.metadata);try{for(Et.s();!(Ie=Et.n()).done;){var pt=Ie.value,pn=pt.extraValueClass,un=pn===void 0?"":pn,jn=pt.label,In=pt.value,An=jn==="Title"?(0,Me.escapeHTML)(In):In;vt.append(Kt('\n        <div class="BRinfoValueWrapper">\n          <div class="BRinfoLabel">'.concat(jn,'</div>\n          <div class="BRinfoValue ').concat(un,'">').concat(An,"</div>\n        </div>")))}}catch(dr){Et.e(dr)}finally{Et.f()}var sr=ne.bookUrlMoreInfo?ne.bookUrlMoreInfo:ne.bookTitle;sr&&ne.bookUrl&&vt.append(Kt('\n        <div class="BRinfoValueWrapper">\n          <div class="BRinfoMoreInfoWrapper">\n            <a class="BRinfoMoreInfo" href="'.concat(ne.bookUrl,'">\n              ').concat((0,Me.escapeHTML)(sr),"\n            </a>\n          </div>\n        </div>")));var Ln=Kt('<div class="BRfloatFoot BRinfoFooter"></div>'),vr=Kt('<div class="BRinfoW mv20-lg">').append([we,vt,Kt('<br style="clear:both"/>')]);W.append(vr,Ln).addClass("wide")}},{key:"getToolBarHeight",value:function(){var W=this.br.refs.$BRtoolbar;return W&&W.css("display")==="block"?W.outerHeight()+parseInt(W.css("top")):0}}],R&&d(le.prototype,R),Object.defineProperty(le,"prototype",{writable:!1}),le;var le,R}();function ar(le){return ar=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(L){return typeof L=="undefined"?"undefined":_typeof(L)}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R=="undefined"?"undefined":_typeof(R)},ar(le)}function Fn(){Fn=function(){return R};var le,R={},L=Object.prototype,W=L.hasOwnProperty,ne=Object.defineProperty||function(Fe,ke,Le){Fe[ke]=Le.value},we=typeof Symbol=="function"?Symbol:{},Ie=we.iterator||"@@iterator",vt=we.asyncIterator||"@@asyncIterator",Et=we.toStringTag||"@@toStringTag";function pt(Fe,ke,Le){return Object.defineProperty(Fe,ke,{value:Le,enumerable:!0,configurable:!0,writable:!0}),Fe[ke]}try{pt({},"")}catch(Fe){pt=function(Le,kt,Pt){return Le[kt]=Pt}}function pn(Fe,ke,Le,kt){var Pt=ke&&_instanceof(ke.prototype,vr)?ke:vr,jt=Object.create(Pt.prototype),vn=new Dr(kt||[]);return ne(jt,"_invoke",{value:hr(Fe,Le,vn)}),jt}function un(Fe,ke,Le){try{return{type:"normal",arg:Fe.call(ke,Le)}}catch(kt){return{type:"throw",arg:kt}}}R.wrap=pn;var jn="suspendedStart",In="suspendedYield",An="executing",sr="completed",Ln={};function vr(){}function dr(){}function On(){}var nr={};pt(nr,Ie,function(){return this});var pr=Object.getPrototypeOf,Jn=pr&&pr(pr($r([])));Jn&&Jn!==L&&W.call(Jn,Ie)&&(nr=Jn);var rr=On.prototype=vr.prototype=Object.create(nr);function Hr(Fe){["next","throw","return"].forEach(function(ke){pt(Fe,ke,function(Le){return this._invoke(ke,Le)})})}function Mr(Fe,ke){function Le(Pt,jt,vn,Sn){var Hn=un(Fe[Pt],Fe,jt);if(Hn.type!=="throw"){var gr=Hn.arg,mr=gr.value;return mr&&ar(mr)=="object"&&W.call(mr,"__await")?ke.resolve(mr.__await).then(function(Yn){Le("next",Yn,vn,Sn)},function(Yn){Le("throw",Yn,vn,Sn)}):ke.resolve(mr).then(function(Yn){gr.value=Yn,vn(gr)},function(Yn){return Le("throw",Yn,vn,Sn)})}Sn(Hn.arg)}var kt;ne(this,"_invoke",{value:function(jt,vn){function Sn(){return new ke(function(Hn,gr){Le(jt,vn,Hn,gr)})}return kt=kt?kt.then(Sn,Sn):Sn()}})}function hr(Fe,ke,Le){var kt=jn;return function(Pt,jt){if(kt===An)throw Error("Generator is already running");if(kt===sr){if(Pt==="throw")throw jt;return{value:le,done:!0}}for(Le.method=Pt,Le.arg=jt;;){var vn=Le.delegate;if(vn){var Sn=wr(vn,Le);if(Sn){if(Sn===Ln)continue;return Sn}}if(Le.method==="next")Le.sent=Le._sent=Le.arg;else if(Le.method==="throw"){if(kt===jn)throw kt=sr,Le.arg;Le.dispatchException(Le.arg)}else Le.method==="return"&&Le.abrupt("return",Le.arg);kt=An;var Hn=un(Fe,ke,Le);if(Hn.type==="normal"){if(kt=Le.done?sr:In,Hn.arg===Ln)continue;return{value:Hn.arg,done:Le.done}}Hn.type==="throw"&&(kt=sr,Le.method="throw",Le.arg=Hn.arg)}}}function wr(Fe,ke){var Le=ke.method,kt=Fe.iterator[Le];if(kt===le)return ke.delegate=null,Le==="throw"&&Fe.iterator.return&&(ke.method="return",ke.arg=le,wr(Fe,ke),ke.method==="throw")||Le!=="return"&&(ke.method="throw",ke.arg=new TypeError("The iterator does not provide a '"+Le+"' method")),Ln;var Pt=un(kt,Fe.iterator,ke.arg);if(Pt.type==="throw")return ke.method="throw",ke.arg=Pt.arg,ke.delegate=null,Ln;var jt=Pt.arg;return jt?jt.done?(ke[Fe.resultName]=jt.value,ke.next=Fe.nextLoc,ke.method!=="return"&&(ke.method="next",ke.arg=le),ke.delegate=null,Ln):jt:(ke.method="throw",ke.arg=new TypeError("iterator result is not an object"),ke.delegate=null,Ln)}function Ur(Fe){var ke={tryLoc:Fe[0]};1 in Fe&&(ke.catchLoc=Fe[1]),2 in Fe&&(ke.finallyLoc=Fe[2],ke.afterLoc=Fe[3]),this.tryEntries.push(ke)}function Xr(Fe){var ke=Fe.completion||{};ke.type="normal",delete ke.arg,Fe.completion=ke}function Dr(Fe){this.tryEntries=[{tryLoc:"root"}],Fe.forEach(Ur,this),this.reset(!0)}function $r(Fe){if(Fe||Fe===""){var ke=Fe[Ie];if(ke)return ke.call(Fe);if(typeof Fe.next=="function")return Fe;if(!isNaN(Fe.length)){var Le=-1,kt=function Pt(){for(;++Le<Fe.length;)if(W.call(Fe,Le))return Pt.value=Fe[Le],Pt.done=!1,Pt;return Pt.value=le,Pt.done=!0,Pt};return kt.next=kt}}throw new TypeError(ar(Fe)+" is not iterable")}return dr.prototype=On,ne(rr,"constructor",{value:On,configurable:!0}),ne(On,"constructor",{value:dr,configurable:!0}),dr.displayName=pt(On,Et,"GeneratorFunction"),R.isGeneratorFunction=function(Fe){var ke=typeof Fe=="function"&&Fe.constructor;return!!ke&&(ke===dr||(ke.displayName||ke.name)==="GeneratorFunction")},R.mark=function(Fe){return Object.setPrototypeOf?Object.setPrototypeOf(Fe,On):(Fe.__proto__=On,pt(Fe,Et,"GeneratorFunction")),Fe.prototype=Object.create(rr),Fe},R.awrap=function(Fe){return{__await:Fe}},Hr(Mr.prototype),pt(Mr.prototype,vt,function(){return this}),R.AsyncIterator=Mr,R.async=function(Fe,ke,Le,kt,Pt){Pt===void 0&&(Pt=Promise);var jt=new Mr(pn(Fe,ke,Le,kt),Pt);return R.isGeneratorFunction(ke)?jt:jt.next().then(function(vn){return vn.done?vn.value:jt.next()})},Hr(rr),pt(rr,Et,"Generator"),pt(rr,Ie,function(){return this}),pt(rr,"toString",function(){return"[object Generator]"}),R.keys=function(Fe){var ke=Object(Fe),Le=[];for(var kt in ke)Le.push(kt);return Le.reverse(),function Pt(){for(;Le.length;){var jt=Le.pop();if(jt in ke)return Pt.value=jt,Pt.done=!1,Pt}return Pt.done=!0,Pt}},R.values=$r,Dr.prototype={constructor:Dr,reset:function(ke){if(this.prev=0,this.next=0,this.sent=this._sent=le,this.done=!1,this.delegate=null,this.method="next",this.arg=le,this.tryEntries.forEach(Xr),!ke)for(var Le in this)Le.charAt(0)==="t"&&W.call(this,Le)&&!isNaN(+Le.slice(1))&&(this[Le]=le)},stop:function(){this.done=!0;var ke=this.tryEntries[0].completion;if(ke.type==="throw")throw ke.arg;return this.rval},dispatchException:function(ke){if(this.done)throw ke;var Le=this;function kt(gr,mr){return vn.type="throw",vn.arg=ke,Le.next=gr,mr&&(Le.method="next",Le.arg=le),!!mr}for(var Pt=this.tryEntries.length-1;Pt>=0;--Pt){var jt=this.tryEntries[Pt],vn=jt.completion;if(jt.tryLoc==="root")return kt("end");if(jt.tryLoc<=this.prev){var Sn=W.call(jt,"catchLoc"),Hn=W.call(jt,"finallyLoc");if(Sn&&Hn){if(this.prev<jt.catchLoc)return kt(jt.catchLoc,!0);if(this.prev<jt.finallyLoc)return kt(jt.finallyLoc)}else if(Sn){if(this.prev<jt.catchLoc)return kt(jt.catchLoc,!0)}else{if(!Hn)throw Error("try statement without catch or finally");if(this.prev<jt.finallyLoc)return kt(jt.finallyLoc)}}}},abrupt:function(ke,Le){for(var kt=this.tryEntries.length-1;kt>=0;--kt){var Pt=this.tryEntries[kt];if(Pt.tryLoc<=this.prev&&W.call(Pt,"finallyLoc")&&this.prev<Pt.finallyLoc){var jt=Pt;break}}jt&&(ke==="break"||ke==="continue")&&jt.tryLoc<=Le&&Le<=jt.finallyLoc&&(jt=null);var vn=jt?jt.completion:{};return vn.type=ke,vn.arg=Le,jt?(this.method="next",this.next=jt.finallyLoc,Ln):this.complete(vn)},complete:function(ke,Le){if(ke.type==="throw")throw ke.arg;return ke.type==="break"||ke.type==="continue"?this.next=ke.arg:ke.type==="return"?(this.rval=this.arg=ke.arg,this.method="return",this.next="end"):ke.type==="normal"&&Le&&(this.next=Le),Ln},finish:function(ke){for(var Le=this.tryEntries.length-1;Le>=0;--Le){var kt=this.tryEntries[Le];if(kt.finallyLoc===ke)return this.complete(kt.completion,kt.afterLoc),Xr(kt),Ln}},catch:function(ke){for(var Le=this.tryEntries.length-1;Le>=0;--Le){var kt=this.tryEntries[Le];if(kt.tryLoc===ke){var Pt=kt.completion;if(Pt.type==="throw"){var jt=Pt.arg;Xr(kt)}return jt}}throw Error("illegal catch attempt")},delegateYield:function(ke,Le,kt){return this.delegate={iterator:$r(ke),resultName:Le,nextLoc:kt},this.method==="next"&&(this.arg=le),Ln}},R}o(8980),o(8350),o(6910),o(237),o(1392);var Qn=function(){return k(function le(R){var L,W,ne,we;b(this,le),this.br=R,this.reduceSet=R.reduceSet,this.ppi=(L=(W=R.options)===null||W===void 0?void 0:W.ppi)!==null&&L!==void 0?L:It.ppi,this.pageProgression=(ne=(we=R.options)===null||we===void 0?void 0:we.pageProgression)!==null&&ne!==void 0?ne:It.pageProgression,this._medianPageSize=null,this._getDataFlattenedCached=null},[{key:"getMedianPageSizeInches",value:function(){if(this._medianPageSize)return this._medianPageSize;var R,L=[],W=[],ne=f(this.pagesIterator());try{for(ne.s();!(R=ne.n()).done;){var we=R.value;L.push(we.widthInches),W.push(we.heightInches)}}catch(Ie){ne.e(Ie)}finally{ne.f()}return L.sort(function(Ie,vt){return Ie-vt}),W.sort(function(Ie,vt){return Ie-vt}),this._medianPageSize={width:L[Math.floor(L.length/2)],height:W[Math.floor(W.length/2)]},this._medianPageSize}},{key:"_getPageWidth",value:function(R){return R=(0,Me.clamp)(R,0,this.getNumLeafs()-1),this.getPageWidth(R)}},{key:"_getPageHeight",value:function(R){var L=(0,Me.clamp)(R,0,this.getNumLeafs()-1);return this.getPageHeight(L)}},{key:"getPageIndex",value:function(R){var L=this.getPageIndices(R);return L.length?L[L.length-1]:void 0}},{key:"getPageIndices",value:function(R){var L=[];if(R.slice(0,1)=="n")try{var W=R.slice(1,R.length),ne=parseInt(W);return L.push(ne),L}catch(Ie){}for(var we=0;we<this.getNumLeafs();we++)this.getPageNum(we)==R&&L.push(we);return L}},{key:"getPageName",value:function(R){return"Page "+this.getPageNum(R)}},{key:"getNumLeafs",value:function(){return this.br.numLeafs!==void 0?this.br.numLeafs:this._getDataFlattened().length}},{key:"getPageWidth",value:function(R){return this.getPageProp(R,"width")}},{key:"getPageHeight",value:function(R){return this.getPageProp(R,"height")}},{key:"getPageURI",value:function(R,L,W){if(this.getPageProp(R,"viewable",!0))return this.getPageProp(R,"uri");var ne=this.br.options.unviewablePageURI;return ne.startsWith(".")?this.br.options.imagesBaseURL+ne:ne}},{key:"getPageSide",value:function(R){return this.getPageProp(R,"pageSide")||(R%2==0?"R":"L")}},{key:"getPageNum",value:function(R){var L=this.getPageProp(R,"pageNum");return L===void 0?"n".concat(R):L}},{key:"getPageProp",value:function(R,L){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this._getDataProp(R,L,W)}},{key:"getSpreadIndices",value:function(R){return this.pageProgression=="rl"?this.getPageSide(R)=="R"?[R+1,R]:[R,R-1]:this.getPageSide(R)=="L"?[R,R+1]:[R-1,R]}},{key:"leafNumToIndex",value:function(R){var L=this._getDataFlattened().findIndex(function(W){return W.leafNum==R});return L>-1?L:R}},{key:"parsePageString",value:function(R){var L,W=/^leaf(\d+)/.exec(R);return W?(L=this.leafNumToIndex(parseInt(W[1],10)))===null&&(L=void 0):L=this.getPageIndex(R),L}},{key:"getPage",value:function(R){var L=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],W=this.getNumLeafs();if(L||!(R<0||R>=W))return R<0&&R>=-W&&(R+=W),new en(this,R%=W)}},{key:"pagesIterator",value:function(){var R=this,L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},W=L.start,ne=W===void 0?0:W,we=L.end,Ie=we===void 0?1/0:we,vt=L.combineConsecutiveUnviewables,Et=vt!==void 0&&vt;return Fn().mark(function pt(){var pn,un;return Fn().wrap(function(jn){for(;;)switch(jn.prev=jn.next){case 0:ne=Math.max(0,ne),Ie=Math.min(Ie,R.getNumLeafs()),pn=ne;case 3:if(!(pn<Ie)){jn.next=12;break}if(un=R.getPage(pn),!Et||!un.isConsecutiveUnviewable){jn.next=7;break}return jn.abrupt("continue",9);case 7:return jn.next=9,un;case 9:pn++,jn.next=3;break;case 12:case"end":return jn.stop()}},pt)})()}},{key:"_getDataFlattened",value:function(){if(this._getDataFlattenedCached&&this._getDataFlattenedCached[1]===this.br.data.length)return this._getDataFlattenedCached[0];var R=null,L=null,W=0,ne=this.br.data.flatMap(function(we){return we.map(function(Ie){return Ie.pageSide||(Ie.pageSide=R===null?we.length===2?"L":"R":R==="L"?"R":"L"),R=Ie.pageSide,Ie.viewable===!1?Ie.unviewablesStart=L===null?L=W:L:L=null,W++,Ie})});return this._getDataFlattenedCached=[ne,this.br.data.length],ne}},{key:"_getDataProp",value:function(R,L){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,ne=this._getDataFlattened();return isNaN(R)||R<0||R>=ne.length||ne[R][L]===void 0?W:ne[R][L]}}])}(),en=function(){function le(R,L){b(this,le);var W=R._getDataProp(L,"ppi",R.ppi);this.ppi=Math.max(W<10?R.ppi:W,10),this.book=R,this.index=L,this.width=R.getPageWidth(L),this.widthInches=this.width/this.ppi,this.height=R.getPageHeight(L),this.heightInches=this.height/this.ppi,this.pageSide=R.getPageSide(L),this.leafNum=R._getDataProp(L,"leafNum",this.index),this.isViewable=R._getDataProp(L,"viewable",!0),this.unviewablesStart=R._getDataProp(L,"unviewablesStart")||null,this.isConsecutiveUnviewable=!this.isViewable&&this.unviewablesStart!=this.index,this._rawData=this.book._getDataFlattened()[this.index]}return k(le,[{key:"makeViewable",value:function(){var L=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];if(this.isViewable!=L)if(L){this._rawData.viewable=!0,delete this._rawData.unviewablesStart;var W,ne=f(this.book.pagesIterator({start:this.index+1}));try{for(ne.s();!(W=ne.n()).done;){var we=W.value;if(we.isViewable)break;we._rawData.unviewablesStart=this.index+1}}catch(pt){ne.e(pt)}finally{ne.f()}}else{this._rawData.viewable=!1,this._rawData.unviewablesStart=this.prev&&!this.prev.isViewable?this.prev.unviewablesStart:this.index;var Ie,vt=f(this.book.pagesIterator({start:this.index+1}));try{for(vt.s();!(Ie=vt.n()).done;){var Et=Ie.value;if(!Et.isViewable)break;Et._rawData.unviewablesStart=this._rawData.unviewablesStart}}catch(pt){vt.e(pt)}finally{vt.f()}}}},{key:"prev",get:function(){return this.findPrev()}},{key:"next",get:function(){return this.findNext()}},{key:"left",get:function(){return this.book.pageProgression==="lr"?this.prev:this.next}},{key:"right",get:function(){return this.book.pageProgression==="lr"?this.next:this.prev}},{key:"spread",get:function(){return{left:this.pageSide==="L"?this:this.left,right:this.pageSide==="R"?this:this.right}}},{key:"goLeft",value:function(L){var W=this.book.pageProgression==="lr"?this.index-L:this.index+L;return this.book.getPage(W)}},{key:"goRight",value:function(L){var W=this.book.pageProgression==="lr"?this.index+L:this.index-L;return this.book.getPage(W)}},{key:"getURI",value:function(L,W){return this.book.getPageURI(this.index,L,W)}},{key:"getURISrcSet",value:function(L){for(var W=this,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,we=this.book.reduceSet,Ie=we.floor(L),vt=[],Et=we.decr(Ie);Et>=1;Et=we.decr(Et))vt.push(Et);return vt.map(function(pt){return"".concat(W.getURI(pt,ne)," ").concat(Ie/pt,"x")}).join(", ")}},{key:"findNext",value:function(){var L=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,W=L!==void 0&&L;return this.book.pagesIterator({start:this.index+1,combineConsecutiveUnviewables:W}).next().value}},{key:"findPrev",value:function(){var L=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,W=L!==void 0&&L;if(this.index!=0){if(W){if(this.isConsecutiveUnviewable)return this.book.getPage(this.unviewablesStart);var ne=new le(this.book,this.index-1);return ne.isViewable?ne:ne.findPrev({combineConsecutiveUnviewables:W})}return new le(this.book,this.index-1)}}},{key:"findLeft",value:function(){var L=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,W=L!==void 0&&L;return this.book.pageProgression==="lr"?this.findPrev({combineConsecutiveUnviewables:W}):this.findNext({combineConsecutiveUnviewables:W})}},{key:"findRight",value:function(){var L=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,W=L!==void 0&&L;return this.book.pageProgression==="lr"?this.findNext({combineConsecutiveUnviewables:W}):this.findPrev({combineConsecutiveUnviewables:W})}}])}(),bn=(o(4554),o(9085),o(2811),o(3851),o(888),o(9696)),Zn=o(420),Tn=o(8900),Sr=(o(5914),o(2617)),Ne=o.n(Sr),ue=o(542);function Te(le){return Te=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(L){return typeof L=="undefined"?"undefined":_typeof(L)}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R=="undefined"?"undefined":_typeof(R)},Te(le)}function ft(){ft=function(){return R};var le,R={},L=Object.prototype,W=L.hasOwnProperty,ne=Object.defineProperty||function(Fe,ke,Le){Fe[ke]=Le.value},we=typeof Symbol=="function"?Symbol:{},Ie=we.iterator||"@@iterator",vt=we.asyncIterator||"@@asyncIterator",Et=we.toStringTag||"@@toStringTag";function pt(Fe,ke,Le){return Object.defineProperty(Fe,ke,{value:Le,enumerable:!0,configurable:!0,writable:!0}),Fe[ke]}try{pt({},"")}catch(Fe){pt=function(Le,kt,Pt){return Le[kt]=Pt}}function pn(Fe,ke,Le,kt){var Pt=ke&&_instanceof(ke.prototype,vr)?ke:vr,jt=Object.create(Pt.prototype),vn=new Dr(kt||[]);return ne(jt,"_invoke",{value:hr(Fe,Le,vn)}),jt}function un(Fe,ke,Le){try{return{type:"normal",arg:Fe.call(ke,Le)}}catch(kt){return{type:"throw",arg:kt}}}R.wrap=pn;var jn="suspendedStart",In="suspendedYield",An="executing",sr="completed",Ln={};function vr(){}function dr(){}function On(){}var nr={};pt(nr,Ie,function(){return this});var pr=Object.getPrototypeOf,Jn=pr&&pr(pr($r([])));Jn&&Jn!==L&&W.call(Jn,Ie)&&(nr=Jn);var rr=On.prototype=vr.prototype=Object.create(nr);function Hr(Fe){["next","throw","return"].forEach(function(ke){pt(Fe,ke,function(Le){return this._invoke(ke,Le)})})}function Mr(Fe,ke){function Le(Pt,jt,vn,Sn){var Hn=un(Fe[Pt],Fe,jt);if(Hn.type!=="throw"){var gr=Hn.arg,mr=gr.value;return mr&&Te(mr)=="object"&&W.call(mr,"__await")?ke.resolve(mr.__await).then(function(Yn){Le("next",Yn,vn,Sn)},function(Yn){Le("throw",Yn,vn,Sn)}):ke.resolve(mr).then(function(Yn){gr.value=Yn,vn(gr)},function(Yn){return Le("throw",Yn,vn,Sn)})}Sn(Hn.arg)}var kt;ne(this,"_invoke",{value:function(jt,vn){function Sn(){return new ke(function(Hn,gr){Le(jt,vn,Hn,gr)})}return kt=kt?kt.then(Sn,Sn):Sn()}})}function hr(Fe,ke,Le){var kt=jn;return function(Pt,jt){if(kt===An)throw Error("Generator is already running");if(kt===sr){if(Pt==="throw")throw jt;return{value:le,done:!0}}for(Le.method=Pt,Le.arg=jt;;){var vn=Le.delegate;if(vn){var Sn=wr(vn,Le);if(Sn){if(Sn===Ln)continue;return Sn}}if(Le.method==="next")Le.sent=Le._sent=Le.arg;else if(Le.method==="throw"){if(kt===jn)throw kt=sr,Le.arg;Le.dispatchException(Le.arg)}else Le.method==="return"&&Le.abrupt("return",Le.arg);kt=An;var Hn=un(Fe,ke,Le);if(Hn.type==="normal"){if(kt=Le.done?sr:In,Hn.arg===Ln)continue;return{value:Hn.arg,done:Le.done}}Hn.type==="throw"&&(kt=sr,Le.method="throw",Le.arg=Hn.arg)}}}function wr(Fe,ke){var Le=ke.method,kt=Fe.iterator[Le];if(kt===le)return ke.delegate=null,Le==="throw"&&Fe.iterator.return&&(ke.method="return",ke.arg=le,wr(Fe,ke),ke.method==="throw")||Le!=="return"&&(ke.method="throw",ke.arg=new TypeError("The iterator does not provide a '"+Le+"' method")),Ln;var Pt=un(kt,Fe.iterator,ke.arg);if(Pt.type==="throw")return ke.method="throw",ke.arg=Pt.arg,ke.delegate=null,Ln;var jt=Pt.arg;return jt?jt.done?(ke[Fe.resultName]=jt.value,ke.next=Fe.nextLoc,ke.method!=="return"&&(ke.method="next",ke.arg=le),ke.delegate=null,Ln):jt:(ke.method="throw",ke.arg=new TypeError("iterator result is not an object"),ke.delegate=null,Ln)}function Ur(Fe){var ke={tryLoc:Fe[0]};1 in Fe&&(ke.catchLoc=Fe[1]),2 in Fe&&(ke.finallyLoc=Fe[2],ke.afterLoc=Fe[3]),this.tryEntries.push(ke)}function Xr(Fe){var ke=Fe.completion||{};ke.type="normal",delete ke.arg,Fe.completion=ke}function Dr(Fe){this.tryEntries=[{tryLoc:"root"}],Fe.forEach(Ur,this),this.reset(!0)}function $r(Fe){if(Fe||Fe===""){var ke=Fe[Ie];if(ke)return ke.call(Fe);if(typeof Fe.next=="function")return Fe;if(!isNaN(Fe.length)){var Le=-1,kt=function Pt(){for(;++Le<Fe.length;)if(W.call(Fe,Le))return Pt.value=Fe[Le],Pt.done=!1,Pt;return Pt.value=le,Pt.done=!0,Pt};return kt.next=kt}}throw new TypeError(Te(Fe)+" is not iterable")}return dr.prototype=On,ne(rr,"constructor",{value:On,configurable:!0}),ne(On,"constructor",{value:dr,configurable:!0}),dr.displayName=pt(On,Et,"GeneratorFunction"),R.isGeneratorFunction=function(Fe){var ke=typeof Fe=="function"&&Fe.constructor;return!!ke&&(ke===dr||(ke.displayName||ke.name)==="GeneratorFunction")},R.mark=function(Fe){return Object.setPrototypeOf?Object.setPrototypeOf(Fe,On):(Fe.__proto__=On,pt(Fe,Et,"GeneratorFunction")),Fe.prototype=Object.create(rr),Fe},R.awrap=function(Fe){return{__await:Fe}},Hr(Mr.prototype),pt(Mr.prototype,vt,function(){return this}),R.AsyncIterator=Mr,R.async=function(Fe,ke,Le,kt,Pt){Pt===void 0&&(Pt=Promise);var jt=new Mr(pn(Fe,ke,Le,kt),Pt);return R.isGeneratorFunction(ke)?jt:jt.next().then(function(vn){return vn.done?vn.value:jt.next()})},Hr(rr),pt(rr,Et,"Generator"),pt(rr,Ie,function(){return this}),pt(rr,"toString",function(){return"[object Generator]"}),R.keys=function(Fe){var ke=Object(Fe),Le=[];for(var kt in ke)Le.push(kt);return Le.reverse(),function Pt(){for(;Le.length;){var jt=Le.pop();if(jt in ke)return Pt.value=jt,Pt.done=!1,Pt}return Pt.done=!0,Pt}},R.values=$r,Dr.prototype={constructor:Dr,reset:function(ke){if(this.prev=0,this.next=0,this.sent=this._sent=le,this.done=!1,this.delegate=null,this.method="next",this.arg=le,this.tryEntries.forEach(Xr),!ke)for(var Le in this)Le.charAt(0)==="t"&&W.call(this,Le)&&!isNaN(+Le.slice(1))&&(this[Le]=le)},stop:function(){this.done=!0;var ke=this.tryEntries[0].completion;if(ke.type==="throw")throw ke.arg;return this.rval},dispatchException:function(ke){if(this.done)throw ke;var Le=this;function kt(gr,mr){return vn.type="throw",vn.arg=ke,Le.next=gr,mr&&(Le.method="next",Le.arg=le),!!mr}for(var Pt=this.tryEntries.length-1;Pt>=0;--Pt){var jt=this.tryEntries[Pt],vn=jt.completion;if(jt.tryLoc==="root")return kt("end");if(jt.tryLoc<=this.prev){var Sn=W.call(jt,"catchLoc"),Hn=W.call(jt,"finallyLoc");if(Sn&&Hn){if(this.prev<jt.catchLoc)return kt(jt.catchLoc,!0);if(this.prev<jt.finallyLoc)return kt(jt.finallyLoc)}else if(Sn){if(this.prev<jt.catchLoc)return kt(jt.catchLoc,!0)}else{if(!Hn)throw Error("try statement without catch or finally");if(this.prev<jt.finallyLoc)return kt(jt.finallyLoc)}}}},abrupt:function(ke,Le){for(var kt=this.tryEntries.length-1;kt>=0;--kt){var Pt=this.tryEntries[kt];if(Pt.tryLoc<=this.prev&&W.call(Pt,"finallyLoc")&&this.prev<Pt.finallyLoc){var jt=Pt;break}}jt&&(ke==="break"||ke==="continue")&&jt.tryLoc<=Le&&Le<=jt.finallyLoc&&(jt=null);var vn=jt?jt.completion:{};return vn.type=ke,vn.arg=Le,jt?(this.method="next",this.next=jt.finallyLoc,Ln):this.complete(vn)},complete:function(ke,Le){if(ke.type==="throw")throw ke.arg;return ke.type==="break"||ke.type==="continue"?this.next=ke.arg:ke.type==="return"?(this.rval=this.arg=ke.arg,this.method="return",this.next="end"):ke.type==="normal"&&Le&&(this.next=Le),Ln},finish:function(ke){for(var Le=this.tryEntries.length-1;Le>=0;--Le){var kt=this.tryEntries[Le];if(kt.finallyLoc===ke)return this.complete(kt.completion,kt.afterLoc),Xr(kt),Ln}},catch:function(ke){for(var Le=this.tryEntries.length-1;Le>=0;--Le){var kt=this.tryEntries[Le];if(kt.tryLoc===ke){var Pt=kt.completion;if(Pt.type==="throw"){var jt=Pt.arg;Xr(kt)}return jt}}throw Error("illegal catch attempt")},delegateYield:function(ke,Le,kt){return this.delegate={iterator:$r(ke),resultName:Le,nextLoc:kt},this.method==="next"&&(this.arg=le),Ln}},R}var Tt=function(){return u(function le(R){var L=this;j(this,le),p(this,"scaleCenter",{x:.5,y:.5}),p(this,"_preventEvent",function(W){return W.preventDefault(),!1}),p(this,"_pinchStart",A(ft().mark(function W(){var ne,we;return ft().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(!L.pinching){Ie.next=2;break}return Ie.abrupt("return");case 2:if(!(0,ue.un)()){Ie.next=7;break}return Ie.next=5,(0,Me.sleep)(0);case 5:if(!(L.touchesMonitor.touches<2)){Ie.next=7;break}return Ie.abrupt("return");case 7:L.pinching=!0,L.oldScale=1,L.mode.$visibleWorld.classList.add("BRsmooth-zooming"),L.mode.$visibleWorld.style.willChange="transform",L.mode.autoFit="none",L.detachCtrlZoom(),(ne=(we=L.mode).detachScrollListeners)===null||ne===void 0||ne.call(we),L.interact.gesturable({listeners:{start:L._pinchStart,move:L._pinchMove,end:L._pinchEnd}});case 15:case"end":return Ie.stop()}},W)}))),p(this,"_pinchMove",function(){var W=A(ft().mark(function ne(we){return ft().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(L.pinching){Ie.next=2;break}return Ie.abrupt("return");case 2:L.lastEvent={scale:we.scale,clientX:we.clientX,clientY:we.clientY},L.pinchMoveFrame||(L.pinchMoveFrame=L.bufferFn(L._drawPinchZoomFrame));case 4:case"end":return Ie.stop()}},ne)}));return function(ne){return W.apply(this,arguments)}}()),p(this,"_pinchEnd",A(ft().mark(function W(){var ne,we;return ft().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(L.pinching){Ie.next=2;break}return Ie.abrupt("return");case 2:return L.pinching=!1,L.interact.gesturable({listeners:{start:L._pinchStart,end:L._pinchEnd}}),Ie.next=6,L.pinchMoveFramePromise;case 6:L.scaleCenter={x:.5,y:.5},L.oldScale=1,L.mode.$visibleWorld.classList.remove("BRsmooth-zooming"),L.mode.$visibleWorld.style.willChange="auto",L.attachCtrlZoom(),(ne=(we=L.mode).attachScrollListeners)===null||ne===void 0||ne.call(we);case 12:case"end":return Ie.stop()}},W)}))),p(this,"_drawPinchZoomFrame",A(ft().mark(function W(){var ne,we;return ft().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(L.pinching){Ie.next=3;break}return L.pinchMoveFrame=null,Ie.abrupt("return");case 3:if(L.mode.$container.style.overflow="hidden",L.pinchMoveFramePromiseRes=null,L.pinchMoveFramePromise=new Promise(function(vt){return L.pinchMoveFramePromiseRes=vt}),L.updateScaleCenter({clientX:L.lastEvent.clientX,clientY:L.lastEvent.clientY}),ne=L.mode.scale,we=ne*L.lastEvent.scale/L.oldScale,ne==we){Ie.next=13;break}return L.mode.scale=we,Ie.next=13,L.pinchMoveFramePromise;case 13:L.mode.$container.style.overflow="auto",L.oldScale=L.lastEvent.scale,L.pinchMoveFrame=null;case 16:case"end":return Ie.stop()}},W)}))),p(this,"_dragMove",function(){var W=A(ft().mark(function ne(we){return ft().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(!L.pinching){Ie.next=3;break}return Ie.next=3,L._pinchEnd();case 3:L.mode.$container.scrollTop-=we.dy,L.mode.$container.scrollLeft-=we.dx;case 5:case"end":return Ie.stop()}},ne)}));return function(ne){return W.apply(this,arguments)}}()),p(this,"_handleCtrlWheel",function(W){if(W.ctrlKey){W.preventDefault();var ne=/Mac/i.test(navigator.platform)?.045:.03;L.updateScaleCenter(W),L.mode.autoFit="none",L.mode.scale*=1-Math.sign(W.deltaY)*ne}}),this.mode=R,this.pinching=!1,this.pinchMoveFrame=null,this.pinchMoveFramePromise=Promise.resolve(),this.oldScale=1,this.lastEvent=null,this.attached=!1,this.bufferFn=window.requestAnimationFrame.bind(window)},[{key:"attach",value:function(){this.attached||(this.attachCtrlZoom(),this.mode.$container.addEventListener("gesturestart",this._pinchStart),this.mode.$container.addEventListener("gesturechange",this._preventEvent),this.mode.$container.addEventListener("gestureend",this._pinchEnd),(0,ue.un)()&&(this.touchesMonitor=new St(this.mode.$container),this.touchesMonitor.attach()),this.mode.$container.style.touchAction="pan-x pan-y",this.interact=Ne()(this.mode.$container),this.interact.gesturable({listeners:{start:this._pinchStart,end:this._pinchEnd}}),(0,ue.ij)()&&(this.mode.$container.style.touchAction="none",this.interact.draggable({inertia:{resistance:2,minSpeed:100,allowResume:!0},listeners:{move:this._dragMove}})),this.attached=!0)}},{key:"detach",value:function(){var R,L;this.detachCtrlZoom(),this.mode.$container.removeEventListener("gesturestart",this._pinchStart),this.mode.$container.removeEventListener("gesturechange",this._preventEvent),this.mode.$container.removeEventListener("gestureend",this._pinchEnd),(R=this.touchesMonitor)===null||R===void 0||(L=R.detach)===null||L===void 0||L.call(R),this.interact.unset(),Ne().removeDocument(document),this.attached=!1}},{key:"attachCtrlZoom",value:function(){window.addEventListener("wheel",this._handleCtrlWheel,{passive:!1})}},{key:"detachCtrlZoom",value:function(){window.removeEventListener("wheel",this._handleCtrlWheel)}},{key:"updateScaleCenter",value:function(R){var L=R.clientX,W=R.clientY,ne=this.mode.htmlDimensionsCacher.boundingClientRect;this.scaleCenter={x:(L-ne.left)/this.mode.htmlDimensionsCacher.clientWidth,y:(W-ne.top)/this.mode.htmlDimensionsCacher.clientHeight}}},{key:"updateViewportOnZoom",value:function(R,L){var W,ne=this.mode.$container,we=ne.scrollTop,Ie=ne.scrollLeft,vt=this.mode.htmlDimensionsCacher.clientWidth,Et=this.mode.htmlDimensionsCacher.clientHeight,pt=R/L,pn=this.scaleCenter.x,un=this.scaleCenter.y,jn=pt*(Ie+pn*vt),In=pt*(we+un*Et);ne.scrollTop=In-un*Et,ne.scrollLeft=jn-pn*vt,(W=this.pinchMoveFramePromiseRes)===null||W===void 0||W.call(this)}}])}(),St=function(){return u(function le(R){var L=this;j(this,le),p(this,"_updateTouchCount",function(W){L.touches=W.touches.length}),this.container=R,this.touches=0},[{key:"attach",value:function(){this.container.addEventListener("touchstart",this._updateTouchCount),this.container.addEventListener("touchend",this._updateTouchCount)}},{key:"detach",value:function(){this.container.removeEventListener("touchstart",this._updateTouchCount),this.container.removeEventListener("touchend",this._updateTouchCount)}}])}();function sn(le){return sn=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(L){return typeof L=="undefined"?"undefined":_typeof(L)}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R=="undefined"?"undefined":_typeof(R)},sn(le)}var Mn=function(){return le=function L(W){var ne=this;(function(we,Ie){if(!_instanceof(we,Ie))throw new TypeError("Cannot call a class as a function")})(this,L),x(this,"clientWidth",100),x(this,"clientHeight",100),x(this,"boundingClientRect",{top:0,left:0}),x(this,"updateClientSizes",function(){var we=ne.element.getBoundingClientRect();ne.clientWidth=ne.element.clientWidth,ne.clientHeight=ne.element.clientHeight,ne.boundingClientRect.top=we.top,ne.boundingClientRect.left=we.left}),x(this,"debouncedUpdateClientSizes",(0,Me.debounce)(this.updateClientSizes,150,!1)),this.element=W},R=[{key:"attachResizeListener",value:function(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).addEventListener("resize",this.debouncedUpdateClientSizes)}},{key:"detachResizeListener",value:function(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).removeEventListener("resize",this.debouncedUpdateClientSizes)}}],R&&_(le.prototype,R),Object.defineProperty(le,"prototype",{writable:!1}),le;var le,R}();function Nn(le){return Nn=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(L){return typeof L=="undefined"?"undefined":_typeof(L)}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R=="undefined"?"undefined":_typeof(R)},Nn(le)}var cr=function(){return le=function L(W,ne){var we,Ie,vt,Et=this;(function(pt,pn){if(!_instanceof(pt,pn))throw new TypeError("Cannot call a class as a function")})(this,L),we=this,vt=function(){Et.element.classList.add(Et.className),clearTimeout(Et.timeout),Et.timeout=setTimeout(function(){Et.element.classList.remove(Et.className)},600)},(Ie=P(Ie="onScroll"))in we?Object.defineProperty(we,Ie,{value:vt,enumerable:!0,configurable:!0,writable:!0}):we[Ie]=vt,this.element=W,this.className=ne,this.timeout=null},(R=[{key:"attach",value:function(){this.element.addEventListener("scroll",this.onScroll)}},{key:"detach",value:function(){this.element.removeEventListener("scroll",this.onScroll)}}])&&I(le.prototype,R),Object.defineProperty(le,"prototype",{writable:!1}),le;var le,R}();function or(le){return or=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(L){return typeof L=="undefined"?"undefined":_typeof(L)}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R=="undefined"?"undefined":_typeof(R)},or(le)}var Ar,Ei=V(function le(R){var L=this;(function(W,ne){if(!_instanceof(W,ne))throw new TypeError("Cannot call a class as a function")})(this,le),q(this,"screenDPI",(0,Me.calcScreenDPI)()),q(this,"worldUnitsToRenderedPixels",function(W){return W*L.screenDPI}),q(this,"renderedPixelsToWorldUnits",function(W){return W/L.screenDPI}),q(this,"renderedPixelsToVisiblePixels",function(W){return W*L.mode.scale}),q(this,"visiblePixelsToRenderedPixels",function(W){return W/L.mode.scale}),q(this,"worldUnitsToVisiblePixels",function(W){return L.renderedPixelsToVisiblePixels(L.worldUnitsToRenderedPixels(W))}),q(this,"visiblePixelsToWorldUnits",function(W){return L.renderedPixelsToWorldUnits(L.visiblePixelsToRenderedPixels(W))}),this.mode=R});function fi(le){return fi=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(L){return typeof L=="undefined"?"undefined":_typeof(L)}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R=="undefined"?"undefined":_typeof(R)},fi(le)}function xi(){try{var le=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(R){}return(xi=function(){return!!le})()}function yt(le,R){return yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(W,ne){return W.__proto__=ne,W},yt(le,R)}function at(){at=function(){return le};var le={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(L,W){["method","field"].forEach(function(ne){W.forEach(function(we){we.kind===ne&&we.placement==="own"&&this.defineClassElement(L,we)},this)},this)},initializeClassElements:function(L,W){var ne=L.prototype;["method","field"].forEach(function(we){W.forEach(function(Ie){var vt=Ie.placement;if(Ie.kind===we&&(vt==="static"||vt==="prototype")){var Et=vt==="static"?L:ne;this.defineClassElement(Et,Ie)}},this)},this)},defineClassElement:function(L,W){var ne=W.descriptor;if(W.kind==="field"){var we=W.initializer;ne={enumerable:ne.enumerable,writable:ne.writable,configurable:ne.configurable,value:we===void 0?void 0:we.call(L)}}Object.defineProperty(L,W.key,ne)},decorateClass:function(L,W){var ne=[],we=[],Ie={static:[],prototype:[],own:[]};if(L.forEach(function(Et){this.addElementPlacement(Et,Ie)},this),L.forEach(function(Et){if(!J(Et))return ne.push(Et);var pt=this.decorateElement(Et,Ie);ne.push(pt.element),ne.push.apply(ne,pt.extras),we.push.apply(we,pt.finishers)},this),!W)return{elements:ne,finishers:we};var vt=this.decorateConstructor(ne,W);return we.push.apply(we,vt.finishers),vt.finishers=we,vt},addElementPlacement:function(L,W,ne){var we=W[L.placement];if(!ne&&we.indexOf(L.key)!==-1)throw new TypeError("Duplicated element ("+L.key+")");we.push(L.key)},decorateElement:function(L,W){for(var ne=[],we=[],Ie=L.decorators,vt=Ie.length-1;vt>=0;vt--){var Et=W[L.placement];Et.splice(Et.indexOf(L.key),1);var pt=this.fromElementDescriptor(L),pn=this.toElementFinisherExtras((0,Ie[vt])(pt)||pt);L=pn.element,this.addElementPlacement(L,W),pn.finisher&&we.push(pn.finisher);var un=pn.extras;if(un){for(var jn=0;jn<un.length;jn++)this.addElementPlacement(un[jn],W);ne.push.apply(ne,un)}}return{element:L,finishers:we,extras:ne}},decorateConstructor:function(L,W){for(var ne=[],we=W.length-1;we>=0;we--){var Ie=this.fromClassDescriptor(L),vt=this.toClassDescriptor((0,W[we])(Ie)||Ie);if(vt.finisher!==void 0&&ne.push(vt.finisher),vt.elements!==void 0){L=vt.elements;for(var Et=0;Et<L.length-1;Et++)for(var pt=Et+1;pt<L.length;pt++)if(L[Et].key===L[pt].key&&L[Et].placement===L[pt].placement)throw new TypeError("Duplicated element ("+L[Et].key+")")}}return{elements:L,finishers:ne}},fromElementDescriptor:function(L){var W={kind:L.kind,key:L.key,placement:L.placement,descriptor:L.descriptor};return Object.defineProperty(W,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),L.kind==="field"&&(W.initializer=L.initializer),W},toElementDescriptors:function(L){if(L!==void 0)return(W=L,function(ne){if(Array.isArray(ne))return ne}(W)||it(W)||de(W)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(ne){var we=this.toElementDescriptor(ne);return this.disallowProperty(ne,"finisher","An element descriptor"),this.disallowProperty(ne,"extras","An element descriptor"),we},this);var W},toElementDescriptor:function(L){var W=L.kind+"";if(W!=="method"&&W!=="field")throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+W+'"');var ne=ve(L.key),we=L.placement+"";if(we!=="static"&&we!=="prototype"&&we!=="own")throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+we+'"');var Ie=L.descriptor;this.disallowProperty(L,"elements","An element descriptor");var vt={kind:W,key:ne,placement:we,descriptor:Object.assign({},Ie)};return W!=="field"?this.disallowProperty(L,"initializer","A method descriptor"):(this.disallowProperty(Ie,"get","The property descriptor of a field descriptor"),this.disallowProperty(Ie,"set","The property descriptor of a field descriptor"),this.disallowProperty(Ie,"value","The property descriptor of a field descriptor"),vt.initializer=L.initializer),vt},toElementFinisherExtras:function(L){return{element:this.toElementDescriptor(L),finisher:se(L,"finisher"),extras:this.toElementDescriptors(L.extras)}},fromClassDescriptor:function(L){var W={kind:"class",elements:L.map(this.fromElementDescriptor,this)};return Object.defineProperty(W,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),W},toClassDescriptor:function(L){var W=L.kind+"";if(W!=="class")throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+W+'"');this.disallowProperty(L,"key","A class descriptor"),this.disallowProperty(L,"placement","A class descriptor"),this.disallowProperty(L,"descriptor","A class descriptor"),this.disallowProperty(L,"initializer","A class descriptor"),this.disallowProperty(L,"extras","A class descriptor");var ne=se(L,"finisher");return{elements:this.toElementDescriptors(L.elements),finisher:ne}},runClassFinishers:function(L,W){for(var ne=0;ne<W.length;ne++){var we=(0,W[ne])(L);if(we!==void 0){if(typeof we!="function")throw new TypeError("Finishers must return a constructor.");L=we}}return L},disallowProperty:function(L,W,ne){if(L[W]!==void 0)throw new TypeError(ne+" can't have a ."+W+" property.")}};return le}function bt(){return bt=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(R,L,W){var ne=function(Ie,vt){for(;!{}.hasOwnProperty.call(Ie,vt)&&(Ie=ln(Ie))!==null;);return Ie}(R,L);if(ne){var we=Object.getOwnPropertyDescriptor(ne,L);return we.get?we.get.call(arguments.length<3?R:W):we.value}},bt.apply(null,arguments)}function ln(le){return ln=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},ln(le)}var fn,Un,lr,jr,Dn,pi=(fn=[(0,bn.EM)("br-mode-1up")],Un=Zn.WF,lr=at(),jr=function(le,R){var L=function(W){function ne(we,Ie){var vt;return function(Et,pt){if(!_instanceof(Et,pt))throw new TypeError("Cannot call a class as a function")}(this,ne),vt=B(this,ne),le(vt),vt.book=we,vt.br=Ie,vt}return function(we,Ie){if(typeof Ie!="function"&&Ie!==null)throw new TypeError("Super expression must either be null or a function");we.prototype=Object.create(Ie&&Ie.prototype,{constructor:{value:we,writable:!0,configurable:!0}}),Object.defineProperty(we,"prototype",{writable:!1}),Ie&&yt(we,Ie)}(ne,W),function(we,Ie,vt){return Ie&&Y(we.prototype,Ie),vt&&Y(we,vt),Object.defineProperty(we,"prototype",{writable:!1}),we}(ne)}(R);return{F:L,d:[{kind:"field",key:"br",value:void 0},{kind:"field",decorators:[(0,bn.MZ)({type:Object})],key:"book",value:void 0},{kind:"field",decorators:[(0,bn.MZ)({type:Array})],key:"pages",value:function(){return[]}},{kind:"field",decorators:[(0,bn.MZ)({type:Object})],key:"pageTops",value:function(){return{}}},{kind:"field",key:"coordSpace",value:function(){return new Ei(this)}},{kind:"field",decorators:[(0,bn.MZ)({type:Number})],key:"scale",value:function(){return 1}},{kind:"field",decorators:[(0,bn.MZ)({type:Object})],key:"visibleRegion",value:function(){return{top:0,left:0,width:100,height:100}}},{kind:"field",decorators:[(0,bn.MZ)({type:Array,hasChanged:Me.arrChanged})],key:"visiblePages",value:function(){return[]}},{kind:"field",decorators:[(0,bn.MZ)({type:Array})],key:"renderedPages",value:function(){return[]}},{kind:"field",key:"pageContainerCache",value:function(){return{}}},{kind:"field",decorators:[(0,bn.P)(".br-mode-1up__world")],key:"$world",value:void 0},{kind:"field",key:"worldDimensions",value:function(){return{width:100,height:100}}},{kind:"get",key:"worldStyle",value:function(){var ne=this.coordSpace.worldUnitsToRenderedPixels;return{width:ne(this.worldDimensions.width)+"px",height:ne(this.worldDimensions.height)+"px"}}},{kind:"get",key:"$container",value:function(){return this}},{kind:"field",decorators:[(0,bn.P)(".br-mode-1up__visible-world")],key:"$visibleWorld",value:void 0},{kind:"field",key:"htmlDimensionsCacher",value:function(){return new Mn(this)}},{kind:"field",key:"smoothZoomer",value:function(){return new Tt(this)}},{kind:"field",key:"scrollClassAdder",value:function(){return new cr(this,"BRscrolling-active")}},{kind:"field",key:"SPACING_IN",value:function(){return .2}},{kind:"field",key:"ZOOM_FACTOR",value:function(){return 1.1}},{kind:"method",key:"jumpToIndex",value:function(ne){var we=this,Ie=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).smooth,vt=Ie!==void 0&&Ie;vt&&(this.style.scrollBehavior="smooth"),this.scrollTop=this.coordSpace.worldUnitsToVisiblePixels(this.pageTops[ne]-this.SPACING_IN/2),vt&&setTimeout(function(){return we.style.scrollBehavior=""},100)}},{kind:"method",key:"zoomIn",value:function(){this.scale*=this.ZOOM_FACTOR}},{kind:"method",key:"zoomOut",value:function(){this.scale*=1/this.ZOOM_FACTOR}},{kind:"method",key:"firstUpdated",value:function(ne){bt(ln(L.prototype),"firstUpdated",this).call(this,ne),this.htmlDimensionsCacher.updateClientSizes(),this.smoothZoomer.attach()}},{kind:"method",key:"initFirstRender",value:function(ne){var we=this.book.getPage(ne);this.scale=this.computeDefaultScale(we)}},{kind:"method",key:"updated",value:function(ne){if(ne.has("book")&&this.updatePages(),ne.has("pages")&&(this.worldDimensions=this.computeWorldDimensions(),this.pageTops=this.computePageTops(this.pages,this.SPACING_IN)),ne.has("visibleRegion")&&(this.visiblePages=this.computeVisiblePages()),ne.has("visiblePages")&&(this.throttledUpdateRenderedPages(),this.visiblePages.length&&(this.br.displayedIndices=this.visiblePages.map(function(Ie){return Ie.index}),this.br.updateFirstIndex(this.br.displayedIndices[0]),this.br._components.navbar.updateNavIndexThrottled())),ne.has("scale")){var we=ne.get("scale");this.$visibleWorld.style.transform="scale(".concat(this.scale,")"),this.smoothZoomer.updateViewportOnZoom(this.scale,we),this.updateVisibleRegion(),this.$world.style.transform="scale(".concat(this.scale,")")}}},{kind:"method",key:"updatePages",value:function(){this.pages=(0,Me.genToArray)(this.book.pagesIterator({combineConsecutiveUnviewables:!0}))}},{kind:"method",key:"connectedCallback",value:function(){bt(ln(L.prototype),"connectedCallback",this).call(this),this.htmlDimensionsCacher.attachResizeListener(),this.attachScrollListeners(),this.smoothZoomer.attach()}},{kind:"method",key:"disconnectedCallback",value:function(){this.htmlDimensionsCacher.detachResizeListener(),this.detachScrollListeners(),this.smoothZoomer.detach(),bt(ln(L.prototype),"disconnectedCallback",this).call(this)}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"render",value:function(){var ne=this;return(0,Zn.qy)(Ar||(Ar=function(we,Ie){return Ie||(Ie=we.slice(0)),Object.freeze(Object.defineProperties(we,{raw:{value:Object.freeze(Ie)}}))}(['\n      <div class="br-mode-1up__world" style=','></div>\n      <div class="br-mode-1up__visible-world">\n        ',"\n      </div>"])),(0,Tn.W)(this.worldStyle),this.renderedPages.map(function(we){return ne.renderPage(we)}))}},{kind:"field",key:"createPageContainer",value:function(){var ne=this;return function(we){return ne.pageContainerCache[we.index]||(ne.pageContainerCache[we.index]=ne.br._createPageContainer(we.index))}}},{kind:"field",key:"renderPage",value:function(){var ne=this;return function(we){var Ie=ne.coordSpace.worldUnitsToRenderedPixels,vt=ne.coordSpace.worldUnitsToVisiblePixels,Et=ne.coordSpace.visiblePixelsToWorldUnits(ne.htmlDimensionsCacher.clientWidth),pt=Ie(we.widthInches),pn=Ie(we.heightInches),un=Math.max(ne.SPACING_IN,(Et-we.widthInches)/2),jn=ne.pageTops[we.index],In="translate(".concat(Ie(un),"px, ").concat(Ie(jn),"px)"),An=ne.createPageContainer(we).update({dimensions:{width:pt,height:pn,top:0,left:0},reduce:we.width/vt(we.widthInches)}).$container[0];return An.style.transform=In,An.classList.toggle("BRpage-visible",ne.visiblePages.includes(we)),An}}},{kind:"field",key:"updateVisibleRegion",value:function(){var ne=this;return function(){var we=ne.scrollTop,Ie=ne.scrollLeft,vt=ne.htmlDimensionsCacher.clientWidth,Et=ne.htmlDimensionsCacher.clientHeight,pt=ne.coordSpace.visiblePixelsToWorldUnits;ne.visibleRegion={top:pt(we),height:pt(Et),left:pt(Ie),width:pt(vt)}}}},{kind:"method",key:"computeRenderedPages",value:function(){var ne,we;return[(ne=this.visiblePages[0])===null||ne===void 0?void 0:ne.prev].concat(he(this.visiblePages),[(we=this.visiblePages[this.visiblePages.length-1])===null||we===void 0?void 0:we.next]).filter(function(Ie){return Ie}).slice(0,10)}},{kind:"field",key:"throttledUpdateRenderedPages",value:function(){var ne=this;return(0,Me.throttle)(function(){ne.renderedPages=ne.computeRenderedPages(),ne.requestUpdate()},100,null)}},{kind:"method",key:"computePageTops",value:function(ne,we){var Ie,vt={},Et=we,pt=function(un,jn){var In=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&un[Symbol.iterator]||un["@@iterator"];if(!In){if(Array.isArray(un)||(In=de(un))||jn&&un&&typeof un.length=="number"){In&&(un=In);var An=0,sr=function(){};return{s:sr,n:function(){return An>=un.length?{done:!0}:{done:!1,value:un[An++]}},e:function(nr){throw nr},f:sr}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ln,vr=!0,dr=!1;return{s:function(){In=In.call(un)},n:function(){var nr=In.next();return vr=nr.done,nr},e:function(nr){dr=!0,Ln=nr},f:function(){try{vr||In.return==null||In.return()}finally{if(dr)throw Ln}}}}(ne);try{for(pt.s();!(Ie=pt.n()).done;){var pn=Ie.value;vt[pn.index]=Et,Et+=pn.heightInches+we}}catch(un){pt.e(un)}finally{pt.f()}return vt}},{kind:"method",key:"computeDefaultScale",value:function(ne){var we=this.coordSpace.renderedPixelsToWorldUnits(this.clientWidth);return Math.min(1,we/(ne.widthInches+2*this.SPACING_IN))||1}},{kind:"method",key:"computeWorldDimensions",value:function(){return{width:Math.max.apply(Math,he(this.pages.map(function(ne){return ne.widthInches})))+2*this.SPACING_IN,height:(0,Me.sum)(this.pages.map(function(ne){return ne.heightInches}))+(this.pages.length+1)*this.SPACING_IN}}},{kind:"method",key:"computeVisiblePages",value:function(){var ne=this;return this.pages.filter(function(we){var Ie=ne.pageTops[we.index],vt=Ie+we.heightInches,Et=ne.visibleRegion.top;return Ie<=Et+ne.visibleRegion.height&&vt>=Et})}},{kind:"field",key:"attachScrollListeners",value:function(){var ne=this;return function(){ne.addEventListener("scroll",ne.updateVisibleRegion),ne.scrollClassAdder.attach()}}},{kind:"field",key:"detachScrollListeners",value:function(){var ne=this;return function(){ne.removeEventListener("scroll",ne.updateVisibleRegion),ne.scrollClassAdder.detach()}}}]}}(function(le){lr.initializeInstanceElements(le,Dn.elements)},Un),Dn=lr.decorateClass(function(le){for(var R=[],L=function(vt){return vt.kind==="method"&&vt.key===we.key&&vt.placement===we.placement},W=0;W<le.length;W++){var ne,we=le[W];if(we.kind==="method"&&(ne=R.find(L)))if(ae(we.descriptor)||ae(ne.descriptor)){if(J(we)||J(ne))throw new ReferenceError("Duplicated methods ("+we.key+") can't be decorated.");ne.descriptor=we.descriptor}else{if(J(we)){if(J(ne))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+we.key+").");ne.decorators=we.decorators}ce(we,ne)}else R.push(we)}return R}(jr.d.map(F)),fn),lr.initializeClassElements(jr.F,Dn.elements),lr.runClassFinishers(jr.F,Dn.finishers)),oi=o(1669);function Rr(le){return Rr=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(L){return typeof L=="undefined"?"undefined":_typeof(L)}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R=="undefined"?"undefined":_typeof(R)},Rr(le)}var _e={dragSelector:">:first",acceptPropagatedEvent:!0,preventDefault:!0,dragstart:"mousedown touchstart",dragcontinue:"mousemove touchmove",dragend:"mouseup touchend",dragMinDistance:5,namespace:".ds",scrollWindow:!1},ro=function(){return function(le,R,L){return R&&mt(le.prototype,R),Object.defineProperty(le,"prototype",{writable:!1}),le}(function le(R){var L=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(ne,we){if(!_instanceof(ne,we))throw new TypeError("Cannot call a class as a function")})(this,le),ot(this,"_dragStartHandler",function(ne){return!!L._shouldAbort()||!(ne.which>1||!L.settings.acceptPropagatedEvent&&ne.target!=L.handling_element[0])&&(L.lastCoord=L.firstCoord=De(ne),L.handling_element.on(L.settings.dragcontinue,L._dragContinueHandler),L.settings.dragend.split(" ").forEach(function(we){L.handling_element[0].addEventListener(we,L._dragEndHandler,!0)}),L.settings.preventDefault?(ne.preventDefault(),!1):void 0)}),ot(this,"_dragContinueHandler",function(ne){if(L._shouldAbort())return!0;var we=De(ne),Ie=we.left-L.lastCoord.left,vt=we.top-L.lastCoord.top,Et=L.settings.scrollWindow?oi(window):L.handling_element;return Et.scrollLeft(Et.scrollLeft()-Ie),Et.scrollTop(Et.scrollTop()-vt),L.lastCoord=we,L.settings.preventDefault?(ne.preventDefault(),!1):void 0}),ot(this,"_dragEndHandler",function(ne){if(L._shouldAbort())return!0;L.handling_element.off(L.settings.dragcontinue).off(L.settings.dragend),L.settings.dragend.split(" ").forEach(function(vt){L.handling_element[0].removeEventListener(vt,L._dragEndHandler,!0)});var we={left:Math.abs(L.lastCoord.left-L.firstCoord.left),top:Math.abs(L.lastCoord.top-L.firstCoord.top)},Ie=Math.max(we.left,we.top);return L.settings.preventDefault&&Ie>L.settings.dragMinDistance?(ne.preventDefault(),ne.stopImmediatePropagation(),ne.stopPropagation(),!1):void 0}),this.handling_element=oi(R),this.settings=oi.extend({},_e,W||{}),this.firstCoord={left:0,top:0},this.lastCoord={left:0,top:0},this.settings.dragstart=xe(this.settings.dragstart,this.settings.namespace),this.settings.dragcontinue=xe(this.settings.dragcontinue,this.settings.namespace),this.handling_element.find(this.settings.dragSelector).on(this.settings.dragstart,this._dragStartHandler)},[{key:"_shouldAbort",value:function(){return"ontouchstart"in window||"msmaxtouchpoints"in window.navigator}}])}(),ai=o(1669);function Si(le){return Si=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(L){return typeof L=="undefined"?"undefined":_typeof(L)}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R=="undefined"?"undefined":_typeof(R)},Si(le)}function gi(){gi=function(){return R};var le,R={},L=Object.prototype,W=L.hasOwnProperty,ne=Object.defineProperty||function(Fe,ke,Le){Fe[ke]=Le.value},we=typeof Symbol=="function"?Symbol:{},Ie=we.iterator||"@@iterator",vt=we.asyncIterator||"@@asyncIterator",Et=we.toStringTag||"@@toStringTag";function pt(Fe,ke,Le){return Object.defineProperty(Fe,ke,{value:Le,enumerable:!0,configurable:!0,writable:!0}),Fe[ke]}try{pt({},"")}catch(Fe){pt=function(Le,kt,Pt){return Le[kt]=Pt}}function pn(Fe,ke,Le,kt){var Pt=ke&&_instanceof(ke.prototype,vr)?ke:vr,jt=Object.create(Pt.prototype),vn=new Dr(kt||[]);return ne(jt,"_invoke",{value:hr(Fe,Le,vn)}),jt}function un(Fe,ke,Le){try{return{type:"normal",arg:Fe.call(ke,Le)}}catch(kt){return{type:"throw",arg:kt}}}R.wrap=pn;var jn="suspendedStart",In="suspendedYield",An="executing",sr="completed",Ln={};function vr(){}function dr(){}function On(){}var nr={};pt(nr,Ie,function(){return this});var pr=Object.getPrototypeOf,Jn=pr&&pr(pr($r([])));Jn&&Jn!==L&&W.call(Jn,Ie)&&(nr=Jn);var rr=On.prototype=vr.prototype=Object.create(nr);function Hr(Fe){["next","throw","return"].forEach(function(ke){pt(Fe,ke,function(Le){return this._invoke(ke,Le)})})}function Mr(Fe,ke){function Le(Pt,jt,vn,Sn){var Hn=un(Fe[Pt],Fe,jt);if(Hn.type!=="throw"){var gr=Hn.arg,mr=gr.value;return mr&&Si(mr)=="object"&&W.call(mr,"__await")?ke.resolve(mr.__await).then(function(Yn){Le("next",Yn,vn,Sn)},function(Yn){Le("throw",Yn,vn,Sn)}):ke.resolve(mr).then(function(Yn){gr.value=Yn,vn(gr)},function(Yn){return Le("throw",Yn,vn,Sn)})}Sn(Hn.arg)}var kt;ne(this,"_invoke",{value:function(jt,vn){function Sn(){return new ke(function(Hn,gr){Le(jt,vn,Hn,gr)})}return kt=kt?kt.then(Sn,Sn):Sn()}})}function hr(Fe,ke,Le){var kt=jn;return function(Pt,jt){if(kt===An)throw Error("Generator is already running");if(kt===sr){if(Pt==="throw")throw jt;return{value:le,done:!0}}for(Le.method=Pt,Le.arg=jt;;){var vn=Le.delegate;if(vn){var Sn=wr(vn,Le);if(Sn){if(Sn===Ln)continue;return Sn}}if(Le.method==="next")Le.sent=Le._sent=Le.arg;else if(Le.method==="throw"){if(kt===jn)throw kt=sr,Le.arg;Le.dispatchException(Le.arg)}else Le.method==="return"&&Le.abrupt("return",Le.arg);kt=An;var Hn=un(Fe,ke,Le);if(Hn.type==="normal"){if(kt=Le.done?sr:In,Hn.arg===Ln)continue;return{value:Hn.arg,done:Le.done}}Hn.type==="throw"&&(kt=sr,Le.method="throw",Le.arg=Hn.arg)}}}function wr(Fe,ke){var Le=ke.method,kt=Fe.iterator[Le];if(kt===le)return ke.delegate=null,Le==="throw"&&Fe.iterator.return&&(ke.method="return",ke.arg=le,wr(Fe,ke),ke.method==="throw")||Le!=="return"&&(ke.method="throw",ke.arg=new TypeError("The iterator does not provide a '"+Le+"' method")),Ln;var Pt=un(kt,Fe.iterator,ke.arg);if(Pt.type==="throw")return ke.method="throw",ke.arg=Pt.arg,ke.delegate=null,Ln;var jt=Pt.arg;return jt?jt.done?(ke[Fe.resultName]=jt.value,ke.next=Fe.nextLoc,ke.method!=="return"&&(ke.method="next",ke.arg=le),ke.delegate=null,Ln):jt:(ke.method="throw",ke.arg=new TypeError("iterator result is not an object"),ke.delegate=null,Ln)}function Ur(Fe){var ke={tryLoc:Fe[0]};1 in Fe&&(ke.catchLoc=Fe[1]),2 in Fe&&(ke.finallyLoc=Fe[2],ke.afterLoc=Fe[3]),this.tryEntries.push(ke)}function Xr(Fe){var ke=Fe.completion||{};ke.type="normal",delete ke.arg,Fe.completion=ke}function Dr(Fe){this.tryEntries=[{tryLoc:"root"}],Fe.forEach(Ur,this),this.reset(!0)}function $r(Fe){if(Fe||Fe===""){var ke=Fe[Ie];if(ke)return ke.call(Fe);if(typeof Fe.next=="function")return Fe;if(!isNaN(Fe.length)){var Le=-1,kt=function Pt(){for(;++Le<Fe.length;)if(W.call(Fe,Le))return Pt.value=Fe[Le],Pt.done=!1,Pt;return Pt.value=le,Pt.done=!0,Pt};return kt.next=kt}}throw new TypeError(Si(Fe)+" is not iterable")}return dr.prototype=On,ne(rr,"constructor",{value:On,configurable:!0}),ne(On,"constructor",{value:dr,configurable:!0}),dr.displayName=pt(On,Et,"GeneratorFunction"),R.isGeneratorFunction=function(Fe){var ke=typeof Fe=="function"&&Fe.constructor;return!!ke&&(ke===dr||(ke.displayName||ke.name)==="GeneratorFunction")},R.mark=function(Fe){return Object.setPrototypeOf?Object.setPrototypeOf(Fe,On):(Fe.__proto__=On,pt(Fe,Et,"GeneratorFunction")),Fe.prototype=Object.create(rr),Fe},R.awrap=function(Fe){return{__await:Fe}},Hr(Mr.prototype),pt(Mr.prototype,vt,function(){return this}),R.AsyncIterator=Mr,R.async=function(Fe,ke,Le,kt,Pt){Pt===void 0&&(Pt=Promise);var jt=new Mr(pn(Fe,ke,Le,kt),Pt);return R.isGeneratorFunction(ke)?jt:jt.next().then(function(vn){return vn.done?vn.value:jt.next()})},Hr(rr),pt(rr,Et,"Generator"),pt(rr,Ie,function(){return this}),pt(rr,"toString",function(){return"[object Generator]"}),R.keys=function(Fe){var ke=Object(Fe),Le=[];for(var kt in ke)Le.push(kt);return Le.reverse(),function Pt(){for(;Le.length;){var jt=Le.pop();if(jt in ke)return Pt.value=jt,Pt.done=!1,Pt}return Pt.done=!0,Pt}},R.values=$r,Dr.prototype={constructor:Dr,reset:function(ke){if(this.prev=0,this.next=0,this.sent=this._sent=le,this.done=!1,this.delegate=null,this.method="next",this.arg=le,this.tryEntries.forEach(Xr),!ke)for(var Le in this)Le.charAt(0)==="t"&&W.call(this,Le)&&!isNaN(+Le.slice(1))&&(this[Le]=le)},stop:function(){this.done=!0;var ke=this.tryEntries[0].completion;if(ke.type==="throw")throw ke.arg;return this.rval},dispatchException:function(ke){if(this.done)throw ke;var Le=this;function kt(gr,mr){return vn.type="throw",vn.arg=ke,Le.next=gr,mr&&(Le.method="next",Le.arg=le),!!mr}for(var Pt=this.tryEntries.length-1;Pt>=0;--Pt){var jt=this.tryEntries[Pt],vn=jt.completion;if(jt.tryLoc==="root")return kt("end");if(jt.tryLoc<=this.prev){var Sn=W.call(jt,"catchLoc"),Hn=W.call(jt,"finallyLoc");if(Sn&&Hn){if(this.prev<jt.catchLoc)return kt(jt.catchLoc,!0);if(this.prev<jt.finallyLoc)return kt(jt.finallyLoc)}else if(Sn){if(this.prev<jt.catchLoc)return kt(jt.catchLoc,!0)}else{if(!Hn)throw Error("try statement without catch or finally");if(this.prev<jt.finallyLoc)return kt(jt.finallyLoc)}}}},abrupt:function(ke,Le){for(var kt=this.tryEntries.length-1;kt>=0;--kt){var Pt=this.tryEntries[kt];if(Pt.tryLoc<=this.prev&&W.call(Pt,"finallyLoc")&&this.prev<Pt.finallyLoc){var jt=Pt;break}}jt&&(ke==="break"||ke==="continue")&&jt.tryLoc<=Le&&Le<=jt.finallyLoc&&(jt=null);var vn=jt?jt.completion:{};return vn.type=ke,vn.arg=Le,jt?(this.method="next",this.next=jt.finallyLoc,Ln):this.complete(vn)},complete:function(ke,Le){if(ke.type==="throw")throw ke.arg;return ke.type==="break"||ke.type==="continue"?this.next=ke.arg:ke.type==="return"?(this.rval=this.arg=ke.arg,this.method="return",this.next="end"):ke.type==="normal"&&Le&&(this.next=Le),Ln},finish:function(ke){for(var Le=this.tryEntries.length-1;Le>=0;--Le){var kt=this.tryEntries[Le];if(kt.finallyLoc===ke)return this.complete(kt.completion,kt.afterLoc),Xr(kt),Ln}},catch:function(ke){for(var Le=this.tryEntries.length-1;Le>=0;--Le){var kt=this.tryEntries[Le];if(kt.tryLoc===ke){var Pt=kt.completion;if(Pt.type==="throw"){var jt=Pt.arg;Xr(kt)}return jt}}throw Error("illegal catch attempt")},delegateYield:function(ke,Le,kt){return this.delegate={iterator:$r(ke),resultName:Le,nextLoc:kt},this.method==="next"&&(this.arg=le),Ln}},R}var gn,yn,wn,ur,Pr,ni,Ii,la,_o=function(){return function(le,R,L){return R&&je(le.prototype,R),Object.defineProperty(le,"prototype",{writable:!1}),le}(function le(R,L){(function(W,ne){if(!_instanceof(W,ne))throw new TypeError("Cannot call a class as a function")})(this,le),this.br=R,this.book=L,this.mode1UpLit=new pi(L,R),this.$el=ai(this.mode1UpLit).addClass("br-mode-1up__root BRmode1up"),this.everShown=!1},[{key:"$brContainer",get:function(){return this.br.refs.$brContainer}},{key:"prepare",value:function(){var R=this,L=this.br.currentIndex();this.$brContainer.empty().css({overflow:"hidden"}).append(this.$el),setTimeout(Ve(gi().mark(function W(){return gi().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(R.everShown){ne.next=7;break}return R.mode1UpLit.initFirstRender(L),R.everShown=!0,R.mode1UpLit.requestUpdate(),ne.next=6,R.mode1UpLit.updateComplete;case 6:new ro(R.mode1UpLit,{preventDefault:!0,dragSelector:".br-mode-1up__visible-world",dragstart:"mousedown",dragcontinue:"mousemove",dragend:"mouseup"});case 7:R.mode1UpLit.jumpToIndex(L),setTimeout(function(){R.mode1UpLit.updateVisibleRegion()});case 9:case"end":return ne.stop()}},W)}))),this.br.updateBrClasses()}},{key:"jumpToIndex",value:function(R,L,W,ne){var we=Math.abs(this.br.currentIndex()-R),Ie=!ne&&we>0&&we<=4;this.mode1UpLit.jumpToIndex(R,{smooth:Ie})}},{key:"zoom",value:function(R){switch(R){case"in":this.mode1UpLit.zoomIn();break;case"out":this.mode1UpLit.zoomOut();break;default:console.error("Unsupported direction: ".concat(R))}}},{key:"resizePageView",value:function(){this.mode1UpLit.htmlDimensionsCacher.updateClientSizes(),this.mode1UpLit.requestUpdate()}}])}(),ao=(o(1761),o(1669));function Mo(le){return Mo=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(L){return typeof L=="undefined"?"undefined":_typeof(L)}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R=="undefined"?"undefined":_typeof(R)},Mo(le)}function ko(){ko=function(){return R};var le,R={},L=Object.prototype,W=L.hasOwnProperty,ne=Object.defineProperty||function(Fe,ke,Le){Fe[ke]=Le.value},we=typeof Symbol=="function"?Symbol:{},Ie=we.iterator||"@@iterator",vt=we.asyncIterator||"@@asyncIterator",Et=we.toStringTag||"@@toStringTag";function pt(Fe,ke,Le){return Object.defineProperty(Fe,ke,{value:Le,enumerable:!0,configurable:!0,writable:!0}),Fe[ke]}try{pt({},"")}catch(Fe){pt=function(Le,kt,Pt){return Le[kt]=Pt}}function pn(Fe,ke,Le,kt){var Pt=ke&&_instanceof(ke.prototype,vr)?ke:vr,jt=Object.create(Pt.prototype),vn=new Dr(kt||[]);return ne(jt,"_invoke",{value:hr(Fe,Le,vn)}),jt}function un(Fe,ke,Le){try{return{type:"normal",arg:Fe.call(ke,Le)}}catch(kt){return{type:"throw",arg:kt}}}R.wrap=pn;var jn="suspendedStart",In="suspendedYield",An="executing",sr="completed",Ln={};function vr(){}function dr(){}function On(){}var nr={};pt(nr,Ie,function(){return this});var pr=Object.getPrototypeOf,Jn=pr&&pr(pr($r([])));Jn&&Jn!==L&&W.call(Jn,Ie)&&(nr=Jn);var rr=On.prototype=vr.prototype=Object.create(nr);function Hr(Fe){["next","throw","return"].forEach(function(ke){pt(Fe,ke,function(Le){return this._invoke(ke,Le)})})}function Mr(Fe,ke){function Le(Pt,jt,vn,Sn){var Hn=un(Fe[Pt],Fe,jt);if(Hn.type!=="throw"){var gr=Hn.arg,mr=gr.value;return mr&&Mo(mr)=="object"&&W.call(mr,"__await")?ke.resolve(mr.__await).then(function(Yn){Le("next",Yn,vn,Sn)},function(Yn){Le("throw",Yn,vn,Sn)}):ke.resolve(mr).then(function(Yn){gr.value=Yn,vn(gr)},function(Yn){return Le("throw",Yn,vn,Sn)})}Sn(Hn.arg)}var kt;ne(this,"_invoke",{value:function(jt,vn){function Sn(){return new ke(function(Hn,gr){Le(jt,vn,Hn,gr)})}return kt=kt?kt.then(Sn,Sn):Sn()}})}function hr(Fe,ke,Le){var kt=jn;return function(Pt,jt){if(kt===An)throw Error("Generator is already running");if(kt===sr){if(Pt==="throw")throw jt;return{value:le,done:!0}}for(Le.method=Pt,Le.arg=jt;;){var vn=Le.delegate;if(vn){var Sn=wr(vn,Le);if(Sn){if(Sn===Ln)continue;return Sn}}if(Le.method==="next")Le.sent=Le._sent=Le.arg;else if(Le.method==="throw"){if(kt===jn)throw kt=sr,Le.arg;Le.dispatchException(Le.arg)}else Le.method==="return"&&Le.abrupt("return",Le.arg);kt=An;var Hn=un(Fe,ke,Le);if(Hn.type==="normal"){if(kt=Le.done?sr:In,Hn.arg===Ln)continue;return{value:Hn.arg,done:Le.done}}Hn.type==="throw"&&(kt=sr,Le.method="throw",Le.arg=Hn.arg)}}}function wr(Fe,ke){var Le=ke.method,kt=Fe.iterator[Le];if(kt===le)return ke.delegate=null,Le==="throw"&&Fe.iterator.return&&(ke.method="return",ke.arg=le,wr(Fe,ke),ke.method==="throw")||Le!=="return"&&(ke.method="throw",ke.arg=new TypeError("The iterator does not provide a '"+Le+"' method")),Ln;var Pt=un(kt,Fe.iterator,ke.arg);if(Pt.type==="throw")return ke.method="throw",ke.arg=Pt.arg,ke.delegate=null,Ln;var jt=Pt.arg;return jt?jt.done?(ke[Fe.resultName]=jt.value,ke.next=Fe.nextLoc,ke.method!=="return"&&(ke.method="next",ke.arg=le),ke.delegate=null,Ln):jt:(ke.method="throw",ke.arg=new TypeError("iterator result is not an object"),ke.delegate=null,Ln)}function Ur(Fe){var ke={tryLoc:Fe[0]};1 in Fe&&(ke.catchLoc=Fe[1]),2 in Fe&&(ke.finallyLoc=Fe[2],ke.afterLoc=Fe[3]),this.tryEntries.push(ke)}function Xr(Fe){var ke=Fe.completion||{};ke.type="normal",delete ke.arg,Fe.completion=ke}function Dr(Fe){this.tryEntries=[{tryLoc:"root"}],Fe.forEach(Ur,this),this.reset(!0)}function $r(Fe){if(Fe||Fe===""){var ke=Fe[Ie];if(ke)return ke.call(Fe);if(typeof Fe.next=="function")return Fe;if(!isNaN(Fe.length)){var Le=-1,kt=function Pt(){for(;++Le<Fe.length;)if(W.call(Fe,Le))return Pt.value=Fe[Le],Pt.done=!1,Pt;return Pt.value=le,Pt.done=!0,Pt};return kt.next=kt}}throw new TypeError(Mo(Fe)+" is not iterable")}return dr.prototype=On,ne(rr,"constructor",{value:On,configurable:!0}),ne(On,"constructor",{value:dr,configurable:!0}),dr.displayName=pt(On,Et,"GeneratorFunction"),R.isGeneratorFunction=function(Fe){var ke=typeof Fe=="function"&&Fe.constructor;return!!ke&&(ke===dr||(ke.displayName||ke.name)==="GeneratorFunction")},R.mark=function(Fe){return Object.setPrototypeOf?Object.setPrototypeOf(Fe,On):(Fe.__proto__=On,pt(Fe,Et,"GeneratorFunction")),Fe.prototype=Object.create(rr),Fe},R.awrap=function(Fe){return{__await:Fe}},Hr(Mr.prototype),pt(Mr.prototype,vt,function(){return this}),R.AsyncIterator=Mr,R.async=function(Fe,ke,Le,kt,Pt){Pt===void 0&&(Pt=Promise);var jt=new Mr(pn(Fe,ke,Le,kt),Pt);return R.isGeneratorFunction(ke)?jt:jt.next().then(function(vn){return vn.done?vn.value:jt.next()})},Hr(rr),pt(rr,Et,"Generator"),pt(rr,Ie,function(){return this}),pt(rr,"toString",function(){return"[object Generator]"}),R.keys=function(Fe){var ke=Object(Fe),Le=[];for(var kt in ke)Le.push(kt);return Le.reverse(),function Pt(){for(;Le.length;){var jt=Le.pop();if(jt in ke)return Pt.value=jt,Pt.done=!1,Pt}return Pt.done=!0,Pt}},R.values=$r,Dr.prototype={constructor:Dr,reset:function(ke){if(this.prev=0,this.next=0,this.sent=this._sent=le,this.done=!1,this.delegate=null,this.method="next",this.arg=le,this.tryEntries.forEach(Xr),!ke)for(var Le in this)Le.charAt(0)==="t"&&W.call(this,Le)&&!isNaN(+Le.slice(1))&&(this[Le]=le)},stop:function(){this.done=!0;var ke=this.tryEntries[0].completion;if(ke.type==="throw")throw ke.arg;return this.rval},dispatchException:function(ke){if(this.done)throw ke;var Le=this;function kt(gr,mr){return vn.type="throw",vn.arg=ke,Le.next=gr,mr&&(Le.method="next",Le.arg=le),!!mr}for(var Pt=this.tryEntries.length-1;Pt>=0;--Pt){var jt=this.tryEntries[Pt],vn=jt.completion;if(jt.tryLoc==="root")return kt("end");if(jt.tryLoc<=this.prev){var Sn=W.call(jt,"catchLoc"),Hn=W.call(jt,"finallyLoc");if(Sn&&Hn){if(this.prev<jt.catchLoc)return kt(jt.catchLoc,!0);if(this.prev<jt.finallyLoc)return kt(jt.finallyLoc)}else if(Sn){if(this.prev<jt.catchLoc)return kt(jt.catchLoc,!0)}else{if(!Hn)throw Error("try statement without catch or finally");if(this.prev<jt.finallyLoc)return kt(jt.finallyLoc)}}}},abrupt:function(ke,Le){for(var kt=this.tryEntries.length-1;kt>=0;--kt){var Pt=this.tryEntries[kt];if(Pt.tryLoc<=this.prev&&W.call(Pt,"finallyLoc")&&this.prev<Pt.finallyLoc){var jt=Pt;break}}jt&&(ke==="break"||ke==="continue")&&jt.tryLoc<=Le&&Le<=jt.finallyLoc&&(jt=null);var vn=jt?jt.completion:{};return vn.type=ke,vn.arg=Le,jt?(this.method="next",this.next=jt.finallyLoc,Ln):this.complete(vn)},complete:function(ke,Le){if(ke.type==="throw")throw ke.arg;return ke.type==="break"||ke.type==="continue"?this.next=ke.arg:ke.type==="return"?(this.rval=this.arg=ke.arg,this.method="return",this.next="end"):ke.type==="normal"&&Le&&(this.next=Le),Ln},finish:function(ke){for(var Le=this.tryEntries.length-1;Le>=0;--Le){var kt=this.tryEntries[Le];if(kt.finallyLoc===ke)return this.complete(kt.completion,kt.afterLoc),Xr(kt),Ln}},catch:function(ke){for(var Le=this.tryEntries.length-1;Le>=0;--Le){var kt=this.tryEntries[Le];if(kt.tryLoc===ke){var Pt=kt.completion;if(Pt.type==="throw"){var jt=Pt.arg;Xr(kt)}return jt}}throw Error("illegal catch attempt")},delegateYield:function(ke,Le,kt){return this.delegate={iterator:$r(ke),resultName:Le,nextLoc:kt},this.method==="next"&&(this.arg=le),Ln}},R}function Nu(){try{var le=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(R){}return(Nu=function(){return!!le})()}function Qi(le,R){return Qi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(W,ne){return W.__proto__=ne,W},Qi(le,R)}function so(){so=function(){return le};var le={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(L,W){["method","field"].forEach(function(ne){W.forEach(function(we){we.kind===ne&&we.placement==="own"&&this.defineClassElement(L,we)},this)},this)},initializeClassElements:function(L,W){var ne=L.prototype;["method","field"].forEach(function(we){W.forEach(function(Ie){var vt=Ie.placement;if(Ie.kind===we&&(vt==="static"||vt==="prototype")){var Et=vt==="static"?L:ne;this.defineClassElement(Et,Ie)}},this)},this)},defineClassElement:function(L,W){var ne=W.descriptor;if(W.kind==="field"){var we=W.initializer;ne={enumerable:ne.enumerable,writable:ne.writable,configurable:ne.configurable,value:we===void 0?void 0:we.call(L)}}Object.defineProperty(L,W.key,ne)},decorateClass:function(L,W){var ne=[],we=[],Ie={static:[],prototype:[],own:[]};if(L.forEach(function(Et){this.addElementPlacement(Et,Ie)},this),L.forEach(function(Et){if(!nt(Et))return ne.push(Et);var pt=this.decorateElement(Et,Ie);ne.push(pt.element),ne.push.apply(ne,pt.extras),we.push.apply(we,pt.finishers)},this),!W)return{elements:ne,finishers:we};var vt=this.decorateConstructor(ne,W);return we.push.apply(we,vt.finishers),vt.finishers=we,vt},addElementPlacement:function(L,W,ne){var we=W[L.placement];if(!ne&&we.indexOf(L.key)!==-1)throw new TypeError("Duplicated element ("+L.key+")");we.push(L.key)},decorateElement:function(L,W){for(var ne=[],we=[],Ie=L.decorators,vt=Ie.length-1;vt>=0;vt--){var Et=W[L.placement];Et.splice(Et.indexOf(L.key),1);var pt=this.fromElementDescriptor(L),pn=this.toElementFinisherExtras((0,Ie[vt])(pt)||pt);L=pn.element,this.addElementPlacement(L,W),pn.finisher&&we.push(pn.finisher);var un=pn.extras;if(un){for(var jn=0;jn<un.length;jn++)this.addElementPlacement(un[jn],W);ne.push.apply(ne,un)}}return{element:L,finishers:we,extras:ne}},decorateConstructor:function(L,W){for(var ne=[],we=W.length-1;we>=0;we--){var Ie=this.fromClassDescriptor(L),vt=this.toClassDescriptor((0,W[we])(Ie)||Ie);if(vt.finisher!==void 0&&ne.push(vt.finisher),vt.elements!==void 0){L=vt.elements;for(var Et=0;Et<L.length-1;Et++)for(var pt=Et+1;pt<L.length;pt++)if(L[Et].key===L[pt].key&&L[Et].placement===L[pt].placement)throw new TypeError("Duplicated element ("+L[Et].key+")")}}return{elements:L,finishers:ne}},fromElementDescriptor:function(L){var W={kind:L.kind,key:L.key,placement:L.placement,descriptor:L.descriptor};return Object.defineProperty(W,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),L.kind==="field"&&(W.initializer=L.initializer),W},toElementDescriptors:function(L){if(L!==void 0)return(W=L,function(ne){if(Array.isArray(ne))return ne}(W)||st(W)||Mt(W)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(ne){var we=this.toElementDescriptor(ne);return this.disallowProperty(ne,"finisher","An element descriptor"),this.disallowProperty(ne,"extras","An element descriptor"),we},this);var W},toElementDescriptor:function(L){var W=L.kind+"";if(W!=="method"&&W!=="field")throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+W+'"');var ne=At(L.key),we=L.placement+"";if(we!=="static"&&we!=="prototype"&&we!=="own")throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+we+'"');var Ie=L.descriptor;this.disallowProperty(L,"elements","An element descriptor");var vt={kind:W,key:ne,placement:we,descriptor:Object.assign({},Ie)};return W!=="field"?this.disallowProperty(L,"initializer","A method descriptor"):(this.disallowProperty(Ie,"get","The property descriptor of a field descriptor"),this.disallowProperty(Ie,"set","The property descriptor of a field descriptor"),this.disallowProperty(Ie,"value","The property descriptor of a field descriptor"),vt.initializer=L.initializer),vt},toElementFinisherExtras:function(L){return{element:this.toElementDescriptor(L),finisher:ct(L,"finisher"),extras:this.toElementDescriptors(L.extras)}},fromClassDescriptor:function(L){var W={kind:"class",elements:L.map(this.fromElementDescriptor,this)};return Object.defineProperty(W,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),W},toClassDescriptor:function(L){var W=L.kind+"";if(W!=="class")throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+W+'"');this.disallowProperty(L,"key","A class descriptor"),this.disallowProperty(L,"placement","A class descriptor"),this.disallowProperty(L,"descriptor","A class descriptor"),this.disallowProperty(L,"initializer","A class descriptor"),this.disallowProperty(L,"extras","A class descriptor");var ne=ct(L,"finisher");return{elements:this.toElementDescriptors(L.elements),finisher:ne}},runClassFinishers:function(L,W){for(var ne=0;ne<W.length;ne++){var we=(0,W[ne])(L);if(we!==void 0){if(typeof we!="function")throw new TypeError("Finishers must return a constructor.");L=we}}return L},disallowProperty:function(L,W,ne){if(L[W]!==void 0)throw new TypeError(ne+" can't have a ."+W+" property.")}};return le}function Gi(){return Gi=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(R,L,W){var ne=function(Ie,vt){for(;!{}.hasOwnProperty.call(Ie,vt)&&(Ie=io(Ie))!==null;);return Ie}(R,L);if(ne){var we=Object.getOwnPropertyDescriptor(ne,L);return we.get?we.get.call(arguments.length<3?R:W):we.value}},Gi.apply(null,arguments)}function io(le){return io=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},io(le)}var bl=We([(0,bn.EM)("br-mode-2up")],function(le,R){var L,W,ne=function(we){function Ie(vt,Et){var pt;return Re(this,Ie),pt=$e(this,Ie),le(pt),pt.book=vt,pt.br=Et,pt}return Ye(Ie,we),ze(Ie)}(R);return{F:ne,d:[{kind:"field",key:"br",value:void 0},{kind:"field",decorators:[(0,bn.MZ)({type:Object})],key:"book",value:void 0},{kind:"field",key:"coordSpace",value:function(){return new Ei(this)}},{kind:"field",decorators:[(0,bn.MZ)({type:Number})],key:"scale",value:function(){return 1}},{kind:"field",key:"initialScale",value:function(){return 1}},{kind:"field",decorators:[(0,bn.MZ)({type:String})],key:"autoFit",value:function(){return"auto"}},{kind:"field",key:"flipSpeed",value:function(){return 400}},{kind:"field",decorators:[(0,bn.P)(".br-mode-2up__leafs--flipping")],key:"$flippingEdges",value:void 0},{kind:"field",decorators:[(0,bn.MZ)({type:Array,hasChanged:Me.arrChanged})],key:"visiblePages",value:function(){return[]}},{kind:"get",key:"pageLeft",value:function(){return this.visiblePages.find(function(Ie){return Ie.pageSide=="L"})}},{kind:"get",key:"pageRight",value:function(){return this.visiblePages.find(function(Ie){return Ie.pageSide=="R"})}},{kind:"field",decorators:[(0,bn.MZ)({type:Array})],key:"renderedPages",value:function(){return[]}},{kind:"field",key:"pageContainerCache",value:function(){return{}}},{kind:"field",key:"activeFlip",value:function(){return null}},{kind:"field",key:"_leftCoverWidth",value:function(){return 0}},{kind:"get",key:"$container",value:function(){return this}},{kind:"get",key:"$visibleWorld",value:function(){return this.$book}},{kind:"field",decorators:[(0,bn.P)(".br-mode-2up__book")],key:"$book",value:void 0},{kind:"get",key:"positions",value:function(){return this.computePositions(this.pageLeft,this.pageRight)}},{kind:"method",key:"computePageHeight",value:function(Ie){return this.book.getMedianPageSizeInches().height}},{kind:"method",key:"computePageWidth",value:function(Ie){return Ie.widthInches*this.computePageHeight(Ie)/Ie.heightInches}},{kind:"method",key:"computePositions",value:function(Ie,vt){var Et,pt,pn,un,jn=this.computePageWidth.bind(this),In=this.book.getNumLeafs(),An=this.activeFlip?Math.ceil(this.activeFlip.pagesFlippingCount/2)*this.PAGE_THICKNESS_IN:0,sr=this.book.pageProgression=="lr"?(Et=Ie==null?void 0:Ie.index)!==null&&Et!==void 0?Et:0:Ie?In-Ie.index:0,Ln=this._leftCoverWidth+sr*this.PAGE_THICKNESS_IN,vr=Ln,dr=jn(Ie||vt.right),On=Ln-dr,nr=On,pr=((pt=this.activeFlip)===null||pt===void 0?void 0:pt.direction)!="left"?0:An,Jn=Math.ceil(sr/2)*this.PAGE_THICKNESS_IN-pr,rr=pr+Jn,Hr=nr-pr,Mr=Hr-Jn,hr=Ln,wr=vt?jn(vt):0,Ur=hr+wr,Xr=this.book.pageProgression=="lr"?vt?In-vt.index:0:(pn=vt==null?void 0:vt.index)!==null&&pn!==void 0?pn:0,Dr=Ur,$r=((un=this.activeFlip)===null||un===void 0?void 0:un.direction)!="right"?0:An,Fe=Dr+$r,ke=Math.ceil(Xr/2)*this.PAGE_THICKNESS_IN-$r,Le=Dr+ke+$r;return{leafEdgesLeftStart:Mr,leafEdgesLeftMainWidth:Jn,leafEdgesLeftMovingStart:Hr,leafEdgesLeftMovingWidth:pr,leafEdgesLeftEnd:nr,leafEdgesLeftFullWidth:rr,pageLeftStart:On,pageLeftWidth:dr,pageLeftEnd:vr,gutter:Ln,pageRightStart:hr,pageRightWidth:wr,pageRightEnd:Ur,leafEdgesRightStart:Dr,leafEdgesRightMovingWidth:$r,leafEdgesRightMainStart:Fe,leafEdgesRightMainWidth:ke,leafEdgesRightEnd:Le,leafEdgesRightFullWidth:$r+ke,spreadWidth:Ur-On,bookWidth:Le-Mr}}},{kind:"field",key:"htmlDimensionsCacher",value:function(){return new Mn(this)}},{kind:"field",key:"smoothZoomer",value:function(){return new Tt(this)}},{kind:"field",key:"ZOOM_FACTOR",value:function(){return 1.1}},{kind:"field",key:"PAGE_THICKNESS_IN",value:function(){return .002}},{kind:"method",key:"jumpToIndex",value:(W=_t(ko().mark(function we(Ie){var vt,Et,pt=arguments;return ko().wrap(function(pn){for(;;)switch(pn.prev=pn.next){case 0:return vt=(pt.length>1&&pt[1]!==void 0?pt[1]:{}).smooth,Et=vt===void 0||vt,pn.next=3,this.flipAnimation(Ie,{animate:Et});case 3:case"end":return pn.stop()}},we,this)})),function(we){return W.apply(this,arguments)})},{kind:"method",key:"zoomIn",value:function(){this.scale*=this.ZOOM_FACTOR}},{kind:"method",key:"zoomOut",value:function(){this.scale*=1/this.ZOOM_FACTOR}},{kind:"method",key:"firstUpdated",value:function(Ie){Gi(io(ne.prototype),"firstUpdated",this).call(this,Ie),this.htmlDimensionsCacher.updateClientSizes(),this.smoothZoomer.attach()}},{kind:"method",key:"connectedCallback",value:function(){Gi(io(ne.prototype),"connectedCallback",this).call(this),this.htmlDimensionsCacher.attachResizeListener(),this.smoothZoomer.attach()}},{kind:"method",key:"disconnectedCallback",value:function(){this.htmlDimensionsCacher.detachResizeListener(),this.smoothZoomer.detach(),Gi(io(ne.prototype),"disconnectedCallback",this).call(this)}},{kind:"method",key:"updated",value:function(Ie){if(Ie.has("book")&&(this._leftCoverWidth=this.computePageWidth(this.book.getPage(this.book.pageProgression=="lr"?0:-1))),Ie.has("visiblePages")&&(this.renderedPages=this.computeRenderedPages(),this.br.displayedIndices=this.visiblePages.map(function(Et){return Et.index}),this.br.updateFirstIndex(this.br.displayedIndices[0]),this.br._components.navbar.updateNavIndexThrottled()),Ie.has("autoFit")&&this.autoFit!="none"&&this.resizeViaAutofit(),Ie.has("scale")){var vt=Ie.get("scale");this.recenter(),this.smoothZoomer.updateViewportOnZoom(this.scale,vt)}}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"render",value:function(){var Ie=this;return(0,Zn.qy)(gn||(gn=qe(['\n      <div class="br-mode-2up__book" @mouseup=',">\n        ","\n        ","\n        ","\n      </div>"])),this.handlePageClick,this.renderLeafEdges("left"),this.renderedPages.map(function(vt){return Ie.renderPage(vt)}),this.renderLeafEdges("right"))}},{kind:"field",key:"createPageContainer",value:function(){var Ie=this;return function(vt){return Ie.pageContainerCache[vt.index]||(Ie.pageContainerCache[vt.index]=Ie.br._createPageContainer(vt.index))}}},{kind:"method",key:"initFirstRender",value:function(Ie){var vt=this.book.getPage(Ie),Et=vt.spread;this.visiblePages=(this.book.pageProgression=="lr"?[Et.left,Et.right]:[Et.right,Et.left]).filter(function(pt){return pt}),this.htmlDimensionsCacher.updateClientSizes(),this.resizeViaAutofit(vt),this.initialScale=this.scale}},{kind:"field",key:"renderPage",value:function(){var Ie=this;return function(vt){var Et=Ie.coordSpace.worldUnitsToRenderedPixels,pt=Ie.coordSpace.worldUnitsToVisiblePixels,pn=Et(Ie.computePageWidth(vt)),un=Et(Ie.computePageHeight(vt)),jn=Ie.visiblePages.map(function(sr){return sr.index}).includes(vt.index),In=Ie.computePositions(vt.spread.left,vt.spread.right),An=Ie.createPageContainer(vt).update({dimensions:{width:pn,height:un,top:0,left:Et(vt.pageSide=="L"?In.pageLeftStart:In.pageLeftEnd)},reduce:vt.width/pt(Ie.computePageWidth(vt))}).$container[0];return An.classList.toggle("BRpage-visible",jn),An}}},{kind:"field",key:"renderLeafEdges",value:function(){var Ie=this;return function(vt){var Et;if(!Ie.visiblePages.length)return(0,Zn.qy)(yn||(yn=qe([""])));if(!(vt=="left"?Ie.positions.leafEdgesLeftFullWidth:Ie.positions.leafEdgesRightFullWidth))return(0,Zn.qy)(wn||(wn=qe([""])));var pt=Ie.coordSpace.worldUnitsToRenderedPixels,pn=pt(Ie.computePageHeight(Ie.visiblePages[0])),un=((Et=Ie.activeFlip)===null||Et===void 0?void 0:Et.direction)==vt,jn=Ie.book.getPage(Ie.book.pageProgression=="lr"?0:Ie.book.getNumLeafs()-1),In=Ie.book.getPage(Ie.book.pageProgression=="lr"?Ie.book.getNumLeafs()-1:0),An=un?Ie.activeFlip.pagesFlippingCount:0,sr=vt=="left"?[jn.index,Ie.pageLeft.goLeft(An).index]:[Ie.pageRight.goRight(An).index,In.index],Ln={width:"".concat(pt(vt=="left"?Ie.positions.leafEdgesLeftMainWidth:Ie.positions.leafEdgesRightMainWidth),"px"),height:"".concat(pn,"px"),left:"".concat(pt(vt=="left"?Ie.positions.leafEdgesLeftStart:Ie.positions.leafEdgesRightMainStart),"px")},vr=(0,Zn.qy)(ur||(ur=qe(["\n      <br-leaf-edges\n        leftIndex=","\n        rightIndex=","\n        .book=","\n        .pageClickHandler=","\n        side=",'\n        class="br-mode-2up__leafs br-mode-2up__leafs--','"\n        style=',"\n      ></br-leaf-edges>\n    "])),sr[0],sr[1],Ie.book,function(pr){return Ie.br.jumpToIndex(pr)},vt,vt,(0,Tn.W)(Ln));if(un){var dr=pt(vt=="left"?Ie.positions.leafEdgesLeftMovingWidth:Ie.positions.leafEdgesRightMovingWidth),On={width:"".concat(dr,"px"),height:"".concat(pn,"px"),left:"".concat(pt(vt=="left"?Ie.positions.leafEdgesLeftMovingStart:Ie.positions.leafEdgesRightStart),"px"),pointerEvents:"none",transformOrigin:"".concat(pt(vt=="left"?Ie.positions.pageLeftWidth:-Ie.positions.pageRightWidth)+dr/2,"px 0")},nr=(0,Zn.qy)(Pr||(Pr=qe(["\n        <br-leaf-edges\n          leftIndex=","\n          rightIndex=","\n          .book=","\n          side=",'\n          class="br-mode-2up__leafs br-mode-2up__leafs--',' br-mode-2up__leafs--flipping"\n          style=',"\n        ></br-leaf-edges>\n      "])),Ie.activeFlip.pagesFlipping[0],Ie.activeFlip.pagesFlipping[1],Ie.book,vt,vt,(0,Tn.W)(On));return vt=="left"?(0,Zn.qy)(ni||(ni=qe(["","",""])),vr,nr):(0,Zn.qy)(Ii||(Ii=qe(["","",""])),nr,vr)}return vr}}},{kind:"method",key:"resizeViaAutofit",value:function(){var Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.visiblePages[0];this.scale=this.computeScale(Ie,this.autoFit)}},{kind:"method",key:"recenter",value:function(){var Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.visiblePages[0],vt=this.computeTranslate(Ie,this.scale);this.$book.style.transform="translateX(".concat(vt.x,"px) translateY(").concat(vt.y,"px) scale(").concat(this.scale,")")}},{kind:"method",key:"computeRenderedPages",value:function(){var Ie,vt,Et,pt,pn;return[(Ie=this.visiblePages[0])===null||Ie===void 0||(Ie=Ie.prev)===null||Ie===void 0?void 0:Ie.prev,(vt=this.visiblePages[0])===null||vt===void 0?void 0:vt.prev].concat((pn=this.visiblePages,function(un){if(Array.isArray(un))return Lt(un)}(pn)||st(pn)||Mt(pn)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[(Et=this.visiblePages[this.visiblePages.length-1])===null||Et===void 0?void 0:Et.next,(pt=this.visiblePages[this.visiblePages.length-1])===null||pt===void 0||(pt=pt.next)===null||pt===void 0?void 0:pt.next]).filter(function(un){return un}).slice(0,10)}},{kind:"method",key:"computeScale",value:function(Ie,vt){if(!Ie)return 1;var Et=Ie.spread,pt=this.computePositions(Et.left,Et.right).bookWidth,pn=this.computePageHeight(Et.left||Et.right),un=this.scale;this.scale=1;var jn=this.coordSpace.renderedPixelsToWorldUnits(this.htmlDimensionsCacher.clientWidth-20)/pt,In=this.coordSpace.renderedPixelsToWorldUnits(this.htmlDimensionsCacher.clientHeight-20)/pn;this.scale=un;var An=1;if(vt=="width")An=jn;else if(vt=="height")An=In;else if(vt=="auto")An=Math.min(jn,In);else{if(vt!="none")throw new Error("Invalid autoFit value: ".concat(vt));An=this.scale}return An}},{kind:"method",key:"computeTranslate",value:function(Ie){var vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale;if(!Ie)return{x:0,y:0};var Et=Ie.spread,pt=this.computePositions(Et.left,Et.right),pn=pt.bookWidth,un=this.computePageHeight(Et.left||Et.right),jn=this.coordSpace.worldUnitsToRenderedPixels(pn)*vt,In=this.coordSpace.worldUnitsToRenderedPixels(un)*vt,An=this.coordSpace.worldUnitsToRenderedPixels(-pt.leafEdgesLeftStart)*vt,sr=(this.htmlDimensionsCacher.clientWidth-jn)/2+An,Ln=(this.htmlDimensionsCacher.clientHeight-In)/2;return{x:Math.max(An,sr),y:Math.max(0,Ln)}}},{kind:"method",key:"flipAnimation",value:(L=_t(ko().mark(function we(Ie){var vt,Et,pt,pn,un,jn,In,An,sr,Ln,vr,dr,On,nr,pr,Jn,rr,Hr,Mr,hr,wr,Ur,Xr,Dr,$r,Fe,ke,Le,kt,Pt=this,jt=arguments;return ko().wrap(function(vn){for(;;)switch(vn.prev=vn.next){case 0:if(jn=(jt.length>1&&jt[1]!==void 0?jt[1]:{}).animate,In=jn===void 0||jn,An=(vt=this.pageLeft||this.pageRight)===null||vt===void 0?void 0:vt.spread){vn.next=4;break}return vn.abrupt("return");case 4:if(Ie=this.parseNextSpread(Ie),!this.activeFlip&&Ie){vn.next=7;break}return vn.abrupt("return");case 7:if(sr=this.book.pageProgression,Ln=(Et=(pt=An.left)===null||pt===void 0?void 0:pt.index)!==null&&Et!==void 0?Et:sr=="lr"?-1:this.book.getNumLeafs(),vr=(pn=(un=Ie.left)===null||un===void 0?void 0:un.index)!==null&&pn!==void 0?pn:sr=="lr"?-1:this.book.getNumLeafs(),Ln!=vr){vn.next=12;break}return vn.abrupt("return");case 12:dr=this.renderedPages.map(function(Sn){return Sn.index}),On=[],nr=0,pr=[Ie.left,Ie.right];case 15:if(!(nr<pr.length)){vn.next=24;break}if(Jn=pr[nr]){vn.next=19;break}return vn.abrupt("continue",21);case 19:On.push(this.createPageContainer(Jn)),dr.includes(Jn.index)||this.renderedPages.push(Jn);case 21:nr++,vn.next=15;break;case 24:if(rr=this.computeTranslate(An.left||An.right,this.scale),Hr=this.computeTranslate(Ie.left||Ie.right,this.scale),Mr=Math.sqrt(Math.pow(Hr.x-rr.x,2)+Math.pow(Hr.y-rr.y,2)),hr="translate(".concat(Hr.x,"px, ").concat(Hr.y,"px)"),Mr<50&&(Ur=(wr=this.$book.style.transform.match(/translate\([^)]+\)/))===null||wr===void 0?void 0:wr[0])&&(hr=Ur),Xr="".concat(hr," scale(").concat(this.scale,")"),!In||!("animate"in Element.prototype)){vn.next=57;break}return Dr=sr=="lr"?vr>Ln?"right":"left":vr>Ln?"left":"right",this.activeFlip={direction:Dr,pagesFlipping:[Ln,vr],pagesFlippingCount:Math.abs(vr-Ln)},this.classList.add("br-mode-2up--flipping-".concat(Dr)),this.classList.add("BRpageFlipping"),this.requestUpdate(),vn.next=38,this.updateComplete;case 38:return this.visiblePages.map(function(Sn){return Pt.pageContainerCache[Sn.index].$container}).forEach(function(Sn){return Sn.addClass("BRpage-exiting")}),On.forEach(function(Sn){return Sn.$container.addClass("BRpage-entering")}),$r={duration:this.flipSpeed+this.activeFlip.pagesFlippingCount,easing:"ease-in",fill:"none"},Fe=this.$book.animate([{transform:Xr}],$r),ke=this.$flippingEdges.animate([{transform:"rotateY(0deg)"},{transform:Dr=="left"?"rotateY(-180deg)":"rotateY(180deg)"}],$r),Le=Dr=="left"?this.querySelector(".BRpage-exiting[data-side=L]").animate([{transform:"rotateY(0deg)"},{transform:"rotateY(180deg)"}],$r):this.querySelector(".BRpage-exiting[data-side=R]").animate([{transform:"rotateY(0deg)"},{transform:"rotateY(-180deg)"}],$r),kt=Dr=="left"?this.querySelector(".BRpage-entering[data-side=R]").animate([{transform:"rotateY(-180deg)"},{transform:"rotateY(0deg)"}],$r):this.querySelector(".BRpage-entering[data-side=L]").animate([{transform:"rotateY(180deg)"},{transform:"rotateY(0deg)"}],$r),Fe.play(),ke.play(),Le.play(),kt.play(),On.forEach(function(Sn){return Sn.$container.addClass("BRpage-visible")}),vn.next=52,Promise.race([(0,Me.promisifyEvent)(Fe,"finish"),(0,Me.promisifyEvent)(ke,"finish"),(0,Me.promisifyEvent)(Le,"finish"),(0,Me.promisifyEvent)(kt,"finish")]);case 52:this.classList.remove("br-mode-2up--flipping-".concat(Dr)),this.classList.remove("BRpageFlipping"),this.visiblePages.map(function(Sn){return Pt.pageContainerCache[Sn.index].$container}).forEach(function(Sn){return Sn.removeClass("BRpage-exiting BRpage-visible")}),On.forEach(function(Sn){return Sn.$container.removeClass("BRpage-entering")}),this.activeFlip=null;case 57:this.$book.style.transform=Xr,this.visiblePages=(sr=="lr"?[Ie.left,Ie.right]:[Ie.right,Ie.left]).filter(function(Sn){return Sn});case 59:case"end":return vn.stop()}},we,this)})),function(we){return L.apply(this,arguments)})},{kind:"method",key:"parseNextSpread",value:function(Ie){Ie=="next"?Ie=this.book.pageProgression=="lr"?"right":"left":Ie=="prev"&&(Ie=this.book.pageProgression=="lr"?"left":"right");var vt,Et=(this.pageLeft||this.pageRight).spread;if(Ie=="left")Ie=(vt=Et.left)===null||vt===void 0||(vt=vt.findLeft({combineConsecutiveUnviewables:!0}))===null||vt===void 0?void 0:vt.spread;else if(Ie=="right"){var pt;Ie=(pt=Et.right)===null||pt===void 0||(pt=pt.findRight({combineConsecutiveUnviewables:!0}))===null||pt===void 0?void 0:pt.spread}return typeof Ie=="number"&&(Ie=this.book.getPage(Ie).spread),_instanceof(Ie,en)&&(Ie=Ie.spread),Ie}},{kind:"field",key:"handlePageClick",value:function(){var Ie=this;return function(vt){if(vt.which==3&&Ie.br.protected)return!1;if(vt.which==1){var Et=ao(vt.target).closest(".BRpagecontainer");Et.length&&(Et.data("side")=="L"?Ie.flipAnimation("left"):Et.data("side")=="R"&&Ie.flipAnimation("right"))}}}}]}},Zn.WF),xo=(We([(0,bn.EM)("br-leaf-edges")],function(le,R){var L=function(W){function ne(){var we;Re(this,ne);for(var Ie=arguments.length,vt=new Array(Ie),Et=0;Et<Ie;Et++)vt[Et]=arguments[Et];return we=$e(this,ne,[].concat(vt)),le(we),we}return Ye(ne,W),ze(ne)}(R);return{F:L,d:[{kind:"field",decorators:[(0,bn.MZ)({type:Number})],key:"leftIndex",value:function(){return 0}},{kind:"field",decorators:[(0,bn.MZ)({type:Number})],key:"rightIndex",value:function(){return 0}},{kind:"field",decorators:[(0,bn.MZ)({type:String})],key:"side",value:function(){return"left"}},{kind:"field",decorators:[(0,bn.MZ)({attribute:!1})],key:"book",value:function(){return null}},{kind:"field",decorators:[(0,bn.MZ)({attribute:!1,type:Function})],key:"pageClickHandler",value:function(){return null}},{kind:"field",decorators:[(0,bn.P)(".br-leaf-edges__bar")],key:"$hoverBar",value:void 0},{kind:"field",decorators:[(0,bn.P)(".br-leaf-edges__label")],key:"$hoverLabel",value:void 0},{kind:"get",key:"pageWidthPercent",value:function(){return 100/(this.rightIndex-this.leftIndex+1)}},{kind:"method",key:"render",value:function(){return(0,Zn.qy)(la||(la=qe(['\n      <div\n        class="br-leaf-edges__bar"\n        style="','"\n      ></div>\n      <div class="br-leaf-edges__label">Page</div>'])),(0,Tn.W)({width:"".concat(this.pageWidthPercent,"%")}))}},{kind:"method",key:"connectedCallback",value:function(){Gi(io(L.prototype),"connectedCallback",this).call(this),this.addEventListener("mouseenter",this.onMouseEnter),this.addEventListener("mouseleave",this.onMouseLeave),this.addEventListener("click",this.onClick)}},{kind:"method",key:"disconnectedCallback",value:function(){Gi(io(L.prototype),"disconnectedCallback",this).call(this),this.addEventListener("mouseenter",this.onMouseEnter),this.removeEventListener("mousemove",this.onMouseMove),this.removeEventListener("mouseleave",this.onMouseLeave)}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"field",key:"onMouseEnter",value:function(){var ne=this;return function(we){ne.addEventListener("mousemove",ne.onMouseMove),ne.$hoverBar.style.display="block",ne.$hoverLabel.style.display="block"}}},{kind:"field",key:"onMouseMove",value:function(){var ne=this;return function(we){ne.$hoverBar.style.left="".concat(we.offsetX,"px"),ne.side=="right"?ne.$hoverLabel.style.left="".concat(we.offsetX,"px"):ne.$hoverLabel.style.right="".concat(ne.offsetWidth-we.offsetX,"px"),ne.$hoverLabel.style.top="".concat(we.offsetY,"px");var Ie=ne.mouseEventToPageIndex(we);ne.$hoverLabel.textContent=ne.book.getPageName(Ie)}}},{kind:"field",key:"onMouseLeave",value:function(){var ne=this;return function(we){ne.removeEventListener("mousemove",ne.onMouseMove),ne.$hoverBar.style.display="none",ne.$hoverLabel.style.display="none"}}},{kind:"field",key:"onClick",value:function(){var ne=this;return function(we){ne.pageClickHandler(ne.mouseEventToPageIndex(we))}}},{kind:"method",key:"mouseEventToPageIndex",value:function(ne){return Math.floor(this.leftIndex+ne.offsetX/this.offsetWidth*(this.rightIndex-this.leftIndex+1))}}]}},Zn.WF),o(1669));function _r(le){return _r=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(L){return typeof L=="undefined"?"undefined":_typeof(L)}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R=="undefined"?"undefined":_typeof(R)},_r(le)}function Os(){Os=function(){return R};var le,R={},L=Object.prototype,W=L.hasOwnProperty,ne=Object.defineProperty||function(Fe,ke,Le){Fe[ke]=Le.value},we=typeof Symbol=="function"?Symbol:{},Ie=we.iterator||"@@iterator",vt=we.asyncIterator||"@@asyncIterator",Et=we.toStringTag||"@@toStringTag";function pt(Fe,ke,Le){return Object.defineProperty(Fe,ke,{value:Le,enumerable:!0,configurable:!0,writable:!0}),Fe[ke]}try{pt({},"")}catch(Fe){pt=function(Le,kt,Pt){return Le[kt]=Pt}}function pn(Fe,ke,Le,kt){var Pt=ke&&_instanceof(ke.prototype,vr)?ke:vr,jt=Object.create(Pt.prototype),vn=new Dr(kt||[]);return ne(jt,"_invoke",{value:hr(Fe,Le,vn)}),jt}function un(Fe,ke,Le){try{return{type:"normal",arg:Fe.call(ke,Le)}}catch(kt){return{type:"throw",arg:kt}}}R.wrap=pn;var jn="suspendedStart",In="suspendedYield",An="executing",sr="completed",Ln={};function vr(){}function dr(){}function On(){}var nr={};pt(nr,Ie,function(){return this});var pr=Object.getPrototypeOf,Jn=pr&&pr(pr($r([])));Jn&&Jn!==L&&W.call(Jn,Ie)&&(nr=Jn);var rr=On.prototype=vr.prototype=Object.create(nr);function Hr(Fe){["next","throw","return"].forEach(function(ke){pt(Fe,ke,function(Le){return this._invoke(ke,Le)})})}function Mr(Fe,ke){function Le(Pt,jt,vn,Sn){var Hn=un(Fe[Pt],Fe,jt);if(Hn.type!=="throw"){var gr=Hn.arg,mr=gr.value;return mr&&_r(mr)=="object"&&W.call(mr,"__await")?ke.resolve(mr.__await).then(function(Yn){Le("next",Yn,vn,Sn)},function(Yn){Le("throw",Yn,vn,Sn)}):ke.resolve(mr).then(function(Yn){gr.value=Yn,vn(gr)},function(Yn){return Le("throw",Yn,vn,Sn)})}Sn(Hn.arg)}var kt;ne(this,"_invoke",{value:function(jt,vn){function Sn(){return new ke(function(Hn,gr){Le(jt,vn,Hn,gr)})}return kt=kt?kt.then(Sn,Sn):Sn()}})}function hr(Fe,ke,Le){var kt=jn;return function(Pt,jt){if(kt===An)throw Error("Generator is already running");if(kt===sr){if(Pt==="throw")throw jt;return{value:le,done:!0}}for(Le.method=Pt,Le.arg=jt;;){var vn=Le.delegate;if(vn){var Sn=wr(vn,Le);if(Sn){if(Sn===Ln)continue;return Sn}}if(Le.method==="next")Le.sent=Le._sent=Le.arg;else if(Le.method==="throw"){if(kt===jn)throw kt=sr,Le.arg;Le.dispatchException(Le.arg)}else Le.method==="return"&&Le.abrupt("return",Le.arg);kt=An;var Hn=un(Fe,ke,Le);if(Hn.type==="normal"){if(kt=Le.done?sr:In,Hn.arg===Ln)continue;return{value:Hn.arg,done:Le.done}}Hn.type==="throw"&&(kt=sr,Le.method="throw",Le.arg=Hn.arg)}}}function wr(Fe,ke){var Le=ke.method,kt=Fe.iterator[Le];if(kt===le)return ke.delegate=null,Le==="throw"&&Fe.iterator.return&&(ke.method="return",ke.arg=le,wr(Fe,ke),ke.method==="throw")||Le!=="return"&&(ke.method="throw",ke.arg=new TypeError("The iterator does not provide a '"+Le+"' method")),Ln;var Pt=un(kt,Fe.iterator,ke.arg);if(Pt.type==="throw")return ke.method="throw",ke.arg=Pt.arg,ke.delegate=null,Ln;var jt=Pt.arg;return jt?jt.done?(ke[Fe.resultName]=jt.value,ke.next=Fe.nextLoc,ke.method!=="return"&&(ke.method="next",ke.arg=le),ke.delegate=null,Ln):jt:(ke.method="throw",ke.arg=new TypeError("iterator result is not an object"),ke.delegate=null,Ln)}function Ur(Fe){var ke={tryLoc:Fe[0]};1 in Fe&&(ke.catchLoc=Fe[1]),2 in Fe&&(ke.finallyLoc=Fe[2],ke.afterLoc=Fe[3]),this.tryEntries.push(ke)}function Xr(Fe){var ke=Fe.completion||{};ke.type="normal",delete ke.arg,Fe.completion=ke}function Dr(Fe){this.tryEntries=[{tryLoc:"root"}],Fe.forEach(Ur,this),this.reset(!0)}function $r(Fe){if(Fe||Fe===""){var ke=Fe[Ie];if(ke)return ke.call(Fe);if(typeof Fe.next=="function")return Fe;if(!isNaN(Fe.length)){var Le=-1,kt=function Pt(){for(;++Le<Fe.length;)if(W.call(Fe,Le))return Pt.value=Fe[Le],Pt.done=!1,Pt;return Pt.value=le,Pt.done=!0,Pt};return kt.next=kt}}throw new TypeError(_r(Fe)+" is not iterable")}return dr.prototype=On,ne(rr,"constructor",{value:On,configurable:!0}),ne(On,"constructor",{value:dr,configurable:!0}),dr.displayName=pt(On,Et,"GeneratorFunction"),R.isGeneratorFunction=function(Fe){var ke=typeof Fe=="function"&&Fe.constructor;return!!ke&&(ke===dr||(ke.displayName||ke.name)==="GeneratorFunction")},R.mark=function(Fe){return Object.setPrototypeOf?Object.setPrototypeOf(Fe,On):(Fe.__proto__=On,pt(Fe,Et,"GeneratorFunction")),Fe.prototype=Object.create(rr),Fe},R.awrap=function(Fe){return{__await:Fe}},Hr(Mr.prototype),pt(Mr.prototype,vt,function(){return this}),R.AsyncIterator=Mr,R.async=function(Fe,ke,Le,kt,Pt){Pt===void 0&&(Pt=Promise);var jt=new Mr(pn(Fe,ke,Le,kt),Pt);return R.isGeneratorFunction(ke)?jt:jt.next().then(function(vn){return vn.done?vn.value:jt.next()})},Hr(rr),pt(rr,Et,"Generator"),pt(rr,Ie,function(){return this}),pt(rr,"toString",function(){return"[object Generator]"}),R.keys=function(Fe){var ke=Object(Fe),Le=[];for(var kt in ke)Le.push(kt);return Le.reverse(),function Pt(){for(;Le.length;){var jt=Le.pop();if(jt in ke)return Pt.value=jt,Pt.done=!1,Pt}return Pt.done=!0,Pt}},R.values=$r,Dr.prototype={constructor:Dr,reset:function(ke){if(this.prev=0,this.next=0,this.sent=this._sent=le,this.done=!1,this.delegate=null,this.method="next",this.arg=le,this.tryEntries.forEach(Xr),!ke)for(var Le in this)Le.charAt(0)==="t"&&W.call(this,Le)&&!isNaN(+Le.slice(1))&&(this[Le]=le)},stop:function(){this.done=!0;var ke=this.tryEntries[0].completion;if(ke.type==="throw")throw ke.arg;return this.rval},dispatchException:function(ke){if(this.done)throw ke;var Le=this;function kt(gr,mr){return vn.type="throw",vn.arg=ke,Le.next=gr,mr&&(Le.method="next",Le.arg=le),!!mr}for(var Pt=this.tryEntries.length-1;Pt>=0;--Pt){var jt=this.tryEntries[Pt],vn=jt.completion;if(jt.tryLoc==="root")return kt("end");if(jt.tryLoc<=this.prev){var Sn=W.call(jt,"catchLoc"),Hn=W.call(jt,"finallyLoc");if(Sn&&Hn){if(this.prev<jt.catchLoc)return kt(jt.catchLoc,!0);if(this.prev<jt.finallyLoc)return kt(jt.finallyLoc)}else if(Sn){if(this.prev<jt.catchLoc)return kt(jt.catchLoc,!0)}else{if(!Hn)throw Error("try statement without catch or finally");if(this.prev<jt.finallyLoc)return kt(jt.finallyLoc)}}}},abrupt:function(ke,Le){for(var kt=this.tryEntries.length-1;kt>=0;--kt){var Pt=this.tryEntries[kt];if(Pt.tryLoc<=this.prev&&W.call(Pt,"finallyLoc")&&this.prev<Pt.finallyLoc){var jt=Pt;break}}jt&&(ke==="break"||ke==="continue")&&jt.tryLoc<=Le&&Le<=jt.finallyLoc&&(jt=null);var vn=jt?jt.completion:{};return vn.type=ke,vn.arg=Le,jt?(this.method="next",this.next=jt.finallyLoc,Ln):this.complete(vn)},complete:function(ke,Le){if(ke.type==="throw")throw ke.arg;return ke.type==="break"||ke.type==="continue"?this.next=ke.arg:ke.type==="return"?(this.rval=this.arg=ke.arg,this.method="return",this.next="end"):ke.type==="normal"&&Le&&(this.next=Le),Ln},finish:function(ke){for(var Le=this.tryEntries.length-1;Le>=0;--Le){var kt=this.tryEntries[Le];if(kt.finallyLoc===ke)return this.complete(kt.completion,kt.afterLoc),Xr(kt),Ln}},catch:function(ke){for(var Le=this.tryEntries.length-1;Le>=0;--Le){var kt=this.tryEntries[Le];if(kt.tryLoc===ke){var Pt=kt.completion;if(Pt.type==="throw"){var jt=Pt.arg;Xr(kt)}return jt}}throw Error("illegal catch attempt")},delegateYield:function(ke,Le,kt){return this.delegate={iterator:$r(ke),resultName:Le,nextLoc:kt},this.method==="next"&&(this.arg=le),Ln}},R}var wl=function(){return function(le,R,L){return R&&Ft(le.prototype,R),Object.defineProperty(le,"prototype",{writable:!1}),le}(function le(R,L){(function(W,ne){if(!_instanceof(W,ne))throw new TypeError("Cannot call a class as a function")})(this,le),this.br=R,this.book=L,this.mode2UpLit=new bl(L,R),this.mode2UpLit.flipSpeed=R.flipSpeed,this.$el=xo(this.mode2UpLit).attr("autoFit",this.br.options.twoPage.autofit).addClass("br-mode-2up__root BRmode2up"),this.everShown=!1},[{key:"prepare",value:function(){var R=this,L=this.br.currentIndex();this.br.refs.$brContainer.empty().css({overflow:"hidden"}).append(this.$el),this.mode2UpLit.style.opacity="0",setTimeout(Jt(Os().mark(function W(){return Os().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(R.everShown){ne.next=9;break}return R.mode2UpLit.initFirstRender(L),R.everShown=!0,R.mode2UpLit.requestUpdate(),ne.next=6,R.mode2UpLit.updateComplete;case 6:new ro(R.mode2UpLit,{preventDefault:!0,dragSelector:".br-mode-2up__book",dragstart:"mousedown",dragcontinue:"mousemove",dragend:"mouseup"}),ne.next=12;break;case 9:return ne.next=11,R.mode2UpLit.jumpToIndex(L,{smooth:!1});case 11:R.resizePageView();case 12:R.mode2UpLit.style.opacity="1";case 13:case"end":return ne.stop()}},W)}))),this.br.updateBrClasses()}},{key:"jumpToIndex",value:function(R,L,W,ne){this.mode2UpLit.jumpToIndex(R)}},{key:"zoom",value:function(R){switch(R){case"in":this.mode2UpLit.zoomIn();break;case"out":this.mode2UpLit.zoomOut();break;default:console.error("Unsupported direction: ".concat(R))}}},{key:"resizePageView",value:function(){this.mode2UpLit.htmlDimensionsCacher.updateClientSizes(),this.mode2UpLit.scale<this.mode2UpLit.initialScale&&this.mode2UpLit.autoFit=="none"&&(this.mode2UpLit.autoFit="auto"),this.mode2UpLit.autoFit!="none"&&this.mode2UpLit.resizeViaAutofit(),this.mode2UpLit.recenter()}}])}(),Ci=o(1669);function Lo(le){return Lo=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(L){return typeof L=="undefined"?"undefined":_typeof(L)}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R=="undefined"?"undefined":_typeof(R)},Lo(le)}var nd=function(){return function(le,R,L){return R&&ge(le.prototype,R),Object.defineProperty(le,"prototype",{writable:!1}),le}(function le(R,L){(function(W,ne){if(!_instanceof(W,ne))throw new TypeError("Cannot call a class as a function")})(this,le),this.br=R,this.book=L},[{key:"drawLeafs",value:function(R){var L,W,ne,we=this,Ie=Math.floor,vt=this.book,Et=this.br.refs.$brContainer.prop("scrollWidth")-20,pt=0,pn=0,un=0,jn=0,In=0,An=[],sr=N(vt.pagesIterator({combineConsecutiveUnviewables:!0}));try{for(sr.s();!(ne=sr.n()).done;){var Ln=ne.value,vr=this.br.thumbWidth;pt+(vr+this.br.thumbPadding)>Et&&(jn++,pt=0,In=0),An[jn]||(An[jn]={}),An[jn].leafs||(An[jn].leafs=[],An[jn].height=0,An[jn].top=0),An[jn].leafs[In]={num:Ln.index,left:pt},(L=Ie(Ln.height*this.br.thumbWidth/Ln.width))>An[jn].height&&(An[jn].height=L),In===0&&(pn+=this.br.thumbPadding+An[jn].height),(pt+=vr+this.br.thumbPadding)>un&&(un=pt),In++,Ln.index==R&&(W=pn-this.br.thumbPadding-An[jn].height)}}catch(Ji){sr.e(Ji)}finally{sr.f()}this.br.refs.$brPageViewEl.height(pn);var dr=Ie((this.br.refs.$brContainer.prop("scrollWidth")-un)/2)-14;W!==void 0&&this.br.refs.$brContainer.scrollTop(W);for(var On=this.br.refs.$brContainer.prop("scrollTop"),nr=On+this.br.refs.$brContainer.height(),pr=0,Jn=0,rr=[],Hr=[],Mr=vt.getNumLeafs()-1,hr=0,wr=0;wr<An.length;wr++)An[wr]&&(Jn+=this.br.thumbPadding+An[wr].height,(pr>=On&&pr<=nr||Jn>=On&&Jn<=nr||pr<=On&&Jn>=nr)&&(rr.push(wr),An[wr].leafs[0].num<Mr&&(Mr=An[wr].leafs[0].num),An[wr].leafs[An[wr].leafs.length-1].num>hr&&(hr=An[wr].leafs[An[wr].leafs.length-1].num)),pr>An[wr].top&&(An[wr].top=pr),pr=Jn);for(var Ur=rr[0],Xr=rr[rr.length-1],Dr=1;Dr<this.br.thumbRowBuffer+1;Dr++)Xr+Dr<An.length&&rr.push(Xr+Dr);for(var $r=1;$r<this.br.thumbRowBuffer;$r++)Ur-$r>=0&&rr.push(Ur-$r);rr.sort(function(Ji,So){return Ji-So});for(var Fe=0,ke=rr;Fe<ke.length;Fe++){var Le=ke[Fe];if((0,Me.notInArray)(Le,this.br.displayedRows)){if(!An[Le])continue;var kt,Pt=N(An[Le].leafs);try{var jt=function(){var So=kt.value,Uo=So.num,Bu=So.left,ca=we.br.thumbWidth,_l=Ie(vt.getPageHeight(Uo)*we.br.thumbWidth/vt.getPageWidth(Uo)),za=An[Le].top,Co=Bu+dr;we.br.pageProgression=="rl"&&(Co=Et-ca-Co),Co+=we.br.thumbPadding,Hr.push(Uo);var Ro=Ie(vt.getPageWidth(Uo)/we.br.thumbWidth),rd=2*Math.round(Ro/2),Mi=we.br._createPageContainer(Uo).update({dimensions:{width:ca,height:_l,top:za,left:Co},reduce:rd});Mi.$container.data("leaf",Uo).on("mouseup",function(da){we.br.updateFirstIndex(Uo,{suppressFragmentChange:!0}),we.br.switchMode(we.br.constMode1up,{suppressFragmentChange:!0});var id=we.br.viewModeOrder.shift();we.br.viewModeOrder.push(id),we.br._components.navbar.updateViewModeButton(Ci(".viewmode"),"twopg","Two-page view"),we.br.trigger(Qe.fragmentChange),da.stopPropagation()}),we.br.refs.$brPageViewEl.append(Mi.$container)};for(Pt.s();!(kt=Pt.n()).done;)jt()}catch(Ji){Pt.e(Ji)}finally{Pt.f()}}}var vn,Sn=N(this.br.displayedRows);try{for(Sn.s();!(vn=Sn.n()).done;){var Hn=vn.value;if((0,Me.notInArray)(Hn,rr)){var gr,mr,Yn=N((gr=An[Hn])===null||gr===void 0?void 0:gr.leafs);try{for(Yn.s();!(mr=Yn.n()).done;){var oo,Ba=mr.value.num;Hr!=null&&Hr.includes(Ba)||(oo=this.br.$(".pagediv".concat(Ba)))===null||oo===void 0||oo.remove()}}catch(Ji){Yn.e(Ji)}finally{Yn.f()}}}}catch(Ji){Sn.e(Ji)}finally{Sn.f()}var ua=this.br.currentIndex();ua<Mr?this.br.updateFirstIndex(Mr):ua>hr&&this.br.updateFirstIndex(hr),this.br.displayedRows=rr.slice(),this.br.$(".BRpagedivthumb_highlight").removeClass("BRpagedivthumb_highlight"),this.br.$(".pagediv"+this.br.currentIndex()).addClass("BRpagedivthumb_highlight")}},{key:"lazyLoadImage",value:function(R){var L=Ci(R).data("leaf"),W=Ci(R).data("reduce"),ne=this.br.imageCache.image(L,W),we=Ci(R).parent();Ci(we).append(ne),Ci(R).remove()}},{key:"zoom",value:function(R){var L=this.br.thumbColumns;switch(R){case"in":this.br.thumbColumns-=1;break;case"out":this.br.thumbColumns+=1;break;default:console.error("Unsupported direction: ".concat(R))}this.br.thumbColumns=(0,Me.clamp)(this.br.thumbColumns,this.br.options.thumbMinZoomColumns,this.br.options.thumbMaxZoomColumns),this.br.thumbColumns!=L&&(this.br.displayedRows=[],this.prepare())}},{key:"getThumbnailWidth",value:function(R){var L=(R+1)*this.br.thumbPadding,W=(this.br.refs.$brPageViewEl.width()-L)/(R+.5),ne=Math.floor(W);return ne>0?ne:100}},{key:"prepare",value:function(){this.br.refs.$brContainer.empty(),this.br.refs.$brContainer.css({overflowY:"scroll",overflowX:"auto"}),this.br.refs.$brPageViewEl=Ci("<div class='BRpageview'></div>"),this.br.refs.$brContainer.append(this.br.refs.$brPageViewEl),this.dragScrollable=this.dragScrollable||new ro(this.br.refs.$brContainer[0],{preventDefault:!0}),this.br.bindGestures(this.br.refs.$brContainer),this.br.thumbWidth=this.getThumbnailWidth(this.br.thumbColumns),this.br.reduce=this.book.getPageWidth(0)/this.br.thumbWidth,this.br.displayedRows=[],this.drawLeafs(this.br.currentIndex()),this.br.updateBrClasses()}},{key:"jumpToIndex",value:function(R){for(var L=this,W=Math.floor,ne=this.book,we=this.br.refs.$brContainer.prop("scrollWidth")-20,Ie=this.br.thumbWidth,vt=0,Et=0,pt=0,pn=0,un=0,jn=0;jn<=R;jn++){Et+(Ie+this.br.thumbPadding)>we&&(Et=0,pn=0,un=0);var In=W(ne.getPageHeight(un)*this.br.thumbWidth/ne.getPageWidth(un));In>pn&&(pn=In),un==0&&(vt=pt,pt+=this.br.thumbPadding+pn),Et+=Ie+this.br.thumbPadding,un++}this.br.updateFirstIndex(R),this.br.refs.$brContainer.prop("scrollTop")==vt?this.br.drawLeafs():(this.br.animating=!0,this.br.refs.$brContainer.stop(!0).animate({scrollTop:vt},"fast",function(){L.br.animating=!1}))}}])}(),Ce=(o(1367),{floor:Math.floor,decr:function(R){return R-1}}),T={floor:function(R){return Math.pow(2,Math.floor(Math.log2(Math.max(1,R))))},decr:function(R){return Math.pow(2,Math.log2(R)-1)}},ee={pow2:T,integer:Ce},fe=o(1669);function Se(le){return Se=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(L){return typeof L=="undefined"?"undefined":_typeof(L)}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R=="undefined"?"undefined":_typeof(R)},Se(le)}var Ke=function(){return function(le,R,L){return R&&Z(le.prototype,R),Object.defineProperty(le,"prototype",{writable:!1}),le}(function le(R){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=L.useSrcSet,ne=W!==void 0&&W,we=L.reduceSet,Ie=we===void 0?T:we;(function(vt,Et){if(!_instanceof(vt,Et))throw new TypeError("Cannot call a class as a function")})(this,le),this.book=R,this.useSrcSet=ne,this.reduceSet=Ie,this.cache={},this.defaultScale=8},[{key:"image",value:function(R,L){var W=(this.cache[R]||[]).filter(function(we){return we.loaded&&we.reduce<=L});if(W.length){var ne=Math.max.apply(Math,G(W.map(function(we){return we.reduce})));return this._serveImageElement(R,ne)}return this._serveImageElement(R,L)}},{key:"imageLoaded",value:function(R,L){var W,ne,we=(W=this.cache[R])===null||W===void 0?void 0:W.find(function(Ie){return Ie.reduce<=L});return(ne=we==null?void 0:we.loaded)!==null&&ne!==void 0&&ne}},{key:"getBestLoadedReduce",value:function(R){var L,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,ne=((L=this.cache[R])===null||L===void 0?void 0:L.filter(function(vt){return vt.loaded}))||[];if(!ne.length)return null;var we=ne.filter(function(vt){return vt.reduce>=W});if(we.length)return Math.min.apply(Math,G(we.map(function(vt){return vt.reduce})));var Ie=ne.filter(function(vt){return vt.reduce<W});return Math.max.apply(Math,G(Ie.map(function(vt){return vt.reduce})))}},{key:"_serveImageElement",value:function(R,L){var W,ne=this.reduceSet.floor(L),we=(W=this.cache[R])===null||W===void 0?void 0:W.find(function(Et){return Et.reduce==ne});we||(we={reduce:ne,loaded:!1},(this.cache[R]||(this.cache[R]=[])).push(we));var Ie=this.book.getPage(R),vt=fe("<img />",{class:"BRpageimage",alt:"Book page image",src:Ie.getURI(ne,0)}).data("reduce",ne);return this.useSrcSet&&vt.attr("srcset",Ie.getURISrcSet(ne)),we.loaded||vt.one("load",function(){return we.loaded=!0}),vt}}])}(),Je=o(1774),dt=o(1669),Rt=o(1669);function Dt(le){return Dt=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(L){return typeof L=="undefined"?"undefined":_typeof(L)}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R=="undefined"?"undefined":_typeof(R)},Dt(le)}function dn(){dn=function(){return R};var le,R={},L=Object.prototype,W=L.hasOwnProperty,ne=Object.defineProperty||function(Fe,ke,Le){Fe[ke]=Le.value},we=typeof Symbol=="function"?Symbol:{},Ie=we.iterator||"@@iterator",vt=we.asyncIterator||"@@asyncIterator",Et=we.toStringTag||"@@toStringTag";function pt(Fe,ke,Le){return Object.defineProperty(Fe,ke,{value:Le,enumerable:!0,configurable:!0,writable:!0}),Fe[ke]}try{pt({},"")}catch(Fe){pt=function(Le,kt,Pt){return Le[kt]=Pt}}function pn(Fe,ke,Le,kt){var Pt=ke&&_instanceof(ke.prototype,vr)?ke:vr,jt=Object.create(Pt.prototype),vn=new Dr(kt||[]);return ne(jt,"_invoke",{value:hr(Fe,Le,vn)}),jt}function un(Fe,ke,Le){try{return{type:"normal",arg:Fe.call(ke,Le)}}catch(kt){return{type:"throw",arg:kt}}}R.wrap=pn;var jn="suspendedStart",In="suspendedYield",An="executing",sr="completed",Ln={};function vr(){}function dr(){}function On(){}var nr={};pt(nr,Ie,function(){return this});var pr=Object.getPrototypeOf,Jn=pr&&pr(pr($r([])));Jn&&Jn!==L&&W.call(Jn,Ie)&&(nr=Jn);var rr=On.prototype=vr.prototype=Object.create(nr);function Hr(Fe){["next","throw","return"].forEach(function(ke){pt(Fe,ke,function(Le){return this._invoke(ke,Le)})})}function Mr(Fe,ke){function Le(Pt,jt,vn,Sn){var Hn=un(Fe[Pt],Fe,jt);if(Hn.type!=="throw"){var gr=Hn.arg,mr=gr.value;return mr&&Dt(mr)=="object"&&W.call(mr,"__await")?ke.resolve(mr.__await).then(function(Yn){Le("next",Yn,vn,Sn)},function(Yn){Le("throw",Yn,vn,Sn)}):ke.resolve(mr).then(function(Yn){gr.value=Yn,vn(gr)},function(Yn){return Le("throw",Yn,vn,Sn)})}Sn(Hn.arg)}var kt;ne(this,"_invoke",{value:function(jt,vn){function Sn(){return new ke(function(Hn,gr){Le(jt,vn,Hn,gr)})}return kt=kt?kt.then(Sn,Sn):Sn()}})}function hr(Fe,ke,Le){var kt=jn;return function(Pt,jt){if(kt===An)throw Error("Generator is already running");if(kt===sr){if(Pt==="throw")throw jt;return{value:le,done:!0}}for(Le.method=Pt,Le.arg=jt;;){var vn=Le.delegate;if(vn){var Sn=wr(vn,Le);if(Sn){if(Sn===Ln)continue;return Sn}}if(Le.method==="next")Le.sent=Le._sent=Le.arg;else if(Le.method==="throw"){if(kt===jn)throw kt=sr,Le.arg;Le.dispatchException(Le.arg)}else Le.method==="return"&&Le.abrupt("return",Le.arg);kt=An;var Hn=un(Fe,ke,Le);if(Hn.type==="normal"){if(kt=Le.done?sr:In,Hn.arg===Ln)continue;return{value:Hn.arg,done:Le.done}}Hn.type==="throw"&&(kt=sr,Le.method="throw",Le.arg=Hn.arg)}}}function wr(Fe,ke){var Le=ke.method,kt=Fe.iterator[Le];if(kt===le)return ke.delegate=null,Le==="throw"&&Fe.iterator.return&&(ke.method="return",ke.arg=le,wr(Fe,ke),ke.method==="throw")||Le!=="return"&&(ke.method="throw",ke.arg=new TypeError("The iterator does not provide a '"+Le+"' method")),Ln;var Pt=un(kt,Fe.iterator,ke.arg);if(Pt.type==="throw")return ke.method="throw",ke.arg=Pt.arg,ke.delegate=null,Ln;var jt=Pt.arg;return jt?jt.done?(ke[Fe.resultName]=jt.value,ke.next=Fe.nextLoc,ke.method!=="return"&&(ke.method="next",ke.arg=le),ke.delegate=null,Ln):jt:(ke.method="throw",ke.arg=new TypeError("iterator result is not an object"),ke.delegate=null,Ln)}function Ur(Fe){var ke={tryLoc:Fe[0]};1 in Fe&&(ke.catchLoc=Fe[1]),2 in Fe&&(ke.finallyLoc=Fe[2],ke.afterLoc=Fe[3]),this.tryEntries.push(ke)}function Xr(Fe){var ke=Fe.completion||{};ke.type="normal",delete ke.arg,Fe.completion=ke}function Dr(Fe){this.tryEntries=[{tryLoc:"root"}],Fe.forEach(Ur,this),this.reset(!0)}function $r(Fe){if(Fe||Fe===""){var ke=Fe[Ie];if(ke)return ke.call(Fe);if(typeof Fe.next=="function")return Fe;if(!isNaN(Fe.length)){var Le=-1,kt=function Pt(){for(;++Le<Fe.length;)if(W.call(Fe,Le))return Pt.value=Fe[Le],Pt.done=!1,Pt;return Pt.value=le,Pt.done=!0,Pt};return kt.next=kt}}throw new TypeError(Dt(Fe)+" is not iterable")}return dr.prototype=On,ne(rr,"constructor",{value:On,configurable:!0}),ne(On,"constructor",{value:dr,configurable:!0}),dr.displayName=pt(On,Et,"GeneratorFunction"),R.isGeneratorFunction=function(Fe){var ke=typeof Fe=="function"&&Fe.constructor;return!!ke&&(ke===dr||(ke.displayName||ke.name)==="GeneratorFunction")},R.mark=function(Fe){return Object.setPrototypeOf?Object.setPrototypeOf(Fe,On):(Fe.__proto__=On,pt(Fe,Et,"GeneratorFunction")),Fe.prototype=Object.create(rr),Fe},R.awrap=function(Fe){return{__await:Fe}},Hr(Mr.prototype),pt(Mr.prototype,vt,function(){return this}),R.AsyncIterator=Mr,R.async=function(Fe,ke,Le,kt,Pt){Pt===void 0&&(Pt=Promise);var jt=new Mr(pn(Fe,ke,Le,kt),Pt);return R.isGeneratorFunction(ke)?jt:jt.next().then(function(vn){return vn.done?vn.value:jt.next()})},Hr(rr),pt(rr,Et,"Generator"),pt(rr,Ie,function(){return this}),pt(rr,"toString",function(){return"[object Generator]"}),R.keys=function(Fe){var ke=Object(Fe),Le=[];for(var kt in ke)Le.push(kt);return Le.reverse(),function Pt(){for(;Le.length;){var jt=Le.pop();if(jt in ke)return Pt.value=jt,Pt.done=!1,Pt}return Pt.done=!0,Pt}},R.values=$r,Dr.prototype={constructor:Dr,reset:function(ke){if(this.prev=0,this.next=0,this.sent=this._sent=le,this.done=!1,this.delegate=null,this.method="next",this.arg=le,this.tryEntries.forEach(Xr),!ke)for(var Le in this)Le.charAt(0)==="t"&&W.call(this,Le)&&!isNaN(+Le.slice(1))&&(this[Le]=le)},stop:function(){this.done=!0;var ke=this.tryEntries[0].completion;if(ke.type==="throw")throw ke.arg;return this.rval},dispatchException:function(ke){if(this.done)throw ke;var Le=this;function kt(gr,mr){return vn.type="throw",vn.arg=ke,Le.next=gr,mr&&(Le.method="next",Le.arg=le),!!mr}for(var Pt=this.tryEntries.length-1;Pt>=0;--Pt){var jt=this.tryEntries[Pt],vn=jt.completion;if(jt.tryLoc==="root")return kt("end");if(jt.tryLoc<=this.prev){var Sn=W.call(jt,"catchLoc"),Hn=W.call(jt,"finallyLoc");if(Sn&&Hn){if(this.prev<jt.catchLoc)return kt(jt.catchLoc,!0);if(this.prev<jt.finallyLoc)return kt(jt.finallyLoc)}else if(Sn){if(this.prev<jt.catchLoc)return kt(jt.catchLoc,!0)}else{if(!Hn)throw Error("try statement without catch or finally");if(this.prev<jt.finallyLoc)return kt(jt.finallyLoc)}}}},abrupt:function(ke,Le){for(var kt=this.tryEntries.length-1;kt>=0;--kt){var Pt=this.tryEntries[kt];if(Pt.tryLoc<=this.prev&&W.call(Pt,"finallyLoc")&&this.prev<Pt.finallyLoc){var jt=Pt;break}}jt&&(ke==="break"||ke==="continue")&&jt.tryLoc<=Le&&Le<=jt.finallyLoc&&(jt=null);var vn=jt?jt.completion:{};return vn.type=ke,vn.arg=Le,jt?(this.method="next",this.next=jt.finallyLoc,Ln):this.complete(vn)},complete:function(ke,Le){if(ke.type==="throw")throw ke.arg;return ke.type==="break"||ke.type==="continue"?this.next=ke.arg:ke.type==="return"?(this.rval=this.arg=ke.arg,this.method="return",this.next="end"):ke.type==="normal"&&Le&&(this.next=Le),Ln},finish:function(ke){for(var Le=this.tryEntries.length-1;Le>=0;--Le){var kt=this.tryEntries[Le];if(kt.finallyLoc===ke)return this.complete(kt.completion,kt.afterLoc),Xr(kt),Ln}},catch:function(ke){for(var Le=this.tryEntries.length-1;Le>=0;--Le){var kt=this.tryEntries[Le];if(kt.tryLoc===ke){var Pt=kt.completion;if(Pt.type==="throw"){var jt=Pt.arg;Xr(kt)}return jt}}throw Error("illegal catch attempt")},delegateYield:function(ke,Le,kt){return this.delegate={iterator:$r(ke),resultName:Le,nextLoc:kt},this.method==="next"&&(this.arg=le),Ln}},R}function Nt(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=dt.extend(!0,{},Nt.defaultOptions,le,Nt.optionOverrides);this.setup(R)}Nt.version="5.0.0-82",Nt.constMode1up=1,Nt.constMode2up=2,Nt.constModeThumb=3,Nt.imageCache=null,Nt.constNavAnimationDuration=300,Nt.constResizeAnimationDuration=100,Nt.eventNames=Qe,Nt.defaultOptions=It,Nt.optionOverrides={},Nt.prototype.setup=function(le){this.options=le,this.numLeafs=void 0,this.enableSearch=!1,this.viewModeOrder=[],this.suppressFragmentChange=!1,this.animationFinishedCallback=null,this.constMode1up=Nt.constMode1up,this.constMode2up=Nt.constMode2up,this.constModeThumb=Nt.constModeThumb,this.reduce=8,this.defaults=le.defaults,this.padding=le.padding,this.reduceSet=ee[le.reduceSet],this.reduceSet||(console.warn("Invalid reduceSet ".concat(le.reduceSet,". Ignoring.")),this.reduceSet=ee[It.reduceSet]),this.mode=null,this.prevReadMode=null,this.ui=le.ui,this.uiAutoHide=le.uiAutoHide,this.thumbWidth=100,this.thumbRowBuffer=le.thumbRowBuffer,this.thumbColumns=le.thumbColumns,this.thumbMaxLoading=le.thumbMaxLoading,this.thumbPadding=le.thumbPadding,this.displayedRows=[],this.displayedIndices=[],this.animating=!1,this.flipSpeed=typeof le.flipSpeed=="number"?le.flipSpeed:{fast:200,slow:600}[le.flipSpeed]||400,this.flipDelay=le.flipDelay,this.firstIndex=null,this.isFullscreenActive=le.startFullscreen||!1,this.lastScroll=null,this.showLogo=le.showLogo,this.logoURL=le.logoURL,this.imagesBaseURL=le.imagesBaseURL,this.reductionFactors=le.reductionFactors,this.onePage=le.onePage,this.twoPage=le.twoPage,this.onePageMinBreakpoint=le.onePageMinBreakpoint,this.bookTitle=le.bookTitle,this.bookUrl=le.bookUrl,this.bookUrlText=le.bookUrlText,this.bookUrlTitle=le.bookUrlTitle,this.titleLeaf=le.titleLeaf,this.metadata=le.metadata,this.thumbnail=le.thumbnail,this.bookUrlMoreInfo=le.bookUrlMoreInfo,this.enableExperimentalControls=le.enableExperimentalControls,this.el=le.el,this.pageProgression=le.pageProgression,this.protected=le.protected,this.getEmbedCode=le.getEmbedCode,this.popup=null,this.data=le.data,this.refs={},this.book=new Qn(this),le.getNumLeafs&&(this.book.getNumLeafs=le.getNumLeafs.bind(this)),le.getPageWidth&&(this.book.getPageWidth=le.getPageWidth.bind(this)),le.getPageHeight&&(this.book.getPageHeight=le.getPageHeight.bind(this)),le.getPageURI&&(this.book.getPageURI=le.getPageURI.bind(this)),le.getPageSide&&(this.book.getPageSide=le.getPageSide.bind(this)),le.getPageNum&&(this.book.getPageNum=le.getPageNum.bind(this)),le.getPageProp&&(this.book.getPageProp=le.getPageProp.bind(this)),le.getSpreadIndices&&(this.book.getSpreadIndices=le.getSpreadIndices.bind(this)),le.leafNumToIndex&&(this.book.leafNumToIndex=le.leafNumToIndex.bind(this)),this._components={navbar:new $t(this),toolbar:new Xt(this)},this._modes={mode1Up:new _o(this,this.book),mode2Up:new wl(this,this.book),modeThumb:new nd(this,this.book)},this._overrideable={book:this.book,"_components.navbar":this._components.navbar,"_components.toolbar":this._components.toolbar,"_modes.mode1Up":this._modes.mode1Up,"_modes.mode2Up":this._modes.mode2Up,"_modes.modeThumb":this._modes.modeThumb},this.imageCache=new Ke(this.book,{useSrcSet:this.options.useSrcSet,reduceSet:this.reduceSet}),this.hasKeyFocus=!0},Nt.prototype.getActivePageContainerElements=function(){var le=Object.values(this._modes.mode2Up.mode2UpLit.pageContainerCache).map(function(R){return R.$container[0]}).concat(Object.values(this._modes.mode1Up.mode1UpLit.pageContainerCache).map(function(R){return R.$container[0]}));return this.mode==this.constModeThumb&&(le=le.concat(this.$(".BRpagecontainer").toArray())),le},Nt.prototype.getActivePageContainerElementsForIndex=function(le){var R,L,W;return[(R=this._modes.mode2Up.mode2UpLit.pageContainerCache[le])===null||R===void 0||(R=R.$container)===null||R===void 0?void 0:R[0],(L=this._modes.mode1Up.mode1UpLit.pageContainerCache[le])===null||L===void 0||(L=L.$container)===null||L===void 0?void 0:L[0]].concat((W=this.mode==this.constModeThumb?this.$(".pagediv".concat(le)).toArray():[],function(ne){if(Array.isArray(ne))return Pe(ne)}(W)||function(ne){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&ne[Symbol.iterator]!=null||ne["@@iterator"]!=null)return Array.from(ne)}(W)||function(ne,we){if(ne){if(typeof ne=="string")return Pe(ne,we);var Ie={}.toString.call(ne).slice(8,-1);return Ie==="Object"&&ne.constructor&&(Ie=ne.constructor.name),Ie==="Map"||Ie==="Set"?Array.from(ne):Ie==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ie)?Pe(ne,we):void 0}}(W)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).filter(function(ne){return ne})},Object.defineProperty(Nt.prototype,"activeMode",{get:function(){return{1:this._modes.mode1Up,2:this._modes.mode2Up,3:this._modes.modeThumb}[this.mode]}}),Nt.util=Me,Nt.prototype.extendParams=function(le,R){var L=Rt.extend({},R);if(L.page!==void 0){var W=this.book.parsePageString(L.page);isNaN(W)||(L.index=W),delete L.page}Rt.extend(le,L)},Nt.prototype.initParams=function(){var le={init:!0,pageFound:!1,fragmentChange:!1};if(this.titleLeaf!==void 0&&this.book.getNumLeafs()>2?le.index=this.book.leafNumToIndex(this.titleLeaf):le.index=0,this.defaults){var R=this.paramsFromFragment(this.defaults);R.page!==void 0&&(le.pageFound=!0),this.extendParams(le,R)}if(this.options.enablePageResume){var L=this.getResumeValue();L!==null&&(le.index!==L&&(le.fragmentChange=!0),le.index=L)}if(this.options.enableUrlPlugin){var W=this.paramsFromFragment(this.urlReadFragment());!Object.keys(W).length&&this.urlReadHashFragment()&&this.options.urlMode==="history"&&(W=this.paramsFromFragment(this.urlReadHashFragment())),Object.keys(W).length&&(W.page!==void 0&&(le.pageFound=!0),this.extendParams(le,W),le.fragmentChange=!0)}if(this.options.enableSearch&&(this.options.goToFirstResult=!le.pageFound,!this.options.initialSearchTerm))if(le.search)this.options.initialSearchTerm=le.search,this.searchTerm=le.search;else{var ne=new URLSearchParams(this.readQueryString()).get("q");ne&&(this.options.initialSearchTerm=Me.decodeURIComponentPlus(ne))}return this.suppressFragmentChange=!le.fragmentChange,le},Nt.prototype.getLocationSearch=function(){return window.location.search},Nt.prototype.getLocationHash=function(){return window.location.hash},Nt.prototype.readQueryString=function(){var le=this.getLocationSearch();if(le)return le;var R=this.getLocationHash(),L=R.search(/\?\w+=/);return L>-1?R.slice(L):""},Nt.prototype.getInitialMode=function(le){var R,L=Rt(window).width(),W=L&&L<=this.onePageMinBreakpoint;if(R=le.mode?le.mode:W?this.constMode1up:this.constMode2up,this.canSwitchToMode(R)||(R=this.constMode1up),this.options.defaults)try{R=function(ne){var we={"mode/1up":1,"mode/2up":2,"mode/thumb":3};if(!(ne in we))throw new nn("Invalid mode string: ".concat(ne));return we[ne]}(this.options.defaults)}catch(ne){}return R},Nt.prototype.init=function(){this.init.initComplete=!1,this.pageScale=this.reduce;var le=this.initParams();this.firstIndex=le.index?le.index:0,this.isTouchDevice="ontouchstart"in window||"msmaxtouchpoints"in window.navigator,this.refs.$br=Rt(this.el).empty().removeClass().addClass("ui-"+this.ui).addClass("br-ui-"+this.ui).addClass("BookReader"),this.isTouchDevice?this.refs.$br.addClass("touch"):this.refs.$br.addClass("no-touch"),this.refs.$brContainer=Rt("<div class='BRcontainer' dir='ltr'></div>"),this.refs.$br.append(this.refs.$brContainer),le.mode=this.getInitialMode(le),this.mode=le.mode,this.options.showToolbar&&this.initToolbar(this.mode,this.ui),this.options.showNavbar&&this.initNavbar(),this._components.navbar.switchNavbarControls(),this.resizeBRcontainer(),this.updateFromParams(le),this.initUIStrings(),this.bindNavigationHandlers(),this.setupKeyListeners(),this.lastScroll=new Date().getTime(),this.refs.$brContainer.on("scroll",this,function(R){R.data.lastScroll=new Date().getTime(),R.data.constModeThumb==R.data.mode&&R.data.drawLeafsThrottled()}),this.options.autoResize&&(Rt(window).on("resize",this,function(R){R.data.resize()}),Rt(window).on("orientationchange",this,function(R){R.data.resize()}.bind(this))),this.protected&&this.$(".BRicon.share").hide(),this.options.initialSearchTerm||(this.suppressFragmentChange=!1),this.options.startFullscreen&&this.enterFullscreen(!0),this.init.initComplete=!0,this.trigger(Nt.eventNames.PostInit)},Nt.prototype.trigger=function(le){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,L="BookReader:"+le;Me.polyfillCustomEvent(window),window.dispatchEvent(new CustomEvent(L,{bubbles:!0,composed:!0,detail:{props:R}})),Rt(document).trigger(L,R)},Nt.prototype.bind=function(le,R){Rt(document).on("BookReader:"+le,R)},Nt.prototype.unbind=function(le,R){Rt(document).off("BookReader:"+le,R)},Nt.prototype.resize=function(){this.init.initComplete&&(this.resizeBRcontainer(),this._components.navbar.switchNavbarControls(),this.constMode1up==this.mode?this.onePage.autofit!="none"?(this._modes.mode1Up.resizePageView(),this.centerPageView()):(this.centerPageView(),this.displayedIndices=[],this.drawLeafsThrottled()):this.constModeThumb==this.mode?this._modes.modeThumb.prepare():this._modes.mode2Up.resizePageView(),this.trigger(Nt.eventNames.resize))},Nt.prototype.setupKeyListeners=function(){var le=this;window.IntersectionObserver&&new IntersectionObserver(function(R){R.forEach(function(L){L.intersectionRatio===0?le.hasKeyFocus=!1:le.hasKeyFocus=!0})},{root:null,rootMargin:"0px",threshold:[0,.05,1]}).observe(this.refs.$br[0]),document.addEventListener("keydown",function(R){if(le.hasKeyFocus&&!(R.getModifierState("Control")||R.getModifierState("Alt")||R.getModifierState("Meta")||R.getModifierState("Win")||Me.isInputActive()))switch(R.key){case"Home":R.preventDefault(),le.first();break;case"End":R.preventDefault(),le.last();break;case"ArrowDown":case"PageDown":case"Down":le.constMode2up===le.mode&&(R.preventDefault(),le.next());break;case"ArrowUp":case"PageUp":case"Up":le.constMode2up===le.mode&&(R.preventDefault(),le.prev());break;case"ArrowLeft":case"Left":le.constModeThumb!=le.mode&&(R.preventDefault(),le.left());break;case"ArrowRight":case"Right":le.constModeThumb!=le.mode&&(R.preventDefault(),le.right());break;case"-":case"Subtract":R.preventDefault(),le.zoom(-1);break;case"+":case"=":case"Add":R.preventDefault(),le.zoom(1);break;case"F":case"f":R.preventDefault(),le.toggleFullscreen()}})},Nt.prototype.drawLeafs=function(){this.constMode1up!=this.mode&&this.activeMode.drawLeafs()},Nt.prototype._createPageContainer=function(le){return new Je.LN(this.book.getPage(le,!1),{isProtected:this.protected,imageCache:this.imageCache,loadingImage:this.imagesBaseURL+"loading.gif"})},Nt.prototype.bindGestures=function(le){var R=this,L=1;le.unbind("touchmove").bind("touchmove",function(W){W.originalEvent.cancelable&&(L=W.originalEvent.touches.length),W.stopPropagation()}),le.unbind("gesturechange").bind("gesturechange",function(W){W.preventDefault(),L!==2||new Date().getTime()-R.lastScroll<500||(W.originalEvent.scale>1.5?R.zoom(1):W.originalEvent.scale<.6&&R.zoom(-1))})},Nt.prototype.drawLeafsThrottled=Me.throttle(Nt.prototype.drawLeafs,250),Nt.prototype.zoom=function(le){var R;le==1?this.activeMode.zoom("in"):this.activeMode.zoom("out"),(R=this.textSelectionPlugin)===null||R===void 0||R.stopPageFlip(this.refs.$brContainer)},Nt.prototype.resizeBRcontainer=function(le){le?this.refs.$brContainer.animate({top:this.getToolBarHeight(),bottom:this.getFooterHeight()},this.constResizeAnimationDuration,"linear"):this.refs.$brContainer.css({top:this.getToolBarHeight(),bottom:this.getFooterHeight()})},Nt.prototype.centerPageView=function(){var le=this.refs.$brContainer.prop("scrollWidth"),R=this.refs.$brContainer.prop("clientWidth");le>R&&this.refs.$brContainer.prop("scrollLeft",(le-R)/2)},Nt.prototype.quantizeReduce=function(le,R){for(var L=R[0].reduce,W=Math.abs(le-L),ne=1;ne<R.length;ne++){var we=Math.abs(le-R[ne].reduce);we<W&&(W=we,L=R[ne].reduce)}return L},Nt.prototype.nextReduce=function(le,R,L){if(R==="in"){for(var W=0,ne=1;ne<L.length;ne++)L[ne].reduce<le&&(W=ne);return L[W]}if(R==="out"){for(var we=L.length-1,Ie=we,vt=we;vt>=0;vt--)L[vt].reduce>le&&(Ie=vt);return L[Ie]}if(R==="auto"){var Et=L.find(function(In){return In.autofit=="auto"});if(Et)return Et;for(var pt=L.filter(function(In){var An=In.autofit;return An=="height"||An=="width"}),pn=null,un=0;un<pt.length;un++)(pn===null||pn.reduce<pt[un].reduce)&&(pn=pt[un]);if(pn)return pn}else if(R==="height"||R==="width"){var jn=L.find(function(In){return In.autofit==R});if(jn)return jn}return L[0]},Nt.prototype._reduceSort=function(le,R){return le.reduce-R.reduce},Nt.prototype.jumpToPage=function(le){var R=this.book.parsePageString(le);return R!==void 0&&(this.jumpToIndex(R),!0)},Nt.prototype._isIndexDisplayed=function(le){return this.displayedIndices?this.displayedIndices.includes(le):this.currentIndex()==le},Nt.prototype.jumpToIndex=function(le,R,L,W){var ne=this.book.getPage(le);if(!ne.isViewable&&ne.unviewablesStart!=ne.index){var we=this._isIndexDisplayed(ne.unviewablesStart)?ne.findNext({combineConsecutiveUnviewables:!0}).index:ne.unviewablesStart;return this.jumpToIndex(we,R,L,W)}this.trigger(Nt.eventNames.stop),this.activeMode.jumpToIndex(le,R,L,W)},Nt.prototype.getPrevReadMode=function(le){return le===Nt.constMode1up||le===Nt.constMode2up?le:this.prevReadMode===null?Nt.constMode1up:void 0},Nt.prototype.switchMode=function(le){var R,L,W,ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},we=ne.suppressFragmentChange,Ie=we!==void 0&&we;if(ne.init,ne.pageFound,!(this.init.initComplete&&(le===this.mode||!this.canSwitchToMode(le)))){this.trigger(Nt.eventNames.stop),this.prevReadMode=this.getPrevReadMode(this.mode),this.mode!=le&&((L=(W=this.activeMode).unprepare)===null||L===void 0||L.call(W)),this.mode=le,this.pageScale!==this.reduce&&(this.reduce=this.pageScale),this.constMode1up==le?this._modes.mode1Up.prepare():this.constModeThumb==le?(this.reduce=this.quantizeReduce(this.reduce,this.reductionFactors),this._modes.modeThumb.prepare()):this._modes.mode2Up.prepare(),this.suppressFragmentChange||Ie||this.trigger(Nt.eventNames.fragmentChange);var vt=le+"PageViewSelected";this.trigger(Nt.eventNames[vt]),(R=this.textSelectionPlugin)===null||R===void 0||R.stopPageFlip(this.refs.$brContainer)}},Nt.prototype.updateBrClasses=function(){var le={};le[this.constMode1up]="BRmode1up",le[this.constMode2up]="BRmode2up",le[this.constModeThumb]="BRmodeThumb",this.refs.$br.removeClass("BRmode1up BRmode2up BRmodeThumb").addClass(le[this.mode]),this.isFullscreen()?(this.refs.$br.addClass("fullscreenActive"),Rt(document.body).addClass("BRfullscreenActive")):(this.refs.$br.removeClass("fullscreenActive"),Rt(document.body).removeClass("BRfullscreenActive"))},Nt.prototype.isFullscreen=function(){return this.isFullscreenActive},Nt.prototype.toggleFullscreen=Oe(dn().mark(function le(){var R,L=arguments;return dn().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(R=!(L.length>0&&L[0]!==void 0)||L[0],!this.isFullscreen()){W.next=6;break}return W.next=4,this.exitFullScreen();case 4:W.next=8;break;case 6:return W.next=8,this.enterFullscreen(R);case 8:case"end":return W.stop()}},le,this)})),Nt.prototype.enterFullscreen=Oe(dn().mark(function le(){var R,L,W,ne=this,we=arguments;return dn().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(L=!(we.length>0&&we[0]!==void 0)||we[0],this.refs.$br.addClass("BRfullscreenAnimation"),W=this.currentIndex(),L&&(this._fullscreenCloseHandler=function(vt){vt.keyCode===27&&ne.toggleFullscreen()},Rt(document).on("keyup",this._fullscreenCloseHandler)),Rt(window).width()<=this.onePageMinBreakpoint&&this.switchMode(this.constMode1up),this.isFullscreenActive=!0,this.updateBrClasses(),!_instanceof(this.activeMode,_o)){Ie.next=13;break}return this.activeMode.mode1UpLit.scale=this.activeMode.mode1UpLit.computeDefaultScale(this.book.getPage(W)),this.activeMode.mode1UpLit.requestUpdate(),Ie.next=13,this.activeMode.mode1UpLit.updateComplete;case 13:return this.jumpToIndex(W),(R=this.textSelectionPlugin)===null||R===void 0||R.stopPageFlip(this.refs.$brContainer),this.trigger(Nt.eventNames.fragmentChange),this.trigger(Nt.eventNames.fullscreenToggled),Ie.next=19,new Promise(function(vt){return setTimeout(vt,0)});case 19:this.resize(),this.refs.$br.removeClass("BRfullscreenAnimation");case 21:case"end":return Ie.stop()}},le,this)})),Nt.prototype.exitFullScreen=Oe(dn().mark(function le(){var R,L;return dn().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return this.refs.$br.addClass("BRfullscreenAnimation"),Rt(document).off("keyup",this._fullscreenCloseHandler),L=Rt(window).width(),this.options.controls.twoPage.visible&&L<=this.onePageMinBreakpoint&&this.switchMode(this.constMode2up),this.isFullscreenActive=!1,this.trigger(Nt.eventNames.fullscreenToggled),this.updateBrClasses(),W.next=10,new Promise(function(ne){return setTimeout(ne,0)});case 10:if(this.resize(),!_instanceof(this.activeMode,_o)){W.next=16;break}return this.activeMode.mode1UpLit.scale=this.activeMode.mode1UpLit.computeDefaultScale(this.book.getPage(this.currentIndex())),this.activeMode.mode1UpLit.requestUpdate(),W.next=16,this.activeMode.mode1UpLit.updateComplete;case 16:(R=this.textSelectionPlugin)===null||R===void 0||R.stopPageFlip(this.refs.$brContainer),this.trigger(Nt.eventNames.fragmentChange),this.refs.$br.removeClass("BRfullscreenAnimation");case 19:case"end":return W.stop()}},le,this)})),Nt.prototype.currentIndex=function(){if(this.mode==this.constMode1up||this.mode==this.constModeThumb)return this.firstIndex;if(this.mode==this.constMode2up)return Me.clamp(this.firstIndex,0,this.book.getNumLeafs()-1);throw"currentIndex called for unimplemented mode "+this.mode},Nt.prototype.updateFirstIndex=function(le){var R=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).suppressFragmentChange,L=R!==void 0&&R;this.firstIndex!==le&&(this.firstIndex=le,this.suppressFragmentChange||L||this.trigger(Nt.eventNames.fragmentChange),this.options.initialSearchTerm&&!L&&(this.suppressFragmentChange=!1),this.trigger(Nt.eventNames.pageChanged),this.trigger(Nt.eventNames.userAction),this._components.navbar.updateNavIndexThrottled(le))},Nt.prototype.right=function(){this.pageProgression!="rl"?this.next():this.prev()},Nt.prototype.rightmost=function(){this.pageProgression!="rl"?this.last():this.first()},Nt.prototype.left=function(){this.pageProgression!="rl"?this.prev():this.next()},Nt.prototype.leftmost=function(){this.pageProgression!="rl"?this.first():this.last()},Nt.prototype.next=function(){var le=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).triggerStop,R=le===void 0||le;this.constMode2up==this.mode?(R&&this.trigger(Nt.eventNames.stop),this._modes.mode2Up.mode2UpLit.flipAnimation("next")):this.firstIndex<this.book.getNumLeafs()-1&&this.jumpToIndex(this.firstIndex+1)},Nt.prototype.prev=function(){var le=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).triggerStop,R=le===void 0||le;this.firstIndex<1||(this.constMode2up==this.mode?(R&&this.trigger(Nt.eventNames.stop),this._modes.mode2Up.mode2UpLit.flipAnimation("prev")):this.firstIndex>=1&&this.jumpToIndex(this.firstIndex-1))},Nt.prototype.first=function(){this.jumpToIndex(0)},Nt.prototype.last=function(){this.jumpToIndex(this.book.getNumLeafs()-1)},Nt.prototype.initNavbar=$t.prototype.init,Xe($t,"_components.navbar","init","initNavbar"),Nt.prototype.buildToolbarElement=Xt.prototype.buildToolbarElement,Xe(Xt,"_components.toolbar","buildToolbarElement"),Nt.prototype.initToolbar=Xt.prototype.initToolbar,Xe(Xt,"_components.toolbar","initToolbar"),Nt.prototype.buildShareDiv=Xt.prototype.buildShareDiv,Xe(Xt,"_components.toolbar","buildShareDiv"),Nt.prototype.buildInfoDiv=Xt.prototype.buildInfoDiv,Xe(Xt,"_components.toolbar","buildInfoDiv"),Nt.prototype.getToolBarHeight=Xt.prototype.getToolBarHeight,Xe(Xt,"_components.toolbar","getToolBarHeight"),Nt.prototype.bindNavigationHandlers=function(){var le=this,R=this,L=this.$(".BRicon"),W={book_left:function(){le.trigger(Nt.eventNames.stop),le.left()},book_right:function(){le.trigger(Nt.eventNames.stop),le.right()},book_top:this.first.bind(this),book_bottom:this.last.bind(this),book_leftmost:this.leftmost.bind(this),book_rightmost:this.rightmost.bind(this),onepg:function(){le.switchMode(R.constMode1up)},thumb:function(){le.switchMode(R.constModeThumb)},twopg:function(){le.switchMode(R.constMode2up)},zoom_in:function(){le.trigger(Nt.eventNames.stop),le.zoom(1),le.trigger(Nt.eventNames.zoomIn)},zoom_out:function(){le.trigger(Nt.eventNames.stop),le.zoom(-1),le.trigger(Nt.eventNames.zoomOut)},full:function(){if(le.ui=="embed"){var pt=le.$(".BRembedreturn a").attr("href");window.open(pt)}else le.toggleFullscreen()}};this.$("nav.BRcontrols li button").on("click",function(){le.trigger(Nt.eventNames.userAction)});var ne=function(pt){L.filter(".".concat(pt)).on("click.bindNavigationHandlers",function(){return W[pt](),!1})};for(var we in W)ne(we);var Ie=this.$(".BRnavCntlBtm"),vt=this.$(".BRnavCntlTop");this.$(".BRnavCntl").click(function(){var Et=[];Ie.hasClass("BRdn")?(R.refs.$BRtoolbar&&Et.push(R.refs.$BRtoolbar.animate({top:-1*R.getToolBarHeight()}).promise()),Et.push(R.$(".BRfooter").animate({bottom:-1*R.getFooterHeight()}).promise()),Ie.addClass("BRup").removeClass("BRdn"),vt.addClass("BRdn").removeClass("BRup"),R.$(".BRnavCntlBtm.BRnavCntl").animate({height:"45px"}),R.$(".BRnavCntl").delay(1e3).animate({opacity:.75},1e3)):(R.refs.$BRtoolbar&&Et.push(R.refs.$BRtoolbar.animate({top:0}).promise()),Et.push(R.$(".BRfooter").animate({bottom:0}).promise()),Ie.addClass("BRdn").removeClass("BRup"),vt.addClass("BRup").removeClass("BRdn"),R.$(".BRnavCntlBtm.BRnavCntl").animate({height:"30px"}),R.$(".BRvavCntl").animate({opacity:1})),Rt.when.apply(Rt,Et).done(function(){R.mode==R.constMode2up&&R.twoPage.autofit!=null&&R.twoPage.autofit!="none"||R.mode==R.constMode1up&&R.onePage.autofit!=null&&R.onePage.autofit!="none"?R.resize():R.resizeBRcontainer()})}),Ie.on("mouseover",function(){Rt(this).hasClass("BRup")&&R.$(".BRnavCntl").animate({opacity:1},250)}).on("mouseleave",function(){Rt(this).hasClass("BRup")&&R.$(".BRnavCntl").animate({opacity:.75},250)}),vt.on("mouseover",function(){Rt(this).hasClass("BRdn")&&R.$(".BRnavCntl").animate({opacity:1},250)}).on("mouseleave",function(){Rt(this).hasClass("BRdn")&&R.$(".BRnavCntl").animate({opacity:.75},250)})},Nt.prototype.getPageURI=Qn.prototype.getPageURI,Xe(Qn,"book","getPageURI"),Nt.prototype.updateFromParams=function(le){var R=le.mode,L=R===void 0?0:R,W=le.init,ne=W!==void 0&&W,we=le.fragmentChange,Ie=we!==void 0&&we;L&&this.switchMode(L,{init:ne,suppressFragmentChange:!Ie}),le.index!==void 0?le.index!=this.currentIndex()&&this.jumpToIndex(le.index):le.page!==void 0&&le.page!=this.book.getPageNum(this.currentIndex())&&this.jumpToPage(le.page),this.enableSearch&&le.search!==void 0&&this.searchTerm!==le.search&&this.$(".BRsearchInput").val(le.search),this.enableThemesPlugin&&le.theme!==void 0&&this.updateTheme(le.theme)},Nt.prototype.canSwitchToMode=function(le){return le!=this.constMode2up&&le!=this.constModeThumb||!(this.book.getNumLeafs()<2)},Nt.prototype._getPageURI=function(le,R,L){var W=this.book.getPage(le,!1);return W?(R===void 0&&(R=W.height/this.twoPage.height),W.getURI(R,L)):this.imagesBaseURL+"transparent.png"},Nt.prototype.showProgressPopup=function(le,R){var L=this;if(!this.popup){if(this.popup=document.createElement("div"),Rt(this.popup).prop("className","BRprogresspopup"),typeof R=="function"){var W=document.createElement("button");W.setAttribute("title","close"),W.setAttribute("class","close-popup");var ne=document.createElement("span");ne.setAttribute("class","icon icon-close-dark"),Rt(W).append(ne),W.addEventListener("click",function(){R(),L.removeProgressPopup()}),Rt(this.popup).append(W)}var we=document.createElement("div");if(Rt(we).css({height:"20px"}).prop("className","BRprogressbar"),Rt(this.popup).append(we),le){var Ie=document.createElement("div");Ie.innerHTML=le,Rt(this.popup).append(Ie)}Rt(this.popup).appendTo(this.refs.$br)}},Nt.prototype.removeProgressPopup=function(){Rt(this.popup).remove(),this.$(".BRprogresspopup").remove(),this.popup=null},Nt.prototype.initUIStrings=function(){var le={".logo":"Go to Archive.org",".zoom_in":"Zoom in",".zoom_out":"Zoom out",".onepg":"One-page view",".twopg":"Two-page view",".thumb":"Thumbnail view",".print":"Print this page",".embed":"Embed BookReader",".link":"Link to this book (and page)",".bookmark":"Bookmark this page",".share":"Share this book",".info":"About this book",".full":"Toggle fullscreen",".book_left":"Flip left",".book_right":"Flip right",".play":"Play",".pause":"Pause",".BRdn":"Show/hide nav bar",".BRup":"Show/hide nav bar",".book_top":"First page",".book_bottom":"Last page",".book_leftmost":"First page",".book_rightmost":"Last page"};for(var R in this.pageProgression=="rl"&&(le[".book_leftmost"]="Last page",le[".book_rightmost"]="First page"),le)this.$(R).prop("title",le[R])},Nt.prototype.reloadImages=function(){this.refs.$brContainer.find("img").each(function(le,R){if(!R.complete||R.naturalHeight===0){var L=R.src;R.src="",setTimeout(function(){R.src=L},1e3)}})},Nt.prototype.getFooterHeight=function(){var le=this.mode==this.constMode2up?this.refs.$BRfooter:this.refs.$BRnav;if(le&&this.refs.$BRfooter){var R=le.outerHeight(),L=parseInt(this.refs.$BRfooter.css("bottom"));if(!isNaN(R)&&!isNaN(L))return R+L}return 0},Nt.prototype.paramsFromCurrent=function(){var le={},R=this.currentIndex(),L=this.book.getPageNum(R);return(L===0||L)&&(le.page=L),le.index=R,le.mode=this.mode,this.isFullscreenActive&&(le.view="theater"),this.enableSearch&&(le.search=this.searchTerm),le},Nt.prototype.paramsFromFragment=function(le){var R={};le.substr(0,1)=="#"&&(le=le.substr(1));var L=parseInt(/^\d+$/.exec(le));if(!isNaN(L))return R.index=L,R;for(var W=le.split("/"),ne={},we=0;we<W.length;we+=2)ne[W[we]]=W[we+1];return ne.mode=="1up"?R.mode=this.constMode1up:ne.mode=="2up"?R.mode=this.constMode2up:ne.mode=="thumb"&&(R.mode=this.constModeThumb),ne.page!==void 0&&(R.page=decodeURIComponent(ne.page)),ne.search!=null&&(R.search=Me.decodeURIComponentPlus(ne.search)),ne.theme!=null&&(R.theme=ne.theme),R},Nt.prototype.fragmentFromParams=function(le){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"hash",L=[];if(le.page!==void 0?L.push("page",encodeURIComponent(le.page)):le.index!==void 0&&L.push("page","n"+le.index),le.mode!==void 0)if(le.mode==this.constMode1up)L.push("mode","1up");else if(le.mode==this.constMode2up)L.push("mode","2up");else{if(le.mode!=this.constModeThumb)throw"fragmentFromParams called with unknown mode "+le.mode;L.push("mode","thumb")}return le.search&&R==="hash"&&L.push("search",Me.encodeURIComponentPlus(le.search)),L.join("/")},Nt.prototype.queryStringFromParams=function(le,R){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"hash",W=new URLSearchParams(R);le.view?W.set("view",le.view):W.delete("view"),le.search&&L==="history"&&W.set("q",le.search);var ne=W.toString();return ne?"?"+ne:""},Nt.prototype.$=function(le){return this.refs.$br.find(le)},window.BookReader=Nt})(),l=o.O(l)})()}),bm={},f7(bm,{default:function(){return _m}}),v7=gm(ym()),p7(bm,gm(ym()));var g;tr=v7,g=tr,wm=g.default,m7=Bi(tr,["default"]),_m=wm!==void 0?wm:m7}}),y7={};wi(y7,{default:function(){return _m}});var nP=Ht({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-82/BookReader/BookReader.js":function(){g7(),g7()}}),b7,ph,w7,_7,k7,x7,S7,C7,vh,A7,km,xm,Sm,O7,tr,Cm,j7,Am,E7=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/bookreader@5.0.0-82/esnext/BookReader/plugins/plugin.search.js":function(){b7=Object.create,ph=Object.defineProperty,w7=Object.getOwnPropertyDescriptor,_7=Object.getOwnPropertyNames,k7=Object.getPrototypeOf,x7=Object.prototype.hasOwnProperty,S7=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},C7=function(t,e){for(var n in e)ph(t,n,{get:e[n],enumerable:!0})},vh=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!x7.call(t,v)&&v!==n&&ph(t,v,{get:function(){return e[v]},enumerable:!(o=w7(e,v))||o.enumerable})},d=_7(e)[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0)r(d,c)}catch(h){a=!0,s=h}finally{try{!l&&d.return!=null&&d.return()}finally{if(a)throw s}}return t},A7=function(t,e,n){return vh(t,e,"default"),n&&vh(n,e,"default")},km=function(t,e,n){return n=t!=null?b7(k7(t)):{},vh(e||!t||!t.__esModule?ph(n,"default",{value:t,enumerable:!0}):n,t)},xm=S7(function(){"use strict";(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[924],{9007:function(t,e,n){var o=function(O,I){for(var P=0;P<I.length;P++){var D=I[P];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(O,l(D.key),D)}},l=function(O){var I=function(P,D){if(E(P)!="object"||!P)return P;var V=P[Symbol.toPrimitive];if(V!==void 0){var q=V.call(P,"string");if(E(q)!="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(P)}(O);return E(I)=="symbol"?I:I+""},a=function(O,I){var P=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&O[Symbol.iterator]||O["@@iterator"];if(!P){if(Array.isArray(O)||(P=s(O))||I&&O&&typeof O.length=="number"){P&&(O=P);var D=0,V=function(){};return{s:V,n:function(){return D>=O.length?{done:!0}:{done:!1,value:O[D++]}},e:function(B){throw B},f:V}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var q,z=!0,he=!1;return{s:function(){P=P.call(O)},n:function(){var B=P.next();return z=B.done,B},e:function(B){he=!0,q=B},f:function(){try{z||P.return==null||P.return()}finally{if(he)throw q}}}},s=function(O,I){if(O){if(typeof O=="string")return r(O,I);var P={}.toString.call(O).slice(8,-1);return P==="Object"&&O.constructor&&(P=O.constructor.name),P==="Map"||P==="Set"?Array.from(O):P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P)?r(O,I):void 0}},r=function(O,I){(I==null||I>O.length)&&(I=O.length);for(var P=0,D=Array(I);P<I;P++)D[P]=O[P];return D},d=function(O,I,P){var D=(0,w.escapeRegExp)((0,w.escapeHTML)(I)),V=(0,w.escapeRegExp)((0,w.escapeHTML)(P)),q=new RegExp("".concat(D,"([^]+?)").concat(V),"g");return(0,w.escapeHTML)(O).replace(q,"<mark>$1</mark>").replace(/(\b)- /g,"$1")},c=function(O,I){var P=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&O[Symbol.iterator]||O["@@iterator"];if(!P){if(Array.isArray(O)||(P=h(O))||I&&O&&typeof O.length=="number"){P&&(O=P);var D=0,V=function(){};return{s:V,n:function(){return D>=O.length?{done:!0}:{done:!1,value:O[D++]}},e:function(B){throw B},f:V}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var q,z=!0,he=!1;return{s:function(){P=P.call(O)},n:function(){var B=P.next();return z=B.done,B},e:function(B){he=!0,q=B},f:function(){try{z||P.return==null||P.return()}finally{if(he)throw q}}}},h=function(O,I){if(O){if(typeof O=="string")return f(O,I);var P={}.toString.call(O).slice(8,-1);return P==="Object"&&O.constructor&&(P=O.constructor.name),P==="Map"||P==="Set"?Array.from(O):P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P)?f(O,I):void 0}},f=function(O,I){(I==null||I>O.length)&&(I=O.length);for(var P=0,D=Array(I);P<I;P++)D[P]=O[P];return D},v=function(O,I,P,D,V,q,z){try{var he=O[q](z),Y=he.value}catch(B){return void P(B)}he.done?I(Y):Promise.resolve(Y).then(D,V)},b=function(O){return function(){var I=this,P=arguments;return new Promise(function(D,V){var q=O.apply(I,P);function z(Y){v(q,D,V,z,he,"next",Y)}function he(Y){v(q,D,V,z,he,"throw",Y)}z(void 0)})}};n(2675),n(9463),n(6412),n(2259),n(8125),n(8706),n(113),n(3418),n(3792),n(2062),n(4490),n(4782),n(2010),n(4731),n(479),n(9085),n(5506),n(875),n(6099),n(8459),n(3362),n(7495),n(8781),n(7764),n(5440),n(5746),n(3500),n(2953),n(8408);var w=n(6257),k=n(1774),C=(n(5700),n(9572),n(8130),n(8940),n(1669));function E(x){return E=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(I){return typeof I=="undefined"?"undefined":_typeof(I)}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O=="undefined"?"undefined":_typeof(O)},E(x)}var A=function(){return x=function I(P){var D=P.br,V=P.searchCancelledCallback,q=V===void 0?function(){}:V;(function(z,he){if(!_instanceof(z,he))throw new TypeError("Cannot call a class as a function")})(this,I),this.br=D,this.matches=[],this.cacheDOMElements(),this.bindEvents(),this.cancelSearch=q},O=[{key:"cacheDOMElements",value:function(){this.dom={},this.dom.toolbarSearch=this.buildToolbarSearch()}},{key:"setQuery",value:function(P){this.br.$('[name="query"]').val(P)}},{key:"emptyMatches",value:function(){this.matches=[]}},{key:"removeResultPins",value:function(){this.br.$(".BRnavpos .BRsearch").remove()}},{key:"clearSearchFieldAndResults",value:function(){var P=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.br.removeSearchResults(),this.removeResultPins(),this.emptyMatches(),this.setQuery(""),this.teardownSearchNavigation(),P&&this.br.trigger("SearchResultsCleared")}},{key:"toggleSidebar",value:function(){this.br.trigger("ToggleSearchMenu")}},{key:"renderSearchNavigation",value:function(){var P="BRsearch-navigation";C(".BRnav").before('\n      <div class="'.concat(P,'">\n        <button class="toggle-sidebar">\n          <h4>\n            <span class="icon icon-search"></span> Results\n          </h4>\n        </button>\n        <div class="pagination">\n          <button class="prev" title="Previous result"><span class="icon icon-chevron hflip"></span></button>\n          <span data-id="resultsCount">').concat(this.resultsPosition(),'</span>\n          <button class="next" title="Next result"><span class="icon icon-chevron"></button>\n        </div>\n        <button class="clear" title="Clear search results">\n          <span class="icon icon-close"></span>\n        </button>\n      </div>\n    ')),this.dom.searchNavigation=C(".".concat(P))}},{key:"resultsPosition",value:function(){var P="".concat(this.matches.length," result").concat(this.matches.length===1?"":"s");return~this.currentMatchIndex&&(P="".concat(this.currentMatchIndex+1," / ").concat(this.matches.length)),P}},{key:"bindSearchNavigationEvents",value:function(){if(this.dom.searchNavigation){var P="searchNavigation";this.dom.searchNavigation.on("click.".concat(P),".clear",this.clearSearchFieldAndResults.bind(this)).on("click.".concat(P),".prev",this.showPrevResult.bind(this)).on("click.".concat(P),".next",this.showNextResult.bind(this)).on("click.".concat(P),".toggle-sidebar",this.toggleSidebar.bind(this)).on("click.".concat(P),!1)}}},{key:"showPrevResult",value:function(){this.currentMatchIndex!==0&&(this.br.mode===this.br.constModeThumb&&this.br.switchMode(this.br.constMode1up),~this.currentMatchIndex||(this.currentMatchIndex=this.getClosestMatchIndex(function(P,D,V){return D[0]>V})+1),this.br.$(".BRnavline .BRsearch").eq(--this.currentMatchIndex).click(),this.updateResultsPosition(),this.updateSearchNavigationButtons())}},{key:"showNextResult",value:function(){this.currentMatchIndex+1!==this.matches.length&&(this.br.mode===this.br.constModeThumb&&this.br.switchMode(this.br.constMode1up),~this.currentMatchIndex||(this.currentMatchIndex=this.getClosestMatchIndex(function(P,D,V){return P[P.length-1]>V})-1),this.br.$(".BRnavline .BRsearch").eq(++this.currentMatchIndex).click(),this.updateResultsPosition(),this.updateSearchNavigationButtons())}},{key:"getClosestMatchIndex",value:function(P){var D=function V(q,z){if(q.length===1)return q[0];var he=q.slice(0,q.length/2),Y=q.slice(q.length/2);return V(P(he,Y,z)?he:Y,z)}(this.matches.map(function(V){return V.par[0].page}),this.br.currentIndex()+1);return this.matches.indexOf(this.matches.find(function(V){return V.par[0].page===D}))}},{key:"updateResultsPosition",value:function(){this.dom.searchNavigation&&this.dom.searchNavigation.find("[data-id=resultsCount]").text(this.resultsPosition())}},{key:"updateSearchNavigationButtons",value:function(){this.dom.searchNavigation&&(this.dom.searchNavigation.find(".prev").attr("disabled",!this.currentMatchIndex),this.dom.searchNavigation.find(".next").attr("disabled",this.currentMatchIndex+1===this.matches.length))}},{key:"teardownSearchNavigation",value:function(){this.dom.searchNavigation||(this.dom.searchNavigation=C(".BRsearch-navigation")),this.dom.searchNavigation.length&&(this.dom.searchNavigation.off(".searchNavigation").remove(),this.dom.searchNavigation=null,this.br.resize())}},{key:"setCurrentMatchIndex",value:function(){var P;this.br.mode!==this.br.constModeThumb?(P=this.br.mode===this.br.constMode2up?this.find2upMatchingSearchResult():this.find1upMatchingSearchResult(),this.currentMatchIndex=this.matches.indexOf(P)):this.currentMatchIndex=-1}},{key:"find1upMatchingSearchResult",value:function(){var P=this;return this.matches.find(function(D){return P.br.currentIndex()===D.par[0].page-1})}},{key:"find2upMatchingSearchResult",value:function(){var P=this;return this.matches.find(function(D){return P.br._isIndexDisplayed(D.par[0].page-1)})}},{key:"updateSearchNavigation",value:function(){this.matches.length&&(this.setCurrentMatchIndex(),this.updateResultsPosition(),this.updateSearchNavigationButtons())}},{key:"togglePinsFor",value:function(P){var D=P?"visible":"hidden";this.br.refs.$BRfooter.find(".BRsearch").css({visibility:D})}},{key:"buildToolbarSearch",value:function(){var P=document.createElement("span");return P.classList.add("BRtoolbarSection","BRtoolbarSectionSearch"),P.innerHTML='\n      <form class="BRbooksearch desktop">\n        <input type="search" name="query" class="BRsearchInput" value="" placeholder="Search inside"/>\n        <button type="submit" class="BRsearchSubmit">\n          <img src="'.concat(this.br.imagesBaseURL,'icon_search_button.svg" />\n        </button>\n      </form>\n    '),P}},{key:"renderPins",value:function(P){var D=this;P.forEach(function(V){var q=D.br.book.leafNumToIndex(V.par[0].page),z=D.br.constructor.util.cssPercentage(q,D.br.book.getNumLeafs()-1),he=V.html;if(he.length>200){var Y=Math.max(0,he.indexOf("<mark>")-100);Y!=0&&(he="\u2026"+V.html.substring(Y).replace(/^\S+/,""))}C("<div>").addClass("BRsearch").css({left:z}).attr("title","Search result").append('\n          <div class="BRquery">\n            <main>'.concat(he,"</main>\n            <footer>Page ").concat(V.displayPageNumber,"</footer>\n          </div>\n        ")).appendTo(D.br.$(".BRnavline")).on("mouseenter",function(B){var F=B.currentTarget,ce=F.querySelector(".BRquery"),J=ce.getBoundingClientRect(),ae=F.getBoundingClientRect(),se=2*parseInt(getComputedStyle(ce).paddingLeft);J.x-se<0&&ce.style.setProperty("transform","translateX(-".concat(ae.left-se,"px)")),C(".BRsearch,.BRchapter").removeClass("front"),C(B.target).addClass("front")}).on("mouseleave",function(B){return C(B.target).removeClass("front")}).on("click",function(){D.br._searchPluginGoToResult(V.matchIndex)})})}},{key:"toggleSearchPending",value:function(P){var D=this;P?this.br.showProgressPopup("Search results will appear below...",function(){return D.progressPopupClosed()}):this.br.removeProgressPopup()}},{key:"progressPopupClosed",value:function(){this.toggleSearchPending(),this.cancelSearch()}},{key:"renderErrorModal",value:function(){var P="".concat(arguments.length>0&&arguments[0]!==void 0&&arguments[0]?"":"The text may still be processing. ","Please try again.");this.renderModalMessage("\n      Sorry, there was an error with your search.\n      <br />\n      ".concat(P,"\n    ")),this.delayModalRemovalFor(4e3)}},{key:"renderBookNotIndexedModal",value:function(){this.renderModalMessage("\n      <p>\n         This book hasn't been indexed for searching yet.\n         We've just started indexing it, so search should be available soon.\n         <br />\n         Please try again later. Thanks!\n      </p>\n    "),this.delayModalRemovalFor(5e3)}},{key:"renderResultsEmptyModal",value:function(){this.renderModalMessage("No matches were found."),this.delayModalRemovalFor(2e3)}},{key:"renderModalMessage",value:function(P){var D=document.createElement("div");D.classList.add("BRprogresspopup","search_modal"),D.innerHTML=P,document.querySelector(this.br.el).append(D)}},{key:"delayModalRemovalFor",value:function(P){setTimeout(this.br.removeProgressPopup.bind(this.br),P)}},{key:"submitHandler",value:function(P){P.preventDefault();var D=P.target.querySelector('[name="query"]').value;return!!D.length&&(this.br.search(D),this.emptyMatches(),this.toggleSearchPending(!0),!1)}},{key:"handleSearchCallback",value:function(P,D){var V=this,q=D.results,z=D.options;this.matches=q.matches,this.setCurrentMatchIndex(),this.teardownSearchNavigation(),this.renderSearchNavigation(),this.bindSearchNavigationEvents(),this.renderPins(q.matches),this.toggleSearchPending(!1),z.goToFirstResult?C(document).one("BookReader:pageChanged",function(){V.br.resize()}):this.br.resize()}},{key:"handleSearchStarted",value:function(){this.emptyMatches(),this.br.removeSearchHilites(),this.removeResultPins(),this.toggleSearchPending(!0),this.teardownSearchNavigation(),this.setQuery(this.br.searchTerm)}},{key:"handleSearchCallbackError",value:function(){var P,D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.toggleSearchPending(!1);var V=D==null||(P=D.detail)===null||P===void 0||(P=P.props)===null||P===void 0||(P=P.results)===null||P===void 0?void 0:P.indexed;this.renderErrorModal(V)}},{key:"handleSearchCallbackBookNotIndexed",value:function(){this.toggleSearchPending(!1),this.renderBookNotIndexedModal()}},{key:"handleSearchCallbackEmpty",value:function(){this.toggleSearchPending(!1),this.renderResultsEmptyModal()}},{key:"bindEvents",value:function(){var P="BookReader:";window.addEventListener("".concat(P,"SearchCallbackError"),this.handleSearchCallbackError.bind(this)),C(document).on("".concat(P,"SearchCallback"),this.handleSearchCallback.bind(this)).on("".concat(P,"SearchStarted"),this.handleSearchStarted.bind(this)).on("".concat(P,"SearchCallbackBookNotIndexed"),this.handleSearchCallbackBookNotIndexed.bind(this)).on("".concat(P,"SearchCallbackEmpty"),this.handleSearchCallbackEmpty.bind(this)).on("".concat(P,"pageChanged"),this.updateSearchNavigation.bind(this)),this.dom.toolbarSearch.querySelector("form").addEventListener("submit",this.submitHandler.bind(this))}}],O&&o(x.prototype,O),Object.defineProperty(x,"prototype",{writable:!1}),x;var x,O}(),j=A;n(4864);var y,u=n(1669),p=n(1669);function m(x){return m=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(I){return typeof I=="undefined"?"undefined":_typeof(I)}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O=="undefined"?"undefined":_typeof(O)},m(x)}function _(){_=function(){return O};var x,O={},I=Object.prototype,P=I.hasOwnProperty,D=Object.defineProperty||function(be,ze,Re){be[ze]=Re.value},V=typeof Symbol=="function"?Symbol:{},q=V.iterator||"@@iterator",z=V.asyncIterator||"@@asyncIterator",he=V.toStringTag||"@@toStringTag";function Y(be,ze,Re){return Object.defineProperty(be,ze,{value:Re,enumerable:!0,configurable:!0,writable:!0}),be[ze]}try{Y({},"")}catch(be){Y=function(Re,$e,Ye){return Re[$e]=Ye}}function B(be,ze,Re,$e){var Ye=ze&&_instanceof(ze.prototype,de)?ze:de,We=Object.create(Ye.prototype),Ct=new lt($e||[]);return D(We,"_invoke",{value:Ve(be,Re,Ct)}),We}function F(be,ze,Re){try{return{type:"normal",arg:be.call(ze,Re)}}catch($e){return{type:"throw",arg:$e}}}O.wrap=B;var ce="suspendedStart",J="suspendedYield",ae="executing",se="completed",ve={};function de(){}function Be(){}function it(){}var mt={};Y(mt,q,function(){return this});var ot=Object.getPrototypeOf,Ae=ot&&ot(ot(_t([])));Ae&&Ae!==I&&P.call(Ae,q)&&(mt=Ae);var xe=it.prototype=de.prototype=Object.create(mt);function De(be){["next","throw","return"].forEach(function(ze){Y(be,ze,function(Re){return this._invoke(ze,Re)})})}function et(be,ze){function Re(Ye,We,Ct,gt){var nt=F(be[Ye],be,We);if(nt.type!=="throw"){var rt=nt.arg,ct=rt.value;return ct&&m(ct)=="object"&&P.call(ct,"__await")?ze.resolve(ct.__await).then(function(At){Re("next",At,Ct,gt)},function(At){Re("throw",At,Ct,gt)}):ze.resolve(ct).then(function(At){rt.value=At,Ct(rt)},function(At){return Re("throw",At,Ct,gt)})}gt(nt.arg)}var $e;D(this,"_invoke",{value:function(We,Ct){function gt(){return new ze(function(nt,rt){Re(We,Ct,nt,rt)})}return $e=$e?$e.then(gt,gt):gt()}})}function Ve(be,ze,Re){var $e=ce;return function(Ye,We){if($e===ae)throw Error("Generator is already running");if($e===se){if(Ye==="throw")throw We;return{value:x,done:!0}}for(Re.method=Ye,Re.arg=We;;){var Ct=Re.delegate;if(Ct){var gt=je(Ct,Re);if(gt){if(gt===ve)continue;return gt}}if(Re.method==="next")Re.sent=Re._sent=Re.arg;else if(Re.method==="throw"){if($e===ce)throw $e=se,Re.arg;Re.dispatchException(Re.arg)}else Re.method==="return"&&Re.abrupt("return",Re.arg);$e=ae;var nt=F(be,ze,Re);if(nt.type==="normal"){if($e=Re.done?se:J,nt.arg===ve)continue;return{value:nt.arg,done:Re.done}}nt.type==="throw"&&($e=se,Re.method="throw",Re.arg=nt.arg)}}}function je(be,ze){var Re=ze.method,$e=be.iterator[Re];if($e===x)return ze.delegate=null,Re==="throw"&&be.iterator.return&&(ze.method="return",ze.arg=x,je(be,ze),ze.method==="throw")||Re!=="return"&&(ze.method="throw",ze.arg=new TypeError("The iterator does not provide a '"+Re+"' method")),ve;var Ye=F($e,be.iterator,ze.arg);if(Ye.type==="throw")return ze.method="throw",ze.arg=Ye.arg,ze.delegate=null,ve;var We=Ye.arg;return We?We.done?(ze[be.resultName]=We.value,ze.next=be.nextLoc,ze.method!=="return"&&(ze.method="next",ze.arg=x),ze.delegate=null,ve):We:(ze.method="throw",ze.arg=new TypeError("iterator result is not an object"),ze.delegate=null,ve)}function He(be){var ze={tryLoc:be[0]};1 in be&&(ze.catchLoc=be[1]),2 in be&&(ze.finallyLoc=be[2],ze.afterLoc=be[3]),this.tryEntries.push(ze)}function qe(be){var ze=be.completion||{};ze.type="normal",delete ze.arg,be.completion=ze}function lt(be){this.tryEntries=[{tryLoc:"root"}],be.forEach(He,this),this.reset(!0)}function _t(be){if(be||be===""){var ze=be[q];if(ze)return ze.call(be);if(typeof be.next=="function")return be;if(!isNaN(be.length)){var Re=-1,$e=function Ye(){for(;++Re<be.length;)if(P.call(be,Re))return Ye.value=be[Re],Ye.done=!1,Ye;return Ye.value=x,Ye.done=!0,Ye};return $e.next=$e}}throw new TypeError(m(be)+" is not iterable")}return Be.prototype=it,D(xe,"constructor",{value:it,configurable:!0}),D(it,"constructor",{value:Be,configurable:!0}),Be.displayName=Y(it,he,"GeneratorFunction"),O.isGeneratorFunction=function(be){var ze=typeof be=="function"&&be.constructor;return!!ze&&(ze===Be||(ze.displayName||ze.name)==="GeneratorFunction")},O.mark=function(be){return Object.setPrototypeOf?Object.setPrototypeOf(be,it):(be.__proto__=it,Y(be,he,"GeneratorFunction")),be.prototype=Object.create(xe),be},O.awrap=function(be){return{__await:be}},De(et.prototype),Y(et.prototype,z,function(){return this}),O.AsyncIterator=et,O.async=function(be,ze,Re,$e,Ye){Ye===void 0&&(Ye=Promise);var We=new et(B(be,ze,Re,$e),Ye);return O.isGeneratorFunction(ze)?We:We.next().then(function(Ct){return Ct.done?Ct.value:We.next()})},De(xe),Y(xe,he,"Generator"),Y(xe,q,function(){return this}),Y(xe,"toString",function(){return"[object Generator]"}),O.keys=function(be){var ze=Object(be),Re=[];for(var $e in ze)Re.push($e);return Re.reverse(),function Ye(){for(;Re.length;){var We=Re.pop();if(We in ze)return Ye.value=We,Ye.done=!1,Ye}return Ye.done=!0,Ye}},O.values=_t,lt.prototype={constructor:lt,reset:function(ze){if(this.prev=0,this.next=0,this.sent=this._sent=x,this.done=!1,this.delegate=null,this.method="next",this.arg=x,this.tryEntries.forEach(qe),!ze)for(var Re in this)Re.charAt(0)==="t"&&P.call(this,Re)&&!isNaN(+Re.slice(1))&&(this[Re]=x)},stop:function(){this.done=!0;var ze=this.tryEntries[0].completion;if(ze.type==="throw")throw ze.arg;return this.rval},dispatchException:function(ze){if(this.done)throw ze;var Re=this;function $e(rt,ct){return Ct.type="throw",Ct.arg=ze,Re.next=rt,ct&&(Re.method="next",Re.arg=x),!!ct}for(var Ye=this.tryEntries.length-1;Ye>=0;--Ye){var We=this.tryEntries[Ye],Ct=We.completion;if(We.tryLoc==="root")return $e("end");if(We.tryLoc<=this.prev){var gt=P.call(We,"catchLoc"),nt=P.call(We,"finallyLoc");if(gt&&nt){if(this.prev<We.catchLoc)return $e(We.catchLoc,!0);if(this.prev<We.finallyLoc)return $e(We.finallyLoc)}else if(gt){if(this.prev<We.catchLoc)return $e(We.catchLoc,!0)}else{if(!nt)throw Error("try statement without catch or finally");if(this.prev<We.finallyLoc)return $e(We.finallyLoc)}}}},abrupt:function(ze,Re){for(var $e=this.tryEntries.length-1;$e>=0;--$e){var Ye=this.tryEntries[$e];if(Ye.tryLoc<=this.prev&&P.call(Ye,"finallyLoc")&&this.prev<Ye.finallyLoc){var We=Ye;break}}We&&(ze==="break"||ze==="continue")&&We.tryLoc<=Re&&Re<=We.finallyLoc&&(We=null);var Ct=We?We.completion:{};return Ct.type=ze,Ct.arg=Re,We?(this.method="next",this.next=We.finallyLoc,ve):this.complete(Ct)},complete:function(ze,Re){if(ze.type==="throw")throw ze.arg;return ze.type==="break"||ze.type==="continue"?this.next=ze.arg:ze.type==="return"?(this.rval=this.arg=ze.arg,this.method="return",this.next="end"):ze.type==="normal"&&Re&&(this.next=Re),ve},finish:function(ze){for(var Re=this.tryEntries.length-1;Re>=0;--Re){var $e=this.tryEntries[Re];if($e.finallyLoc===ze)return this.complete($e.completion,$e.afterLoc),qe($e),ve}},catch:function(ze){for(var Re=this.tryEntries.length-1;Re>=0;--Re){var $e=this.tryEntries[Re];if($e.tryLoc===ze){var Ye=$e.completion;if(Ye.type==="throw"){var We=Ye.arg;qe($e)}return We}}throw Error("illegal catch attempt")},delegateYield:function(ze,Re,$e){return this.delegate={iterator:_t(ze),resultName:Re,nextLoc:$e},this.method==="next"&&(this.arg=x),ve}},O}u.extend(BookReader.defaultOptions,{server:"ia600609.us.archive.org",bookId:"",subPrefix:"",bookPath:"",enableSearch:!0,searchInsideProtocol:"https",searchInsideUrl:"/fulltext/inside.php",searchInsidePreTag:"{{{",searchInsidePostTag:"}}}",initialSearchTerm:null}),BookReader.prototype.setup=(y=BookReader.prototype.setup,function(x){y.call(this,x),this.searchTerm="",this.searchResults=null,this.searchInsideUrl=x.searchInsideUrl,this.enableSearch=x.enableSearch,this.bookId=x.bookId,this.server=x.server,this.subPrefix=x.subPrefix,this.bookPath=x.bookPath,this.searchXHR=null,this._cancelSearch.bind(this),this.cancelSearchRequest.bind(this),this._searchBoxesByIndex={},this.searchView=void 0}),BookReader.prototype.init=function(x){return function(){var O=this;x.call(this),this.searchView=new j({br:this,searchCancelledCallback:function(){O._cancelSearch(),O.trigger("SearchCanceled",{term:O.searchTerm,instance:O})}}),this.options.enableSearch&&this.options.initialSearchTerm&&this.search(this.options.initialSearchTerm,{goToFirstResult:this.options.goToFirstResult,suppressFragmentChange:!1})}}(BookReader.prototype.init),BookReader.prototype.buildToolbarElement=function(x){return function(){var O=x.call(this);if(this.enableSearch)return this.searchView.dom.toolbarSearch&&O.find(".BRtoolbarSectionInfo").after(this.searchView.dom.toolbarSearch),O}}(BookReader.prototype.buildToolbarElement),BookReader.prototype._createPageContainer=function(x){return function(O){var I=x.call(this,O);if(this.enableSearch&&I.page&&O in this._searchBoxesByIndex){var P=I.page.index,D=this._searchBoxesByIndex[P];(0,k.KL)("searchHiliteLayer",D,I.page,I.$container[0],D.map(function(V){return"match-index-".concat(V.matchIndex)}))}return I}}(BookReader.prototype._createPageContainer),BookReader.prototype.search=b(_().mark(function x(){var O,I,P,D,V,q,z,he,Y,B,F,ce,J=this,ae=arguments;return _().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return O=ae.length>0&&ae[0]!==void 0?ae[0]:"",I=ae.length>1&&ae[1]!==void 0?ae[1]:{},P={goToFirstResult:!1,disablePopup:!1,suppressFragmentChange:!1,error:null,success:null},D=u.extend({},P,I),this.suppressFragmentChange=D.suppressFragmentChange,this.searchCancelled=!1,this.searchTerm=O.replace(/\//g," "),D.suppressFragmentChange||this.trigger(BookReader.eventNames.fragmentChange),V=this.server.replace(/:.+/,""),q="".concat(this.options.searchInsideProtocol,"://").concat(V).concat(this.searchInsideUrl,"?"),z=this.bookPath,he="/".concat(this.subPrefix),this.bookPath.length-this.bookPath.lastIndexOf(he)==he.length&&(z=this.bookPath.substr(0,this.bookPath.length-he.length)),Y={item_id:this.bookId,doc:this.subPrefix,path:z,q:O,pre_tag:this.options.searchInsidePreTag,post_tag:this.options.searchInsidePostTag},B=p.param(Y).replace(/%2F/g,"/"),F="".concat(q).concat(B),ce=function(de){if(!J.searchCancelled){var Be=de.error||!de.matches.length,it=typeof D.error=="function",mt=typeof D.success=="function";Be?(console.error("Search Inside Response Error",de.error||"matches.length == 0"),it?D.error.call(J,de,D):J.BRSearchCallbackError(de,D)):mt?D.success.call(J,de,D):J.BRSearchCallback(de,D)}},this.trigger("SearchStarted",{term:this.searchTerm,instance:this}),se.t0=ce,se.next=21,p.ajax({url:F,dataType:"jsonp",cache:!0,beforeSend:function(de){J.searchXHR=de}});case 21:se.t1=se.sent,(0,se.t0)(se.t1);case 23:case"end":return se.stop()}},x,this)})),BookReader.prototype._cancelSearch=function(){var x;(x=this.searchXHR)===null||x===void 0||x.abort(),this.searchView.clearSearchFieldAndResults(!1),this.searchTerm="",this.searchXHR=null,this.searchCancelled=!0,this.searchResults=[]},BookReader.prototype.cancelSearchRequest=function(){this.searchCancelled=!0,this.searchXHR!==null&&(this._cancelSearch(),this.searchView.toggleSearchPending(),this.trigger("SearchCanceled",{term:this.searchTerm,instance:this}))},BookReader.prototype.BRSearchCallback=function(x,O){var I=this;(function(P,D,V,q){var z,he,Y,B,F=a(P.matches.entries());try{for(F.s();!(z=F.n()).done;){var ce=(Y=z.value,B=2,function(it){if(Array.isArray(it))return it}(Y)||function(it,mt){var ot=it==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&it[Symbol.iterator]||it["@@iterator"];if(ot!=null){var Ae,xe,De,et,Ve=[],je=!0,He=!1;try{if(De=(ot=ot.call(it)).next,mt===0){if(Object(ot)!==ot)return;je=!1}else for(;!(je=(Ae=De.call(ot)).done)&&(Ve.push(Ae.value),Ve.length!==mt);je=!0);}catch(qe){He=!0,xe=qe}finally{try{if(!je&&ot.return!=null&&(et=ot.return(),Object(et)!==et))return}finally{if(He)throw xe}}return Ve}}(Y,B)||s(Y,B)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),J=ce[0],ae=ce[1];ae.matchIndex=J,ae.displayPageNumber=(he=ae.par[0].page,I.book.getPageNum(I.book.leafNumToIndex(he))),ae.html=d(ae.text,V,q);var se,ve=a(ae.par);try{for(ve.s();!(se=ve.n()).done;){var de,Be=a(se.value.boxes);try{for(Be.s();!(de=Be.n()).done;)de.value.matchIndex=J}catch(it){Be.e(it)}finally{Be.f()}}}catch(it){ve.e(it)}finally{ve.f()}}}catch(it){F.e(it)}finally{F.f()}})(x,0,this.options.searchInsidePreTag,this.options.searchInsidePostTag),this.searchResults=x||[],this.updateSearchHilites(),this.removeProgressPopup(),O.goToFirstResult&&this._searchPluginGoToResult(0),this.trigger("SearchCallback",{results:x,options:O,instance:this})},BookReader.prototype.BRSearchCallbackError=function(x){this._BRSearchCallbackError(x)},BookReader.prototype._BRSearchCallbackError=function(x){this.searchResults=x;var O={term:this.searchTerm,instance:this};if(x.error){var I=Object.assign({},O,{results:x});this.trigger("SearchCallbackError",I)}else if(x.matches.length==0){if(x.indexed===!1)return void this.trigger("SearchCallbackBookNotIndexed",O);this.trigger("SearchCallbackEmpty",O)}},BookReader.prototype.updateSearchHilites=function(){var x,O=((x=this.searchResults)===null||x===void 0?void 0:x.matches)||[],I={};this.removeSearchHilites();var P,D,V,q=c(O);try{for(q.s();!(P=q.n()).done;){var z,he=c(P.value.par[0].boxes);try{for(he.s();!(z=he.n()).done;){var Y=z.value,B=this.book.leafNumToIndex(Y.page);(I[B]||(I[B]=[])).push(Y)}}catch(ot){he.e(ot)}finally{he.f()}}}catch(ot){q.e(ot)}finally{q.f()}for(var F=0,ce=Object.entries(I);F<ce.length;F++){var J,ae=(D=ce[F],V=2,function(ot){if(Array.isArray(ot))return ot}(D)||function(ot,Ae){var xe=ot==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&ot[Symbol.iterator]||ot["@@iterator"];if(xe!=null){var De,et,Ve,je,He=[],qe=!0,lt=!1;try{if(Ve=(xe=xe.call(ot)).next,Ae===0){if(Object(xe)!==xe)return;qe=!1}else for(;!(qe=(De=Ve.call(xe)).done)&&(He.push(De.value),He.length!==Ae);qe=!0);}catch(_t){lt=!0,et=_t}finally{try{if(!qe&&xe.return!=null&&(je=xe.return(),Object(je)!==je))return}finally{if(lt)throw et}}return He}}(D,V)||h(D,V)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),se=ae[0],ve=ae[1],de=parseFloat(se),Be=this.book.getPage(de),it=c(this.getActivePageContainerElementsForIndex(de));try{var mt=function(ot,Ae){var xe=J.value;(0,k.KL)("searchHiliteLayer",ve,Be,xe,ve.map(function(De){return"match-index-".concat(De.matchIndex)}))};for(it.s();!(J=it.n()).done;)mt(F,ce)}catch(ot){it.e(ot)}finally{it.f()}}this._searchBoxesByIndex=I},BookReader.prototype.removeSearchHilites=function(){p(this.getActivePageContainerElements()).find(".searchHiliteLayer").remove()},BookReader.prototype._searchPluginGoToResult=function(){var x=b(_().mark(function O(I){var P,D,V,q,z,he,Y,B,F,ce,J,ae;return _().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(D=(P=this.searchResults)===null||P===void 0?void 0:P.matches[I],V=this.book,q=V.leafNumToIndex(D.par[0].page),z=V.getPage(q),he=Math.abs(this.currentIndex()-q)<3,Y=!1,z.isViewable){se.next=17;break}return se.next=9,fetch("/services/bookreader/request_page?"+new URLSearchParams({id:this.options.bookId,subprefix:this.options.subPrefix,leafNum:z.leafNum})).then(function(ve){return ve.json()});case 9:B=se.sent,F=c(B.value);try{for(F.s();!(ce=F.n()).done;)J=ce.value,V.getPage(V.leafNumToIndex(J)).makeViewable()}catch(ve){F.e(ve)}finally{F.f()}if(B.value.length||(V.getPage(q).makeViewable(),Y=!0),this._modes.mode1Up.mode1UpLit.updatePages(),this.activeMode!=this._modes.mode1Up){se.next=17;break}return se.next=17,this._modes.mode1Up.mode1UpLit.updateComplete;case 17:return this._isIndexDisplayed(q)||(this.suppressFragmentChange=!1,this.jumpToIndex(q)),Y&&V.getPage(q).makeViewable(!1),se.next=21,(0,w.poll)(function(){return p("rect.match-index-".concat(D.matchIndex))},{until:function(de){return de.length>0}});case 21:if(!(ae=se.sent).length){se.next=28;break}return ae.css("animation","none"),ae[0].scrollIntoView({block:this.constMode1up==this.mode||this.isFullscreenActive?"center":"nearest",inline:"center",behavior:he?"smooth":"auto"}),se.next=27,new Promise(function(ve){return setTimeout(ve,100)});case 27:ae.removeAttr("style");case 28:case"end":return se.stop()}},O,this)}));return function(O){return x.apply(this,arguments)}}(),BookReader.prototype.removeSearchResults=function(){var x=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.removeSearchHilites(),this.searchTerm=null,this.searchResults=null,x||this.trigger(BookReader.eventNames.fragmentChange)},BookReader.prototype.searchHighlightVisible=function(){var x=this,O=this.searchResults,I=[];if(O==null)return!1;if(this.constMode2up==this.mode)I=[this.twoPage.currentIndexL,this.twoPage.currentIndexR];else{if(this.constMode1up!=this.mode)return!1;I=[this.currentIndex()]}return O.matches.some(function(P){return P.par[0].boxes.some(function(D){var V=x.book.leafNumToIndex(D.page);if(u.inArray(V,I)>=0)return!0})}),!1}},5506:function(t,e,n){var o=n(6518),l=n(2357).entries;o({target:"Object",stat:!0},{entries:function(s){return l(s)}})}},function(t){t(t.s=9007)}])}),Sm={},C7(Sm,{default:function(){return Am}}),O7=km(xm()),A7(Sm,km(xm()));var g;tr=O7,g=tr,Cm=g.default,j7=Bi(tr,["default"]),Am=Cm!==void 0?Cm:j7}}),T7={};wi(T7,{default:function(){return Am}});var rP=Ht({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-82/BookReader/plugins/plugin.search.js":function(){E7(),E7()}}),P7,mh,I7,M7,L7,R7,D7,$7,gh,N7,Om,jm,Em,B7,tr,Tm,z7,Pm,F7=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/bookreader@5.0.0-82/esnext/BookReader/plugins/plugin.tts.js":function(){P7=Object.create,mh=Object.defineProperty,I7=Object.getOwnPropertyDescriptor,M7=Object.getOwnPropertyNames,L7=Object.getPrototypeOf,R7=Object.prototype.hasOwnProperty,D7=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},$7=function(t,e){for(var n in e)mh(t,n,{get:e[n],enumerable:!0})},gh=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!R7.call(t,v)&&v!==n&&mh(t,v,{get:function(){return e[v]},enumerable:!(o=I7(e,v))||o.enumerable})},d=M7(e)[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0)r(d,c)}catch(h){a=!0,s=h}finally{try{!l&&d.return!=null&&d.return()}finally{if(a)throw s}}return t},N7=function(t,e,n){return gh(t,e,"default"),n&&gh(n,e,"default")},Om=function(t,e,n){return n=t!=null?P7(L7(t)):{},gh(e||!t||!t.__esModule?mh(n,"default",{value:t,enumerable:!0}):n,t)},jm=D7(function(){(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[51],{7653:function(t,e,n){"use strict";var o=function(G,H){return function(Z){if(Array.isArray(Z))return Z}(G)||function(Z,oe){var me=Z==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(me!=null){var Oe,Pe,Xe,Me,Qe=[],ht=!0,Vt=!1;try{if(Xe=(me=me.call(Z)).next,oe===0){if(Object(me)!==me)return;ht=!1}else for(;!(ht=(Oe=Xe.call(me)).done)&&(Qe.push(Oe.value),Qe.length!==oe);ht=!0);}catch($t){Vt=!0,Pe=$t}finally{try{if(!ht&&me.return!=null&&(Me=me.return(),Object(Me)!==Me))return}finally{if(Vt)throw Pe}}return Qe}}(G,H)||function(Z,oe){if(Z){if(typeof Z=="string")return l(Z,oe);var me={}.toString.call(Z).slice(8,-1);return me==="Object"&&Z.constructor&&(me=Z.constructor.name),me==="Map"||me==="Set"?Array.from(Z):me==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(me)?l(Z,oe):void 0}}(G,H)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},l=function(G,H){(H==null||H>G.length)&&(H=G.length);for(var Z=0,oe=Array(H);Z<H;Z++)oe[Z]=G[Z];return oe},a=function(G,H,Z,oe,me,Oe,Pe){try{var Xe=G[Oe](Pe),Me=Xe.value}catch(Qe){return void Z(Qe)}Xe.done?H(Me):Promise.resolve(Me).then(oe,me)},s=function(G,H){for(var Z=0;Z<H.length;Z++){var oe=H[Z];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(G,r(oe.key),oe)}},r=function(G){var H=function(Z,oe){if(J(Z)!="object"||!Z)return Z;var me=Z[Symbol.toPrimitive];if(me!==void 0){var Oe=me.call(Z,"string");if(J(Oe)!="object")return Oe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Z)}(G);return J(H)=="symbol"?H:H+""},d=function(G,H,Z,oe,me,Oe,Pe){try{var Xe=G[Oe](Pe),Me=Xe.value}catch(Qe){return void Z(Qe)}Xe.done?H(Me):Promise.resolve(Me).then(oe,me)},c=function(G,H){for(var Z=0;Z<H.length;Z++){var oe=H[Z];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(G,h(oe.key),oe)}},h=function(G){var H=function(Z,oe){if(ve(Z)!="object"||!Z)return Z;var me=Z[Symbol.toPrimitive];if(me!==void 0){var Oe=me.call(Z,"string");if(ve(Oe)!="object")return Oe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Z)}(G);return ve(H)=="symbol"?H:H+""},f=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent;return/android/i.test(G)},v=function(G,H){for(var Z=0;Z<mt.A.length;Z++)for(var oe=0;oe<H.length;oe++){var me=H[oe];if(mt.A[Z][ot[me]].split(", ").map(function(Oe){return Oe.toLowerCase()}).indexOf(G)!=-1)return mt.A[Z][ot["ISO 639-1"]]}return null},b=function(){try{return!!window.localStorage}catch(G){return!1}},w=function(G,H){(H==null||H>G.length)&&(H=G.length);for(var Z=0,oe=Array(H);Z<H;Z++)oe[Z]=G[Z];return oe},k=function(G,H,Z,oe,me,Oe,Pe){try{var Xe=G[Oe](Pe),Me=Xe.value}catch(Qe){return void Z(Qe)}Xe.done?H(Me):Promise.resolve(Me).then(oe,me)},C=function(G){return function(){var H=this,Z=arguments;return new Promise(function(oe,me){var Oe=G.apply(H,Z);function Pe(Me){k(Oe,oe,me,Pe,Xe,"next",Me)}function Xe(Me){k(Oe,oe,me,Pe,Xe,"throw",Me)}Pe(void 0)})}},E=function(G,H){for(var Z=0;Z<H.length;Z++){var oe=H[Z];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(G,A(oe.key),oe)}},A=function(G){var H=function(Z,oe){if(xe(Z)!="object"||!Z)return Z;var me=Z[Symbol.toPrimitive];if(me!==void 0){var Oe=me.call(Z,"string");if(xe(Oe)!="object")return Oe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Z)}(G);return xe(H)=="symbol"?H:H+""},j=function(G,H,Z,oe,me,Oe,Pe){try{var Xe=G[Oe](Pe),Me=Xe.value}catch(Qe){return void Z(Qe)}Xe.done?H(Me):Promise.resolve(Me).then(oe,me)},y=function(G){return function(){var H=this,Z=arguments;return new Promise(function(oe,me){var Oe=G.apply(H,Z);function Pe(Me){j(Oe,oe,me,Pe,Xe,"next",Me)}function Xe(Me){j(Oe,oe,me,Pe,Xe,"throw",Me)}Pe(void 0)})}},u=function(G,H){if(!_instanceof(G,H))throw new TypeError("Cannot call a class as a function")},p=function(G,H){for(var Z=0;Z<H.length;Z++){var oe=H[Z];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(G,_(oe.key),oe)}},m=function(G,H,Z){return H&&p(G.prototype,H),Z&&p(G,Z),Object.defineProperty(G,"prototype",{writable:!1}),G},_=function(G){var H=function(Z,oe){if(He(Z)!="object"||!Z)return Z;var me=Z[Symbol.toPrimitive];if(me!==void 0){var Oe=me.call(Z,"string");if(He(Oe)!="object")return Oe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Z)}(G);return He(H)=="symbol"?H:H+""},x=function(G,H,Z){return H=be(H),function(oe,me){if(me&&(He(me)=="object"||typeof me=="function"))return me;if(me!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Oe){if(Oe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Oe}(oe)}(G,lt()?Reflect.construct(H,Z||[],be(G).constructor):H.apply(G,Z))},O=function(G,H,Z,oe,me,Oe,Pe){try{var Xe=G[Oe](Pe),Me=Xe.value}catch(Qe){return void Z(Qe)}Xe.done?H(Me):Promise.resolve(Me).then(oe,me)},I=function(G){return function(){var H=this,Z=arguments;return new Promise(function(oe,me){var Oe=G.apply(H,Z);function Pe(Me){O(Oe,oe,me,Pe,Xe,"next",Me)}function Xe(Me){O(Oe,oe,me,Pe,Xe,"throw",Me)}Pe(void 0)})}},P=function(G,H){if(!_instanceof(G,H))throw new TypeError("Cannot call a class as a function")},D=function(G,H){for(var Z=0;Z<H.length;Z++){var oe=H[Z];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(G,q(oe.key),oe)}},V=function(G,H,Z){return H&&D(G.prototype,H),Z&&D(G,Z),Object.defineProperty(G,"prototype",{writable:!1}),G},q=function(G){var H=function(Z,oe){if(Ct(Z)!="object"||!Z)return Z;var me=Z[Symbol.toPrimitive];if(me!==void 0){var Oe=me.call(Z,"string");if(Ct(Oe)!="object")return Oe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Z)}(G);return Ct(H)=="symbol"?H:H+""},z=function(G,H,Z){return H=ct(H),function(oe,me){if(me&&(Ct(me)=="object"||typeof me=="function"))return me;if(me!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Oe){if(Oe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Oe}(oe)}(G,nt()?Reflect.construct(H,Z||[],ct(G).constructor):H.apply(G,Z))},he=function(G,H){return function(Z){if(Array.isArray(Z))return Z}(G)||function(Z,oe){var me=Z==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(me!=null){var Oe,Pe,Xe,Me,Qe=[],ht=!0,Vt=!1;try{if(Xe=(me=me.call(Z)).next,oe===0){if(Object(me)!==me)return;ht=!1}else for(;!(ht=(Oe=Xe.call(me)).done)&&(Qe.push(Oe.value),Qe.length!==oe);ht=!0);}catch($t){Vt=!0,Pe=$t}finally{try{if(!ht&&me.return!=null&&(Me=me.return(),Object(Me)!==Me))return}finally{if(Vt)throw Pe}}return Qe}}(G,H)||function(Z,oe){if(Z){if(typeof Z=="string")return Y(Z,oe);var me={}.toString.call(Z).slice(8,-1);return me==="Object"&&Z.constructor&&(me=Z.constructor.name),me==="Map"||me==="Set"?Array.from(Z):me==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(me)?Y(Z,oe):void 0}}(G,H)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},Y=function(G,H){(H==null||H>G.length)&&(H=G.length);for(var Z=0,oe=Array(H);Z<H;Z++)oe[Z]=G[Z];return oe},B=function(G,H,Z,oe,me,Oe,Pe){try{var Xe=G[Oe](Pe),Me=Xe.value}catch(Qe){return void Z(Qe)}Xe.done?H(Me):Promise.resolve(Me).then(oe,me)},F=function(G){return function(){var H=this,Z=arguments;return new Promise(function(oe,me){var Oe=G.apply(H,Z);function Pe(Me){B(Oe,oe,me,Pe,Xe,"next",Me)}function Xe(Me){B(Oe,oe,me,Pe,Xe,"throw",Me)}Pe(void 0)})}};n(2675),n(9463),n(6412),n(2259),n(5700),n(8125),n(8706),n(2008),n(113),n(3418),n(3792),n(8598),n(2062),n(4490),n(4782),n(6910),n(9572),n(2010),n(4731),n(479),n(8130),n(5506),n(875),n(6099),n(8459),n(3362),n(7495),n(8781),n(7764),n(1761),n(1392),n(3500),n(2953),n(3851),n(825),n(888),n(5440),n(9085);var ce=n(1669);function J(ie){return J=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(H){return typeof H=="undefined"?"undefined":_typeof(H)}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G=="undefined"?"undefined":_typeof(G)},J(ie)}function ae(){ae=function(){return G};var ie,G={},H=Object.prototype,Z=H.hasOwnProperty,oe=Object.defineProperty||function(Ne,ue,Te){Ne[ue]=Te.value},me=typeof Symbol=="function"?Symbol:{},Oe=me.iterator||"@@iterator",Pe=me.asyncIterator||"@@asyncIterator",Xe=me.toStringTag||"@@toStringTag";function Me(Ne,ue,Te){return Object.defineProperty(Ne,ue,{value:Te,enumerable:!0,configurable:!0,writable:!0}),Ne[ue]}try{Me({},"")}catch(Ne){Me=function(Te,ft,Tt){return Te[ft]=Tt}}function Qe(Ne,ue,Te,ft){var Tt=ue&&_instanceof(ue.prototype,an)?ue:an,St=Object.create(Tt.prototype),sn=new Tn(ft||[]);return oe(St,"_invoke",{value:Qn(Ne,Te,sn)}),St}function ht(Ne,ue,Te){try{return{type:"normal",arg:Ne.call(ue,Te)}}catch(ft){return{type:"throw",arg:ft}}}G.wrap=Qe;var Vt="suspendedStart",$t="suspendedYield",zt="executing",qt="completed",Bt={};function an(){}function cn(){}function It(){}var nn={};Me(nn,Oe,function(){return this});var Kt=Object.getPrototypeOf,Pn=Kt&&Kt(Kt(Sr([])));Pn&&Pn!==H&&Z.call(Pn,Oe)&&(nn=Pn);var Xt=It.prototype=an.prototype=Object.create(nn);function ar(Ne){["next","throw","return"].forEach(function(ue){Me(Ne,ue,function(Te){return this._invoke(ue,Te)})})}function Fn(Ne,ue){function Te(Tt,St,sn,Mn){var Nn=ht(Ne[Tt],Ne,St);if(Nn.type!=="throw"){var cr=Nn.arg,or=cr.value;return or&&J(or)=="object"&&Z.call(or,"__await")?ue.resolve(or.__await).then(function(Ar){Te("next",Ar,sn,Mn)},function(Ar){Te("throw",Ar,sn,Mn)}):ue.resolve(or).then(function(Ar){cr.value=Ar,sn(cr)},function(Ar){return Te("throw",Ar,sn,Mn)})}Mn(Nn.arg)}var ft;oe(this,"_invoke",{value:function(St,sn){function Mn(){return new ue(function(Nn,cr){Te(St,sn,Nn,cr)})}return ft=ft?ft.then(Mn,Mn):Mn()}})}function Qn(Ne,ue,Te){var ft=Vt;return function(Tt,St){if(ft===zt)throw Error("Generator is already running");if(ft===qt){if(Tt==="throw")throw St;return{value:ie,done:!0}}for(Te.method=Tt,Te.arg=St;;){var sn=Te.delegate;if(sn){var Mn=en(sn,Te);if(Mn){if(Mn===Bt)continue;return Mn}}if(Te.method==="next")Te.sent=Te._sent=Te.arg;else if(Te.method==="throw"){if(ft===Vt)throw ft=qt,Te.arg;Te.dispatchException(Te.arg)}else Te.method==="return"&&Te.abrupt("return",Te.arg);ft=zt;var Nn=ht(Ne,ue,Te);if(Nn.type==="normal"){if(ft=Te.done?qt:$t,Nn.arg===Bt)continue;return{value:Nn.arg,done:Te.done}}Nn.type==="throw"&&(ft=qt,Te.method="throw",Te.arg=Nn.arg)}}}function en(Ne,ue){var Te=ue.method,ft=Ne.iterator[Te];if(ft===ie)return ue.delegate=null,Te==="throw"&&Ne.iterator.return&&(ue.method="return",ue.arg=ie,en(Ne,ue),ue.method==="throw")||Te!=="return"&&(ue.method="throw",ue.arg=new TypeError("The iterator does not provide a '"+Te+"' method")),Bt;var Tt=ht(ft,Ne.iterator,ue.arg);if(Tt.type==="throw")return ue.method="throw",ue.arg=Tt.arg,ue.delegate=null,Bt;var St=Tt.arg;return St?St.done?(ue[Ne.resultName]=St.value,ue.next=Ne.nextLoc,ue.method!=="return"&&(ue.method="next",ue.arg=ie),ue.delegate=null,Bt):St:(ue.method="throw",ue.arg=new TypeError("iterator result is not an object"),ue.delegate=null,Bt)}function bn(Ne){var ue={tryLoc:Ne[0]};1 in Ne&&(ue.catchLoc=Ne[1]),2 in Ne&&(ue.finallyLoc=Ne[2],ue.afterLoc=Ne[3]),this.tryEntries.push(ue)}function Zn(Ne){var ue=Ne.completion||{};ue.type="normal",delete ue.arg,Ne.completion=ue}function Tn(Ne){this.tryEntries=[{tryLoc:"root"}],Ne.forEach(bn,this),this.reset(!0)}function Sr(Ne){if(Ne||Ne===""){var ue=Ne[Oe];if(ue)return ue.call(Ne);if(typeof Ne.next=="function")return Ne;if(!isNaN(Ne.length)){var Te=-1,ft=function Tt(){for(;++Te<Ne.length;)if(Z.call(Ne,Te))return Tt.value=Ne[Te],Tt.done=!1,Tt;return Tt.value=ie,Tt.done=!0,Tt};return ft.next=ft}}throw new TypeError(J(Ne)+" is not iterable")}return cn.prototype=It,oe(Xt,"constructor",{value:It,configurable:!0}),oe(It,"constructor",{value:cn,configurable:!0}),cn.displayName=Me(It,Xe,"GeneratorFunction"),G.isGeneratorFunction=function(Ne){var ue=typeof Ne=="function"&&Ne.constructor;return!!ue&&(ue===cn||(ue.displayName||ue.name)==="GeneratorFunction")},G.mark=function(Ne){return Object.setPrototypeOf?Object.setPrototypeOf(Ne,It):(Ne.__proto__=It,Me(Ne,Xe,"GeneratorFunction")),Ne.prototype=Object.create(Xt),Ne},G.awrap=function(Ne){return{__await:Ne}},ar(Fn.prototype),Me(Fn.prototype,Pe,function(){return this}),G.AsyncIterator=Fn,G.async=function(Ne,ue,Te,ft,Tt){Tt===void 0&&(Tt=Promise);var St=new Fn(Qe(Ne,ue,Te,ft),Tt);return G.isGeneratorFunction(ue)?St:St.next().then(function(sn){return sn.done?sn.value:St.next()})},ar(Xt),Me(Xt,Xe,"Generator"),Me(Xt,Oe,function(){return this}),Me(Xt,"toString",function(){return"[object Generator]"}),G.keys=function(Ne){var ue=Object(Ne),Te=[];for(var ft in ue)Te.push(ft);return Te.reverse(),function Tt(){for(;Te.length;){var St=Te.pop();if(St in ue)return Tt.value=St,Tt.done=!1,Tt}return Tt.done=!0,Tt}},G.values=Sr,Tn.prototype={constructor:Tn,reset:function(ue){if(this.prev=0,this.next=0,this.sent=this._sent=ie,this.done=!1,this.delegate=null,this.method="next",this.arg=ie,this.tryEntries.forEach(Zn),!ue)for(var Te in this)Te.charAt(0)==="t"&&Z.call(this,Te)&&!isNaN(+Te.slice(1))&&(this[Te]=ie)},stop:function(){this.done=!0;var ue=this.tryEntries[0].completion;if(ue.type==="throw")throw ue.arg;return this.rval},dispatchException:function(ue){if(this.done)throw ue;var Te=this;function ft(cr,or){return sn.type="throw",sn.arg=ue,Te.next=cr,or&&(Te.method="next",Te.arg=ie),!!or}for(var Tt=this.tryEntries.length-1;Tt>=0;--Tt){var St=this.tryEntries[Tt],sn=St.completion;if(St.tryLoc==="root")return ft("end");if(St.tryLoc<=this.prev){var Mn=Z.call(St,"catchLoc"),Nn=Z.call(St,"finallyLoc");if(Mn&&Nn){if(this.prev<St.catchLoc)return ft(St.catchLoc,!0);if(this.prev<St.finallyLoc)return ft(St.finallyLoc)}else if(Mn){if(this.prev<St.catchLoc)return ft(St.catchLoc,!0)}else{if(!Nn)throw Error("try statement without catch or finally");if(this.prev<St.finallyLoc)return ft(St.finallyLoc)}}}},abrupt:function(ue,Te){for(var ft=this.tryEntries.length-1;ft>=0;--ft){var Tt=this.tryEntries[ft];if(Tt.tryLoc<=this.prev&&Z.call(Tt,"finallyLoc")&&this.prev<Tt.finallyLoc){var St=Tt;break}}St&&(ue==="break"||ue==="continue")&&St.tryLoc<=Te&&Te<=St.finallyLoc&&(St=null);var sn=St?St.completion:{};return sn.type=ue,sn.arg=Te,St?(this.method="next",this.next=St.finallyLoc,Bt):this.complete(sn)},complete:function(ue,Te){if(ue.type==="throw")throw ue.arg;return ue.type==="break"||ue.type==="continue"?this.next=ue.arg:ue.type==="return"?(this.rval=this.arg=ue.arg,this.method="return",this.next="end"):ue.type==="normal"&&Te&&(this.next=Te),Bt},finish:function(ue){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var ft=this.tryEntries[Te];if(ft.finallyLoc===ue)return this.complete(ft.completion,ft.afterLoc),Zn(ft),Bt}},catch:function(ue){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var ft=this.tryEntries[Te];if(ft.tryLoc===ue){var Tt=ft.completion;if(Tt.type==="throw"){var St=Tt.arg;Zn(ft)}return St}}throw Error("illegal catch attempt")},delegateYield:function(ue,Te,ft){return this.delegate={iterator:Sr(ue),resultName:Te,nextLoc:ft},this.method==="next"&&(this.arg=ie),Bt}},G}var se=function(){function ie(me,Oe,Pe,Xe){(function(Me,Qe){if(!_instanceof(Me,Qe))throw new TypeError("Cannot call a class as a function")})(this,ie),this.leafIndex=me,this.chunkIndex=Oe,this.text=Pe,this.lineRects=Xe}return G=ie,H=[{key:"fetch",value:(Z=ae().mark(function me(Oe,Pe,Xe){var Me;return ae().wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:return Qe.next=2,ce.ajax({type:"GET",url:"https://".concat(Oe,"/BookReader/BookReaderGetTextWrapper.php"),dataType:"jsonp",cache:!0,data:{path:"".concat(Pe,"_djvu.xml"),page:Xe}});case 2:return Me=Qe.sent,Qe.abrupt("return",ie._fromTextWrapperResponse(Xe,Me));case 4:case"end":return Qe.stop()}},me)}),oe=function(){var Oe=this,Pe=arguments;return new Promise(function(Xe,Me){var Qe=Z.apply(Oe,Pe);function ht($t){a(Qe,Xe,Me,ht,Vt,"next",$t)}function Vt($t){a(Qe,Xe,Me,ht,Vt,"throw",$t)}ht(void 0)})},function(me,Oe,Pe){return oe.apply(this,arguments)})},{key:"_fromTextWrapperResponse",value:function(Oe,Pe){return Pe.map(function(Xe,Me){var Qe=ie._fixChunkRects(Xe.slice(1)),ht=ie._removeDanglingHyphens(Xe[0]);return new ie(Oe,Me,ht,Qe)})}},{key:"_fixChunkRects",value:function(Oe){if(Oe.length<2)return Oe;var Pe=o(Oe,2),Xe=Pe[0],Me=Pe[1],Qe=o(Xe,3),ht=Qe[0],Vt=Qe[1],$t=Qe[2]-ht,zt=Me[1]-Me[3],qt=Me[2]-Me[0],Bt=Me[2];return $t>30*qt&&(Xe[2]=Bt,Xe[3]=Vt-zt),Oe}},{key:"_removeDanglingHyphens",value:function(Oe){return Oe.replace(/[-¬]\s+/g,"")}}],H&&s(G,H),Object.defineProperty(G,"prototype",{writable:!1}),G;var G,H,Z,oe}();function ve(ie){return ve=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(H){return typeof H=="undefined"?"undefined":_typeof(H)}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G=="undefined"?"undefined":_typeof(G)},ve(ie)}function de(){de=function(){return G};var ie,G={},H=Object.prototype,Z=H.hasOwnProperty,oe=Object.defineProperty||function(Ne,ue,Te){Ne[ue]=Te.value},me=typeof Symbol=="function"?Symbol:{},Oe=me.iterator||"@@iterator",Pe=me.asyncIterator||"@@asyncIterator",Xe=me.toStringTag||"@@toStringTag";function Me(Ne,ue,Te){return Object.defineProperty(Ne,ue,{value:Te,enumerable:!0,configurable:!0,writable:!0}),Ne[ue]}try{Me({},"")}catch(Ne){Me=function(Te,ft,Tt){return Te[ft]=Tt}}function Qe(Ne,ue,Te,ft){var Tt=ue&&_instanceof(ue.prototype,an)?ue:an,St=Object.create(Tt.prototype),sn=new Tn(ft||[]);return oe(St,"_invoke",{value:Qn(Ne,Te,sn)}),St}function ht(Ne,ue,Te){try{return{type:"normal",arg:Ne.call(ue,Te)}}catch(ft){return{type:"throw",arg:ft}}}G.wrap=Qe;var Vt="suspendedStart",$t="suspendedYield",zt="executing",qt="completed",Bt={};function an(){}function cn(){}function It(){}var nn={};Me(nn,Oe,function(){return this});var Kt=Object.getPrototypeOf,Pn=Kt&&Kt(Kt(Sr([])));Pn&&Pn!==H&&Z.call(Pn,Oe)&&(nn=Pn);var Xt=It.prototype=an.prototype=Object.create(nn);function ar(Ne){["next","throw","return"].forEach(function(ue){Me(Ne,ue,function(Te){return this._invoke(ue,Te)})})}function Fn(Ne,ue){function Te(Tt,St,sn,Mn){var Nn=ht(Ne[Tt],Ne,St);if(Nn.type!=="throw"){var cr=Nn.arg,or=cr.value;return or&&ve(or)=="object"&&Z.call(or,"__await")?ue.resolve(or.__await).then(function(Ar){Te("next",Ar,sn,Mn)},function(Ar){Te("throw",Ar,sn,Mn)}):ue.resolve(or).then(function(Ar){cr.value=Ar,sn(cr)},function(Ar){return Te("throw",Ar,sn,Mn)})}Mn(Nn.arg)}var ft;oe(this,"_invoke",{value:function(St,sn){function Mn(){return new ue(function(Nn,cr){Te(St,sn,Nn,cr)})}return ft=ft?ft.then(Mn,Mn):Mn()}})}function Qn(Ne,ue,Te){var ft=Vt;return function(Tt,St){if(ft===zt)throw Error("Generator is already running");if(ft===qt){if(Tt==="throw")throw St;return{value:ie,done:!0}}for(Te.method=Tt,Te.arg=St;;){var sn=Te.delegate;if(sn){var Mn=en(sn,Te);if(Mn){if(Mn===Bt)continue;return Mn}}if(Te.method==="next")Te.sent=Te._sent=Te.arg;else if(Te.method==="throw"){if(ft===Vt)throw ft=qt,Te.arg;Te.dispatchException(Te.arg)}else Te.method==="return"&&Te.abrupt("return",Te.arg);ft=zt;var Nn=ht(Ne,ue,Te);if(Nn.type==="normal"){if(ft=Te.done?qt:$t,Nn.arg===Bt)continue;return{value:Nn.arg,done:Te.done}}Nn.type==="throw"&&(ft=qt,Te.method="throw",Te.arg=Nn.arg)}}}function en(Ne,ue){var Te=ue.method,ft=Ne.iterator[Te];if(ft===ie)return ue.delegate=null,Te==="throw"&&Ne.iterator.return&&(ue.method="return",ue.arg=ie,en(Ne,ue),ue.method==="throw")||Te!=="return"&&(ue.method="throw",ue.arg=new TypeError("The iterator does not provide a '"+Te+"' method")),Bt;var Tt=ht(ft,Ne.iterator,ue.arg);if(Tt.type==="throw")return ue.method="throw",ue.arg=Tt.arg,ue.delegate=null,Bt;var St=Tt.arg;return St?St.done?(ue[Ne.resultName]=St.value,ue.next=Ne.nextLoc,ue.method!=="return"&&(ue.method="next",ue.arg=ie),ue.delegate=null,Bt):St:(ue.method="throw",ue.arg=new TypeError("iterator result is not an object"),ue.delegate=null,Bt)}function bn(Ne){var ue={tryLoc:Ne[0]};1 in Ne&&(ue.catchLoc=Ne[1]),2 in Ne&&(ue.finallyLoc=Ne[2],ue.afterLoc=Ne[3]),this.tryEntries.push(ue)}function Zn(Ne){var ue=Ne.completion||{};ue.type="normal",delete ue.arg,Ne.completion=ue}function Tn(Ne){this.tryEntries=[{tryLoc:"root"}],Ne.forEach(bn,this),this.reset(!0)}function Sr(Ne){if(Ne||Ne===""){var ue=Ne[Oe];if(ue)return ue.call(Ne);if(typeof Ne.next=="function")return Ne;if(!isNaN(Ne.length)){var Te=-1,ft=function Tt(){for(;++Te<Ne.length;)if(Z.call(Ne,Te))return Tt.value=Ne[Te],Tt.done=!1,Tt;return Tt.value=ie,Tt.done=!0,Tt};return ft.next=ft}}throw new TypeError(ve(Ne)+" is not iterable")}return cn.prototype=It,oe(Xt,"constructor",{value:It,configurable:!0}),oe(It,"constructor",{value:cn,configurable:!0}),cn.displayName=Me(It,Xe,"GeneratorFunction"),G.isGeneratorFunction=function(Ne){var ue=typeof Ne=="function"&&Ne.constructor;return!!ue&&(ue===cn||(ue.displayName||ue.name)==="GeneratorFunction")},G.mark=function(Ne){return Object.setPrototypeOf?Object.setPrototypeOf(Ne,It):(Ne.__proto__=It,Me(Ne,Xe,"GeneratorFunction")),Ne.prototype=Object.create(Xt),Ne},G.awrap=function(Ne){return{__await:Ne}},ar(Fn.prototype),Me(Fn.prototype,Pe,function(){return this}),G.AsyncIterator=Fn,G.async=function(Ne,ue,Te,ft,Tt){Tt===void 0&&(Tt=Promise);var St=new Fn(Qe(Ne,ue,Te,ft),Tt);return G.isGeneratorFunction(ue)?St:St.next().then(function(sn){return sn.done?sn.value:St.next()})},ar(Xt),Me(Xt,Xe,"Generator"),Me(Xt,Oe,function(){return this}),Me(Xt,"toString",function(){return"[object Generator]"}),G.keys=function(Ne){var ue=Object(Ne),Te=[];for(var ft in ue)Te.push(ft);return Te.reverse(),function Tt(){for(;Te.length;){var St=Te.pop();if(St in ue)return Tt.value=St,Tt.done=!1,Tt}return Tt.done=!0,Tt}},G.values=Sr,Tn.prototype={constructor:Tn,reset:function(ue){if(this.prev=0,this.next=0,this.sent=this._sent=ie,this.done=!1,this.delegate=null,this.method="next",this.arg=ie,this.tryEntries.forEach(Zn),!ue)for(var Te in this)Te.charAt(0)==="t"&&Z.call(this,Te)&&!isNaN(+Te.slice(1))&&(this[Te]=ie)},stop:function(){this.done=!0;var ue=this.tryEntries[0].completion;if(ue.type==="throw")throw ue.arg;return this.rval},dispatchException:function(ue){if(this.done)throw ue;var Te=this;function ft(cr,or){return sn.type="throw",sn.arg=ue,Te.next=cr,or&&(Te.method="next",Te.arg=ie),!!or}for(var Tt=this.tryEntries.length-1;Tt>=0;--Tt){var St=this.tryEntries[Tt],sn=St.completion;if(St.tryLoc==="root")return ft("end");if(St.tryLoc<=this.prev){var Mn=Z.call(St,"catchLoc"),Nn=Z.call(St,"finallyLoc");if(Mn&&Nn){if(this.prev<St.catchLoc)return ft(St.catchLoc,!0);if(this.prev<St.finallyLoc)return ft(St.finallyLoc)}else if(Mn){if(this.prev<St.catchLoc)return ft(St.catchLoc,!0)}else{if(!Nn)throw Error("try statement without catch or finally");if(this.prev<St.finallyLoc)return ft(St.finallyLoc)}}}},abrupt:function(ue,Te){for(var ft=this.tryEntries.length-1;ft>=0;--ft){var Tt=this.tryEntries[ft];if(Tt.tryLoc<=this.prev&&Z.call(Tt,"finallyLoc")&&this.prev<Tt.finallyLoc){var St=Tt;break}}St&&(ue==="break"||ue==="continue")&&St.tryLoc<=Te&&Te<=St.finallyLoc&&(St=null);var sn=St?St.completion:{};return sn.type=ue,sn.arg=Te,St?(this.method="next",this.next=St.finallyLoc,Bt):this.complete(sn)},complete:function(ue,Te){if(ue.type==="throw")throw ue.arg;return ue.type==="break"||ue.type==="continue"?this.next=ue.arg:ue.type==="return"?(this.rval=this.arg=ue.arg,this.method="return",this.next="end"):ue.type==="normal"&&Te&&(this.next=Te),Bt},finish:function(ue){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var ft=this.tryEntries[Te];if(ft.finallyLoc===ue)return this.complete(ft.completion,ft.afterLoc),Zn(ft),Bt}},catch:function(ue){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var ft=this.tryEntries[Te];if(ft.tryLoc===ue){var Tt=ft.completion;if(Tt.type==="throw"){var St=Tt.arg;Zn(ft)}return St}}throw Error("illegal catch attempt")},delegateYield:function(ue,Te,ft){return this.delegate={iterator:Sr(ue),resultName:Te,nextLoc:ft},this.method==="next"&&(this.arg=ie),Bt}},G}var Be=function(){function ie(me,Oe,Pe){(function(Xe,Me){if(!_instanceof(Xe,Me))throw new TypeError("Cannot call a class as a function")})(this,ie),this.pageCount=me,this.opts=Object.assign({},it,Pe),this._cursor={page:Oe,chunk:0},this._bufferedPages={},this._bufferingPages={},this._cursorLock=Promise.resolve()}return G=ie,H=[{key:"next",value:function(){var Oe=this;return this._cursorLock=this._cursorLock.then(function(){return Oe._nextUncontrolled()})}},{key:"decrement",value:function(){var Oe=this;return this._cursorLock=this._cursorLock.then(function(){return Oe._decrementUncontrolled()})}},{key:"_nextUncontrolled",value:(Z=de().mark(function me(){var Oe;return de().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:if(this._cursor.page!=this.pageCount){Pe.next=2;break}return Pe.abrupt("return",Promise.resolve(ie.AT_END));case 2:return this._recenterBuffer(this._cursor.page),Pe.next=5,this._fetchPageChunks(this._cursor.page);case 5:if(Oe=Pe.sent,this._cursor.chunk!=Oe.length){Pe.next=10;break}return this._cursor.page++,this._cursor.chunk=0,Pe.abrupt("return",this._nextUncontrolled());case 10:return Pe.abrupt("return",Oe[this._cursor.chunk++]);case 11:case"end":return Pe.stop()}},me,this)}),oe=function(){var Oe=this,Pe=arguments;return new Promise(function(Xe,Me){var Qe=Z.apply(Oe,Pe);function ht($t){d(Qe,Xe,Me,ht,Vt,"next",$t)}function Vt($t){d(Qe,Xe,Me,ht,Vt,"throw",$t)}ht(void 0)})},function(){return oe.apply(this,arguments)})},{key:"_decrementUncontrolled",value:function(){var Oe=this,Pe=Promise.resolve();return this._cursor.chunk>0?this._cursor.chunk--:this._cursor.page>0&&(this._cursor.page--,Pe=this._fetchPageChunks(this._cursor.page).then(function(Xe){if(Xe.length==0)return Oe._decrementUncontrolled();Oe._cursor.chunk=Xe.length-1})),Pe.then(function(){return Oe._fetchPageChunks(Oe._cursor.page)})}},{key:"_recenterBuffer",value:function(Oe){for(var Pe=Math.max(0,Oe-this.opts.pageBufferSize),Xe=Math.min(this.pageCount,Oe+this.opts.pageBufferSize+1),Me=Pe;Me<Xe;Me++)this._fetchPageChunks(Me);this._removePageFromBuffer(Pe-1),this._removePageFromBuffer(Xe+1)}},{key:"_removePageFromBuffer",value:function(Oe){delete this._bufferingPages[Oe],delete this._bufferedPages[Oe]}},{key:"_fetchPageChunks",value:function(Oe){var Pe=this;return Oe in this._bufferingPages?this._bufferingPages[Oe]:Oe in this._bufferedPages?Promise.resolve(this._bufferedPages[Oe]):(this._bufferingPages[Oe]=this._fetchPageChunksDirect(Oe).then(function(Xe){return delete Pe._bufferingPages[Oe],Pe._bufferedPages[Oe]=Xe,Xe}),this._bufferingPages[Oe])}},{key:"_fetchPageChunksDirect",value:function(Oe){return se.fetch(this.opts.server,this.opts.bookPath,Oe)}}],H&&c(G.prototype,H),Object.defineProperty(G,"prototype",{writable:!1}),G;var G,H,Z,oe}();Be.AT_END="__PageChunkIterator.AT_END__";var it={server:null,bookPath:null,pageBufferSize:2},mt=n(4031),ot={Name:0,Endonym:1,"ISO 639-1":2,"ISO 639-2/T":3,"ISO 639-2/B":4},Ae=n(1669);function xe(ie){return xe=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(H){return typeof H=="undefined"?"undefined":_typeof(H)}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G=="undefined"?"undefined":_typeof(G)},xe(ie)}function De(){De=function(){return G};var ie,G={},H=Object.prototype,Z=H.hasOwnProperty,oe=Object.defineProperty||function(Ne,ue,Te){Ne[ue]=Te.value},me=typeof Symbol=="function"?Symbol:{},Oe=me.iterator||"@@iterator",Pe=me.asyncIterator||"@@asyncIterator",Xe=me.toStringTag||"@@toStringTag";function Me(Ne,ue,Te){return Object.defineProperty(Ne,ue,{value:Te,enumerable:!0,configurable:!0,writable:!0}),Ne[ue]}try{Me({},"")}catch(Ne){Me=function(Te,ft,Tt){return Te[ft]=Tt}}function Qe(Ne,ue,Te,ft){var Tt=ue&&_instanceof(ue.prototype,an)?ue:an,St=Object.create(Tt.prototype),sn=new Tn(ft||[]);return oe(St,"_invoke",{value:Qn(Ne,Te,sn)}),St}function ht(Ne,ue,Te){try{return{type:"normal",arg:Ne.call(ue,Te)}}catch(ft){return{type:"throw",arg:ft}}}G.wrap=Qe;var Vt="suspendedStart",$t="suspendedYield",zt="executing",qt="completed",Bt={};function an(){}function cn(){}function It(){}var nn={};Me(nn,Oe,function(){return this});var Kt=Object.getPrototypeOf,Pn=Kt&&Kt(Kt(Sr([])));Pn&&Pn!==H&&Z.call(Pn,Oe)&&(nn=Pn);var Xt=It.prototype=an.prototype=Object.create(nn);function ar(Ne){["next","throw","return"].forEach(function(ue){Me(Ne,ue,function(Te){return this._invoke(ue,Te)})})}function Fn(Ne,ue){function Te(Tt,St,sn,Mn){var Nn=ht(Ne[Tt],Ne,St);if(Nn.type!=="throw"){var cr=Nn.arg,or=cr.value;return or&&xe(or)=="object"&&Z.call(or,"__await")?ue.resolve(or.__await).then(function(Ar){Te("next",Ar,sn,Mn)},function(Ar){Te("throw",Ar,sn,Mn)}):ue.resolve(or).then(function(Ar){cr.value=Ar,sn(cr)},function(Ar){return Te("throw",Ar,sn,Mn)})}Mn(Nn.arg)}var ft;oe(this,"_invoke",{value:function(St,sn){function Mn(){return new ue(function(Nn,cr){Te(St,sn,Nn,cr)})}return ft=ft?ft.then(Mn,Mn):Mn()}})}function Qn(Ne,ue,Te){var ft=Vt;return function(Tt,St){if(ft===zt)throw Error("Generator is already running");if(ft===qt){if(Tt==="throw")throw St;return{value:ie,done:!0}}for(Te.method=Tt,Te.arg=St;;){var sn=Te.delegate;if(sn){var Mn=en(sn,Te);if(Mn){if(Mn===Bt)continue;return Mn}}if(Te.method==="next")Te.sent=Te._sent=Te.arg;else if(Te.method==="throw"){if(ft===Vt)throw ft=qt,Te.arg;Te.dispatchException(Te.arg)}else Te.method==="return"&&Te.abrupt("return",Te.arg);ft=zt;var Nn=ht(Ne,ue,Te);if(Nn.type==="normal"){if(ft=Te.done?qt:$t,Nn.arg===Bt)continue;return{value:Nn.arg,done:Te.done}}Nn.type==="throw"&&(ft=qt,Te.method="throw",Te.arg=Nn.arg)}}}function en(Ne,ue){var Te=ue.method,ft=Ne.iterator[Te];if(ft===ie)return ue.delegate=null,Te==="throw"&&Ne.iterator.return&&(ue.method="return",ue.arg=ie,en(Ne,ue),ue.method==="throw")||Te!=="return"&&(ue.method="throw",ue.arg=new TypeError("The iterator does not provide a '"+Te+"' method")),Bt;var Tt=ht(ft,Ne.iterator,ue.arg);if(Tt.type==="throw")return ue.method="throw",ue.arg=Tt.arg,ue.delegate=null,Bt;var St=Tt.arg;return St?St.done?(ue[Ne.resultName]=St.value,ue.next=Ne.nextLoc,ue.method!=="return"&&(ue.method="next",ue.arg=ie),ue.delegate=null,Bt):St:(ue.method="throw",ue.arg=new TypeError("iterator result is not an object"),ue.delegate=null,Bt)}function bn(Ne){var ue={tryLoc:Ne[0]};1 in Ne&&(ue.catchLoc=Ne[1]),2 in Ne&&(ue.finallyLoc=Ne[2],ue.afterLoc=Ne[3]),this.tryEntries.push(ue)}function Zn(Ne){var ue=Ne.completion||{};ue.type="normal",delete ue.arg,Ne.completion=ue}function Tn(Ne){this.tryEntries=[{tryLoc:"root"}],Ne.forEach(bn,this),this.reset(!0)}function Sr(Ne){if(Ne||Ne===""){var ue=Ne[Oe];if(ue)return ue.call(Ne);if(typeof Ne.next=="function")return Ne;if(!isNaN(Ne.length)){var Te=-1,ft=function Tt(){for(;++Te<Ne.length;)if(Z.call(Ne,Te))return Tt.value=Ne[Te],Tt.done=!1,Tt;return Tt.value=ie,Tt.done=!0,Tt};return ft.next=ft}}throw new TypeError(xe(Ne)+" is not iterable")}return cn.prototype=It,oe(Xt,"constructor",{value:It,configurable:!0}),oe(It,"constructor",{value:cn,configurable:!0}),cn.displayName=Me(It,Xe,"GeneratorFunction"),G.isGeneratorFunction=function(Ne){var ue=typeof Ne=="function"&&Ne.constructor;return!!ue&&(ue===cn||(ue.displayName||ue.name)==="GeneratorFunction")},G.mark=function(Ne){return Object.setPrototypeOf?Object.setPrototypeOf(Ne,It):(Ne.__proto__=It,Me(Ne,Xe,"GeneratorFunction")),Ne.prototype=Object.create(Xt),Ne},G.awrap=function(Ne){return{__await:Ne}},ar(Fn.prototype),Me(Fn.prototype,Pe,function(){return this}),G.AsyncIterator=Fn,G.async=function(Ne,ue,Te,ft,Tt){Tt===void 0&&(Tt=Promise);var St=new Fn(Qe(Ne,ue,Te,ft),Tt);return G.isGeneratorFunction(ue)?St:St.next().then(function(sn){return sn.done?sn.value:St.next()})},ar(Xt),Me(Xt,Xe,"Generator"),Me(Xt,Oe,function(){return this}),Me(Xt,"toString",function(){return"[object Generator]"}),G.keys=function(Ne){var ue=Object(Ne),Te=[];for(var ft in ue)Te.push(ft);return Te.reverse(),function Tt(){for(;Te.length;){var St=Te.pop();if(St in ue)return Tt.value=St,Tt.done=!1,Tt}return Tt.done=!0,Tt}},G.values=Sr,Tn.prototype={constructor:Tn,reset:function(ue){if(this.prev=0,this.next=0,this.sent=this._sent=ie,this.done=!1,this.delegate=null,this.method="next",this.arg=ie,this.tryEntries.forEach(Zn),!ue)for(var Te in this)Te.charAt(0)==="t"&&Z.call(this,Te)&&!isNaN(+Te.slice(1))&&(this[Te]=ie)},stop:function(){this.done=!0;var ue=this.tryEntries[0].completion;if(ue.type==="throw")throw ue.arg;return this.rval},dispatchException:function(ue){if(this.done)throw ue;var Te=this;function ft(cr,or){return sn.type="throw",sn.arg=ue,Te.next=cr,or&&(Te.method="next",Te.arg=ie),!!or}for(var Tt=this.tryEntries.length-1;Tt>=0;--Tt){var St=this.tryEntries[Tt],sn=St.completion;if(St.tryLoc==="root")return ft("end");if(St.tryLoc<=this.prev){var Mn=Z.call(St,"catchLoc"),Nn=Z.call(St,"finallyLoc");if(Mn&&Nn){if(this.prev<St.catchLoc)return ft(St.catchLoc,!0);if(this.prev<St.finallyLoc)return ft(St.finallyLoc)}else if(Mn){if(this.prev<St.catchLoc)return ft(St.catchLoc,!0)}else{if(!Nn)throw Error("try statement without catch or finally");if(this.prev<St.finallyLoc)return ft(St.finallyLoc)}}}},abrupt:function(ue,Te){for(var ft=this.tryEntries.length-1;ft>=0;--ft){var Tt=this.tryEntries[ft];if(Tt.tryLoc<=this.prev&&Z.call(Tt,"finallyLoc")&&this.prev<Tt.finallyLoc){var St=Tt;break}}St&&(ue==="break"||ue==="continue")&&St.tryLoc<=Te&&Te<=St.finallyLoc&&(St=null);var sn=St?St.completion:{};return sn.type=ue,sn.arg=Te,St?(this.method="next",this.next=St.finallyLoc,Bt):this.complete(sn)},complete:function(ue,Te){if(ue.type==="throw")throw ue.arg;return ue.type==="break"||ue.type==="continue"?this.next=ue.arg:ue.type==="return"?(this.rval=this.arg=ue.arg,this.method="return",this.next="end"):ue.type==="normal"&&Te&&(this.next=Te),Bt},finish:function(ue){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var ft=this.tryEntries[Te];if(ft.finallyLoc===ue)return this.complete(ft.completion,ft.afterLoc),Zn(ft),Bt}},catch:function(ue){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var ft=this.tryEntries[Te];if(ft.tryLoc===ue){var Tt=ft.completion;if(Tt.type==="throw"){var St=Tt.arg;Zn(ft)}return St}}throw Error("illegal catch attempt")},delegateYield:function(ue,Te,ft){return this.delegate={iterator:Sr(ue),resultName:Te,nextLoc:ft},this.method==="next"&&(this.arg=ie),Bt}},G}var et=function(){function ie(Oe){var Pe,Xe,Me,Qe=this;(function(ht,Vt){if(!_instanceof(ht,Vt))throw new TypeError("Cannot call a class as a function")})(this,ie),Pe=this,Me=function(){Qe.voice=ie.getBestBookVoice(Qe.getVoices(),Qe.opts.bookLanguage)},(Xe=A(Xe="updateBestVoice"))in Pe?Object.defineProperty(Pe,Xe,{value:Me,enumerable:!0,configurable:!0,writable:!0}):Pe[Xe]=Me,this.playing=!1,this.paused=!1,this.opts=Oe,this._chunkIterator=null,this.activeSound=null,this.playbackRate=1,this.events=Ae({}),this.voice=null,this.events.on("voiceschanged",this.updateBestVoice),this.events.trigger("voiceschanged")}return G=ie,H=[{key:"getVoices",value:function(){throw new Error("Unimplemented abstract class")}},{key:"init",value:function(){return null}},{key:"start",value:function(Pe,Xe){this.playing=!0,this.paused=!1,this.opts.onLoadingStart(),this._chunkIterator=new Be(Xe,Pe,{server:this.opts.server,bookPath:this.opts.bookPath,pageBufferSize:5}),this.step(),this.events.trigger("start")}},{key:"stop",value:function(){this.activeSound&&this.activeSound.stop(),this.playing=!1,this.paused=!0,this._chunkIterator=null,this.activeSound=null,this.events.trigger("stop")}},{key:"pause",value:function(){var Pe=!this.paused&&this.activeSound;this.paused=!0,this.activeSound&&this.activeSound.pause(),Pe&&this.events.trigger("pause")}},{key:"resume",value:function(){var Pe=this.paused&&this.activeSound;this.paused=!1,this.activeSound&&this.activeSound.resume(),Pe&&this.events.trigger("resume")}},{key:"togglePlayPause",value:function(){this.paused?this.resume():this.pause()}},{key:"jumpForward",value:function(){this.activeSound&&this.activeSound.finish()}},{key:"jumpBackward",value:(me=C(De().mark(function Oe(){var Pe=this;return De().wrap(function(Xe){for(;;)switch(Xe.prev=Xe.next){case 0:return Xe.next=2,Promise.all([this.activeSound.stop(),this._chunkIterator.decrement().then(function(){return Pe._chunkIterator.decrement()})]);case 2:this.step();case 3:case"end":return Xe.stop()}},Oe,this)})),function(){return me.apply(this,arguments)})},{key:"setVoice",value:function(Pe){this.events.off("voiceschanged",this.updateBestVoice),this.voice=this.getVoices().find(function(Xe){return Xe.voiceURI===Pe}),this.opts.bookLanguage&&b()&&localStorage.setItem("BRtts-voice-".concat(this.opts.bookLanguage),this.voice.voiceURI),this.activeSound&&this.activeSound.setVoice(this.voice)}},{key:"setPlaybackRate",value:function(Pe){this.playbackRate=Pe,this.activeSound&&this.activeSound.setPlaybackRate(Pe)}},{key:"step",value:(oe=C(De().mark(function Oe(){var Pe,Xe,Me,Qe=this;return De().wrap(function(ht){for(;;)switch(ht.prev=ht.next){case 0:return ht.next=2,this._chunkIterator.next();case 2:if((Pe=ht.sent)!=Be.AT_END){ht.next=7;break}return this.stop(),this.opts.onDone(),ht.abrupt("return");case 7:return this.opts.onLoadingStart(),(Xe=this.createSound(Pe)).chunk=Pe,Xe.rate=this.playbackRate,Xe.voice=this.voice,Xe.load(function(){return Qe.opts.onLoadingComplete()}),this.opts.onLoadingComplete(),ht.next=16,this.opts.beforeChunkPlay(Pe);case 16:if(this.playing){ht.next=18;break}return ht.abrupt("return");case 18:return ht.next=20,this.playSound(Xe).then(function(){return Qe.opts.afterChunkPlay(Xe.chunk)});case 20:return Me=ht.sent,this.paused&&this.pause(),ht.next=24,Me;case 24:if(!this.playing){ht.next=26;break}return ht.abrupt("return",this.step());case 26:case"end":return ht.stop()}},Oe,this)})),function(){return oe.apply(this,arguments)})},{key:"createSound",value:function(Pe){throw new Error("Unimplemented abstract class")}},{key:"playSound",value:function(Pe){return this.activeSound=Pe,this.activeSound.loaded||this.opts.onLoadingStart(),this.activeSound.play()}},{key:"getBestVoice",value:function(){return ie.getBestBookVoice(this.getVoices(),this.opts.bookLanguage)}}],Z=[{key:"isSupported",value:function(){throw new Error("Unimplemented abstract class")}},{key:"getBestBookVoice",value:function(Pe,Xe){var Me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:navigator.languages,Qe=Pe.filter(function(Vt){return Vt.lang.startsWith(Xe)}),ht=(Me=Me||(navigator.language?[navigator.language]:[])).filter(function(Vt){return Vt.startsWith(Xe)});return ie.getMatchingStoredVoice(Qe,Xe)||ie.getMatchingVoice(ht,Qe)||Qe.find(function(Vt){return Vt.default})||Qe[0]||ie.getMatchingVoice(Me,Pe)||Pe.find(function(Vt){return Vt.default})||Pe[0]}},{key:"getMatchingStoredVoice",value:function(Pe,Xe){var Me=b()&&localStorage.getItem("BRtts-voice-".concat(Xe));return Me?Pe.find(function(Qe){return Qe.voiceURI===Me}):void 0}},{key:"getMatchingVoice",value:function(Pe,Xe){var Me,Qe=function($t,zt){var qt=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&$t[Symbol.iterator]||$t["@@iterator"];if(!qt){if(Array.isArray($t)||(qt=function(Kt,Pn){if(Kt){if(typeof Kt=="string")return w(Kt,Pn);var Xt={}.toString.call(Kt).slice(8,-1);return Xt==="Object"&&Kt.constructor&&(Xt=Kt.constructor.name),Xt==="Map"||Xt==="Set"?Array.from(Kt):Xt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Xt)?w(Kt,Pn):void 0}}($t))||zt&&$t&&typeof $t.length=="number"){qt&&($t=qt);var Bt=0,an=function(){};return{s:an,n:function(){return Bt>=$t.length?{done:!0}:{done:!1,value:$t[Bt++]}},e:function(Pn){throw Pn},f:an}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var cn,It=!0,nn=!1;return{s:function(){qt=qt.call($t)},n:function(){var Pn=qt.next();return It=Pn.done,Pn},e:function(Pn){nn=!0,cn=Pn},f:function(){try{It||qt.return==null||qt.return()}finally{if(nn)throw cn}}}}(Pe);try{var ht,Vt=function(){var zt=Me.value,qt=Xe.filter(function(Bt){return Bt.lang.replace("_","-").startsWith(zt)});if(qt.length)return{v:qt.find(function(Bt){return Bt.default})||qt[0]}};for(Qe.s();!(Me=Qe.n()).done;)if(ht=Vt())return ht.v}catch($t){Qe.e($t)}finally{Qe.f()}}}],H&&E(G.prototype,H),Z&&E(G,Z),Object.defineProperty(G,"prototype",{writable:!1}),G;var G,H,Z,oe,me}(),Ve=n(6257),je=(n(2443),n(1792),n(1669));function He(ie){return He=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(H){return typeof H=="undefined"?"undefined":_typeof(H)}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G=="undefined"?"undefined":_typeof(G)},He(ie)}function qe(){qe=function(){return G};var ie,G={},H=Object.prototype,Z=H.hasOwnProperty,oe=Object.defineProperty||function(Ne,ue,Te){Ne[ue]=Te.value},me=typeof Symbol=="function"?Symbol:{},Oe=me.iterator||"@@iterator",Pe=me.asyncIterator||"@@asyncIterator",Xe=me.toStringTag||"@@toStringTag";function Me(Ne,ue,Te){return Object.defineProperty(Ne,ue,{value:Te,enumerable:!0,configurable:!0,writable:!0}),Ne[ue]}try{Me({},"")}catch(Ne){Me=function(Te,ft,Tt){return Te[ft]=Tt}}function Qe(Ne,ue,Te,ft){var Tt=ue&&_instanceof(ue.prototype,an)?ue:an,St=Object.create(Tt.prototype),sn=new Tn(ft||[]);return oe(St,"_invoke",{value:Qn(Ne,Te,sn)}),St}function ht(Ne,ue,Te){try{return{type:"normal",arg:Ne.call(ue,Te)}}catch(ft){return{type:"throw",arg:ft}}}G.wrap=Qe;var Vt="suspendedStart",$t="suspendedYield",zt="executing",qt="completed",Bt={};function an(){}function cn(){}function It(){}var nn={};Me(nn,Oe,function(){return this});var Kt=Object.getPrototypeOf,Pn=Kt&&Kt(Kt(Sr([])));Pn&&Pn!==H&&Z.call(Pn,Oe)&&(nn=Pn);var Xt=It.prototype=an.prototype=Object.create(nn);function ar(Ne){["next","throw","return"].forEach(function(ue){Me(Ne,ue,function(Te){return this._invoke(ue,Te)})})}function Fn(Ne,ue){function Te(Tt,St,sn,Mn){var Nn=ht(Ne[Tt],Ne,St);if(Nn.type!=="throw"){var cr=Nn.arg,or=cr.value;return or&&He(or)=="object"&&Z.call(or,"__await")?ue.resolve(or.__await).then(function(Ar){Te("next",Ar,sn,Mn)},function(Ar){Te("throw",Ar,sn,Mn)}):ue.resolve(or).then(function(Ar){cr.value=Ar,sn(cr)},function(Ar){return Te("throw",Ar,sn,Mn)})}Mn(Nn.arg)}var ft;oe(this,"_invoke",{value:function(St,sn){function Mn(){return new ue(function(Nn,cr){Te(St,sn,Nn,cr)})}return ft=ft?ft.then(Mn,Mn):Mn()}})}function Qn(Ne,ue,Te){var ft=Vt;return function(Tt,St){if(ft===zt)throw Error("Generator is already running");if(ft===qt){if(Tt==="throw")throw St;return{value:ie,done:!0}}for(Te.method=Tt,Te.arg=St;;){var sn=Te.delegate;if(sn){var Mn=en(sn,Te);if(Mn){if(Mn===Bt)continue;return Mn}}if(Te.method==="next")Te.sent=Te._sent=Te.arg;else if(Te.method==="throw"){if(ft===Vt)throw ft=qt,Te.arg;Te.dispatchException(Te.arg)}else Te.method==="return"&&Te.abrupt("return",Te.arg);ft=zt;var Nn=ht(Ne,ue,Te);if(Nn.type==="normal"){if(ft=Te.done?qt:$t,Nn.arg===Bt)continue;return{value:Nn.arg,done:Te.done}}Nn.type==="throw"&&(ft=qt,Te.method="throw",Te.arg=Nn.arg)}}}function en(Ne,ue){var Te=ue.method,ft=Ne.iterator[Te];if(ft===ie)return ue.delegate=null,Te==="throw"&&Ne.iterator.return&&(ue.method="return",ue.arg=ie,en(Ne,ue),ue.method==="throw")||Te!=="return"&&(ue.method="throw",ue.arg=new TypeError("The iterator does not provide a '"+Te+"' method")),Bt;var Tt=ht(ft,Ne.iterator,ue.arg);if(Tt.type==="throw")return ue.method="throw",ue.arg=Tt.arg,ue.delegate=null,Bt;var St=Tt.arg;return St?St.done?(ue[Ne.resultName]=St.value,ue.next=Ne.nextLoc,ue.method!=="return"&&(ue.method="next",ue.arg=ie),ue.delegate=null,Bt):St:(ue.method="throw",ue.arg=new TypeError("iterator result is not an object"),ue.delegate=null,Bt)}function bn(Ne){var ue={tryLoc:Ne[0]};1 in Ne&&(ue.catchLoc=Ne[1]),2 in Ne&&(ue.finallyLoc=Ne[2],ue.afterLoc=Ne[3]),this.tryEntries.push(ue)}function Zn(Ne){var ue=Ne.completion||{};ue.type="normal",delete ue.arg,Ne.completion=ue}function Tn(Ne){this.tryEntries=[{tryLoc:"root"}],Ne.forEach(bn,this),this.reset(!0)}function Sr(Ne){if(Ne||Ne===""){var ue=Ne[Oe];if(ue)return ue.call(Ne);if(typeof Ne.next=="function")return Ne;if(!isNaN(Ne.length)){var Te=-1,ft=function Tt(){for(;++Te<Ne.length;)if(Z.call(Ne,Te))return Tt.value=Ne[Te],Tt.done=!1,Tt;return Tt.value=ie,Tt.done=!0,Tt};return ft.next=ft}}throw new TypeError(He(Ne)+" is not iterable")}return cn.prototype=It,oe(Xt,"constructor",{value:It,configurable:!0}),oe(It,"constructor",{value:cn,configurable:!0}),cn.displayName=Me(It,Xe,"GeneratorFunction"),G.isGeneratorFunction=function(Ne){var ue=typeof Ne=="function"&&Ne.constructor;return!!ue&&(ue===cn||(ue.displayName||ue.name)==="GeneratorFunction")},G.mark=function(Ne){return Object.setPrototypeOf?Object.setPrototypeOf(Ne,It):(Ne.__proto__=It,Me(Ne,Xe,"GeneratorFunction")),Ne.prototype=Object.create(Xt),Ne},G.awrap=function(Ne){return{__await:Ne}},ar(Fn.prototype),Me(Fn.prototype,Pe,function(){return this}),G.AsyncIterator=Fn,G.async=function(Ne,ue,Te,ft,Tt){Tt===void 0&&(Tt=Promise);var St=new Fn(Qe(Ne,ue,Te,ft),Tt);return G.isGeneratorFunction(ue)?St:St.next().then(function(sn){return sn.done?sn.value:St.next()})},ar(Xt),Me(Xt,Xe,"Generator"),Me(Xt,Oe,function(){return this}),Me(Xt,"toString",function(){return"[object Generator]"}),G.keys=function(Ne){var ue=Object(Ne),Te=[];for(var ft in ue)Te.push(ft);return Te.reverse(),function Tt(){for(;Te.length;){var St=Te.pop();if(St in ue)return Tt.value=St,Tt.done=!1,Tt}return Tt.done=!0,Tt}},G.values=Sr,Tn.prototype={constructor:Tn,reset:function(ue){if(this.prev=0,this.next=0,this.sent=this._sent=ie,this.done=!1,this.delegate=null,this.method="next",this.arg=ie,this.tryEntries.forEach(Zn),!ue)for(var Te in this)Te.charAt(0)==="t"&&Z.call(this,Te)&&!isNaN(+Te.slice(1))&&(this[Te]=ie)},stop:function(){this.done=!0;var ue=this.tryEntries[0].completion;if(ue.type==="throw")throw ue.arg;return this.rval},dispatchException:function(ue){if(this.done)throw ue;var Te=this;function ft(cr,or){return sn.type="throw",sn.arg=ue,Te.next=cr,or&&(Te.method="next",Te.arg=ie),!!or}for(var Tt=this.tryEntries.length-1;Tt>=0;--Tt){var St=this.tryEntries[Tt],sn=St.completion;if(St.tryLoc==="root")return ft("end");if(St.tryLoc<=this.prev){var Mn=Z.call(St,"catchLoc"),Nn=Z.call(St,"finallyLoc");if(Mn&&Nn){if(this.prev<St.catchLoc)return ft(St.catchLoc,!0);if(this.prev<St.finallyLoc)return ft(St.finallyLoc)}else if(Mn){if(this.prev<St.catchLoc)return ft(St.catchLoc,!0)}else{if(!Nn)throw Error("try statement without catch or finally");if(this.prev<St.finallyLoc)return ft(St.finallyLoc)}}}},abrupt:function(ue,Te){for(var ft=this.tryEntries.length-1;ft>=0;--ft){var Tt=this.tryEntries[ft];if(Tt.tryLoc<=this.prev&&Z.call(Tt,"finallyLoc")&&this.prev<Tt.finallyLoc){var St=Tt;break}}St&&(ue==="break"||ue==="continue")&&St.tryLoc<=Te&&Te<=St.finallyLoc&&(St=null);var sn=St?St.completion:{};return sn.type=ue,sn.arg=Te,St?(this.method="next",this.next=St.finallyLoc,Bt):this.complete(sn)},complete:function(ue,Te){if(ue.type==="throw")throw ue.arg;return ue.type==="break"||ue.type==="continue"?this.next=ue.arg:ue.type==="return"?(this.rval=this.arg=ue.arg,this.method="return",this.next="end"):ue.type==="normal"&&Te&&(this.next=Te),Bt},finish:function(ue){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var ft=this.tryEntries[Te];if(ft.finallyLoc===ue)return this.complete(ft.completion,ft.afterLoc),Zn(ft),Bt}},catch:function(ue){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var ft=this.tryEntries[Te];if(ft.tryLoc===ue){var Tt=ft.completion;if(Tt.type==="throw"){var St=Tt.arg;Zn(ft)}return St}}throw Error("illegal catch attempt")},delegateYield:function(ue,Te,ft){return this.delegate={iterator:Sr(ue),resultName:Te,nextLoc:ft},this.method==="next"&&(this.arg=ie),Bt}},G}function lt(){try{var ie=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(G){}return(lt=function(){return!!ie})()}function _t(){return _t=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(G,H,Z){var oe=function(Oe,Pe){for(;!{}.hasOwnProperty.call(Oe,Pe)&&(Oe=be(Oe))!==null;);return Oe}(G,H);if(oe){var me=Object.getOwnPropertyDescriptor(oe,H);return me.get?me.get.call(arguments.length<3?G:Z):me.value}},_t.apply(null,arguments)}function be(ie){return be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},be(ie)}function ze(ie,G){return ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Z,oe){return Z.__proto__=oe,Z},ze(ie,G)}var Re=function(ie){function G(Z){var oe,me;return u(this,G),(me=x(this,G,[Z])).audioFormat=(oe=je.browser)!==null&&oe!==void 0&&oe.mozilla?"ogg":"mp3",me}return function(Z,oe){if(typeof oe!="function"&&oe!==null)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(oe&&oe.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),Object.defineProperty(Z,"prototype",{writable:!1}),oe&&ze(Z,oe)}(G,ie),m(G,[{key:"getVoices",value:function(){return[{default:!0,lang:"en-US",localService:!1,name:"Festival - English (US)",voiceURI:null}]}},{key:"init",value:function(){soundManager.setup({debugMode:!1,preferFlash:!0,url:"/bookreader/BookReader/soundmanager/swf",useHTML5Audio:!0,flashVersion:9})}},{key:"start",value:function(oe,me){var Oe=this,Pe=null;navigator.userAgent.match(/mobile/i)&&(Pe=this.iOSCaptureUserIntentHack()),(Pe=Pe||Promise.resolve()).then(function(){return _t(be(G.prototype),"start",Oe).call(Oe,oe,me)})}},{key:"createSound",value:function(oe){return new $e(this.getSoundUrl(oe.text))}},{key:"getSoundUrl",value:function(oe){return"https://"+this.opts.server+"/BookReader/BookReaderGetTTS.php?string="+encodeURIComponent(oe)+"&format=."+this.audioFormat}},{key:"iOSCaptureUserIntentHack",value:(H=y(qe().mark(function Z(){var oe;return qe().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return oe=soundManager.createSound({url:Ye[this.audioFormat]}),me.next=3,new Promise(function(Oe){return oe.play({onfinish:Oe})});case 3:oe.destruct();case 4:case"end":return me.stop()}},Z,this)})),function(){return H.apply(this,arguments)})}],[{key:"isSupported",value:function(){return(typeof soundManager=="undefined"?"undefined":_typeof(soundManager))<"u"&&soundManager.supported()}}]);var H}(et),$e=function(){return m(function G(H){u(this,G),this.soundUrl=H,this.sound=null,this.rate=1,this._finishResolver=null},[{key:"loaded",get:function(){return this.sound&&this.sound.loaded}},{key:"load",value:function(H){var Z,oe=this;return this.sound=soundManager.createSound({url:this.soundUrl,onload:function(){oe.rate!=1&&oe.sound.setPlaybackRate(oe.rate),H()},onresume:(Z=y(qe().mark(function me(){return qe().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:return Oe.next=2,(0,Ve.sleep)(25);case 2:oe.rate!=1&&oe.sound.setPlaybackRate(oe.rate);case 3:case"end":return Oe.stop()}},me)})),function(){return Z.apply(this,arguments)})}),this.sound.load()}},{key:"play",value:(ie=y(qe().mark(function G(){var H=this;return qe().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,new Promise(function(oe){H._finishResolver=oe,H.sound.play({onfinish:oe})});case 2:this.sound.destruct();case 3:case"end":return Z.stop()}},G,this)})),function(){return ie.apply(this,arguments)})},{key:"stop",value:function(){return this.sound.stop(),Promise.resolve()}},{key:"pause",value:function(){this.sound.pause()}},{key:"resume",value:function(){this.sound.resume()}},{key:"setPlaybackRate",value:function(H){this.rate=H,this.sound.setPlaybackRate(H)}},{key:"finish",value:function(){this.sound.stop(),this._finishResolver()}}]);var ie}(),Ye={mp3:"data:audio/mp3;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA//////////////////////////////////////////////////////////////////8AAAAeTEFNRTMuOTlyBJwAAAAAAAAAADUgJAaUQQABrgAAAnHIf8sZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//sQxAADwlwBKGAAACAAAD/AAAAEAAAAH///////////////+UBAMExBTUUzLjk5LjOqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+xDEIAPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",ogg:"data:audio/ogg;base64,T2dnUwACAAAAAAAAAAAVEgAAAAAAAADSDf4BHgF2b3JiaXMAAAAAAUSsAAAAAAAAAHcBAAAAAAC4AU9nZ1MAAAAAAAAAAAAAFRIAAAEAAAB4VKTpEDv//////////////////8kDdm9yYmlzKwAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMTIwMjAzIChPbW5pcHJlc2VudCkAAAAAAQV2b3JiaXMpQkNWAQAIAAAAMUwgxYDQkFUAABAAAGAkKQ6TZkkppZShKHmYlEhJKaWUxTCJmJSJxRhjjDHGGGOMMcYYY4wgNGQVAAAEAIAoCY6j5klqzjlnGCeOcqA5aU44pyAHilHgOQnC9SZjbqa0pmtuziklCA1ZBQAAAgBASCGFFFJIIYUUYoghhhhiiCGHHHLIIaeccgoqqKCCCjLIIINMMumkk0466aijjjrqKLTQQgsttNJKTDHVVmOuvQZdfHPOOeecc84555xzzglCQ1YBACAAAARCBhlkEEIIIYUUUogppphyCjLIgNCQVQAAIACAAAAAAEeRFEmxFMuxHM3RJE/yLFETNdEzRVNUTVVVVVV1XVd2Zdd2ddd2fVmYhVu4fVm4hVvYhV33hWEYhmEYhmEYhmH4fd/3fd/3fSA0ZBUAIAEAoCM5luMpoiIaouI5ogOEhqwCAGQAAAQAIAmSIimSo0mmZmquaZu2aKu2bcuyLMuyDISGrAIAAAEABAAAAAAAoGmapmmapmmapmmapmmapmmapmmaZlmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVlAaMgqAEACAEDHcRzHcSRFUiTHciwHCA1ZBQDIAAAIAEBSLMVyNEdzNMdzPMdzPEd0RMmUTM30TA8IDVkFAAACAAgAAAAAAEAxHMVxHMnRJE9SLdNyNVdzPddzTdd1XVdVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVgdCQVQAABAAAIZ1mlmqACDOQYSA0ZBUAgAAAABihCEMMCA1ZBQAABAAAiKHkIJrQmvPNOQ6a5aCpFJvTwYlUmye5qZibc84555xszhnjnHPOKcqZxaCZ0JpzzkkMmqWgmdCac855EpsHranSmnPOGeecDsYZYZxzzmnSmgep2Vibc85Z0JrmqLkUm3POiZSbJ7W5VJtzzjnnnHPOOeecc86pXpzOwTnhnHPOidqba7kJXZxzzvlknO7NCeGcc84555xzzjnnnHPOCUJDVgEAQAAABGHYGMadgiB9jgZiFCGmIZMedI8Ok6AxyCmkHo2ORkqpg1BSGSeldILQkFUAACAAAIQQUkghhRRSSCGFFFJIIYYYYoghp5xyCiqopJKKKsoos8wyyyyzzDLLrMPOOuuwwxBDDDG00kosNdVWY4215p5zrjlIa6W11lorpZRSSimlIDRkFQAAAgBAIGSQQQYZhRRSSCGGmHLKKaegggoIDVkFAAACAAgAAADwJM8RHdERHdERHdERHdERHc/xHFESJVESJdEyLVMzPVVUVVd2bVmXddu3hV3Ydd/Xfd/XjV8XhmVZlmVZlmVZlmVZlmVZlmUJQkNWAQAgAAAAQgghhBRSSCGFlGKMMcecg05CCYHQkFUAACAAgAAAAABHcRTHkRzJkSRLsiRN0izN8jRP8zTRE0VRNE1TFV3RFXXTFmVTNl3TNWXTVWXVdmXZtmVbt31Ztn3f933f933f933f933f13UgNGQVACABAKAjOZIiKZIiOY7jSJIEhIasAgBkAAAEAKAojuI4jiNJkiRZkiZ5lmeJmqmZnumpogqEhqwCAAABAAQAAAAAAKBoiqeYiqeIiueIjiiJlmmJmqq5omzKruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6QGjIKgBAAgBAR3IkR3IkRVIkRXIkBwgNWQUAyAAACADAMRxDUiTHsixN8zRP8zTREz3RMz1VdEUXCA1ZBQAAAgAIAAAAAADAkAxLsRzN0SRRUi3VUjXVUi1VVD1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVXVNE3TNIHQkJUAABkAACNBBhmEEIpykEJuPVgIMeYkBaE5BqHEGISnEDMMOQ0idJBBJz24kjnDDPPgUigVREyDjSU3jiANwqZcSeU4CEJDVgQAUQAAgDHIMcQYcs5JyaBEzjEJnZTIOSelk9JJKS2WGDMpJaYSY+Oco9JJyaSUGEuKnaQSY4mtAACAAAcAgAALodCQFQFAFAAAYgxSCimFlFLOKeaQUsox5RxSSjmnnFPOOQgdhMoxBp2DECmlHFPOKccchMxB5ZyD0EEoAAAgwAEAIMBCKDRkRQAQJwDgcCTPkzRLFCVLE0XPFGXXE03XlTTNNDVRVFXLE1XVVFXbFk1VtiVNE01N9FRVE0VVFVXTlk1VtW3PNGXZVFXdFlXVtmXbFn5XlnXfM01ZFlXV1k1VtXXXln1f1m1dmDTNNDVRVFVNFFXVVFXbNlXXtjVRdFVRVWVZVFVZdmVZ91VX1n1LFFXVU03ZFVVVtlXZ9W1Vln3hdFVdV2XZ91VZFn5b14Xh9n3hGFXV1k3X1XVVln1h1mVht3XfKGmaaWqiqKqaKKqqqaq2baqurVui6KqiqsqyZ6qurMqyr6uubOuaKKquqKqyLKqqLKuyrPuqLOu2qKq6rcqysJuuq+u27wvDLOu6cKqurquy7PuqLOu6revGceu6MHymKcumq+q6qbq6buu6ccy2bRyjquq+KsvCsMqy7+u6L7R1IVFVdd2UXeNXZVn3bV93nlv3hbJtO7+t+8px67rS+DnPbxy5tm0cs24bv637xvMrP2E4jqVnmrZtqqqtm6qr67JuK8Os60JRVX1dlWXfN11ZF27fN45b142iquq6Ksu+sMqyMdzGbxy7MBxd2zaOW9edsq0LfWPI9wnPa9vGcfs64/Z1o68MCcePAACAAQcAgAATykChISsCgDgBAAYh5xRTECrFIHQQUuogpFQxBiFzTkrFHJRQSmohlNQqxiBUjknInJMSSmgplNJSB6GlUEproZTWUmuxptRi7SCkFkppLZTSWmqpxtRajBFjEDLnpGTOSQmltBZKaS1zTkrnoKQOQkqlpBRLSi1WzEnJoKPSQUippBJTSam1UEprpaQWS0oxthRbbjHWHEppLaQSW0kpxhRTbS3GmiPGIGTOScmckxJKaS2U0lrlmJQOQkqZg5JKSq2VklLMnJPSQUipg45KSSm2kkpMoZTWSkqxhVJabDHWnFJsNZTSWkkpxpJKbC3GWltMtXUQWgultBZKaa21VmtqrcZQSmslpRhLSrG1FmtuMeYaSmmtpBJbSanFFluOLcaaU2s1ptZqbjHmGlttPdaac0qt1tRSjS3GmmNtvdWae+8gpBZKaS2U0mJqLcbWYq2hlNZKKrGVklpsMebaWow5lNJiSanFklKMLcaaW2y5ppZqbDHmmlKLtebac2w19tRarC3GmlNLtdZac4+59VYAAMCAAwBAgAlloNCQlQBAFAAAQYhSzklpEHLMOSoJQsw5J6lyTEIpKVXMQQgltc45KSnF1jkIJaUWSyotxVZrKSm1FmstAACgwAEAIMAGTYnFAQoNWQkARAEAIMYgxBiEBhmlGIPQGKQUYxAipRhzTkqlFGPOSckYcw5CKhljzkEoKYRQSiophRBKSSWlAgAAChwAAAJs0JRYHKDQkBUBQBQAAGAMYgwxhiB0VDIqEYRMSiepgRBaC6111lJrpcXMWmqttNhACK2F1jJLJcbUWmatxJhaKwAA7MABAOzAQig0ZCUAkAcAQBijFGPOOWcQYsw56Bw0CDHmHIQOKsacgw5CCBVjzkEIIYTMOQghhBBC5hyEEEIIoYMQQgillNJBCCGEUkrpIIQQQimldBBCCKGUUgoAACpwAAAIsFFkc4KRoEJDVgIAeQAAgDFKOQehlEYpxiCUklKjFGMQSkmpcgxCKSnFVjkHoZSUWuwglNJabDV2EEppLcZaQ0qtxVhrriGl1mKsNdfUWoy15pprSi3GWmvNuQAA3AUHALADG0U2JxgJKjRkJQCQBwCAIKQUY4wxhhRiijHnnEMIKcWYc84pphhzzjnnlGKMOeecc4wx55xzzjnGmHPOOeccc84555xzjjnnnHPOOeecc84555xzzjnnnHPOCQAAKnAAAAiwUWRzgpGgQkNWAgCpAAAAEVZijDHGGBsIMcYYY4wxRhJijDHGGGNsMcYYY4wxxphijDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYW2uttdZaa6211lprrbXWWmutAEC/CgcA/wcbVkc4KRoLLDRkJQAQDgAAGMOYc445Bh2EhinopIQOQgihQ0o5KCWEUEopKXNOSkqlpJRaSplzUlIqJaWWUuogpNRaSi211loHJaXWUmqttdY6CKW01FprrbXYQUgppdZaiy3GUEpKrbXYYow1hlJSaq3F2GKsMaTSUmwtxhhjrKGU1lprMcYYay0ptdZijLXGWmtJqbXWYos11loLAOBucACASLBxhpWks8LR4EJDVgIAIQEABEKMOeeccxBCCCFSijHnoIMQQgghREox5hx0EEIIIYSMMeeggxBCCCGEkDHmHHQQQgghhBA65xyEEEIIoYRSSuccdBBCCCGUUELpIIQQQgihhFJKKR2EEEIooYRSSiklhBBCCaWUUkoppYQQQgihhBJKKaWUEEIIpZRSSimllBJCCCGUUkoppZRSQgihlFBKKaWUUkoIIYRSSimllFJKCSGEUEoppZRSSikhhBJKKaWUUkoppQAAgAMHAIAAI+gko8oibDThwgNQaMhKAIAMAABx2GrrKdbIIMWchJZLhJByEGIuEVKKOUexZUgZxRjVlDGlFFNSa+icYoxRT51jSjHDrJRWSiiRgtJyrLV2zAEAACAIADAQITOBQAEUGMgAgAOEBCkAoLDA0DFcBATkEjIKDArHhHPSaQMAEITIDJGIWAwSE6qBomI6AFhcYMgHgAyNjbSLC+gywAVd3HUghCAEIYjFARSQgIMTbnjiDU+4wQk6RaUOAgAAAAAAAQAeAACSDSAiIpo5jg6PD5AQkRGSEpMTlAAAAAAA4AGADwCAJAWIiIhmjqPD4wMkRGSEpMTkBCUAAAAAAAAAAAAICAgAAAAAAAQAAAAICE9nZ1MABCwAAAAAAAAAFRIAAAIAAAAPBTD1AgEBAAo="},We=n(542);function Ct(ie){return Ct=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(H){return typeof H=="undefined"?"undefined":_typeof(H)}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G=="undefined"?"undefined":_typeof(G)},Ct(ie)}function gt(){gt=function(){return G};var ie,G={},H=Object.prototype,Z=H.hasOwnProperty,oe=Object.defineProperty||function(Ne,ue,Te){Ne[ue]=Te.value},me=typeof Symbol=="function"?Symbol:{},Oe=me.iterator||"@@iterator",Pe=me.asyncIterator||"@@asyncIterator",Xe=me.toStringTag||"@@toStringTag";function Me(Ne,ue,Te){return Object.defineProperty(Ne,ue,{value:Te,enumerable:!0,configurable:!0,writable:!0}),Ne[ue]}try{Me({},"")}catch(Ne){Me=function(Te,ft,Tt){return Te[ft]=Tt}}function Qe(Ne,ue,Te,ft){var Tt=ue&&_instanceof(ue.prototype,an)?ue:an,St=Object.create(Tt.prototype),sn=new Tn(ft||[]);return oe(St,"_invoke",{value:Qn(Ne,Te,sn)}),St}function ht(Ne,ue,Te){try{return{type:"normal",arg:Ne.call(ue,Te)}}catch(ft){return{type:"throw",arg:ft}}}G.wrap=Qe;var Vt="suspendedStart",$t="suspendedYield",zt="executing",qt="completed",Bt={};function an(){}function cn(){}function It(){}var nn={};Me(nn,Oe,function(){return this});var Kt=Object.getPrototypeOf,Pn=Kt&&Kt(Kt(Sr([])));Pn&&Pn!==H&&Z.call(Pn,Oe)&&(nn=Pn);var Xt=It.prototype=an.prototype=Object.create(nn);function ar(Ne){["next","throw","return"].forEach(function(ue){Me(Ne,ue,function(Te){return this._invoke(ue,Te)})})}function Fn(Ne,ue){function Te(Tt,St,sn,Mn){var Nn=ht(Ne[Tt],Ne,St);if(Nn.type!=="throw"){var cr=Nn.arg,or=cr.value;return or&&Ct(or)=="object"&&Z.call(or,"__await")?ue.resolve(or.__await).then(function(Ar){Te("next",Ar,sn,Mn)},function(Ar){Te("throw",Ar,sn,Mn)}):ue.resolve(or).then(function(Ar){cr.value=Ar,sn(cr)},function(Ar){return Te("throw",Ar,sn,Mn)})}Mn(Nn.arg)}var ft;oe(this,"_invoke",{value:function(St,sn){function Mn(){return new ue(function(Nn,cr){Te(St,sn,Nn,cr)})}return ft=ft?ft.then(Mn,Mn):Mn()}})}function Qn(Ne,ue,Te){var ft=Vt;return function(Tt,St){if(ft===zt)throw Error("Generator is already running");if(ft===qt){if(Tt==="throw")throw St;return{value:ie,done:!0}}for(Te.method=Tt,Te.arg=St;;){var sn=Te.delegate;if(sn){var Mn=en(sn,Te);if(Mn){if(Mn===Bt)continue;return Mn}}if(Te.method==="next")Te.sent=Te._sent=Te.arg;else if(Te.method==="throw"){if(ft===Vt)throw ft=qt,Te.arg;Te.dispatchException(Te.arg)}else Te.method==="return"&&Te.abrupt("return",Te.arg);ft=zt;var Nn=ht(Ne,ue,Te);if(Nn.type==="normal"){if(ft=Te.done?qt:$t,Nn.arg===Bt)continue;return{value:Nn.arg,done:Te.done}}Nn.type==="throw"&&(ft=qt,Te.method="throw",Te.arg=Nn.arg)}}}function en(Ne,ue){var Te=ue.method,ft=Ne.iterator[Te];if(ft===ie)return ue.delegate=null,Te==="throw"&&Ne.iterator.return&&(ue.method="return",ue.arg=ie,en(Ne,ue),ue.method==="throw")||Te!=="return"&&(ue.method="throw",ue.arg=new TypeError("The iterator does not provide a '"+Te+"' method")),Bt;var Tt=ht(ft,Ne.iterator,ue.arg);if(Tt.type==="throw")return ue.method="throw",ue.arg=Tt.arg,ue.delegate=null,Bt;var St=Tt.arg;return St?St.done?(ue[Ne.resultName]=St.value,ue.next=Ne.nextLoc,ue.method!=="return"&&(ue.method="next",ue.arg=ie),ue.delegate=null,Bt):St:(ue.method="throw",ue.arg=new TypeError("iterator result is not an object"),ue.delegate=null,Bt)}function bn(Ne){var ue={tryLoc:Ne[0]};1 in Ne&&(ue.catchLoc=Ne[1]),2 in Ne&&(ue.finallyLoc=Ne[2],ue.afterLoc=Ne[3]),this.tryEntries.push(ue)}function Zn(Ne){var ue=Ne.completion||{};ue.type="normal",delete ue.arg,Ne.completion=ue}function Tn(Ne){this.tryEntries=[{tryLoc:"root"}],Ne.forEach(bn,this),this.reset(!0)}function Sr(Ne){if(Ne||Ne===""){var ue=Ne[Oe];if(ue)return ue.call(Ne);if(typeof Ne.next=="function")return Ne;if(!isNaN(Ne.length)){var Te=-1,ft=function Tt(){for(;++Te<Ne.length;)if(Z.call(Ne,Te))return Tt.value=Ne[Te],Tt.done=!1,Tt;return Tt.value=ie,Tt.done=!0,Tt};return ft.next=ft}}throw new TypeError(Ct(Ne)+" is not iterable")}return cn.prototype=It,oe(Xt,"constructor",{value:It,configurable:!0}),oe(It,"constructor",{value:cn,configurable:!0}),cn.displayName=Me(It,Xe,"GeneratorFunction"),G.isGeneratorFunction=function(Ne){var ue=typeof Ne=="function"&&Ne.constructor;return!!ue&&(ue===cn||(ue.displayName||ue.name)==="GeneratorFunction")},G.mark=function(Ne){return Object.setPrototypeOf?Object.setPrototypeOf(Ne,It):(Ne.__proto__=It,Me(Ne,Xe,"GeneratorFunction")),Ne.prototype=Object.create(Xt),Ne},G.awrap=function(Ne){return{__await:Ne}},ar(Fn.prototype),Me(Fn.prototype,Pe,function(){return this}),G.AsyncIterator=Fn,G.async=function(Ne,ue,Te,ft,Tt){Tt===void 0&&(Tt=Promise);var St=new Fn(Qe(Ne,ue,Te,ft),Tt);return G.isGeneratorFunction(ue)?St:St.next().then(function(sn){return sn.done?sn.value:St.next()})},ar(Xt),Me(Xt,Xe,"Generator"),Me(Xt,Oe,function(){return this}),Me(Xt,"toString",function(){return"[object Generator]"}),G.keys=function(Ne){var ue=Object(Ne),Te=[];for(var ft in ue)Te.push(ft);return Te.reverse(),function Tt(){for(;Te.length;){var St=Te.pop();if(St in ue)return Tt.value=St,Tt.done=!1,Tt}return Tt.done=!0,Tt}},G.values=Sr,Tn.prototype={constructor:Tn,reset:function(ue){if(this.prev=0,this.next=0,this.sent=this._sent=ie,this.done=!1,this.delegate=null,this.method="next",this.arg=ie,this.tryEntries.forEach(Zn),!ue)for(var Te in this)Te.charAt(0)==="t"&&Z.call(this,Te)&&!isNaN(+Te.slice(1))&&(this[Te]=ie)},stop:function(){this.done=!0;var ue=this.tryEntries[0].completion;if(ue.type==="throw")throw ue.arg;return this.rval},dispatchException:function(ue){if(this.done)throw ue;var Te=this;function ft(cr,or){return sn.type="throw",sn.arg=ue,Te.next=cr,or&&(Te.method="next",Te.arg=ie),!!or}for(var Tt=this.tryEntries.length-1;Tt>=0;--Tt){var St=this.tryEntries[Tt],sn=St.completion;if(St.tryLoc==="root")return ft("end");if(St.tryLoc<=this.prev){var Mn=Z.call(St,"catchLoc"),Nn=Z.call(St,"finallyLoc");if(Mn&&Nn){if(this.prev<St.catchLoc)return ft(St.catchLoc,!0);if(this.prev<St.finallyLoc)return ft(St.finallyLoc)}else if(Mn){if(this.prev<St.catchLoc)return ft(St.catchLoc,!0)}else{if(!Nn)throw Error("try statement without catch or finally");if(this.prev<St.finallyLoc)return ft(St.finallyLoc)}}}},abrupt:function(ue,Te){for(var ft=this.tryEntries.length-1;ft>=0;--ft){var Tt=this.tryEntries[ft];if(Tt.tryLoc<=this.prev&&Z.call(Tt,"finallyLoc")&&this.prev<Tt.finallyLoc){var St=Tt;break}}St&&(ue==="break"||ue==="continue")&&St.tryLoc<=Te&&Te<=St.finallyLoc&&(St=null);var sn=St?St.completion:{};return sn.type=ue,sn.arg=Te,St?(this.method="next",this.next=St.finallyLoc,Bt):this.complete(sn)},complete:function(ue,Te){if(ue.type==="throw")throw ue.arg;return ue.type==="break"||ue.type==="continue"?this.next=ue.arg:ue.type==="return"?(this.rval=this.arg=ue.arg,this.method="return",this.next="end"):ue.type==="normal"&&Te&&(this.next=Te),Bt},finish:function(ue){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var ft=this.tryEntries[Te];if(ft.finallyLoc===ue)return this.complete(ft.completion,ft.afterLoc),Zn(ft),Bt}},catch:function(ue){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var ft=this.tryEntries[Te];if(ft.tryLoc===ue){var Tt=ft.completion;if(Tt.type==="throw"){var St=Tt.arg;Zn(ft)}return St}}throw Error("illegal catch attempt")},delegateYield:function(ue,Te,ft){return this.delegate={iterator:Sr(ue),resultName:Te,nextLoc:ft},this.method==="next"&&(this.arg=ie),Bt}},G}function nt(){try{var ie=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(G){}return(nt=function(){return!!ie})()}function rt(){return rt=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(G,H,Z){var oe=function(Oe,Pe){for(;!{}.hasOwnProperty.call(Oe,Pe)&&(Oe=ct(Oe))!==null;);return Oe}(G,H);if(oe){var me=Object.getOwnPropertyDescriptor(oe,H);return me.get?me.get.call(arguments.length<3?G:Z):me.value}},rt.apply(null,arguments)}function ct(ie){return ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(H){return H.__proto__||Object.getPrototypeOf(H)},ct(ie)}function At(ie,G){return At=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Z,oe){return Z.__proto__=oe,Z},At(ie,G)}var Mt,Lt=function(ie){function G(H){var Z;return P(this,G),Z=z(this,G,[H]),speechSynthesis.addEventListener&&speechSynthesis.addEventListener("voiceschanged",function(){return Z.events.trigger("voiceschanged")}),Z}return function(H,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(Z&&Z.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),Object.defineProperty(H,"prototype",{writable:!1}),Z&&At(H,Z)}(G,ie),V(G,[{key:"start",value:function(Z,oe){var me=this;if("mediaSession"in navigator){var Oe=new Audio(te);Oe.loop=!0,this.events.on("pause",function(){return Oe.pause()}),this.events.on("resume",function(){return Oe.play()}),this.events.on("stop",function(){return Oe.src=""}),Oe.play().then(function(){navigator.mediaSession.metadata=new MediaMetadata({title:br.bookTitle,artist:br.options.metadata.filter(function(Pe){return Pe.label=="Author"}).map(function(Pe){return Pe.value})[0],artwork:[{src:br.options.thumbnail,type:"image/jpg"}]}),navigator.mediaSession.setActionHandler("play",function(){Oe.play(),me.resume()}),navigator.mediaSession.setActionHandler("pause",function(){Oe.pause(),me.pause()}),navigator.mediaSession.setActionHandler("previoustrack",function(){return me.jumpBackward()}),navigator.mediaSession.setActionHandler("nexttrack",function(){return me.jumpForward()})})}return rt(ct(G.prototype),"start",this).call(this,Z,oe)}},{key:"getVoices",value:function(){var Z=speechSynthesis.getVoices();return Z.filter(function(oe){return oe.default}).length!=1&&Z.unshift({voiceURI:"bookreader.SystemDefault",name:"System Default",lang:navigator.language,default:!0,localService:!0}),Z}},{key:"createSound",value:function(Z){return new st(Z.text)}}],[{key:"isSupported",value:function(){return window.speechSynthesis!==void 0&&!/samsungbrowser/i.test(navigator.userAgent)}}])}(et),st=function(){return V(function me(Oe){P(this,me),this.text=Oe,this.loaded=!1,this.paused=!1,this.started=!1,this.stopped=!1,this.rate=1,this.utterance=null,this.voice=null,this._lastEvents={pause:null,boundary:null,start:null},this._charIndex=0,this._finishResolver=null,this._finishPromise=null},[{key:"load",value:function(Oe){var Pe,Xe=this;this.loaded=!1,this.started=!1,this.utterance=new SpeechSynthesisUtterance(this.text.slice(this._charIndex)),((Pe=this.voice)===null||Pe===void 0?void 0:Pe.voiceURI)!=="bookreader.SystemDefault"&&(this.utterance.voice=this.voice),this.voice&&(this.utterance.lang=this.voice.lang),this.utterance.rate=this.rate,location.toString().indexOf("_debugReadAloud=true")!=-1&&(this.utterance.addEventListener("pause",function(){return console.log("pause")}),this.utterance.addEventListener("resume",function(){return console.log("resume")}),this.utterance.addEventListener("start",function(){return console.log("start")}),this.utterance.addEventListener("end",function(){return console.log("end")}),this.utterance.addEventListener("error",function(){return console.log("error")}),this.utterance.addEventListener("boundary",function(){return console.log("boundary")}),this.utterance.addEventListener("mark",function(){return console.log("mark")}),this.utterance.addEventListener("finish",function(){return console.log("finish")})),this.utterance.addEventListener("start",function(Me){return Xe._lastEvents.start=Me}),this.utterance.addEventListener("boundary",function(Me){return Xe._lastEvents.boundary=Me}),this.utterance.addEventListener("pause",function(Me){return Xe._lastEvents.pause=Me}),this.utterance.addEventListener("start",function(){Xe.started=!0,Xe.stopped=!1,Xe.paused=!1}),this.utterance.addEventListener("pause",function(){return Xe.paused=!0}),this.utterance.addEventListener("resume",function(){return Xe.paused=!1}),this.utterance.addEventListener("end",function(Me){Xe.paused||Xe.stopped||Xe.utterance.dispatchEvent(new CustomEvent("finish",Me))}),this.loaded=!0,Oe&&Oe()}},{key:"reload",value:(oe=I(gt().mark(function me(){var Oe,Pe;return gt().wrap(function(Xe){for(;;)switch(Xe.prev=Xe.next){case 0:return Oe=this.paused,(Pe=this._lastEvents.boundary||this._lastEvents.pause)&&(this._charIndex=this.text.indexOf(Pe.target.text)+Pe.charIndex),Xe.next=5,this.stop();case 5:this.load(),Oe||this.play();case 7:case"end":return Xe.stop()}},me,this)})),function(){return oe.apply(this,arguments)})},{key:"play",value:function(){var Oe=this;this._finishPromise=this._finishPromise||new Promise(function(Xe){return Oe._finishResolver=Xe}),this.utterance.addEventListener("finish",this._finishResolver),speechSynthesis.cancel(),speechSynthesis.resume(),speechSynthesis.speak(this.utterance);var Pe=this.utterance.voice&&this.utterance.voice.localService;return(0,We.H8)()&&!Pe&&this._chromePausingBugFix(),this._finishPromise}},{key:"stop",value:function(){var Oe=Promise.resolve();return this.stopped||(Oe=Promise.race([(0,Ve.promisifyEvent)(this.utterance,"end"),(0,Ve.promisifyEvent)(this.utterance,"error")])),this.stopped=!0,speechSynthesis.cancel(),Oe}},{key:"finish",value:(Z=I(gt().mark(function me(){return gt().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:return Oe.next=2,this.stop();case 2:this.utterance.dispatchEvent(new Event("finish"));case 3:case"end":return Oe.stop()}},me,this)})),function(){return Z.apply(this,arguments)})},{key:"pause",value:(H=I(gt().mark(function me(){var Oe,Pe,Xe;return gt().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:if(!this.paused){Me.next=2;break}return Me.abrupt("return");case 2:if(Oe=(0,Ve.promisifyEvent)(this.utterance,"pause"),speechSynthesis.pause(),Pe=(0,We.gm)()&&f(),!(0,We.H8)()&&!Pe){Me.next=15;break}return Xe=(0,Ve.sleep)(100).then(function(){return"timeout"}),Me.next=10,Promise.race([Oe,Xe]);case 10:if(Me.sent=="timeout"){Me.next=13;break}return Me.abrupt("return");case 13:this.utterance.dispatchEvent(new CustomEvent("pause",this._lastEvents.start)),Pe&&this.stop();case 15:case"end":return Me.stop()}},me,this)})),function(){return H.apply(this,arguments)})},{key:"resume",value:(G=I(gt().mark(function me(){var Oe,Pe,Xe;return gt().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:if(this.started){Me.next=3;break}return this.play(),Me.abrupt("return");case 3:if(this.paused){Me.next=5;break}return Me.abrupt("return");case 5:if(Oe=(0,We.H8)()&&f()||(0,We.gm)()&&f(),Pe=(0,We.H8)()||Oe,Xe=(0,Ve.promisifyEvent)(this.utterance,"resume"),speechSynthesis.resume(),!Pe){Me.next=20;break}return Me.next=12,Promise.race([Xe,(0,Ve.sleep)(100).then(function(){return"timeout"})]);case 12:if(Me.sent=="timeout"){Me.next=15;break}return Me.abrupt("return");case 15:if(this.utterance.dispatchEvent(new CustomEvent("resume",{})),!Oe){Me.next=20;break}return Me.next=19,this.reload();case 19:this.play();case 20:case"end":return Me.stop()}},me,this)})),function(){return G.apply(this,arguments)})},{key:"setPlaybackRate",value:function(Oe){this.rate=Oe,this.reload()}},{key:"setVoice",value:function(Oe){this.voice=Oe,this.reload()}},{key:"_chromePausingBugFix",value:(ie=I(gt().mark(function me(){var Oe,Pe,Xe,Me;return gt().wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:return Oe=(0,Ve.sleep)(14e3).then(function(){return"timeout"}),Pe=(0,Ve.promisifyEvent)(this.utterance,"pause").then(function(){return"paused"}),Xe=(0,Ve.promisifyEvent)(this.utterance,"end").then(function(){return"ended"}),Qe.next=5,Promise.race([Oe,Pe,Xe]);case 5:Me=Qe.sent,location.toString().indexOf("_debugReadAloud=true")!=-1&&console.log("CHROME-PAUSE-HACK: ".concat(Me)),Qe.t0=Me,Qe.next=Qe.t0==="ended"?10:Qe.t0==="paused"?11:Qe.t0==="timeout"?15:21;break;case 10:return Qe.abrupt("break",21);case 11:return Qe.next=13,Promise.race([(0,Ve.promisifyEvent)(this.utterance,"resume"),(0,Ve.sleep)(14e3).then(function(){return"timeout"})]);case 13:return Me=="timeout"?this.reload():this._chromePausingBugFix(),Qe.abrupt("break",21);case 15:return speechSynthesis.pause(),Qe.next=18,(0,Ve.sleep)(25);case 18:return speechSynthesis.resume(),this._chromePausingBugFix(),Qe.abrupt("break",21);case 21:case"end":return Qe.stop()}},me,this)})),function(){return ie.apply(this,arguments)})}]);var ie,G,H,Z,oe}(),te="data:audio/mp3;base64,/+MYxAAMEAISSAhElhIpJYzz1vz9mUdlHvJwTP/n3FJesPxB9/8mp0oGaz9+7+T//8oCDhJqOMqLh4o4uhUAUUDaf//3r+///+MYxAoKy2ImKAgEqbfr/t///27/+n3s32/////+b5qMsq7vnXCKh2By3ZcIqyrUYbbRH0fp+ljtf+n2Uo72PHX/03f0df///+MYxBkKUAYmQAhEAL+2l44oKFjZMwJAOJnhguMqokFAqBKl/5f1/+f+3/v////9GT//r+//v+//////b1VvucaRChqnMqsY/+MYxCoLo2IiSAgEpRrgIRVq//p////25nlpVFbQ9kuXtrpt+n//3ZUZNKHVTHdJk3Q6h961DAU8loFlsfTnTZYLLQ1xiIYC/+MYxDYLa2YYAACNFAKKv5swEnqSccBoi//xVP9R/q/370r02////7VpaiWWLrDaF//X8+Rf/6ys2irmURCrI/Lr7///+m1t/+MYxEMKqAI2SAhElh7vNPmHrKdmMPFMimBI5xYQEiIRxh1gk0pKvfo7nezMyH6P67uKW+z/7NusoS/4//STUtCUiwASccAQ/+MYxFMKs2IcIABFEFRhEOUCgACs//l3/6df///+qZf6V9X2t69f/p////+v97UOY7UyyIxZWPa1inCgyCDq//pXpSia2v23/+MYxGMK6AYqSABEAl70RfX2+nu6///v+rfdWCLKMhUBmZhIDqt23LQGBjyNGEjBCnI5JGjRWkU2a8b29z/+n6/9SnN7LUfo/+MYxHILg2IiQAgEUPpX9//96jShqxUCtNiIeCAcmxc3/tn18pTBRmaNzgUvIqropQvPf/Fy99+z9/8/bx43Xn95kr6QHFQp/+MYxH8LG2IcAACNMTZjQ1mIlAyLi1r7PBeeff3WH/rB/r/2/7a/+6/0/0b19F5lfb/p////9qWyzOGqY5WlRoqAGuCOp1Dm/+MYxI0KuAIuSAhElhZ6kDcciBDa1gec/T1uqXsq/0Pf+z/9tf0fbV8Jf//xrqJs4BnZgPhibbcDkhvrmd9q9s+3XL+2X+9e/+MYxJ0MK14UAABNLG/7/dfT6f/1Rt+v/0/09f///1fZbWuR7ohD7JuzWZRbVe5Or5lVUWrunn1/Z+v/v//p9Ozvqh6OoMKb/+MYxKcMo2YhgAgExmatD1TeZuDdxZACD6ZEipG5JWjTNJZ16WIitt4yx3+/3fud9dFaG/7fdRQ///2a8PsCLxIDokWAam24/+MYxK8JsAYuSAhEAtxow+XubpX85GAu+/8z//2cpeR+xf/KXOZchkyy8//P5f+X/////edcJFIEjHFNBB0OtjXoQIEUm8mx/+MYxMMMi14mKAgEpmaRQYFFM5jChhMBskKSnLHwMz8jUiTb6rq////Pf0u6p038KcqLh8tFIDPK0waRwBJBSIFgBH+eAMDT/+MYxMsKG2IYAACNTf///9P/////5/+f9ZKCZazujkeQGA+RIYDEc4oApsX+dz5P//O5+WXJWPpLGoNdAyEtBgspdF5FUbFU/+MYxN0KUAIuSAhElphZOtQNqKkTl6///B7L9f//5//5fz+V1/L5f++f3/qD/n3//+3svyOlCl52VRRE7iVvgaFRcAxZVbe0/+MYxO4Og2ImSAhG3+lb683WpVSNSyNspd0UzsyTkRVqjsj0ej//1rZG9Co1Go8hSlgMjhQucpg9Fp6+uL06ZdcfIdD1ckrm/+MYxO8Os14QAABNLaj9X+YufyaKj/L1t//8H/qi//5+RF+LQjyw2+XDjO2/Oaj///93+ja45qSmWYIJQEc0bZqkTcr7IVep/+MYxO8QI2YVgAjNoNrP+QIELy/8t6XR+eyorh/f//lg2WZf/7/5e//fR+/3n+YOX5f///owB5uJ2AJjUjMSRgzRqNJV/rUZ/+MYxOkNS2oiSAiHoCRFe8nrl2Pvi15/JiyX/5T+vecv8z17/L5R9F5k5Z3b+YC6yr8fP+3q1m0TMZjrAnSg0CCBw7EjjUWC/+MYxO4OY14QAAFTMVFqv0w2rN+YPGceXOXn/+XP//8v/n//9fy/35BrF///f/////yI08yQDwI+dXQ0HJERuhH+9xIkWcvm/+MYxO8Pq2YaQAiNoPYT38z3LPn/X//1v32IRy49cz/5f9Lnzfz5/InIzKD/1+Xp1/0ar6I8YqlQQZkzYJLkIcO6sDjmwHuv/+MYxOsNi14lqAhG3//33Ln8vBl/P9Kf/8/+X2UpVxaJV+kYMsr9dtFr///l//3SQ2v1CRbHIPKziXzJVEkeHFBQADHVjccc/+MYxO8P214dqAiHoohQ8T6PXm5mjvzJirn9X//eX/5r/5fykE3Ni12f/185fn+v/8/6e//TaqOoNyZTiIJc8YEAygzxf//P/+MYxOoMez4iQAhG3fry//////8v//Kf7ckWwdjU6uAlPIxG5Tl6VM4PV/5f55eZylFPOPd8+pBCJZ/XpEmmNSwmYOHpl+8l/+MYxPMO62YhqAiHomIQPMfzYfl//Lr/YkBd3APxQ/z3//5ctVrMPakfyqebn//T////TkqS/QylsGVd48YSy46YoyMkuz/T/+MYxPIPW2IaQAhGvcsh/D/M/+9+ll//Oyz/88v5//+y5v/yk3nL8pTl////8+f5FlWkpuw22NXIjbfSLWc61WWWHynCuQIe/+MYxO8OGz4mSAiHo5f/+fl+6PQReMvX//PaIhL//fN/sqD6zWhL/V65v73///f+YCU4yRtDLIwg1XBowhGBB9hrgDTcaBER/+MYxPEPg2IVYAjNoU///15+ZcFdV//eSL/y//l1+i+vPy/kfv/rl////+JaajzwMYMAghvUbHiBQQIPAbC1ssAgiBYf57+v/+MYxO4Og0IhqAiHh//3////z/Oz7+W3lNll+U07IIZZzqTh3M8nFman/H///JZ7yZNkaLB0Jm7sJc+SMA55lhJMhxxWD//3/+MYxO8Og2IdgAjNoxkk379d8j1rs5dfLbn/8nP/6/fI96P9df/z4r//9ecXX89H+6aUs2dmtayGHP0pclEjszX4HMJuF/65/+MYxPAOO2IdoAhG3j/XzN0ullhGsszM/ozztvKpndTslEpKj2PdL6fT+7s2V7EMsIZjAR3CNdSEIWWkxGnEVitwwSIE0yNv/+MYxPIN42IiSAhG32r/XVk9VVG107IY5j6q57Gc/pXT+eX//+u/PR8s7s6FI5zlEKGJVKLKV40qeS1MtkxKW2ro9xEXn7/P/+MYxPUQg14WQAjNof1Q3Xr4q2XJfy//y//l/z+EveR/6GLX/8K////6fbT9CoRyDsdHMIn279+ZuHuOFIvVt//e1pVZ1Sju/+MYxO4Oe2YhqAiNorOaY+51MxL2UoMIjmcxjQdFRyNVVa1LUd6/172a9VbR1U4VCCXA1HkcQMoC0U/SoACSMRAUgYdoKEGU/+MYxO8Pk2oQIACTFIGGIGiRxzP/iH/vP+A5r///z/838v36n//7//P//6P33///+IWZyzRmB+SBvm5THMSlFEL/+Rk4Zi9+/+MYxOsMk2oUAACTMIu5BP9fIxC7h//3y/+pSujznMj/z9S/P/z/3LmX////5b//JkWqxxoRRaLrubJCHAdzYcWODdv+mtvZ/+MYxPMOC2odoAiNotVJZ0Vt2VqSD52bqzoQUdUKy2er0mroz2ImX/ffZq7X1k3INcezhRmERUQFFMAKMfV+gmPaVJ1igl2k/+MYxPUQ+2oMAACNFHP/9xk/D8srrZ8vzu/6//+Rn/z/z+zneV/+v/4uZ9f//r///7ra1i0znd0Ugk4dN6Y7gvKgUdX79xks/+MYxOwM804mSAhG3/KCtd87mQv5c/5Zf/7Ev/78+WauWX//kpIjI5uRowybyixL5XX///9ljMuUzMQqXJK/tDgIgrL/559G/+MYxPMPO14hoAhGv/mf5ZzlJLOy2QkeTfcjvUyVy//8/f2FeWu88vZVPrqa9ZRm4QQNIl+ZXNGC6/SXL88C+nHJ/7+SvMhI/+MYxPEQQ2YMAAFTFIs2gqVC7+4N/uX//f8vxH/58uUymv/9y3n5b6p/////23ZHynRxARCkKUwRQQKsdFCUNswfdmL1lgtv/+MYxOsNU1YhoAiHo6Sv3/l/Xzl3+2v//z//39/Rn/Bzz50R8pf+u1l1////p1TRqIXaXd0lDIY1USShoAoxCxaAAqa79xkE/+MYxPAOq2YlqAhG3i/PH3PO5xkW66X2h6/88sP8+U/+uX5lkd1Wyys9az/smhajlmX//5cUNkTjmAKPJoxzJyrMUopoJBRq/+MYxPAOQ2YQAABTEP73EgSF593QPX7+U3v8///5P/5f/1//8WfL5/1/wwp+mQv5f/LOigzvMjoczjItyM9EgLnY/+XqeeNw/+MYxPIPW1odgAiNh1SJsuiWWbOXoFVzs2a4NzlzXZn5//7X3dqO9L75RtzsmeQIKivkbIknm6xULDDSF5G5edXuv9C5lKVa/+MYxO8Og2IeQAiHhU3LrlyX7QBy//nfQ//Ky//ly7J58a7KBc0ayl7+6f2b///zX2K6SHIepGMDBElCtphtGsZv0xJEKiQ//+MYxPAPq1odqAhG3wDT/nXn7///////L//e/cyXZbb6AMy12NvdI9zIy89yP////v7TUeUIqnHCCasDDMKcm5u123L8cVu3/+MYxOwNQ1YhqAhG3zUVguuHqHy/6l2v3wV/qv//1/y/6/L//4es9nUvyz39T////ZutU9IzMWbQyKjY5epCS1vy5xHlVZJJ/+MYxPIOS2YQAABTEANCv/fIss+X6P////8v+Z//7/LI8NLlZNFck/z+/Xv////0K/83Yuomhozh1pUW7Qga+6t4NNE0ONyy/+MYxPMQQ14ZgAiNo8toABfy/svsz/rLv/17a0avX2vbuuzH00V0+XbV20T///3+ljpQxDFMyOMU1BpkIo8YcHKrCcyiKKre/+MYxO0PY2YVgAiToO2vyGX6nq+ZGb/rXl1//z//5b//lP8uf//EXKv+v0/////XvQqTHqxWoRRgrhmDQQThlQOyKj8/0/Nr/+MYxOoNk14eQAiNob7U7/4/la2f//OxCL/n//f/3l2Y15p5/upz2pf9f//vb6fPQrUQuQWcUc+KjmrmzmEozKAfEE2ozP6//+MYxO4PA2oaIAjNoPr/Nfaw///33+X9X/eZ+fn1/WsjbNckfer3+X////IfPyFgNsUSt77vc4pDvI10yuq3EgRQpc7tf8uf/+MYxO0Oq2IeQAgKyYp9+ff/8t/VKaoXy//G//Mlg/vqertShLzX3z/v1/1usqWRrBmSOCTfz+xy0sx9H63VEYg/r1//y/f9/+MYxO0Nk1YiQAiHhPRtNNHzUTq6q62f1XTbORdOq//X+ifdGOWrVHT2OY9hoLyZQ1I1OkSI4NyocRYoUKCKLRLH0W23JYjT/+MYxPEOe14dgAiNo19+/Ln9Uglsp4+ZoF/0oiS+//+6/Ky99yje////qTa8////5/i+DFN2QNkCg0QUzocL/8z+9XOZ54F5/+MYxPINW2IeQAhM3ceYqGZJzgEAMZmZnZwkIrdFDDe/+6/bO+zrRU5sYqdzx7dIYqqOyjECzyIUAwNkCJGxav/3/cvwCyzh/+MYxPcPC14dqAiNow2kh3GeZQmSGeKjgYTMzZ7l58z/3//633UfmVt4ncevdKqvispjUlOkhOkTwuwsXQoxMruyQWgISfyX/+MYxPUPs2oV4AgOkPLK//PPzf////5n/+/8NeDSNlRbu9FKjI8Zn/O89Z/+f/L6fL6ObO7wiuTKLQRjt4JUkfCiZZFYEpXT/+MYxPENwzYqSAhG3zlwiHl+Vln8utc8+X///36///L9Tv5LMl1ftaeZd/zl//////nLfhZytqwKmCjMFcMIwQcAMZ2oQGKn/+MYxPUO214QAABNEf1y0qzKPqaNn3AEjuGta0EsZF8j/+X/+avnuL5WLWOhrPCGdKIznKWIbhBiOUIrq4eiMNb++RofJUR//+MYxPQO+2oQAABTECDLKpKyp7AFEE8jv/+Sl/f/y/f/l5fP4fymp//l////19DUomQyM0m1ZpEZBzxYoAZF/76MqX0Xlyuc/+MYxPMQE2YaQAjNoOhkaR051mjiXVyEahjrxZUVKOOczO6VzO22dvX/72/XSfKGp6jj1xthiMTqqkaMDONH8CrEtDC58Rlm/+MYxO0PA2IeQAhGvRcLtzbVM/gZH6X/lrIqeVGpIri//vyEv/zP/5f5/9b/8Pz/X6/////b9NHfUzFhEoxzO4G0JqZksJg5/+MYxOwNA2oUAABRLKr/0/12Xg3ZXsiKqursXOls6MpKE2znexzO55WW+peuvZ/7auaSuIHKhjghBhAV3CmBClmIxpPSkSy7/+MYxPMOIz4hoAhG3yfJyIVqohcXWCjI/8vP9+1/7//X/3/6f61/+v7/t77f6/2/////+26mQzIyjqylhTO4eKGRQxhbNDiJ/+MYxPUSE2oIAACTEFX/++n7JrSx2WYNMZFc7AlUirWqGBPCXOpzmRTPQjIe9czff/5/PfLPJX3KO6w22kttoaJ9pNWZDjFM/+MYxOcNi2YhoAiHhqk05mxEuYDmFRBBIGDT7+IflmVMb/0Wf/0/QLkHf1/2m6v6fpoY+1+sAhoMlxoGOFQ+jbbcZJGljIXK/+MYxOsQO2IMAACTFb+lv4fH/GVV//r//efnoslIj/r9fxbPO8vHItLDn/P//ZdO6lS9VdVByqsIqUNAYfBAhpCxuXVke+X2/+MYxOUNE2IiQAgEwV5f0jVYbP3//7v/L//l5f5ss4GVEaGbmesRh9K0ju6///837UmOjpIwssokUcxQt+gNYplsHLYhB5eJ/+MYxOsQk1YMAACTEY3JJQ1wxZtG/tak6KISwy/uZ/j6nkHvZei9RjajSy8n3x/u3///stJyKaAKCFJMKC4b/r/WvwKplRP5/+MYxOMKOAYuSABEAnq+WEvP//5I//v/QMz8//X758VpvOnnOVPn/f//uX2+f7nDYvkGpozxt8Xn2tRGoPBM1PX/6/+YdDJZ/+MYxPUPQ1YiSAiHo8IiMFFDMfiOduTSMAxPIM7R9Lkv8t/3993+be079FC2LRc8jYlp5R6KheqB2l0kwFwoFSmWOyCsZ8v+/+MYxPMQg2IaQAlNoFP7Ly7/X//+W+gepL/1mP1mfb8ccMf6rJy7AZA9f8//z/1MupC79GSiKa17cElnuR7pw5MG48AV+ucZ/+MYxOwMgAYuSAhEAhglKMW9+py5S+PP+Rf/6MP/fXz/vlOfvzMv/LWRcWGz16///9fZMlpasVhhHOGxIRbHk8nkkYP+EQKl/+MYxPUPG2IdgAjNozJQByAMF/6//le/y////8/rVl/v5/d/5U98kU2tzl5SITKXk///7Pt5VWhZSMOQqIHZwB0LymkzFFnA/+MYxPMOw2oQAABNEL0pKo025GgSbCS9H7lzLlV58mRTv//3+W8WT//f/7zz5//l/9ki/6////WXFkRjlygC4US7JYQwCIg1/+MYxPMPk1YaQAjNof+3GgQj8XKu+pz/PNeX2//81+BMxLX//nz8/5vXovznf9GZ8kZy//J/t1dPqqsZWQIqK2lF4LBUIAJn/+MYxO8Pq2YdoAlNopA5QImv5P/i4cqmi/y///9DP/mplLdWL/8rZS/qX////m+pfVpWM5jBgJysYxQpTGMYUcygIwYU6qqq/+MYxOsPE14aQAiNoYAwNmLCuoX4szULsxZmoXZiwr/FhX//gIWFSJmtiVCwr3f7P/ioqLCwsLC4qK1MQU1FMy45OS4zVVVV/+MYxOkN614mSAhE31VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxOwOwz4hqAiHo1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxOwOG1oOIAgEqFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxO4L6AVtkAhEAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",Jt="Read this book aloud",Ft=n(1774),Yt=n(1669),N=n(1669);function Ze(ie){return Ze=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(H){return typeof H=="undefined"?"undefined":_typeof(H)}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G=="undefined"?"undefined":_typeof(G)},Ze(ie)}function ge(){ge=function(){return G};var ie,G={},H=Object.prototype,Z=H.hasOwnProperty,oe=Object.defineProperty||function(Ne,ue,Te){Ne[ue]=Te.value},me=typeof Symbol=="function"?Symbol:{},Oe=me.iterator||"@@iterator",Pe=me.asyncIterator||"@@asyncIterator",Xe=me.toStringTag||"@@toStringTag";function Me(Ne,ue,Te){return Object.defineProperty(Ne,ue,{value:Te,enumerable:!0,configurable:!0,writable:!0}),Ne[ue]}try{Me({},"")}catch(Ne){Me=function(Te,ft,Tt){return Te[ft]=Tt}}function Qe(Ne,ue,Te,ft){var Tt=ue&&_instanceof(ue.prototype,an)?ue:an,St=Object.create(Tt.prototype),sn=new Tn(ft||[]);return oe(St,"_invoke",{value:Qn(Ne,Te,sn)}),St}function ht(Ne,ue,Te){try{return{type:"normal",arg:Ne.call(ue,Te)}}catch(ft){return{type:"throw",arg:ft}}}G.wrap=Qe;var Vt="suspendedStart",$t="suspendedYield",zt="executing",qt="completed",Bt={};function an(){}function cn(){}function It(){}var nn={};Me(nn,Oe,function(){return this});var Kt=Object.getPrototypeOf,Pn=Kt&&Kt(Kt(Sr([])));Pn&&Pn!==H&&Z.call(Pn,Oe)&&(nn=Pn);var Xt=It.prototype=an.prototype=Object.create(nn);function ar(Ne){["next","throw","return"].forEach(function(ue){Me(Ne,ue,function(Te){return this._invoke(ue,Te)})})}function Fn(Ne,ue){function Te(Tt,St,sn,Mn){var Nn=ht(Ne[Tt],Ne,St);if(Nn.type!=="throw"){var cr=Nn.arg,or=cr.value;return or&&Ze(or)=="object"&&Z.call(or,"__await")?ue.resolve(or.__await).then(function(Ar){Te("next",Ar,sn,Mn)},function(Ar){Te("throw",Ar,sn,Mn)}):ue.resolve(or).then(function(Ar){cr.value=Ar,sn(cr)},function(Ar){return Te("throw",Ar,sn,Mn)})}Mn(Nn.arg)}var ft;oe(this,"_invoke",{value:function(St,sn){function Mn(){return new ue(function(Nn,cr){Te(St,sn,Nn,cr)})}return ft=ft?ft.then(Mn,Mn):Mn()}})}function Qn(Ne,ue,Te){var ft=Vt;return function(Tt,St){if(ft===zt)throw Error("Generator is already running");if(ft===qt){if(Tt==="throw")throw St;return{value:ie,done:!0}}for(Te.method=Tt,Te.arg=St;;){var sn=Te.delegate;if(sn){var Mn=en(sn,Te);if(Mn){if(Mn===Bt)continue;return Mn}}if(Te.method==="next")Te.sent=Te._sent=Te.arg;else if(Te.method==="throw"){if(ft===Vt)throw ft=qt,Te.arg;Te.dispatchException(Te.arg)}else Te.method==="return"&&Te.abrupt("return",Te.arg);ft=zt;var Nn=ht(Ne,ue,Te);if(Nn.type==="normal"){if(ft=Te.done?qt:$t,Nn.arg===Bt)continue;return{value:Nn.arg,done:Te.done}}Nn.type==="throw"&&(ft=qt,Te.method="throw",Te.arg=Nn.arg)}}}function en(Ne,ue){var Te=ue.method,ft=Ne.iterator[Te];if(ft===ie)return ue.delegate=null,Te==="throw"&&Ne.iterator.return&&(ue.method="return",ue.arg=ie,en(Ne,ue),ue.method==="throw")||Te!=="return"&&(ue.method="throw",ue.arg=new TypeError("The iterator does not provide a '"+Te+"' method")),Bt;var Tt=ht(ft,Ne.iterator,ue.arg);if(Tt.type==="throw")return ue.method="throw",ue.arg=Tt.arg,ue.delegate=null,Bt;var St=Tt.arg;return St?St.done?(ue[Ne.resultName]=St.value,ue.next=Ne.nextLoc,ue.method!=="return"&&(ue.method="next",ue.arg=ie),ue.delegate=null,Bt):St:(ue.method="throw",ue.arg=new TypeError("iterator result is not an object"),ue.delegate=null,Bt)}function bn(Ne){var ue={tryLoc:Ne[0]};1 in Ne&&(ue.catchLoc=Ne[1]),2 in Ne&&(ue.finallyLoc=Ne[2],ue.afterLoc=Ne[3]),this.tryEntries.push(ue)}function Zn(Ne){var ue=Ne.completion||{};ue.type="normal",delete ue.arg,Ne.completion=ue}function Tn(Ne){this.tryEntries=[{tryLoc:"root"}],Ne.forEach(bn,this),this.reset(!0)}function Sr(Ne){if(Ne||Ne===""){var ue=Ne[Oe];if(ue)return ue.call(Ne);if(typeof Ne.next=="function")return Ne;if(!isNaN(Ne.length)){var Te=-1,ft=function Tt(){for(;++Te<Ne.length;)if(Z.call(Ne,Te))return Tt.value=Ne[Te],Tt.done=!1,Tt;return Tt.value=ie,Tt.done=!0,Tt};return ft.next=ft}}throw new TypeError(Ze(Ne)+" is not iterable")}return cn.prototype=It,oe(Xt,"constructor",{value:It,configurable:!0}),oe(It,"constructor",{value:cn,configurable:!0}),cn.displayName=Me(It,Xe,"GeneratorFunction"),G.isGeneratorFunction=function(Ne){var ue=typeof Ne=="function"&&Ne.constructor;return!!ue&&(ue===cn||(ue.displayName||ue.name)==="GeneratorFunction")},G.mark=function(Ne){return Object.setPrototypeOf?Object.setPrototypeOf(Ne,It):(Ne.__proto__=It,Me(Ne,Xe,"GeneratorFunction")),Ne.prototype=Object.create(Xt),Ne},G.awrap=function(Ne){return{__await:Ne}},ar(Fn.prototype),Me(Fn.prototype,Pe,function(){return this}),G.AsyncIterator=Fn,G.async=function(Ne,ue,Te,ft,Tt){Tt===void 0&&(Tt=Promise);var St=new Fn(Qe(Ne,ue,Te,ft),Tt);return G.isGeneratorFunction(ue)?St:St.next().then(function(sn){return sn.done?sn.value:St.next()})},ar(Xt),Me(Xt,Xe,"Generator"),Me(Xt,Oe,function(){return this}),Me(Xt,"toString",function(){return"[object Generator]"}),G.keys=function(Ne){var ue=Object(Ne),Te=[];for(var ft in ue)Te.push(ft);return Te.reverse(),function Tt(){for(;Te.length;){var St=Te.pop();if(St in ue)return Tt.value=St,Tt.done=!1,Tt}return Tt.done=!0,Tt}},G.values=Sr,Tn.prototype={constructor:Tn,reset:function(ue){if(this.prev=0,this.next=0,this.sent=this._sent=ie,this.done=!1,this.delegate=null,this.method="next",this.arg=ie,this.tryEntries.forEach(Zn),!ue)for(var Te in this)Te.charAt(0)==="t"&&Z.call(this,Te)&&!isNaN(+Te.slice(1))&&(this[Te]=ie)},stop:function(){this.done=!0;var ue=this.tryEntries[0].completion;if(ue.type==="throw")throw ue.arg;return this.rval},dispatchException:function(ue){if(this.done)throw ue;var Te=this;function ft(cr,or){return sn.type="throw",sn.arg=ue,Te.next=cr,or&&(Te.method="next",Te.arg=ie),!!or}for(var Tt=this.tryEntries.length-1;Tt>=0;--Tt){var St=this.tryEntries[Tt],sn=St.completion;if(St.tryLoc==="root")return ft("end");if(St.tryLoc<=this.prev){var Mn=Z.call(St,"catchLoc"),Nn=Z.call(St,"finallyLoc");if(Mn&&Nn){if(this.prev<St.catchLoc)return ft(St.catchLoc,!0);if(this.prev<St.finallyLoc)return ft(St.finallyLoc)}else if(Mn){if(this.prev<St.catchLoc)return ft(St.catchLoc,!0)}else{if(!Nn)throw Error("try statement without catch or finally");if(this.prev<St.finallyLoc)return ft(St.finallyLoc)}}}},abrupt:function(ue,Te){for(var ft=this.tryEntries.length-1;ft>=0;--ft){var Tt=this.tryEntries[ft];if(Tt.tryLoc<=this.prev&&Z.call(Tt,"finallyLoc")&&this.prev<Tt.finallyLoc){var St=Tt;break}}St&&(ue==="break"||ue==="continue")&&St.tryLoc<=Te&&Te<=St.finallyLoc&&(St=null);var sn=St?St.completion:{};return sn.type=ue,sn.arg=Te,St?(this.method="next",this.next=St.finallyLoc,Bt):this.complete(sn)},complete:function(ue,Te){if(ue.type==="throw")throw ue.arg;return ue.type==="break"||ue.type==="continue"?this.next=ue.arg:ue.type==="return"?(this.rval=this.arg=ue.arg,this.method="return",this.next="end"):ue.type==="normal"&&Te&&(this.next=Te),Bt},finish:function(ue){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var ft=this.tryEntries[Te];if(ft.finallyLoc===ue)return this.complete(ft.completion,ft.afterLoc),Zn(ft),Bt}},catch:function(ue){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var ft=this.tryEntries[Te];if(ft.tryLoc===ue){var Tt=ft.completion;if(Tt.type==="throw"){var St=Tt.arg;Zn(ft)}return St}}throw Error("illegal catch attempt")},delegateYield:function(ue,Te,ft){return this.delegate={iterator:Sr(ue),resultName:Te,nextLoc:ft},this.method==="next"&&(this.arg=ie),Bt}},G}Yt.extend(BookReader.defaultOptions,{server:"ia600609.us.archive.org",bookPath:"",enableTtsPlugin:!0}),BookReader.prototype.setup=(Mt=BookReader.prototype.setup,function(ie){if(Mt.call(this,ie),this.options.enableTtsPlugin){this._ttsBoxesByIndex={};var G=Lt.isSupported()?Lt:Re.isSupported()?Re:null;if(/_forceTTSEngine=(festival|web)/.test(location.toString())){var H=location.toString().match(/_forceTTSEngine=(festival|web)/)[1];G={festival:Re,web:Lt}[H]}G&&(this.ttsEngine=new G({server:ie.server,bookPath:ie.bookPath,bookLanguage:(Z=ie.bookLanguage,Z?v(Z=Z.toLowerCase(),["ISO 639-1"])||v(Z,["ISO 639-2/B"])||v(Z,["ISO 639-2/T","Endonym","Name"]):null),onLoadingStart:this.showProgressPopup.bind(this,"Loading audio..."),onLoadingComplete:this.removeProgressPopup.bind(this),onDone:this.ttsStop.bind(this),beforeChunkPlay:this.ttsBeforeChunkPlay.bind(this),afterChunkPlay:this.ttsSendChunkFinishedAnalyticsEvent.bind(this)}))}var Z}),BookReader.prototype.init=function(ie){return function(){var G=this;this.options.enableTtsPlugin&&this.bind(BookReader.eventNames.PostInit,function(){G.$(".BRicon.read").click(function(){return G.ttsToggle(),!1}),G.ttsEngine&&(G.ttsEngine.init(),/[?&]_autoReadAloud=show/.test(location.toString())&&G.ttsStart(!1))}),ie.call(this)}}(BookReader.prototype.init),BookReader.prototype._createPageContainer=function(ie){return function(G){var H=ie.call(this,G);if(this.options.enableTtsPlugin&&H.page&&G in this._ttsBoxesByIndex){var Z=H.page.index;(0,Ft.KL)("ttsHiliteLayer",this._ttsBoxesByIndex[Z],H.page,H.$container[0])}return H}}(BookReader.prototype._createPageContainer),BookReader.prototype.buildMobileDrawerElement=function(ie){return function(){var G=ie.call(this);return this.options.enableTtsPlugin&&this.ttsEngine&&G.find(".BRmobileMenu__moreInfoRow").after(N('\n        <li>\n            <span>\n                <span class="DrawerIconWrapper"><img class="DrawerIcon" src="'.concat(this.imagesBaseURL,'icon_speaker_open.svg" alt="info-speaker"/></span>\n                Read Aloud\n            </span>\n            <div>\n                <span class="larger">Press to toggle read aloud</span>\n                <br/>\n                <button class="BRicon read"></button>\n            </div>\n        </li>'))),G}}(BookReader.prototype.buildMobileDrawerElement),BookReader.prototype.initNavbar=function(ie){return function(){var G=this,H=ie.call(this);if(this.options.enableTtsPlugin&&this.ttsEngine){this.refs.$BRReadAloudToolbar=N('\n        <ul class="read-aloud">\n          <li>\n            <select class="playback-speed" name="playback-speed" title="'.concat("Playback speed",'">\n              <option value="0.25">0.25x</option>\n              <option value="0.5">0.5x</option>\n              <option value="0.75">0.75x</option>\n              <option value="1.0" selected>1.0x</option>\n              <option value="1.25">1.25x</option>\n              <option value="1.5">1.5x</option>\n              <option value="1.75">1.75x</option>\n              <option value="2">2x</option>\n            </select>\n          </li>\n          <li>\n            <button type="button" name="review" title="').concat("Review 10 seconds",'">\n              <div class="icon icon-review"></div>\n            </button>\n          </li>\n          <li>\n            <button type="button" name="play" title="').concat("Play",'">\n              <div class="icon icon-play"></div>\n              <div class="icon icon-pause"></div>\n            </button>\n          </li>\n          <li>\n            <button type="button" name="advance" title="').concat("Advance 10 seconds",'">\n              <div class="icon icon-advance"></div>\n            </button>\n          </li>\n          <li>\n            <select class="playback-voices" name="playback-voice" style="display: none" title="Change read aloud voices">\n            </select>\n          </li>\n        </ul>\n      ')),H.find(".BRcontrols").prepend(this.refs.$BRReadAloudToolbar);var Z=function(Me){return Me.map(function(Qe){return'<option value="'.concat(Qe.voiceURI,'">').concat(Qe.lang," - ").concat(Qe.name,"</option>")}).join("")},oe=function(Me,Qe){return"".concat(Me.lang," - ").concat(Me.name).localeCompare("".concat(Qe.lang," - ").concat(Qe.name))},me=function(Me){Me.empty();var Qe=G.ttsEngine.opts.bookLanguage,ht=G.ttsEngine.getVoices().filter(function($t){return $t.lang.startsWith(Qe)}).sort(oe),Vt=G.ttsEngine.getVoices().filter(function($t){return!$t.lang.startsWith(Qe)}).sort(oe);G.ttsEngine.getVoices().length>1?(Me.append(N('<optgroup label="Book Language ('.concat(Qe,')"> ').concat(Z(ht)," </optgroup>"))),Me.append(N('<optgroup label="Other Languages"> '.concat(Z(Vt)," </optgroup>"))),Me.val(G.ttsEngine.voice.voiceURI),Me.show()):Me.hide()},Oe=this.refs.$BRReadAloudToolbar.find("[name=playback-voice]");me(Oe),Oe.on("change",function(Xe){return G.ttsEngine.setVoice(Oe.val())}),this.ttsEngine.events.on("pause resume start",function(){return G.ttsUpdateState()}),this.ttsEngine.events.on("voiceschanged",function(){return me(Oe)}),this.refs.$BRReadAloudToolbar.find("[name=play]").on("click",this.ttsPlayPause.bind(this)),this.refs.$BRReadAloudToolbar.find("[name=advance]").on("click",this.ttsJumpForward.bind(this)),this.refs.$BRReadAloudToolbar.find("[name=review]").on("click",this.ttsJumpBackward.bind(this));var Pe=this.refs.$BRReadAloudToolbar.find('select[name="playback-speed"]');Pe.on("change",function(Xe){return G.ttsEngine.setPlaybackRate(parseFloat(Pe.val()))}),N('<li>\n          <button class="BRicon read js-tooltip" title="'.concat(Jt,'">\n            <div class="icon icon-read-aloud"></div>\n            <span class="BRtooltip">').concat(Jt,"</span>\n          </button>\n        </li>")).insertBefore(H.find(".BRcontrols .BRicon.zoom_out").closest("li"))}return H}}(BookReader.prototype.initNavbar),BookReader.prototype.ttsToggle=function(){this.autoStop&&this.autoStop(),this.ttsEngine.playing?this.ttsStop():this.ttsStart()},BookReader.prototype.ttsStart=function(){var ie=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.constModeThumb==this.mode&&this.switchMode(this.constMode1up),this.refs.$BRReadAloudToolbar.addClass("visible"),this.$(".BRicon.read").addClass("unread active"),this.ttsSendAnalyticsEvent("Start"),ie&&this.ttsEngine.start(this.currentIndex(),this.book.getNumLeafs())},BookReader.prototype.ttsJumpForward=function(){this.ttsEngine.paused&&this.ttsEngine.resume(),this.ttsEngine.jumpForward()},BookReader.prototype.ttsJumpBackward=function(){this.ttsEngine.paused&&this.ttsEngine.resume(),this.ttsEngine.jumpBackward()},BookReader.prototype.ttsUpdateState=function(){var ie=!(this.ttsEngine.paused||!this.ttsEngine.playing);this.$(".read-aloud [name=play]").toggleClass("playing",ie)},BookReader.prototype.ttsPlayPause=function(){this.ttsEngine.playing?(this.ttsEngine.togglePlayPause(),this.ttsUpdateState()):this.ttsToggle()},BookReader.prototype.ttsStop=function(){this.refs.$BRReadAloudToolbar.removeClass("visible"),this.$(".BRicon.read").removeClass("unread active"),this.ttsSendAnalyticsEvent("Stop"),this.ttsEngine.stop(),this.ttsRemoveHilites(),this.removeProgressPopup()},BookReader.prototype.ttsBeforeChunkPlay=function(){var ie=F(ge().mark(function G(H){return ge().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,this.ttsMaybeFlipToIndex(H.leafIndex);case 2:this.ttsHighlightChunk(H),this.ttsScrollToChunk(H);case 4:case"end":return Z.stop()}},G,this)}));return function(G){return ie.apply(this,arguments)}}(),BookReader.prototype.ttsSendChunkFinishedAnalyticsEvent=function(ie){var G;this.ttsSendAnalyticsEvent("ChunkFinished-Words",(G=ie.text.match(/\S+/g))?G.length:0)},BookReader.prototype.ttsMaybeFlipToIndex=function(){var ie=F(ge().mark(function G(H){return ge().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(this.constMode2up==this.mode){Z.next=4;break}this.jumpToIndex(H),Z.next=6;break;case 4:return Z.next=6,this._modes.mode2Up.mode2UpLit.jumpToIndex(H);case 6:case"end":return Z.stop()}},G,this)}));return function(G){return ie.apply(this,arguments)}}(),BookReader.prototype.ttsHighlightChunk=function(ie){var G,H,Z,oe=this,me=ie.leafIndex;this.ttsRemoveHilites(),this._ttsBoxesByIndex=(G={},H=me,Z=ie.lineRects.map(function(Me){var Qe=he(Me,4),ht=Qe[0],Vt=Qe[1];return{l:ht,r:Qe[2],b:Vt,t:Qe[3]}}),(H=function(Me){var Qe=function(ht,Vt){if(Ze(ht)!="object"||!ht)return ht;var $t=ht[Symbol.toPrimitive];if($t!==void 0){var zt=$t.call(ht,"string");if(Ze(zt)!="object")return zt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ht)}(Me);return Ze(Qe)=="symbol"?Qe:Qe+""}(H))in G?Object.defineProperty(G,H,{value:Z,enumerable:!0,configurable:!0,writable:!0}):G[H]=Z,G);for(var Oe=function(){var Qe=he(Xe[Pe],2),ht=Qe[0],Vt=Qe[1],$t=parseFloat(ht),zt=oe.book.getPage($t);oe.getActivePageContainerElementsForIndex($t).forEach(function(qt){return(0,Ft.KL)("ttsHiliteLayer",Vt,zt,qt)})},Pe=0,Xe=Object.entries(this._ttsBoxesByIndex);Pe<Xe.length;Pe++)Oe()},BookReader.prototype.ttsScrollToChunk=function(ie){var G;this.constModeThumb!=this.mode&&((G=N(".pagediv".concat(ie.leafIndex," .ttsHiliteLayer rect")).last())===null||G===void 0||(G=G[0])===null||G===void 0||G.scrollIntoView({block:this.constMode1up==this.mode||this.isFullscreenActive?"center":"nearest",inline:"center",behavior:"smooth"}))},BookReader.prototype.ttsRemoveHilites=function(){N(this.getActivePageContainerElements()).find(".ttsHiliteLayer").remove(),this._ttsBoxesByIndex={}},BookReader.prototype.ttsSendAnalyticsEvent=function(ie,G){if(this.archiveAnalyticsSendEvent){var H={},Z=this.ttsEngine.opts.bookLanguage;Z&&(H.mediaLanguage=Z),this.archiveAnalyticsSendEvent("BRReadAloud",ie,G,H)}}},4031:function(t,e){"use strict";e.A=void 0,e.A=[["Serbian","\u0441\u0440\u043F\u0441\u043A\u0438 \u0458\u0435\u0437\u0438\u043A","sr","srp","srp"],["Romanian, Moldavian, Moldovan","Rom\xE2n\u0103","ro","ron","rum"],["Sichuan Yi, Nuosu","\uA188\uA320\uA4BF Nuosuhxop","ii","iii","iii"],["Tahitian","Reo Tahiti","ty","tah","tah"],["Tagalog","Wikang Tagalog","tl","tgl","tgl"],["Yiddish","\u05D9\u05D9\u05B4\u05D3\u05D9\u05E9","yi","yid","yid"],["Akan","Akan","ak","aka","aka"],["Malay","Bahasa Melayu, \u0628\u0647\u0627\u0633 \u0645\u0644\u0627\u064A\u0648\u200E","ms","msa","may"],["Arabic","\u0627\u0644\u0639\u0631\u0628\u064A\u0629","ar","ara","ara"],["Norwegian","Norsk","no","nor","nor"],["Ojibwa","\u140A\u14C2\u1511\u14C8\u142F\u14A7\u140E\u14D0","oj","oji","oji"],["Fulah","Fulfulde, Pulaar, Pular","ff","ful","ful"],["Persian","\u0641\u0627\u0631\u0633\u06CC","fa","fas","per"],["Albanian","Shqip","sq","sqi","alb"],["Aymara","aymar aru","ay","aym","aym"],["Azerbaijani","az\u0259rbaycan dili","az","aze","aze"],["Chinese","\u4E2D\u6587 (Zh\u014Dngw\xE9n), \u6C49\u8BED, \u6F22\u8A9E","zh","zho","chi"],["Cree","\u14C0\u1426\u1403\u152D\u140D\u140F\u1423","cr","cre","cre"],["Estonian","eesti, eesti keel","et","est","est"],["Guaran\xED","Ava\xF1e'\u1EBD","gn","grn","grn"],["Inupiaq","I\xF1upiaq, I\xF1upiatun","ik","ipk","ipk"],["Inuktitut","\u1403\u14C4\u1483\u144E\u1450\u1466","iu","iku","iku"],["Kanuri","Kanuri","kr","kau","kau"],["Komi","\u043A\u043E\u043C\u0438 \u043A\u044B\u0432","kv","kom","kom"],["Kongo","Kikongo","kg","kon","kon"],["Kurdish","Kurd\xEE, \u06A9\u0648\u0631\u062F\u06CC\u200E","ku","kur","kur"],["Latvian","latvie\u0161u valoda","lv","lav","lav"],["Malagasy","fiteny malagasy","mg","mlg","mlg"],["Mongolian","\u041C\u043E\u043D\u0433\u043E\u043B \u0445\u044D\u043B","mn","mon","mon"],["Oromo","Afaan Oromoo","om","orm","orm"],["Pashto, Pushto","\u067E\u069A\u062A\u0648","ps","pus","pus"],["Quechua","Runa Simi, Kichwa","qu","que","que"],["Sardinian","sardu","sc","srd","srd"],["Swahili","Kiswahili","sw","swa","swa"],["Uzbek","O\u02BBzbek, \u040E\u0437\u0431\u0435\u043A, \u0623\u06C7\u0632\u0628\u06D0\u0643\u200E","uz","uzb","uzb"],["Zhuang, Chuang","Sa\u026F cue\u014B\u0185, Saw cuengh","za","zha","zha"],["Bislama","Bislama","bi","bis","bis"],["Norwegian Bokm\xE5l","Norsk Bokm\xE5l","nb","nob","nob"],["Norwegian Nynorsk","Norsk Nynorsk","nn","nno","nno"],["Indonesian","Bahasa Indonesia","id","ind","ind"],["Twi","Twi","tw","twi","twi"],["Esperanto","Esperanto","eo","epo","epo"],["Interlingua","Interlingua","ia","ina","ina"],["Interlingue","Originally called Occidental; then Interlingue after WWII","ie","ile","ile"],["Ido","Ido","io","ido","ido"],["Volap\xFCk","Volap\xFCk","vo","vol","vol"],["Bihari languages","\u092D\u094B\u091C\u092A\u0941\u0930\u0940","bh","bih","bih"],["Hebrew (modern)","\u05E2\u05D1\u05E8\u05D9\u05EA","he","heb","heb"],["Sanskrit","\u0938\u0902\u0938\u094D\u0915\u0943\u0924\u092E\u094D","sa","san","san"],["Church Slavic, Church Slavonic, Old Church Slavonic, Old Slavonic, Old Bulgarian","\u0469\u0437\u044B\u043A\u044A \u0441\u043B\u043E\u0432\u0463\u043D\u044C\u0441\u043A\u044A","cu","chu","chu"],["Pali","\u092A\u093E\u0934\u093F","pi","pli","pli"],["Avestan","avesta","ae","ave","ave"],["Latin","latine, lingua latina","la","lat","lat"],["Armenian","\u0540\u0561\u0575\u0565\u0580\u0565\u0576","hy","hye","arm"],["Swati","SiSwati","ss","ssw","ssw"],["Tibetan","\u0F56\u0F7C\u0F51\u0F0B\u0F61\u0F72\u0F42","bo","bod","tib"],["South Ndebele","isiNdebele","nr","nbl","nbl"],["Slovene","Slovenski Jezik, Sloven\u0161\u010Dina","sl","slv","slv"],["Oriya","\u0B13\u0B21\u0B3C\u0B3F\u0B06","or","ori","ori"],["North Ndebele","isiNdebele","nd","nde","nde"],["Nauru","Dorerin Naoero","na","nau","nau"],["Maori","te reo M\u0101ori","mi","mri","mao"],["Marathi","\u092E\u0930\u093E\u0920\u0940","mr","mar","mar"],["Luba-Katanga","Kiluba","lu","lub","lub"],["Rundi","Ikirundi","rn","run","run"],["Central Khmer","\u1781\u17D2\u1798\u17C2\u179A, \u1781\u17C1\u1798\u179A\u1797\u17B6\u179F\u17B6, \u1797\u17B6\u179F\u17B6\u1781\u17D2\u1798\u17C2\u179A","km","khm","khm"],["Western Frisian","Frysk","fy","fry","fry"],["Bengali","\u09AC\u09BE\u0982\u09B2\u09BE","bn","ben","ben"],["Avaric","\u0430\u0432\u0430\u0440 \u043C\u0430\u0446\u04C0, \u043C\u0430\u0433\u04C0\u0430\u0440\u0443\u043B \u043C\u0430\u0446\u04C0","av","ava","ava"],["Abkhazian","\u0430\u04A7\u0441\u0443\u0430 \u0431\u044B\u0437\u0448\u04D9\u0430, \u0430\u04A7\u0441\u0448\u04D9\u0430","ab","abk","abk"],["Afar","Afaraf","aa","aar","aar"],["Afrikaans","Afrikaans","af","afr","afr"],["Amharic","\u12A0\u121B\u122D\u129B","am","amh","amh"],["Aragonese","aragon\xE9s","an","arg","arg"],["Assamese","\u0985\u09B8\u09AE\u09C0\u09AF\u09BC\u09BE","as","asm","asm"],["Bambara","bamanankan","bm","bam","bam"],["Bashkir","\u0431\u0430\u0448\u04A1\u043E\u0440\u0442 \u0442\u0435\u043B\u0435","ba","bak","bak"],["Basque","euskara, euskera","eu","eus","baq"],["Belarusian","\u0431\u0435\u043B\u0430\u0440\u0443\u0441\u043A\u0430\u044F \u043C\u043E\u0432\u0430","be","bel","bel"],["Bosnian","bosanski jezik","bs","bos","bos"],["Breton","brezhoneg","br","bre","bre"],["Bulgarian","\u0431\u044A\u043B\u0433\u0430\u0440\u0441\u043A\u0438 \u0435\u0437\u0438\u043A","bg","bul","bul"],["Burmese","\u1017\u1019\u102C\u1005\u102C","my","mya","bur"],["Catalan, Valencian","catal\xE0, valenci\xE0","ca","cat","cat"],["Chamorro","Chamoru","ch","cha","cha"],["Chechen","\u043D\u043E\u0445\u0447\u0438\u0439\u043D \u043C\u043E\u0442\u0442","ce","che","che"],["Chichewa, Chewa, Nyanja","chiChe\u0175a, chinyanja","ny","nya","nya"],["Chuvash","\u0447\u04D1\u0432\u0430\u0448 \u0447\u04D7\u043B\u0445\u0438","cv","chv","chv"],["Cornish","Kernewek","kw","cor","cor"],["Corsican","corsu, lingua corsa","co","cos","cos"],["Croatian","hrvatski jezik","hr","hrv","hrv"],["Czech","\u010De\u0161tina, \u010Desk\xFD jazyk","cs","ces","cze"],["Danish","dansk","da","dan","dan"],["Divehi, Dhivehi, Maldivian","\u078B\u07A8\u0788\u07AC\u0780\u07A8","dv","div","div"],["Dutch, Flemish","Nederlands, Vlaams","nl","nld","dut"],["Dzongkha","\u0F62\u0FAB\u0F7C\u0F44\u0F0B\u0F41","dz","dzo","dzo"],["English","English","en","eng","eng"],["Ewe","E\u028Begbe","ee","ewe","ewe"],["Faroese","f\xF8royskt","fo","fao","fao"],["Fijian","vosa Vakaviti","fj","fij","fij"],["Finnish","suomi, suomen kieli","fi","fin","fin"],["French","fran\xE7ais, langue fran\xE7aise","fr","fra","fre"],["Galician","Galego","gl","glg","glg"],["Georgian","\u10E5\u10D0\u10E0\u10D7\u10E3\u10DA\u10D8","ka","kat","geo"],["German","Deutsch","de","deu","ger"],["Greek (modern)","\u03B5\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC","el","ell","gre"],["Gujarati","\u0A97\u0AC1\u0A9C\u0AB0\u0ABE\u0AA4\u0AC0","gu","guj","guj"],["Haitian, Haitian Creole","Krey\xF2l ayisyen","ht","hat","hat"],["Hausa","(Hausa) \u0647\u064E\u0648\u064F\u0633\u064E","ha","hau","hau"],["Herero","Otjiherero","hz","her","her"],["Hindi","\u0939\u093F\u0928\u094D\u0926\u0940, \u0939\u093F\u0902\u0926\u0940","hi","hin","hin"],["Hiri Motu","Hiri Motu","ho","hmo","hmo"],["Hungarian","magyar","hu","hun","hun"],["Irish","Gaeilge","ga","gle","gle"],["Igbo","As\u1EE5s\u1EE5 Igbo","ig","ibo","ibo"],["Icelandic","\xCDslenska","is","isl","ice"],["Italian","Italiano","it","ita","ita"],["Japanese","\u65E5\u672C\u8A9E (\u306B\u307B\u3093\u3054)","ja","jpn","jpn"],["Javanese","\uA9A7\uA9B1\uA997\uA9AE, Basa Jawa","jv","jav","jav"],["Kalaallisut, Greenlandic","kalaallisut, kalaallit oqaasii","kl","kal","kal"],["Kannada","\u0C95\u0CA8\u0CCD\u0CA8\u0CA1","kn","kan","kan"],["Kashmiri","\u0915\u0936\u094D\u092E\u0940\u0930\u0940, \u0643\u0634\u0645\u064A\u0631\u064A\u200E","ks","kas","kas"],["Kazakh","\u049B\u0430\u0437\u0430\u049B \u0442\u0456\u043B\u0456","kk","kaz","kaz"],["Kikuyu, Gikuyu","G\u0129k\u0169y\u0169","ki","kik","kik"],["Kinyarwanda","Ikinyarwanda","rw","kin","kin"],["Kirghiz, Kyrgyz","\u041A\u044B\u0440\u0433\u044B\u0437\u0447\u0430, \u041A\u044B\u0440\u0433\u044B\u0437 \u0442\u0438\u043B\u0438","ky","kir","kir"],["Korean","\uD55C\uAD6D\uC5B4","ko","kor","kor"],["Kuanyama, Kwanyama","Kuanyama","kj","kua","kua"],["Luxembourgish, Letzeburgesch","L\xEBtzebuergesch","lb","ltz","ltz"],["Ganda","Luganda","lg","lug","lug"],["Limburgan, Limburger, Limburgish","Limburgs","li","lim","lim"],["Lingala","Ling\xE1la","ln","lin","lin"],["Lao","\u0E9E\u0EB2\u0EAA\u0EB2\u0EA5\u0EB2\u0EA7","lo","lao","lao"],["Lithuanian","lietuvi\u0173 kalba","lt","lit","lit"],["Manx","Gaelg, Gailck","gv","glv","glv"],["Macedonian","\u043C\u0430\u043A\u0435\u0434\u043E\u043D\u0441\u043A\u0438 \u0458\u0430\u0437\u0438\u043A","mk","mkd","mac"],["Malayalam","\u0D2E\u0D32\u0D2F\u0D3E\u0D33\u0D02","ml","mal","mal"],["Maltese","Malti","mt","mlt","mlt"],["Marshallese","Kajin M\u0327aje\u013C","mh","mah","mah"],["Navajo, Navaho","Din\xE9 bizaad","nv","nav","nav"],["Nepali","\u0928\u0947\u092A\u093E\u0932\u0940","ne","nep","nep"],["Ndonga","Owambo","ng","ndo","ndo"],["Occitan","occitan, lenga d'\xF2c","oc","oci","oci"],["Ossetian, Ossetic","\u0438\u0440\u043E\u043D \xE6\u0432\u0437\u0430\u0433","os","oss","oss"],["Panjabi, Punjabi","\u0A2A\u0A70\u0A1C\u0A3E\u0A2C\u0A40","pa","pan","pan"],["Polish","j\u0119zyk polski, polszczyzna","pl","pol","pol"],["Portuguese","Portugu\xEAs","pt","por","por"],["Romansh","Rumantsch Grischun","rm","roh","roh"],["Russian","\u0440\u0443\u0441\u0441\u043A\u0438\u0439","ru","rus","rus"],["Sindhi","\u0938\u093F\u0928\u094D\u0927\u0940, \u0633\u0646\u068C\u064A\u060C \u0633\u0646\u062F\u06BE\u06CC\u200E","sd","snd","snd"],["Northern Sami","Davvis\xE1megiella","se","sme","sme"],["Samoan","gagana fa'a Samoa","sm","smo","smo"],["Sango","y\xE2ng\xE2 t\xEE s\xE4ng\xF6","sg","sag","sag"],["Gaelic, Scottish Gaelic","G\xE0idhlig","gd","gla","gla"],["Shona","chiShona","sn","sna","sna"],["Sinhala, Sinhalese","\u0DC3\u0DD2\u0D82\u0DC4\u0DBD","si","sin","sin"],["Slovak","Sloven\u010Dina, Slovensk\xFD Jazyk","sk","slk","slo"],["Somali","Soomaaliga, af Soomaali","so","som","som"],["Southern Sotho","Sesotho","st","sot","sot"],["Spanish, Castilian","Espa\xF1ol","es","spa","spa"],["Sundanese","Basa Sunda","su","sun","sun"],["Swedish","Svenska","sv","swe","swe"],["Tamil","\u0BA4\u0BAE\u0BBF\u0BB4\u0BCD","ta","tam","tam"],["Telugu","\u0C24\u0C46\u0C32\u0C41\u0C17\u0C41","te","tel","tel"],["Tajik","\u0442\u043E\u04B7\u0438\u043A\u04E3, to\xE7ik\u012B, \u062A\u0627\u062C\u06CC\u06A9\u06CC\u200E","tg","tgk","tgk"],["Thai","\u0E44\u0E17\u0E22","th","tha","tha"],["Tigrinya","\u1275\u130D\u122D\u129B","ti","tir","tir"],["Turkmen","T\xFCrkmen, \u0422\u04AF\u0440\u043A\u043C\u0435\u043D","tk","tuk","tuk"],["Tswana","Setswana","tn","tsn","tsn"],["Tongan (Tonga Islands)","Faka Tonga","to","ton","ton"],["Turkish","T\xFCrk\xE7e","tr","tur","tur"],["Tsonga","Xitsonga","ts","tso","tso"],["Tatar","\u0442\u0430\u0442\u0430\u0440 \u0442\u0435\u043B\u0435, tatar tele","tt","tat","tat"],["Uighur, Uyghur","\u0626\u06C7\u064A\u063A\u06C7\u0631\u0686\u06D5\u200E, Uyghurche","ug","uig","uig"],["Ukrainian","\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430","uk","ukr","ukr"],["Urdu","\u0627\u0631\u062F\u0648","ur","urd","urd"],["Venda","Tshiven\u1E13a","ve","ven","ven"],["Vietnamese","Ti\u1EBFng Vi\u1EC7t","vi","vie","vie"],["Walloon","Walon","wa","wln","wln"],["Welsh","Cymraeg","cy","cym","wel"],["Wolof","Wollof","wo","wol","wol"],["Xhosa","isiXhosa","xh","xho","xho"],["Yoruba","Yor\xF9b\xE1","yo","yor","yor"],["Zulu","isiZulu","zu","zul","zul"]]},1792:function(t,e,n){var o,l;o=[n(1669)],(l=function(a){return function(s){"use strict";var r=function(c){c===void 0&&(c=window.navigator.userAgent),c=c.toLowerCase();var h=/(edge)\/([\w.]+)/.exec(c)||/(opr)[\/]([\w.]+)/.exec(c)||/(chrome)[ \/]([\w.]+)/.exec(c)||/(iemobile)[\/]([\w.]+)/.exec(c)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(c)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(c)||/(webkit)[ \/]([\w.]+)/.exec(c)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(c)||/(msie) ([\w.]+)/.exec(c)||c.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(c)||c.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(c)||[],f=/(ipad)/.exec(c)||/(ipod)/.exec(c)||/(windows phone)/.exec(c)||/(iphone)/.exec(c)||/(kindle)/.exec(c)||/(silk)/.exec(c)||/(android)/.exec(c)||/(win)/.exec(c)||/(mac)/.exec(c)||/(linux)/.exec(c)||/(cros)/.exec(c)||/(playbook)/.exec(c)||/(bb)/.exec(c)||/(blackberry)/.exec(c)||[],v={},b={browser:h[5]||h[3]||h[1]||"",version:h[2]||h[4]||"0",versionNumber:h[4]||h[2]||"0",platform:f[0]||""};if(b.browser&&(v[b.browser]=!0,v.version=b.version,v.versionNumber=parseInt(b.versionNumber,10)),b.platform&&(v[b.platform]=!0),(v.android||v.bb||v.blackberry||v.ipad||v.iphone||v.ipod||v.kindle||v.playbook||v.silk||v["windows phone"])&&(v.mobile=!0),(v.cros||v.mac||v.linux||v.win)&&(v.desktop=!0),(v.chrome||v.opr||v.safari)&&(v.webkit=!0),v.rv||v.iemobile){var w="msie";b.browser=w,v[w]=!0}if(v.edge){delete v.edge;var k="msedge";b.browser=k,v[k]=!0}if(v.safari&&v.blackberry){var C="blackberry";b.browser=C,v[C]=!0}if(v.safari&&v.playbook){var E="playbook";b.browser=E,v[E]=!0}if(v.bb){var A="blackberry";b.browser=A,v[A]=!0}if(v.opr){var j="opera";b.browser=j,v[j]=!0}if(v.safari&&v.android){var y="android";b.browser=y,v[y]=!0}if(v.safari&&v.kindle){var u="kindle";b.browser=u,v[u]=!0}if(v.safari&&v.silk){var p="silk";b.browser=p,v[p]=!0}return v.name=b.browser,v.platform=b.platform,v};return window.jQBrowser=r(window.navigator.userAgent),window.jQBrowser.uaMatch=r,s&&(s.browser=window.jQBrowser),window.jQBrowser}(a)}.apply(e,o))===void 0||(t.exports=l)},2443:function(t,e,n){var o;t=n.nmd(t),function(l,a){"use strict";var s=function(c,h){this.setupOptions={url:c||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onerror:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,playbackRate:1,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={onfailure:null,isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1},flac:{type:["audio/flac"],required:!1}},this.movieID="sm2-container",this.id=h||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20170601",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var f,v,b,w,k,C,E,A,j,y,u,p,m,_,x,O,I,P,D,V,q,z,he,Y,B,F,ce,J,ae,se,ve,de,Be,it,mt,ot,Ae,xe,De,et,Ve,je,He,qe,lt,_t,be,ze,Re,$e,Ye,We,Ct,gt,nt,rt,ct,At,Mt,Lt,st,te,Jt,Ft,Yt,N=this,Ze=null,ge=null,ie="soundManager",G=ie+": ",H=navigator.userAgent,Z=l.location.href.toString(),oe=document,me=[],Oe=!0,Pe=!1,Xe=!1,Me=!1,Qe=!1,ht=!1,Vt=0,$t=["log","info","warn","error"],zt=null,qt=null,Bt=!1,an=!1,cn=0,It=null,nn=[],Kt=null,Pn=Array.prototype.slice,Xt=!1,ar=0,Fn=1e3,Qn=H.match(/(ipad|iphone|ipod)/i),en=H.match(/android/i),bn=H.match(/msie|trident/i),Zn=H.match(/webkit/i),Tn=H.match(/safari/i)&&!H.match(/chrome/i),Sr=H.match(/opera/i),Ne=H.match(/(mobile|pre\/|xoom)/i)||Qn||en,ue=!Z.match(/usehtml5audio/i)&&!Z.match(/sm2-ignorebadua/i)&&Tn&&!H.match(/silk/i)&&H.match(/OS\sX\s10_6_([3-7])/i),Te=l.console!==a&&console.log!==a,ft=oe.hasFocus!==a?oe.hasFocus():null,Tt=Tn&&(oe.hasFocus===a||!oe.hasFocus()),St=!Tt,sn=/(mp3|mp4|mpa|m4a|m4b)/i,Mn="about:blank",Nn=oe.location?oe.location.protocol.match(/http/i):null,cr=Nn?"":"//",or=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4|m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Ar=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],Ei=new RegExp("\\.("+Ar.join("|")+")(\\?.*)?$","i");function fi(yt){return N.preferFlash&&At&&!N.ignoreFlash&&N.flash[yt]!==a&&N.flash[yt]}function xi(yt){return function(at){var bt,ln=this._s;return ln&&ln._a?bt=yt.call(this,at):(ln&&ln.id?N._wD(ln.id+": Ignoring "+at.type):N._wD("HTML5::Ignoring "+at.type),bt=null),bt}}this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!Nn,Ae={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},Ye=[null,"MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"],this.hasHTML5=function(){try{return Audio!==a&&(Sr&&opera!==a&&opera.version()<10?new Audio(null):new Audio).canPlayType!==a}catch(yt){return!1}}(),this.setup=function(yt){var at=!N.url;return yt!==a&&Me&&Kt&&N.ok()&&(yt.flashVersion!==a||yt.url!==a||yt.html5Test!==a)&&Ve(it("setupLate")),u(yt),Xt||(Ne?N.setupOptions.ignoreMobileRestrictions&&!N.setupOptions.forceUseGlobalHTML5Audio||(nn.push(q.globalHTML5),Xt=!0):N.setupOptions.forceUseGlobalHTML5Audio&&(nn.push(q.globalHTML5),Xt=!0)),!Yt&&Ne&&(N.setupOptions.ignoreMobileRestrictions?nn.push(q.ignoreMobile):(N.setupOptions.useHTML5Audio&&!N.setupOptions.preferFlash||N._wD(q.mobileUA),N.setupOptions.useHTML5Audio=!0,N.setupOptions.preferFlash=!1,Qn?N.ignoreFlash=!0:(en&&!H.match(/android\s2\.3/i)||!en)&&(N._wD(q.globalHTML5),Xt=!0))),yt&&(at&&B&&yt.url!==a&&N.beginDelayedInit(),B||yt.url===a||oe.readyState!=="complete"||setTimeout(he,1)),Yt=!0,N},this.ok=function(){return Kt?Me&&!Qe:N.useHTML5Audio&&N.hasHTML5},this.supported=this.ok,this.getMovie=function(yt){return v(yt)||oe[yt]||l[yt]},this.createSound=function(yt,at){var bt,ln,fn,Un=null;if(ln=(bt=ie+".createSound(): ")+it(Me?"notOK":"notReady"),!Me||!N.ok())return Ve(ln),!1;if(at!==a&&(yt={id:yt,url:at}),(fn=y(yt)).url=_t(fn.url),fn.id===a&&(fn.id=N.setupOptions.idPrefix+ar++),fn.id.toString().charAt(0).match(/^[0-9]$/)&&N._wD(bt+it("badID",fn.id),2),N._wD(bt+fn.id+(fn.url?" ("+fn.url+")":""),1),je(fn.id,!0))return N._wD(bt+fn.id+" exists",1),N.sounds[fn.id];function lr(){return fn=De(fn),N.sounds[fn.id]=new f(fn),N.soundIDs.push(fn.id),N.sounds[fn.id]}if(Re(fn))Un=lr(),N.html5Only||N._wD(fn.id+": Using HTML5"),Un._setup_html5(fn);else{if(N.html5Only)return N._wD(fn.id+": No HTML5 support for this sound, and no Flash. Exiting."),lr();if(N.html5.usingFlash&&fn.url&&fn.url.match(/data:/i))return N._wD(fn.id+": data: URIs not supported via Flash. Exiting."),lr();C>8&&(fn.isMovieStar===null&&(fn.isMovieStar=!!(fn.serverURL||fn.type&&fn.type.match(or)||fn.url&&fn.url.match(Ei))),fn.isMovieStar&&(N._wD(bt+"using MovieStar handling"),fn.loops>1&&A("noNSLoop"))),fn=et(fn,bt),Un=lr(),C===8?ge._createSound(fn.id,fn.loops||1,fn.usePolicyFile):(ge._createSound(fn.id,fn.url,fn.usePeakData,fn.useWaveformData,fn.useEQData,fn.isMovieStar,!!fn.isMovieStar&&fn.bufferTime,fn.loops||1,fn.serverURL,fn.duration||null,fn.autoPlay,!0,fn.autoLoad,fn.usePolicyFile),fn.serverURL||(Un.connected=!0,fn.onconnect&&fn.onconnect.apply(Un))),fn.serverURL||!fn.autoLoad&&!fn.autoPlay||Un.load(fn)}return!fn.serverURL&&fn.autoPlay&&Un.play(),Un},this.destroySound=function(yt,at){if(!je(yt))return!1;var bt,ln=N.sounds[yt];for(ln.stop(),ln._iO={},ln.unload(),bt=0;bt<N.soundIDs.length;bt++)if(N.soundIDs[bt]===yt){N.soundIDs.splice(bt,1);break}return at||ln.destruct(!0),ln=null,delete N.sounds[yt],!0},this.load=function(yt,at){return!!je(yt)&&N.sounds[yt].load(at)},this.unload=function(yt){return!!je(yt)&&N.sounds[yt].unload()},this.onPosition=function(yt,at,bt,ln){return!!je(yt)&&N.sounds[yt].onposition(at,bt,ln)},this.onposition=this.onPosition,this.clearOnPosition=function(yt,at,bt){return!!je(yt)&&N.sounds[yt].clearOnPosition(at,bt)},this.play=function(yt,at){var bt=null,ln=at&&!_instanceof(at,Object);if(!Me||!N.ok())return Ve(ie+".play(): "+it(Me?"notOK":"notReady")),!1;if(je(yt,ln))ln&&(at={url:at});else{if(!ln)return!1;ln&&(at={url:at}),at&&at.url&&(N._wD(ie+'.play(): Attempting to create "'+yt+'"',1),at.id=yt,bt=N.createSound(at).play())}return bt===null&&(bt=N.sounds[yt].play(at)),bt},this.start=this.play,this.setPlaybackRate=function(yt,at,bt){return!!je(yt)&&N.sounds[yt].setPlaybackRate(at,bt)},this.setPosition=function(yt,at){return!!je(yt)&&N.sounds[yt].setPosition(at)},this.stop=function(yt){return!!je(yt)&&(N._wD(ie+".stop("+yt+")",1),N.sounds[yt].stop())},this.stopAll=function(){var yt;for(yt in N._wD(ie+".stopAll()",1),N.sounds)N.sounds.hasOwnProperty(yt)&&N.sounds[yt].stop()},this.pause=function(yt){return!!je(yt)&&N.sounds[yt].pause()},this.pauseAll=function(){var yt;for(yt=N.soundIDs.length-1;yt>=0;yt--)N.sounds[N.soundIDs[yt]].pause()},this.resume=function(yt){return!!je(yt)&&N.sounds[yt].resume()},this.resumeAll=function(){var yt;for(yt=N.soundIDs.length-1;yt>=0;yt--)N.sounds[N.soundIDs[yt]].resume()},this.togglePause=function(yt){return!!je(yt)&&N.sounds[yt].togglePause()},this.setPan=function(yt,at){return!!je(yt)&&N.sounds[yt].setPan(at)},this.setVolume=function(yt,at){var bt,ln;if(yt!==a&&!isNaN(yt)&&at===a){for(bt=0,ln=N.soundIDs.length;bt<ln;bt++)N.sounds[N.soundIDs[bt]].setVolume(yt);return!1}return!!je(yt)&&N.sounds[yt].setVolume(at)},this.mute=function(yt){var at=0;if(_instanceof(yt,String)&&(yt=null),yt)return!!je(yt)&&(N._wD(ie+'.mute(): Muting "'+yt+'"'),N.sounds[yt].mute());for(N._wD(ie+".mute(): Muting all sounds"),at=N.soundIDs.length-1;at>=0;at--)N.sounds[N.soundIDs[at]].mute();return N.muted=!0,!0},this.muteAll=function(){N.mute()},this.unmute=function(yt){var at;if(_instanceof(yt,String)&&(yt=null),yt)return!!je(yt)&&(N._wD(ie+'.unmute(): Unmuting "'+yt+'"'),N.sounds[yt].unmute());for(N._wD(ie+".unmute(): Unmuting all sounds"),at=N.soundIDs.length-1;at>=0;at--)N.sounds[N.soundIDs[at]].unmute();return N.muted=!1,!0},this.unmuteAll=function(){N.unmute()},this.toggleMute=function(yt){return!!je(yt)&&N.sounds[yt].toggleMute()},this.getMemoryUse=function(){var yt=0;return ge&&C!==8&&(yt=parseInt(ge._getMemoryUse(),10)),yt},this.disable=function(yt){var at;if(yt===a&&(yt=!1),Qe)return!1;for(Qe=!0,A("shutdown",1),at=N.soundIDs.length-1;at>=0;at--)ve(N.sounds[N.soundIDs[at]]);return ve(N),j(yt),rt.remove(l,"load",x),!0},this.canPlayMIME=function(yt){var at;return N.hasHTML5&&(at=$e({type:yt})),!at&&Kt&&(at=yt&&N.ok()?!!(C>8&&yt.match(or)||yt.match(N.mimePattern)):null),at},this.canPlayURL=function(yt){var at;return N.hasHTML5&&(at=$e({url:yt})),!at&&Kt&&(at=yt&&N.ok()?!!yt.match(N.filePattern):null),at},this.canPlayLink=function(yt){return!(yt.type===a||!yt.type||!N.canPlayMIME(yt.type))||N.canPlayURL(yt.href)},this.getSoundById=function(yt,at){if(!yt)return null;var bt=N.sounds[yt];return bt||at||N._wD(ie+'.getSoundById(): Sound "'+yt+'" not found.',2),bt},this.onready=function(yt,at){var bt="onready";if(typeof yt!="function")throw it("needFunction",bt);return Me&&N._wD(it("queue",bt)),at||(at=l),m(bt,yt,at),_(),!0},this.ontimeout=function(yt,at){var bt="ontimeout";if(typeof yt!="function")throw it("needFunction",bt);return Me&&N._wD(it("queue",bt)),at||(at=l),m(bt,yt,at),_({type:bt}),!0},this._writeDebug=function(yt,at){var bt,ln;return!(!N.setupOptions.debugMode||!(Te&&N.useConsole&&(at&&typeof at=="object"?console.log(yt,at):$t[at]!==a?console[$t[at]](yt):console.log(yt),N.consoleOnly))&&(!(bt=v("soundmanager-debug"))||(ln=oe.createElement("div"),++Vt%2==0&&(ln.className="sm2-alt"),at=at===a?0:parseInt(at,10),ln.appendChild(oe.createTextNode(yt)),at&&(at>=2&&(ln.style.fontWeight="bold"),at===3&&(ln.style.color="#ff3333")),bt.insertBefore(ln,bt.firstChild),bt=null,0)))},Z.indexOf("sm2-debug=alert")!==-1&&(this._writeDebug=function(yt){l.alert(yt)}),this._wD=this._writeDebug,this._debug=function(){var yt,at;for(A("currentObj",1),yt=0,at=N.soundIDs.length;yt<at;yt++)N.sounds[N.soundIDs[yt]]._debug()},this.reboot=function(yt,at){var bt,ln,fn;for(N.soundIDs.length&&N._wD("Destroying "+N.soundIDs.length+" SMSound object"+(N.soundIDs.length!==1?"s":"")+"..."),bt=N.soundIDs.length-1;bt>=0;bt--)N.sounds[N.soundIDs[bt]].destruct();if(ge)try{bn&&(qt=ge.innerHTML),zt=ge.parentNode.removeChild(ge)}catch(Un){A("badRemove",2)}if(qt=zt=Kt=ge=null,N.enabled=B=Me=Bt=an=Pe=Xe=Qe=Xt=N.swfLoaded=!1,N.soundIDs=[],N.sounds={},ar=0,Yt=!1,yt)me=[];else for(bt in me)if(me.hasOwnProperty(bt))for(ln=0,fn=me[bt].length;ln<fn;ln++)me[bt][ln].fired=!1;return at||N._wD(ie+": Rebooting..."),N.html5={usingFlash:null},N.flash={},N.html5Only=!1,N.ignoreFlash=!1,l.setTimeout(function(){at||N.beginDelayedInit()},20),N},this.reset=function(){return A("reset"),N.reboot(!0,!0)},this.getMoviePercent=function(){return ge&&"PercentLoaded"in ge?ge.PercentLoaded():null},this.beginDelayedInit=function(){ht=!0,he(),setTimeout(function(){return!an&&(ce(),z(),an=!0,!0)},20),O()},this.destruct=function(){N._wD(ie+".destruct()"),N.disable(!0)},f=function(at){var bt,ln,fn,Un,lr,jr,Dn,pi,oi,Rr,_e=this,ro=!1,ai=[],Si=0,gi=null;oi={duration:null,time:null},this.id=at.id,this.sID=this.id,this.url=at.url,this.options=y(at),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,Rr=!this.url,this.id3={},this._debug=function(){N._wD(_e.id+": Merged options:",_e.options)},this.load=function(gn){var yn;if(gn!==a?_e._iO=y(gn,_e.options):(gn=_e.options,_e._iO=gn,gi&&gi!==_e.url&&(A("manURL"),_e._iO.url=_e.url,_e.url=null)),_e._iO.url||(_e._iO.url=_e.url),_e._iO.url=_t(_e._iO.url),_e.instanceOptions=_e._iO,yn=_e._iO,N._wD(_e.id+": load ("+yn.url+")"),!yn.url&&!_e.url)return N._wD(_e.id+": load(): url is unassigned. Exiting.",2),_e;if(_e.isHTML5||C!==8||_e.url||yn.autoPlay||N._wD(_e.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1),yn.url===_e.url&&_e.readyState!==0&&_e.readyState!==2)return A("onURL",1),_e.readyState===3&&yn.onload&&Ft(_e,function(){yn.onload.apply(_e,[!!_e.duration])}),_e;if(_e.loaded=!1,_e.readyState=1,_e.playState=0,_e.id3={},Re(yn))_e._setup_html5(yn)._called_load?N._wD(_e.id+": Ignoring request to load again"):(_e._html5_canplay=!1,_e.url!==yn.url&&(N._wD(A("manURL")+": "+yn.url),_e._a.src=yn.url,_e.setPosition(0)),_e._a.autobuffer="auto",_e._a.preload="auto",_e._a._called_load=!0);else{if(N.html5Only)return N._wD(_e.id+": No flash support. Exiting."),_e;if(_e._iO.url&&_e._iO.url.match(/data:/i))return N._wD(_e.id+": data: URIs not supported via Flash. Exiting."),_e;try{_e.isHTML5=!1,_e._iO=et(De(yn)),_e._iO.autoPlay&&(_e._iO.position||_e._iO.from)&&(N._wD(_e.id+": Disabling autoPlay because of non-zero offset case"),_e._iO.autoPlay=!1),yn=_e._iO,C===8?ge._load(_e.id,yn.url,yn.stream,yn.autoPlay,yn.usePolicyFile):ge._load(_e.id,yn.url,!!yn.stream,!!yn.autoPlay,yn.loops||1,!!yn.autoLoad,yn.usePolicyFile)}catch(wn){A("smError",2),E("onload",!1),J({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return _e.url=yn.url,_e},this.unload=function(){return _e.readyState!==0&&(N._wD(_e.id+": unload()"),_e.isHTML5?(Un(),_e._a&&(_e._a.pause(),gi=Ct(_e._a))):C===8?ge._unload(_e.id,Mn):ge._unload(_e.id),bt()),_e},this.destruct=function(gn){N._wD(_e.id+": Destruct"),_e.isHTML5?(Un(),_e._a&&(_e._a.pause(),Ct(_e._a),Xt||fn(),_e._a._s=null,_e._a=null)):(_e._iO.onfailure=null,ge._destroySound(_e.id)),gn||N.destroySound(_e.id,!0)},this.play=function(gn,yn){var wn,ur,Pr,ni,Ii,la,_o=!0;if(wn=_e.id+": play(): ",yn=yn===a||yn,gn||(gn={}),_e.url&&(_e._iO.url=_e.url),_e._iO=y(_e._iO,_e.options),_e._iO=y(gn,_e._iO),_e._iO.url=_t(_e._iO.url),_e.instanceOptions=_e._iO,!_e.isHTML5&&_e._iO.serverURL&&!_e.connected)return _e.getAutoPlay()||(N._wD(wn+" Netstream not connected yet - setting autoPlay"),_e.setAutoPlay(!0)),_e;if(Re(_e._iO)&&(_e._setup_html5(_e._iO),lr()),_e.playState===1&&!_e.paused){if(!_e._iO.multiShot)return N._wD(wn+"Already playing (one-shot)",1),_e.isHTML5&&_e.setPosition(_e._iO.position),_e;N._wD(wn+"Already playing (multi-shot)",1)}if(gn.url&&gn.url!==_e.url&&(_e.readyState||_e.isHTML5||C!==8||!Rr?_e.load(_e._iO):Rr=!1),_e.loaded)N._wD(wn.substr(0,wn.lastIndexOf(":")));else if(_e.readyState===0){if(N._wD(wn+"Attempting to load"),_e.isHTML5||N.html5Only){if(!_e.isHTML5)return N._wD(wn+"Unsupported type. Exiting."),_e;_e.load(_e._iO)}else _e._iO.autoPlay=!0,_e.load(_e._iO);_e.instanceOptions=_e._iO}else{if(_e.readyState===2)return N._wD(wn+"Could not load - exiting",2),_e;N._wD(wn+"Loading - attempting to play...")}return!_e.isHTML5&&C===9&&_e.position>0&&_e.position===_e.duration&&(N._wD(wn+"Sound at end, resetting to position: 0"),gn.position=0),_e.paused&&_e.position>=0&&(!_e._iO.serverURL||_e.position>0)?(N._wD(wn+"Resuming from paused state",1),_e.resume()):(_e._iO=y(gn,_e._iO),(!_e.isHTML5&&_e._iO.position!==null&&_e._iO.position>0||_e._iO.from!==null&&_e._iO.from>0||_e._iO.to!==null)&&_e.instanceCount===0&&_e.playState===0&&!_e._iO.serverURL&&(Pr=function(){_e._iO=y(gn,_e._iO),_e.play(_e._iO)},_e.isHTML5&&!_e._html5_canplay?(N._wD(wn+"Beginning load for non-zero offset case"),_e.load({_oncanplay:Pr})):_e.isHTML5||_e.loaded||_e.readyState&&_e.readyState===2||(N._wD(wn+"Preloading for non-zero offset case"),_e.load({onload:Pr})),_e._iO=pi()),(!_e.instanceCount||_e._iO.multiShotEvents||_e.isHTML5&&_e._iO.multiShot&&!Xt||!_e.isHTML5&&C>8&&!_e.getAutoPlay())&&_e.instanceCount++,_e._iO.onposition&&_e.playState===0&&jr(_e),_e.playState=1,_e.paused=!1,_e.position=_e._iO.position===a||isNaN(_e._iO.position)?0:_e._iO.position,_e.isHTML5||(_e._iO=et(De(_e._iO))),_e._iO.onplay&&yn&&(_e._iO.onplay.apply(_e),ro=!0),_e.setVolume(_e._iO.volume,!0),_e.setPan(_e._iO.pan,!0),_e._iO.playbackRate!==1&&_e.setPlaybackRate(_e._iO.playbackRate),_e.isHTML5?_e.instanceCount<2?(lr(),ur=_e._setup_html5(),_e.setPosition(_e._iO.position),ur.play()):(N._wD(_e.id+": Cloning Audio() for instance #"+_e.instanceCount+"..."),ni=new Audio(_e._iO.url),Ii=function(){rt.remove(ni,"ended",Ii),_e._onfinish(_e),Ct(ni),ni=null},la=function(){rt.remove(ni,"canplay",la);try{ni.currentTime=_e._iO.position/Fn}catch(ao){Ve(_e.id+": multiShot play() failed to apply position of "+_e._iO.position/Fn)}ni.play()},rt.add(ni,"ended",Ii),_e._iO.volume!==a&&(ni.volume=Math.max(0,Math.min(1,_e._iO.volume/100))),_e.muted&&(ni.muted=!0),_e._iO.position?rt.add(ni,"canplay",la):ni.play()):(_o=ge._start(_e.id,_e._iO.loops||1,C===9?_e.position:_e.position/Fn,_e._iO.multiShot||!1),C!==9||_o||(N._wD(wn+"No sound hardware, or 32-sound ceiling hit",2),_e._iO.onplayerror&&_e._iO.onplayerror.apply(_e)))),_e},this.start=this.play,this.stop=function(gn){var yn,wn=_e._iO;return _e.playState===1&&(N._wD(_e.id+": stop()"),_e._onbufferchange(0),_e._resetOnPosition(0),_e.paused=!1,_e.isHTML5||(_e.playState=0),Dn(),wn.to&&_e.clearOnPosition(wn.to),_e.isHTML5?_e._a&&(yn=_e.position,_e.setPosition(0),_e.position=yn,_e._a.pause(),_e.playState=0,_e._onTimer(),Un()):(ge._stop(_e.id,gn),wn.serverURL&&_e.unload()),_e.instanceCount=0,_e._iO={},wn.onstop&&wn.onstop.apply(_e)),_e},this.setAutoPlay=function(gn){N._wD(_e.id+": Autoplay turned "+(gn?"on":"off")),_e._iO.autoPlay=gn,_e.isHTML5||(ge._setAutoPlay(_e.id,gn),gn&&(_e.instanceCount||_e.readyState!==1||(_e.instanceCount++,N._wD(_e.id+": Incremented instance count to "+_e.instanceCount))))},this.getAutoPlay=function(){return _e._iO.autoPlay},this.setPlaybackRate=function(gn){var yn=Math.max(.5,Math.min(4,gn));if(yn!==gn&&N._wD(_e.id+": setPlaybackRate("+gn+"): limiting rate to "+yn,2),_e.isHTML5)try{_e._iO.playbackRate=yn,_e._a.playbackRate=yn}catch(wn){N._wD(_e.id+": setPlaybackRate("+yn+") failed: "+wn.message,2)}return _e},this.setPosition=function(gn){gn===a&&(gn=0);var yn,wn,ur=_e.isHTML5?Math.max(gn,0):Math.min(_e.duration||_e._iO.duration,Math.max(gn,0));if(_e.position=ur,wn=_e.position/Fn,_e._resetOnPosition(_e.position),_e._iO.position=ur,_e.isHTML5){if(_e._a){if(_e._html5_canplay){if(_e._a.currentTime.toFixed(3)!==wn.toFixed(3)){N._wD(_e.id+": setPosition("+wn+")");try{_e._a.currentTime=wn,(_e.playState===0||_e.paused)&&_e._a.pause()}catch(Pr){N._wD(_e.id+": setPosition("+wn+") failed: "+Pr.message,2)}}}else if(wn)return N._wD(_e.id+": setPosition("+wn+"): Cannot seek yet, sound not ready",2),_e;_e.paused&&_e._onTimer(!0)}}else yn=C===9?_e.position:wn,_e.readyState&&_e.readyState!==2&&ge._setPosition(_e.id,yn,_e.paused||!_e.playState,_e._iO.multiShot);return _e},this.pause=function(gn){return _e.paused||_e.playState===0&&_e.readyState!==1||(N._wD(_e.id+": pause()"),_e.paused=!0,_e.isHTML5?(_e._setup_html5().pause(),Un()):(gn||gn===a)&&ge._pause(_e.id,_e._iO.multiShot),_e._iO.onpause&&_e._iO.onpause.apply(_e)),_e},this.resume=function(){var gn=_e._iO;return _e.paused&&(N._wD(_e.id+": resume()"),_e.paused=!1,_e.playState=1,_e.isHTML5?(_e._setup_html5().play(),lr()):(gn.isMovieStar&&!gn.serverURL&&_e.setPosition(_e.position),ge._pause(_e.id,gn.multiShot)),!ro&&gn.onplay?(gn.onplay.apply(_e),ro=!0):gn.onresume&&gn.onresume.apply(_e)),_e},this.togglePause=function(){return N._wD(_e.id+": togglePause()"),_e.playState===0?(_e.play({position:C!==9||_e.isHTML5?_e.position/Fn:_e.position}),_e):(_e.paused?_e.resume():_e.pause(),_e)},this.setPan=function(gn,yn){return gn===a&&(gn=0),yn===a&&(yn=!1),_e.isHTML5||ge._setPan(_e.id,gn),_e._iO.pan=gn,yn||(_e.pan=gn,_e.options.pan=gn),_e},this.setVolume=function(gn,yn){return gn===a&&(gn=100),yn===a&&(yn=!1),_e.isHTML5?_e._a&&(N.muted&&!_e.muted&&(_e.muted=!0,_e._a.muted=!0),_e._a.volume=Math.max(0,Math.min(1,gn/100))):ge._setVolume(_e.id,N.muted&&!_e.muted||_e.muted?0:gn),_e._iO.volume=gn,yn||(_e.volume=gn,_e.options.volume=gn),_e},this.mute=function(){return _e.muted=!0,_e.isHTML5?_e._a&&(_e._a.muted=!0):ge._setVolume(_e.id,0),_e},this.unmute=function(){_e.muted=!1;var gn=_e._iO.volume!==a;return _e.isHTML5?_e._a&&(_e._a.muted=!1):ge._setVolume(_e.id,gn?_e._iO.volume:_e.options.volume),_e},this.toggleMute=function(){return _e.muted?_e.unmute():_e.mute()},this.onPosition=function(gn,yn,wn){return ai.push({position:parseInt(gn,10),method:yn,scope:wn!==a?wn:_e,fired:!1}),_e},this.onposition=this.onPosition,this.clearOnPosition=function(gn,yn){var wn;if(gn=parseInt(gn,10),!isNaN(gn))for(wn=0;wn<ai.length;wn++)gn===ai[wn].position&&(yn&&yn!==ai[wn].method||(ai[wn].fired&&Si--,ai.splice(wn,1)))},this._processOnPosition=function(){var gn,yn,wn=ai.length;if(!wn||!_e.playState||Si>=wn)return!1;for(gn=wn-1;gn>=0;gn--)!(yn=ai[gn]).fired&&_e.position>=yn.position&&(yn.fired=!0,Si++,yn.method.apply(yn.scope,[yn.position]),wn=ai.length);return!0},this._resetOnPosition=function(gn){var yn,wn,ur=ai.length;if(!ur)return!1;for(yn=ur-1;yn>=0;yn--)(wn=ai[yn]).fired&&gn<=wn.position&&(wn.fired=!1,Si--);return!0},pi=function(){var yn,wn,ur=_e._iO,Pr=ur.from,ni=ur.to;return wn=function(){N._wD(_e.id+': "To" time of '+ni+" reached."),_e.clearOnPosition(ni,wn),_e.stop()},yn=function(){N._wD(_e.id+': Playing "from" '+Pr),ni===null||isNaN(ni)||_e.onPosition(ni,wn)},Pr===null||isNaN(Pr)||(ur.position=Pr,ur.multiShot=!1,yn()),ur},jr=function(){var yn,wn=_e._iO.onposition;if(wn)for(yn in wn)wn.hasOwnProperty(yn)&&_e.onPosition(parseInt(yn,10),wn[yn])},Dn=function(){var yn,wn=_e._iO.onposition;if(wn)for(yn in wn)wn.hasOwnProperty(yn)&&_e.clearOnPosition(parseInt(yn,10))},lr=function(){_e.isHTML5&&He(_e)},Un=function(){_e.isHTML5&&qe(_e)},(bt=function(yn){yn||(ai=[],Si=0),ro=!1,_e._hasTimer=null,_e._a=null,_e._html5_canplay=!1,_e.bytesLoaded=null,_e.bytesTotal=null,_e.duration=_e._iO&&_e._iO.duration?_e._iO.duration:null,_e.durationEstimate=null,_e.buffered=[],_e.eqData=[],_e.eqData.left=[],_e.eqData.right=[],_e.failures=0,_e.isBuffering=!1,_e.instanceOptions={},_e.instanceCount=0,_e.loaded=!1,_e.metadata={},_e.readyState=0,_e.muted=!1,_e.paused=!1,_e.peakData={left:0,right:0},_e.waveformData={left:[],right:[]},_e.playState=0,_e.position=null,_e.id3={}})(),this._onTimer=function(gn){var yn,wn,ur=!1,Pr={};return(_e._hasTimer||gn)&&_e._a&&(gn||(_e.playState>0||_e.readyState===1)&&!_e.paused)&&((yn=_e._get_html5_duration())!==oi.duration&&(oi.duration=yn,_e.duration=yn,ur=!0),_e.durationEstimate=_e.duration,(wn=_e._a.currentTime*Fn||0)!==oi.time&&(oi.time=wn,ur=!0),(ur||gn)&&_e._whileplaying(wn,Pr,Pr,Pr,Pr)),ur},this._get_html5_duration=function(){var gn=_e._iO,yn=_e._a&&_e._a.duration?_e._a.duration*Fn:gn&&gn.duration?gn.duration:null;return yn&&!isNaN(yn)&&yn!==1/0?yn:null},this._apply_loop=function(gn,yn){!gn.loop&&yn>1&&N._wD("Note: Native HTML5 looping is infinite.",1),gn.loop=yn>1?"loop":""},this._setup_html5=function(gn){var yn,wn=y(_e._iO,gn),ur=Xt?Ze:_e._a,Pr=decodeURI(wn.url);if(Xt?Pr===decodeURI(ct)&&(yn=!0):Pr===decodeURI(gi)&&(yn=!0),ur){if(ur._s){if(Xt)ur._s&&ur._s.playState&&!yn&&ur._s.stop();else if(!Xt&&Pr===decodeURI(gi))return _e._apply_loop(ur,wn.loops),ur}yn||(gi&&bt(!1),ur.src=wn.url,_e.url=wn.url,gi=wn.url,ct=wn.url,ur._called_load=!1)}else wn.autoLoad||wn.autoPlay?(_e._a=new Audio(wn.url),_e._a.load()):_e._a=Sr&&opera.version()<10?new Audio(null):new Audio,(ur=_e._a)._called_load=!1,Xt&&(Ze=ur);return _e.isHTML5=!0,_e._a=ur,ur._s=_e,ln(),_e._apply_loop(ur,wn.loops),wn.autoLoad||wn.autoPlay?_e.load():(ur.autobuffer=!1,ur.preload="auto"),ur},ln=function(){if(_e._a._added_events)return!1;var yn,wn,ur;for(yn in _e._a._added_events=!0,st)st.hasOwnProperty(yn)&&(wn=yn,ur=st[yn],_e._a&&_e._a.addEventListener(wn,ur,!1));return!0},fn=function(){var yn,wn,ur;for(yn in N._wD(_e.id+": Removing event listeners"),_e._a._added_events=!1,st)st.hasOwnProperty(yn)&&(wn=yn,ur=st[yn],_e._a&&_e._a.removeEventListener(wn,ur,!1))},this._onload=function(gn){var yn,wn=!!gn||!_e.isHTML5&&C===8&&_e.duration;return yn=_e.id+": ",N._wD(yn+(wn?"onload()":"Failed to load / invalid sound?"+(_e.duration?" -":" Zero-length duration reported.")+" ("+_e.url+")"),wn?1:2),wn||_e.isHTML5||(N.sandbox.noRemote===!0&&N._wD(yn+it("noNet"),1),N.sandbox.noLocal===!0&&N._wD(yn+it("noLocal"),1)),_e.loaded=wn,_e.readyState=wn?3:2,_e._onbufferchange(0),wn||_e.isHTML5||_e._onerror(),_e._iO.onload&&Ft(_e,function(){_e._iO.onload.apply(_e,[wn])}),!0},this._onerror=function(gn,yn){_e._iO.onerror&&Ft(_e,function(){_e._iO.onerror.apply(_e,[gn,yn])})},this._onbufferchange=function(gn){return!(_e.playState===0||gn&&_e.isBuffering||!gn&&!_e.isBuffering||(_e.isBuffering=gn===1,_e._iO.onbufferchange&&(N._wD(_e.id+": Buffer state change: "+gn),_e._iO.onbufferchange.apply(_e,[gn])),0))},this._onsuspend=function(){return _e._iO.onsuspend&&(N._wD(_e.id+": Playback suspended"),_e._iO.onsuspend.apply(_e)),!0},this._onfailure=function(gn,yn,wn){_e.failures++,N._wD(_e.id+": Failure ("+_e.failures+"): "+gn),_e._iO.onfailure&&_e.failures===1?_e._iO.onfailure(gn,yn,wn):N._wD(_e.id+": Ignoring failure")},this._onwarning=function(gn,yn,wn){_e._iO.onwarning&&_e._iO.onwarning(gn,yn,wn)},this._onfinish=function(){var gn=_e._iO.onfinish;_e._onbufferchange(0),_e._resetOnPosition(0),_e.instanceCount&&(_e.instanceCount--,_e.instanceCount||(Dn(),_e.playState=0,_e.paused=!1,_e.instanceCount=0,_e.instanceOptions={},_e._iO={},Un(),_e.isHTML5&&(_e.position=0)),_e.instanceCount&&!_e._iO.multiShotEvents||gn&&(N._wD(_e.id+": onfinish()"),Ft(_e,function(){gn.apply(_e)})))},this._whileloading=function(gn,yn,wn,ur){var Pr=_e._iO;_e.bytesLoaded=gn,_e.bytesTotal=yn,_e.duration=Math.floor(wn),_e.bufferLength=ur,_e.isHTML5||Pr.isMovieStar?_e.durationEstimate=_e.duration:Pr.duration?_e.durationEstimate=_e.duration>Pr.duration?_e.duration:Pr.duration:_e.durationEstimate=parseInt(_e.bytesTotal/_e.bytesLoaded*_e.duration,10),_e.isHTML5||(_e.buffered=[{start:0,end:_e.duration}]),(_e.readyState!==3||_e.isHTML5)&&Pr.whileloading&&Pr.whileloading.apply(_e)},this._whileplaying=function(gn,yn,wn,ur,Pr){var ni,Ii=_e._iO;return!isNaN(gn)&&gn!==null&&(_e.position=Math.max(0,gn),_e._processOnPosition(),!_e.isHTML5&&C>8&&(Ii.usePeakData&&yn!==a&&yn&&(_e.peakData={left:yn.leftPeak,right:yn.rightPeak}),Ii.useWaveformData&&wn!==a&&wn&&(_e.waveformData={left:wn.split(","),right:ur.split(",")}),Ii.useEQData&&Pr!==a&&Pr&&Pr.leftEQ&&(ni=Pr.leftEQ.split(","),_e.eqData=ni,_e.eqData.left=ni,Pr.rightEQ!==a&&Pr.rightEQ&&(_e.eqData.right=Pr.rightEQ.split(",")))),_e.playState===1&&(_e.isHTML5||C!==8||_e.position||!_e.isBuffering||_e._onbufferchange(0),Ii.whileplaying&&Ii.whileplaying.apply(_e)),!0)},this._oncaptiondata=function(gn){N._wD(_e.id+": Caption data received."),_e.captiondata=gn,_e._iO.oncaptiondata&&_e._iO.oncaptiondata.apply(_e,[gn])},this._onmetadata=function(gn,yn){N._wD(_e.id+": Metadata received.");var wn,ur,Pr={};for(wn=0,ur=gn.length;wn<ur;wn++)Pr[gn[wn]]=yn[wn];_e.metadata=Pr,_e._iO.onmetadata&&_e._iO.onmetadata.call(_e,_e.metadata)},this._onid3=function(gn,yn){N._wD(_e.id+": ID3 data received.");var wn,ur,Pr=[];for(wn=0,ur=gn.length;wn<ur;wn++)Pr[gn[wn]]=yn[wn];_e.id3=y(_e.id3,Pr),_e._iO.onid3&&_e._iO.onid3.apply(_e)},this._onconnect=function(gn){gn=gn===1,N._wD(_e.id+": "+(gn?"Connected.":"Failed to connect? - "+_e.url),gn?1:2),_e.connected=gn,gn&&(_e.failures=0,je(_e.id)&&(_e.getAutoPlay()?_e.play(a,_e.getAutoPlay()):_e._iO.autoLoad&&_e.load()),_e._iO.onconnect&&_e._iO.onconnect.apply(_e,[gn]))},this._ondataerror=function(gn){_e.playState>0&&(N._wD(_e.id+": Data error: "+gn),_e._iO.ondataerror&&_e._iO.ondataerror.apply(_e))},this._debug()},F=function(){return oe.body||oe.getElementsByTagName("div")[0]},v=function(at){return oe.getElementById(at)},y=function(yt,at){var bt,ln,fn=yt||{};for(ln in bt=at===a?N.defaultOptions:at)bt.hasOwnProperty(ln)&&fn[ln]===a&&(typeof bt[ln]!="object"||bt[ln]===null?fn[ln]=bt[ln]:fn[ln]=y(fn[ln],bt[ln]));return fn},Ft=function(at,bt){at.isHTML5||C!==8?bt():l.setTimeout(bt,0)},p={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},u=function(yt,at){var bt,ln=!0,fn=at!==a,Un=N.setupOptions,lr=p;if(yt===a){for(bt in ln=[],Un)Un.hasOwnProperty(bt)&&ln.push(bt);for(bt in lr)lr.hasOwnProperty(bt)&&(typeof N[bt]=="object"?ln.push(bt+": {...}"):_instanceof(N[bt],Function)?ln.push(bt+": function() {...}"):ln.push(bt));return N._wD(it("setup",ln.join(", "))),!1}for(bt in yt)if(yt.hasOwnProperty(bt))if(typeof yt[bt]!="object"||yt[bt]===null||_instanceof(yt[bt],Array)||_instanceof(yt[bt],RegExp))fn&&lr[at]!==a?N[at][bt]=yt[bt]:Un[bt]!==a?(N.setupOptions[bt]=yt[bt],N[bt]=yt[bt]):lr[bt]===a?(Ve(it(N[bt]===a?"setupUndef":"setupError",bt),2),ln=!1):_instanceof(N[bt],Function)?N[bt].apply(N,_instanceof(yt[bt],Array)?yt[bt]:[yt[bt]]):N[bt]=yt[bt];else{if(lr[bt]!==a)return u(yt[bt],bt);Ve(it(N[bt]===a?"setupUndef":"setupError",bt),2),ln=!1}return ln},rt=function(){var yt=l.attachEvent,at={add:yt?"attachEvent":"addEventListener",remove:yt?"detachEvent":"removeEventListener"};function bt(fn){var Un=Pn.call(fn),lr=Un.length;return yt?(Un[1]="on"+Un[1],lr>3&&Un.pop()):lr===3&&Un.push(!1),Un}function ln(fn,Un){var lr=fn.shift(),jr=[at[Un]];yt?lr[jr](fn[0],fn[1]):lr[jr].apply(lr,fn)}return{add:function(){ln(bt(arguments),"add")},remove:function(){ln(bt(arguments),"remove")}}}(),st={abort:xi(function(){N._wD(this._s.id+": abort")}),canplay:xi(function(){var yt,at=this._s;if(!at._html5_canplay){if(at._html5_canplay=!0,N._wD(at.id+": canplay"),at._onbufferchange(0),yt=at._iO.position===a||isNaN(at._iO.position)?null:at._iO.position/Fn,this.currentTime!==yt){N._wD(at.id+": canplay: Setting position to "+yt);try{this.currentTime=yt}catch(bt){N._wD(at.id+": canplay: Setting position of "+yt+" failed: "+bt.message,2)}}at._iO._oncanplay&&at._iO._oncanplay()}}),canplaythrough:xi(function(){var yt=this._s;yt.loaded||(yt._onbufferchange(0),yt._whileloading(yt.bytesLoaded,yt.bytesTotal,yt._get_html5_duration()),yt._onload(!0))}),durationchange:xi(function(){var yt,at=this._s;yt=at._get_html5_duration(),isNaN(yt)||yt===at.duration||(N._wD(this._s.id+": durationchange ("+yt+")"+(at.duration?", previously "+at.duration:"")),at.durationEstimate=at.duration=yt)}),ended:xi(function(){var yt=this._s;N._wD(yt.id+": ended"),yt._onfinish()}),error:xi(function(){var yt=Ye[this.error.code]||null;N._wD(this._s.id+": HTML5 error, code "+this.error.code+(yt?" ("+yt+")":"")),this._s._onload(!1),this._s._onerror(this.error.code,yt)}),loadeddata:xi(function(){var yt=this._s;N._wD(yt.id+": loadeddata"),yt._loaded||Tn||(yt.duration=yt._get_html5_duration())}),loadedmetadata:xi(function(){N._wD(this._s.id+": loadedmetadata")}),loadstart:xi(function(){N._wD(this._s.id+": loadstart"),this._s._onbufferchange(1)}),play:xi(function(){this._s._onbufferchange(0)}),playing:xi(function(){N._wD(this._s.id+": playing \u266B"),this._s._onbufferchange(0)}),progress:xi(function(yt){var at,bt,ln,fn=this._s,Un=0,lr=yt.type==="progress",jr=yt.target.buffered,Dn=yt.loaded||0,pi=yt.total||1;if(fn.buffered=[],jr&&jr.length){for(at=0,bt=jr.length;at<bt;at++)fn.buffered.push({start:jr.start(at)*Fn,end:jr.end(at)*Fn});if(Un=(jr.end(0)-jr.start(0))*Fn,Dn=Math.min(1,Un/(yt.target.duration*Fn)),lr&&jr.length>1){for(ln=[],bt=jr.length,at=0;at<bt;at++)ln.push(yt.target.buffered.start(at)*Fn+"-"+yt.target.buffered.end(at)*Fn);N._wD(this._s.id+": progress, timeRanges: "+ln.join(", "))}lr&&!isNaN(Dn)&&N._wD(this._s.id+": progress, "+Math.floor(100*Dn)+"% loaded")}isNaN(Dn)||(fn._whileloading(Dn,pi,fn._get_html5_duration()),Dn&&pi&&Dn===pi&&st.canplaythrough.call(this,yt))}),ratechange:xi(function(){N._wD(this._s.id+": ratechange")}),suspend:xi(function(yt){var at=this._s;N._wD(this._s.id+": suspend"),st.progress.call(this,yt),at._onsuspend()}),stalled:xi(function(){N._wD(this._s.id+": stalled")}),timeupdate:xi(function(){this._s._onTimer()}),waiting:xi(function(){var yt=this._s;N._wD(this._s.id+": waiting"),yt._onbufferchange(1)})},Re=function(at){return!(!at||!(at.type||at.url||at.serverURL))&&!(at.serverURL||at.type&&fi(at.type))&&(at.type?$e({type:at.type}):$e({url:at.url})||N.html5Only||at.url.match(/data:/i))},Ct=function(at){var bt;return at&&(bt=Tn?Mn:N.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":Mn,at.src=bt,at._called_unload!==a&&(at._called_load=!1)),Xt&&(ct=null),bt},$e=function(at){if(!N.useHTML5Audio||!N.hasHTML5)return!1;var bt,ln,fn,Un,lr=at.url||null,jr=at.type||null,Dn=N.audioFormats;if(jr&&N.html5[jr]!==a)return N.html5[jr]&&!fi(jr);if(!We){for(Un in We=[],Dn)Dn.hasOwnProperty(Un)&&(We.push(Un),Dn[Un].related&&(We=We.concat(Dn[Un].related)));We=new RegExp("\\.("+We.join("|")+")(\\?.*)?$","i")}return(fn=lr?lr.toLowerCase().match(We):null)&&fn.length?fn=fn[1]:jr?fn=((ln=jr.indexOf(";"))!==-1?jr.substr(0,ln):jr).substr(6):bt=!1,fn&&N.html5[fn]!==a?bt=N.html5[fn]&&!fi(fn):(jr="audio/"+fn,bt=N.html5.canPlayType({type:jr}),N.html5[fn]=bt,bt=bt&&N.html5[jr]&&!fi(jr)),bt},nt=function(){if(!N.useHTML5Audio||!N.hasHTML5)return N.html5.usingFlash=!0,Kt=!0,!1;var at,bt,ln,fn,Un=Audio!==a?Sr&&opera.version()<10?new Audio(null):new Audio:null,lr={};function jr(Dn){var pi,oi,Rr=!1,_e=!1;if(!Un||typeof Un.canPlayType!="function")return Rr;if(_instanceof(Dn,Array)){for(fn=0,oi=Dn.length;fn<oi;fn++)(N.html5[Dn[fn]]||Un.canPlayType(Dn[fn]).match(N.html5Test))&&(_e=!0,N.html5[Dn[fn]]=!0,N.flash[Dn[fn]]=!!Dn[fn].match(sn));Rr=_e}else Rr=!(!(pi=!(!Un||typeof Un.canPlayType!="function")&&Un.canPlayType(Dn))||!pi.match(N.html5Test));return Rr}for(at in ln=N.audioFormats)if(ln.hasOwnProperty(at)&&(bt="audio/"+at,lr[at]=jr(ln[at].type),lr[bt]=lr[at],at.match(sn)?(N.flash[at]=!0,N.flash[bt]=!0):(N.flash[at]=!1,N.flash[bt]=!1),ln[at]&&ln[at].related))for(fn=ln[at].related.length-1;fn>=0;fn--)lr["audio/"+ln[at].related[fn]]=lr[at],N.html5[ln[at].related[fn]]=lr[at],N.flash[ln[at].related[fn]]=lr[at];return lr.canPlayType=Un?jr:null,N.html5=y(N.html5,lr),N.html5.usingFlash=ze(),Kt=N.html5.usingFlash,!0},q={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:ie+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:G+"Verify that %s is a valid path.",tryDebug:"Try "+ie+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:G+"Non-HTTP page ("+oe.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:G+"Special case: Waiting for SWF to load with window focus...",waitForever:G+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:G+"Waiting for 100% SWF load...",needFunction:G+"Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:G+"_debug(): Current sound objects",waitOnload:G+"Waiting for window.onload()",docLoaded:G+"Document already loaded",onload:G+"initComplete(): calling soundManager.onload()",onloadOK:ie+".onload() complete",didInit:G+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:G+"Failed to remove Flash node.",shutdown:ie+".disable(): Shutting down",queue:G+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+Ae.swfTimedout+" CSS...",fbLoaded:"Flash loaded",fbHandler:G+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:ie+".load(): current URL already assigned.",badFV:ie+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:G+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:G+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:ie+".setup(): allowed parameters: %s",setupError:ie+'.setup(): "%s" cannot be assigned with this method.',setupUndef:ie+'.setup(): Could not find option "%s"',setupLate:ie+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:G+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready. \u2713",reset:ie+".reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device.",ignoreMobile:"Ignoring mobile restrictions for this device."},it=function(){var at,bt,ln,fn,Un;if(fn=(at=Pn.call(arguments)).shift(),(Un=q&&q[fn]?q[fn]:"")&&at&&at.length)for(bt=0,ln=at.length;bt<ln;bt++)Un=Un.replace("%s",at[bt]);return Un},De=function(at){return C===8&&at.loops>1&&at.stream&&(A("as2loop"),at.stream=!1),at},et=function(at,bt){return at&&!at.usePolicyFile&&(at.onid3||at.usePeakData||at.useWaveformData||at.useEQData)&&(N._wD((bt||"")+it("policy")),at.usePolicyFile=!0),at},Ve=function(at){Te&&console.warn!==a?console.warn(at):N._wD(at)},b=function(){return!1},ve=function(at){var bt;for(bt in at)at.hasOwnProperty(bt)&&typeof at[bt]=="function"&&(at[bt]=b);bt=null},de=function(at){at===a&&(at=!1),(Qe||at)&&N.disable(at)},Be=function(at){var bt;if(at)if(at.match(/\.swf(\?.*)?$/i)){if(at.substr(at.toLowerCase().lastIndexOf(".swf?")+4))return at}else at.lastIndexOf("/")!==at.length-1&&(at+="/");return bt=(at&&at.lastIndexOf("/")!==-1?at.substr(0,at.lastIndexOf("/")+1):"./")+N.movieURL,N.noSWFCache&&(bt+="?ts="+new Date().getTime()),bt},D=function(){(C=parseInt(N.flashVersion,10))!==8&&C!==9&&(N._wD(it("badFV",C,8)),N.flashVersion=C=8);var at=N.debugMode||N.debugFlash?"_debug.swf":".swf";N.useHTML5Audio&&!N.html5Only&&N.audioFormats.mp4.required&&C<9&&(N._wD(it("needfl9")),N.flashVersion=C=9),N.version=N.versionNumber+(N.html5Only?" (HTML5-only mode)":C===9?" (AS3/Flash 9)":" (AS2/Flash 8)"),C>8?(N.defaultOptions=y(N.defaultOptions,N.flash9Options),N.features.buffering=!0,N.defaultOptions=y(N.defaultOptions,N.movieStarOptions),N.filePatterns.flash9=new RegExp("\\.(mp3|"+Ar.join("|")+")(\\?.*)?$","i"),N.features.movieStar=!0):N.features.movieStar=!1,N.filePattern=N.filePatterns[C!==8?"flash9":"flash8"],N.movieURL=(C===8?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",at),N.features.peakData=N.features.waveformData=N.features.eqData=C>8},ae=function(at,bt){ge&&ge._setPolling(at,bt)},se=function(){if(N.debugURLParam.test(Z)&&(N.setupOptions.debugMode=N.debugMode=!0),!v(N.debugID)){var at,bt,ln,fn,Un;if(N.debugMode&&!v(N.debugID)&&(!Te||!N.useConsole||!N.consoleOnly)){for(Un in(at=oe.createElement("div")).id=N.debugID+"-toggle",fn={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},at.appendChild(oe.createTextNode("-")),at.onclick=xe,at.title="Toggle SM2 debug console",H.match(/msie 6/i)&&(at.style.position="absolute",at.style.cursor="hand"),fn)fn.hasOwnProperty(Un)&&(at.style[Un]=fn[Un]);if((bt=oe.createElement("div")).id=N.debugID,bt.style.display=N.debugMode?"block":"none",N.debugMode&&!v(at.id)){try{(ln=F()).appendChild(at)}catch(lr){throw new Error(it("domError")+" \n"+lr.toString())}ln.appendChild(bt)}}ln=null}},je=this.getSoundById,A=function(at,bt){return at?N._wD(it(at),bt):""},xe=function(){var at=v(N.debugID),bt=v(N.debugID+"-toggle");at&&(Oe?(bt.innerHTML="+",at.style.display="none"):(bt.innerHTML="-",at.style.display="block"),Oe=!Oe)},E=function(at,bt,ln){if(l.sm2Debugger!==a)try{sm2Debugger.handleEvent(at,bt,ln)}catch(fn){return!1}return!0},ot=function(){var at=[];return N.debugMode&&at.push(Ae.sm2Debug),N.debugFlash&&at.push(Ae.flashDebug),N.useHighPerformance&&at.push(Ae.highPerf),at.join(" ")},mt=function(){var at=it("fbHandler"),bt=N.getMoviePercent(),ln=Ae,fn={type:"FLASHBLOCK"};N.html5Only||(N.ok()?(N.didFlashBlock&&N._wD(at+": Unblocked"),N.oMC&&(N.oMC.className=[ot(),ln.swfDefault,ln.swfLoaded+(N.didFlashBlock?" "+ln.swfUnblocked:"")].join(" "))):(Kt&&(N.oMC.className=ot()+" "+ln.swfDefault+" "+(bt===null?ln.swfTimedout:ln.swfError),N._wD(at+": "+it("fbTimeout")+(bt?" ("+it("fbLoaded")+")":""))),N.didFlashBlock=!0,_({type:"ontimeout",ignoreInit:!0,error:fn}),J(fn)))},m=function(at,bt,ln){me[at]===a&&(me[at]=[]),me[at].push({method:bt,scope:ln||null,fired:!1})},_=function(at){if(at||(at={type:N.ok()?"onready":"ontimeout"}),!Me&&at&&!at.ignoreInit||at.type==="ontimeout"&&(N.ok()||Qe&&!at.ignoreInit))return!1;var bt,ln,fn={success:at&&at.ignoreInit?N.ok():!Qe},Un=at&&at.type&&me[at.type]||[],lr=[],jr=[fn],Dn=Kt&&!N.ok();for(at.error&&(jr[0].error=at.error),bt=0,ln=Un.length;bt<ln;bt++)Un[bt].fired!==!0&&lr.push(Un[bt]);if(lr.length)for(bt=0,ln=lr.length;bt<ln;bt++)lr[bt].scope?lr[bt].method.apply(lr[bt].scope,jr):lr[bt].method.apply(this,jr),Dn||(lr[bt].fired=!0);return!0},x=function(){l.setTimeout(function(){N.useFlashBlock&&mt(),_(),typeof N.onload=="function"&&(A("onload",1),N.onload.apply(l),A("onloadOK",1)),N.waitForWindowLoad&&rt.add(l,"load",x)},1)},Mt=function(){if(At!==a)return At;var at,bt,ln,fn,Un=!1,lr=navigator,jr=l.ActiveXObject;try{fn=lr.plugins}catch(Dn){fn=void 0}if(fn&&fn.length)bt="application/x-shockwave-flash",(ln=lr.mimeTypes)&&ln[bt]&&ln[bt].enabledPlugin&&ln[bt].enabledPlugin.description&&(Un=!0);else if(jr!==a&&!H.match(/MSAppHost/i)){try{at=new jr("ShockwaveFlash.ShockwaveFlash")}catch(Dn){at=null}Un=!!at,at=null}return At=Un,Un},ze=function(){var at,bt,ln=N.audioFormats;if(Qn&&H.match(/os (1|2|3_0|3_1)\s/i)?(N.hasHTML5=!1,N.html5Only=!0,N.oMC&&(N.oMC.style.display="none")):N.useHTML5Audio&&(N.html5&&N.html5.canPlayType||(N._wD("SoundManager: No HTML5 Audio() support detected."),N.hasHTML5=!1),ue&&N._wD(G+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(At?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)),N.useHTML5Audio&&N.hasHTML5)for(bt in be=!0,ln)ln.hasOwnProperty(bt)&&ln[bt].required&&(N.html5.canPlayType(ln[bt].type)?N.preferFlash&&(N.flash[bt]||N.flash[ln[bt].type])&&(at=!0):(be=!1,at=!0));return N.ignoreFlash&&(at=!1,be=!0),N.html5Only=N.hasHTML5&&N.useHTML5Audio&&!at,!N.html5Only},_t=function(at){var bt,ln,fn,Un=0;if(_instanceof(at,Array)){for(bt=0,ln=at.length;bt<ln;bt++)if(_instanceof(at[bt],Object)){if(N.canPlayMIME(at[bt].type)){Un=bt;break}}else if(N.canPlayURL(at[bt])){Un=bt;break}at[Un].url&&(at[Un]=at[Un].url),fn=at[Un]}else fn=at;return fn},He=function(at){at._hasTimer||(at._hasTimer=!0,!Ne&&N.html5PollingInterval&&(It===null&&cn===0&&(It=setInterval(lt,N.html5PollingInterval)),cn++))},qe=function(at){at._hasTimer&&(at._hasTimer=!1,!Ne&&N.html5PollingInterval&&cn--)},lt=function(){var at;if(It!==null&&!cn)return clearInterval(It),void(It=null);for(at=N.soundIDs.length-1;at>=0;at--)N.sounds[N.soundIDs[at]].isHTML5&&N.sounds[N.soundIDs[at]]._hasTimer&&N.sounds[N.soundIDs[at]]._onTimer()},J=function(at){at=at!==a?at:{},typeof N.onerror=="function"&&N.onerror.apply(l,[{type:at.type!==a?at.type:null}]),at.fatal!==a&&at.fatal&&N.disable()},Lt=function(){if(ue&&Mt()){var at,bt,ln=N.audioFormats;for(bt in ln)if(ln.hasOwnProperty(bt)&&(bt==="mp3"||bt==="mp4")&&(N._wD(ie+": Using flash fallback for "+bt+" format"),N.html5[bt]=!1,ln[bt]&&ln[bt].related))for(at=ln[bt].related.length-1;at>=0;at--)N.html5[ln[bt].related[at]]=!1}},this._setSandboxType=function(yt){var at=N.sandbox;at.type=yt,at.description=at.types[at.types[yt]!==a?yt:"unknown"],at.type==="localWithFile"?(at.noRemote=!0,at.noLocal=!1,A("secNote",2)):at.type==="localWithNetwork"?(at.noRemote=!1,at.noLocal=!0):at.type==="localTrusted"&&(at.noRemote=!1,at.noLocal=!1)},this._externalInterfaceOK=function(yt){if(!N.swfLoaded){var at;if(E("swf",!0),E("flashtojs",!0),N.swfLoaded=!0,Tt=!1,ue&&Lt(),!yt||yt.replace(/\+dev/i,"")!==N.versionNumber.replace(/\+dev/i,""))return at=ie+': Fatal: JavaScript file build "'+N.versionNumber+'" does not match Flash SWF build "'+yt+'" at '+N.url+". Ensure both are up-to-date.",void setTimeout(function(){throw new Error(at)},0);setTimeout(k,bn?100:1)}},ce=function(at,bt){if(Pe&&Xe)return!1;function ln(){var wn,ur=[],Pr=[];wn="SoundManager "+N.version+(!N.html5Only&&N.useHTML5Audio?N.hasHTML5?" + HTML5 audio":", no HTML5 audio support":""),N.html5Only?N.html5PollingInterval&&ur.push("html5PollingInterval ("+N.html5PollingInterval+"ms)"):(N.preferFlash&&ur.push("preferFlash"),N.useHighPerformance&&ur.push("useHighPerformance"),N.flashPollingInterval&&ur.push("flashPollingInterval ("+N.flashPollingInterval+"ms)"),N.html5PollingInterval&&ur.push("html5PollingInterval ("+N.html5PollingInterval+"ms)"),N.wmode&&ur.push("wmode ("+N.wmode+")"),N.debugFlash&&ur.push("debugFlash"),N.useFlashBlock&&ur.push("flashBlock")),ur.length&&(Pr=Pr.concat([ur.join(" + ")])),N._wD(wn+(Pr.length?" + "+Pr.join(", "):""),1),te()}if(N.html5Only)return D(),ln(),N.oMC=v(N.movieID),k(),Pe=!0,Xe=!0,!1;var fn,Un,lr,jr,Dn,pi,oi,Rr,_e,ro=bt||N.url,ai=N.altURL||ro,Si=F(),gi=ot(),gn=oe.getElementsByTagName("html")[0];function yn(wn,ur){return'<param name="'+wn+'" value="'+ur+'" />'}if(fn=gn&&gn.dir&&gn.dir.match(/rtl/i),at=at===a?N.id:at,D(),N.url=Be(Nn?ro:ai),bt=N.url,N.wmode=!N.wmode&&N.useHighPerformance?"transparent":N.wmode,N.wmode!==null&&(H.match(/msie 8/i)||!bn&&!N.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(nn.push(q.spcWmode),N.wmode=null),Un={name:at,id:at,src:bt,quality:"high",allowScriptAccess:N.allowScriptAccess,bgcolor:N.bgColor,pluginspage:cr+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:N.wmode,hasPriority:"true"},N.debugFlash&&(Un.FlashVars="debug=1"),N.wmode||delete Un.wmode,bn)lr=oe.createElement("div"),Dn=['<object id="'+at+'" data="'+bt+'" type="'+Un.type+'" title="'+Un.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',yn("movie",bt),yn("AllowScriptAccess",N.allowScriptAccess),yn("quality",Un.quality),N.wmode?yn("wmode",N.wmode):"",yn("bgcolor",N.bgColor),yn("hasPriority","true"),N.debugFlash?yn("FlashVars",Un.FlashVars):"","</object>"].join("");else for(jr in lr=oe.createElement("embed"),Un)Un.hasOwnProperty(jr)&&lr.setAttribute(jr,Un[jr]);if(se(),gi=ot(),Si=F())if(N.oMC=v(N.movieID)||oe.createElement("div"),N.oMC.id)_e=N.oMC.className,N.oMC.className=(_e?_e+" ":Ae.swfDefault)+(gi?" "+gi:""),N.oMC.appendChild(lr),bn&&((pi=N.oMC.appendChild(oe.createElement("div"))).className=Ae.swfBox,pi.innerHTML=Dn),Xe=!0;else{if(N.oMC.id=N.movieID,N.oMC.className=Ae.swfDefault+" "+gi,oi=null,pi=null,N.useFlashBlock||(N.useHighPerformance?oi={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(oi={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},fn&&(oi.left=Math.abs(parseInt(oi.left,10))+"px"))),Zn&&(N.oMC.style.zIndex=1e4),!N.debugFlash)for(Rr in oi)oi.hasOwnProperty(Rr)&&(N.oMC.style[Rr]=oi[Rr]);try{bn||N.oMC.appendChild(lr),Si.appendChild(N.oMC),bn&&((pi=N.oMC.appendChild(oe.createElement("div"))).className=Ae.swfBox,pi.innerHTML=Dn),Xe=!0}catch(wn){throw new Error(it("domError")+" \n"+wn.toString())}}return Pe=!0,ln(),!0},z=function(){return N.html5Only?(ce(),!1):!ge&&(N.url?((ge=N.getMovie(N.id))||(zt?(bn?N.oMC.innerHTML=qt:N.oMC.appendChild(zt),zt=null,Pe=!0):ce(N.id,N.url),ge=N.getMovie(N.id)),typeof N.oninitmovie=="function"&&setTimeout(N.oninitmovie,1),Jt(),!0):(A("noURL"),!1))},O=function(){setTimeout(I,1e3)},P=function(){l.setTimeout(function(){Ve(G+"useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false..."),N.setup({preferFlash:!1}).reboot(),N.didFlashBlock=!0,N.beginDelayedInit()},1)},I=function(){var at,bt=!1;N.url&&(Bt||(Bt=!0,rt.remove(l,"load",O),At&&Tt&&!ft?A("waitFocus"):(Me||(at=N.getMoviePercent())>0&&at<100&&(bt=!0),setTimeout(function(){if(at=N.getMoviePercent(),bt)return Bt=!1,N._wD(it("waitSWF")),void l.setTimeout(O,1);Me||(N._wD(ie+": No Flash response within expected time. Likely causes: "+(at===0?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(N.debugFlash?" "+it("checkSWF"):""),2),!Nn&&at&&(A("localFail",2),N.debugFlash||A("tryDebug",2)),at===0&&N._wD(it("swf404",N.url),1),E("flashtojs",!1,": Timed out"+(Nn?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)"))),!Me&&St&&(at===null?N.useFlashBlock||N.flashLoadTimeout===0?(N.useFlashBlock&&mt(),A("waitForever")):!N.useFlashBlock&&be?P():(A("waitForever"),_({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}})):N.flashLoadTimeout===0?A("waitForever"):!N.useFlashBlock&&be?P():de(!0))},N.flashLoadTimeout))))},V=function(){function yt(){rt.remove(l,"focus",V)}return ft||!Tt?(yt(),!0):(St=!0,ft=!0,A("gotFocus"),Bt=!1,O(),yt(),!0)},Jt=function(){nn.length&&(N._wD("SoundManager 2: "+nn.join(" "),1),nn=[])},te=function(){Jt();var at,bt=[];if(N.useHTML5Audio&&N.hasHTML5){for(at in N.audioFormats)N.audioFormats.hasOwnProperty(at)&&bt.push(at+" = "+N.html5[at]+(!N.html5[at]&&Kt&&N.flash[at]?" (using flash)":N.preferFlash&&N.flash[at]&&Kt?" (preferring flash)":N.html5[at]?"":" ("+(N.audioFormats[at].required?"required, ":"")+"and no flash support)"));N._wD("SoundManager 2 HTML5 support: "+bt.join(", "),1)}},j=function(at){if(Me)return!1;if(N.html5Only)return A("sm2Loaded",1),Me=!0,x(),E("onload",!0),!0;var bt,ln=!0;return N.useFlashBlock&&N.flashLoadTimeout&&!N.getMoviePercent()||(Me=!0),bt={type:!At&&Kt?"NO_FLASH":"INIT_TIMEOUT"},N._wD("SoundManager 2 "+(Qe?"failed to load":"loaded")+" ("+(Qe?"Flash security/load error":"OK")+") "+String.fromCharCode(Qe?10006:10003),Qe?2:1),Qe||at?(N.useFlashBlock&&N.oMC&&(N.oMC.className=ot()+" "+(N.getMoviePercent()===null?Ae.swfTimedout:Ae.swfError)),_({type:"ontimeout",error:bt,ignoreInit:!0}),E("onload",!1),J(bt),ln=!1):E("onload",!0),Qe||(N.waitForWindowLoad&&!ht?(A("waitOnload"),rt.add(l,"load",x)):(N.waitForWindowLoad&&ht&&A("docLoaded"),x())),ln},w=function(){var at,bt=N.setupOptions;for(at in bt)bt.hasOwnProperty(at)&&(N[at]===a?N[at]=bt[at]:N[at]!==bt[at]&&(N.setupOptions[at]=N[at]))},k=function(){if(Me)return A("didInit"),!1;function at(){rt.remove(l,"load",N.beginDelayedInit)}if(N.html5Only)return Me||(at(),N.enabled=!0,j()),!0;z();try{ge._externalInterfaceTest(!1),ae(!0,N.flashPollingInterval||(N.useHighPerformance?10:50)),N.debugMode||ge._disableDebug(),N.enabled=!0,E("jstoflash",!0),N.html5Only||rt.add(l,"unload",b)}catch(bt){return N._wD("js/flash exception: "+bt.toString()),E("jstoflash",!1),J({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),de(!0),j(),!1}return j(),at(),!0},he=function(){return!B&&(B=!0,w(),se(),!At&&N.hasHTML5&&(N._wD("SoundManager 2: No Flash detected"+(N.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1),N.setup({useHTML5Audio:!0,preferFlash:!1})),nt(),!At&&Kt&&(nn.push(q.needFlash),N.setup({flashLoadTimeout:1})),oe.removeEventListener&&oe.removeEventListener("DOMContentLoaded",he,!1),z(),!0)},gt=function(){return oe.readyState==="complete"&&(he(),oe.detachEvent("onreadystatechange",gt)),!0},Y=function(){ht=!0,he(),rt.remove(l,"load",Y)},Mt(),rt.add(l,"focus",V),rt.add(l,"load",O),rt.add(l,"load",Y),oe.addEventListener?oe.addEventListener("DOMContentLoaded",he,!1):oe.attachEvent?oe.attachEvent("onreadystatechange",gt):(E("onload",!1),J({type:"NO_DOM2_EVENTS",fatal:!0}))};if(!l||!l.document)throw new Error("SoundManager requires a browser with window and document objects.");var r=null;l.SM2_DEFER!==a&&SM2_DEFER||(r=new s),t&&typeof t.exports=="object"?(t.exports.SoundManager=s,t.exports.soundManager=r):(o=function(){return{constructor:s,getInstance:function(c){if(!l.soundManager&&_instanceof(c,Function)){var h=c(s);_instanceof(h,s)&&(l.soundManager=h)}return l.soundManager}}}.call(e,n,e,t))===void 0||(t.exports=o),l.SoundManager=s,l.soundManager=r}(window)},5506:function(t,e,n){"use strict";var o=n(6518),l=n(2357).entries;o({target:"Object",stat:!0},{entries:function(s){return l(s)}})}},function(t){t(t.s=7653)}])}),Em={},$7(Em,{default:function(){return Pm}}),B7=Om(jm()),N7(Em,Om(jm()));var g;tr=B7,g=tr,Tm=g.default,z7=Bi(tr,["default"]),Pm=Tm!==void 0?Tm:z7}}),H7={};wi(H7,{default:function(){return Pm}});var iP=Ht({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-82/BookReader/plugins/plugin.tts.js":function(){F7(),F7()}}),U7,yh,V7,W7,q7,G7,Y7,X7,bh,K7,Im,Mm,Lm,Q7,tr,Rm,J7,Dm,Z7=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/bookreader@5.0.0-82/esnext/BookReader/plugins/plugin.url.js":function(){U7=Object.create,yh=Object.defineProperty,V7=Object.getOwnPropertyDescriptor,W7=Object.getOwnPropertyNames,q7=Object.getPrototypeOf,G7=Object.prototype.hasOwnProperty,Y7=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},X7=function(t,e){for(var n in e)yh(t,n,{get:e[n],enumerable:!0})},bh=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!G7.call(t,v)&&v!==n&&yh(t,v,{get:function(){return e[v]},enumerable:!(o=V7(e,v))||o.enumerable})},d=W7(e)[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0)r(d,c)}catch(h){a=!0,s=h}finally{try{!l&&d.return!=null&&d.return()}finally{if(a)throw s}}return t},K7=function(t,e,n){return bh(t,e,"default"),n&&bh(n,e,"default")},Im=function(t,e,n){return n=t!=null?U7(q7(t)):{},bh(e||!t||!t.__esModule?yh(n,"default",{value:t,enumerable:!0}):n,t)},Mm=Y7(function(){"use strict";(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[479],{4611:function(t,e,n){var o=function(j,y){(y==null||y>j.length)&&(y=j.length);for(var u=0,p=Array(y);u<y;u++)p[u]=j[u];return p},l=function(j,y){for(var u=0;u<y.length;u++){var p=y[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(j,a(p.key),p)}},a=function(j){var y=function(u,p){if(c(u)!="object"||!u)return u;var m=u[Symbol.toPrimitive];if(m!==void 0){var _=m.call(u,"string");if(c(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(u)}(j);return c(y)=="symbol"?y:y+""},s=function(j,y){for(var u=0;u<y.length;u++){var p=y[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(j,r(p.key),p)}},r=function(j){var y=function(u,p){if(v(u)!="object"||!u)return u;var m=u[Symbol.toPrimitive];if(m!==void 0){var _=m.call(u,"string");if(v(_)!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(u)}(j);return v(y)=="symbol"?y:y+""},d=function(j,y,u){return y=k(y),function(p,m){if(m&&(v(m)=="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(p)}(j,b()?Reflect.construct(y,u||[],k(j).constructor):y.apply(j,u))};function c(A){return c=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(y){return typeof y=="undefined"?"undefined":_typeof(y)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j=="undefined"?"undefined":_typeof(j)},c(A)}n(2675),n(9463),n(2259),n(5700),n(8706),n(3792),n(2712),n(9572),n(8130),n(3851),n(875),n(6099),n(825),n(888),n(7495),n(7764),n(5440),n(2953),n(8408),n(2008),n(113),n(3418),n(8598),n(2062),n(4782),n(2010),n(5506),n(3921),n(9432),n(8781),n(1761),n(5746),n(2762),n(3500),n(3296),n(7208);var h,f=function(){return A=function y(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(function(p,m){if(!_instanceof(p,m))throw new TypeError("Cannot call a class as a function")})(this,y),this.bookReaderOptions=u,this.urlSchema=[{name:"page",position:"path",default:"n0"},{name:"mode",position:"path",default:"2up"},{name:"search",position:"path",deprecated_for:"q"},{name:"q",position:"query_param"},{name:"sort",position:"query_param"},{name:"view",position:"query_param"},{name:"admin",position:"query_param"}],this.urlState={},this.urlMode=this.bookReaderOptions.urlMode||"hash",this.urlHistoryBasePath=this.bookReaderOptions.urlHistoryBasePath||"/",this.urlLocationPollId=null,this.oldLocationHash=null,this.oldUserHash=null},j=[{key:"urlStateToUrlString",value:function(u){var p=this,m=new URLSearchParams,_={};Object.keys(u).forEach(function(P){var D,V,q,z,he=p.urlSchema.find(function(Y){return Y.name===P});(D=he)!==null&&D!==void 0&&D.deprecated_for&&(he=p.urlSchema.find(function(Y){return Y.name===he.deprecated_for})),((V=he)===null||V===void 0?void 0:V.position)=="path"?_[(q=he)===null||q===void 0?void 0:q.name]=u[P]:m.append(((z=he)===null||z===void 0?void 0:z.name)||P,u[P])});var x=this.urlSchema.filter(function(P){return P.position=="path"}).map(function(P){return _[P.name]?"".concat(P.name,"/").concat(encodeURIComponent(_[P.name])):""}).join("/"),O="".concat(x.replace(/\/+/g,"/").replace(/\/+$/,"")),I="".concat(O,"?").concat(m.toString());return m.toString()?I:"".concat(O)}},{key:"urlStringToUrlState",value:function(u){var p={},m=new URL(u,"http://example.com"),_=Object.fromEntries(m.searchParams.entries()),x=m.pathname.match(/[^\\/]+\/[^\\/]+/g),O=x?Object.fromEntries(x.map(function(P){return P.split("/")})):{},I=function(D,V){return Object.keys(D).some(function(q){return q==V})};return this.urlSchema.filter(function(P){return P.position=="path"}).forEach(function(P){var D=I(O,P.name),V=I(P,"deprecated_for")&&D;if(D||V){var q=V?P.deprecated_for:P.name;p[q]=decodeURIComponent(O[P.name])}}),Object.entries(_).forEach(function(P){var D=function(z,he){return function(Y){if(Array.isArray(Y))return Y}(z)||function(Y,B){var F=Y==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Y[Symbol.iterator]||Y["@@iterator"];if(F!=null){var ce,J,ae,se,ve=[],de=!0,Be=!1;try{if(ae=(F=F.call(Y)).next,B===0){if(Object(F)!==F)return;de=!1}else for(;!(de=(ce=ae.call(F)).done)&&(ve.push(ce.value),ve.length!==B);de=!0);}catch(it){Be=!0,J=it}finally{try{if(!de&&F.return!=null&&(se=F.return(),Object(se)!==se))return}finally{if(Be)throw J}}return ve}}(z,he)||function(Y,B){if(Y){if(typeof Y=="string")return o(Y,B);var F={}.toString.call(Y).slice(8,-1);return F==="Object"&&Y.constructor&&(F=Y.constructor.name),F==="Map"||F==="Set"?Array.from(Y):F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F)?o(Y,B):void 0}}(z,he)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(P,2),V=D[0],q=D[1];p[V]=q}),p}},{key:"setUrlParam",value:function(u,p){this.urlState[u]=p,this.pushToAddressBar()}},{key:"removeUrlParam",value:function(u){delete this.urlState[u],this.pushToAddressBar()}},{key:"getUrlParam",value:function(u){return this.urlState[u]}},{key:"pushToAddressBar",value:function(){var u=this.urlStateToUrlString(this.urlState),p=u!=="/"?u:"";if(this.urlMode=="history")if(window.history&&window.history.replaceState){var m="".concat(this.urlHistoryBasePath).concat(p).trim().replace(/(\/+)/g,"/");try{window.history.replaceState({},null,m)}catch(_){this.urlMode="hash"}}else this.options.urlMode="hash";this.urlMode=="hash"&&window.location.replace("#"+p),this.oldLocationHash=u}},{key:"listenForHashChanges",value:function(){var u=this;this.oldLocationHash=window.location.hash.substr(1),this.urlLocationPollId&&(clearInterval(this.urlLocationPollId),this.urlLocationPollId=null),this.urlLocationPollId=setInterval(function(){var p=window.location.hash.substr(1);p!=u.oldLocationHash&&(u.urlState=u.urlStringToUrlState(p))},500)}},{key:"pullFromAddressBar",value:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.location,p=this.urlMode==="history"?u.pathname.substr(this.urlHistoryBasePath.length)+u.search:u.hash.substr(1);this.urlState=this.urlStringToUrlState(p)}}],j&&l(A.prototype,j),Object.defineProperty(A,"prototype",{writable:!1}),A;var A,j}();function v(A){return v=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(y){return typeof y=="undefined"?"undefined":_typeof(y)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j=="undefined"?"undefined":_typeof(j)},v(A)}function b(){try{var A=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(j){}return(b=function(){return!!A})()}function w(){return w=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(j,y,u){var p=function(_,x){for(;!{}.hasOwnProperty.call(_,x)&&(_=k(_))!==null;);return _}(j,y);if(p){var m=Object.getOwnPropertyDescriptor(p,y);return m.get?m.get.call(arguments.length<3?j:u):m.value}},w.apply(null,arguments)}function k(A){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},k(A)}function C(A,j){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,p){return u.__proto__=p,u},C(A,j)}n(1669).extend(BookReader.defaultOptions,{enableUrlPlugin:!0,bookId:"",defaults:null,updateWindowTitle:!1,urlMode:"hash",urlHistoryBasePath:"/",urlTrackedParams:["page","search","mode","region","highlight","view"],urlTrackIndex0:!1}),BookReader.prototype.setup=(h=BookReader.prototype.setup,function(A){h.call(this,A),this.bookId=A.bookId,this.defaults=A.defaults,this.locationPollId=null,this.oldLocationHash=null,this.oldUserHash=null}),BookReader.prototype.init=function(A){return function(){var j=this;this.options.enableUrlPlugin&&(this.bind(BookReader.eventNames.PostInit,function(){var y=j.options,u=y.updateWindowTitle,p=y.urlMode;u&&(document.title=j.shortTitle(j.bookTitle,50)),p==="hash"&&j.urlStartLocationPolling()}),this.bind(BookReader.eventNames.fragmentChange,this.urlUpdateFragment.bind(this))),A.call(this)}}(BookReader.prototype.init),BookReader.prototype.shortTitle=function(A){return this.bookTitle.length<A?this.bookTitle:"".concat(this.bookTitle.substr(0,A-3),"...")},BookReader.prototype.urlStartLocationPolling=function(){var A=this;this.oldLocationHash=this.urlReadFragment(),this.locationPollId&&(clearInterval(this.locationPollId),this.locationPollId=null),this.locationPollId=setInterval(function(){var j=A.urlReadFragment();if(j!=A.oldLocationHash&&j!=A.oldUserHash){var y=A.paramsFromFragment(j),u=function(){return A.updateFromParams(y)};A.trigger(BookReader.eventNames.stop),A.animating?(A.autoStop&&A.autoStop(),A.animationFinishedCallback=u):u(),A.oldUserHash=j}},500)},BookReader.prototype.urlUpdateFragment=function(){var A=this.paramsFromCurrent(),j=this.options,y=j.urlTrackIndex0,u=j.urlTrackedParams;y||A.index===void 0||A.index!==0||(delete A.index,delete A.page);var p=u.reduce(function(q,z){return z in A&&(q[z]=A[z]),q},{}),m=this.fragmentFromParams(p,this.options.urlMode),_=this.urlReadFragment(),x=this.getLocationSearch(),O=this.queryStringFromParams(p,x,this.options.urlMode);if(_!==m||x!==O){if(this.options.urlMode==="history")if(window.history&&window.history.replaceState){var I=this.options.urlHistoryBasePath.replace(/\/+$/,""),P=m===""?"":"/".concat(m),D="".concat(I).concat(P).concat(O);try{window.history.replaceState({},null,D),this.oldLocationHash=m+O}catch(q){this.options.urlMode="hash"}}else this.options.urlMode="hash";if(this.options.urlMode==="hash"){var V=this.urlParamsFiltersOnlySearch(this.readQueryString());window.location.replace("#"+m+V),this.oldLocationHash=m+V}}},BookReader.prototype.urlParamsFiltersOnlySearch=function(A){var j=new URLSearchParams(A);return j.has("q")?"?".concat(new URLSearchParams({q:j.get("q")})):""},BookReader.prototype.urlReadFragment=function(){var A=this.options,j=A.urlMode,y=A.urlHistoryBasePath;return j==="history"?window.location.pathname.substr(y.length):window.location.hash.substr(1)},BookReader.prototype.urlReadHashFragment=function(){return window.location.hash.substr(1)};var E=function(A){function j(){return function(p,m){if(!_instanceof(p,m))throw new TypeError("Cannot call a class as a function")}(this,j),d(this,j,arguments)}return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),m&&C(p,m)}(j,BookReader),y=j,(u=[{key:"init",value:function(){var m=this;this.options.enableUrlPlugin&&(this.urlPlugin=new f(this.options),this.bind(BookReader.eventNames.PostInit,function(){m.options.urlMode==="hash"&&m.urlPlugin.listenForHashChanges()})),w(k(j.prototype),"init",this).call(this)}}])&&s(y.prototype,u),Object.defineProperty(y,"prototype",{writable:!1}),y;var y,u}();window.BookReader=E},6098:function(t,e,n){var o=n(9504),l=2147483647,a=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,r="Overflow: input needs wider integers to process",d=RangeError,c=o(s.exec),h=Math.floor,f=String.fromCharCode,v=o("".charCodeAt),b=o([].join),w=o([].push),k=o("".replace),C=o("".split),E=o("".toLowerCase),A=function(p){return p+22+75*(p<26)},j=function(p,m,_){var x=0;for(p=_?h(p/700):p>>1,p+=h(p/m);p>455;)p=h(p/35),x+=36;return h(x+36*p/(p+38))},y=function(p){var m=[];p=function(ae){for(var se=[],ve=0,de=ae.length;ve<de;){var Be=v(ae,ve++);if(Be>=55296&&Be<=56319&&ve<de){var it=v(ae,ve++);(64512&it)==56320?w(se,((1023&Be)<<10)+(1023&it)+65536):(w(se,Be),ve--)}else w(se,Be)}return se}(p);var _,x,O=p.length,I=128,P=0,D=72;for(_=0;_<p.length;_++)(x=p[_])<128&&w(m,f(x));var V=m.length,q=V;for(V&&w(m,"-");q<O;){var z=l;for(_=0;_<p.length;_++)(x=p[_])>=I&&x<z&&(z=x);var he=q+1;if(z-I>h((l-P)/he))throw new d(r);for(P+=(z-I)*he,I=z,_=0;_<p.length;_++){if((x=p[_])<I&&++P>l)throw new d(r);if(x===I){for(var Y=P,B=36;;){var F=B<=D?1:B>=D+26?26:B-D;if(Y<F)break;var ce=Y-F,J=36-F;w(m,f(A(F+ce%J))),Y=h(ce/J),B+=36}w(m,f(A(Y))),D=j(P,he,q===V),P=0,q++}}P++,I++}return b(m,"")};t.exports=function(u){var p,m,_=[],x=C(k(E(u),s,"."),".");for(p=0;p<x.length;p++)m=x[p],w(_,c(a,m)?"xn--"+y(m):m);return b(_,".")}},706:function(t,e,n){var o=n(350).PROPER,l=n(9039),a=n(7452);t.exports=function(s){return l(function(){return!!a[s]()||"\u200B\x85\u180E"[s]()!=="\u200B\x85\u180E"||o&&a[s].name!==s})}},5506:function(t,e,n){var o=n(6518),l=n(2357).entries;o({target:"Object",stat:!0},{entries:function(s){return l(s)}})},3921:function(t,e,n){var o=n(6518),l=n(2652),a=n(4659);o({target:"Object",stat:!0},{fromEntries:function(r){var d={};return l(r,function(c,h){a(d,c,h)},{AS_ENTRIES:!0}),d}})},2762:function(t,e,n){var o=n(6518),l=n(3802).trim;o({target:"String",proto:!0,forced:n(706)("trim")},{trim:function(){return l(this)}})},5806:function(t,e,n){n(7764);var o,l=n(6518),a=n(3724),s=n(7416),r=n(4475),d=n(6080),c=n(9504),h=n(6840),f=n(2106),v=n(679),b=n(9297),w=n(4213),k=n(7916),C=n(7680),E=n(8183).codeAt,A=n(6098),j=n(655),y=n(687),u=n(2812),p=n(8406),m=n(1181),_=m.set,x=m.getterFor("URL"),O=p.URLSearchParams,I=p.getState,P=r.URL,D=r.TypeError,V=r.parseInt,q=Math.floor,z=Math.pow,he=c("".charAt),Y=c(/./.exec),B=c([].join),F=c(1 .toString),ce=c([].pop),J=c([].push),ae=c("".replace),se=c([].shift),ve=c("".split),de=c("".slice),Be=c("".toLowerCase),it=c([].unshift),mt="Invalid scheme",ot="Invalid host",Ae="Invalid port",xe=/[a-z]/i,De=/[\d+-.a-z]/i,et=/\d/,Ve=/^0x/i,je=/^[0-7]+$/,He=/^\d+$/,qe=/^[\da-f]+$/i,lt=/[\0\t\n\r #%/:<>?@[\\\]^|]/,_t=/[\0\t\n\r #/:<>?@[\\\]^|]/,be=/^[\u0000-\u0020]+/,ze=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,Re=/[\t\n\r]/g,$e=function(It){var nn,Kt,Pn,Xt;if(typeof It=="number"){for(nn=[],Kt=0;Kt<4;Kt++)it(nn,It%256),It=q(It/256);return B(nn,".")}if(typeof It=="object"){for(nn="",Pn=function(ar){for(var Fn=null,Qn=1,en=null,bn=0,Zn=0;Zn<8;Zn++)ar[Zn]!==0?(bn>Qn&&(Fn=en,Qn=bn),en=null,bn=0):(en===null&&(en=Zn),++bn);return bn>Qn&&(Fn=en,Qn=bn),Fn}(It),Kt=0;Kt<8;Kt++)Xt&&It[Kt]===0||(Xt&&(Xt=!1),Pn===Kt?(nn+=Kt?":":"::",Xt=!0):(nn+=F(It[Kt],16),Kt<7&&(nn+=":")));return"["+nn+"]"}return It},Ye={},We=w({},Ye,{" ":1,'"':1,"<":1,">":1,"`":1}),Ct=w({},We,{"#":1,"?":1,"{":1,"}":1}),gt=w({},Ct,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),nt=function(It,nn){var Kt=E(It,0);return Kt>32&&Kt<127&&!b(nn,It)?It:encodeURIComponent(It)},rt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ct=function(It,nn){var Kt;return It.length===2&&Y(xe,he(It,0))&&((Kt=he(It,1))===":"||!nn&&Kt==="|")},At=function(It){var nn;return It.length>1&&ct(de(It,0,2))&&(It.length===2||(nn=he(It,2))==="/"||nn==="\\"||nn==="?"||nn==="#")},Mt=function(It){return It==="."||Be(It)==="%2e"},Lt={},st={},te={},Jt={},Ft={},Yt={},N={},Ze={},ge={},ie={},G={},H={},Z={},oe={},me={},Oe={},Pe={},Xe={},Me={},Qe={},ht={},Vt=function(cn,It,nn){var Kt,Pn,Xt,ar=j(cn);if(It){if(Pn=this.parse(ar))throw new D(Pn);this.searchParams=null}else{if(nn!==void 0&&(Kt=new Vt(nn,!0)),Pn=this.parse(ar,null,Kt))throw new D(Pn);(Xt=I(new O)).bindURL(this),this.searchParams=Xt}};Vt.prototype={type:"URL",parse:function(It,nn,Kt){var Pn,Xt,ar,Fn,Qn,en=this,bn=nn||Lt,Zn=0,Tn="",Sr=!1,Ne=!1,ue=!1;for(It=j(It),nn||(en.scheme="",en.username="",en.password="",en.host=null,en.port=null,en.path=[],en.query=null,en.fragment=null,en.cannotBeABaseURL=!1,It=ae(It,be,""),It=ae(It,ze,"$1")),It=ae(It,Re,""),Pn=k(It);Zn<=Pn.length;){switch(Xt=Pn[Zn],bn){case Lt:if(!Xt||!Y(xe,Xt)){if(nn)return mt;bn=te;continue}Tn+=Be(Xt),bn=st;break;case st:if(Xt&&(Y(De,Xt)||Xt==="+"||Xt==="-"||Xt==="."))Tn+=Be(Xt);else{if(Xt!==":"){if(nn)return mt;Tn="",bn=te,Zn=0;continue}if(nn&&(en.isSpecial()!==b(rt,Tn)||Tn==="file"&&(en.includesCredentials()||en.port!==null)||en.scheme==="file"&&!en.host))return;if(en.scheme=Tn,nn)return void(en.isSpecial()&&rt[en.scheme]===en.port&&(en.port=null));Tn="",en.scheme==="file"?bn=oe:en.isSpecial()&&Kt&&Kt.scheme===en.scheme?bn=Jt:en.isSpecial()?bn=Ze:Pn[Zn+1]==="/"?(bn=Ft,Zn++):(en.cannotBeABaseURL=!0,J(en.path,""),bn=Me)}break;case te:if(!Kt||Kt.cannotBeABaseURL&&Xt!=="#")return mt;if(Kt.cannotBeABaseURL&&Xt==="#"){en.scheme=Kt.scheme,en.path=C(Kt.path),en.query=Kt.query,en.fragment="",en.cannotBeABaseURL=!0,bn=ht;break}bn=Kt.scheme==="file"?oe:Yt;continue;case Jt:if(Xt!=="/"||Pn[Zn+1]!=="/"){bn=Yt;continue}bn=ge,Zn++;break;case Ft:if(Xt==="/"){bn=ie;break}bn=Xe;continue;case Yt:if(en.scheme=Kt.scheme,Xt===o)en.username=Kt.username,en.password=Kt.password,en.host=Kt.host,en.port=Kt.port,en.path=C(Kt.path),en.query=Kt.query;else if(Xt==="/"||Xt==="\\"&&en.isSpecial())bn=N;else if(Xt==="?")en.username=Kt.username,en.password=Kt.password,en.host=Kt.host,en.port=Kt.port,en.path=C(Kt.path),en.query="",bn=Qe;else{if(Xt!=="#"){en.username=Kt.username,en.password=Kt.password,en.host=Kt.host,en.port=Kt.port,en.path=C(Kt.path),en.path.length--,bn=Xe;continue}en.username=Kt.username,en.password=Kt.password,en.host=Kt.host,en.port=Kt.port,en.path=C(Kt.path),en.query=Kt.query,en.fragment="",bn=ht}break;case N:if(!en.isSpecial()||Xt!=="/"&&Xt!=="\\"){if(Xt!=="/"){en.username=Kt.username,en.password=Kt.password,en.host=Kt.host,en.port=Kt.port,bn=Xe;continue}bn=ie}else bn=ge;break;case Ze:if(bn=ge,Xt!=="/"||he(Tn,Zn+1)!=="/")continue;Zn++;break;case ge:if(Xt!=="/"&&Xt!=="\\"){bn=ie;continue}break;case ie:if(Xt==="@"){Sr&&(Tn="%40"+Tn),Sr=!0,ar=k(Tn);for(var Te=0;Te<ar.length;Te++){var ft=ar[Te];if(ft!==":"||ue){var Tt=nt(ft,gt);ue?en.password+=Tt:en.username+=Tt}else ue=!0}Tn=""}else if(Xt===o||Xt==="/"||Xt==="?"||Xt==="#"||Xt==="\\"&&en.isSpecial()){if(Sr&&Tn==="")return"Invalid authority";Zn-=k(Tn).length+1,Tn="",bn=G}else Tn+=Xt;break;case G:case H:if(nn&&en.scheme==="file"){bn=Oe;continue}if(Xt!==":"||Ne){if(Xt===o||Xt==="/"||Xt==="?"||Xt==="#"||Xt==="\\"&&en.isSpecial()){if(en.isSpecial()&&Tn==="")return ot;if(nn&&Tn===""&&(en.includesCredentials()||en.port!==null))return;if(Fn=en.parseHost(Tn))return Fn;if(Tn="",bn=Pe,nn)return;continue}Xt==="["?Ne=!0:Xt==="]"&&(Ne=!1),Tn+=Xt}else{if(Tn==="")return ot;if(Fn=en.parseHost(Tn))return Fn;if(Tn="",bn=Z,nn===H)return}break;case Z:if(!Y(et,Xt)){if(Xt===o||Xt==="/"||Xt==="?"||Xt==="#"||Xt==="\\"&&en.isSpecial()||nn){if(Tn!==""){var St=V(Tn,10);if(St>65535)return Ae;en.port=en.isSpecial()&&St===rt[en.scheme]?null:St,Tn=""}if(nn)return;bn=Pe;continue}return Ae}Tn+=Xt;break;case oe:if(en.scheme="file",Xt==="/"||Xt==="\\")bn=me;else{if(!Kt||Kt.scheme!=="file"){bn=Xe;continue}switch(Xt){case o:en.host=Kt.host,en.path=C(Kt.path),en.query=Kt.query;break;case"?":en.host=Kt.host,en.path=C(Kt.path),en.query="",bn=Qe;break;case"#":en.host=Kt.host,en.path=C(Kt.path),en.query=Kt.query,en.fragment="",bn=ht;break;default:At(B(C(Pn,Zn),""))||(en.host=Kt.host,en.path=C(Kt.path),en.shortenPath()),bn=Xe;continue}}break;case me:if(Xt==="/"||Xt==="\\"){bn=Oe;break}Kt&&Kt.scheme==="file"&&!At(B(C(Pn,Zn),""))&&(ct(Kt.path[0],!0)?J(en.path,Kt.path[0]):en.host=Kt.host),bn=Xe;continue;case Oe:if(Xt===o||Xt==="/"||Xt==="\\"||Xt==="?"||Xt==="#"){if(!nn&&ct(Tn))bn=Xe;else if(Tn===""){if(en.host="",nn)return;bn=Pe}else{if(Fn=en.parseHost(Tn))return Fn;if(en.host==="localhost"&&(en.host=""),nn)return;Tn="",bn=Pe}continue}Tn+=Xt;break;case Pe:if(en.isSpecial()){if(bn=Xe,Xt!=="/"&&Xt!=="\\")continue}else if(nn||Xt!=="?")if(nn||Xt!=="#"){if(Xt!==o&&(bn=Xe,Xt!=="/"))continue}else en.fragment="",bn=ht;else en.query="",bn=Qe;break;case Xe:if(Xt===o||Xt==="/"||Xt==="\\"&&en.isSpecial()||!nn&&(Xt==="?"||Xt==="#")){if((Qn=Be(Qn=Tn))===".."||Qn==="%2e."||Qn===".%2e"||Qn==="%2e%2e"?(en.shortenPath(),Xt==="/"||Xt==="\\"&&en.isSpecial()||J(en.path,"")):Mt(Tn)?Xt==="/"||Xt==="\\"&&en.isSpecial()||J(en.path,""):(en.scheme==="file"&&!en.path.length&&ct(Tn)&&(en.host&&(en.host=""),Tn=he(Tn,0)+":"),J(en.path,Tn)),Tn="",en.scheme==="file"&&(Xt===o||Xt==="?"||Xt==="#"))for(;en.path.length>1&&en.path[0]==="";)se(en.path);Xt==="?"?(en.query="",bn=Qe):Xt==="#"&&(en.fragment="",bn=ht)}else Tn+=nt(Xt,Ct);break;case Me:Xt==="?"?(en.query="",bn=Qe):Xt==="#"?(en.fragment="",bn=ht):Xt!==o&&(en.path[0]+=nt(Xt,Ye));break;case Qe:nn||Xt!=="#"?Xt!==o&&(Xt==="'"&&en.isSpecial()?en.query+="%27":en.query+=Xt==="#"?"%23":nt(Xt,Ye)):(en.fragment="",bn=ht);break;case ht:Xt!==o&&(en.fragment+=nt(Xt,We))}Zn++}},parseHost:function(It){var nn,Kt,Pn;if(he(It,0)==="["){if(he(It,It.length-1)!=="]"||(nn=function(Xt){var ar,Fn,Qn,en,bn,Zn,Tn,Sr=[0,0,0,0,0,0,0,0],Ne=0,ue=null,Te=0,ft=function(){return he(Xt,Te)};if(ft()===":"){if(he(Xt,1)!==":")return;Te+=2,ue=++Ne}for(;ft();){if(Ne===8)return;if(ft()!==":"){for(ar=Fn=0;Fn<4&&Y(qe,ft());)ar=16*ar+V(ft(),16),Te++,Fn++;if(ft()==="."){if(Fn===0||(Te-=Fn,Ne>6))return;for(Qn=0;ft();){if(en=null,Qn>0){if(!(ft()==="."&&Qn<4))return;Te++}if(!Y(et,ft()))return;for(;Y(et,ft());){if(bn=V(ft(),10),en===null)en=bn;else{if(en===0)return;en=10*en+bn}if(en>255)return;Te++}Sr[Ne]=256*Sr[Ne]+en,++Qn!=2&&Qn!==4||Ne++}if(Qn!==4)return;break}if(ft()===":"){if(Te++,!ft())return}else if(ft())return;Sr[Ne++]=ar}else{if(ue!==null)return;Te++,ue=++Ne}}if(ue!==null)for(Zn=Ne-ue,Ne=7;Ne!==0&&Zn>0;)Tn=Sr[Ne],Sr[Ne--]=Sr[ue+Zn-1],Sr[ue+--Zn]=Tn;else if(Ne!==8)return;return Sr}(de(It,1,-1)),!nn))return ot;this.host=nn}else if(this.isSpecial()){if(It=A(It),Y(lt,It)||(nn=function(Xt){var ar,Fn,Qn,en,bn,Zn,Tn,Sr=ve(Xt,".");if(Sr.length&&Sr[Sr.length-1]===""&&Sr.length--,(ar=Sr.length)>4)return Xt;for(Fn=[],Qn=0;Qn<ar;Qn++){if((en=Sr[Qn])==="")return Xt;if(bn=10,en.length>1&&he(en,0)==="0"&&(bn=Y(Ve,en)?16:8,en=de(en,bn===8?1:2)),en==="")Zn=0;else{if(!Y(bn===10?He:bn===8?je:qe,en))return Xt;Zn=V(en,bn)}J(Fn,Zn)}for(Qn=0;Qn<ar;Qn++)if(Zn=Fn[Qn],Qn===ar-1){if(Zn>=z(256,5-ar))return null}else if(Zn>255)return null;for(Tn=ce(Fn),Qn=0;Qn<Fn.length;Qn++)Tn+=Fn[Qn]*z(256,3-Qn);return Tn}(It),nn===null))return ot;this.host=nn}else{if(Y(_t,It))return ot;for(nn="",Kt=k(It),Pn=0;Pn<Kt.length;Pn++)nn+=nt(Kt[Pn],Ye);this.host=nn}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return b(rt,this.scheme)},shortenPath:function(){var It=this.path,nn=It.length;!nn||this.scheme==="file"&&nn===1&&ct(It[0],!0)||It.length--},serialize:function(){var It=this,nn=It.scheme,Kt=It.username,Pn=It.password,Xt=It.host,ar=It.port,Fn=It.path,Qn=It.query,en=It.fragment,bn=nn+":";return Xt!==null?(bn+="//",It.includesCredentials()&&(bn+=Kt+(Pn?":"+Pn:"")+"@"),bn+=$e(Xt),ar!==null&&(bn+=":"+ar)):nn==="file"&&(bn+="//"),bn+=It.cannotBeABaseURL?Fn[0]:Fn.length?"/"+B(Fn,"/"):"",Qn!==null&&(bn+="?"+Qn),en!==null&&(bn+="#"+en),bn},setHref:function(It){var nn=this.parse(It);if(nn)throw new D(nn);this.searchParams.update()},getOrigin:function(){var It=this.scheme,nn=this.port;if(It==="blob")try{return new $t(It.path[0]).origin}catch(Kt){return"null"}return It!=="file"&&this.isSpecial()?It+"://"+$e(this.host)+(nn!==null?":"+nn:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(It){this.parse(j(It)+":",Lt)},getUsername:function(){return this.username},setUsername:function(It){var nn=k(j(It));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var Kt=0;Kt<nn.length;Kt++)this.username+=nt(nn[Kt],gt)}},getPassword:function(){return this.password},setPassword:function(It){var nn=k(j(It));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var Kt=0;Kt<nn.length;Kt++)this.password+=nt(nn[Kt],gt)}},getHost:function(){var It=this.host,nn=this.port;return It===null?"":nn===null?$e(It):$e(It)+":"+nn},setHost:function(It){this.cannotBeABaseURL||this.parse(It,G)},getHostname:function(){var It=this.host;return It===null?"":$e(It)},setHostname:function(It){this.cannotBeABaseURL||this.parse(It,H)},getPort:function(){var It=this.port;return It===null?"":j(It)},setPort:function(It){this.cannotHaveUsernamePasswordPort()||((It=j(It))===""?this.port=null:this.parse(It,Z))},getPathname:function(){var It=this.path;return this.cannotBeABaseURL?It[0]:It.length?"/"+B(It,"/"):""},setPathname:function(It){this.cannotBeABaseURL||(this.path=[],this.parse(It,Pe))},getSearch:function(){var It=this.query;return It?"?"+It:""},setSearch:function(It){(It=j(It))===""?this.query=null:(he(It,0)==="?"&&(It=de(It,1)),this.query="",this.parse(It,Qe)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var It=this.fragment;return It?"#"+It:""},setHash:function(It){(It=j(It))!==""?(he(It,0)==="#"&&(It=de(It,1)),this.fragment="",this.parse(It,ht)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var $t=function(It){var nn=v(this,zt),Kt=u(arguments.length,1)>1?arguments[1]:void 0,Pn=_(nn,new Vt(It,!1,Kt));a||(nn.href=Pn.serialize(),nn.origin=Pn.getOrigin(),nn.protocol=Pn.getProtocol(),nn.username=Pn.getUsername(),nn.password=Pn.getPassword(),nn.host=Pn.getHost(),nn.hostname=Pn.getHostname(),nn.port=Pn.getPort(),nn.pathname=Pn.getPathname(),nn.search=Pn.getSearch(),nn.searchParams=Pn.getSearchParams(),nn.hash=Pn.getHash())},zt=$t.prototype,qt=function(It,nn){return{get:function(){return x(this)[It]()},set:nn&&function(Kt){return x(this)[nn](Kt)},configurable:!0,enumerable:!0}};if(a&&(f(zt,"href",qt("serialize","setHref")),f(zt,"origin",qt("getOrigin")),f(zt,"protocol",qt("getProtocol","setProtocol")),f(zt,"username",qt("getUsername","setUsername")),f(zt,"password",qt("getPassword","setPassword")),f(zt,"host",qt("getHost","setHost")),f(zt,"hostname",qt("getHostname","setHostname")),f(zt,"port",qt("getPort","setPort")),f(zt,"pathname",qt("getPathname","setPathname")),f(zt,"search",qt("getSearch","setSearch")),f(zt,"searchParams",qt("getSearchParams")),f(zt,"hash",qt("getHash","setHash"))),h(zt,"toJSON",function(){return x(this).serialize()},{enumerable:!0}),h(zt,"toString",function(){return x(this).serialize()},{enumerable:!0}),P){var Bt=P.createObjectURL,an=P.revokeObjectURL;Bt&&h($t,"createObjectURL",d(Bt,P)),an&&h($t,"revokeObjectURL",d(an,P))}y($t,"URL"),l({global:!0,constructor:!0,forced:!s,sham:!a},{URL:$t})},3296:function(t,e,n){n(5806)},7208:function(t,e,n){var o=n(6518),l=n(9565);o({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return l(URL.prototype.toString,this)}})}},function(t){t(t.s=4611)}])}),Lm={},X7(Lm,{default:function(){return Dm}}),Q7=Im(Mm()),K7(Lm,Im(Mm()));var g;tr=Q7,g=tr,Rm=g.default,J7=Bi(tr,["default"]),Dm=Rm!==void 0?Rm:J7}}),eS={};wi(eS,{default:function(){return Dm}});var oP=Ht({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-82/BookReader/plugins/plugin.url.js":function(){Z7(),Z7()}}),tS,wh,nS,rS,iS,oS,aS,sS,_h,lS,$m,Nm,Bm,uS,tr,zm,cS,Fm,dS=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/bookreader@5.0.0-82/esnext/BookReader/plugins/plugin.autoplay.js":function(){tS=Object.create,wh=Object.defineProperty,nS=Object.getOwnPropertyDescriptor,rS=Object.getOwnPropertyNames,iS=Object.getPrototypeOf,oS=Object.prototype.hasOwnProperty,aS=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},sS=function(t,e){for(var n in e)wh(t,n,{get:e[n],enumerable:!0})},_h=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!oS.call(t,v)&&v!==n&&wh(t,v,{get:function(){return e[v]},enumerable:!(o=nS(e,v))||o.enumerable})},d=rS(e)[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0)r(d,c)}catch(h){a=!0,s=h}finally{try{!l&&d.return!=null&&d.return()}finally{if(a)throw s}}return t},lS=function(t,e,n){return _h(t,e,"default"),n&&_h(n,e,"default")},$m=function(t,e,n){return n=t!=null?tS(iS(t)):{},_h(e||!t||!t.__esModule?wh(n,"default",{value:t,enumerable:!0}):n,t)},Nm=aS(function(){"use strict";(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[393],{5964:function(t,e,n){n(2008),n(6099);var o,l=n(1669),a=n(1669);l.extend(BookReader.defaultOptions,{enableAutoPlayPlugin:!0}),BookReader.prototype.setup=(o=BookReader.prototype.setup,function(s){o.call(this,s),this.auto=!1,this.autoTimer=null,this.flipDelay=5e3}),BookReader.prototype.init=function(s){return function(r){var d=this;s.call(this,r),this.options.enableAutoPlayPlugin&&this.bind(BookReader.eventNames.stop,function(){return d.autoStop()})}}(BookReader.prototype.init),BookReader.prototype.bindNavigationHandlers=function(s){return function(){var r=this;if(s.call(this),this.options.enableAutoPlayPlugin){var d=this.$(".BRicon");d.filter(".play").click(function(){return r.autoToggle(),!1}),d.filter(".pause").click(function(){return r.autoToggle(),!1})}}}(BookReader.prototype.bindNavigationHandlers),BookReader.prototype.autoToggle=function(s){var r=this;if(this.options.enableAutoPlayPlugin){var d=a.extend({flipSpeed:this.flipSpeed,flipDelay:this.flipDelay},s);this.flipSpeed=typeof d.flipSpeed=="number"?d.flipSpeed:this.flipSpeed,this.flipDelay=typeof d.flipDelay=="number"?d.flipDelay:this.flipDelay,this.trigger(BookReader.eventNames.stop);var c=!1;this.constMode2up!=this.mode&&(c=!0,this.switchMode(this.constMode2up)),this.autoTimer==null?(this.pageProgression=="rl"&&c||this.next({triggerStop:!1}),this.$(".play").hide(),this.$(".pause").show(),this.autoTimer=setInterval(function(){r.animating||(Math.max(r.twoPage.currentIndexL,r.twoPage.currentIndexR)>=r.book.getNumLeafs()-1?r.prev({triggerStop:!1}):r.next({triggerStop:!1}))},this.flipDelay)):this.autoStop()}},BookReader.prototype.autoStop=function(){this.options.enableAutoPlayPlugin&&this.autoTimer!=null&&(clearInterval(this.autoTimer),this.flipSpeed="fast",this.$(".pause").hide(),this.$(".play").show(),this.autoTimer=null)}}},function(t){t(t.s=5964)}])}),Bm={},sS(Bm,{default:function(){return Fm}}),uS=$m(Nm()),lS(Bm,$m(Nm()));var g;tr=uS,g=tr,zm=g.default,cS=Bi(tr,["default"]),Fm=zm!==void 0?zm:cS}}),hS={};wi(hS,{default:function(){return Fm}});var aP=Ht({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-82/BookReader/plugins/plugin.autoplay.js":function(){dS(),dS()}}),fS,kh,pS,vS,mS,gS,yS,bS,xh,wS,Hm,Um,Vm,_S,tr,Wm,kS,qm,xS=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/bookreader@5.0.0-82/esnext/BookReader/plugins/plugin.resume.js":function(){fS=Object.create,kh=Object.defineProperty,pS=Object.getOwnPropertyDescriptor,vS=Object.getOwnPropertyNames,mS=Object.getPrototypeOf,gS=Object.prototype.hasOwnProperty,yS=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},bS=function(t,e){for(var n in e)kh(t,n,{get:e[n],enumerable:!0})},xh=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!gS.call(t,v)&&v!==n&&kh(t,v,{get:function(){return e[v]},enumerable:!(o=pS(e,v))||o.enumerable})},d=vS(e)[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0)r(d,c)}catch(h){a=!0,s=h}finally{try{!l&&d.return!=null&&d.return()}finally{if(a)throw s}}return t},wS=function(t,e,n){return xh(t,e,"default"),n&&xh(n,e,"default")},Hm=function(t,e,n){return n=t!=null?fS(mS(t)):{},xh(e||!t||!t.__esModule?kh(n,"default",{value:t,enumerable:!0}):n,t)},Um=yS(function(){"use strict";(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[555],{5182:function(t,e,n){var o=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;try{return v.cookie,!1}catch(b){return!0}},l=function(v){return d||!v?null:decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(v).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},a=function(v,b,w,k,C,E){return!d&&(document.cookie=encodeURIComponent(v)+"="+encodeURIComponent(b)+(w?"; expires=".concat(w.toUTCString()):"")+(C?"; domain=".concat(C):"")+(k?"; path=".concat(k):"")+(E?"; secure":""),!0)},s=function(v,b,w){return!d&&!!hasItem(v)&&(document.cookie=encodeURIComponent(v)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(w?"; domain=".concat(w):"")+(b?"; path=".concat(b):""),!0)},r={};n.r(r),n.d(r,{areCookiesBlocked:function(){return o},getItem:function(){return l},removeItem:function(){return s},setItem:function(){return a}}),n(8940),n(7495),n(1761),n(4864),n(8781),n(5440);var d=o(),c,h=n(1669);BookReader.docCookies=r,h.extend(BookReader.defaultOptions,{enablePageResume:!0,resumeCookiePath:null}),BookReader.prototype.init=(c=BookReader.prototype.init,function(){var f=this;c.call(this),this.options.enablePageResume&&this.bind(BookReader.eventNames.fragmentChange,function(){var v=f.paramsFromCurrent();f.updateResumeValue(v.index)})}),BookReader.prototype.getResumeValue=function(){var f=BookReader.docCookies.getItem("br-resume");return f!==null?parseInt(f):null},BookReader.prototype.getCookiePath=function(f){return f.match(".+?(?=/page/|/mode/|$)")[0]},BookReader.prototype.updateResumeValue=function(f,v){var b=new Date(+new Date+12096e5),w=this.options.resumeCookiePath||this.getCookiePath(window.location.pathname);BookReader.docCookies.setItem(v||"br-resume",f,b,w,null,!1)}}},function(t){t(t.s=5182)}])}),Vm={},bS(Vm,{default:function(){return qm}}),_S=Hm(Um()),wS(Vm,Hm(Um()));var g;tr=_S,g=tr,Wm=g.default,kS=Bi(tr,["default"]),qm=Wm!==void 0?Wm:kS}}),SS={};wi(SS,{default:function(){return qm}});var sP=Ht({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-82/BookReader/plugins/plugin.resume.js":function(){xS(),xS()}}),CS,Sh,AS,OS,jS,ES,TS,PS,Ch,IS,Gm,Ym,Xm,MS,tr,Km,LS,Qm,RS=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/bookreader@5.0.0-82/esnext/BookReader/plugins/plugin.archive_analytics.js":function(){CS=Object.create,Sh=Object.defineProperty,AS=Object.getOwnPropertyDescriptor,OS=Object.getOwnPropertyNames,jS=Object.getPrototypeOf,ES=Object.prototype.hasOwnProperty,TS=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},PS=function(t,e){for(var n in e)Sh(t,n,{get:e[n],enumerable:!0})},Ch=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!ES.call(t,v)&&v!==n&&Sh(t,v,{get:function(){return e[v]},enumerable:!(o=AS(e,v))||o.enumerable})},d=OS(e)[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0)r(d,c)}catch(h){a=!0,s=h}finally{try{!l&&d.return!=null&&d.return()}finally{if(a)throw s}}return t},IS=function(t,e,n){return Ch(t,e,"default"),n&&Ch(n,e,"default")},Gm=function(t,e,n){return n=t!=null?CS(jS(t)):{},Ch(e||!t||!t.__esModule?Sh(n,"default",{value:t,enumerable:!0}):n,t)},Ym=TS(function(){"use strict";(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[623],{9372:function(t,e,n){var o;n(7495),n(1761),n(1669).extend(BookReader.defaultOptions,{enableArchiveAnalytics:!0,debugArchiveAnaltyics:!1}),BookReader.prototype.init=(o=BookReader.prototype.init,function(){var l=this;o.call(this),this.options.enableArchiveAnalytics&&this.bind(BookReader.eventNames.fragmentChange,function(){return l.archiveAnalyticsSendFragmentChange()})}),BookReader.prototype.archiveAnalyticsSendFragmentChange=function(){if(window.archive_analytics){var l=this.archiveAnalyticsSendFragmentChange.prevFragment,a=this.paramsFromCurrent(),s=this.fragmentFromParams(a);if(l!=s){var r={bookreader:"user_changed_view",itemid:this.bookId,cache_bust:Math.random(),offsite:1,details:0};try{r.offsite=window.top.location.hostname.match(/\.archive.org$/)?0:1,r.details=!r.offsite&&window.top.location.pathname.match(/^\/details\//)?1:0}catch(c){}window.archive_analytics.send_ping(r,null,"augment_for_ao_site");var d=this.options.lendingInfo&&this.options.lendingInfo.loanId?{loanId:this.options.lendingInfo.loanId}:{};window.archive_analytics.send_event("BookReader","UserChangedView",window.location.pathname,d),this.archiveAnalyticsSendFragmentChange.prevFragment=s}}},BookReader.prototype.archiveAnalyticsSendEvent=function(l,a,s,r){this.options.enableArchiveAnalytics&&(this.options.debugArchiveAnaltyics&&console.log("archiveAnalyticsSendEvent",arguments,window.archive_analytics),window.archive_analytics&&(r=r||{},typeof s=="number"&&(r.ev=s),window.archive_analytics.send_event(l,a,null,r)))}}},function(t){t(t.s=9372)}])}),Xm={},PS(Xm,{default:function(){return Qm}}),MS=Gm(Ym()),IS(Xm,Gm(Ym()));var g;tr=MS,g=tr,Km=g.default,LS=Bi(tr,["default"]),Qm=Km!==void 0?Km:LS}}),DS={};wi(DS,{default:function(){return Qm}});var lP=Ht({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-82/BookReader/plugins/plugin.archive_analytics.js":function(){RS(),RS()}}),$S,Ah,NS,BS,zS,FS,HS,US,Oh,VS,Jm,Zm,eg,WS,tr,tg,qS,ng,GS=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/bookreader@5.0.0-82/esnext/BookReader/plugins/plugin.chapters.js":function(){$S=Object.create,Ah=Object.defineProperty,NS=Object.getOwnPropertyDescriptor,BS=Object.getOwnPropertyNames,zS=Object.getPrototypeOf,FS=Object.prototype.hasOwnProperty,HS=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},US=function(t,e){for(var n in e)Ah(t,n,{get:e[n],enumerable:!0})},Oh=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!FS.call(t,v)&&v!==n&&Ah(t,v,{get:function(){return e[v]},enumerable:!(o=NS(e,v))||o.enumerable})},d=BS(e)[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0)r(d,c)}catch(h){a=!0,s=h}finally{try{!l&&d.return!=null&&d.return()}finally{if(a)throw s}}return t},VS=function(t,e,n){return Oh(t,e,"default"),n&&Oh(n,e,"default")},Jm=function(t,e,n){return n=t!=null?$S(zS(t)):{},Oh(e||!t||!t.__esModule?Ah(n,"default",{value:t,enumerable:!0}):n,t)},Zm=HS(function(){"use strict";(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[858],{7045:function(t,e,n){var o=function(Ae,xe){for(var De=0;De<xe.length;De++){var et=xe[De];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(Ae,h(et.key),et)}},l=function(Ae,xe,De){return xe=it(xe),function(et,Ve){if(Ve&&(ae(Ve)=="object"||typeof Ve=="function"))return Ve;if(Ve!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(je){if(je===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return je}(et)}(Ae,se()?Reflect.construct(xe,De||[],it(Ae).constructor):xe.apply(Ae,De))},a=function(Ae){var xe,De=h(Ae.key);Ae.kind==="method"?xe={value:Ae.value,writable:!0,configurable:!0,enumerable:!1}:Ae.kind==="get"?xe={get:Ae.value,configurable:!0,enumerable:!1}:Ae.kind==="set"?xe={set:Ae.value,configurable:!0,enumerable:!1}:Ae.kind==="field"&&(xe={configurable:!0,writable:!0,enumerable:!0});var et={kind:Ae.kind==="field"?"field":"method",key:De,placement:Ae.static?"static":Ae.kind==="field"?"own":"prototype",descriptor:xe};return Ae.decorators&&(et.decorators=Ae.decorators),Ae.kind==="field"&&(et.initializer=Ae.value),et},s=function(Ae,xe){Ae.descriptor.get!==void 0?xe.descriptor.get=Ae.descriptor.get:xe.descriptor.set=Ae.descriptor.set},r=function(Ae){return Ae.decorators&&Ae.decorators.length},d=function(Ae){return Ae!==void 0&&!(Ae.value===void 0&&Ae.writable===void 0)},c=function(Ae,xe){var De=Ae[xe];if(De!==void 0&&typeof De!="function")throw new TypeError("Expected '"+xe+"' to be a function");return De},h=function(Ae){var xe=function(De,et){if(ae(De)!="object"||!De)return De;var Ve=De[Symbol.toPrimitive];if(Ve!==void 0){var je=Ve.call(De,"string");if(ae(je)!="object")return je;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(De)}(Ae);return ae(xe)=="symbol"?xe:xe+""},f=function(Ae,xe){if(Ae){if(typeof Ae=="string")return b(Ae,xe);var De={}.toString.call(Ae).slice(8,-1);return De==="Object"&&Ae.constructor&&(De=Ae.constructor.name),De==="Map"||De==="Set"?Array.from(Ae):De==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(De)?b(Ae,xe):void 0}},v=function(Ae){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Ae[Symbol.iterator]!=null||Ae["@@iterator"]!=null)return Array.from(Ae)},b=function(Ae,xe){(xe==null||xe>Ae.length)&&(xe=Ae.length);for(var De=0,et=Array(xe);De<xe;De++)et[De]=Ae[De];return et},w=function(Ae,xe){return xe||(xe=Ae.slice(0)),Object.freeze(Object.defineProperties(Ae,{raw:{value:Object.freeze(xe)}}))},k=function(Ae,xe,De,et,Ve,je,He){try{var qe=Ae[je](He),lt=qe.value}catch(_t){return void De(_t)}qe.done?xe(lt):Promise.resolve(lt).then(et,Ve)},C=function(Ae){return function(){var xe=this,De=arguments;return new Promise(function(et,Ve){var je=Ae.apply(xe,De);function He(lt){k(je,et,Ve,He,qe,"next",lt)}function qe(lt){k(je,et,Ve,He,qe,"throw",lt)}He(void 0)})}};n(5700),n(8706),n(2008),n(113),n(8980),n(3418),n(8598),n(2675),n(9463),n(6412),n(2259),n(8125),n(3792),n(2062),n(4490),n(4782),n(4554),n(9572),n(2010),n(4731),n(479),n(8130),n(9085),n(2811),n(875),n(7764),n(2953),n(3851),n(6099),n(8940),n(3362),n(825),n(888),n(7495),n(8781),n(3500);var E=n(420),A=n(9696),j=n(6681),y=n(8900),u=E.qy(_templateObject105()),p=function(ot){_inherits(xe,ot);var Ae=_createSuper(xe);function xe(){return _classCallCheck(this,xe),Ae.apply(this,arguments)}return _createClass(xe,[{key:"render",value:function(){return u}}],[{key:"styles",get:function(){return E.AH(_templateObject106())}}]),xe}(E.WF);customElements.define("ia-icon-toc",p);var m,_,x,O,I,P,D,V,q,z,he,Y,B,F,ce=n(1669),J=n(1669);function ae(ot){return ae=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(xe){return typeof xe=="undefined"?"undefined":_typeof(xe)}:function(Ae){return Ae&&typeof Symbol=="function"&&Ae.constructor===Symbol&&Ae!==Symbol.prototype?"symbol":typeof Ae=="undefined"?"undefined":_typeof(Ae)},ae(ot)}function se(){try{var ot=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(Ae){}return(se=function(){return!!ot})()}function ve(ot,Ae){return ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(De,et){return De.__proto__=et,De},ve(ot,Ae)}function de(){de=function(){return ot};var ot={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(xe,De){["method","field"].forEach(function(et){De.forEach(function(Ve){Ve.kind===et&&Ve.placement==="own"&&this.defineClassElement(xe,Ve)},this)},this)},initializeClassElements:function(xe,De){var et=xe.prototype;["method","field"].forEach(function(Ve){De.forEach(function(je){var He=je.placement;if(je.kind===Ve&&(He==="static"||He==="prototype")){var qe=He==="static"?xe:et;this.defineClassElement(qe,je)}},this)},this)},defineClassElement:function(xe,De){var et=De.descriptor;if(De.kind==="field"){var Ve=De.initializer;et={enumerable:et.enumerable,writable:et.writable,configurable:et.configurable,value:Ve===void 0?void 0:Ve.call(xe)}}Object.defineProperty(xe,De.key,et)},decorateClass:function(xe,De){var et=[],Ve=[],je={static:[],prototype:[],own:[]};if(xe.forEach(function(qe){this.addElementPlacement(qe,je)},this),xe.forEach(function(qe){if(!r(qe))return et.push(qe);var lt=this.decorateElement(qe,je);et.push(lt.element),et.push.apply(et,lt.extras),Ve.push.apply(Ve,lt.finishers)},this),!De)return{elements:et,finishers:Ve};var He=this.decorateConstructor(et,De);return Ve.push.apply(Ve,He.finishers),He.finishers=Ve,He},addElementPlacement:function(xe,De,et){var Ve=De[xe.placement];if(!et&&Ve.indexOf(xe.key)!==-1)throw new TypeError("Duplicated element ("+xe.key+")");Ve.push(xe.key)},decorateElement:function(xe,De){for(var et=[],Ve=[],je=xe.decorators,He=je.length-1;He>=0;He--){var qe=De[xe.placement];qe.splice(qe.indexOf(xe.key),1);var lt=this.fromElementDescriptor(xe),_t=this.toElementFinisherExtras((0,je[He])(lt)||lt);xe=_t.element,this.addElementPlacement(xe,De),_t.finisher&&Ve.push(_t.finisher);var be=_t.extras;if(be){for(var ze=0;ze<be.length;ze++)this.addElementPlacement(be[ze],De);et.push.apply(et,be)}}return{element:xe,finishers:Ve,extras:et}},decorateConstructor:function(xe,De){for(var et=[],Ve=De.length-1;Ve>=0;Ve--){var je=this.fromClassDescriptor(xe),He=this.toClassDescriptor((0,De[Ve])(je)||je);if(He.finisher!==void 0&&et.push(He.finisher),He.elements!==void 0){xe=He.elements;for(var qe=0;qe<xe.length-1;qe++)for(var lt=qe+1;lt<xe.length;lt++)if(xe[qe].key===xe[lt].key&&xe[qe].placement===xe[lt].placement)throw new TypeError("Duplicated element ("+xe[qe].key+")")}}return{elements:xe,finishers:et}},fromElementDescriptor:function(xe){var De={kind:xe.kind,key:xe.key,placement:xe.placement,descriptor:xe.descriptor};return Object.defineProperty(De,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),xe.kind==="field"&&(De.initializer=xe.initializer),De},toElementDescriptors:function(xe){if(xe!==void 0)return(De=xe,function(et){if(Array.isArray(et))return et}(De)||v(De)||f(De)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(et){var Ve=this.toElementDescriptor(et);return this.disallowProperty(et,"finisher","An element descriptor"),this.disallowProperty(et,"extras","An element descriptor"),Ve},this);var De},toElementDescriptor:function(xe){var De=xe.kind+"";if(De!=="method"&&De!=="field")throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+De+'"');var et=h(xe.key),Ve=xe.placement+"";if(Ve!=="static"&&Ve!=="prototype"&&Ve!=="own")throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+Ve+'"');var je=xe.descriptor;this.disallowProperty(xe,"elements","An element descriptor");var He={kind:De,key:et,placement:Ve,descriptor:Object.assign({},je)};return De!=="field"?this.disallowProperty(xe,"initializer","A method descriptor"):(this.disallowProperty(je,"get","The property descriptor of a field descriptor"),this.disallowProperty(je,"set","The property descriptor of a field descriptor"),this.disallowProperty(je,"value","The property descriptor of a field descriptor"),He.initializer=xe.initializer),He},toElementFinisherExtras:function(xe){return{element:this.toElementDescriptor(xe),finisher:c(xe,"finisher"),extras:this.toElementDescriptors(xe.extras)}},fromClassDescriptor:function(xe){var De={kind:"class",elements:xe.map(this.fromElementDescriptor,this)};return Object.defineProperty(De,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),De},toClassDescriptor:function(xe){var De=xe.kind+"";if(De!=="class")throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+De+'"');this.disallowProperty(xe,"key","A class descriptor"),this.disallowProperty(xe,"placement","A class descriptor"),this.disallowProperty(xe,"descriptor","A class descriptor"),this.disallowProperty(xe,"initializer","A class descriptor"),this.disallowProperty(xe,"extras","A class descriptor");var et=c(xe,"finisher");return{elements:this.toElementDescriptors(xe.elements),finisher:et}},runClassFinishers:function(xe,De){for(var et=0;et<De.length;et++){var Ve=(0,De[et])(xe);if(Ve!==void 0){if(typeof Ve!="function")throw new TypeError("Finishers must return a constructor.");xe=Ve}}return xe},disallowProperty:function(xe,De,et){if(xe[De]!==void 0)throw new TypeError(et+" can't have a ."+De+" property.")}};return ot}function Be(){return Be=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(Ae,xe,De){var et=function(je,He){for(;!{}.hasOwnProperty.call(je,He)&&(je=it(je))!==null;);return je}(Ae,xe);if(et){var Ve=Object.getOwnPropertyDescriptor(et,xe);return Ve.get?Ve.get.call(arguments.length<3?Ae:De):Ve.value}},Be.apply(null,arguments)}function it(ot){return it=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xe){return xe.__proto__||Object.getPrototypeOf(xe)},it(ot)}function mt(){mt=function(){return Ae};var ot,Ae={},xe=Object.prototype,De=xe.hasOwnProperty,et=Object.defineProperty||function(ge,ie,G){ge[ie]=G.value},Ve=typeof Symbol=="function"?Symbol:{},je=Ve.iterator||"@@iterator",He=Ve.asyncIterator||"@@asyncIterator",qe=Ve.toStringTag||"@@toStringTag";function lt(ge,ie,G){return Object.defineProperty(ge,ie,{value:G,enumerable:!0,configurable:!0,writable:!0}),ge[ie]}try{lt({},"")}catch(ge){lt=function(G,H,Z){return G[H]=Z}}function _t(ge,ie,G,H){var Z=ie&&_instanceof(ie.prototype,Ct)?ie:Ct,oe=Object.create(Z.prototype),me=new N(H||[]);return et(oe,"_invoke",{value:te(ge,G,me)}),oe}function be(ge,ie,G){try{return{type:"normal",arg:ge.call(ie,G)}}catch(H){return{type:"throw",arg:H}}}Ae.wrap=_t;var ze="suspendedStart",Re="suspendedYield",$e="executing",Ye="completed",We={};function Ct(){}function gt(){}function nt(){}var rt={};lt(rt,je,function(){return this});var ct=Object.getPrototypeOf,At=ct&&ct(ct(Ze([])));At&&At!==xe&&De.call(At,je)&&(rt=At);var Mt=nt.prototype=Ct.prototype=Object.create(rt);function Lt(ge){["next","throw","return"].forEach(function(ie){lt(ge,ie,function(G){return this._invoke(ie,G)})})}function st(ge,ie){function G(Z,oe,me,Oe){var Pe=be(ge[Z],ge,oe);if(Pe.type!=="throw"){var Xe=Pe.arg,Me=Xe.value;return Me&&ae(Me)=="object"&&De.call(Me,"__await")?ie.resolve(Me.__await).then(function(Qe){G("next",Qe,me,Oe)},function(Qe){G("throw",Qe,me,Oe)}):ie.resolve(Me).then(function(Qe){Xe.value=Qe,me(Xe)},function(Qe){return G("throw",Qe,me,Oe)})}Oe(Pe.arg)}var H;et(this,"_invoke",{value:function(oe,me){function Oe(){return new ie(function(Pe,Xe){G(oe,me,Pe,Xe)})}return H=H?H.then(Oe,Oe):Oe()}})}function te(ge,ie,G){var H=ze;return function(Z,oe){if(H===$e)throw Error("Generator is already running");if(H===Ye){if(Z==="throw")throw oe;return{value:ot,done:!0}}for(G.method=Z,G.arg=oe;;){var me=G.delegate;if(me){var Oe=Jt(me,G);if(Oe){if(Oe===We)continue;return Oe}}if(G.method==="next")G.sent=G._sent=G.arg;else if(G.method==="throw"){if(H===ze)throw H=Ye,G.arg;G.dispatchException(G.arg)}else G.method==="return"&&G.abrupt("return",G.arg);H=$e;var Pe=be(ge,ie,G);if(Pe.type==="normal"){if(H=G.done?Ye:Re,Pe.arg===We)continue;return{value:Pe.arg,done:G.done}}Pe.type==="throw"&&(H=Ye,G.method="throw",G.arg=Pe.arg)}}}function Jt(ge,ie){var G=ie.method,H=ge.iterator[G];if(H===ot)return ie.delegate=null,G==="throw"&&ge.iterator.return&&(ie.method="return",ie.arg=ot,Jt(ge,ie),ie.method==="throw")||G!=="return"&&(ie.method="throw",ie.arg=new TypeError("The iterator does not provide a '"+G+"' method")),We;var Z=be(H,ge.iterator,ie.arg);if(Z.type==="throw")return ie.method="throw",ie.arg=Z.arg,ie.delegate=null,We;var oe=Z.arg;return oe?oe.done?(ie[ge.resultName]=oe.value,ie.next=ge.nextLoc,ie.method!=="return"&&(ie.method="next",ie.arg=ot),ie.delegate=null,We):oe:(ie.method="throw",ie.arg=new TypeError("iterator result is not an object"),ie.delegate=null,We)}function Ft(ge){var ie={tryLoc:ge[0]};1 in ge&&(ie.catchLoc=ge[1]),2 in ge&&(ie.finallyLoc=ge[2],ie.afterLoc=ge[3]),this.tryEntries.push(ie)}function Yt(ge){var ie=ge.completion||{};ie.type="normal",delete ie.arg,ge.completion=ie}function N(ge){this.tryEntries=[{tryLoc:"root"}],ge.forEach(Ft,this),this.reset(!0)}function Ze(ge){if(ge||ge===""){var ie=ge[je];if(ie)return ie.call(ge);if(typeof ge.next=="function")return ge;if(!isNaN(ge.length)){var G=-1,H=function Z(){for(;++G<ge.length;)if(De.call(ge,G))return Z.value=ge[G],Z.done=!1,Z;return Z.value=ot,Z.done=!0,Z};return H.next=H}}throw new TypeError(ae(ge)+" is not iterable")}return gt.prototype=nt,et(Mt,"constructor",{value:nt,configurable:!0}),et(nt,"constructor",{value:gt,configurable:!0}),gt.displayName=lt(nt,qe,"GeneratorFunction"),Ae.isGeneratorFunction=function(ge){var ie=typeof ge=="function"&&ge.constructor;return!!ie&&(ie===gt||(ie.displayName||ie.name)==="GeneratorFunction")},Ae.mark=function(ge){return Object.setPrototypeOf?Object.setPrototypeOf(ge,nt):(ge.__proto__=nt,lt(ge,qe,"GeneratorFunction")),ge.prototype=Object.create(Mt),ge},Ae.awrap=function(ge){return{__await:ge}},Lt(st.prototype),lt(st.prototype,He,function(){return this}),Ae.AsyncIterator=st,Ae.async=function(ge,ie,G,H,Z){Z===void 0&&(Z=Promise);var oe=new st(_t(ge,ie,G,H),Z);return Ae.isGeneratorFunction(ie)?oe:oe.next().then(function(me){return me.done?me.value:oe.next()})},Lt(Mt),lt(Mt,qe,"Generator"),lt(Mt,je,function(){return this}),lt(Mt,"toString",function(){return"[object Generator]"}),Ae.keys=function(ge){var ie=Object(ge),G=[];for(var H in ie)G.push(H);return G.reverse(),function Z(){for(;G.length;){var oe=G.pop();if(oe in ie)return Z.value=oe,Z.done=!1,Z}return Z.done=!0,Z}},Ae.values=Ze,N.prototype={constructor:N,reset:function(ie){if(this.prev=0,this.next=0,this.sent=this._sent=ot,this.done=!1,this.delegate=null,this.method="next",this.arg=ot,this.tryEntries.forEach(Yt),!ie)for(var G in this)G.charAt(0)==="t"&&De.call(this,G)&&!isNaN(+G.slice(1))&&(this[G]=ot)},stop:function(){this.done=!0;var ie=this.tryEntries[0].completion;if(ie.type==="throw")throw ie.arg;return this.rval},dispatchException:function(ie){if(this.done)throw ie;var G=this;function H(Xe,Me){return me.type="throw",me.arg=ie,G.next=Xe,Me&&(G.method="next",G.arg=ot),!!Me}for(var Z=this.tryEntries.length-1;Z>=0;--Z){var oe=this.tryEntries[Z],me=oe.completion;if(oe.tryLoc==="root")return H("end");if(oe.tryLoc<=this.prev){var Oe=De.call(oe,"catchLoc"),Pe=De.call(oe,"finallyLoc");if(Oe&&Pe){if(this.prev<oe.catchLoc)return H(oe.catchLoc,!0);if(this.prev<oe.finallyLoc)return H(oe.finallyLoc)}else if(Oe){if(this.prev<oe.catchLoc)return H(oe.catchLoc,!0)}else{if(!Pe)throw Error("try statement without catch or finally");if(this.prev<oe.finallyLoc)return H(oe.finallyLoc)}}}},abrupt:function(ie,G){for(var H=this.tryEntries.length-1;H>=0;--H){var Z=this.tryEntries[H];if(Z.tryLoc<=this.prev&&De.call(Z,"finallyLoc")&&this.prev<Z.finallyLoc){var oe=Z;break}}oe&&(ie==="break"||ie==="continue")&&oe.tryLoc<=G&&G<=oe.finallyLoc&&(oe=null);var me=oe?oe.completion:{};return me.type=ie,me.arg=G,oe?(this.method="next",this.next=oe.finallyLoc,We):this.complete(me)},complete:function(ie,G){if(ie.type==="throw")throw ie.arg;return ie.type==="break"||ie.type==="continue"?this.next=ie.arg:ie.type==="return"?(this.rval=this.arg=ie.arg,this.method="return",this.next="end"):ie.type==="normal"&&G&&(this.next=G),We},finish:function(ie){for(var G=this.tryEntries.length-1;G>=0;--G){var H=this.tryEntries[G];if(H.finallyLoc===ie)return this.complete(H.completion,H.afterLoc),Yt(H),We}},catch:function(ie){for(var G=this.tryEntries.length-1;G>=0;--G){var H=this.tryEntries[G];if(H.tryLoc===ie){var Z=H.completion;if(Z.type==="throw"){var oe=Z.arg;Yt(H)}return oe}}throw Error("illegal catch attempt")},delegateYield:function(ie,G,H){return this.delegate={iterator:Ze(ie),resultName:G,nextLoc:H},this.method==="next"&&(this.arg=ot),We}},Ae}ce.extend(BookReader.defaultOptions,{olHost:"https://openlibrary.org",enableChaptersPlugin:!0,bookId:""}),BookReader.prototype.init=(D=BookReader.prototype.init,function(){D.call(this),this.options.enableChaptersPlugin&&this.ui!=="embed"&&this._chapterInit()}),BookReader.prototype._chapterInit=C(mt().mark(function ot(){var Ae,xe,De,et,Ve=this;return mt().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:if(xe=null,(Ae=this.options.table_of_contents)===null||Ae===void 0||!Ae.length){je.next=5;break}xe=this.options.table_of_contents,je.next=9;break;case 5:return je.next=7,this.getOpenLibraryRecord(this.options.olHost,this.options.bookId);case 7:(et=je.sent)!=null&&(De=et.table_of_contents)!==null&&De!==void 0&&De.length&&(xe=et.table_of_contents);case 9:xe&&(this._tocEntries=xe.map(function(He){return Object.assign({},He,{pageIndex:typeof He.leaf=="number"?Ve.book.leafNumToIndex(He.leaf):He.pagenum?Ve.book.getPageIndex(He.pagenum):void 0})}),this._chaptersRender(this._tocEntries),this.bind(BookReader.eventNames.pageChanged,function(){return Ve._chaptersUpdateCurrent()}));case 10:case"end":return je.stop()}},ot,this)})),BookReader.prototype._chaptersRender=function(){var ot=this,Ae=this.shell;Ae.menuProviders.chapters={id:"chapters",icon:(0,E.qy)(m||(m=w(['<ia-icon-toc style="width: var(--iconWidth); height: var(--iconHeight);"></ia-icon-toc>']))),label:"Table of Contents",component:(0,E.qy)(_||(_=w(['<br-chapters-panel\n      .contents="','"\n      .jumpToPage="','"\n      @connected="','"\n    />'])),this._tocEntries,function(xe){ot._chaptersUpdateCurrent(xe),ot.jumpToIndex(xe)},function(xe){ot._chaptersPanel=xe.target,ot._chaptersUpdateCurrent()})},Ae.addMenuShortcut("chapters"),Ae.updateMenuContents(),this._tocEntries.forEach(function(xe,De){return ot._chaptersRenderMarker(xe,De)})},BookReader.prototype._chaptersRenderMarker=function(ot,Ae){var xe=this;if(ot.pageIndex!=null){var De=[ot.label,ot.title].filter(function(Ve){return Ve}).join(" ")||"Chapter ".concat(Ae+1),et=BookReader.util.cssPercentage(ot.pageIndex,this.book.getNumLeafs()-1);J("<div></div>").append(J("<div />").text(De).append(J('<div class="BRchapterPage" />').text(this.book.getPageName(ot.pageIndex)))).addClass("BRchapter").css({left:et}).appendTo(this.$(".BRnavline")).on("mouseenter",function(Ve){var je=Ve.currentTarget,He=je.querySelector("div"),qe=He.getBoundingClientRect(),lt=je.getBoundingClientRect(),_t=2*parseInt(getComputedStyle(He).paddingLeft);qe.x-_t<0&&He.style.setProperty("transform","translateX(-".concat(lt.left-_t,"px)")),xe.$(".BRsearch,.BRchapter").removeClass("front"),J(Ve.target).addClass("front")}).on("mouseleave",function(Ve){return J(Ve.target).removeClass("front")}).on("click",function(){xe._chaptersUpdateCurrent(ot.pageIndex),xe.jumpToIndex(ot.pageIndex)}),this.$(".BRchapter, .BRsearch").each(function(Ve,je){var He=J(je);He.on("mouseenter",function(){return He.addClass("front")}).on("mouseleave",function(){return He.removeClass("front")})})}},BookReader.prototype.getOpenLibraryRecord=function(){var ot=C(mt().mark(function Ae(xe,De){var et,Ve,je,He;return mt().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:return Ve="".concat(xe,"/query.json?type=/type/edition&*="),je="".concat(Ve,"&ocaid=").concat(De),qe.next=4,J.ajax({url:je,dataType:"jsonp"});case 4:if((He=qe.sent)&&He.length){qe.next=9;break}return qe.next=8,J.ajax({url:"".concat(Ve,"&source_records=ia:").concat(De),dataType:"jsonp"});case 8:He=qe.sent;case 9:return qe.abrupt("return",(et=He)===null||et===void 0?void 0:et[0]);case 10:case"end":return qe.stop()}},Ae)}));return function(Ae,xe){return ot.apply(this,arguments)}}(),BookReader.prototype._chaptersUpdateCurrent=function(){var ot,Ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.mode==2?Math.max.apply(Math,function(et){if(Array.isArray(et))return b(et)}(ot=this.displayedIndices)||v(ot)||f(ot)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):this.firstIndex,xe=this._tocEntries.filter(function(et){return et.pageIndex!=null}).reverse(),De=xe[xe.findIndex(function(et){return et.pageIndex<=Ae})];this._chaptersPanel&&(this._chaptersPanel.currentChapter=De)},V=[(0,A.EM)("br-chapters-panel")],q=E.WF,Y=de(),z=function(Ae){Y.initializeInstanceElements(Ae,F.elements)},he=function(ot){function Ae(Ve){var je;return function(He,qe){if(!_instanceof(He,qe))throw new TypeError("Cannot call a class as a function")}(this,Ae),je=l(this,Ae),z(je),je.contents=Ve,je}return function(Ve,je){if(typeof je!="function"&&je!==null)throw new TypeError("Super expression must either be null or a function");Ve.prototype=Object.create(je&&je.prototype,{constructor:{value:Ve,writable:!0,configurable:!0}}),Object.defineProperty(Ve,"prototype",{writable:!1}),je&&ve(Ve,je)}(Ae,ot),xe=Ae,De&&o(xe.prototype,De),et&&o(xe,et),Object.defineProperty(xe,"prototype",{writable:!1}),xe;var xe,De,et}(q),B={F:he,d:[{kind:"field",decorators:[(0,A.MZ)({type:Array})],key:"contents",value:function(){return[]}},{kind:"field",decorators:[(0,A.MZ)({type:Object})],key:"currentChapter",value:function(){return{}}},{kind:"field",key:"jumpToPage",value:function(){return function(){}}},{kind:"method",key:"render",value:function(){var Ae=this;return(0,E.qy)(x||(x=w(["\n    <ol>\n      ","\n    </ol>\n    "])),this.contents.map(function(xe){return Ae.renderTOCEntry(xe)}))}},{kind:"method",key:"renderTOCEntry",value:function(Ae){var xe,De=this,et=[Ae.label,Ae.title].filter(function(je){return je}).join(" "),Ve=Ae.pageIndex!=null;return(0,E.qy)(O||(O=w(['\n    <li\n      class="\n        BRtable-contents-el\n        ',"\n        ",'\n      "\n      style="','"\n      data-event-click-tracking="','"\n      @click="','"\n    >\n      ',"\n      ","\n    </li>"])),Ve?"clickable":"",Ae==this.currentChapter?"current":"",(0,y.W)({marginLeft:10*(Ae.level-1)+"px"}),(xe=Ve?"BRTOCPanel|GoToChapter":void 0)!=null?xe:j.s6,function(){return De.jumpToPage(Ae.pageIndex)},et,Ae.pagenum?(0,E.qy)(I||(I=w(['\n        <br />\n        <span class="BRTOCElementPage">Page ',"</span>\n      "])),Ae.pagenum):E.s6)}},{kind:"method",key:"connectedCallback",value:function(){Be(it(he.prototype),"connectedCallback",this).call(this),this.dispatchEvent(new CustomEvent("connected"))}},{kind:"method",key:"updated",value:function(Ae){var xe;Ae.has("currentChapter")&&((xe=this.shadowRoot.querySelector("li.current"))===null||xe===void 0||xe.scrollIntoView({block:"nearest",behavior:"smooth"}))}},{kind:"get",static:!0,key:"styles",value:function(){return(0,E.AH)(P||(P=w(["\n      ol {\n        padding: 0;\n        margin: 0;\n        margin-right: 5px;\n      }\n      li {\n        padding: 10px;\n        overflow: hidden;\n        border-radius: 4px;\n      }\n      li.clickable {\n        font-weight: normal;\n        cursor: pointer;\n        transition: background-color 0.2s;\n      }\n\n      li.clickable:not(.current):hover {\n        background-color: rgba(255,255,255, 0.05);\n      }\n\n      li.current {\n        background-color: rgba(255,255,255,0.9);\n        color: #333;\n      }\n\n      .BRTOCElementPage {\n        font-size: 0.85em;\n        opacity: .8;\n      }"])))}}]},F=Y.decorateClass(function(ot){for(var Ae=[],xe=function(He){return He.kind==="method"&&He.key===Ve.key&&He.placement===Ve.placement},De=0;De<ot.length;De++){var et,Ve=ot[De];if(Ve.kind==="method"&&(et=Ae.find(xe)))if(d(Ve.descriptor)||d(et.descriptor)){if(r(Ve)||r(et))throw new ReferenceError("Duplicated methods ("+Ve.key+") can't be decorated.");et.descriptor=Ve.descriptor}else{if(r(Ve)){if(r(et))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+Ve.key+").");et.decorators=Ve.decorators}s(Ve,et)}else Ae.push(Ve)}return Ae}(B.d.map(a)),V),Y.initializeClassElements(B.F,F.elements),Y.runClassFinishers(B.F,F.finishers)}},function(t){t(t.s=7045)}])}),eg={},US(eg,{default:function(){return ng}}),WS=Jm(Zm()),VS(eg,Jm(Zm()));var g;tr=WS,g=tr,tg=g.default,qS=Bi(tr,["default"]),ng=tg!==void 0?tg:qS}}),YS={};wi(YS,{default:function(){return ng}});var uP=Ht({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-82/BookReader/plugins/plugin.chapters.js":function(){GS(),GS()}}),XS,jh,KS,QS,JS,ZS,eC,tC,Eh,nC,rg,ig,og,rC,tr,ag,iC,sg,oC=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/bookreader@5.0.0-82/esnext/BookReader/plugins/plugin.text_selection.js":function(){XS=Object.create,jh=Object.defineProperty,KS=Object.getOwnPropertyDescriptor,QS=Object.getOwnPropertyNames,JS=Object.getPrototypeOf,ZS=Object.prototype.hasOwnProperty,eC=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},tC=function(t,e){for(var n in e)jh(t,n,{get:e[n],enumerable:!0})},Eh=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!ZS.call(t,v)&&v!==n&&jh(t,v,{get:function(){return e[v]},enumerable:!(o=KS(e,v))||o.enumerable})},d=QS(e)[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0)r(d,c)}catch(h){a=!0,s=h}finally{try{!l&&d.return!=null&&d.return()}finally{if(a)throw s}}return t},nC=function(t,e,n){return Eh(t,e,"default"),n&&Eh(n,e,"default")},rg=function(t,e,n){return n=t!=null?XS(JS(t)):{},Eh(e||!t||!t.__esModule?jh(n,"default",{value:t,enumerable:!0}):n,t)},ig=eC(function(){"use strict";(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[326],{3036:function(t,e,n){var o=function(Ae,xe){for(var De=0;De<xe.length;De++){var et=xe[De];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(Ae,a(et.key),et)}},l=function(Ae,xe,De){return(xe=a(xe))in Ae?Object.defineProperty(Ae,xe,{value:De,enumerable:!0,configurable:!0,writable:!0}):Ae[xe]=De,Ae},a=function(Ae){var xe=function(De,et){if(O(De)!="object"||!De)return De;var Ve=De[Symbol.toPrimitive];if(Ve!==void 0){var je=Ve.call(De,"string");if(O(je)!="object")return je;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(De)}(Ae);return O(xe)=="symbol"?xe:xe+""},s=function(Ae,xe){(xe==null||xe>Ae.length)&&(xe=Ae.length);for(var De=0,et=Array(xe);De<xe;De++)et[De]=Ae[De];return et},r=function(Ae,xe){var De=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},et=arguments.length>3&&arguments[3]!==void 0?arguments[3]:P;return Ae==null?void 0:Ae.replace(/\{\{([^}]*?)\}\}/g,function(Ve,je){if(!je)return Ve;var He,qe=function(ze){if(Array.isArray(ze))return ze}(He=je.split("|").map(function(ze){return ze.trim()}))||function(ze){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&ze[Symbol.iterator]!=null||ze["@@iterator"]!=null)return Array.from(ze)}(He)||function(ze,Re){if(ze){if(typeof ze=="string")return s(ze,Re);var $e={}.toString.call(ze).slice(8,-1);return $e==="Object"&&ze.constructor&&($e=ze.constructor.name),$e==="Map"||$e==="Set"?Array.from(ze):$e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($e)?s(ze,Re):void 0}}(He)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),lt=qe[0],_t=qe.slice(1);if(!(lt in De)&&!(lt in xe))return Ve;var be=lt in De?De[lt]:lt in xe?xe[lt]:null;return _t.map(function(ze){return et[ze]}).reduce(function(ze,Re){return Re(ze)},be&&be.toString())})},d=function(Ae,xe,De){return xe=F(xe),function(et,Ve){if(Ve&&(V(Ve)=="object"||typeof Ve=="function"))return Ve;if(Ve!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(je){if(je===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return je}(et)}(Ae,Y()?Reflect.construct(xe,De||[],F(Ae).constructor):xe.apply(Ae,De))},c=function(Ae,xe){return function(De){if(Array.isArray(De))return De}(Ae)||function(De,et){var Ve=De==null?null:(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&De[Symbol.iterator]||De["@@iterator"];if(Ve!=null){var je,He,qe,lt,_t=[],be=!0,ze=!1;try{if(qe=(Ve=Ve.call(De)).next,et===0){if(Object(Ve)!==Ve)return;be=!1}else for(;!(be=(je=qe.call(Ve)).done)&&(_t.push(je.value),_t.length!==et);be=!0);}catch(Re){ze=!0,He=Re}finally{try{if(!be&&Ve.return!=null&&(lt=Ve.return(),Object(lt)!==lt))return}finally{if(ze)throw He}}return _t}}(Ae,xe)||f(Ae,xe)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},h=function(Ae,xe){var De=(typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&Ae[Symbol.iterator]||Ae["@@iterator"];if(!De){if(Array.isArray(Ae)||(De=f(Ae))||xe&&Ae&&typeof Ae.length=="number"){De&&(Ae=De);var et=0,Ve=function(){};return{s:Ve,n:function(){return et>=Ae.length?{done:!0}:{done:!1,value:Ae[et++]}},e:function(_t){throw _t},f:Ve}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var je,He=!0,qe=!1;return{s:function(){De=De.call(Ae)},n:function(){var _t=De.next();return He=_t.done,_t},e:function(_t){qe=!0,je=_t},f:function(){try{He||De.return==null||De.return()}finally{if(qe)throw je}}}},f=function(Ae,xe){if(Ae){if(typeof Ae=="string")return v(Ae,xe);var De={}.toString.call(Ae).slice(8,-1);return De==="Object"&&Ae.constructor&&(De=Ae.constructor.name),De==="Map"||De==="Set"?Array.from(Ae):De==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(De)?v(Ae,xe):void 0}},v=function(Ae,xe){(xe==null||xe>Ae.length)&&(xe=Ae.length);for(var De=0,et=Array(xe);De<xe;De++)et[De]=Ae[De];return et},b=function(Ae,xe,De,et,Ve,je,He){try{var qe=Ae[je](He),lt=qe.value}catch(_t){return void De(_t)}qe.done?xe(lt):Promise.resolve(lt).then(et,Ve)},w=function(Ae){return function(){var xe=this,De=arguments;return new Promise(function(et,Ve){var je=Ae.apply(xe,De);function He(lt){b(je,et,Ve,He,qe,"next",lt)}function qe(lt){b(je,et,Ve,He,qe,"throw",lt)}He(void 0)})}},k=function(Ae,xe){if(!_instanceof(Ae,xe))throw new TypeError("Cannot call a class as a function")},C=function(Ae,xe){for(var De=0;De<xe.length;De++){var et=xe[De];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(Ae,A(et.key),et)}},E=function(Ae,xe,De){return xe&&C(Ae.prototype,xe),De&&C(Ae,De),Object.defineProperty(Ae,"prototype",{writable:!1}),Ae},A=function(Ae){var xe=function(De,et){if(V(De)!="object"||!De)return De;var Ve=De[Symbol.toPrimitive];if(Ve!==void 0){var je=Ve.call(De,"string");if(V(je)!="object")return je;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(De)}(Ae);return V(xe)=="symbol"?xe:xe+""},j=function(Ae,xe){var De={position:Ae.style.position,visibility:Ae.style.visibility,top:Ae.style.top,left:Ae.style.left,transform:Ae.style.transform};Ae.style.position="absolute",Ae.style.visibility="hidden",Ae.style.top="0",Ae.style.left="0",Ae.style.transform="none",document.body.appendChild(Ae);var et=new Map(Array.from(Ae.querySelectorAll(xe)).map(function(Ve){var je=Ve.getBoundingClientRect();return[Ve,new mt(je.left+window.scrollX,je.top+window.scrollY,je.width,je.height)]}));return document.body.removeChild(Ae),Object.assign(Ae.style,De),et},y=function(Ae){var xe=D(Ae).find("WORD").toArray();return{ocrElement:Ae,words:xe,firstWord:xe[0],lastWord:xe[xe.length-1]}},u=function(Ae,xe){var De,et,Ve;return J().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:De=h(Ae),je.prev=1,De.s();case 3:if((et=De.n()).done){je.next=9;break}return Ve=et.value,je.next=7,xe(Ve);case 7:je.next=3;break;case 9:je.next=14;break;case 11:je.prev=11,je.t0=je.catch(1),De.e(je.t0);case 14:return je.prev=14,De.f(),je.finish(14);case 17:case"end":return je.stop()}},q,null,[[1,11,14,17]])},p=function(Ae){var xe,De,et,Ve,je,He;return J().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:xe=void 0,De=void 0,et=void 0,Ve=h(Ae),qe.prev=4,Ve.s();case 6:if((je=Ve.n()).done){qe.next=17;break}if(He=je.value,De===void 0){qe.next=12;break}return et=He,qe.next=12,[xe,De,et];case 12:xe=De,De=He,et=void 0;case 15:qe.next=6;break;case 17:qe.next=22;break;case 19:qe.prev=19,qe.t0=qe.catch(4),Ve.e(qe.t0);case 22:return qe.prev=22,Ve.f(),qe.finish(22);case 25:if(De===void 0){qe.next=28;break}return qe.next=28,[xe,De,et];case 28:case"end":return qe.stop()}},z,null,[[4,19,22,25]])},m=function(Ae,xe){var De,et,Ve,je;return J().wrap(function(He){for(;;)switch(He.prev=He.next){case 0:De=Ae[Symbol.iterator](),et=xe[Symbol.iterator]();case 2:if(Ve=De.next(),je=et.next(),!Ve.done||!je.done){He.next=7;break}return He.abrupt("return");case 7:if(!Ve.done&&!je.done){He.next=9;break}throw new Error("zip: one of the iterators is done");case 9:return He.next=11,[Ve.value,je.value];case 11:He.next=2;break;case 13:case"end":return He.stop()}},he)};n(2675),n(9463),n(6412),n(2259),n(5700),n(8125),n(8706),n(113),n(3418),n(3792),n(8598),n(2062),n(4490),n(4782),n(6910),n(9572),n(2010),n(4731),n(6033),n(479),n(8130),n(9085),n(3851),n(875),n(6099),n(8459),n(3362),n(825),n(888),n(7495),n(8781),n(9449),n(7764),n(2762),n(3500),n(2953);var _=n(1774),x=n(1669);function O(ot){return O=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(xe){return typeof xe=="undefined"?"undefined":_typeof(xe)}:function(Ae){return Ae&&typeof Symbol=="function"&&Ae.constructor===Symbol&&Ae!==Symbol.prototype?"symbol":typeof Ae=="undefined"?"undefined":_typeof(Ae)},O(ot)}var I=function(){return ot=function xe(De,et){var Ve=this;(function(je,He){if(!_instanceof(je,He))throw new TypeError("Cannot call a class as a function")})(this,xe),l(this,"selecting",!1),l(this,"startedInSelector",!1),l(this,"target",null),l(this,"_onSelectionChange",function(){var je=window.getSelection();if(!Ve.selecting&&je.toString()){var He=x(je.anchorNode).closest(Ve.selector)[0];if(!He)return;Ve.target=He,Ve.selecting=!0,Ve.handler("started",Ve.target)}!Ve.selecting||!je.isCollapsed&&je.toString()&&x(je.anchorNode).closest(Ve.selector)[0]||(Ve.selecting=!1,Ve.handler("cleared",Ve.target))}),this.selector=De,this.handler=et},(Ae=[{key:"attach",value:function(){document.addEventListener("selectionchange",this._onSelectionChange)}},{key:"detach",value:function(){document.removeEventListener("selectionchange",this._onSelectionChange)}}])&&o(ot.prototype,Ae),Object.defineProperty(ot,"prototype",{writable:!1}),ot;var ot,Ae}();n(2712),n(5440);var P={urlencode:encodeURIComponent},D=n(1669);function V(ot){return V=typeof Symbol=="function"&&_typeof(Symbol.iterator)=="symbol"?function(xe){return typeof xe=="undefined"?"undefined":_typeof(xe)}:function(Ae){return Ae&&typeof Symbol=="function"&&Ae.constructor===Symbol&&Ae!==Symbol.prototype?"symbol":typeof Ae=="undefined"?"undefined":_typeof(Ae)},V(ot)}var q=J().mark(u),z=J().mark(p),he=J().mark(m);function Y(){try{var ot=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(Ae){}return(Y=function(){return!!ot})()}function B(){return B=(typeof Reflect=="undefined"?"undefined":_typeof(Reflect))<"u"&&Reflect.get?Reflect.get.bind():function(Ae,xe,De){var et=function(je,He){for(;!{}.hasOwnProperty.call(je,He)&&(je=F(je))!==null;);return je}(Ae,xe);if(et){var Ve=Object.getOwnPropertyDescriptor(et,xe);return Ve.get?Ve.get.call(arguments.length<3?Ae:De):Ve.value}},B.apply(null,arguments)}function F(ot){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xe){return xe.__proto__||Object.getPrototypeOf(xe)},F(ot)}function ce(ot,Ae){return ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(De,et){return De.__proto__=et,De},ce(ot,Ae)}function J(){J=function(){return Ae};var ot,Ae={},xe=Object.prototype,De=xe.hasOwnProperty,et=Object.defineProperty||function(ge,ie,G){ge[ie]=G.value},Ve=typeof Symbol=="function"?Symbol:{},je=Ve.iterator||"@@iterator",He=Ve.asyncIterator||"@@asyncIterator",qe=Ve.toStringTag||"@@toStringTag";function lt(ge,ie,G){return Object.defineProperty(ge,ie,{value:G,enumerable:!0,configurable:!0,writable:!0}),ge[ie]}try{lt({},"")}catch(ge){lt=function(G,H,Z){return G[H]=Z}}function _t(ge,ie,G,H){var Z=ie&&_instanceof(ie.prototype,Ct)?ie:Ct,oe=Object.create(Z.prototype),me=new N(H||[]);return et(oe,"_invoke",{value:te(ge,G,me)}),oe}function be(ge,ie,G){try{return{type:"normal",arg:ge.call(ie,G)}}catch(H){return{type:"throw",arg:H}}}Ae.wrap=_t;var ze="suspendedStart",Re="suspendedYield",$e="executing",Ye="completed",We={};function Ct(){}function gt(){}function nt(){}var rt={};lt(rt,je,function(){return this});var ct=Object.getPrototypeOf,At=ct&&ct(ct(Ze([])));At&&At!==xe&&De.call(At,je)&&(rt=At);var Mt=nt.prototype=Ct.prototype=Object.create(rt);function Lt(ge){["next","throw","return"].forEach(function(ie){lt(ge,ie,function(G){return this._invoke(ie,G)})})}function st(ge,ie){function G(Z,oe,me,Oe){var Pe=be(ge[Z],ge,oe);if(Pe.type!=="throw"){var Xe=Pe.arg,Me=Xe.value;return Me&&V(Me)=="object"&&De.call(Me,"__await")?ie.resolve(Me.__await).then(function(Qe){G("next",Qe,me,Oe)},function(Qe){G("throw",Qe,me,Oe)}):ie.resolve(Me).then(function(Qe){Xe.value=Qe,me(Xe)},function(Qe){return G("throw",Qe,me,Oe)})}Oe(Pe.arg)}var H;et(this,"_invoke",{value:function(oe,me){function Oe(){return new ie(function(Pe,Xe){G(oe,me,Pe,Xe)})}return H=H?H.then(Oe,Oe):Oe()}})}function te(ge,ie,G){var H=ze;return function(Z,oe){if(H===$e)throw Error("Generator is already running");if(H===Ye){if(Z==="throw")throw oe;return{value:ot,done:!0}}for(G.method=Z,G.arg=oe;;){var me=G.delegate;if(me){var Oe=Jt(me,G);if(Oe){if(Oe===We)continue;return Oe}}if(G.method==="next")G.sent=G._sent=G.arg;else if(G.method==="throw"){if(H===ze)throw H=Ye,G.arg;G.dispatchException(G.arg)}else G.method==="return"&&G.abrupt("return",G.arg);H=$e;var Pe=be(ge,ie,G);if(Pe.type==="normal"){if(H=G.done?Ye:Re,Pe.arg===We)continue;return{value:Pe.arg,done:G.done}}Pe.type==="throw"&&(H=Ye,G.method="throw",G.arg=Pe.arg)}}}function Jt(ge,ie){var G=ie.method,H=ge.iterator[G];if(H===ot)return ie.delegate=null,G==="throw"&&ge.iterator.return&&(ie.method="return",ie.arg=ot,Jt(ge,ie),ie.method==="throw")||G!=="return"&&(ie.method="throw",ie.arg=new TypeError("The iterator does not provide a '"+G+"' method")),We;var Z=be(H,ge.iterator,ie.arg);if(Z.type==="throw")return ie.method="throw",ie.arg=Z.arg,ie.delegate=null,We;var oe=Z.arg;return oe?oe.done?(ie[ge.resultName]=oe.value,ie.next=ge.nextLoc,ie.method!=="return"&&(ie.method="next",ie.arg=ot),ie.delegate=null,We):oe:(ie.method="throw",ie.arg=new TypeError("iterator result is not an object"),ie.delegate=null,We)}function Ft(ge){var ie={tryLoc:ge[0]};1 in ge&&(ie.catchLoc=ge[1]),2 in ge&&(ie.finallyLoc=ge[2],ie.afterLoc=ge[3]),this.tryEntries.push(ie)}function Yt(ge){var ie=ge.completion||{};ie.type="normal",delete ie.arg,ge.completion=ie}function N(ge){this.tryEntries=[{tryLoc:"root"}],ge.forEach(Ft,this),this.reset(!0)}function Ze(ge){if(ge||ge===""){var ie=ge[je];if(ie)return ie.call(ge);if(typeof ge.next=="function")return ge;if(!isNaN(ge.length)){var G=-1,H=function Z(){for(;++G<ge.length;)if(De.call(ge,G))return Z.value=ge[G],Z.done=!1,Z;return Z.value=ot,Z.done=!0,Z};return H.next=H}}throw new TypeError(V(ge)+" is not iterable")}return gt.prototype=nt,et(Mt,"constructor",{value:nt,configurable:!0}),et(nt,"constructor",{value:gt,configurable:!0}),gt.displayName=lt(nt,qe,"GeneratorFunction"),Ae.isGeneratorFunction=function(ge){var ie=typeof ge=="function"&&ge.constructor;return!!ie&&(ie===gt||(ie.displayName||ie.name)==="GeneratorFunction")},Ae.mark=function(ge){return Object.setPrototypeOf?Object.setPrototypeOf(ge,nt):(ge.__proto__=nt,lt(ge,qe,"GeneratorFunction")),ge.prototype=Object.create(Mt),ge},Ae.awrap=function(ge){return{__await:ge}},Lt(st.prototype),lt(st.prototype,He,function(){return this}),Ae.AsyncIterator=st,Ae.async=function(ge,ie,G,H,Z){Z===void 0&&(Z=Promise);var oe=new st(_t(ge,ie,G,H),Z);return Ae.isGeneratorFunction(ie)?oe:oe.next().then(function(me){return me.done?me.value:oe.next()})},Lt(Mt),lt(Mt,qe,"Generator"),lt(Mt,je,function(){return this}),lt(Mt,"toString",function(){return"[object Generator]"}),Ae.keys=function(ge){var ie=Object(ge),G=[];for(var H in ie)G.push(H);return G.reverse(),function Z(){for(;G.length;){var oe=G.pop();if(oe in ie)return Z.value=oe,Z.done=!1,Z}return Z.done=!0,Z}},Ae.values=Ze,N.prototype={constructor:N,reset:function(ie){if(this.prev=0,this.next=0,this.sent=this._sent=ot,this.done=!1,this.delegate=null,this.method="next",this.arg=ot,this.tryEntries.forEach(Yt),!ie)for(var G in this)G.charAt(0)==="t"&&De.call(this,G)&&!isNaN(+G.slice(1))&&(this[G]=ot)},stop:function(){this.done=!0;var ie=this.tryEntries[0].completion;if(ie.type==="throw")throw ie.arg;return this.rval},dispatchException:function(ie){if(this.done)throw ie;var G=this;function H(Xe,Me){return me.type="throw",me.arg=ie,G.next=Xe,Me&&(G.method="next",G.arg=ot),!!Me}for(var Z=this.tryEntries.length-1;Z>=0;--Z){var oe=this.tryEntries[Z],me=oe.completion;if(oe.tryLoc==="root")return H("end");if(oe.tryLoc<=this.prev){var Oe=De.call(oe,"catchLoc"),Pe=De.call(oe,"finallyLoc");if(Oe&&Pe){if(this.prev<oe.catchLoc)return H(oe.catchLoc,!0);if(this.prev<oe.finallyLoc)return H(oe.finallyLoc)}else if(Oe){if(this.prev<oe.catchLoc)return H(oe.catchLoc,!0)}else{if(!Pe)throw Error("try statement without catch or finally");if(this.prev<oe.finallyLoc)return H(oe.finallyLoc)}}}},abrupt:function(ie,G){for(var H=this.tryEntries.length-1;H>=0;--H){var Z=this.tryEntries[H];if(Z.tryLoc<=this.prev&&De.call(Z,"finallyLoc")&&this.prev<Z.finallyLoc){var oe=Z;break}}oe&&(ie==="break"||ie==="continue")&&oe.tryLoc<=G&&G<=oe.finallyLoc&&(oe=null);var me=oe?oe.completion:{};return me.type=ie,me.arg=G,oe?(this.method="next",this.next=oe.finallyLoc,We):this.complete(me)},complete:function(ie,G){if(ie.type==="throw")throw ie.arg;return ie.type==="break"||ie.type==="continue"?this.next=ie.arg:ie.type==="return"?(this.rval=this.arg=ie.arg,this.method="return",this.next="end"):ie.type==="normal"&&G&&(this.next=G),We},finish:function(ie){for(var G=this.tryEntries.length-1;G>=0;--G){var H=this.tryEntries[G];if(H.finallyLoc===ie)return this.complete(H.completion,H.afterLoc),Yt(H),We}},catch:function(ie){for(var G=this.tryEntries.length-1;G>=0;--G){var H=this.tryEntries[G];if(H.tryLoc===ie){var Z=H.completion;if(Z.type==="throw"){var oe=Z.arg;Yt(H)}return oe}}throw Error("illegal catch attempt")},delegateYield:function(ie,G,H){return this.delegate={iterator:Ze(ie),resultName:G,nextLoc:H},this.method==="next"&&(this.arg=ot),We}},Ae}var ae=window.BookReader,se={enabled:!0,fullDjvuXmlUrl:null,singlePageDjvuXmlUrl:null,jsonp:!1},ve=function(){return E(function ot(){var Ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10;k(this,ot),this.maxSize=Ae,this.entries=[]},[{key:"add",value:function(Ae){this.entries.length>=this.maxSize&&this.entries.shift(),this.entries.push(Ae)}}])}(),de=function(){return E(function xe(){var De,et,Ve,je=this,He=arguments.length>0&&arguments[0]!==void 0?arguments[0]:se,qe=arguments.length>1?arguments[1]:void 0,lt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"lr";k(this,xe),De=this,Ve=function(be,ze){if(be==="started")je.textSelectingMode(ze);else{if(be!=="cleared")throw new Error("Unknown type ".concat(be));je.defaultMode(ze)}},(et=A(et="_onSelectionChange"))in De?Object.defineProperty(De,et,{value:Ve,enumerable:!0,configurable:!0,writable:!0}):De[et]=Ve,this.options=He,this.optionVariables=qe,this.djvuPagesPromise=null,this.rtl=lt==="rl",this.pageTextCache=new ve,this.maxWordRendered=2500,this.selectionObserver=new I(".BRtextLayer",this._onSelectionChange)},[{key:"init",value:function(){this.selectionObserver.attach(),this.options.singlePageDjvuXmlUrl||(this.djvuPagesPromise=D.ajax({type:"GET",url:r(this.options.fullDjvuXmlUrl,this.optionVariables),dataType:this.options.jsonp?"jsonp":"html",cache:!0,error:function(et){}}).then(function(De){try{var et=D.parseXML(De);return et&&D(et).find("OBJECT")}catch(Ve){return}}))}},{key:"getPageText",value:(Ae=w(J().mark(function xe(De){var et,Ve,je,He,qe;return J().wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:if(!this.options.singlePageDjvuXmlUrl){lt.next=19;break}if(!(et=this.pageTextCache.entries.find(function(_t){return _t.index==De}))){lt.next=4;break}return lt.abrupt("return",et.response);case 4:return lt.next=6,D.ajax({type:"GET",url:r(this.options.singlePageDjvuXmlUrl,this.optionVariables,{pageIndex:De}),dataType:this.options.jsonp?"jsonp":"html",cache:!0,error:function(be){}});case 6:return Ve=lt.sent,lt.prev=7,je=D.parseXML(Ve),He=je&&D(je).find("OBJECT")[0],this.pageTextCache.add({index:De,response:He}),lt.abrupt("return",He);case 14:return lt.prev=14,lt.t0=lt.catch(7),lt.abrupt("return",void 0);case 17:lt.next=24;break;case 19:return lt.next=21,this.djvuPagesPromise;case 21:if(!(qe=lt.sent)){lt.next=24;break}return lt.abrupt("return",qe[De]);case 24:case"end":return lt.stop()}},xe,this,[[7,14]])})),function(xe){return Ae.apply(this,arguments)})},{key:"interceptCopy",value:function(De){De[0].addEventListener("copy",function(et){var Ve=document.getSelection();et.clipboardData.setData("text/plain",Ve.toString()),et.preventDefault()})}},{key:"defaultMode",value:function(De){var et=this,Ve=D(De).closest(".BRpagecontainer");De.style.pointerEvents="none",Ve.find("img").css("pointer-events","auto"),D(De).off(".textSelectPluginHandler");var je=this.mouseIsDown,He=this.mouseIsDown;je&&(De.style.pointerEvents="auto"),D(De).on("mousedown.textSelectPluginHandler",function(qe){et.mouseIsDown=!0,D(qe.target).is(".BRwordElement, .BRspace")&&qe.stopPropagation()}),D(De).on("mouseup.textSelectPluginHandler",function(qe){et.mouseIsDown=!1,De.style.pointerEvents="none",He&&(He=!1,qe.stopPropagation())})}},{key:"textSelectingMode",value:function(De){var et=this,Ve=D(De).closest(".BRpagecontainer");De.style.pointerEvents="all",Ve.find("img").css("pointer-events","none"),D(De).off(".textSelectPluginHandler"),D(De).on("mousedown.textSelectPluginHandler",function(je){et.mouseIsDown=!0,je.stopPropagation()}),D(De).on("mouseup.textSelectPluginHandler",function(je){et.mouseIsDown=!1,je.stopPropagation()})}},{key:"stopPageFlip",value:function(De){var et=this,Ve=De.find(".BRtextLayer");Ve.length&&(Ve.each(function(je,He){return et.defaultMode(He)}),this.interceptCopy(De))}},{key:"createTextLayer",value:(ot=w(J().mark(function xe(De){var et,Ve,je,He,qe,lt,_t,be,ze,Re,$e,Ye,We,Ct,gt,nt,rt,ct,At,Mt,Lt,st,te,Jt,Ft=this;return J().wrap(function(Yt){for(;;)switch(Yt.prev=Yt.next){case 0:if(et=De.page.index,!(Ve=De.$container).find(".BRtextLayer").length){Yt.next=5;break}return Yt.abrupt("return");case 5:return Yt.next=7,this.getPageText(et);case 7:if(je=Yt.sent){Yt.next=10;break}return Yt.abrupt("return");case 10:if(it(je),!((He=D(je).find("WORD").length)>this.maxWordRendered)){Yt.next=15;break}return console.log("Page ".concat(et," has too many words (").concat(He," > ").concat(this.maxWordRendered,"). Not rendering text layer.")),Yt.abrupt("return");case 15:qe=(0,_.Ql)(De.page,"BRtextLayer"),lt=parseFloat(De.$container[0].style.width)/De.page.width,_t=parseFloat(De.$container[0].style.height)/De.page.height,qe.style.transform="scale(".concat(lt,", ").concat(_t,")"),qe.setAttribute("dir",this.rtl?"rtl":"ltr"),be=D(je).find("PARAGRAPH[coords]").toArray(),ze=be.map(function(N){var Ze=Ft.renderParagraph(N);return qe.appendChild(Ze),Ze}),Re=j(qe,".BRparagraphElement"),$e=0,Ye=h(m(be,ze));try{for(Ye.s();!(We=Ye.n()).done;)Ct=c(We.value,2),gt=Ct[0],nt=Ct[1],rt=D(gt).attr("coords").split(",").map(parseFloat),ct=Re.get(nt),At=c(rt,4),Mt=At[0],Lt=At[2],st=At[3],te=this.rtl?ct.right-Lt:Mt-ct.left,Jt=st-(ct.top+$e),nt.style[this.rtl?"marginRight":"marginLeft"]="".concat(te,"px"),nt.style.marginTop="".concat(Jt,"px"),$e+=Jt,qe.appendChild(nt)}catch(N){Ye.e(N)}finally{Ye.f()}Ve.append(qe),this.stopPageFlip(Ve);case 28:case"end":return Yt.stop()}},xe,this)})),function(xe){return ot.apply(this,arguments)})},{key:"renderParagraph",value:function(De){var et=document.createElement("p");et.classList.add("BRparagraphElement");var Ve=c(D(De).attr("coords").split(",").map(parseFloat),4),je=Ve[0],He=Ve[1],qe=Ve[2],lt=Ve[3],_t=[],be=D(De).find("LINE[coords]").toArray();if(!be.length)return et;var ze,Re=h(p(u(be,y)));try{for(Re.s();!(ze=Re.n()).done;){var $e=c(ze.value,3),Ye=$e[0],We=$e[1],Ct=$e[2],gt=We.ocrElement==be[be.length-1],nt=document.createElement("span");nt.classList.add("BRlineElement");var rt,ct=h(We.words.entries());try{for(ct.s();!(rt=ct.n()).done;){var At=c(rt.value,2),Mt=At[0],Lt=At[1],st=c(D(Lt).attr("coords").split(",").map(parseFloat),4),te=st[1],Jt=st[2],Ft=st[3],Yt=te-Ft;if(_t.push(Yt),Mt==0&&Ye!=null&&Ye.lastWord.textContent.trim().endsWith("-")){var N=c(D((Ct||Ye).firstWord).attr("coords").split(",").map(parseFloat),3)[0];D(Lt).attr("coords","".concat(N,",").concat(te,",").concat(Jt,",").concat(Ft))}var Ze=document.createElement("span");if(Ze.setAttribute("class","BRwordElement"),Ze.textContent=Lt.textContent.trim(),Mt>0){var ge=document.createElement("span");ge.classList.add("BRspace"),ge.textContent=" ",nt.append(ge),nt.appendChild(document.createTextNode(" "))}nt.appendChild(Ze)}}catch(sn){ct.e(sn)}finally{ct.f()}var ie=We.lastWord.textContent.trim().endsWith("-"),G=nt.children[nt.children.length-1];ie&&!gt&&(G.textContent=G.textContent.trim().slice(0,-1),G.classList.add("BRwordElement--hyphen")),et.appendChild(nt),gt||ie||et.appendChild(document.createTextNode(" "))}}catch(sn){Re.e(sn)}finally{Re.f()}_t.sort(function(sn,Mn){return sn-Mn});var H=_t[Math.floor(.85*_t.length)]+4;et.style.left="".concat(je,"px"),et.style.top="".concat(lt,"px"),et.style.width="".concat(qe-je,"px"),et.style.height="".concat(He-lt,"px"),et.style.fontSize="".concat(H,"px");var Z,oe=j(et,".BRwordElement"),me=h(m(D(De).find("WORD").toArray(),et.querySelectorAll(".BRwordElement")));try{for(me.s();!(Z=me.n()).done;){var Oe=c(Z.value,2),Pe=Oe[0],Xe=Oe[1],Me=oe.get(Xe),Qe=c(D(Pe).attr("coords").split(",").map(parseFloat),3),ht=Qe[0],Vt=Qe[2]-ht;Pe.textContent.endsWith(" ")&&(Vt=Vt*(Pe.textContent.length-1)/Pe.textContent.length);var $t=Vt-Me.width;Xe.style.letterSpacing="".concat($t/(Pe.textContent.length-1),"px")}}catch(sn){me.e(sn)}finally{me.f()}oe=j(et,".BRwordElement");var zt,qt,Bt=j(et,".BRspace"),an=D(De).find("LINE[coords]").toArray(),cn=Array.from(et.querySelectorAll(".BRlineElement")),It=lt,nn=h(m(an,cn));try{for(nn.s();!(zt=nn.n()).done;){var Kt,Pn=c(zt.value,2),Xt=Pn[0],ar=Pn[1],Fn=D(Xt).find("WORD").toArray(),Qn=this.rtl?qe:je,en=h(m(Fn,ar.querySelectorAll(".BRwordElement")));try{for(en.s();!(Kt=en.n()).done;){var bn=c(Kt.value,2),Zn=bn[0],Tn=bn[1],Sr=oe.get(Tn),Ne=c(D(Zn).attr("coords").split(",").map(parseFloat),3),ue=Ne[0],Te=Ne[2],ft=this.rtl?-(Te-Qn):ue-Qn;if(Tn.previousElementSibling){var Tt=Tn.previousElementSibling;Tt.style.letterSpacing="".concat(ft-Bt.get(Tt).width,"px")}else Tn.style[this.rtl?"paddingRight":"paddingLeft"]="".concat(ft,"px");this.rtl?Qn-=ft+Sr.width:Qn+=ft+Sr.width}}catch(sn){en.e(sn)}finally{en.f()}var St=Math.min.apply(Math,function(sn){if(Array.isArray(sn))return v(sn)}(qt=Fn.map(function(sn){return parseFloat(D(sn).attr("coords").split(",")[3])}))||function(sn){if((typeof Symbol=="undefined"?"undefined":_typeof(Symbol))<"u"&&sn[Symbol.iterator]!=null||sn["@@iterator"]!=null)return Array.from(sn)}(qt)||f(qt)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())-It;ar.previousElementSibling&&(ar.previousElementSibling.style.lineHeight="".concat(St,"px"),It+=St)}}catch(sn){nn.e(sn)}finally{nn.f()}return cn[cn.length-1].style.lineHeight="".concat(He-It,"px"),et.appendChild(document.createElement("br")),et}}]);var ot,Ae}(),Be=function(ot){function Ae(){return k(this,Ae),d(this,Ae,arguments)}return function(xe,De){if(typeof De!="function"&&De!==null)throw new TypeError("Super expression must either be null or a function");xe.prototype=Object.create(De&&De.prototype,{constructor:{value:xe,writable:!0,configurable:!0}}),Object.defineProperty(xe,"prototype",{writable:!1}),De&&ce(xe,De)}(Ae,ot),E(Ae,[{key:"init",value:function(){var De=this,et=Object.assign({},se,this.options.plugins.textSelection);et.enabled&&(this.textSelectionPlugin=new de(et,this.options.vars,this.pageProgression),this.options.plugins.textSelection=et,this.textSelectionPlugin.init(),new I(".BRtextLayer",function(Ve){var je;Ve=="started"&&((je=De.archiveAnalyticsSendEvent)===null||je===void 0||je.call(De,"BookReader","SelectStart"),De.refs.$br.find(".BRpagecontainer--hasSelection").removeClass("BRpagecontainer--hasSelection"),D(window.getSelection().anchorNode).closest(".BRpagecontainer").addClass("BRpagecontainer--hasSelection"))}).attach()),B(F(Ae.prototype),"init",this).call(this)}},{key:"_createPageContainer",value:function(De){var et,Ve=B(F(Ae.prototype),"_createPageContainer",this).call(this,De);return this.mode!==this.constModeThumb&&Ve.page&&((et=this.textSelectionPlugin)===null||et===void 0||et.createTextLayer(Ve)),Ve}}])}(ae);function it(ot){if(!D(ot).attr("coords")&&ot.children){var Ae=D(ot).children().toArray();if(Ae.length!==0){var xe,De=h(Ae);try{for(De.s();!(xe=De.n()).done;)it(xe.value)}catch(lt){De.e(lt)}finally{De.f()}var et,Ve=[],je=h(Ae);try{for(je.s();!(et=je.n()).done;){var He=et.value;D(He).attr("coords")&&Ve.push(D(He).attr("coords").split(",").map(parseFloat))}}catch(lt){je.e(lt)}finally{je.f()}var qe=function(lt){var _t,be=1/0,ze=-1/0,Re=-1/0,$e=1/0,Ye=h(lt);try{for(Ye.s();!(_t=Ye.n()).done;){var We=c(_t.value,4),Ct=We[0],gt=We[1],nt=We[2],rt=We[3];be=Math.min(be,Ct),ze=Math.max(ze,gt),Re=Math.max(Re,nt),$e=Math.min($e,rt)}}catch(ct){Ye.e(ct)}finally{Ye.f()}return[be,ze,Re,$e]}(Ve);Math.abs(qe[0])!=1/0&&D(ot).attr("coords",qe.join(","))}}}window.BookReader=Be;var mt=function(){return E(function ot(Ae,xe,De,et){k(this,ot),this.x=Ae,this.y=xe,this.width=De,this.height=et},[{key:"right",get:function(){return this.x+this.width}},{key:"bottom",get:function(){return this.y+this.height}},{key:"top",get:function(){return this.y}},{key:"left",get:function(){return this.x}}])}()},706:function(t,e,n){var o=n(350).PROPER,l=n(9039),a=n(7452);t.exports=function(s){return l(function(){return!!a[s]()||"\u200B\x85\u180E"[s]()!=="\u200B\x85\u180E"||o&&a[s].name!==s})}},2762:function(t,e,n){var o=n(6518),l=n(3802).trim;o({target:"String",proto:!0,forced:n(706)("trim")},{trim:function(){return l(this)}})}},function(t){t(t.s=3036)}])}),og={},tC(og,{default:function(){return sg}}),rC=rg(ig()),nC(og,rg(ig()));var g;tr=rC,g=tr,ag=g.default,iC=Bi(tr,["default"]),sg=ag!==void 0?ag:iC}}),aC={};wi(aC,{default:function(){return sg}});var cP=Ht({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-82/BookReader/plugins/plugin.text_selection.js":function(){oC(),oC()}}),dP={},hP=Ht({"www/sf/bookreader/BookReaderHelpers.js":function(){typeof Object.assign!="function"&&function(){Object.assign=function(g){"use strict";if(g==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(g),e=1;e<arguments.length;e++){var n=arguments[e];if(n!=null)for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])}return t}}(),window.logError=ET}}),Ka,sC,Sa,Th,No,Di,lg,lC,ug,uC,cC,cg,dC,hC,Fl,dg,fC,hg,pC,fP=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/search-service@0.1.2/esnext/search-service.mjs":function(){Oi(),Oi(),Oi(),Oi(),Oi(),Oi(),Oi(),Oi(),Oi(),Oi(),Ka=function(){"use strict";function g(t,e){_classCallCheck(this,g),this.values=[],this.parser=t,this.rawValue=e,this.processRawValue()}return _createClass(g,[{key:"value",get:function(){return this.values.length>0?this.values[0]:void 0}},{key:"processRawValue",value:function(){var e=this;this.rawValue!==void 0&&(Array.isArray(this.rawValue)?this.rawValue.forEach(function(n){e.parseAndPersistValue(n)}):this.parseAndPersistValue(this.rawValue))}},{key:"parseAndPersistValue",value:function(e){var n=this.parser.parseValue(e);n!==void 0&&this.values.push(n)}}]),g}(),sC=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,uc.shared,n)}return e}(Ka),Sa=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,xa.shared,n)}return e}(Ka),Th=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,Us.shared,n)}return e}(Ka),No=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,co.shared,n)}return e}(Ka),Di=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,zl.shared,n)}return e}(Ka),lg=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,Xa.shared,n)}return e}(Ka),lC=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,cc.shared,n)}return e}(Ka),ug=function g(t){"use strict";_classCallCheck(this,g),this.rawMetadata=t,this.identifier=t.identifier,this.addeddate=t.addeddate?new Sa(t.addeddate):void 0,this.publicdate=t.publicdate?new Sa(t.publicdate):void 0,this.indexdate=t.indexdate?new Sa(t.indexdate):void 0,this.audio_codec=t.audio_codec?new Di(t.audio_codec):void 0,this.audio_sample_rate=t.audio_sample_rate?new No(t.audio_sample_rate):void 0,this.collection=t.collection?new Di(t.collection):void 0,this.collections_raw=t.collections_raw?new Di(t.collections_raw):void 0,this.collection_size=t.collection_size?new lg(t.collection_size):void 0,this.contributor=t.contributor?new Di(t.contributor):void 0,this.coverage=t.coverage?new Di(t.coverage):void 0,this.creator=t.creator?new Di(t.creator):void 0,this.date=t.date?new Sa(t.date):void 0,this.description=t.description?new Di(t.description):void 0,this.downloads=t.downloads?new No(t.downloads):void 0,this.duration=t.duration?new Th(t.duration):void 0,this.files_count=t.files_count?new No(t.files_count):void 0,this.item_count=t.item_count?new No(t.item_count):void 0,this.item_size=t.item_size?new lg(t.item_size):void 0,this.language=t.language?new Di(t.language):void 0,this.length=t.length?new Th(t.length):void 0,this.lineage=t.lineage?new Di(t.lineage):void 0,this.mediatype=t.mediatype?new lC(t.mediatype):void 0,this.month=t.month?new No(t.month):void 0,this.noindex=t.noindex?new sC(t.noindex):void 0,this.notes=t.notes?new Di(t.notes):void 0,this.num_favorites=t.num_favorites?new No(t.num_favorites):void 0,this.num_reviews=t.num_reviews?new No(t.num_reviews):void 0,this.runtime=t.runtime?new Th(t.runtime):void 0,this.scanner=t.scanner?new Di(t.scanner):void 0,this.source=t.source?new Di(t.source):void 0,this.start_localtime=t.start_localtime?new Sa(t.start_localtime):void 0,this.start_time=t.start_time?new Sa(t.start_time):void 0,this.stop_time=t.stop_time?new Sa(t.stop_time):void 0,this.subject=t.subject?new Di(t.subject):void 0,this.taper=t.taper?new Di(t.taper):void 0,this.title=t.title?new Di(t.title):void 0,this.track=t.track?new No(t.track):void 0,this.transferer=t.transferer?new Di(t.transferer):void 0,this.type=t.type?new Di(t.type):void 0,this.uploader=t.uploader?new Di(t.uploader):void 0,this.utc_offset=t.utc_offset?new No(t.utc_offset):void 0,this.venue=t.venue?new Di(t.venue):void 0,this.week=t.week?new No(t.week):void 0,this.year=t.year?new Sa(t.year):void 0},uC=function g(t){"use strict";_classCallCheck(this,g),this.name=t.name,this.source=t.source,this.btih=t.btih,this.md5=t.md5,this.format=t.format,this.mtime=t.mtime,this.crc32=t.crc32,this.sha1=t.sha1,this.original=t.original,this.title=t.title,this.length=t.length?Us.shared.parseValue(t.length):void 0,this.size=t.size?Xa.shared.parseValue(t.size):void 0,this.height=t.height?co.shared.parseValue(t.height):void 0,this.width=t.width?co.shared.parseValue(t.width):void 0,this.track=t.track?co.shared.parseValue(t.track):void 0,this.external_identifier=t["external-identifier"],this.creator=t.creator,this.album=t.album},cC=function g(t){"use strict";_classCallCheck(this,g),this.reviewbody=t.reviewbody,this.reviewtitle=t.reviewtitle,this.reviewer=t.reviewer,this.reviewdate=xa.shared.parseValue(t.reviewdate),this.createdate=xa.shared.parseValue(t.createdate),this.stars=t.stars?parseFloat(t.stars):void 0},cg=function g(t){"use strict";_classCallCheck(this,g);var e,n;this.rawResponse=t,this.created=t.created,this.d1=t.d1,this.d2=t.d2,this.dir=t.dir,this.files=(e=t.files)===null||e===void 0?void 0:e.map(function(o){return new uC(o)}),this.files_count=t.files_count,this.item_last_updated=t.item_last_updated,this.item_size=t.item_size,this.metadata=new ug(t.metadata),this.server=t.server,this.uniq=t.uniq,this.workable_servers=t.workable_servers,this.speech_vs_music_asr=t.speech_vs_music_asr,this.reviews=(n=t.reviews)===null||n===void 0?void 0:n.map(function(o){return new cC(o)})},dC=function g(t){"use strict";_classCallCheck(this,g),this.numFound=t.numFound,this.start=t.start,this.docs=t.docs.map(function(e){return new ug(e)}),this.aggregations=t.aggregations},hC=function g(t){"use strict";_classCallCheck(this,g),this.rawResponse=t,this.responseHeader=t.responseHeader,this.response=new dC(t.response)},function(g){g.networkError="SearchService.NetworkError",g.itemNotFound="SearchService.ItemNotFound",g.decodingError="SearchService.DecodingError",g.searchEngineError="SearchService.SearchEngineError"}(Fl||(Fl={})),dg=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n,o,l){_classCallCheck(this,e);var a;return a=t.call(this,o),a.name=n,a.type=n,a.details=l,_possibleConstructorReturn(a)}return e}(_wrapNativeSuper(Error)),fC=function(){"use strict";function g(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"archive.org";_classCallCheck(this,g),this.baseUrl=t}return _createClass(g,[{key:"performSearch",value:function(e){return $n(this,null,_regeneratorRuntime.default.mark(function n(){var o,l;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return o=e.asUrlSearchParams.toString(),l="https://".concat(this.baseUrl,"/advancedsearch.php?").concat(o),s.abrupt("return",this.fetchUrl(l));case 2:case"end":return s.stop()}},n,this)}))}},{key:"fetchMetadata",value:function(e){return $n(this,null,_regeneratorRuntime.default.mark(function n(){var o;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o="https://".concat(this.baseUrl,"/metadata/").concat(e),a.abrupt("return",this.fetchUrl(o));case 2:case"end":return a.stop()}},n,this)}))}},{key:"fetchUrl",value:function(e){return $n(this,null,_regeneratorRuntime.default.mark(function n(){var o,l,a,s,r,d;return _regeneratorRuntime.default.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=1,h.next=4,fetch(e);case 4:o=h.sent,h.next=11;break;case 7:return h.prev=7,h.t0=h.catch(1),l=_instanceof(h.t0,Error)?h.t0.message:h.t0,h.abrupt("return",this.getErrorResult(Fl.networkError,l));case 11:return h.prev=11,h.next=14,o.json();case 14:if(a=h.sent,s=a.error,!s){h.next=21;break}return r=a.forensics,h.abrupt("return",this.getErrorResult(Fl.searchEngineError,s,r));case 21:return h.abrupt("return",{success:a});case 22:h.next=28;break;case 24:return h.prev=24,h.t1=h.catch(11),d=_instanceof(h.t1,Error)?h.t1.message:h.t1,h.abrupt("return",this.getErrorResult(Fl.decodingError,d));case 28:case"end":return h.stop()}},n,this,[[1,7],[11,24]])}))}},{key:"getErrorResult",value:function(e,n,o){return{error:new dg(e,n,o)}}}]),g}(),hg=function(){"use strict";function g(t){_classCallCheck(this,g),this.searchBackend=t}return _createClass(g,[{key:"search",value:function(e){return $n(this,null,_regeneratorRuntime.default.mark(function n(){var o;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.searchBackend.performSearch(e);case 2:return o=a.sent,a.abrupt("return",o.error?o:{success:new hC(o.success)});case 4:case"end":return a.stop()}},n,this)}))}},{key:"fetchMetadata",value:function(e){return $n(this,null,_regeneratorRuntime.default.mark(function n(){var o,l;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=3,this.searchBackend.fetchMetadata(e);case 3:return l=s.sent,s.abrupt("return",l.error?l:((o=l.success)===null||o===void 0?void 0:o.metadata)===void 0?{error:new dg(Fl.itemNotFound)}:{success:new cg(l.success)});case 5:case"end":return s.stop()}},n,this)}))}}]),g}(),hg.default=new hg(new fC),function(g){g.Asc="asc",g.Desc="desc"}(pC||(pC={}))}}),vC,mC,pP=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/icon-ellipses@1.3.4/esnext/icon-ellipses.js":function(){xn(),xn(),vC=xt(_templateObject107()),mC=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return vC}}],[{key:"styles",get:function(){return Ut(_templateObject108())}}]),e}(er),customElements.define("ia-icon-ellipses",mC)}}),gC,yC,vP=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/icon-collapse-sidebar@1.3.4/esnext/icon-collapse-sidebar.mjs":function(){xn(),xn(),gC=xt(_templateObject109()),yC=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return gC}}],[{key:"styles",get:function(){return Ut(_templateObject110())}}]),e}(er),customElements.define("ia-icon-collapse-sidebar",yC)}}),bC,wC,_C=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/icon-share@1.3.4/esnext/icon-share.js":function(){xn(),xn(),bC=xt(_templateObject111()),wC=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return bC}}],[{key:"styles",get:function(){return Ut(_templateObject112())}}]),e}(er),customElements.define("ia-icon-share",wC)}}),kC,xC,SC=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/icon-twitter@1.3.4/esnext/icon-twitter.js":function(){xn(),xn(),kC=xt(_templateObject113()),xC=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return kC}}],[{key:"styles",get:function(){return Ut(_templateObject114())}}]),e}(er),customElements.define("ia-icon-twitter",xC)}}),CC,AC,OC=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/icon-facebook@1.3.4/esnext/icon-facebook.js":function(){xn(),xn(),CC=xt(_templateObject115()),AC=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return CC}}],[{key:"styles",get:function(){return Ut(_templateObject116())}}]),e}(er),customElements.define("ia-icon-facebook",AC)}}),jC,EC,TC=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/icon-tumblr@1.3.4/esnext/icon-tumblr.js":function(){xn(),xn(),jC=xt(_templateObject117()),EC=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return jC}}],[{key:"styles",get:function(){return Ut(_templateObject118())}}]),e}(er),customElements.define("ia-icon-tumblr",EC)}}),PC,IC,MC=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/icon-pinterest@1.3.4/esnext/icon-pinterest.js":function(){xn(),xn(),PC=xt(_templateObject119()),IC=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return PC}}],[{key:"styles",get:function(){return Ut(_templateObject120())}}]),e}(er),customElements.define("ia-icon-pinterest",IC)}}),LC,RC,DC=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/icon-email@1.3.4/esnext/icon-email.js":function(){xn(),xn(),LC=xt(_templateObject121()),RC=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return LC}}],[{key:"styles",get:function(){return Ut(_templateObject122())}}]),e}(er),customElements.define("ia-icon-email",RC)}}),$C,NC,BC=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/icon-link@1.3.4/esnext/icon-link.js":function(){xn(),xn(),$C=xt(_templateObject123()),NC=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return $C}}],[{key:"styles",get:function(){return Ut(_templateObject124())}}]),e}(er),customElements.define("ia-icon-link",NC)}}),dc,Hl,Ul,hc=Ht({"https-url:https://esm.archive.org/v135/lit-html@2.8.0/esnext/directive.js":function(){dc={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},Hl=function(g){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return{_$litDirective$:g,values:e}}},Ul=function(){"use strict";function g(t){_classCallCheck(this,g)}return _createClass(g,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AT",value:function(e,n,o){this._$Ct=e,this._$AM=n,this._$Ci=o}},{key:"_$AS",value:function(e,n){return this.update(e,n)}},{key:"update",value:function(e,n){return this.render.apply(this,_toConsumableArray(n))}}]),g}()}});function Vs(g,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g,n=arguments.length>3?arguments[3]:void 0,o,l,a,s;if(t===ql)return t;var r=n!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[n]:e._$Cl,d=Vl(t)?void 0:t._$litDirective$;return(r==null?void 0:r.constructor)!==d&&((l=r==null?void 0:r._$AO)===null||l===void 0||l.call(r,!1),d===void 0?r=void 0:(r=new d(g),r._$AT(g,e,n)),n!==void 0?((a=(s=e)._$Co)!==null&&a!==void 0?a:s._$Co=[])[n]=r:e._$Cl=r),r!==void 0&&(t=Vs(g,r._$AS(g,t.values),r,n)),t}var fg,fc,Ws,pg,pc,Xo,Ph,zC,Qa,vc,Vl,vg,mg,Ih,Wl,gg,yg,Ja,bg,wg,_g,kg,mP,gP,ql,zi,xg,Za,Sg,Mh,Cg,Lh,Gl,Ag,FC,Og,jg,Eg,HC,Tg,UC,Pg,VC,Ig,es,ts,WC,Rh,Dh,$h,qC,GC=Ht({"https-url:https://esm.archive.org/v135/lit-html@2.8.0/esnext/directive-helpers.js":function(){fc=window,Ws=fc.trustedTypes,pg=Ws?Ws.createPolicy("lit-html",{createHTML:function(t){return t}}):void 0,pc="$lit$",Xo="lit$".concat((Math.random()+"").slice(9),"$"),Ph="?"+Xo,zC="<".concat(Ph,">"),Qa=document,vc=function(){return Qa.createComment("")},Vl=function(t){return t===null||typeof t!="object"&&typeof t!="function"},vg=Array.isArray,mg=function(t){return vg(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function"},Ih="[ 	\n\f\r]",Wl=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,gg=/-->/g,yg=/>/g,Ja=RegExp(">|".concat(Ih,"(?:([^\\s\"'>=/]+)(").concat(Ih,"*=").concat(Ih,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),bg=/'/g,wg=/"/g,_g=/^(?:script|style|textarea|title)$/i,kg=function(t){return function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),l=1;l<n;l++)o[l-1]=arguments[l];return{_$litType$:t,strings:e,values:o}}},mP=kg(1),gP=kg(2),ql=Symbol.for("lit-noChange"),zi=Symbol.for("lit-nothing"),xg=new WeakMap,Za=Qa.createTreeWalker(Qa,129,null,!1),Sg=function(t,e){for(var n=t.length-1,o=[],l,a=e===2?"<svg>":"",s=Wl,r=0;r<n;r++){for(var d=t[r],c=void 0,h=void 0,f=-1,v=0;v<d.length&&(s.lastIndex=v,h=s.exec(d),h!==null);)v=s.lastIndex,s===Wl?h[1]==="!--"?s=gg:h[1]!==void 0?s=yg:h[2]!==void 0?(_g.test(h[2])&&(l=RegExp("</"+h[2],"g")),s=Ja):h[3]!==void 0&&(s=Ja):s===Ja?h[0]===">"?(s=l!=null?l:Wl,f=-1):h[1]===void 0?f=-2:(f=s.lastIndex-h[2].length,c=h[1],s=h[3]===void 0?Ja:h[3]==='"'?wg:bg):s===wg||s===bg?s=Ja:s===gg||s===yg?s=Wl:(s=Ja,l=void 0);var b=s===Ja&&t[r+1].startsWith("/>")?" ":"";a+=s===Wl?d+zC:f>=0?(o.push(c),d.slice(0,f)+pc+d.slice(f)+Xo+b):d+Xo+(f===-2?(o.push(void 0),r):b)}return[tx(t,a+(t[n]||"<?>")+(e===2?"</svg>":"")),o]},Mh=function(){"use strict";function t(e,n){var o=e.strings,l=e._$litType$;_classCallCheck(this,t);var a;this.parts=[];var s=0,r=0,d=o.length-1,c=this.parts,h=_slicedToArray(Sg(o,l),2),f=h[0],v=h[1];if(this.el=t.createElement(f,n),Za.currentNode=this.el.content,l===2){var b,w=this.el.content,k=w.firstChild;k.remove(),(b=w).append.apply(b,_toConsumableArray(k.childNodes))}for(;(a=Za.nextNode())!==null&&c.length<d;){if(a.nodeType===1){if(a.hasAttributes()){var C=[],E=!0,A=!1,j=void 0;try{for(var y=a.getAttributeNames()[Symbol.iterator](),u;!(E=(u=y.next()).done);E=!0){var p=u.value;if(p.endsWith(pc)||p.startsWith(Xo)){var m=v[r++];if(C.push(p),m!==void 0){var _=a.getAttribute(m.toLowerCase()+pc).split(Xo),x=/([.?@])?(.*)/.exec(m);c.push({type:1,index:s,name:x[2],strings:_,ctor:x[1]==="."?Ag:x[1]==="?"?Og:x[1]==="@"?jg:Gl})}else c.push({type:6,index:s})}}}catch(F){A=!0,j=F}finally{try{!E&&y.return!=null&&y.return()}finally{if(A)throw j}}var O=!0,I=!1,P=void 0;try{for(var D=C[Symbol.iterator](),V;!(O=(V=D.next()).done);O=!0){var q=V.value;a.removeAttribute(q)}}catch(F){I=!0,P=F}finally{try{!O&&D.return!=null&&D.return()}finally{if(I)throw P}}}if(_g.test(a.tagName)){var z=a.textContent.split(Xo),he=z.length-1;if(he>0){a.textContent=Ws?Ws.emptyScript:"";for(var Y=0;Y<he;Y++)a.append(z[Y],vc()),Za.nextNode(),c.push({type:2,index:++s});a.append(z[he],vc())}}}else if(a.nodeType===8)if(a.data===Ph)c.push({type:2,index:s});else for(var B=-1;(B=a.data.indexOf(Xo,B+1))!==-1;)c.push({type:7,index:s}),B+=Xo.length-1;s++}}return _createClass(t,null,[{key:"createElement",value:function(n,o){var l=Qa.createElement("template");return l.innerHTML=n,l}}]),t}(),Cg=function(){"use strict";function t(e,n){_classCallCheck(this,t),this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}return _createClass(t,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(n){var o,l=this._$AD,a=l.el,s=a.content,r=l.parts,d=((o=n==null?void 0:n.creationScope)!==null&&o!==void 0?o:Qa).importNode(s,!0);Za.currentNode=d;for(var c=Za.nextNode(),h=0,f=0,v=r[0];v!==void 0;){if(h===v.index){var b=void 0;v.type===2?b=new Lh(c,c.nextSibling,this,n):v.type===1?b=new v.ctor(c,v.name,v.strings,this,n):v.type===6&&(b=new Eg(c,this,n)),this._$AV.push(b),v=r[++f]}h!==(v==null?void 0:v.index)&&(c=Za.nextNode(),h++)}return Za.currentNode=Qa,d}},{key:"v",value:function(n){var o=0,l=!0,a=!1,s=void 0;try{for(var r=this._$AV[Symbol.iterator](),d;!(l=(d=r.next()).done);l=!0){var c=d.value;c!==void 0&&(c.strings!==void 0?(c._$AI(n,c,o),o+=c.strings.length-2):c._$AI(n[o])),o++}}catch(h){a=!0,s=h}finally{try{!l&&r.return!=null&&r.return()}finally{if(a)throw s}}}}]),t}(),Lh=function(){"use strict";function t(e,n,o,l){_classCallCheck(this,t);var a;this.type=2,this._$AH=zi,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=o,this.options=l,this._$Cp=(a=l==null?void 0:l.isConnected)===null||a===void 0||a}return _createClass(t,[{key:"_$AU",get:function(){var n,o;return(o=(n=this._$AM)===null||n===void 0?void 0:n._$AU)!==null&&o!==void 0?o:this._$Cp}},{key:"parentNode",get:function(){var n=this._$AA.parentNode,o=this._$AM;return o!==void 0&&(n==null?void 0:n.nodeType)===11&&(n=o.parentNode),n}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;n=Vs(this,n,o),Vl(n)?n===zi||n==null||n===""?(this._$AH!==zi&&this._$AR(),this._$AH=zi):n!==this._$AH&&n!==ql&&this._(n):n._$litType$!==void 0?this.g(n):n.nodeType!==void 0?this.$(n):mg(n)?this.T(n):this._(n)}},{key:"k",value:function(n){return this._$AA.parentNode.insertBefore(n,this._$AB)}},{key:"$",value:function(n){this._$AH!==n&&(this._$AR(),this._$AH=this.k(n))}},{key:"_",value:function(n){this._$AH!==zi&&Vl(this._$AH)?this._$AA.nextSibling.data=n:this.$(Qa.createTextNode(n)),this._$AH=n}},{key:"g",value:function(n){var o,l=n.values,a=n._$litType$,s=typeof a=="number"?this._$AC(n):(a.el===void 0&&(a.el=Mh.createElement(tx(a.h,a.h[0]),this.options)),a);if(((o=this._$AH)===null||o===void 0?void 0:o._$AD)===s)this._$AH.v(l);else{var r=new Cg(s,this),d=r.u(this.options);r.v(l),this.$(d),this._$AH=r}}},{key:"_$AC",value:function(n){var o=xg.get(n.strings);return o===void 0&&xg.set(n.strings,o=new Mh(n)),o}},{key:"T",value:function(n){vg(this._$AH)||(this._$AH=[],this._$AR());var o=this._$AH,l,a=0,s=!0,r=!1,d=void 0;try{for(var c=n[Symbol.iterator](),h;!(s=(h=c.next()).done);s=!0){var f=h.value;a===o.length?o.push(l=new t(this.k(vc()),this.k(vc()),this,this.options)):l=o[a],l._$AI(f),a++}}catch(v){r=!0,d=v}finally{try{!s&&c.return!=null&&c.return()}finally{if(r)throw d}}a<o.length&&(this._$AR(l&&l._$AB.nextSibling,a),o.length=a)}},{key:"_$AR",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,o=arguments.length>1?arguments[1]:void 0,l;for((l=this._$AP)===null||l===void 0||l.call(this,!1,!0,o);n&&n!==this._$AB;){var a=n.nextSibling;n.remove(),n=a}}},{key:"setConnected",value:function(n){var o;this._$AM===void 0&&(this._$Cp=n,(o=this._$AP)===null||o===void 0||o.call(this,n))}}]),t}(),Gl=function(){"use strict";function t(e,n,o,l,a){_classCallCheck(this,t),this.type=1,this._$AH=zi,this._$AN=void 0,this.element=e,this.name=n,this._$AM=l,this.options=a,o.length>2||o[0]!==""||o[1]!==""?(this._$AH=Array(o.length-1).fill(new String),this.strings=o):this._$AH=zi}return _createClass(t,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,l=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=this.strings,r=!1;if(s===void 0)n=Vs(this,n,o,0),r=!Vl(n)||n!==this._$AH&&n!==ql,r&&(this._$AH=n);else{var d=n,c,h;for(n=s[0],c=0;c<s.length-1;c++)h=Vs(this,d[l+c],o,c),h===ql&&(h=this._$AH[c]),r||(r=!Vl(h)||h!==this._$AH[c]),h===zi?n=zi:n!==zi&&(n+=(h!=null?h:"")+s[c+1]),this._$AH[c]=h}r&&!a&&this.j(n)}},{key:"j",value:function(n){n===zi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,n!=null?n:"")}}]),t}(),Ag=function(t){"use strict";_inherits(n,t);var e=_createSuper(n);function n(){_classCallCheck(this,n);var o;return o=e.call.apply(e,[this].concat(Array.prototype.slice.call(arguments))),o.type=3,_possibleConstructorReturn(o)}return _createClass(n,[{key:"j",value:function(l){this.element[this.name]=l===zi?void 0:l}}]),n}(Gl),FC=Ws?Ws.emptyScript:"",Og=function(t){"use strict";_inherits(n,t);var e=_createSuper(n);function n(){_classCallCheck(this,n);var o;return o=e.call.apply(e,[this].concat(Array.prototype.slice.call(arguments))),o.type=4,_possibleConstructorReturn(o)}return _createClass(n,[{key:"j",value:function(l){l&&l!==zi?this.element.setAttribute(this.name,FC):this.element.removeAttribute(this.name)}}]),n}(Gl),jg=function(t){"use strict";_inherits(n,t);var e=_createSuper(n);function n(o,l,a,s,r){_classCallCheck(this,n);var d;return d=e.call(this,o,l,a,s,r),d.type=5,_possibleConstructorReturn(d)}return _createClass(n,[{key:"_$AI",value:function(l){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,s;if((l=(s=Vs(this,l,a,0))!==null&&s!==void 0?s:zi)!==ql){var r=this._$AH,d=l===zi&&r!==zi||l.capture!==r.capture||l.once!==r.once||l.passive!==r.passive,c=l!==zi&&(r===zi||d);d&&this.element.removeEventListener(this.name,this,r),c&&this.element.addEventListener(this.name,this,l),this._$AH=l}}},{key:"handleEvent",value:function(l){var a,s;typeof this._$AH=="function"?this._$AH.call((s=(a=this.options)===null||a===void 0?void 0:a.host)!==null&&s!==void 0?s:this.element,l):this._$AH.handleEvent(l)}}]),n}(Gl),Eg=function(){"use strict";function t(e,n,o){_classCallCheck(this,t),this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=o}return _createClass(t,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(n){Vs(this,n)}}]),t}(),HC={O:pc,P:Xo,A:Ph,C:1,M:Sg,L:Cg,R:mg,D:Vs,I:Lh,V:Gl,H:Og,N:jg,U:Ag,F:Eg},Tg=fc.litHtmlPolyfillSupport,Tg==null||Tg(Mh,Lh),((fg=fc.litHtmlVersions)!==null&&fg!==void 0?fg:fc.litHtmlVersions=[]).push("2.8.0");var g;g=HC,UC=g.I,Pg=function(t,e){return e===void 0?(t==null?void 0:t._$litType$)!==void 0:(t==null?void 0:t._$litType$)===e},VC=function(t){var e;return((e=t==null?void 0:t._$litType$)===null||e===void 0?void 0:e.h)!=null},Ig=function(){return document.createComment("")},es=function(t,e,n){var o,l=t._$AA.parentNode,a=e===void 0?t._$AB:e._$AA;if(n===void 0){var s=l.insertBefore(Ig(),a),r=l.insertBefore(Ig(),a);n=new UC(s,r,t,t.options)}else{var d=n._$AB.nextSibling,c=n._$AM,h=c!==t;if(h){var f;(o=n._$AQ)===null||o===void 0||o.call(n,t),n._$AM=t,n._$AP!==void 0&&(f=t._$AU)!==c._$AU&&n._$AP(f)}if(d!==a||h)for(var v=n._$AA;v!==d;){var b=v.nextSibling;l.insertBefore(v,a),v=b}}return n},ts=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t;return t._$AI(e,n),t},WC={},Rh=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:WC;return t._$AH=e},Dh=function(t){return t._$AH},$h=function(t){var e;(e=t._$AP)===null||e===void 0||e.call(t,!1,!0);for(var n=t._$AA,o=t._$AB.nextSibling;n!==o;){var l=n.nextSibling;n.remove(),n=l}},qC=function(t){t._$AR()}}});function Yl(g,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g,n=arguments.length>3?arguments[3]:void 0,o,l,a,s;if(t===Gs)return t;var r=n!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[n]:e._$Cl,d=Xl(t)?void 0:t._$litDirective$;return(r==null?void 0:r.constructor)!==d&&((l=r==null?void 0:r._$AO)===null||l===void 0||l.call(r,!1),d===void 0?r=void 0:(r=new d(g),r._$AT(g,e,n)),n!==void 0?((a=(s=e)._$Co)!==null&&a!==void 0?a:s._$Co=[])[n]=r:e._$Cl=r),r!==void 0&&(t=Yl(g,r._$AS(g,t.values),r,n)),t}var Mg,mc,qs,Lg,Nh,Ca,Rg,YC,ns,gc,Xl,Dg,XC,Bh,Kl,$g,Ng,rs,Bg,zg,Fg,Hg,yP,bP,Gs,Fi,Ug,is,KC,zh,QC,Vg,yc,JC,ZC,e8,t8,n8,Wg,qg,Ql,wP=Ht({"https-url:https://esm.archive.org/v135/lit-html@2.8.0/esnext/directives/repeat.js":function(){hc(),GC(),mc=window,qs=mc.trustedTypes,Lg=qs?qs.createPolicy("lit-html",{createHTML:function(g){return g}}):void 0,Nh="$lit$",Ca="lit$".concat((Math.random()+"").slice(9),"$"),Rg="?"+Ca,YC="<".concat(Rg,">"),ns=document,gc=function(){return ns.createComment("")},Xl=function(g){return g===null||typeof g!="object"&&typeof g!="function"},Dg=Array.isArray,XC=function(g){return Dg(g)||typeof(g==null?void 0:g[Symbol.iterator])=="function"},Bh="[ 	\n\f\r]",Kl=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,$g=/-->/g,Ng=/>/g,rs=RegExp(">|".concat(Bh,"(?:([^\\s\"'>=/]+)(").concat(Bh,"*=").concat(Bh,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),Bg=/'/g,zg=/"/g,Fg=/^(?:script|style|textarea|title)$/i,Hg=function(g){return function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return{_$litType$:g,strings:t,values:n}}},yP=Hg(1),bP=Hg(2),Gs=Symbol.for("lit-noChange"),Fi=Symbol.for("lit-nothing"),Ug=new WeakMap,is=ns.createTreeWalker(ns,129,null,!1),KC=function(g,t){for(var e=g.length-1,n=[],o,l=t===2?"<svg>":"",a=Kl,s=0;s<e;s++){for(var r=g[s],d=void 0,c=void 0,h=-1,f=0;f<r.length&&(a.lastIndex=f,c=a.exec(r),c!==null);)f=a.lastIndex,a===Kl?c[1]==="!--"?a=$g:c[1]!==void 0?a=Ng:c[2]!==void 0?(Fg.test(c[2])&&(o=RegExp("</"+c[2],"g")),a=rs):c[3]!==void 0&&(a=rs):a===rs?c[0]===">"?(a=o!=null?o:Kl,h=-1):c[1]===void 0?h=-2:(h=a.lastIndex-c[2].length,d=c[1],a=c[3]===void 0?rs:c[3]==='"'?zg:Bg):a===zg||a===Bg?a=rs:a===$g||a===Ng?a=Kl:(a=rs,o=void 0);var v=a===rs&&g[s+1].startsWith("/>")?" ":"";l+=a===Kl?r+YC:h>=0?(n.push(d),r.slice(0,h)+Nh+r.slice(h)+Ca+v):r+Ca+(h===-2?(n.push(void 0),s):v)}return[nx(g,l+(g[e]||"<?>")+(t===2?"</svg>":"")),n]},zh=function(){"use strict";function g(t,e){var n=t.strings,o=t._$litType$;_classCallCheck(this,g);var l;this.parts=[];var a=0,s=0,r=n.length-1,d=this.parts,c=_slicedToArray(KC(n,o),2),h=c[0],f=c[1];if(this.el=g.createElement(h,e),is.currentNode=this.el.content,o===2){var v,b=this.el.content,w=b.firstChild;w.remove(),(v=b).append.apply(v,_toConsumableArray(w.childNodes))}for(;(l=is.nextNode())!==null&&d.length<r;){if(l.nodeType===1){if(l.hasAttributes()){var k=[],C=!0,E=!1,A=void 0;try{for(var j=l.getAttributeNames()[Symbol.iterator](),y;!(C=(y=j.next()).done);C=!0){var u=y.value;if(u.endsWith(Nh)||u.startsWith(Ca)){var p=f[s++];if(k.push(u),p!==void 0){var m=l.getAttribute(p.toLowerCase()+Nh).split(Ca),_=/([.?@])?(.*)/.exec(p);d.push({type:1,index:a,name:_[2],strings:m,ctor:_[1]==="."?JC:_[1]==="?"?e8:_[1]==="@"?t8:yc})}else d.push({type:6,index:a})}}}catch(B){E=!0,A=B}finally{try{!C&&j.return!=null&&j.return()}finally{if(E)throw A}}var x=!0,O=!1,I=void 0;try{for(var P=k[Symbol.iterator](),D;!(x=(D=P.next()).done);x=!0){var V=D.value;l.removeAttribute(V)}}catch(B){O=!0,I=B}finally{try{!x&&P.return!=null&&P.return()}finally{if(O)throw I}}}if(Fg.test(l.tagName)){var q=l.textContent.split(Ca),z=q.length-1;if(z>0){l.textContent=qs?qs.emptyScript:"";for(var he=0;he<z;he++)l.append(q[he],gc()),is.nextNode(),d.push({type:2,index:++a});l.append(q[z],gc())}}}else if(l.nodeType===8)if(l.data===Rg)d.push({type:2,index:a});else for(var Y=-1;(Y=l.data.indexOf(Ca,Y+1))!==-1;)d.push({type:7,index:a}),Y+=Ca.length-1;a++}}return _createClass(g,null,[{key:"createElement",value:function(e,n){var o=ns.createElement("template");return o.innerHTML=e,o}}]),g}(),QC=function(){"use strict";function g(t,e){_classCallCheck(this,g),this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}return _createClass(g,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var n,o=this._$AD,l=o.el,a=l.content,s=o.parts,r=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:ns).importNode(a,!0);is.currentNode=r;for(var d=is.nextNode(),c=0,h=0,f=s[0];f!==void 0;){if(c===f.index){var v=void 0;f.type===2?v=new Vg(d,d.nextSibling,this,e):f.type===1?v=new f.ctor(d,f.name,f.strings,this,e):f.type===6&&(v=new n8(d,this,e)),this._$AV.push(v),f=s[++h]}c!==(f==null?void 0:f.index)&&(d=is.nextNode(),c++)}return is.currentNode=ns,r}},{key:"v",value:function(e){var n=0,o=!0,l=!1,a=void 0;try{for(var s=this._$AV[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var d=r.value;d!==void 0&&(d.strings!==void 0?(d._$AI(e,d,n),n+=d.strings.length-2):d._$AI(e[n])),n++}}catch(c){l=!0,a=c}finally{try{!o&&s.return!=null&&s.return()}finally{if(l)throw a}}}}]),g}(),Vg=function(){"use strict";function g(t,e,n,o){_classCallCheck(this,g);var l;this.type=2,this._$AH=Fi,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=o,this._$Cp=(l=o==null?void 0:o.isConnected)===null||l===void 0||l}return _createClass(g,[{key:"_$AU",get:function(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cp}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=Yl(this,e,n),Xl(e)?e===Fi||e==null||e===""?(this._$AH!==Fi&&this._$AR(),this._$AH=Fi):e!==this._$AH&&e!==Gs&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):XC(e)?this.T(e):this._(e)}},{key:"k",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"$",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}},{key:"_",value:function(e){this._$AH!==Fi&&Xl(this._$AH)?this._$AA.nextSibling.data=e:this.$(ns.createTextNode(e)),this._$AH=e}},{key:"g",value:function(e){var n,o=e.values,l=e._$litType$,a=typeof l=="number"?this._$AC(e):(l.el===void 0&&(l.el=zh.createElement(nx(l.h,l.h[0]),this.options)),l);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===a)this._$AH.v(o);else{var s=new QC(a,this),r=s.u(this.options);s.v(o),this.$(r),this._$AH=s}}},{key:"_$AC",value:function(e){var n=Ug.get(e.strings);return n===void 0&&Ug.set(e.strings,n=new zh(e)),n}},{key:"T",value:function(e){Dg(this._$AH)||(this._$AH=[],this._$AR());var n=this._$AH,o,l=0,a=!0,s=!1,r=void 0;try{for(var d=e[Symbol.iterator](),c;!(a=(c=d.next()).done);a=!0){var h=c.value;l===n.length?n.push(o=new g(this.k(gc()),this.k(gc()),this,this.options)):o=n[l],o._$AI(h),l++}}catch(f){s=!0,r=f}finally{try{!a&&d.return!=null&&d.return()}finally{if(s)throw r}}l<n.length&&(this._$AR(o&&o._$AB.nextSibling,l),n.length=l)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,n);e&&e!==this._$AB;){var l=e.nextSibling;e.remove(),e=l}}},{key:"setConnected",value:function(e){var n;this._$AM===void 0&&(this._$Cp=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}]),g}(),yc=function(){"use strict";function g(t,e,n,o,l){_classCallCheck(this,g),this.type=1,this._$AH=Fi,this._$AN=void 0,this.element=t,this.name=e,this._$AM=o,this.options=l,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Fi}return _createClass(g,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,a=this.strings,s=!1;if(a===void 0)e=Yl(this,e,n,0),s=!Xl(e)||e!==this._$AH&&e!==Gs,s&&(this._$AH=e);else{var r=e,d,c;for(e=a[0],d=0;d<a.length-1;d++)c=Yl(this,r[o+d],n,d),c===Gs&&(c=this._$AH[d]),s||(s=!Xl(c)||c!==this._$AH[d]),c===Fi?e=Fi:e!==Fi&&(e+=(c!=null?c:"")+a[d+1]),this._$AH[d]=c}s&&!l&&this.j(e)}},{key:"j",value:function(e){e===Fi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),g}(),JC=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=3,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===Fi?void 0:o}}]),e}(yc),ZC=qs?qs.emptyScript:"",e8=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=4,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){o&&o!==Fi?this.element.setAttribute(this.name,ZC):this.element.removeAttribute(this.name)}}]),e}(yc),t8=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n,o,l,a,s){_classCallCheck(this,e);var r;return r=t.call(this,n,o,l,a,s),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,a;if((o=(a=Yl(this,o,l,0))!==null&&a!==void 0?a:Fi)!==Gs){var s=this._$AH,r=o===Fi&&s!==Fi||o.capture!==s.capture||o.once!==s.once||o.passive!==s.passive,d=o!==Fi&&(s===Fi||r);r&&this.element.removeEventListener(this.name,this,s),d&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var l,a;typeof this._$AH=="function"?this._$AH.call((a=(l=this.options)===null||l===void 0?void 0:l.host)!==null&&a!==void 0?a:this.element,o):this._$AH.handleEvent(o)}}]),e}(yc),n8=function(){"use strict";function g(t,e,n){_classCallCheck(this,g),this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}return _createClass(g,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){Yl(this,e)}}]),g}(),Wg=mc.litHtmlPolyfillSupport,Wg==null||Wg(zh,Vg),((Mg=mc.litHtmlVersions)!==null&&Mg!==void 0?Mg:mc.litHtmlVersions=[]).push("2.8.0"),qg=function(g,t,e){for(var n=new Map,o=t;o<=e;o++)n.set(g[o],o);return n},Ql=Hl(function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o;if(o=t.call(this,n),n.type!==dc.CHILD)throw Error("repeat() can only be used in text expressions");return _possibleConstructorReturn(o)}return _createClass(e,[{key:"ct",value:function(o,l,a){var s;a===void 0?a=l:l!==void 0&&(s=l);var r=[],d=[],c=0,h=!0,f=!1,v=void 0;try{for(var b=o[Symbol.iterator](),w;!(h=(w=b.next()).done);h=!0){var k=w.value;r[c]=s?s(k,c):c,d[c]=a(k,c),c++}}catch(C){f=!0,v=C}finally{try{!h&&b.return!=null&&b.return()}finally{if(f)throw v}}return{values:d,keys:r}}},{key:"render",value:function(o,l,a){return this.ct(o,l,a).values}},{key:"update",value:function(o,l){var a=_slicedToArray(l,3),s=a[0],r=a[1],d=a[2],c,h=Dh(o),f=this.ct(s,r,d),v=f.values,b=f.keys;if(!Array.isArray(h))return this.ut=b,v;for(var w=(c=this.ut)!==null&&c!==void 0?c:this.ut=[],k=[],C,E,A=0,j=h.length-1,y=0,u=v.length-1;A<=j&&y<=u;)if(h[A]===null)A++;else if(h[j]===null)j--;else if(w[A]===b[y])k[y]=ts(h[A],v[y]),A++,y++;else if(w[j]===b[u])k[u]=ts(h[j],v[u]),j--,u--;else if(w[A]===b[u])k[u]=ts(h[A],v[u]),es(o,k[u+1],h[A]),A++,u--;else if(w[j]===b[y])k[y]=ts(h[j],v[y]),es(o,h[A],h[j]),j--,y++;else if(C===void 0&&(C=qg(b,y,u),E=qg(w,A,j)),C.has(w[A]))if(C.has(w[j])){var p=E.get(b[y]),m=p!==void 0?h[p]:null;if(m===null){var _=es(o,h[A]);ts(_,v[y]),k[y]=_}else k[y]=ts(m,v[y]),es(o,h[A],m),h[p]=null;y++}else $h(h[j]),j--;else $h(h[A]),A++;for(;y<=u;){var x=es(o,k[u+1]);ts(x,v[y]),k[y++]=x}for(;A<=j;){var O=h[A++];O!==null&&$h(O)}return this.ut=b,Rh(o,k),Gs}}]),e}(Ul))}}),Jl=Ht({"https-url:https://esm.archive.org/v135/lit@2.8.0/esnext/directives/repeat.js":function(){wP()}}),r8,Fh,Gg,i8,o8,Ko,a8,Aa,Hh,Uh,Hi,Yg,_P,Eo,s8,l8,u8,kP,Zl,os,c8=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/ia-item-navigator@2.1.2/esnext/ia-item-navigator.mjs":function(){Fr(),xn(),Wr(),fP(),pP(),Fr(),xn(),Wr(),xn(),vP(),Fr(),xn(),Wr(),xn(),Fr(),xn(),Wr(),Fr(),xn(),Wr(),Fr(),xn(),Wr(),_C(),SC(),OC(),TC(),MC(),DC(),BC(),Fr(),xn(),Wr(),Jl(),r8=Ut(_templateObject125()),Fh=Ut(_templateObject126()),Gg=Ut(_templateObject127()),i8=Ut(_templateObject128(),Gg,Fh,Fh,r8,Fh,Gg),o8=Ut(_templateObject129()),Ko=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.icon="",n.href="",n.label="",n.menuDetails="",n.buttonId="",n.selected=!1,n.followable=!1,_possibleConstructorReturn(n)}return _createClass(e,[{key:"onClick",value:function(o){o.preventDefault(),this.dispatchMenuTypeSelectedEvent()}},{key:"dispatchMenuTypeSelectedEvent",value:function(){this.dispatchEvent(new CustomEvent("menuTypeSelected",{bubbles:!0,composed:!0,detail:{id:this.buttonId}}))}},{key:"buttonClass",get:function(){return this.selected?"selected":""}},{key:"iconClass",get:function(){return this.selected?"active":""}},{key:"menuItem",get:function(){return xt(_templateObject130(),this.iconClass,this.icon,this.label,this.menuDetails)}},{key:"linkButton",get:function(){return xt(_templateObject131(),this.href,this.buttonClass,this.followable?void 0:this.onClick,this.menuItem)}},{key:"clickButton",get:function(){return xt(_templateObject132(),this.buttonClass,this.onClick,this.menuItem)}},{key:"render",value:function(){return this.href?this.linkButton:this.clickButton}}],[{key:"styles",get:function(){return o8}}]),e}(er),tt([on({type:String})],Ko.prototype,"icon",void 0),tt([on({type:String})],Ko.prototype,"href",void 0),tt([on({type:String})],Ko.prototype,"label",void 0),tt([on({type:String})],Ko.prototype,"menuDetails",void 0),tt([on({type:String})],Ko.prototype,"buttonId",void 0),tt([on({type:Boolean})],Ko.prototype,"selected",void 0),tt([on({type:Boolean})],Ko.prototype,"followable",void 0),Ko=tt([Qr("menu-button")],Ko),a8={closeDrawer:"menuSliderClosed"},Aa=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.menus=[],n.open=!1,n.manuallyHandleClose=!1,n.selectedMenu="",n.selectedMenuAction=Vn,n.animateMenuOpen=!1,_possibleConstructorReturn(n)}return _createClass(e,[{key:"updated",value:function(){var o=this.selectedMenuDetails||{},l=o.actionButton;l!==this.selectedMenuAction&&(this.selectedMenuAction=l||Vn)}},{key:"setSelectedMenu",value:function(o){var l=o.detail,a=l.id;this.selectedMenu=this.selectedMenu===a?"":a;var s=this.selectedMenuDetails||{},r=s.actionButton;this.selectedMenuAction=r||Vn}},{key:"closeMenu",value:function(){this.manuallyHandleClose||(this.open=!1);var o=a8.closeDrawer,l=new CustomEvent(o,{detail:this.selectedMenuDetails});this.dispatchEvent(l)}},{key:"selectedMenuDetails",get:function(){var o=this;return this.menus.find(function(l){return l.id===o.selectedMenu})}},{key:"selectedMenuComponent",get:function(){var o=this.selectedMenuDetails;return o&&(o!=null&&o.component)?o.component:xt(_templateObject133())}},{key:"sliderDetailsClass",get:function(){var o=this.animateMenuOpen?"animate":"",l=this.open?"open":"";return"".concat(o," ").concat(l)}},{key:"selectedMenuClass",get:function(){return this.selectedMenu?"open":""}},{key:"menuItems",get:function(){var o=this;return this.menus.map(function(l){return xt(_templateObject134(),o.setSelectedMenu,l.icon,l.label,l.menuDetails,l.id,l.id===o.selectedMenu,l.followable,l.href)})}},{key:"renderMenuHeader",get:function(){var o=this.selectedMenuDetails||{},l=o.label,a=l===void 0?"":l,s=o.menuDetails,r=s===void 0?"":s,d=this.selectedMenuAction?"with-secondary-action":"",c=this.selectedMenuAction?xt(_templateObject135(),this.selectedMenuAction):Vn;return xt(_templateObject136(),d,a,r,c,this.closeButton)}},{key:"closeButton",get:function(){return xt(_templateObject137(),this.closeMenu)}},{key:"render",value:function(){return xt(_templateObject138(),this.sliderDetailsClass,this.closeButton,this.menuItems,this.selectedMenuClass,this.setSelectedMenu,this.renderMenuHeader,this.selectedMenuComponent)}}],[{key:"styles",get:function(){return i8}}]),e}(er),tt([on({type:Array})],Aa.prototype,"menus",void 0),tt([on({type:Boolean})],Aa.prototype,"open",void 0),tt([on({type:Boolean})],Aa.prototype,"manuallyHandleClose",void 0),tt([on({type:String})],Aa.prototype,"selectedMenu",void 0),tt([on({type:Object})],Aa.prototype,"selectedMenuAction",void 0),tt([on({type:Boolean})],Aa.prototype,"animateMenuOpen",void 0),Aa=tt([Qr("ia-menu-slider")],Aa),Hh=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.loaderMessage="",_possibleConstructorReturn(n)}return _createClass(e,[{key:"bookIconSvg",get:function(){return Do(_templateObject139())}},{key:"icon",get:function(){return this.bookIconSvg}},{key:"loader",get:function(){return Do(_templateObject140(),this.icon)}},{key:"render",value:function(){var o=this.loaderMessage?xt(_templateObject141(),this.loaderMessage):Vn;return xt(_templateObject142(),o,this.loader)}}],[{key:"styles",get:function(){return Ut(_templateObject143())}}]),e}(er),tt([on({type:String})],Hh.prototype,"loaderMessage",void 0),Hh=tt([Qr("ia-itemnav-loader")],Hh),Uh=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.identifier="",_possibleConstructorReturn(n)}return _createClass(e,[{key:"emitLoaded",value:function(){this.dispatchEvent(new CustomEvent("loadingStateUpdated",{detail:{loaded:!0}}))}},{key:"updated",value:function(o){o.has("identifier")&&this.emitLoaded()}},{key:"downloadUrl",get:function(){return"/download/".concat(this.identifier)}},{key:"render",value:function(){return xt(_templateObject144(),this.downloadUrl)}}],[{key:"styles",get:function(){return Ut(_templateObject145())}}]),e}(er),tt([on({type:String})],Uh.prototype,"identifier",void 0),Uh=tt([Qr("ia-no-theater-available")],Uh),Hi=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.viewAvailable=!0,n.baseHost="archive.org",n.signedIn=!1,n.menuContents=[],n.menuShortcuts=[],n.viewportInFullscreen=null,n.menuOpened=!1,n.loaded=!1,n.openMenuState="shift",_possibleConstructorReturn(n)}return _createClass(e,[{key:"disconnectedCallback",value:function(){this.removeResizeObserver()}},{key:"updated",value:function(o){if(o.has("sharedObserver")){var l=o.get("sharedObserver");l==null||l.removeObserver(this.resizeObserverConfig),this.setResizeObserver()}}},{key:"handleResize",value:function(o){var l=o.contentRect,a=l.width;if(a<=600){this.openMenuState="overlay";return}this.openMenuState="shift"}},{key:"setResizeObserver",value:function(){var o=this,l,a;(l=this.sharedObserver)===null||l===void 0||l.addObserver(this.resizeObserverConfig),(a=this.sharedObserver)===null||a===void 0||a.addObserver({target:this.headerSlot,handler:{handleResize:function(s){var r=s.contentRect;r.height&&o.requestUpdate()}}})}},{key:"removeResizeObserver",value:function(){var o;(o=this.sharedObserver)===null||o===void 0||o.removeObserver(this.resizeObserverConfig)}},{key:"resizeObserverConfig",get:function(){return{handler:this,target:this.frame}}},{key:"loaderTitle",get:function(){return this.viewportInFullscreen?"Internet Archive":""}},{key:"loadingArea",get:function(){return xt(_templateObject146(),this.loaderTitle)}},{key:"slotChange",value:function(o,l){var a,s=(a=o.target.assignedNodes())===null||a===void 0?void 0:a[0];this.dispatchEvent(new CustomEvent("slotChange",{detail:{slot:s,type:l}})),this.requestUpdate()}},{key:"render",value:function(){var o=this,l,a,s=this.loaded?"":"hidden",r=((a=(l=this.headerSlot)===null||l===void 0?void 0:l.assignedNodes()[0])===null||a===void 0?void 0:a.offsetHeight)||0;return xt(_templateObject147(),this.menuClass,"height: ".concat(r,"px"),function(d){return o.slotChange(d,"header")},this.shouldRenderMenu?this.renderSideMenu:Vn,s,this.renderViewport,this.loaded?Vn:this.loadingArea)}},{key:"noTheaterView",get:function(){var o,l;return xt(_templateObject148(),(l=(o=this.item)===null||o===void 0?void 0:o.metadata)===null||l===void 0?void 0:l.identifier,this.loadingStateUpdated)}},{key:"renderViewport",get:function(){var o=this;if(!this.viewAvailable)return this.noTheaterView;var l=this.loaded?"opacity: 1;":"opacity: 0;";return xt(_templateObject149(),l,function(a){return o.slotChange(a,"main")})}},{key:"loadingStateUpdated",value:function(o){var l=o.detail,a=l.loaded;this.loaded=a!=null?a:!1}},{key:"manageViewportFullscreen",value:function(o){var l=!!o.detail.isFullScreen;this.viewportInFullscreen=l||null;var a=new CustomEvent("fullscreenToggled",{detail:o.detail});this.dispatchEvent(a)}},{key:"shouldRenderMenu",get:function(){var o;return!!(!((o=this.menuContents)===null||o===void 0)&&o.length)}},{key:"toggleMenu",value:function(){this.menuOpened=!this.menuOpened}},{key:"closeMenu",value:function(){this.menuOpened=!1}},{key:"setOpenMenu",value:function(o){var l=o.detail,a=l.id;this.openMenu=a!==this.openMenu?a:void 0}},{key:"setMenuContents",value:function(o){var l=_toConsumableArray(o.detail);this.menuContents=l}},{key:"setMenuShortcuts",value:function(o){this.menuShortcuts=_toConsumableArray(o.detail)}},{key:"manageSideMenuEvents",value:function(o){var l=o.detail,a=l.menuId,s=l.action;a&&(s==="open"?this.openShortcut(a):s==="toggle"&&(this.openMenu=a,this.toggleMenu()))}},{key:"menuToggleButton",get:function(){return xt(_templateObject150(),this.toggleMenu)}},{key:"selectedMenuId",get:function(){return this.openMenu||""}},{key:"renderSideMenu",get:function(){var o=this.menuOpened?"":"hidden";return xt(_templateObject151(),this.shortcuts,this.menuToggleButton,o,this.menuContents,this.selectedMenuId,this.setOpenMenu,this.closeMenu)}},{key:"openShortcut",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";this.openMenu=o,this.menuOpened=!0}},{key:"shortcuts",get:function(){var o=this,l=this.menuShortcuts.map(function(a){var s=a.icon,r=a.id;return r==="fullscreen"?xt(_templateObject152(),s):xt(_templateObject153(),r,function(){return o.openShortcut(r)},s)});return xt(_templateObject154(),l)}},{key:"menuClass",get:function(){var o,l,a=((o=this.menuContents)===null||o===void 0?void 0:o.length)||((l=this.menuShortcuts)===null||l===void 0?void 0:l.length),s=this.menuOpened&&a?"open":"",r=this.viewportInFullscreen?"fullscreen":"";return"".concat(s," ").concat(r," ").concat(this.openMenuState)}}],[{key:"styles",get:function(){var o=Ut(_templateObject155()),l=Ut(_templateObject156()),a=Ut(_templateObject157(),l),s=Ut(_templateObject158()),r=Ut(_templateObject159());return Ut(_templateObject160(),r,s,s,s,o,o,o,a,o,a,o,o,a)}}]),e}(er),tt([on({type:Object,converter:function(g){return g&&typeof g=="string"?new cg(JSON.parse(atob(g))):g}})],Hi.prototype,"item",void 0),tt([on({type:Boolean,reflect:!0})],Hi.prototype,"viewAvailable",void 0),tt([on({type:String})],Hi.prototype,"baseHost",void 0),tt([on({type:Boolean})],Hi.prototype,"signedIn",void 0),tt([on({type:Array})],Hi.prototype,"menuContents",void 0),tt([on({type:Array})],Hi.prototype,"menuShortcuts",void 0),tt([on({type:Boolean,reflect:!0,attribute:!0})],Hi.prototype,"viewportInFullscreen",void 0),tt([on({type:Boolean,reflect:!0})],Hi.prototype,"menuOpened",void 0),tt([on({type:String,reflect:!0})],Hi.prototype,"openMenu",void 0),tt([on({attribute:!1})],Hi.prototype,"modal",void 0),tt([on({attribute:!1})],Hi.prototype,"sharedObserver",void 0),tt([on({type:Boolean,reflect:!0,attribute:!0})],Hi.prototype,"loaded",void 0),tt([to()],Hi.prototype,"openMenuState",void 0),tt([ii("#frame")],Hi.prototype,"frame",void 0),tt([ii('slot[name="header"]')],Hi.prototype,"headerSlot",void 0),tt([ii('slot[name="main"]')],Hi.prototype,"mainSlot",void 0),Hi=tt([Qr("iaux-item-navigator")],Hi),Yg=function(g){var t=g.currentTarget,e=t.querySelector("textarea"),n=t.querySelector("small");e.select(),document.execCommand("copy"),e.blur(),n.classList.add("visible"),clearTimeout(n.timeout),n.timeout=setTimeout(function(){return n.classList.remove("visible")},4e3)},_P=xt(_templateObject161()),Eo=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.baseHost="archive.org",n.creator="",n.description="",n.embedOptionsVisible=!1,n.identifier="",n.sharingOptions=[],n.type="",n.renderHeader=!1,n.fileSubPrefix="",_possibleConstructorReturn(n)}return _createClass(e,[{key:"updated",value:function(o){o.has("sharingOptions")&&!this.sharingOptions.length&&this.loadProviders()}},{key:"loadProviders",value:function(){var o="https://".concat(this.baseHost,"/details/").concat(this.identifier);this.fileSubPrefix&&(o+="/".concat(this.fileSubPrefix));var l=[this.description,this.creator,"Free Download, Borrow, and Streaming","Internet Archive"].filter(Boolean).join(" : ");this.sharingOptions=[{name:"Twitter",icon:xt(_templateObject162()),url:"https://twitter.com/intent/tweet?".concat(new URLSearchParams({url:o,text:l,via:"internetarchive"}))},{name:"Facebook",icon:xt(_templateObject163()),url:"https://www.facebook.com/sharer/sharer.php?".concat(new URLSearchParams({u:o}))},{name:"Tumblr",icon:xt(_templateObject164()),url:"https://www.tumblr.com/widgets/share/tool/preview?".concat(new URLSearchParams({posttype:"link",canonicalUrl:o,title:l}))},{name:"Pinterest",icon:xt(_templateObject165()),url:"http://www.pinterest.com/pin/create/button/?".concat(new URLSearchParams({url:o,description:l}))},{name:"Email",icon:xt(_templateObject166()),url:"mailto:?".concat(new URLSearchParams({subject:l,body:o}))}]}},{key:"iframeEmbed",get:function(){return'<iframe\n      src="https://'.concat(this.baseHost,"/embed/").concat(this.identifier,'"\n      width="560" height="384" frameborder="0"\n      webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen\n    ></iframe>')}},{key:"bbcodeEmbed",get:function(){return"[archiveorg ".concat(this.identifier," width=560 height=384 frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]")}},{key:"helpURL",get:function(){return"https://".concat(this.baseHost,"/help/audio.php?identifier=").concat(this.identifier)}},{key:"header",get:function(){var o=xt(_templateObject167(),this.type);return this.renderHeader?o:Vn}},{key:"render",value:function(){return xt(_templateObject169(),this.header,this.sharingOptions.map(function(o){return xt(_templateObject168(),o.url,o.icon,o.name)}),Yg,this.iframeEmbed,Yg,this.bbcodeEmbed,this.helpURL)}},{key:"providerIcon",get:function(){return xt(_templateObject170())}}],[{key:"styles",get:function(){return Ut(_templateObject171())}}]),e}(er),tt([on({type:String})],Eo.prototype,"baseHost",void 0),tt([on({type:String})],Eo.prototype,"creator",void 0),tt([on({type:String})],Eo.prototype,"description",void 0),tt([on({type:Boolean})],Eo.prototype,"embedOptionsVisible",void 0),tt([on({type:String})],Eo.prototype,"identifier",void 0),tt([on({type:Array})],Eo.prototype,"sharingOptions",void 0),tt([on({type:String})],Eo.prototype,"type",void 0),tt([on({type:Boolean})],Eo.prototype,"renderHeader",void 0),tt([on({type:String})],Eo.prototype,"fileSubPrefix",void 0),Eo=tt([Qr("iaux-in-share-panel")],Eo),s8=xt(_templateObject172()),l8=xt(_templateObject173()),u8=xt(_templateObject174()),kP=xt(_templateObject175()),Zl=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.fileListRaw=[],n.fileListSorted=[],n.sortOrderBy="default",_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return xt(_templateObject176(),this.sortButton)}},{key:"sortButton",get:function(){var o=this;return{default:xt(_templateObject177(),function(){return o.sortVolumes("title_asc")},u8),title_asc:xt(_templateObject178(),function(){return o.sortVolumes("title_desc")},s8),title_desc:xt(_templateObject179(),function(){return o.sortVolumes("default")},l8)}[this.sortOrderBy]}},{key:"sortVolumes",value:function(o){this.sortOrderBy=o;var l=[];l=this.fileListRaw.sort(function(a,s){return o==="title_asc"?a.title.localeCompare(s.title):o==="title_desc"?s.title.localeCompare(a.title):a.orig_sort-s.orig_sort}),this.dispatchEvent(new CustomEvent("fileListSorted",{detail:{sortType:o,sortedFiles:l},bubbles:!0,composed:!0})),this.fileListSorted=l}}],[{key:"styles",get:function(){return Ut(_templateObject180())}}]),e}(er),tt([on({type:Array})],Zl.prototype,"fileListRaw",void 0),tt([on({type:Array})],Zl.prototype,"fileListSorted",void 0),tt([on({type:String,reflect:!0})],Zl.prototype,"sortOrderBy",void 0),Zl=tt([Qr("iaux-in-sort-files-button")],Zl),os=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.baseHost="archive.org",n.sortOrderBy="default",n.subPrefix="",n.fileList=[],n.addSortToUrl=!1,_possibleConstructorReturn(n)}return _createClass(e,[{key:"firstUpdated",value:function(){var o=this.shadowRoot.querySelector(".content.active");setTimeout(function(){o!=null&&o.scrollIntoViewIfNeeded?o==null||o.scrollIntoViewIfNeeded(!0):o==null||o.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},350)}},{key:"volumeItemWithImageTitle",value:function(o){var l=this.fileUrl(o);return xt(_templateObject181(),l,o.image,o.title,o.author)}},{key:"fileUrl",value:function(o){var l="//".concat(this.baseHost).concat(o.url_path),a=l;return this.addSortToUrl&&(a=this.sortOrderBy==="default"?"".concat(l):"".concat(l,"?sort=").concat(this.sortOrderBy)),a}},{key:"pdfLabel",get:function(){return xt(_templateObject182())}},{key:"fileLi",value:function(o){var l,a=this.subPrefix===o.file_subprefix?" active":"",s=this.fileUrl(o),r=((l=o.file_source)!==null&&l!==void 0?l:"").match(/^[^+]+\.pdf$/i);return xt(_templateObject183(),a,s,o.title,r?this.pdfLabel:Vn)}},{key:"fileListTemplate",get:function(){var o=Ql(this.fileList,function(l){return l==null?void 0:l.file_prefix},this.fileLi.bind(this));return xt(_templateObject184(),o)}},{key:"render",value:function(){return xt(_templateObject185(),this.fileList.length?this.fileListTemplate:Vn)}}],[{key:"styles",get:function(){return Ut(_templateObject186())}}]),e}(er),tt([on({type:String})],os.prototype,"baseHost",void 0),tt([on({type:String})],os.prototype,"sortOrderBy",void 0),tt([on({type:String})],os.prototype,"subPrefix",void 0),tt([on({type:Array})],os.prototype,"fileList",void 0),tt([on({type:Boolean,reflect:!0})],os.prototype,"addSortToUrl",void 0),os=tt([Qr("iaux-in-viewable-files-panel")],os)}}),d8,Xg,h8,xP=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/icon-close@1.3.4/esnext/index.js":function(){xn(),xn(),d8=xt(_templateObject187()),Xg=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return d8}}],[{key:"styles",get:function(){return Ut(_templateObject188())}}]),e}(er),customElements.define("ia-icon-close",Xg),h8=Xg}}),f8,Kg,p8,SP=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/icon-ia-logo@1.3.4/esnext/index.js":function(){xn(),xn(),f8=xt(_templateObject189()),Kg=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return f8}}],[{key:"styles",get:function(){return Ut(_templateObject190())}}]),e}(er),customElements.define("ia-icon-ia-logo",Kg),p8=Kg}}),Qg,Vh,Ys,v8,Xs,bc=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/modal-manager@0.2.12/esnext/modal-manager.mjs":function(){Fr(),xn(),Wr(),Fr(),xn(),Wr(),Xu(),xP(),SP(),_p(),Qg=function g(t){"use strict";_classCallCheck(this,g);var e,n,o,l,a,s,r;this.title=t==null?void 0:t.title,this.subtitle=t==null?void 0:t.subtitle,this.headline=t==null?void 0:t.headline,this.message=t==null?void 0:t.message,this.headerColor=(e=t==null?void 0:t.headerColor)!==null&&e!==void 0?e:"#55A183",this.bodyColor=(n=t==null?void 0:t.bodyColor)!==null&&n!==void 0?n:"#f5f5f7",this.showProcessingIndicator=(o=t==null?void 0:t.showProcessingIndicator)!==null&&o!==void 0?o:!1,this.processingImageMode=(l=t==null?void 0:t.processingImageMode)!==null&&l!==void 0?l:"complete",this.showCloseButton=(a=t==null?void 0:t.showCloseButton)!==null&&a!==void 0?a:!0,this.showHeaderLogo=(s=t==null?void 0:t.showHeaderLogo)!==null&&s!==void 0?s:!0,this.closeOnBackdropClick=(r=t==null?void 0:t.closeOnBackdropClick)!==null&&r!==void 0?r:!0},Vh=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.config=new Qg,_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return xt(_templateObject196(),this.config.headerColor,this.config.showCloseButton?this.closeButtonTemplate:"",this.config.showHeaderLogo?xt(_templateObject191(),p8):Vn,this.config.title?xt(_templateObject192(),this.config.title):"",this.config.subtitle?xt(_templateObject193(),this.config.subtitle):"",this.config.bodyColor,this.config.showProcessingIndicator?"":"hidden",this.config.processingImageMode,this.config.headline?xt(_templateObject194(),this.config.headline):"",this.config.message?xt(_templateObject195(),this.config.message):"")}},{key:"handleCloseButton",value:function(){var o=new Event("closeButtonPressed");this.dispatchEvent(o)}},{key:"closeButtonTemplate",get:function(){return xt(_templateObject197(),this.handleCloseButton,h8)}}],[{key:"styles",get:function(){var o=Ut(_templateObject198()),l=Ut(_templateObject199()),a=Ut(_templateObject200()),s=Ut(_templateObject201()),r=Ut(_templateObject202()),d=Ut(_templateObject203()),c=Ut(_templateObject204()),h=Ut(_templateObject205()),f=Ut(_templateObject206()),v=Ut(_templateObject207()),b=Ut(_templateObject208()),w=Ut(_templateObject209()),k=Ut(_templateObject210()),C=Ut(_templateObject211()),E=Ut(_templateObject212()),A=Ut(_templateObject213()),j=Ut(_templateObject214());return Ut(_templateObject215(),l,l,a,d,a,a,s,c,v,C,b,E,a,a,s,h,f,r,f,w,A,k,j,o,o,o,o)}}]),e}(er),tt([on({type:Object})],Vh.prototype,"config",void 0),Vh=tt([Qr("modal-template")],Vh),function(g){g.Open="open",g.Closed="closed"}(Ys||(Ys={})),v8=function(){"use strict";function g(t){_classCallCheck(this,g),this.windowResizeThrottler=pe(100,this.updateModalContainerHeight,{noLeading:!1,noTrailing:!1}).bind(this),this.modalManager=t}return _createClass(g,[{key:"handleModeChange",value:function(e){switch(e){case Ys.Open:this.startResizeListener(),this.stopDocumentScroll();break;case Ys.Closed:this.stopResizeListener(),this.resumeDocumentScroll();break}}},{key:"updateModalContainerHeight",value:function(){this.modalManager.style.setProperty("--containerHeight","".concat(window.innerHeight,"px"))}},{key:"stopDocumentScroll",value:function(){document.body.classList.add("modal-manager-open")}},{key:"resumeDocumentScroll",value:function(){document.body.classList.remove("modal-manager-open")}},{key:"startResizeListener",value:function(){window.addEventListener("resize",this.windowResizeThrottler)}},{key:"stopResizeListener",value:function(){window.removeEventListener("resize",this.windowResizeThrottler)}}]),g}(),Xs=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.mode=Ys.Closed,n.hostBridge=new v8(_assertThisInitialized(n)),n.closeOnBackdropClick=!0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return xt(_templateObject216(),this.backdropClicked,this.closeButtonPressed,this.customModalContent)}},{key:"getMode",value:function(){return this.mode}},{key:"closeModal",value:function(){this.mode=Ys.Closed}},{key:"callUserClosedModalCallback",value:function(){var o=this.userClosedModalCallback;this.userClosedModalCallback=void 0,o&&o()}},{key:"showModal",value:function(o){return Gr(this,void 0,void 0,_regeneratorRuntime.default.mark(function l(){return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.closeOnBackdropClick=o.config.closeOnBackdropClick,this.userClosedModalCallback=o.userClosedModalCallback,this.modalTemplate.config=o.config,this.customModalContent=o.customModalContent,this.mode=Ys.Open,s.next=7,this.modalTemplate.updateComplete;case 7:this.modalTemplate.focus();case 8:case"end":return s.stop()}},l,this)}))}},{key:"updated",value:function(o){o.has("mode")&&this.handleModeChange()}},{key:"backdropClicked",value:function(){this.closeOnBackdropClick&&(this.closeModal(),this.callUserClosedModalCallback())}},{key:"handleModeChange",value:function(){this.hostBridge.handleModeChange(this.mode),this.emitModeChangeEvent()}},{key:"emitModeChangeEvent",value:function(){var o=new CustomEvent("modeChanged",{detail:{mode:this.mode}});this.dispatchEvent(o)}},{key:"closeButtonPressed",value:function(){this.closeModal(),this.callUserClosedModalCallback()}}],[{key:"styles",get:function(){var o=Ut(_templateObject217()),l=Ut(_templateObject218()),a=Ut(_templateObject219()),s=Ut(_templateObject220()),r=Ut(_templateObject221());return Ut(_templateObject222(),o,l,r,a,s)}}]),e}(er),tt([on({type:String,reflect:!0})],Xs.prototype,"mode",void 0),tt([on({type:Object})],Xs.prototype,"customModalContent",void 0),tt([on({type:Object})],Xs.prototype,"hostBridge",void 0),tt([ii("modal-template")],Xs.prototype,"modalTemplate",void 0),Xs=tt([Qr("modal-manager")],Xs)}}),m8,g8,y8=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/icon-visual-adjustment@1.3.4/esnext/icon-visual-adjustment.js":function(){xn(),xn(),m8=xt(_templateObject223()),g8=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return m8}}],[{key:"styles",get:function(){return Ut(_templateObject224())}}]),e}(er),customElements.define("ia-icon-visual-adjustment",g8)}}),b8,w8,_8,k8,eu,as,Jg=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/ia-item-navigator@2.1.2/esnext/dist/src/menus/viewable-files.js":function(){Fr(),xn(),Wr(),Jl(),b8=xt(_templateObject225()),w8=xt(_templateObject226()),_8=xt(_templateObject227()),k8=xt(_templateObject228()),eu=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.fileListRaw=[],n.fileListSorted=[],n.sortOrderBy="default",_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return xt(_templateObject229(),this.sortButton)}},{key:"sortButton",get:function(){var o=this;return{default:xt(_templateObject230(),function(){return o.sortVolumes("title_asc")},_8),title_asc:xt(_templateObject231(),function(){return o.sortVolumes("title_desc")},b8),title_desc:xt(_templateObject232(),function(){return o.sortVolumes("default")},w8)}[this.sortOrderBy]}},{key:"sortVolumes",value:function(o){this.sortOrderBy=o;var l=[];l=this.fileListRaw.sort(function(a,s){return o==="title_asc"?a.title.localeCompare(s.title):o==="title_desc"?s.title.localeCompare(a.title):a.orig_sort-s.orig_sort}),this.dispatchEvent(new CustomEvent("fileListSorted",{detail:{sortType:o,sortedFiles:l},bubbles:!0,composed:!0})),this.fileListSorted=l}}],[{key:"styles",get:function(){return Ut(_templateObject233())}}]),e}(er),tt([on({type:Array})],eu.prototype,"fileListRaw",void 0),tt([on({type:Array})],eu.prototype,"fileListSorted",void 0),tt([on({type:String,reflect:!0})],eu.prototype,"sortOrderBy",void 0),eu=tt([Qr("iaux-in-sort-files-button")],eu),as=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.baseHost="archive.org",n.sortOrderBy="default",n.subPrefix="",n.fileList=[],n.addSortToUrl=!1,_possibleConstructorReturn(n)}return _createClass(e,[{key:"firstUpdated",value:function(){var o=this.shadowRoot.querySelector(".content.active");setTimeout(function(){o!=null&&o.scrollIntoViewIfNeeded?o==null||o.scrollIntoViewIfNeeded(!0):o==null||o.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},350)}},{key:"volumeItemWithImageTitle",value:function(o){var l=this.fileUrl(o);return xt(_templateObject234(),l,o.image,o.title,o.author)}},{key:"fileUrl",value:function(o){var l="//".concat(this.baseHost).concat(o.url_path),a=l;return this.addSortToUrl&&(a=this.sortOrderBy==="default"?"".concat(l):"".concat(l,"?sort=").concat(this.sortOrderBy)),a}},{key:"pdfLabel",get:function(){return xt(_templateObject235())}},{key:"fileLi",value:function(o){var l,a=this.subPrefix===o.file_subprefix?" active":"",s=this.fileUrl(o),r=((l=o.file_source)!==null&&l!==void 0?l:"").match(/^[^+]+\.pdf$/i);return xt(_templateObject236(),a,s,o.title,r?this.pdfLabel:Vn)}},{key:"fileListTemplate",get:function(){var o=Ql(this.fileList,function(l){return l==null?void 0:l.file_prefix},this.fileLi.bind(this));return xt(_templateObject237(),o)}},{key:"render",value:function(){return xt(_templateObject238(),this.fileList.length?this.fileListTemplate:Vn)}}],[{key:"styles",get:function(){return Ut(_templateObject239())}}]),e}(er),tt([on({type:String})],as.prototype,"baseHost",void 0),tt([on({type:String})],as.prototype,"sortOrderBy",void 0),tt([on({type:String})],as.prototype,"subPrefix",void 0),tt([on({type:Array})],as.prototype,"fileList",void 0),tt([on({type:Boolean,reflect:!0})],as.prototype,"addSortToUrl",void 0),as=tt([Qr("iaux-in-viewable-files-panel")],as)}}),x8,S8=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/icon-bookmark@1.3.4/esnext/icon-bookmark.mjs":function(){xn(),x8=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return xt(_templateObject241(),this.state)}}],[{key:"styles",get:function(){return Ut(_templateObject240())}},{key:"properties",get:function(){return{state:{type:String}}}}]),e}(er),window.customElements.define("icon-bookmark",x8)}}),C8,A8,O8=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/icon-search@1.3.4/esnext/icon-search.js":function(){xn(),xn(),C8=xt(_templateObject242()),A8=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return C8}}],[{key:"styles",get:function(){return Ut(_templateObject243())}}]),e}(er),customElements.define("ia-icon-search",A8)}}),Zg,j8,To,ey=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/ia-item-navigator@2.1.2/esnext/dist/src/menus/share-panel.js":function(){Fr(),xn(),Wr(),_C(),SC(),OC(),TC(),MC(),DC(),BC(),Zg=function(g){var t=g.currentTarget,e=t.querySelector("textarea"),n=t.querySelector("small");e.select(),document.execCommand("copy"),e.blur(),n.classList.add("visible"),clearTimeout(n.timeout),n.timeout=setTimeout(function(){return n.classList.remove("visible")},4e3)},j8=xt(_templateObject244()),To=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.baseHost="archive.org",n.creator="",n.description="",n.embedOptionsVisible=!1,n.identifier="",n.sharingOptions=[],n.type="",n.renderHeader=!1,n.fileSubPrefix="",_possibleConstructorReturn(n)}return _createClass(e,[{key:"updated",value:function(o){o.has("sharingOptions")&&!this.sharingOptions.length&&this.loadProviders()}},{key:"loadProviders",value:function(){var o="https://".concat(this.baseHost,"/details/").concat(this.identifier);this.fileSubPrefix&&(o+="/".concat(this.fileSubPrefix));var l=[this.description,this.creator,"Free Download, Borrow, and Streaming","Internet Archive"].filter(Boolean).join(" : ");this.sharingOptions=[{name:"Twitter",icon:xt(_templateObject245()),url:"https://twitter.com/intent/tweet?".concat(new URLSearchParams({url:o,text:l,via:"internetarchive"}))},{name:"Facebook",icon:xt(_templateObject246()),url:"https://www.facebook.com/sharer/sharer.php?".concat(new URLSearchParams({u:o}))},{name:"Tumblr",icon:xt(_templateObject247()),url:"https://www.tumblr.com/widgets/share/tool/preview?".concat(new URLSearchParams({posttype:"link",canonicalUrl:o,title:l}))},{name:"Pinterest",icon:xt(_templateObject248()),url:"http://www.pinterest.com/pin/create/button/?".concat(new URLSearchParams({url:o,description:l}))},{name:"Email",icon:xt(_templateObject249()),url:"mailto:?".concat(new URLSearchParams({subject:l,body:o}))}]}},{key:"iframeEmbed",get:function(){return'<iframe\n      src="https://'.concat(this.baseHost,"/embed/").concat(this.identifier,'"\n      width="560" height="384" frameborder="0"\n      webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen\n    ></iframe>')}},{key:"bbcodeEmbed",get:function(){return"[archiveorg ".concat(this.identifier," width=560 height=384 frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]")}},{key:"helpURL",get:function(){return"https://".concat(this.baseHost,"/help/audio.php?identifier=").concat(this.identifier)}},{key:"header",get:function(){var o=xt(_templateObject250(),this.type);return this.renderHeader?o:Vn}},{key:"render",value:function(){return xt(_templateObject252(),this.header,this.sharingOptions.map(function(o){return xt(_templateObject251(),o.url,o.icon,o.name)}),Zg,this.iframeEmbed,Zg,this.bbcodeEmbed,this.helpURL)}},{key:"providerIcon",get:function(){return xt(_templateObject253())}}],[{key:"styles",get:function(){return Ut(_templateObject254())}}]),e}(er),tt([on({type:String})],To.prototype,"baseHost",void 0),tt([on({type:String})],To.prototype,"creator",void 0),tt([on({type:String})],To.prototype,"description",void 0),tt([on({type:Boolean})],To.prototype,"embedOptionsVisible",void 0),tt([on({type:String})],To.prototype,"identifier",void 0),tt([on({type:Array})],To.prototype,"sharingOptions",void 0),tt([on({type:String})],To.prototype,"type",void 0),tt([on({type:Boolean})],To.prototype,"renderHeader",void 0),tt([on({type:String})],To.prototype,"fileSubPrefix",void 0),To=tt([Qr("iaux-in-share-panel")],To)}}),E8,T8,P8=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/icon-dl@1.3.4/esnext/icon-dl.js":function(){xn(),xn(),E8=xt(_templateObject255()),T8=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return E8}}],[{key:"styles",get:function(){return Ut(_templateObject256())}}]),e}(er),customElements.define("ia-icon-dl",T8)}}),I8,M8,L8=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/icon-magnify-minus@1.3.4/esnext/icon-magnify-minus.js":function(){xn(),xn(),I8=xt(_templateObject257()),M8=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return I8}}],[{key:"styles",get:function(){return Ut(_templateObject258())}}]),e}(er),customElements.define("ia-icon-magnify-minus",M8)}}),R8,D8,$8=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/icon-magnify-plus@1.3.4/esnext/icon-magnify-plus.js":function(){xn(),xn(),R8=xt(_templateObject259()),D8=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return R8}}],[{key:"styles",get:function(){return Ut(_templateObject260())}}]),e}(er),customElements.define("ia-icon-magnify-plus",D8)}});function tu(g,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g,n=arguments.length>3?arguments[3]:void 0,o,l,a,s;if(t===Qs)return t;var r=n!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[n]:e._$Cl,d=nu(t)?void 0:t._$litDirective$;return(r==null?void 0:r.constructor)!==d&&((l=r==null?void 0:r._$AO)===null||l===void 0||l.call(r,!1),d===void 0?r=void 0:(r=new d(g),r._$AT(g,e,n)),n!==void 0?((a=(s=e)._$Co)!==null&&a!==void 0?a:s._$Co=[])[n]=r:e._$Cl=r),r!==void 0&&(t=tu(g,r._$AS(g,t.values),r,n)),t}var ty,wc,Ks,ny,Wh,Oa,ry,N8,ss,_c,nu,iy,B8,qh,ru,oy,ay,ls,sy,ly,uy,cy,CP,AP,Qs,Pi,dy,us,z8,Gh,F8,hy,kc,H8,U8,V8,W8,q8,fy,Yh,py,OP=Ht({"https-url:https://esm.archive.org/v135/lit-html@2.8.0/esnext/directives/unsafe-html.js":function(){hc(),wc=window,Ks=wc.trustedTypes,ny=Ks?Ks.createPolicy("lit-html",{createHTML:function(g){return g}}):void 0,Wh="$lit$",Oa="lit$".concat((Math.random()+"").slice(9),"$"),ry="?"+Oa,N8="<".concat(ry,">"),ss=document,_c=function(){return ss.createComment("")},nu=function(g){return g===null||typeof g!="object"&&typeof g!="function"},iy=Array.isArray,B8=function(g){return iy(g)||typeof(g==null?void 0:g[Symbol.iterator])=="function"},qh="[ 	\n\f\r]",ru=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,oy=/-->/g,ay=/>/g,ls=RegExp(">|".concat(qh,"(?:([^\\s\"'>=/]+)(").concat(qh,"*=").concat(qh,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),sy=/'/g,ly=/"/g,uy=/^(?:script|style|textarea|title)$/i,cy=function(g){return function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return{_$litType$:g,strings:t,values:n}}},CP=cy(1),AP=cy(2),Qs=Symbol.for("lit-noChange"),Pi=Symbol.for("lit-nothing"),dy=new WeakMap,us=ss.createTreeWalker(ss,129,null,!1),z8=function(g,t){for(var e=g.length-1,n=[],o,l=t===2?"<svg>":"",a=ru,s=0;s<e;s++){for(var r=g[s],d=void 0,c=void 0,h=-1,f=0;f<r.length&&(a.lastIndex=f,c=a.exec(r),c!==null);)f=a.lastIndex,a===ru?c[1]==="!--"?a=oy:c[1]!==void 0?a=ay:c[2]!==void 0?(uy.test(c[2])&&(o=RegExp("</"+c[2],"g")),a=ls):c[3]!==void 0&&(a=ls):a===ls?c[0]===">"?(a=o!=null?o:ru,h=-1):c[1]===void 0?h=-2:(h=a.lastIndex-c[2].length,d=c[1],a=c[3]===void 0?ls:c[3]==='"'?ly:sy):a===ly||a===sy?a=ls:a===oy||a===ay?a=ru:(a=ls,o=void 0);var v=a===ls&&g[s+1].startsWith("/>")?" ":"";l+=a===ru?r+N8:h>=0?(n.push(d),r.slice(0,h)+Wh+r.slice(h)+Oa+v):r+Oa+(h===-2?(n.push(void 0),s):v)}return[rx(g,l+(g[e]||"<?>")+(t===2?"</svg>":"")),n]},Gh=function(){"use strict";function g(t,e){var n=t.strings,o=t._$litType$;_classCallCheck(this,g);var l;this.parts=[];var a=0,s=0,r=n.length-1,d=this.parts,c=_slicedToArray(z8(n,o),2),h=c[0],f=c[1];if(this.el=g.createElement(h,e),us.currentNode=this.el.content,o===2){var v,b=this.el.content,w=b.firstChild;w.remove(),(v=b).append.apply(v,_toConsumableArray(w.childNodes))}for(;(l=us.nextNode())!==null&&d.length<r;){if(l.nodeType===1){if(l.hasAttributes()){var k=[],C=!0,E=!1,A=void 0;try{for(var j=l.getAttributeNames()[Symbol.iterator](),y;!(C=(y=j.next()).done);C=!0){var u=y.value;if(u.endsWith(Wh)||u.startsWith(Oa)){var p=f[s++];if(k.push(u),p!==void 0){var m=l.getAttribute(p.toLowerCase()+Wh).split(Oa),_=/([.?@])?(.*)/.exec(p);d.push({type:1,index:a,name:_[2],strings:m,ctor:_[1]==="."?H8:_[1]==="?"?V8:_[1]==="@"?W8:kc})}else d.push({type:6,index:a})}}}catch(B){E=!0,A=B}finally{try{!C&&j.return!=null&&j.return()}finally{if(E)throw A}}var x=!0,O=!1,I=void 0;try{for(var P=k[Symbol.iterator](),D;!(x=(D=P.next()).done);x=!0){var V=D.value;l.removeAttribute(V)}}catch(B){O=!0,I=B}finally{try{!x&&P.return!=null&&P.return()}finally{if(O)throw I}}}if(uy.test(l.tagName)){var q=l.textContent.split(Oa),z=q.length-1;if(z>0){l.textContent=Ks?Ks.emptyScript:"";for(var he=0;he<z;he++)l.append(q[he],_c()),us.nextNode(),d.push({type:2,index:++a});l.append(q[z],_c())}}}else if(l.nodeType===8)if(l.data===ry)d.push({type:2,index:a});else for(var Y=-1;(Y=l.data.indexOf(Oa,Y+1))!==-1;)d.push({type:7,index:a}),Y+=Oa.length-1;a++}}return _createClass(g,null,[{key:"createElement",value:function(e,n){var o=ss.createElement("template");return o.innerHTML=e,o}}]),g}(),F8=function(){"use strict";function g(t,e){_classCallCheck(this,g),this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}return _createClass(g,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var n,o=this._$AD,l=o.el,a=l.content,s=o.parts,r=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:ss).importNode(a,!0);us.currentNode=r;for(var d=us.nextNode(),c=0,h=0,f=s[0];f!==void 0;){if(c===f.index){var v=void 0;f.type===2?v=new hy(d,d.nextSibling,this,e):f.type===1?v=new f.ctor(d,f.name,f.strings,this,e):f.type===6&&(v=new q8(d,this,e)),this._$AV.push(v),f=s[++h]}c!==(f==null?void 0:f.index)&&(d=us.nextNode(),c++)}return us.currentNode=ss,r}},{key:"v",value:function(e){var n=0,o=!0,l=!1,a=void 0;try{for(var s=this._$AV[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var d=r.value;d!==void 0&&(d.strings!==void 0?(d._$AI(e,d,n),n+=d.strings.length-2):d._$AI(e[n])),n++}}catch(c){l=!0,a=c}finally{try{!o&&s.return!=null&&s.return()}finally{if(l)throw a}}}}]),g}(),hy=function(){"use strict";function g(t,e,n,o){_classCallCheck(this,g);var l;this.type=2,this._$AH=Pi,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=o,this._$Cp=(l=o==null?void 0:o.isConnected)===null||l===void 0||l}return _createClass(g,[{key:"_$AU",get:function(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cp}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=tu(this,e,n),nu(e)?e===Pi||e==null||e===""?(this._$AH!==Pi&&this._$AR(),this._$AH=Pi):e!==this._$AH&&e!==Qs&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):B8(e)?this.T(e):this._(e)}},{key:"k",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"$",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}},{key:"_",value:function(e){this._$AH!==Pi&&nu(this._$AH)?this._$AA.nextSibling.data=e:this.$(ss.createTextNode(e)),this._$AH=e}},{key:"g",value:function(e){var n,o=e.values,l=e._$litType$,a=typeof l=="number"?this._$AC(e):(l.el===void 0&&(l.el=Gh.createElement(rx(l.h,l.h[0]),this.options)),l);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===a)this._$AH.v(o);else{var s=new F8(a,this),r=s.u(this.options);s.v(o),this.$(r),this._$AH=s}}},{key:"_$AC",value:function(e){var n=dy.get(e.strings);return n===void 0&&dy.set(e.strings,n=new Gh(e)),n}},{key:"T",value:function(e){iy(this._$AH)||(this._$AH=[],this._$AR());var n=this._$AH,o,l=0,a=!0,s=!1,r=void 0;try{for(var d=e[Symbol.iterator](),c;!(a=(c=d.next()).done);a=!0){var h=c.value;l===n.length?n.push(o=new g(this.k(_c()),this.k(_c()),this,this.options)):o=n[l],o._$AI(h),l++}}catch(f){s=!0,r=f}finally{try{!a&&d.return!=null&&d.return()}finally{if(s)throw r}}l<n.length&&(this._$AR(o&&o._$AB.nextSibling,l),n.length=l)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,n);e&&e!==this._$AB;){var l=e.nextSibling;e.remove(),e=l}}},{key:"setConnected",value:function(e){var n;this._$AM===void 0&&(this._$Cp=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}]),g}(),kc=function(){"use strict";function g(t,e,n,o,l){_classCallCheck(this,g),this.type=1,this._$AH=Pi,this._$AN=void 0,this.element=t,this.name=e,this._$AM=o,this.options=l,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Pi}return _createClass(g,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,a=this.strings,s=!1;if(a===void 0)e=tu(this,e,n,0),s=!nu(e)||e!==this._$AH&&e!==Qs,s&&(this._$AH=e);else{var r=e,d,c;for(e=a[0],d=0;d<a.length-1;d++)c=tu(this,r[o+d],n,d),c===Qs&&(c=this._$AH[d]),s||(s=!nu(c)||c!==this._$AH[d]),c===Pi?e=Pi:e!==Pi&&(e+=(c!=null?c:"")+a[d+1]),this._$AH[d]=c}s&&!l&&this.j(e)}},{key:"j",value:function(e){e===Pi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),g}(),H8=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=3,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===Pi?void 0:o}}]),e}(kc),U8=Ks?Ks.emptyScript:"",V8=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=4,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){o&&o!==Pi?this.element.setAttribute(this.name,U8):this.element.removeAttribute(this.name)}}]),e}(kc),W8=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n,o,l,a,s){_classCallCheck(this,e);var r;return r=t.call(this,n,o,l,a,s),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,a;if((o=(a=tu(this,o,l,0))!==null&&a!==void 0?a:Pi)!==Qs){var s=this._$AH,r=o===Pi&&s!==Pi||o.capture!==s.capture||o.once!==s.once||o.passive!==s.passive,d=o!==Pi&&(s===Pi||r);r&&this.element.removeEventListener(this.name,this,s),d&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var l,a;typeof this._$AH=="function"?this._$AH.call((a=(l=this.options)===null||l===void 0?void 0:l.host)!==null&&a!==void 0?a:this.element,o):this._$AH.handleEvent(o)}}]),e}(kc),q8=function(){"use strict";function g(t,e,n){_classCallCheck(this,g),this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}return _createClass(g,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){tu(this,e)}}]),g}(),fy=wc.litHtmlPolyfillSupport,fy==null||fy(Gh,hy),((ty=wc.litHtmlVersions)!==null&&ty!==void 0?ty:wc.litHtmlVersions=[]).push("2.8.0"),Yh=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o;if(o=t.call(this,n),o.et=Pi,n.type!==dc.CHILD)throw Error(o.constructor.directiveName+"() can only be used in child bindings");return _possibleConstructorReturn(o)}return _createClass(e,[{key:"render",value:function(o){if(o===Pi||o==null)return this.ft=void 0,this.et=o;if(o===Qs)return o;if(typeof o!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(o===this.et)return this.ft;this.et=o;var l=[o];return l.raw=l,this.ft={_$litType$:this.constructor.resultType,strings:l,values:[]}}}]),e}(Ul),Yh.directiveName="unsafeHTML",Yh.resultType=1,py=Hl(Yh)}}),Xh=Ht({"https-url:https://esm.archive.org/v135/lit@2.8.0/esnext/directives/unsafe-html.js":function(){OP()}}),G8,Y8,X8=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/icon-edit-pencil@1.3.4/esnext/icon-edit-pencil.js":function(){xn(),xn(),G8=xt(_templateObject261()),Y8=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return G8}}],[{key:"styles",get:function(){return Ut(_templateObject262())}}]),e}(er),customElements.define("ia-icon-edit-pencil",Y8)}}),vy,my,iu,K8,_i,Q8,J8,gy,Z8,eA,Kh,Qh,tA,nA,rA,iA,oA,aA,sA,lA,yy,uA,cA,dA,hA,xc,fA,pA,Sc,vA,by,jP=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/bookreader@5.0.0-82/esnext/bookreader.mjs":function(){xn(),c8(),Nl(),bc(),xn(),xn(),O8(),Xh(),xn(),Xu(),xn(),xn(),xn(),xn(),P8(),xn(),xn(),y8(),xn(),Jl(),xn(),L8(),$8(),xn(),xn(),xn(),xn(),bc(),xn(),Jl(),xn(),xn(),Jl(),xn(),X8(),S8(),xn(),ey(),ey(),xn(),Jg(),Jg(),xn(),bc(),bc(),Nl(),vy=Ut(_templateObject263()),my=Ut(_templateObject264()),iu=Ut(_templateObject265()),K8=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.results=[],n.query="",n.queryInProgress=!1,n.renderHeader=!1,n.renderSearchAllFields=!1,n.displayResultImages=!1,n.errorMessage="",n.bindBookReaderListeners(),_possibleConstructorReturn(n)}return _createClass(e,[{key:"updated",value:function(){this.focusOnInputIfNecessary()}},{key:"bindBookReaderListeners",value:function(){document.addEventListener("BookReader:SearchCallback",this.setResults.bind(this))}},{key:"focusOnInputIfNecessary",value:function(){this.results.length||this.shadowRoot.querySelector("input[type='search']").focus()}},{key:"setResults",value:function(o){var l=o.detail;this.results=l.results}},{key:"setQuery",value:function(o){this.query=o.currentTarget.value,this.query||this.cancelSearch()}},{key:"performSearch",value:function(o){o.preventDefault();var l=o.currentTarget.querySelector('input[type="search"]');!l||!l.value||this.dispatchEvent(new CustomEvent("bookSearchInitiated",{bubbles:!0,composed:!0,detail:{query:this.query}}))}},{key:"selectResult",value:function(o){this.dispatchEvent(new CustomEvent("resultSelected",{bubbles:!0,composed:!0,detail:{match:o}})),this.dispatchEvent(new CustomEvent("closeMenu",{bubbles:!0,composed:!0}))}},{key:"cancelSearch",value:function(){this.queryInProgress=!1,this.dispatchSearchCanceled()}},{key:"dispatchSearchCanceled",value:function(){this.dispatchEvent(new Event("bookSearchCanceled"))}},{key:"resultsCount",get:function(){var o=this.results.length;return o?xt(_templateObject266(),o,o>1?"s":""):Vn}},{key:"headerSection",get:function(){var o=xt(_templateObject267(),this.resultsCount);return this.renderHeader?o:Vn}},{key:"searchMultipleControls",get:function(){var o=xt(_templateObject268());return this.renderSearchAllFiles?o:Vn}},{key:"loadingIndicator",get:function(){return xt(_templateObject269(),this.cancelSearch)}},{key:"resultsSet",get:function(){var o=this,l=this.displayResultImages?"show-image":"";return xt(_templateObject272(),l,this.results.map(function(a){return xt(_templateObject271(),o.selectResult.bind(o,a),a.cover?xt(_templateObject270(),a.cover):Vn,a.title||Vn,a.displayPageNumber,py(a.html))}))}},{key:"searchForm",get:function(){return xt(_templateObject273(),this.performSearch,this.searchMultipleControls,this.setQuery,this.setQuery,this.query)}},{key:"setErrorMessage",get:function(){return xt(_templateObject274(),this.errorMessage)}},{key:"searchCTA",get:function(){return xt(_templateObject275())}},{key:"render",value:function(){var o=!this.queryInProgress&&!this.errorMessage&&!this.queryInProgress&&!this.results.length;return xt(_templateObject276(),this.headerSection,this.searchForm,this.queryInProgress?this.loadingIndicator:Vn,this.errorMessage?this.setErrorMessage:Vn,this.results.length?this.resultsSet:Vn,o?this.searchCTA:Vn)}}],[{key:"properties",get:function(){return{results:{type:Array},query:{type:String},queryInProgress:{type:Boolean},renderHeader:{type:Boolean},renderSearchAllFiles:{type:Boolean},displayResultImages:{type:Boolean},errorMessage:{type:String}}}},{key:"styles",get:function(){var o=Ut(_templateObject277()),l=Ut(_templateObject278()),a=Ut(_templateObject279()),s=Ut(_templateObject280()),r=Ut(_templateObject281(),o,l,a,vy,s,my,my);return[iu,r]}}]),e}(er),customElements.define("ia-book-search-results",K8),_i={query:"",results:[],resultsCount:0,queryInProgress:!1,errorMessage:""},Q8=function(){"use strict";function g(t){var e=t.onProviderChange,n=t.bookreader;_classCallCheck(this,g),this.onBookSearchInitiated=this.onBookSearchInitiated.bind(this),this.onSearchStarted=this.onSearchStarted.bind(this),this.onSearchRequestError=this.onSearchRequestError.bind(this),this.onSearchResultsClicked=this.onSearchResultsClicked.bind(this),this.onSearchResultsChange=this.onSearchResultsChange.bind(this),this.onSearchResultsCleared=this.onSearchResultsCleared.bind(this),this.searchCanceledInMenu=this.searchCanceledInMenu.bind(this),this.bindEventListeners=this.bindEventListeners.bind(this),this.getMenuDetails=this.getMenuDetails.bind(this),this.getComponent=this.getComponent.bind(this),this.updateMenu=this.updateMenu.bind(this),this.onProviderChange=e,this.bookreader=n,this.icon=xt(_templateObject285()),this.label="Search inside",this.menuDetails=this.getMenuDetails(),this.id="search",this.component=this.getComponent(),this.bindEventListeners()}return _createClass(g,[{key:"getMenuDetails",value:function(){var e=_i.resultsCount,n=_i.query,o=_i.queryInProgress;return o||!n?Vn:xt(_templateObject282(),e,e===1?"result":"results")}},{key:"bindEventListeners",value:function(){var e=this;window.addEventListener("BookReader:SearchStarted",this.onSearchStarted),window.addEventListener("BookReader:SearchCallback",this.onSearchResultsChange),window.addEventListener("BookReader:SearchCallbackEmpty",function(n){e.onSearchRequestError(n,"noResults")}),window.addEventListener("BookReader:SearchCallbackNotIndexed",function(n){e.onSearchRequestError(n,"notIndexed")}),window.addEventListener("BookReader:SearchCallbackError",function(n){e.onSearchRequestError(n)}),window.addEventListener("BookReader:SearchResultsCleared",function(){e.onSearchResultsCleared()}),window.addEventListener("BookReader:SearchCanceled",function(n){e.onSearchCanceled(n)})}},{key:"onSearchCanceled",value:function(){_i={query:"",results:[],resultsCount:0,queryInProgress:!1,errorMessage:""};var e={searchCanceled:!0};this.updateMenu(e),this.bookreader.urlPlugin&&this.updateSearchInUrl()}},{key:"onSearchStarted",value:function(e){var n=e.detail.props,o=n.term,l=o===void 0?"":o,a=n.instance;a&&(this.bookreader=a),_i.query=l,_i.results=[],_i.resultsCount=0,_i.queryInProgress=!0,_i.errorMessage="",this.updateMenu()}},{key:"onBookSearchInitiated",value:function(e){var n=e.detail;_i.query=n.query,this.bookreader.search(_i.query)}},{key:"onSearchRequestError",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",o,l,a=e.detail,s=a.props,r=s===void 0?{}:s,d=r.instance,c=d===void 0?null:d;c&&(this.bookreader=c);var h={noResults:"0 results",notIndexed:"This book hasn't been indexed for searching yet.  We've just started indexing it,\n       so search should be available soon.  Please try again later.  Thanks!",default:"Sorry, there was an error with your search.  Please try again."},f=(o=h[n])!=null?o:h.default;_i.query=((l=c==null?void 0:c.searchResults)==null?void 0:l.q)||"",_i.results=[],_i.resultsCount=0,_i.queryInProgress=!1,_i.errorMessage=xt(_templateObject283(),f),this.updateMenu()}},{key:"onSearchResultsChange",value:function(e){var n=e.detail,o=n.props,l=o===void 0?{}:o,a=l.instance,s=a===void 0?null:a,r=l.results,d=r===void 0?[]:r;s&&(this.bookreader=s);var c=d.matches||[],h=c.length,f=d.q;_i={results:c,resultsCount:h,query:f,queryInProgress:!1,errorMessage:""},this.updateMenu()}},{key:"searchCanceledInMenu",value:function(){var e;(e=this.bookreader)==null||e.cancelSearchRequest()}},{key:"onSearchResultsCleared",value:function(){var e,n;_i={query:"",results:[],resultsCount:0,queryInProgress:!1,errorMessage:""},this.updateMenu({openMenu:!1}),(n=(e=this.bookreader)==null?void 0:e.searchView)==null||n.clearSearchFieldAndResults(!1),this.bookreader.urlPlugin&&this.updateSearchInUrl()}},{key:"updateSearchInUrl",value:function(){this.bookreader.urlPlugin&&(this.bookreader.urlPlugin.pullFromAddressBar(),_i.query?this.bookreader.urlPlugin.setUrlParam("q",_i.query):this.bookreader.urlPlugin.removeUrlParam("q"))}},{key:"updateMenu",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.menuDetails=this.getMenuDetails(),this.component=this.getComponent(),this.onProviderChange(this.bookreader,e)}},{key:"getComponent",value:function(){var e=_i.query,n=_i.results,o=_i.queryInProgress,l=_i.errorMessage;return xt(_templateObject284(),e,n,l,o,!1,this.onSearchResultsClicked,this.onBookSearchInitiated,this.onSearchResultsCleared,this.searchCanceledInMenu)}},{key:"onSearchResultsClicked",value:function(e){var n=e.detail;this.bookreader._searchPluginGoToResult(n.match.matchIndex)}}]),g}(),J8=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.downloads=[],n.expiration=0,n.renderHeader=!1,n.isBookProtected=!1,_possibleConstructorReturn(n)}return _createClass(e,[{key:"formatsCount",get:function(){var o=this.downloads.length;return o?xt(_templateObject286(),o,o>1?"s":""):xt(_templateObject287())}},{key:"loanExpiryMessage",get:function(){return this.expiration?xt(_templateObject288(),this.expiration):xt(_templateObject289())}},{key:"renderDownloadOptions",value:function(){return this.downloads.map(function(o){return xt(_templateObject292(),o.url,o.type,o.note?xt(_templateObject290(),o.note):xt(_templateObject291()))})}},{key:"hasLCPOption",get:function(){var o=/^(LCP)/g;return this.downloads.some(function(l){var a;return(a=l.type)==null?void 0:a.match(o)})}},{key:"header",get:function(){return this.renderHeader?xt(_templateObject293(),this.formatsCount):Vn}},{key:"accessProtectedBook",get:function(){return xt(_templateObject294())}},{key:"installSimplyEAldikoThoriumMsg",get:function(){return xt(_templateObject295())}},{key:"render",value:function(){return xt(_templateObject296(),this.header,this.loanExpiryMessage,this.renderDownloadOptions(),this.hasLCPOption?this.installSimplyEAldikoThoriumMsg:this.isBookProtected?this.accessProtectedBook:Vn)}}],[{key:"properties",get:function(){return{downloads:{type:Array},expiration:{type:Number},renderHeader:{type:Boolean},isBookProtected:{type:Boolean}}}},{key:"styles",get:function(){var o=Ut(_templateObject297());return[iu,o]}}]),e}(er),customElements.define("ia-book-downloads",J8),gy={pdf:{type:"Encrypted Adobe PDF",url:"#",note:"PDF files contain high quality images of pages."},lcppdf:{type:"Get LCP PDF",url:"#",note:"PDF files contain high quality images of pages."},lcpepub:{type:"Get LCP ePub",url:"#",note:"ePub files are smaller in size, but may contain errors."},epub:{type:"Encrypted Adobe ePub",url:"#",note:"ePub files are smaller in size, but may contain errors."}},Z8={pdf:"PDF",epub:"ePub",lcppdf:"LCP PDF",lcpepub:"LCP ePub"},eA=function(){"use strict";function g(t){var e=t.bookreader;_classCallCheck(this,g);var n;this.icon=xt(_templateObject299()),this.label="Downloadable files",this.menuDetails="",this.downloads=[],this.id="downloads",this.component="",this.isBookProtected=((n=e==null?void 0:e.options)==null?void 0:n.isProtected)||!1}return _createClass(g,[{key:"update",value:function(e){this.computeAvailableTypes(e),this.component=this.menu,this.component.isBookProtected=this.isBookProtected;var n=this.downloads.length===1?"":"s";this.menuDetails="(".concat(this.downloads.length," format").concat(n,")")}},{key:"computeAvailableTypes",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=this,o=e.reduce(function(l){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=_slicedToArray(a,2),r=s[0],d=r===void 0?"":r,c=s[1],h=c===void 0?"":c,f=d.toLowerCase(),v=gy[f]||null;if(v){var b=n.isBookProtected?gy[f].type:Z8[f],w=Object.assign({},v,{url:h,type:b});l.push(w)}return l},[]);this.downloads=o}},{key:"menu",get:function(){return xt(_templateObject298(),this.downloads)}}]),g}(),Kh=function(g){return"visualAdjustment".concat(g)},Qh={optionChange:Kh("OptionChanged"),zoomIn:Kh("ZoomIn"),zoomOut:Kh("ZoomOut")},tA=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.activeCount=0,n.options=[],n.renderHeader=!1,n.showZoomControls=!0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"firstUpdated",value:function(){this.activeCount=this.activeOptions.length,this.emitOptionChangedEvent()}},{key:"activeOptions",get:function(){return this.options.reduce(function(o,l){return l.active?_toConsumableArray(o).concat([l.id]):o},[])}},{key:"prepareEventDetails",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return{options:this.options,activeCount:this.activeCount,changedOptionId:o}}},{key:"emitOptionChangedEvent",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=this.prepareEventDetails(o);this.dispatchEvent(new CustomEvent(Qh.optionChange,{bubbles:!0,composed:!0,detail:l}))}},{key:"emitZoomIn",value:function(){this.dispatchEvent(new CustomEvent(Qh.zoomIn))}},{key:"emitZoomOut",value:function(){this.dispatchEvent(new CustomEvent(Qh.zoomOut))}},{key:"changeActiveStateFor",value:function(o){var l=_toConsumableArray(this.options),a=l.find(function(s){return s.id===o});a.active=!a.active,this.options=l,this.activeCount=this.activeOptions.length,this.emitOptionChangedEvent(a.id)}},{key:"setRangeValue",value:function(o,l){var a=_toConsumableArray(this.options);a.find(function(s){return s.id===o}).value=l,this.options=_toConsumableArray(a)}},{key:"rangeSlider",value:function(o){var l=this;return xt(_templateObject300(),"range".concat(o.active?" visible":""),o.id,o.min||0,o.max||100,o.step||1,o.value,function(a){return l.setRangeValue(o.id,a.target.value)},function(){return l.emitOptionChangedEvent()},o.value)}},{key:"adjustmentCheckbox",value:function(o){var l=this,a="adjustment_".concat(o.id);return xt(_templateObject301(),a,o.name,a,a,function(){return l.changeActiveStateFor(o.id)},o.active,o.value!==void 0?this.rangeSlider(o):Vn)}},{key:"headerSection",get:function(){var o=this.activeCount?xt(_templateObject302(),this.activeCount):Vn,l=xt(_templateObject303(),o);return this.renderHeader?l:Vn}},{key:"zoomControls",get:function(){return xt(_templateObject304(),this.emitZoomOut,this.emitZoomIn)}},{key:"render",value:function(){return xt(_templateObject305(),this.headerSection,Ql(this.options,function(o){return o.id},this.adjustmentCheckbox.bind(this)),this.showZoomControls?this.zoomControls:Vn)}}],[{key:"properties",get:function(){return{activeCount:{type:Number},options:{type:Array},renderHeader:{type:Boolean},showZoomControls:{type:Boolean}}}},{key:"styles",get:function(){return Ut(_templateObject306(),vy)}}]),e}(er),customElements.define("ia-book-visual-adjustments",tA),nA=[{id:"brightness",name:"Adjust brightness",active:!1,min:0,max:150,step:1,value:100},{id:"contrast",name:"Adjust contrast",active:!1,min:0,max:150,step:1,value:100},{id:"invert",name:"Invert colors (dark mode)",active:!1},{id:"grayscale",name:"Convert to grayscale",active:!1}],rA=function(){"use strict";function g(t){_classCallCheck(this,g);var e=t.onProviderChange,n=t.bookreader;this.onProviderChange=e,this.bookContainer=n.refs.$brContainer,this.bookreader=n,this.onAdjustmentChange=this.onAdjustmentChange.bind(this),this.optionUpdateComplete=this.optionUpdateComplete.bind(this),this.updateOptionsCount=this.updateOptionsCount.bind(this),this.onZoomIn=this.onZoomIn.bind(this),this.onZoomOut=this.onZoomOut.bind(this),this.activeCount=0,this.icon=xt(_templateObject307()),this.label="Visual Adjustments",this.menuDetails=this.updateOptionsCount(),this.id="adjustment",this.component=xt(_templateObject308(),nA,this.onAdjustmentChange,this.onZoomIn,this.onZoomOut)}return _createClass(g,[{key:"onZoomIn",value:function(){this.bookreader.zoom(1)}},{key:"onZoomOut",value:function(){this.bookreader.zoom(-1)}},{key:"onAdjustmentChange",value:function(e){var n=e.detail,o={brightness:function(a){return"brightness(".concat(a,"%)")},contrast:function(a){return"contrast(".concat(a,"%)")},grayscale:function(){return"grayscale(100%)"},invert:function(){return"invert(100%)"}},l=n.options.reduce(function(a,s){var r="".concat(s.active?o[s.id](s.value):"");return r?_toConsumableArray(a).concat([r]):a},[]).join(" ");this.bookContainer.css("filter",l),this.optionUpdateComplete(e)}},{key:"optionUpdateComplete",value:function(e){this.activeCount=e.detail.activeCount,this.updateOptionsCount(e),this.onProviderChange()}},{key:"updateOptionsCount",value:function(){this.menuDetails="(".concat(this.activeCount," active)")}}]),g}(),iA=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){var o=this;return xt(_templateObject310(),function(){return o.deleteAction({detail:{id:"".concat(o.pageID)}})},function(){return o.cancelAction()})}}],[{key:"styles",get:function(){return Ut(_templateObject309())}},{key:"properties",get:function(){return{cancelAction:{type:Function},deleteAction:{type:Function},pageID:{type:String}}}}]),e}(er),customElements.define("delete-modal-actions",iA),oA=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.state="hollow",n.side=void 0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"handleClick",value:function(o){o.preventDefault(),this.dispatchEvent(new CustomEvent("bookmarkButtonClicked"))}},{key:"title",get:function(){return"".concat(this.state==="hollow"?"Add":"Remove"," bookmark")}},{key:"render",value:function(){var o=this.side||"right";return xt(_templateObject312(),this.title,this.handleClick,o,this.state)}}],[{key:"styles",get:function(){return Ut(_templateObject311())}},{key:"properties",get:function(){return{side:{type:String},state:{type:String}}}}]),e}(er),customElements.define("bookmark-button",oA),aA=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.url="https://archive.org/account/login",_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return xt(_templateObject313(),this.url)}}],[{key:"properties",get:function(){return{url:{type:String}}}},{key:"styles",get:function(){return iu}}]),e}(er),customElements.define("bookmarks-login",aA),sA={endpoint:"/services/bookmarks.php",headers:{"Content-Type":"application/json"},delete:function(t){return fetch("".concat(this.endpoint,"?identifier=").concat(this.identifier,"&page_num=").concat(t),{credentials:"same-origin",method:"DELETE",headers:this.headers})},get:function(t){return fetch("".concat(this.endpoint,"?identifier=").concat(this.identifier,"&page_num=").concat(t),{credentials:"same-origin",method:"GET",headers:this.headers})},getAll:function(){return fetch("".concat(this.endpoint,"?identifier=").concat(this.identifier),{credentials:"same-origin",method:"GET",headers:this.headers})},post:function(t){return this.sendBookmarkData(t,"POST")},put:function(t){return this.sendBookmarkData(t,"POST")},sendBookmarkData:function(t,e){var n={note:t.note,color:t.color};return fetch("".concat(this.endpoint,"?identifier=").concat(this.identifier,"&page_num=").concat(t.id),{credentials:"same-origin",method:e,headers:this.headers,body:JSON.stringify({notes:n})})}},lA=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.bookmarks=[],n.bookreader={},n.editedBookmark={},n.modal=void 0,n.loginOptions={loginClicked:function(){},loginUrl:""},n.displayMode="bookmarks",n.bookmarkColors=[{id:0,className:"red"},{id:1,className:"blue"},{id:2,className:"green"}],n.defaultColor=n.bookmarkColors[0],n.api=sA,n.deleteModalConfig=new Qg({title:"Delete Bookmark",headline:"This bookmark contains a note. Deleting it will permanently delete the note. Are you sure?",headerColor:"#194880"}),_possibleConstructorReturn(n)}return _createClass(e,[{key:"updated",value:function(o){o.has("displayMode")&&this.updateDisplay(),this.emitBookmarksChanged()}},{key:"setup",value:function(){this.api.identifier=this.getIdentifier(),this.displayMode!=="login"&&(this.fetchUserBookmarks(),this.setBREventListeners())}},{key:"getIdentifier",value:function(){return this.bookreader.bookId!==this.bookreader.subPrefix?"".concat(this.bookreader.bookId,"/").concat(this.bookreader.subPrefix):this.bookreader.bookId}},{key:"updateDisplay",value:function(){this.displayMode==="bookmarks"&&this.fetchUserBookmarks()}},{key:"fetchUserBookmarks",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function o(){return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.t0=this.api.identifier,!a.t0){a.next=5;break}return a.next=4,this.fetchBookmarks();case 4:this.initializeBookmarks();case 5:case"end":return a.stop()}},o,this)}))}},{key:"setBREventListeners",value:function(){var o=this;["3PageViewSelected"].forEach(function(l){var a=o;window.addEventListener("BookReader:".concat(l),function(s){var r=a;setTimeout(function(){r.renderBookmarkButtons()},100)})}),["pageChanged","1PageViewSelected","2PageViewSelected"].forEach(function(l){var a=o;window.addEventListener("BookReader:".concat(l),function(s){var r=a;setTimeout(function(){r.renderBookmarkButtons(),r.markActiveBookmark()},100)})}),["zoomOut","zoomIn","resize"].forEach(function(l){var a=o;window.addEventListener("BookReader:".concat(l),function(){a.renderBookmarkButtons()})})}},{key:"initializeBookmarks",value:function(){this.renderBookmarkButtons(),this.markActiveBookmark(!0),this.emitBookmarksChanged()}},{key:"formatBookmark",value:function(o){var l=o.leafNum,a=l===void 0?"":l,s=o.notes,r=s===void 0?{}:s,d=r.note,c=d===void 0?"":d,h=r.color,f={note:c,color:this.getBookmarkColor(h)?h:this.defaultColor.id},v=e.formatPage(this.bookreader.book.getPageNum(a)),b=this.bookreader.book.getPageURI("".concat(a).replace(/\D/g,""),32);return bi(Zr({},f),{id:a,leafNum:a,page:v,thumbnail:b})}},{key:"fetchBookmarks",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function o(){var l,a,s,r,d,c,h,f,v;return _regeneratorRuntime.default.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return l=this,w.next=3,this.api.getAll().then(function(k){return k.text()});case 3:a=w.sent;try{s=JSON.parse(a)}catch(k){s={error:k.message}}return r=s.success,d=s.error,c=d===void 0?"Something happened while fetching bookmarks.":d,h=s.value,f=h===void 0?[]:h,r||(console==null||console.warn("Error fetching bookmarks",c)),v={},w.abrupt("return",(Object.keys(f).forEach(function(k){var C=f[k],E=parseInt(k,10),A=l.formatBookmark(bi(Zr({},C),{leafNum:E}));v[k]=A}),this.bookmarks=v,v));case 9:case"end":return w.stop()}},o,this)}))}},{key:"emitBookmarksChanged",value:function(){this.dispatchEvent(new CustomEvent("bookmarksChanged",{bubbles:!0,composed:!0,detail:{bookmarks:this.bookmarks}}))}},{key:"emitBookmarkButtonClicked",value:function(){this.dispatchEvent(new CustomEvent("bookmarkButtonClicked",{bubbles:!0,composed:!0,detail:{editedBookmark:this.editedBookmark}}))}},{key:"bookmarkButtonClicked",value:function(o){this.getBookmark(o)?this.confirmDeletion(o):this.createBookmark(o)}},{key:"renderBookmarkButtons",value:function(){var o=this;this.bookreader.$(".BRpagecontainer").not(".BRemptypage").get().forEach(function(l){var a=o,s=l.querySelector(".bookmark-button");s&&s.remove();var r=+l.classList.value.match(/pagediv\d+/)[0].replace(/\D/g,""),d=o.getBookmark(r),c=d?"filled":"hollow",h=o.bookreader.book.getPage(r),f=h.isViewable;if(f){var v=document.createElement("div");["mousedown","mouseup"].forEach(function(w){v.addEventListener(w,function(k){return k.stopPropagation()})}),v.classList.add("bookmark-button",c),d&&v.classList.add(o.getBookmarkColor(d.color));var b=l.getAttribute("data-side")==="L"&&o.bookreader.mode===o.bookreader.constMode2up?"left":"right";Hp(xt(_templateObject315(),function(){return a.bookmarkButtonClicked(r)},c,b),v),l.appendChild(v)}})}},{key:"markActiveBookmark",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,l=this.bookreader,a=l.mode,s=l.constMode2up,r=l.constModeThumb,d=this.bookreader.currentIndex();if(a===r){var c=this.bookmarks[d];o&&c&&(this.activeBookmarkID=d);return}if(!(a===s&&this.bookreader.displayedIndices.includes(+this.activeBookmarkID))){if(this.bookmarks[d]){this.activeBookmarkID=d;return}this.activeBookmarkID=""}}},{key:"bookmarkEdited",value:function(o){var l=o.detail,a=l.bookmark.id===this.editedBookmark.id;this.editedBookmark=a?{}:l.bookmark}},{key:"getBookmark",value:function(o){return this.bookmarks[o]}},{key:"getBookmarkColor",value:function(o){var l;return(l=this.bookmarkColors.find(function(a){return a.id===o}))==null?void 0:l.className}},{key:"addBookmark",value:function(){var o=this.bookreader.currentIndex();if(this.bookreader.mode===this.bookreader.constMode2up){var l=this.bookreader.displayedIndices;o=l[l.length-1]}this.createBookmark(o)}},{key:"createBookmark",value:function(o){var l=this.getBookmark(o);if(l){this.bookmarkEdited({detail:{bookmark:l}}),this.emitBookmarkButtonClicked();return}this.editedBookmark=this.formatBookmark({leafNum:o}),this.api.post(this.editedBookmark),this.bookmarks[o]=this.editedBookmark,this.activeBookmarkID=o,this.disableAddBookmarkButton=!0,this.renderBookmarkButtons(),this.emitBookmarkButtonClicked()}},{key:"bookmarkSelected",value:function(o){var l=o.detail,a=l.bookmark,s=a.leafNum;this.bookreader.jumpToPage("".concat(this.bookreader.book.getPageNum("".concat(s).replace(/\D/g,"")))),this.activeBookmarkID=s}},{key:"saveBookmark",value:function(o){var l=o.detail,a=this.bookmarks[l.bookmark.id];Object.assign(a,l.bookmark),this.api.put(a),this.editedBookmark={},this.renderBookmarkButtons()}},{key:"confirmDeletion",value:function(o){if(this.getBookmark(o).note){this.displayDeletionModal(o);return}this.deleteBookmark({detail:{id:"".concat(o)}})}},{key:"displayDeletionModal",value:function(o){var l=this,a=xt(_templateObject316(),function(){return l.deleteBookmark({detail:{id:"".concat(o)}})},function(){return l.modal.closeModal()},o);this.modal.showModal({config:this.deleteModalConfig,customModalContent:a})}},{key:"deleteBookmark",value:function(o){var l=o.detail,a=l.id,s=this.bookmarks;delete s[a],this.bookmarks=Zr({},s),this.api.delete(l.id),this.editedBookmark={},this.modal.closeModal(),this.renderBookmarkButtons()}},{key:"shouldEnableAddBookmarkButton",get:function(){var o=this.bookreader.mode===this.bookreader.constMode2up?this.bookreader.displayedIndices[this.bookreader.displayedIndices.length-1]:this.bookreader.currentIndex();return!!this.getBookmark(o)}},{key:"allowAddingBookmark",get:function(){return this.bookreader.mode!==this.bookreader.constModeThumb}},{key:"addBookmarkButton",get:function(){return xt(_templateObject317(),this.shouldEnableAddBookmarkButton,this.addBookmark)}},{key:"bookmarksList",get:function(){return xt(_templateObject318(),this.bookmarkEdited,this.bookmarkSelected,this.saveBookmark,this.deleteBookmark,this.editedBookmark,Zr({},this.bookmarks),this.activeBookmarkID,this.bookmarkColors,this.defaultColor)}},{key:"bookmarkHelperMessage",get:function(){return xt(_templateObject319())}},{key:"render",value:function(){var o=this,l=xt(_templateObject320(),this.bookmarksList,this.allowAddingBookmark?this.addBookmarkButton:this.bookmarkHelperMessage);return xt(_templateObject322(),this.displayMode==="login"?xt(_templateObject321(),function(){return o.loginOptions.loginClicked()},this.loginOptions.loginUrl):l)}}],[{key:"properties",get:function(){return{activeBookmarkID:{type:String},bookmarks:{type:Array},bookreader:{type:Object},displayMode:{type:String},editedBookmark:{type:Object},deleteModalConfig:{type:Object},modal:{attribute:!1},loginOptions:{type:Object,attribute:!1}}}},{key:"styles",get:function(){var o=Ut(_templateObject314());return[iu,o]}},{key:"formatPage",value:function(o){return isNaN(+o)?"(".concat(o.replace(/\D/g,""),")"):o}}]),e}(er),customElements.define("ia-bookmarks",lA),yy=Ut(_templateObject323()),uA=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.bookmark={},n.bookmarkColors=[],n.renderHeader=!1,n.showBookmark=!0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"emitSaveEvent",value:function(o){o.preventDefault(),this.dispatchEvent(new CustomEvent("saveBookmark",{detail:{bookmark:this.bookmark}}))}},{key:"emitDeleteEvent",value:function(){this.dispatchEvent(new CustomEvent("deleteBookmark",{detail:{id:this.bookmark.id}}))}},{key:"emitColorChangedEvent",value:function(o){this.dispatchEvent(new CustomEvent("bookmarkColorChanged",{detail:{bookmarkId:this.bookmark.id,colorId:o}}))}},{key:"changeColorTo",value:function(o){this.bookmark.color=o,this.emitColorChangedEvent(o)}},{key:"updateNote",value:function(o){this.bookmark.note=o.currentTarget.value}},{key:"bookmarkColor",value:function(o){var l=this;return xt(_templateObject325(),o.id,o.id,function(){return l.changeColorTo(o.id)},this.bookmark.color===o.id,o.id,o.className)}},{key:"bookmarkTemplate",get:function(){return xt(_templateObject326(),this.bookmark.thumbnail,this.bookmark.page)}},{key:"render",value:function(){return xt(_templateObject327(),this.renderHeader?e.headerSection:Vn,this.showBookmark?this.bookmarkTemplate:Vn,this.emitSaveEvent,this.updateNote,this.bookmark.note,Ql(this.bookmarkColors,function(o){return o.id},this.bookmarkColor.bind(this)),this.emitDeleteEvent)}}],[{key:"properties",get:function(){return{bookmark:{type:Object},bookmarkColors:{type:Array},renderHeader:{type:Boolean},showBookmark:{type:Boolean}}}},{key:"headerSection",get:function(){return xt(_templateObject324())}},{key:"styles",get:function(){var o=Ut(_templateObject328());return[iu,yy,o]}}]),e}(er),customElements.define("ia-bookmark-edit",uA),cA=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.activeBookmarkID=void 0,n.bookmarkColors=[],n.defaultBookmarkColor={},n.bookmarks={},n.editedBookmark={},n.renderHeader=!1,_possibleConstructorReturn(n)}return _createClass(e,[{key:"emitEditEvent",value:function(o,l){this.dispatchEvent(new CustomEvent("bookmarkEdited",{detail:{bookmark:l}}))}},{key:"emitSelectedEvent",value:function(o){this.activeBookmarkID=o.id,this.dispatchEvent(new CustomEvent("bookmarkSelected",{detail:{bookmark:o}}))}},{key:"emitSaveBookmark",value:function(o){this.dispatchEvent(new CustomEvent("saveBookmark",{detail:{bookmark:o}}))}},{key:"emitDeleteBookmark",value:function(o){this.dispatchEvent(new CustomEvent("deleteBookmark",{detail:{id:o}}))}},{key:"emitBookmarkColorChanged",value:function(o){var l=o.detail,a=l.bookmarkId,s=l.colorId;this.dispatchEvent(new CustomEvent("bookmarkColorChanged",{detail:{bookmarkId:a,colorId:s}}))}},{key:"emitAddBookmark",value:function(){this.dispatchEvent(new CustomEvent("addBookmark"))}},{key:"editBookmark",value:function(o,l){this.emitEditEvent(o,l),this.editedBookmark=this.editedBookmark===l?{}:l}},{key:"saveBookmark",value:function(o){var l=o.detail,a=l.bookmark;this.editedBookmark={},this.emitSaveBookmark(a)}},{key:"deleteBookmark",value:function(o){var l=o.detail,a=l.id;this.editedBookmark={},this.emitDeleteBookmark(a)}},{key:"bookmarkColorInfo",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.bookmarkColors.find(function(l){return(l==null?void 0:l.id)===o})}},{key:"bookmarkItem",value:function(o){var l=this,a=this.editedBookmark.id===o.id,s=this.bookmarkColorInfo(o.color),r=s.className,d=o.id===this.activeBookmarkID?"active":"";return xt(_templateObject330(),function(){return l.emitSelectedEvent(o)},o.id,d,function(c){return l.editBookmark(c,o)},r,o.page,!a&&o.note?xt(_templateObject329(),o.note):Vn,a?this.editBookmarkComponent:Vn)}},{key:"editBookmarkComponent",get:function(){return xt(_templateObject331(),this.editedBookmark,this.bookmarkColors,this.defaultBookmarkColor,!1,this.saveBookmark,this.deleteBookmark,this.emitBookmarkColorChanged)}},{key:"sortBookmarks",value:function(){var o=this;return Object.keys(this.bookmarks).sort(function(l,a){return+l>+a?1:+l<+a?-1:0}).map(function(l){return o.bookmarks[l]})}},{key:"bookmarksCount",get:function(){var o=this.bookmarks.length;return xt(_templateObject332(),o)}},{key:"headerSection",get:function(){return xt(_templateObject333(),this.bookmarks.length?this.bookmarksCount:Vn)}},{key:"bookmarkslist",get:function(){var o=this.sortBookmarks(),l=Ql(o,function(a){return a==null?void 0:a.id},this.bookmarkItem.bind(this));return xt(_templateObject334(),l)}},{key:"render",value:function(){return xt(_templateObject335(),this.renderHeader?this.headerSection:Vn,Object.keys(this.bookmarks).length?this.bookmarkslist:Vn)}}],[{key:"properties",get:function(){return{activeBookmarkID:{type:Number},bookmarkColors:{type:Array},defaultBookmarkColor:{type:Object},bookmarks:{type:Object},editedBookmark:{type:Object},renderHeader:{type:Boolean}}}},{key:"styles",get:function(){return[Ut(_templateObject336()),yy]}}]),e}(er),customElements.define("ia-bookmarks-list",cA),dA=function(){"use strict";function g(t){_classCallCheck(this,g);var e=t.baseHost,n=t.signedIn,o=t.bookreader,l=t.modal,a=t.onProviderChange,s="referer=".concat(encodeURIComponent(location.href)),r="https://".concat(e,"/account/login?").concat(s);this.component=document.createElement("ia-bookmarks"),this.component.bookreader=o,this.component.displayMode=n?"bookmarks":"login",this.component.modal=l,this.component.loginOptions={loginClicked:this.bookmarksLoginClicked,loginUrl:r},this.bindEvents(),this.icon=xt(_templateObject337()),this.label="Bookmarks",this.id="bookmarks",this.onProviderChange=a,this.component.setup(),this.updateMenu(this.component.bookmarks.length)}return _createClass(g,[{key:"updateMenu",value:function(e){this.menuDetails="(".concat(e,")")}},{key:"bindEvents",value:function(){this.component.addEventListener("bookmarksChanged",this.bookmarksChanged.bind(this))}},{key:"bookmarksChanged",value:function(e){var n=e.detail,o=Object.keys(n.bookmarks).length;this.updateMenu(o),this.onProviderChange(n.bookmarks,n.showSidePanel)}},{key:"bookmarksLoginClicked",value:function(){var e;(e=window.archive_analytics)==null||e.send_event_no_sampling("BookReader","BookmarksLogin",window.location.path)}}]),g}(),hA=function g(t){"use strict";var e=t.item,n=t.baseHost,o=t.bookreader;_classCallCheck(this,g);var l=e==null?void 0:e.metadata,a=l.identifier,s=l.creator,r=l.title,d=Array.isArray(s)?s[0]:s,c=o.options.subPrefix||"",h="Share this book";this.icon=xt(_templateObject338(),j8),this.label=h,this.id="share",this.component=xt(_templateObject339(),a,"book",d,r,n,c)},xc={title_asc:"title_asc",title_desc:"title_desc",default:"default"},fA=function(){"use strict";function g(t){var e=t.baseHost,n=t.bookreader,o=t.onProviderChange,l=this;_classCallCheck(this,g),this.bookreader=n,this.onProviderChange=o,this.baseHost=e;var a=n.options.multipleBooksList.by_subprefix;if(this.viewableFiles=Object.keys(a).map(function(r){return a[r]}),this.volumeCount=Object.keys(a).length,this.id="volumes",this.label="Viewable files (".concat(this.volumeCount,")"),this.icon=xt(_templateObject340(),k8),this.sortOrderBy=xc.default,this.component=document.createElement("iaux-in-viewable-files-panel"),this.component.addSortToUrl=!0,this.component.subPrefix=n.options.subPrefix||"",this.component.baseHost=e,this.component.fileList=_toConsumableArray(this.viewableFiles),this.sortFilesComponent=document.createElement("iaux-in-sort-files-button"),this.sortFilesComponent.fileListRaw=this.viewableFiles,this.sortFilesComponent.addEventListener("fileListSorted",function(r){return l.handleFileListSorted(r)}),this.actionButton=this.sortFilesComponent,this.bookreader.urlPlugin){this.bookreader.urlPlugin.pullFromAddressBar();var s=this.bookreader.urlPlugin.getUrlParam("sort");(s===xc.title_asc||s===xc.title_desc)&&(this.sortOrderBy=s)}this.sortFilesComponent.sortVolumes(this.sortOrderBy),this.onProviderChange(this.bookreader)}return _createClass(g,[{key:"handleFileListSorted",value:function(e){return $n(this,null,_regeneratorRuntime.default.mark(function n(){var o,l,a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.detail,l=o.sortType,a=o.sortedFiles,this.viewableFiles=a,this.sortOrderBy=l,this.component.fileList=_toConsumableArray(this.viewableFiles),r.next=6,this.component.updateComplete;case 6:this.bookreader.urlPlugin&&(this.bookreader.urlPlugin.pullFromAddressBar(),this.sortOrderBy!==xc.default?this.bookreader.urlPlugin.setUrlParam("sort",this.sortOrderBy):this.bookreader.urlPlugin.removeUrlParam("sort")),this.onProviderChange(this.bookreader),this.multipleFilesClicked(this.sortOrderBy);case 9:case"end":return r.stop()}},n,this)}))}},{key:"multipleFilesClicked",value:function(e){var n;(n=window.archive_analytics)==null||n.send_event("BookReader","VolumesSort|".concat(e),window.location.path)}}]),g}(),pA=Do(_templateObject341()),Sc={menuUpdated:"menuUpdated",updateSideMenu:"updateSideMenu",PostInit:"PostInit",ViewportInFullScreen:"ViewportInFullScreen"},vA=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.itemMD=void 0,n.loaded=!1,n.bookReaderCannotLoad=!1,n.bookReaderLoaded=!1,n.bookreader=null,n.bookIsRestricted=!1,n.downloadableTypes=[],n.isAdmin=!1,n.lendingInitialized=!1,n.lendingStatus={},n.menuProviders={},n.menuShortcuts=[],n.signedIn=!1,n.modal=void 0,n.sharedObserver=void 0,n.fullscreenBranding=pA,n.sharedObserverHandler=void 0,n.brWidth=0,n.brHeight=0,n.shortcutOrder=["fullscreen","volumes","chapters","search","bookmarks"],_possibleConstructorReturn(n)}return _createClass(e,[{key:"disconnectedCallback",value:function(){this.sharedObserver.removeObserver({target:this.mainBRContainer,handler:this.sharedObserverHandler})}},{key:"firstUpdated",value:function(){this.bindEventListeners(),this.emitPostInit(),this.loaded=!0}},{key:"updated",value:function(o){!this.bookreader||!this.itemMD||!this.bookReaderLoaded||((o.has("loaded")&&this.loaded||o.has("itemMD")||o.has("bookreader")||o.has("signedIn")||o.has("isAdmin")||o.has("modal"))&&this.initializeBookSubmenus(),o.has("sharedObserver")&&this.bookreader&&(this.loadSharedObserver(),this.initializeBookSubmenus()),o.has("downloadableTypes")&&this.initializeBookSubmenus())}},{key:"emitPostInit",value:function(){var o;this.dispatchEvent(new CustomEvent("BrBookNav:".concat(Sc.PostInit),{detail:{brSelector:(o=this.bookreader)==null?void 0:o.el},bubbles:!0,composed:!0}))}},{key:"baseProviderConfig",get:function(){return{baseHost:this.baseHost,modal:this.modal,sharedObserver:this.sharedObserver,bookreader:this.bookreader,item:this.itemMD,signedIn:this.signedIn,isAdmin:this.isAdmin,onProviderChange:function(){}}}},{key:"isWideEnoughToOpenMenu",get:function(){return this.brWidth>=640}},{key:"initializeBookSubmenus",value:function(){var o=this,l={visualAdjustments:new rA(bi(Zr({},this.baseProviderConfig),{onProviderChange:function(){o.updateMenuContents()}}))};this.baseProviderConfig.item&&(l.share=new hA(this.baseProviderConfig)),this.shouldShowDownloadsMenu()&&(l.downloads=new eA(this.baseProviderConfig)),this.bookreader.options.enableSearch&&(l.search=new Q8(bi(Zr({},this.baseProviderConfig),{onProviderChange:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=o;a&&(o.bookreader=a),o.updateMenuContents(),s.openMenu!==!1&&o.isWideEnoughToOpenMenu&&!(s!=null&&s.searchCanceled)&&setTimeout(function(){r.updateSideMenu("search","open")},0)}}))),this.bookreader.options.enableBookmarks&&(l.bookmarks=new dA(bi(Zr({},this.baseProviderConfig),{onProviderChange:function(a){var s=Object.keys(a).length?"add":"remove";o["".concat(s,"MenuShortcut")]("bookmarks"),o.updateMenuContents()}}))),this.bookreader.options.enableMultipleBooks&&(l.volumes=new fA(bi(Zr({},this.baseProviderConfig),{onProviderChange:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=o;a&&(o.bookreader=a),o.updateMenuContents(),o.isWideEnoughToOpenMenu&&setTimeout(function(){r.updateSideMenu("volumes","open")})}}))),Object.assign(this.menuProviders,l),this.addMenuShortcut("search"),this.addMenuShortcut("volumes"),this.updateMenuContents()}},{key:"mainBRContainer",get:function(){var o;return document.querySelector((o=this.bookreader)==null?void 0:o.el)}},{key:"addFullscreenShortcut",value:function(){var o={icon:this.fullscreenShortcut,id:"fullscreen"};this.menuShortcuts.push(o),this.sortMenuShortcuts(),this.emitMenuShortcutsUpdated()}},{key:"deleteFullscreenShortcut",value:function(){var o=this.menuShortcuts.filter(function(l){var a=l.id;return a!=="fullscreen"});this.menuShortcuts=o,this.sortMenuShortcuts(),this.emitMenuShortcutsUpdated()}},{key:"closeFullscreen",value:function(){this.bookreader.exitFullScreen()}},{key:"fullscreenShortcut",get:function(){var o=this;return xt(_templateObject342(),function(){return o.closeFullscreen()},this.fullscreenBranding)}},{key:"updateSideMenu",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"open";if(o){var a=new CustomEvent(Sc.updateSideMenu,{detail:{menuId:o,action:l}});this.dispatchEvent(a)}}},{key:"updateMenuContents",value:function(){var o=this.menuProviders,l=o.search,a=o.downloads,s=o.visualAdjustments,r=o.share,d=o.bookmarks,c=o.volumes,h=o.chapters,f=[c,h,l,d,s,r].filter(function(b){return!!b});this.shouldShowDownloadsMenu()&&(a==null||a.update(this.downloadableTypes),f.splice(-2,0,a));var v=new CustomEvent(Sc.menuUpdated,{detail:f});this.dispatchEvent(v)}},{key:"shouldShowDownloadsMenu",value:function(){if(!this.downloadableTypes.length)return!1;if(this.bookIsRestricted===!1||this.isAdmin)return!0;var o=this.lendingStatus,l=o.user_loan_record,a=l===void 0?{}:l;return Array.isArray(a)?!1:a.type&&a.type!=="SESSION_LOAN"}},{key:"addMenuShortcut",value:function(o){this.menuShortcuts.find(function(l){return l.id===o})||this.menuProviders[o]&&(this.menuShortcuts.push(this.menuProviders[o]),this.sortMenuShortcuts(),this.emitMenuShortcutsUpdated())}},{key:"removeMenuShortcut",value:function(o){this.menuShortcuts=this.menuShortcuts.filter(function(l){return l.id!==o}),this.emitMenuShortcutsUpdated()}},{key:"sortMenuShortcuts",value:function(){var o=this;this.menuShortcuts=this.shortcutOrder.reduce(function(l,a){var s=o.menuShortcuts.find(function(r){return r.id===a});return s&&l.push(s),l},[])}},{key:"emitMenuShortcutsUpdated",value:function(){var o=new CustomEvent("menuShortcutsUpdated",{detail:this.menuShortcuts});this.dispatchEvent(o)}},{key:"emitLoadingStatusUpdate",value:function(o){var l=new CustomEvent("loadingStateUpdated",{detail:{loaded:o}});this.dispatchEvent(l)}},{key:"bindEventListeners",value:function(){var o=this;window.addEventListener("BookReader:PostInit",function(l){var a=o;o.bookreader=l.detail.props,o.bookreader.shell=o,o.bookReaderLoaded=!0,o.bookReaderCannotLoad=!1,o.emitLoadingStatusUpdate(!0),o.loadSharedObserver(),setTimeout(function(){a.bookreader.resize()},0)}),window.addEventListener("BookReader:fullscreenToggled",function(l){var a=l.detail,s=a.props,r=s===void 0?null:s;r&&(o.bookreader=r),o.manageFullScreenBehavior()},{passive:!0}),window.addEventListener("BookReader:ToggleSearchMenu",function(l){o.dispatchEvent(new CustomEvent(Sc.updateSideMenu,{detail:{menuId:"search",action:"toggle"}}))}),window.addEventListener("LendingFlow:PostInit",function(l){var a=l.detail,s=a.downloadTypesAvailable,r=a.lendingStatus,d=a.isAdmin,c=a.previewType;o.lendingInitialized=!0,o.downloadableTypes=s,o.lendingStatus=r,o.isAdmin=d,o.bookReaderCannotLoad=c==="singlePagePreview",o.emitLoadingStatusUpdate(!0)}),window.addEventListener("BRJSIA:PostInit",function(l){var a=l.detail,s=a.isRestricted,r=a.downloadURLs;o.bookReaderLoaded=!0,o.downloadableTypes=r,o.bookIsRestricted=s}),window.addEventListener("contextmenu",function(l){return o.manageContextMenuVisibility(l)},{capture:!0})}},{key:"manageContextMenuVisibility",value:function(o){var l,a,s;if((s=window.archive_analytics)==null||s.send_event("BookReader","contextmenu-".concat(this.bookIsRestricted?"restricted":"unrestricted"),(a=(l=o.target)==null?void 0:l.classList)==null?void 0:a.value),!(!this.bookIsRestricted||!o.target.classList.value.match(/BRscreen|BRpageimage/g)))return o.preventDefault(),!1}},{key:"loadSharedObserver",value:function(){var o;this.sharedObserverHandler={handleResize:this.handleResize.bind(this)},(o=this.sharedObserver)==null||o.addObserver({target:this.mainBRContainer,handler:this.sharedObserverHandler})}},{key:"handleResize",value:function(o){var l=o.contentRect,a=o.target,s,r=this.brWidth,d=this.brHeight,c=this.bookreader,h=c.animating;a===this.mainBRContainer&&(this.brWidth=l.width,this.brHeight=l.height),!r&&this.brWidth&&this.initializeBookSubmenus();var f=r!==this.brWidth,v=d!==this.brHeight;!h&&(f||v)&&((s=this.bookreader)==null||s.resize())}},{key:"manageFullScreenBehavior",value:function(){this.emitFullScreenState(),this.bookreader.options.enableFSLogoShortcut&&(this.bookreader.isFullscreen()?this.addFullscreenShortcut():this.deleteFullscreenShortcut())}},{key:"emitFullScreenState",value:function(){var o=this.bookreader.isFullscreen(),l=new CustomEvent("ViewportInFullScreen",{detail:{isFullScreen:o}});this.dispatchEvent(l)}},{key:"itemImage",get:function(){var o,l=(o=this.itemMD)==null?void 0:o.metadata.identifier,a="https://".concat(this.baseHost,"/services/img/").concat(l);return xt(_templateObject343(),a,l)}},{key:"placeholder",get:function(){return xt(_templateObject344(),this.itemImage)}},{key:"render",value:function(){return xt(_templateObject346(),this.bookReaderCannotLoad?this.placeholder:Vn,this.bookReaderCannotLoad?Vn:xt(_templateObject345()))}}],[{key:"properties",get:function(){return{itemMD:{type:Object},bookReaderLoaded:{type:Boolean},bookreader:{type:Object},bookIsRestricted:{type:Boolean},downloadableTypes:{type:Array},isAdmin:{type:Boolean},lendingInitialized:{type:Boolean},lendingStatus:{type:Object},menuProviders:{type:Object},menuShortcuts:{type:Array},signedIn:{type:Boolean},loaded:{type:Boolean},sharedObserver:{type:Object,attribute:!1},modal:{type:Object,attribute:!1},fullscreenBranding:{type:Object}}}},{key:"styles",get:function(){return Ut(_templateObject347())}}]),e}(er),customElements.define("book-navigator",vA),by=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.item=void 0,n.bookreader=void 0,n.baseHost="archive.org",n.fullscreen=!1,n.signedIn=!1,n.modal=void 0,n.sharedObserver=void 0,n.loaded=!1,n.menuShortcuts=[],n.menuContents=[],n.openMenuName="",_possibleConstructorReturn(n)}return _createClass(e,[{key:"updated",value:function(){this.modal||this.setModalManager(),this.sharedObserver||(this.sharedObserver=new Ya)}},{key:"itemNav",get:function(){return this.shadowRoot.querySelector("iaux-item-navigator")}},{key:"setModalManager",value:function(){var o=document.querySelector("modal-manager");o||(o=document.createElement("modal-manager"),document.body.appendChild(o)),this.modal=o}},{key:"manageFullscreen",value:function(o){var l=o.detail,a=!!l.isFullScreen;this.fullscreen=a,this.dispatchEvent(new CustomEvent("fullscreenStateUpdated",{detail:{fullscreen:a}}))}},{key:"loadingStateUpdated",value:function(o){var l=o.detail,a=l.loaded;this.loaded=a||null,this.dispatchEvent(new CustomEvent("loadingStateUpdated",{detail:{loaded:a}}))}},{key:"setMenuShortcuts",value:function(o){this.menuShortcuts=_toConsumableArray(o.detail)}},{key:"setMenuContents",value:function(o){var l=_toConsumableArray(o.detail);this.menuContents=l}},{key:"manageSideMenuEvents",value:function(o){var l,a,s=o.detail,r=s.menuId,d=s.action;r&&(this.openMenuName=r,d==="open"?(l=this.itemNav)==null||l.openShortcut(r):d==="toggle"&&((a=this.itemNav)==null||a.toggleMenu()))}},{key:"render",value:function(){return xt(_templateObject348(),this.fullscreen,this.baseHost,this.item,this.modal,this.loaded,this.sharedObserver,this.signedIn,this.menuShortcuts,this.menuContents,this.openMenuName,this.modal,this.baseHost,this.item,this.signedIn,this.menuOpened,this.sharedObserver,this.manageFullscreen,this.loadingStateUpdated,this.manageSideMenuEvents,this.setMenuContents,this.setMenuShortcuts)}}],[{key:"properties",get:function(){return{item:{type:Object},baseHost:{type:String},signedIn:{type:Boolean},fullscreen:{type:Boolean,reflect:!0,attribute:!0},sharedObserver:{type:Object,attribute:!1},modal:{type:Object,attribute:!1},loaded:{type:Boolean},menuShortcuts:{type:Array},menuContents:{type:Array}}}},{key:"styles",get:function(){return Ut(_templateObject349())}}]),e}(er),window.customElements.define("ia-bookreader",by)}}),mA={};wi(mA,{IaBookReader:function(){return by}});var EP=Ht({"https-url:https://esm.archive.org/@internetarchive/bookreader@5.0.0-82":function(){xn(),c8(),bc(),Nl(),y8(),Jg(),S8(),O8(),ey(),P8(),Jl(),L8(),$8(),Xh(),Xu(),X8(),jP()}});function ou(g,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g,n=arguments.length>3?arguments[3]:void 0,o,l,a,s;if(t===tl)return t;var r=n!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[n]:e._$Cl,d=su(t)?void 0:t._$litDirective$;return(r==null?void 0:r.constructor)!==d&&((l=r==null?void 0:r._$AO)===null||l===void 0||l.call(r,!1),d===void 0?r=void 0:(r=new d(g),r._$AT(g,e,n)),n!==void 0?((a=(s=e)._$Co)!==null&&a!==void 0?a:s._$Co=[])[n]=r:e._$Cl=r),r!==void 0&&(t=ou(g,r._$AS(g,t.values),r,n)),t}var gA,Cc,Jh,Zh,wy,_y,yA,ky,bA,xy,Sy,Ac,Cy,wA,Ay,ef,Oy,tf,Js,jy,Oc,Zs,Ey,ja,Ty,_A,el,au,su,Py,kA,lu,Iy,My,cs,Ly,Ry,Dy,$y,uu,TP,tl,$i,Ny,nl,xA,jc,SA,Ec,Tc,CA,AA,OA,jA,EA,By,TA,zy,Fy,rl,Hy,PA=Ht({"https-url:https://offshoot.prod.archive.org/lit.js":function(){gA=function(g,t,e){return new Promise(function(n,o){var l=function(r){try{s(e.next(r))}catch(d){o(d)}},a=function(r){try{s(e.throw(r))}catch(d){o(d)}},s=function(r){return r.done?n(r.value):Promise.resolve(r.value).then(l,a)};s((e=e.apply(g,t)).next())})},Cc=window,Jh=Cc.ShadowRoot&&(Cc.ShadyCSS===void 0||Cc.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Zh=Symbol(),wy=new WeakMap,_y=function(){"use strict";function g(t,e,n){if(_classCallCheck(this,g),this._$cssResult$=!0,n!==Zh)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}return _createClass(g,[{key:"styleSheet",get:function(){var e=this.o,n=this.t;if(Jh&&e===void 0){var o=n!==void 0&&n.length===1;o&&(e=wy.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),o&&wy.set(n,e))}return e}},{key:"toString",value:function(){return this.cssText}}]),g}(),yA=function(g){return new _y(typeof g=="string"?g:g+"",void 0,Zh)},ky=function(g){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];var o=g.length===1?g[0]:e.reduce(function(l,a,s){return l+function(r){if(r._$cssResult$===!0)return r.cssText;if(typeof r=="number")return r;throw Error("Value passed to 'css' function must be a 'css' function result: "+r+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")}(a)+g[s+1]},g[0]);return new _y(o,g,Zh)},bA=function(g,t){Jh?g.adoptedStyleSheets=t.map(function(e){return _instanceof(e,CSSStyleSheet)?e:e.styleSheet}):t.forEach(function(e){var n=document.createElement("style"),o=Cc.litNonce;o!==void 0&&n.setAttribute("nonce",o),n.textContent=e.cssText,g.appendChild(n)})},xy=Jh?function(g){return g}:function(g){return _instanceof(g,CSSStyleSheet)?function(t){var e="",n=!0,o=!1,l=void 0;try{for(var a=t.cssRules[Symbol.iterator](),s;!(n=(s=a.next()).done);n=!0){var r=s.value;e+=r.cssText}}catch(d){o=!0,l=d}finally{try{!n&&a.return!=null&&a.return()}finally{if(o)throw l}}return yA(e)}(g):g},Ac=window,Cy=Ac.trustedTypes,wA=Cy?Cy.emptyScript:"",Ay=Ac.reactiveElementPolyfillSupport,ef={toAttribute:function(t,e){switch(e){case Boolean:t=t?wA:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute:function(t,e){var n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch(o){n=null}}return n}},Oy=function(g,t){return t!==g&&(t==t||g==g)},tf={attribute:!0,type:String,converter:ef,reflect:!1,hasChanged:Oy},Js=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n._$Ei=new Map,n.isUpdatePending=!1,n.hasUpdated=!1,n._$El=null,n.u(),_possibleConstructorReturn(n)}return _createClass(e,[{key:"u",value:function(){var o=this,l;this._$E_=new Promise(function(a){return o.enableUpdating=a}),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(l=this.constructor.h)===null||l===void 0||l.forEach(function(a){return a(o)})}},{key:"addController",value:function(o){var l,a;((l=this._$ES)!==null&&l!==void 0?l:this._$ES=[]).push(o),this.renderRoot!==void 0&&this.isConnected&&((a=o.hostConnected)===null||a===void 0||a.call(o))}},{key:"removeController",value:function(o){var l;(l=this._$ES)===null||l===void 0||l.splice(this._$ES.indexOf(o)>>>0,1)}},{key:"_$Eg",value:function(){var o=this;this.constructor.elementProperties.forEach(function(l,a){o.hasOwnProperty(a)&&(o._$Ei.set(a,o[a]),delete o[a])})}},{key:"createRenderRoot",value:function(){var o,l=(o=this.shadowRoot)!==null&&o!==void 0?o:this.attachShadow(this.constructor.shadowRootOptions);return bA(l,this.constructor.elementStyles),l}},{key:"connectedCallback",value:function(){var o;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(o=this._$ES)===null||o===void 0||o.forEach(function(l){var a;return(a=l.hostConnected)===null||a===void 0?void 0:a.call(l)})}},{key:"enableUpdating",value:function(o){}},{key:"disconnectedCallback",value:function(){var o;(o=this._$ES)===null||o===void 0||o.forEach(function(l){var a;return(a=l.hostDisconnected)===null||a===void 0?void 0:a.call(l)})}},{key:"attributeChangedCallback",value:function(o,l,a){this._$AK(o,a)}},{key:"_$EO",value:function(o,l){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:tf,s,r=this.constructor._$Ep(o,a);if(r!==void 0&&a.reflect===!0){var d=(((s=a.converter)===null||s===void 0?void 0:s.toAttribute)!==void 0?a.converter:ef).toAttribute(l,a.type);this._$El=o,d==null?this.removeAttribute(r):this.setAttribute(r,d),this._$El=null}}},{key:"_$AK",value:function(o,l){var a,s=this.constructor,r=s._$Ev.get(o);if(r!==void 0&&this._$El!==r){var d=s.getPropertyOptions(r),c=typeof d.converter=="function"?{fromAttribute:d.converter}:((a=d.converter)===null||a===void 0?void 0:a.fromAttribute)!==void 0?d.converter:ef;this._$El=r,this[r]=c.fromAttribute(l,d.type),this._$El=null}}},{key:"requestUpdate",value:function(o,l,a){var s=!0;o!==void 0&&(((a=a||this.constructor.getPropertyOptions(o)).hasChanged||Oy)(this[o],l)?(this._$AL.has(o)||this._$AL.set(o,l),a.reflect===!0&&this._$El!==o&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(o,a))):s=!1),!this.isUpdatePending&&s&&(this._$E_=this._$Ej())}},{key:"_$Ej",value:function(){return gA(this,null,_regeneratorRuntime.default.mark(function o(){var l;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.isUpdatePending=!0,s.prev=1,s.next=4,this._$E_;case 4:s.next=9;break;case 6:s.prev=6,s.t0=s.catch(1),Promise.reject(s.t0);case 9:if(l=this.scheduleUpdate(),s.t1=l!=null,!s.t1){s.next=14;break}return s.next=14,l;case 14:return s.abrupt("return",(s.t1&&s.sent,!this.isUpdatePending));case 15:case"end":return s.stop()}},o,this,[[1,6]])}))}},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){var o=this,l;if(this.isUpdatePending){this.hasUpdated,this._$Ei&&(this._$Ei.forEach(function(r,d){return o[d]=r}),this._$Ei=void 0);var a=!1,s=this._$AL;try{a=this.shouldUpdate(s),a?(this.willUpdate(s),(l=this._$ES)===null||l===void 0||l.forEach(function(r){var d;return(d=r.hostUpdate)===null||d===void 0?void 0:d.call(r)}),this.update(s)):this._$Ek()}catch(r){throw a=!1,this._$Ek(),r}a&&this._$AE(s)}}},{key:"willUpdate",value:function(o){}},{key:"_$AE",value:function(o){var l;(l=this._$ES)===null||l===void 0||l.forEach(function(a){var s;return(s=a.hostUpdated)===null||s===void 0?void 0:s.call(a)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(o)),this.updated(o)}},{key:"_$Ek",value:function(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._$E_}},{key:"shouldUpdate",value:function(o){return!0}},{key:"update",value:function(o){var l=this;this._$EC!==void 0&&(this._$EC.forEach(function(a,s){return l._$EO(s,l[s],a)}),this._$EC=void 0),this._$Ek()}},{key:"updated",value:function(o){}},{key:"firstUpdated",value:function(o){}}],[{key:"addInitializer",value:function(o){var l;this.finalize(),((l=this.h)!==null&&l!==void 0?l:this.h=[]).push(o)}},{key:"observedAttributes",get:function(){var o=this;this.finalize();var l=[];return this.elementProperties.forEach(function(a,s){var r=o._$Ep(s,a);r!==void 0&&(o._$Ev.set(r,s),l.push(r))}),l}},{key:"createProperty",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tf;if(l.state&&(l.attribute=!1),this.finalize(),this.elementProperties.set(o,l),!l.noAccessor&&!this.prototype.hasOwnProperty(o)){var a=(typeof o=="undefined"?"undefined":_typeof(o))=="symbol"?Symbol():"__"+o,s=this.getPropertyDescriptor(o,a,l);s!==void 0&&Object.defineProperty(this.prototype,o,s)}}},{key:"getPropertyDescriptor",value:function(o,l,a){return{get:function(){return this[l]},set:function(r){var d=this[o];this[l]=r,this.requestUpdate(o,d,a)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(o){return this.elementProperties.get(o)||tf}},{key:"finalize",value:function(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;var o=Object.getPrototypeOf(this);if(o.finalize(),o.h!==void 0&&(this.h=_toConsumableArray(o.h)),this.elementProperties=new Map(o.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){var l=this.properties,a=_toConsumableArray(Object.getOwnPropertyNames(l)).concat(_toConsumableArray(Object.getOwnPropertySymbols(l))),s=!0,r=!1,d=void 0;try{for(var c=a[Symbol.iterator](),h;!(s=(h=c.next()).done);s=!0){var f=h.value;this.createProperty(f,l[f])}}catch(v){r=!0,d=v}finally{try{!s&&c.return!=null&&c.return()}finally{if(r)throw d}}}return this.elementStyles=this.finalizeStyles(this.styles),!0}},{key:"finalizeStyles",value:function(o){var l=[];if(Array.isArray(o)){var a=new Set(o.flat(1/0).reverse()),s=!0,r=!1,d=void 0;try{for(var c=a[Symbol.iterator](),h;!(s=(h=c.next()).done);s=!0){var f=h.value;l.unshift(xy(f))}}catch(v){r=!0,d=v}finally{try{!s&&c.return!=null&&c.return()}finally{if(r)throw d}}}else o!==void 0&&l.push(xy(o));return l}},{key:"_$Ep",value:function(o,l){var a=l.attribute;return a===!1?void 0:typeof a=="string"?a:typeof o=="string"?o.toLowerCase():void 0}}]),e}(_wrapNativeSuper(HTMLElement)),Js.finalized=!0,Js.elementProperties=new Map,Js.elementStyles=[],Js.shadowRootOptions={mode:"open"},Ay==null||Ay({ReactiveElement:Js}),((Sy=Ac.reactiveElementVersions)!==null&&Sy!==void 0?Sy:Ac.reactiveElementVersions=[]).push("1.5.0"),Oc=window,Zs=Oc.trustedTypes,Ey=Zs?Zs.createPolicy("lit-html",{createHTML:function(g){return g}}):void 0,ja="lit$".concat((Math.random()+"").slice(9),"$"),Ty="?"+ja,_A="<".concat(Ty,">"),el=document,au=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return el.createComment(g)},su=function(g){return g===null||typeof g!="object"&&typeof g!="function"},Py=Array.isArray,kA=function(g){return Py(g)||typeof(g==null?void 0:g[Symbol.iterator])=="function"},lu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Iy=/-->/g,My=/>/g,cs=RegExp(">|[ 	\n\f\r](?:([^\\s\"'>=/]+)([ 	\n\f\r]*=[ 	\n\f\r]*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)","g"),Ly=/'/g,Ry=/"/g,Dy=/^(?:script|style|textarea|title)$/i,$y=function(g){return function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return{_$litType$:g,strings:t,values:n}}},uu=$y(1),TP=$y(2),tl=Symbol.for("lit-noChange"),$i=Symbol.for("lit-nothing"),Ny=new WeakMap,nl=el.createTreeWalker(el,129,null,!1),xA=function(g,t){for(var e=g.length-1,n=[],o,l=t===2?"<svg>":"",a=lu,s=0;s<e;s++){for(var r=g[s],d=void 0,c=void 0,h=-1,f=0;f<r.length&&(a.lastIndex=f,c=a.exec(r),c!==null);)f=a.lastIndex,a===lu?c[1]==="!--"?a=Iy:c[1]!==void 0?a=My:c[2]!==void 0?(Dy.test(c[2])&&(o=RegExp("</"+c[2],"g")),a=cs):c[3]!==void 0&&(a=cs):a===cs?c[0]===">"?(a=o!=null?o:lu,h=-1):c[1]===void 0?h=-2:(h=a.lastIndex-c[2].length,d=c[1],a=c[3]===void 0?cs:c[3]==='"'?Ry:Ly):a===Ry||a===Ly?a=cs:a===Iy||a===My?a=lu:(a=cs,o=void 0);var v=a===cs&&g[s+1].startsWith("/>")?" ":"";l+=a===lu?r+_A:h>=0?(n.push(d),r.slice(0,h)+"$lit$"+r.slice(h)+ja+v):r+ja+(h===-2?(n.push(void 0),s):v)}var b=l+(g[e]||"<?>")+(t===2?"</svg>":"");if(!Array.isArray(g)||!g.hasOwnProperty("raw"))throw Error("invalid template strings array");return[Ey!==void 0?Ey.createHTML(b):b,n]},jc=function(){"use strict";function g(t,e){var n=t.strings,o=t._$litType$;_classCallCheck(this,g);var l;this.parts=[];var a=0,s=0,r=n.length-1,d=this.parts,c=_slicedToArray(xA(n,o),2),h=c[0],f=c[1];if(this.el=jc.createElement(h,e),nl.currentNode=this.el.content,o===2){var v,b=this.el.content,w=b.firstChild;w.remove(),(v=b).append.apply(v,_toConsumableArray(w.childNodes))}for(;(l=nl.nextNode())!==null&&d.length<r;){if(l.nodeType===1){if(l.hasAttributes()){var k=[],C=!0,E=!1,A=void 0;try{for(var j=l.getAttributeNames()[Symbol.iterator](),y;!(C=(y=j.next()).done);C=!0){var u=y.value;if(u.endsWith("$lit$")||u.startsWith(ja)){var p=f[s++];if(k.push(u),p!==void 0){var m=l.getAttribute(p.toLowerCase()+"$lit$").split(ja),_=/([.?@])?(.*)/.exec(p);d.push({type:1,index:a,name:_[2],strings:m,ctor:_[1]==="."?CA:_[1]==="?"?OA:_[1]==="@"?jA:Tc})}else d.push({type:6,index:a})}}}catch(B){E=!0,A=B}finally{try{!C&&j.return!=null&&j.return()}finally{if(E)throw A}}var x=!0,O=!1,I=void 0;try{for(var P=k[Symbol.iterator](),D;!(x=(D=P.next()).done);x=!0){var V=D.value;l.removeAttribute(V)}}catch(B){O=!0,I=B}finally{try{!x&&P.return!=null&&P.return()}finally{if(O)throw I}}}if(Dy.test(l.tagName)){var q=l.textContent.split(ja),z=q.length-1;if(z>0){l.textContent=Zs?Zs.emptyScript:"";for(var he=0;he<z;he++)l.append(q[he],au()),nl.nextNode(),d.push({type:2,index:++a});l.append(q[z],au())}}}else if(l.nodeType===8)if(l.data===Ty)d.push({type:2,index:a});else for(var Y=-1;(Y=l.data.indexOf(ja,Y+1))!==-1;)d.push({type:7,index:a}),Y+=ja.length-1;a++}}return _createClass(g,null,[{key:"createElement",value:function(e,n){var o=el.createElement("template");return o.innerHTML=e,o}}]),g}(),SA=function(){"use strict";function g(t,e){_classCallCheck(this,g),this.u=[],this._$AN=void 0,this._$AD=t,this._$AM=e}return _createClass(g,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"v",value:function(e){var n,o=this._$AD,l=o.el,a=l.content,s=o.parts,r=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:el).importNode(a,!0);nl.currentNode=r;for(var d=nl.nextNode(),c=0,h=0,f=s[0];f!==void 0;){if(c===f.index){var v=void 0;f.type===2?v=new Ec(d,d.nextSibling,this,e):f.type===1?v=new f.ctor(d,f.name,f.strings,this,e):f.type===6&&(v=new EA(d,this,e)),this.u.push(v),f=s[++h]}c!==(f==null?void 0:f.index)&&(d=nl.nextNode(),c++)}return r}},{key:"p",value:function(e){var n=0,o=!0,l=!1,a=void 0;try{for(var s=this.u[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var d=r.value;d!==void 0&&(d.strings!==void 0?(d._$AI(e,d,n),n+=d.strings.length-2):d._$AI(e[n])),n++}}catch(c){l=!0,a=c}finally{try{!o&&s.return!=null&&s.return()}finally{if(l)throw a}}}}]),g}(),Ec=function(){"use strict";function g(t,e,n,o){_classCallCheck(this,g);var l;this.type=2,this._$AH=$i,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=o,this._$Cm=(l=o==null?void 0:o.isConnected)===null||l===void 0||l}return _createClass(g,[{key:"_$AU",get:function(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cm}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,n=this._$AM;return n!==void 0&&e.nodeType===11&&(e=n.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=ou(this,e,n),su(e)?e===$i||e==null||e===""?(this._$AH!==$i&&this._$AR(),this._$AH=$i):e!==this._$AH&&e!==tl&&this.g(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):kA(e)?this.k(e):this.g(e)}},{key:"O",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._$AB;return this._$AA.parentNode.insertBefore(e,n)}},{key:"T",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}},{key:"g",value:function(e){this._$AH!==$i&&su(this._$AH)?this._$AA.nextSibling.data=e:this.T(el.createTextNode(e)),this._$AH=e}},{key:"$",value:function(e){var n,o=e.values,l=e._$litType$,a=typeof l=="number"?this._$AC(e):(l.el===void 0&&(l.el=jc.createElement(l.h,this.options)),l);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===a)this._$AH.p(o);else{var s=new SA(a,this),r=s.v(this.options);s.p(o),this.T(r),this._$AH=s}}},{key:"_$AC",value:function(e){var n=Ny.get(e.strings);return n===void 0&&Ny.set(e.strings,n=new jc(e)),n}},{key:"k",value:function(e){Py(this._$AH)||(this._$AH=[],this._$AR());var n=this._$AH,o,l=0,a=!0,s=!1,r=void 0;try{for(var d=e[Symbol.iterator](),c;!(a=(c=d.next()).done);a=!0){var h=c.value;l===n.length?n.push(o=new Ec(this.O(au()),this.O(au()),this,this.options)):o=n[l],o._$AI(h),l++}}catch(f){s=!0,r=f}finally{try{!a&&d.return!=null&&d.return()}finally{if(s)throw r}}l<n.length&&(this._$AR(o&&o._$AB.nextSibling,l),n.length=l)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,n);e&&e!==this._$AB;){var l=e.nextSibling;e.remove(),e=l}}},{key:"setConnected",value:function(e){var n;this._$AM===void 0&&(this._$Cm=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}]),g}(),Tc=function(){"use strict";function g(t,e,n,o,l){_classCallCheck(this,g),this.type=1,this._$AH=$i,this._$AN=void 0,this.element=t,this.name=e,this._$AM=o,this.options=l,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=$i}return _createClass(g,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,a=this.strings,s=!1;if(a===void 0)e=ou(this,e,n,0),s=!su(e)||e!==this._$AH&&e!==tl,s&&(this._$AH=e);else{var r=e,d,c;for(e=a[0],d=0;d<a.length-1;d++)c=ou(this,r[o+d],n,d),c===tl&&(c=this._$AH[d]),s||(s=!su(c)||c!==this._$AH[d]),c===$i?e=$i:e!==$i&&(e+=(c!=null?c:"")+a[d+1]),this._$AH[d]=c}s&&!l&&this.j(e)}},{key:"j",value:function(e){e===$i?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),g}(),CA=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=3,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===$i?void 0:o}}]),e}(Tc),AA=Zs?Zs.emptyScript:"",OA=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=4,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){o&&o!==$i?this.element.setAttribute(this.name,AA):this.element.removeAttribute(this.name)}}]),e}(Tc),jA=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n,o,l,a,s){_classCallCheck(this,e);var r;return r=t.call(this,n,o,l,a,s),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,a;if((o=(a=ou(this,o,l,0))!==null&&a!==void 0?a:$i)!==tl){var s=this._$AH,r=o===$i&&s!==$i||o.capture!==s.capture||o.once!==s.once||o.passive!==s.passive,d=o!==$i&&(s===$i||r);r&&this.element.removeEventListener(this.name,this,s),d&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var l,a;typeof this._$AH=="function"?this._$AH.call((a=(l=this.options)===null||l===void 0?void 0:l.host)!==null&&a!==void 0?a:this.element,o):this._$AH.handleEvent(o)}}]),e}(Tc),EA=function(){"use strict";function g(t,e,n){_classCallCheck(this,g),this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}return _createClass(g,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){ou(this,e)}}]),g}(),By=Oc.litHtmlPolyfillSupport,By==null||By(jc,Ec),((jy=Oc.litHtmlVersions)!==null&&jy!==void 0?jy:Oc.litHtmlVersions=[]).push("2.5.0"),TA=function(g,t,e){var n,o,l=(n=e==null?void 0:e.renderBefore)!==null&&n!==void 0?n:t,a=l._$litPart$;if(a===void 0){var s=(o=e==null?void 0:e.renderBefore)!==null&&o!==void 0?o:null;l._$litPart$=a=new Ec(t.insertBefore(au(),s),s,void 0,e!=null?e:{})}return a._$AI(g),a},rl=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.renderOptions={host:_assertThisInitialized(n)},n._$Do=void 0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"createRenderRoot",value:function(){var o,l,a=_get(_getPrototypeOf(e.prototype),"createRenderRoot",this).call(this);return(o=(l=this.renderOptions).renderBefore)!==null&&o!==void 0||(l.renderBefore=a.firstChild),a}},{key:"update",value:function(o){var l=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),_get(_getPrototypeOf(e.prototype),"update",this).call(this,o),this._$Do=TA(l,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function(){var o;_get(_getPrototypeOf(e.prototype),"connectedCallback",this).call(this),(o=this._$Do)===null||o===void 0||o.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var o;_get(_getPrototypeOf(e.prototype),"disconnectedCallback",this).call(this),(o=this._$Do)===null||o===void 0||o.setConnected(!1)}},{key:"render",value:function(){return tl}}]),e}(Js),rl.finalized=!0,rl._$litElement$=!0,(zy=globalThis.litElementHydrateSupport)===null||zy===void 0||zy.call(globalThis,{LitElement:rl}),Hy=globalThis.litElementPolyfillSupport,Hy==null||Hy({LitElement:rl}),((Fy=globalThis.litElementVersions)!==null&&Fy!==void 0?Fy:globalThis.litElementVersions=[]).push("3.2.2")}}),PP=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/ia-music-player@1.2.0/esnext/dist/src/photo-viewer/bookreader-utils.js":function(){}}),IP=Ht({"https-url:https://esm.archive.org/@internetarchive/ia-music-player@1.2.0/dist/src/photo-viewer/bookreader-utils.js":function(){PP()}}),Po,IA,Qo,nf,wo,ci,MA,Uy,LA,RA,DA,kr,Ea,Pc,Vy,$A,NA,il,rf,BA,zA,Wy,cu=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/search-service@0.3.4/esnext/search-service.mjs":function(){Fr(),jo(),Oi(),Fr(),jo(),Oi(),Oi(),Oi(),Oi(),Oi(),Oi(),Oi(),Oi(),Fr(),jo(),Oi(),Fr(),jo(),Oi(),Po=function(){"use strict";function g(t,e){_classCallCheck(this,g),this.parser=t,this.rawValue=e}return _createClass(g,[{key:"values",get:function(){return this.parseRawValue()}},{key:"value",get:function(){return this.values[0]}},{key:"parseRawValue",value:function(){var e=this;if(this.rawValue===void 0)return[];var n=Array.isArray(this.rawValue)?this.rawValue:[this.rawValue],o=[];return n.forEach(function(l){var a,s=e.parser.parseValue(l);Array.isArray(s)?(a=o).push.apply(a,_toConsumableArray(s)):s!==void 0&&o.push(s)}),o}}]),g}(),tt([Zt()],Po.prototype,"values",null),tt([Zt()],Po.prototype,"value",null),IA=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,uc.shared,n)}return e}(Po),Qo=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,xa.shared,n)}return e}(Po),nf=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,Us.shared,n)}return e}(Po),wo=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,co.shared,n)}return e}(Po),ci=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,zl.shared,n)}return e}(Po),MA=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,dh.shared,n)}return e}(Po),Uy=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,Xa.shared,n)}return e}(Po),LA=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,cc.shared,n)}return e}(Po),RA=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n,o){return _classCallCheck(this,e),t.call(this,o,n)}return e}(Po),DA=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o=new a7(zl.shared);return t.call(this,n,o)}return e}(RA),kr=function(){"use strict";function g(t){_classCallCheck(this,g),this.rawMetadata=t}return _createClass(g,[{key:"identifier",get:function(){var e;return(e=this.rawMetadata)===null||e===void 0?void 0:e.identifier}},{key:"addeddate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.addeddate?new Qo(this.rawMetadata.addeddate):void 0}},{key:"audio_codec",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.audio_codec?new ci(this.rawMetadata.audio_codec):void 0}},{key:"audio_sample_rate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.audio_sample_rate?new wo(this.rawMetadata.audio_sample_rate):void 0}},{key:"avg_rating",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.avg_rating?new wo(this.rawMetadata.avg_rating):void 0}},{key:"collection",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collection?new ci(this.rawMetadata.collection):void 0}},{key:"collections_raw",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collections_raw?new ci(this.rawMetadata.collections_raw):void 0}},{key:"collection_size",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collection_size?new Uy(this.rawMetadata.collection_size):void 0}},{key:"contributor",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.contributor?new ci(this.rawMetadata.contributor):void 0}},{key:"coverage",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.coverage?new ci(this.rawMetadata.coverage):void 0}},{key:"creator",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.creator?new ci(this.rawMetadata.creator):void 0}},{key:"date",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.date?new Qo(this.rawMetadata.date):void 0}},{key:"description",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.description?new ci(this.rawMetadata.description):void 0}},{key:"downloads",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.downloads?new wo(this.rawMetadata.downloads):void 0}},{key:"duration",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.duration?new nf(this.rawMetadata.duration):void 0}},{key:"external-identifier",get:function(){var e,n;return!((e=this.rawMetadata)===null||e===void 0)&&e["external-identifier"]?new ci((n=this.rawMetadata)===null||n===void 0?void 0:n["external-identifier"]):void 0}},{key:"files_count",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.files_count?new wo(this.rawMetadata.files_count):void 0}},{key:"indexdate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.indexdate?new Qo(this.rawMetadata.indexdate):void 0}},{key:"isbn",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.isbn?new ci(this.rawMetadata.isbn):void 0}},{key:"issue",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.issue?new ci(this.rawMetadata.issue):void 0}},{key:"item_count",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.item_count?new wo(this.rawMetadata.item_count):void 0}},{key:"item_size",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.item_size?new Uy(this.rawMetadata.item_size):void 0}},{key:"language",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.language?new ci(this.rawMetadata.language):void 0}},{key:"length",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.length?new nf(this.rawMetadata.length):void 0}},{key:"lineage",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.lineage?new ci(this.rawMetadata.lineage):void 0}},{key:"month",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.month?new wo(this.rawMetadata.month):void 0}},{key:"mediatype",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.mediatype?new LA(this.rawMetadata.mediatype):void 0}},{key:"noindex",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.noindex?new IA(this.rawMetadata.noindex):void 0}},{key:"notes",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.notes?new ci(this.rawMetadata.notes):void 0}},{key:"num_favorites",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.num_favorites?new wo(this.rawMetadata.num_favorites):void 0}},{key:"num_reviews",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.num_reviews?new wo(this.rawMetadata.num_reviews):void 0}},{key:"openlibrary_edition",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.openlibrary_edition?new ci(this.rawMetadata.openlibrary_edition):void 0}},{key:"openlibrary_work",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.openlibrary_work?new ci(this.rawMetadata.openlibrary_work):void 0}},{key:"page_progression",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.page_progression?new MA(this.rawMetadata.page_progression):void 0}},{key:"partner",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.partner?new ci(this.rawMetadata.partner):void 0}},{key:"ppi",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.ppi?new wo(this.rawMetadata.ppi):void 0}},{key:"publicdate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.publicdate?new Qo(this.rawMetadata.publicdate):void 0}},{key:"publisher",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.publisher?new ci(this.rawMetadata.publisher):void 0}},{key:"reviewdate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.reviewdate?new Qo(this.rawMetadata.reviewdate):void 0}},{key:"runtime",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.runtime?new nf(this.rawMetadata.runtime):void 0}},{key:"scanner",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.scanner?new ci(this.rawMetadata.scanner):void 0}},{key:"source",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.source?new ci(this.rawMetadata.source):void 0}},{key:"start_localtime",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.start_localtime?new Qo(this.rawMetadata.start_localtime):void 0}},{key:"start_time",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.start_time?new Qo(this.rawMetadata.start_time):void 0}},{key:"stop_time",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.stop_time?new Qo(this.rawMetadata.stop_time):void 0}},{key:"subject",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.subject?new DA(this.rawMetadata.subject):void 0}},{key:"taper",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.taper?new ci(this.rawMetadata.taper):void 0}},{key:"title",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.title?new ci(this.rawMetadata.title):void 0}},{key:"transferer",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.transferer?new ci(this.rawMetadata.transferer):void 0}},{key:"track",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.track?new wo(this.rawMetadata.track):void 0}},{key:"type",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.type?new ci(this.rawMetadata.type):void 0}},{key:"uploader",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.uploader?new ci(this.rawMetadata.uploader):void 0}},{key:"utc_offset",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.utc_offset?new wo(this.rawMetadata.utc_offset):void 0}},{key:"venue",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.venue?new ci(this.rawMetadata.venue):void 0}},{key:"volume",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.volume?new ci(this.rawMetadata.volume):void 0}},{key:"week",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.week?new wo(this.rawMetadata.week):void 0}},{key:"year",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.year?new Qo(this.rawMetadata.year):void 0}}]),g}(),tt([Zt()],kr.prototype,"addeddate",null),tt([Zt()],kr.prototype,"audio_codec",null),tt([Zt()],kr.prototype,"audio_sample_rate",null),tt([Zt()],kr.prototype,"avg_rating",null),tt([Zt()],kr.prototype,"collection",null),tt([Zt()],kr.prototype,"collections_raw",null),tt([Zt()],kr.prototype,"collection_size",null),tt([Zt()],kr.prototype,"contributor",null),tt([Zt()],kr.prototype,"coverage",null),tt([Zt()],kr.prototype,"creator",null),tt([Zt()],kr.prototype,"date",null),tt([Zt()],kr.prototype,"description",null),tt([Zt()],kr.prototype,"downloads",null),tt([Zt()],kr.prototype,"duration",null),tt([Zt()],kr.prototype,"external-identifier",null),tt([Zt()],kr.prototype,"files_count",null),tt([Zt()],kr.prototype,"indexdate",null),tt([Zt()],kr.prototype,"isbn",null),tt([Zt()],kr.prototype,"issue",null),tt([Zt()],kr.prototype,"item_count",null),tt([Zt()],kr.prototype,"item_size",null),tt([Zt()],kr.prototype,"language",null),tt([Zt()],kr.prototype,"length",null),tt([Zt()],kr.prototype,"lineage",null),tt([Zt()],kr.prototype,"month",null),tt([Zt()],kr.prototype,"mediatype",null),tt([Zt()],kr.prototype,"noindex",null),tt([Zt()],kr.prototype,"notes",null),tt([Zt()],kr.prototype,"num_favorites",null),tt([Zt()],kr.prototype,"num_reviews",null),tt([Zt()],kr.prototype,"openlibrary_edition",null),tt([Zt()],kr.prototype,"openlibrary_work",null),tt([Zt()],kr.prototype,"page_progression",null),tt([Zt()],kr.prototype,"partner",null),tt([Zt()],kr.prototype,"ppi",null),tt([Zt()],kr.prototype,"publicdate",null),tt([Zt()],kr.prototype,"publisher",null),tt([Zt()],kr.prototype,"reviewdate",null),tt([Zt()],kr.prototype,"runtime",null),tt([Zt()],kr.prototype,"scanner",null),tt([Zt()],kr.prototype,"source",null),tt([Zt()],kr.prototype,"start_localtime",null),tt([Zt()],kr.prototype,"start_time",null),tt([Zt()],kr.prototype,"stop_time",null),tt([Zt()],kr.prototype,"subject",null),tt([Zt()],kr.prototype,"taper",null),tt([Zt()],kr.prototype,"title",null),tt([Zt()],kr.prototype,"transferer",null),tt([Zt()],kr.prototype,"track",null),tt([Zt()],kr.prototype,"type",null),tt([Zt()],kr.prototype,"uploader",null),tt([Zt()],kr.prototype,"utc_offset",null),tt([Zt()],kr.prototype,"venue",null),tt([Zt()],kr.prototype,"volume",null),tt([Zt()],kr.prototype,"week",null),tt([Zt()],kr.prototype,"year",null),Ea=function(){"use strict";function g(t){_classCallCheck(this,g),this.rawValue=t}return _createClass(g,[{key:"name",get:function(){return this.rawValue.name}},{key:"source",get:function(){return this.rawValue.source}},{key:"btih",get:function(){return this.rawValue.btih}},{key:"md5",get:function(){return this.rawValue.md5}},{key:"format",get:function(){return this.rawValue.format}},{key:"mtime",get:function(){return this.rawValue.mtime}},{key:"crc32",get:function(){return this.rawValue.crc32}},{key:"sha1",get:function(){return this.rawValue.sha1}},{key:"original",get:function(){return this.rawValue.original}},{key:"size",get:function(){return this.rawValue.size?Xa.shared.parseValue(this.rawValue.size):void 0}},{key:"title",get:function(){return this.rawValue.title}},{key:"length",get:function(){return this.rawValue.length?Us.shared.parseValue(this.rawValue.length):void 0}},{key:"height",get:function(){return this.rawValue.height?co.shared.parseValue(this.rawValue.height):void 0}},{key:"width",get:function(){return this.rawValue.width?co.shared.parseValue(this.rawValue.width):void 0}},{key:"track",get:function(){return this.rawValue.track?co.shared.parseValue(this.rawValue.track):void 0}},{key:"external_identifier",get:function(){return this.rawValue.external_identifier}},{key:"creator",get:function(){return this.rawValue.creator}},{key:"album",get:function(){return this.rawValue.album}}]),g}(),tt([Zt()],Ea.prototype,"size",null),tt([Zt()],Ea.prototype,"length",null),tt([Zt()],Ea.prototype,"height",null),tt([Zt()],Ea.prototype,"width",null),tt([Zt()],Ea.prototype,"track",null),Pc=function(){"use strict";function g(t){_classCallCheck(this,g),this.rawValue=t}return _createClass(g,[{key:"reviewbody",get:function(){return this.rawValue.reviewbody}},{key:"reviewtitle",get:function(){return this.rawValue.reviewtitle}},{key:"reviewer",get:function(){return this.rawValue.reviewer}},{key:"reviewdate",get:function(){return this.rawValue.reviewdate?xa.shared.parseValue(this.rawValue.reviewdate):void 0}},{key:"createdate",get:function(){return this.rawValue.createdate?xa.shared.parseValue(this.rawValue.createdate):void 0}},{key:"stars",get:function(){return this.rawValue.stars?co.shared.parseValue(this.rawValue.stars):void 0}}]),g}(),tt([Zt()],Pc.prototype,"reviewdate",null),tt([Zt()],Pc.prototype,"createdate",null),tt([Zt()],Pc.prototype,"stars",null),Vy=function g(t){"use strict";_classCallCheck(this,g);var e,n;this.rawResponse=t,this.created=t.created,this.d1=t.d1,this.d2=t.d2,this.dir=t.dir,this.files=(e=t.files)===null||e===void 0?void 0:e.map(function(o){return new Ea(o)}),this.files_count=t.files_count,this.item_last_updated=t.item_last_updated,this.item_size=t.item_size,this.metadata=new kr(t.metadata),this.server=t.server,this.uniq=t.uniq,this.workable_servers=t.workable_servers,this.speech_vs_music_asr=t.speech_vs_music_asr,this.reviews=(n=t.reviews)===null||n===void 0?void 0:n.map(function(o){return new Pc(o)})},$A=function g(t){"use strict";_classCallCheck(this,g),this.numFound=t.numFound,this.start=t.start,this.docs=t.docs.map(function(e){return new kr(e)}),this.aggregations=t.aggregations},NA=function g(t){"use strict";_classCallCheck(this,g),this.rawResponse=t,this.responseHeader=t.responseHeader,this.response=new $A(t.response)},function(g){g.networkError="SearchService.NetworkError",g.itemNotFound="SearchService.ItemNotFound",g.decodingError="SearchService.DecodingError",g.searchEngineError="SearchService.SearchEngineError"}(il||(il={})),rf=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n,o,l){_classCallCheck(this,e);var a;return a=t.call(this,o),a.name=n,a.type=n,a.details=l,_possibleConstructorReturn(a)}return e}(_wrapNativeSuper(Error)),BA=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,null,[{key:"aggregateSearchParamsAsString",value:function(e){if(e.advancedParams){var n=e.advancedParams.map(function(o){return{terms:o}});return JSON.stringify(n)}if(e.simpleParams)return e.simpleParams.join(",")}},{key:"sortParamsAsString",value:function(e){return"".concat(e.field," ").concat(e.direction)}},{key:"generateURLSearchParams",value:function(e){var n=new URLSearchParams;if(n.append("q",e.query),n.append("output","json"),e.rows&&n.append("rows",String(e.rows)),e.page&&n.append("page",String(e.page)),e.fields&&n.append("fl",e.fields.join(",")),e.sort){var o=this,l=e.sort.map(function(r){return o.sortParamsAsString(r)});n.append("sort",l.join(","))}var a=e.aggregations;if(a){var s=this.aggregateSearchParamsAsString(a);s&&n.append("user_aggs",s)}return n}}]),g}(),zA=function(){"use strict";function g(t){_classCallCheck(this,g);var e;if(this.baseUrl=(e=t==null?void 0:t.baseUrl)!==null&&e!==void 0?e:"archive.org",(t==null?void 0:t.includeCredentials)!==void 0?this.includeCredentials=t.includeCredentials:this.includeCredentials=window.location.href.match(/^https?:\/\/.*archive\.org(:[0-9]+)?/)!==null,(t==null?void 0:t.scope)!==void 0)this.requestScope=t.scope;else{var n=new URL(window.location.href).searchParams.get("scope");n&&(this.requestScope=n)}}return _createClass(g,[{key:"performSearch",value:function(e){return $n(this,null,_regeneratorRuntime.default.mark(function n(){var o,l;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return o=BA.generateURLSearchParams(e).toString(),l="https://".concat(this.baseUrl,"/advancedsearch.php?").concat(o),s.abrupt("return",this.fetchUrl(l));case 2:case"end":return s.stop()}},n,this)}))}},{key:"fetchMetadata",value:function(e,n){return $n(this,null,_regeneratorRuntime.default.mark(function o(){var l,a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return l=n?"/".concat(n):"",a="https://".concat(this.baseUrl,"/metadata/").concat(e).concat(l),r.abrupt("return",this.fetchUrl(a,{requestOptions:{credentials:"omit"}}));case 2:case"end":return r.stop()}},o,this)}))}},{key:"fetchUrl",value:function(e,n){return $n(this,null,_regeneratorRuntime.default.mark(function o(){var l,a,s,r,d,c,h,f,v;return _regeneratorRuntime.default.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return a=new URL(e),this.requestScope&&a.searchParams.set("scope",this.requestScope),w.prev=4,r=(l=n==null?void 0:n.requestOptions)!==null&&l!==void 0?l:{credentials:this.includeCredentials?"include":"same-origin"},w.next=8,fetch(a.href,r);case 8:s=w.sent,w.next=15;break;case 11:return w.prev=11,w.t0=w.catch(4),d=_instanceof(w.t0,Error)?w.t0.message:typeof w.t0=="string"?w.t0:"Unknown error",w.abrupt("return",this.getErrorResult(il.networkError,d));case 15:return w.prev=15,w.next=18,s.json();case 18:if(c=w.sent,h=c.error,!h){w.next=25;break}return f=c.forensics,w.abrupt("return",this.getErrorResult(il.searchEngineError,h,f));case 25:return w.abrupt("return",{success:c});case 26:w.next=32;break;case 28:return w.prev=28,w.t1=w.catch(15),v=_instanceof(w.t1,Error)?w.t1.message:typeof w.t1=="string"?w.t1:"Unknown error",w.abrupt("return",this.getErrorResult(il.decodingError,v));case 32:case"end":return w.stop()}},o,this,[[4,11],[15,28]])}))}},{key:"getErrorResult",value:function(e,n,o){return{error:new rf(e,n,o)}}}]),g}(),Wy=function(){"use strict";function g(t){_classCallCheck(this,g),this.searchBackend=t}return _createClass(g,[{key:"search",value:function(e){return $n(this,null,_regeneratorRuntime.default.mark(function n(){var o;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.searchBackend.performSearch(e);case 2:return o=a.sent,a.abrupt("return",o.error?o:{success:new NA(o.success)});case 4:case"end":return a.stop()}},n,this)}))}},{key:"fetchMetadata",value:function(e){return $n(this,null,_regeneratorRuntime.default.mark(function n(){var o,l;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=3,this.searchBackend.fetchMetadata(e);case 3:return l=s.sent,s.abrupt("return",l.error?l:((o=l.success)===null||o===void 0?void 0:o.metadata)===void 0?{error:new rf(il.itemNotFound)}:{success:new Vy(l.success)});case 5:case"end":return s.stop()}},n,this)}))}},{key:"fetchMetadataValue",value:function(e,n){return $n(this,null,_regeneratorRuntime.default.mark(function o(){var l,a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,this.searchBackend.fetchMetadata(e,n);case 3:return a=r.sent,r.abrupt("return",a.error?a:((l=a.success)===null||l===void 0?void 0:l.result)===void 0?{error:new rf(il.itemNotFound)}:{success:a.success.result});case 5:case"end":return r.stop()}},o,this)}))}}]),g}(),Wy.default=new Wy(new zA)}}),FA,HA,MP=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/ia-music-player@1.2.0/esnext/dist/src/models/album.js":function(){cu(),cu(),FA=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"archive.org";_classCallCheck(this,e);var l;return l=t.call(this,n),l.isSegmented=!1,l.private=!1,l.details=null,l.orig="",l.image="",l.duration=0,l.sources=[],l._playlistTrack=null,l.details=n.details,l.baseHost=o,_possibleConstructorReturn(l)}return _createClass(e,[{key:"setPlaylistInfo",value:function(o){this._playlistTrack=o,this.orig=o.orig,this.image=o.image,this.duration=o.duration,this.sources=o.sources}},{key:"url",get:function(){return"https://".concat(this.baseHost,"/").concat(this.name)}},{key:"title",get:function(){var o;return((o=this._playlistTrack)===null||o===void 0?void 0:o.title)||(this===null||this===void 0?void 0:this.title)||this.name}},{key:"youtubeId",get:function(){return this.externalIds.find(function(o){return o.match(/youtube/gi)})||""}},{key:"spotifyId",get:function(){return this.externalIds.find(function(o){return o.match(/spotify/gi)})||""}},{key:"externalIds",get:function(){return Array.isArray(this.rawValue["external-identifier"])?this.rawValue["external-identifier"]:[this.rawValue["external-identifier"]||""]}}]),e}(Ea),HA=function(){"use strict";function g(t,e){_classCallCheck(this,g),this.tracks=[],this.images=[],this.linerNotes=[],this.tracksAreSegmented=!1,this.baseHost="archive.org",this.relatedFiles=[],this.rawPlaylistTracks=[],this.item=new Vy(t),this.rawPlaylistTracks=e,this.tracks=e,this.filterFiles(this.item.files)}return _createClass(g,[{key:"title",get:function(){var e,n;return((n=(e=this.item.metadata)===null||e===void 0?void 0:e.title)===null||n===void 0?void 0:n.values.join("; "))||""}},{key:"creator",get:function(){var e,n,o,l,a,s;return!((n=(e=this.item.metadata)===null||e===void 0?void 0:e.creator)===null||n===void 0)&&n.values?(l=(o=this.item.metadata)===null||o===void 0?void 0:o.creator)===null||l===void 0?void 0:l.values.join("; "):!((a=this.item.metadata.rawMetadata)===null||a===void 0)&&a.artist?(s=this.item.metadata.rawMetadata)===null||s===void 0?void 0:s.artist:""}},{key:"youtubeId",get:function(){return this.externalIds.find(function(e){return e.match(/youtube/gi)})||""}},{key:"spotifyId",get:function(){return this.externalIds.find(function(e){return e.match(/spotify/gi)})||""}},{key:"externalIds",get:function(){var e;if(!this.item.metadata.rawMetadata)return[""];var n=this.item.metadata["external-identifier"];return!((e=n==null?void 0:n.values)===null||e===void 0)&&e.length?n.values:[(n==null?void 0:n.value)||""]}},{key:"youtubeTracks",get:function(){var e=this.tracks.filter(function(n){return n.youtubeId});return this.albumTrackOption("yt")!==void 0&&e.unshift(this.albumTrackOption("yt")),e}},{key:"spotifyTracks",get:function(){var e=this.tracks.filter(function(n){return n.spotifyId});return this.albumTrackOption("sp")!==void 0&&e.unshift(this.albumTrackOption("sp")),e}},{key:"albumImage",get:function(){var e=this.images.find(function(l){return l.format==="Item Image"}),n="https://".concat(this.baseHost,"/download/").concat(this.item.metadata.identifier,"/");if(e)return"".concat(n).concat(e.name);var o=this.images.find(function(l){var a=["Item Image","JPEG Thumb"];return l.source==="original"&&!a.includes(l.format)});return o?"".concat(n).concat(o.name):"".concat(n,"__ia_thumb.jpg")}},{key:"albumTrackOption",value:function(e){var n={title:"Full Album",orig:"",image:"",duration:"-- : --",track:0,iaTrackNum:-1,sources:[]};if(e==="yt"&&this.youtubeId)return bi(Zr({},n),{youtubeId:this.youtubeId});if(e==="sp"&&this.spotifyId)return bi(Zr({},n),{spotifyId:this.spotifyId})}},{key:"isAlbumRelatedFile",value:function(e){var n,o;return!!(!((n=e.name.match(/.(ffp|md5)$/g))===null||n===void 0)&&n.length)&&!!(!((o=e.original)===null||o===void 0)&&o.length)&&e.source==="derivative"}},{key:"isValidAudioFile",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n;return!!(!((n=e.match(/(mp3|ogg|flac|m4a|wma|aiff|aac|aa|ra|ram|shn|wav|wave|opus)$/gi))===null||n===void 0)&&n.length)}},{key:"isValidImageFile",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n;return!!(!((n=e.match(/.(png|jpg|jpeg)$/gi))===null||n===void 0)&&n.length)}},{key:"isValidImageFileFormat",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n;return!!(!((n=e.match(/(png|jpg|jpeg)/gi))===null||n===void 0)&&n.length)}},{key:"isValidSegmentFile",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n;return!!(!((n=e.match(/_segments.(json|xml)$/gi))===null||n===void 0)&&n.length)}},{key:"isSpectrogram",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n;return!!(!((n=e.match(/spectrogram/gi))===null||n===void 0)&&n.length)}},{key:"isSampleMP3",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n;return!!(!((n=e.match(/_sample\.mp3$/gi))===null||n===void 0)&&n.length)}},{key:"hasScannedLinerNotes",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n;return!!(!((n=e.match(/_jp2.(zip|tar)/gi))===null||n===void 0)&&n.length)}},{key:"filterFiles",value:function(e){var n=this,o=[],l={};e.forEach(function(s){var r,d,c=s.rawValue,h=n.isValidAudioFile(c.name);if(n.isAlbumRelatedFile(c)){n.relatedFiles.push(c);return}if(n.isValidSegmentFile(c.name)&&(n.tracksAreSegmented=!0,n.relatedFiles.push(c),c.original&&n.isValidAudioFile(c.name)&&!l[c.original]&&(l[c.original]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0})),c.source==="original"&&!l[c.name]&&h&&(l[c.name]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0}),c.original&&n.isValidAudioFile(c.original)&&!l[c.original]&&(l[c.original]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0}),n.hasScannedLinerNotes(c.name)&&n.linerNotes.push(c),n.isValidImageFile(c.name)){c.original&&n.isValidAudioFile(c.original)?l[c.original].spectrogram=c:o.push(c);return}if(c.original&&n.isValidAudioFile(c.original)&&!n.isValidAudioFile(c.name)){l[c.original].related.push(c);return}if(!(!n.isValidAudioFile(c.name)||!n.isValidImageFile(c.name)&&!n.isValidAudioFile(c.name))){var f=n.isValidSegmentFile(c.original)&&n.isValidAudioFile(c.name);if(c.source==="original"&&n.isValidAudioFile(c.name)||f){l[c.name]||(l[c.name]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0}),l[c.name].primary=c;return}if(!((r=c.name.match(/_sample\.mp3$/))===null||r===void 0)&&r.length&&c.original){l[c.original].sampleMp3=new Ea(c);return}n.isValidAudioFile(c.name)&&!n.isSampleMP3(c.name)&&n.isValidAudioFile(c.original)&&c.original&&(!((d=c.name.match(/.mp3$/))===null||d===void 0)&&d.length?l[c.original].fullMp3=c:l[c.original].related.push(c))}}),this.images=o;var a=[];this.tracks.forEach(function(s,r){var d=l[s.orig].primary,c=new FA(bi(Zr(Zr({},s),d),{details:l[s.orig]}),"archive.org");c.setPlaylistInfo(s),a[r]=c}),this.tracks=a}}]),g}()}}),LP=Ht({"https-url:https://esm.archive.org/@internetarchive/ia-music-player@1.2.0/dist/src/models/album":function(){cu(),MP()}}),UA,VA,WA=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/icon-audio@1.3.4/esnext/icon-audio.mjs":function(){xn(),xn(),UA=xt(_templateObject350()),VA=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return UA}}],[{key:"styles",get:function(){return Ut(_templateObject351())}}]),e}(er),customElements.define("ia-icon-audio",VA)}}),qA,GA,YA=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/icon-close-circle@1.3.6/esnext/icon-close-circle.mjs":function(){xn(),xn(),qA=xt(_templateObject352()),GA=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return qA}}],[{key:"styles",get:function(){return Ut(_templateObject353())}}]),e}(er),customElements.define("ia-icon-close-circle",GA)}});function du(g,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g,n=arguments.length>3?arguments[3]:void 0,o,l,a,s;if(t===vu)return t;var r=n!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[n]:e._$Cl,d=fu(t)?void 0:t._$litDirective$;return(r==null?void 0:r.constructor)!==d&&((l=r==null?void 0:r._$AO)===null||l===void 0||l.call(r,!1),d===void 0?r=void 0:(r=new d(g),r._$AT(g,e,n)),n!==void 0?((a=(s=e)._$Co)!==null&&a!==void 0?a:s._$Co=[])[n]=r:e._$Cl=r),r!==void 0&&(t=du(g,r._$AS(g,t.values),r,n)),t}var qy,Ic,ol,Gy,of,Ta,Yy,XA,ds,hu,fu,Xy,KA,af,pu,Ky,Qy,hs,Jy,Zy,e0,t0,RP,DP,vu,Ni,n0,fs,QA,sf,JA,lf,Mc,ZA,e4,t4,n4,r4,r0,i4,i0,o4,$P=Ht({"https-url:https://esm.archive.org/v135/lit-html@2.8.0/esnext/directives/cache.js":function(){hc(),GC(),Ic=window,ol=Ic.trustedTypes,Gy=ol?ol.createPolicy("lit-html",{createHTML:function(g){return g}}):void 0,of="$lit$",Ta="lit$".concat((Math.random()+"").slice(9),"$"),Yy="?"+Ta,XA="<".concat(Yy,">"),ds=document,hu=function(){return ds.createComment("")},fu=function(g){return g===null||typeof g!="object"&&typeof g!="function"},Xy=Array.isArray,KA=function(g){return Xy(g)||typeof(g==null?void 0:g[Symbol.iterator])=="function"},af="[ 	\n\f\r]",pu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Ky=/-->/g,Qy=/>/g,hs=RegExp(">|".concat(af,"(?:([^\\s\"'>=/]+)(").concat(af,"*=").concat(af,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),Jy=/'/g,Zy=/"/g,e0=/^(?:script|style|textarea|title)$/i,t0=function(g){return function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return{_$litType$:g,strings:t,values:n}}},RP=t0(1),DP=t0(2),vu=Symbol.for("lit-noChange"),Ni=Symbol.for("lit-nothing"),n0=new WeakMap,fs=ds.createTreeWalker(ds,129,null,!1),QA=function(g,t){for(var e=g.length-1,n=[],o,l=t===2?"<svg>":"",a=pu,s=0;s<e;s++){for(var r=g[s],d=void 0,c=void 0,h=-1,f=0;f<r.length&&(a.lastIndex=f,c=a.exec(r),c!==null);)f=a.lastIndex,a===pu?c[1]==="!--"?a=Ky:c[1]!==void 0?a=Qy:c[2]!==void 0?(e0.test(c[2])&&(o=RegExp("</"+c[2],"g")),a=hs):c[3]!==void 0&&(a=hs):a===hs?c[0]===">"?(a=o!=null?o:pu,h=-1):c[1]===void 0?h=-2:(h=a.lastIndex-c[2].length,d=c[1],a=c[3]===void 0?hs:c[3]==='"'?Zy:Jy):a===Zy||a===Jy?a=hs:a===Ky||a===Qy?a=pu:(a=hs,o=void 0);var v=a===hs&&g[s+1].startsWith("/>")?" ":"";l+=a===pu?r+XA:h>=0?(n.push(d),r.slice(0,h)+of+r.slice(h)+Ta+v):r+Ta+(h===-2?(n.push(void 0),s):v)}return[ix(g,l+(g[e]||"<?>")+(t===2?"</svg>":"")),n]},sf=function(){"use strict";function g(t,e){var n=t.strings,o=t._$litType$;_classCallCheck(this,g);var l;this.parts=[];var a=0,s=0,r=n.length-1,d=this.parts,c=_slicedToArray(QA(n,o),2),h=c[0],f=c[1];if(this.el=g.createElement(h,e),fs.currentNode=this.el.content,o===2){var v,b=this.el.content,w=b.firstChild;w.remove(),(v=b).append.apply(v,_toConsumableArray(w.childNodes))}for(;(l=fs.nextNode())!==null&&d.length<r;){if(l.nodeType===1){if(l.hasAttributes()){var k=[],C=!0,E=!1,A=void 0;try{for(var j=l.getAttributeNames()[Symbol.iterator](),y;!(C=(y=j.next()).done);C=!0){var u=y.value;if(u.endsWith(of)||u.startsWith(Ta)){var p=f[s++];if(k.push(u),p!==void 0){var m=l.getAttribute(p.toLowerCase()+of).split(Ta),_=/([.?@])?(.*)/.exec(p);d.push({type:1,index:a,name:_[2],strings:m,ctor:_[1]==="."?ZA:_[1]==="?"?t4:_[1]==="@"?n4:Mc})}else d.push({type:6,index:a})}}}catch(B){E=!0,A=B}finally{try{!C&&j.return!=null&&j.return()}finally{if(E)throw A}}var x=!0,O=!1,I=void 0;try{for(var P=k[Symbol.iterator](),D;!(x=(D=P.next()).done);x=!0){var V=D.value;l.removeAttribute(V)}}catch(B){O=!0,I=B}finally{try{!x&&P.return!=null&&P.return()}finally{if(O)throw I}}}if(e0.test(l.tagName)){var q=l.textContent.split(Ta),z=q.length-1;if(z>0){l.textContent=ol?ol.emptyScript:"";for(var he=0;he<z;he++)l.append(q[he],hu()),fs.nextNode(),d.push({type:2,index:++a});l.append(q[z],hu())}}}else if(l.nodeType===8)if(l.data===Yy)d.push({type:2,index:a});else for(var Y=-1;(Y=l.data.indexOf(Ta,Y+1))!==-1;)d.push({type:7,index:a}),Y+=Ta.length-1;a++}}return _createClass(g,null,[{key:"createElement",value:function(e,n){var o=ds.createElement("template");return o.innerHTML=e,o}}]),g}(),JA=function(){"use strict";function g(t,e){_classCallCheck(this,g),this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}return _createClass(g,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var n,o=this._$AD,l=o.el,a=l.content,s=o.parts,r=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:ds).importNode(a,!0);fs.currentNode=r;for(var d=fs.nextNode(),c=0,h=0,f=s[0];f!==void 0;){if(c===f.index){var v=void 0;f.type===2?v=new lf(d,d.nextSibling,this,e):f.type===1?v=new f.ctor(d,f.name,f.strings,this,e):f.type===6&&(v=new r4(d,this,e)),this._$AV.push(v),f=s[++h]}c!==(f==null?void 0:f.index)&&(d=fs.nextNode(),c++)}return fs.currentNode=ds,r}},{key:"v",value:function(e){var n=0,o=!0,l=!1,a=void 0;try{for(var s=this._$AV[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var d=r.value;d!==void 0&&(d.strings!==void 0?(d._$AI(e,d,n),n+=d.strings.length-2):d._$AI(e[n])),n++}}catch(c){l=!0,a=c}finally{try{!o&&s.return!=null&&s.return()}finally{if(l)throw a}}}}]),g}(),lf=function(){"use strict";function g(t,e,n,o){_classCallCheck(this,g);var l;this.type=2,this._$AH=Ni,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=o,this._$Cp=(l=o==null?void 0:o.isConnected)===null||l===void 0||l}return _createClass(g,[{key:"_$AU",get:function(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cp}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=du(this,e,n),fu(e)?e===Ni||e==null||e===""?(this._$AH!==Ni&&this._$AR(),this._$AH=Ni):e!==this._$AH&&e!==vu&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):KA(e)?this.T(e):this._(e)}},{key:"k",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"$",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}},{key:"_",value:function(e){this._$AH!==Ni&&fu(this._$AH)?this._$AA.nextSibling.data=e:this.$(ds.createTextNode(e)),this._$AH=e}},{key:"g",value:function(e){var n,o=e.values,l=e._$litType$,a=typeof l=="number"?this._$AC(e):(l.el===void 0&&(l.el=sf.createElement(ix(l.h,l.h[0]),this.options)),l);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===a)this._$AH.v(o);else{var s=new JA(a,this),r=s.u(this.options);s.v(o),this.$(r),this._$AH=s}}},{key:"_$AC",value:function(e){var n=n0.get(e.strings);return n===void 0&&n0.set(e.strings,n=new sf(e)),n}},{key:"T",value:function(e){Xy(this._$AH)||(this._$AH=[],this._$AR());var n=this._$AH,o,l=0,a=!0,s=!1,r=void 0;try{for(var d=e[Symbol.iterator](),c;!(a=(c=d.next()).done);a=!0){var h=c.value;l===n.length?n.push(o=new g(this.k(hu()),this.k(hu()),this,this.options)):o=n[l],o._$AI(h),l++}}catch(f){s=!0,r=f}finally{try{!a&&d.return!=null&&d.return()}finally{if(s)throw r}}l<n.length&&(this._$AR(o&&o._$AB.nextSibling,l),n.length=l)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,n);e&&e!==this._$AB;){var l=e.nextSibling;e.remove(),e=l}}},{key:"setConnected",value:function(e){var n;this._$AM===void 0&&(this._$Cp=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}]),g}(),Mc=function(){"use strict";function g(t,e,n,o,l){_classCallCheck(this,g),this.type=1,this._$AH=Ni,this._$AN=void 0,this.element=t,this.name=e,this._$AM=o,this.options=l,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Ni}return _createClass(g,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,a=this.strings,s=!1;if(a===void 0)e=du(this,e,n,0),s=!fu(e)||e!==this._$AH&&e!==vu,s&&(this._$AH=e);else{var r=e,d,c;for(e=a[0],d=0;d<a.length-1;d++)c=du(this,r[o+d],n,d),c===vu&&(c=this._$AH[d]),s||(s=!fu(c)||c!==this._$AH[d]),c===Ni?e=Ni:e!==Ni&&(e+=(c!=null?c:"")+a[d+1]),this._$AH[d]=c}s&&!l&&this.j(e)}},{key:"j",value:function(e){e===Ni?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),g}(),ZA=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=3,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===Ni?void 0:o}}]),e}(Mc),e4=ol?ol.emptyScript:"",t4=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=4,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){o&&o!==Ni?this.element.setAttribute(this.name,e4):this.element.removeAttribute(this.name)}}]),e}(Mc),n4=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n,o,l,a,s){_classCallCheck(this,e);var r;return r=t.call(this,n,o,l,a,s),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,a;if((o=(a=du(this,o,l,0))!==null&&a!==void 0?a:Ni)!==vu){var s=this._$AH,r=o===Ni&&s!==Ni||o.capture!==s.capture||o.once!==s.once||o.passive!==s.passive,d=o!==Ni&&(s===Ni||r);r&&this.element.removeEventListener(this.name,this,s),d&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var l,a;typeof this._$AH=="function"?this._$AH.call((a=(l=this.options)===null||l===void 0?void 0:l.host)!==null&&a!==void 0?a:this.element,o):this._$AH.handleEvent(o)}}]),e}(Mc),r4=function(){"use strict";function g(t,e,n){_classCallCheck(this,g),this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}return _createClass(g,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){du(this,e)}}]),g}(),r0=Ic.litHtmlPolyfillSupport,r0==null||r0(sf,lf),((qy=Ic.litHtmlVersions)!==null&&qy!==void 0?qy:Ic.litHtmlVersions=[]).push("2.8.0"),i4=function(g,t,e){var n,o,l=(n=e==null?void 0:e.renderBefore)!==null&&n!==void 0?n:t,a=l._$litPart$;if(a===void 0){var s=(o=e==null?void 0:e.renderBefore)!==null&&o!==void 0?o:null;l._$litPart$=a=new lf(t.insertBefore(hu(),s),s,void 0,e!=null?e:{})}return a._$AI(g),a},i0=function(g){return VC(g)?g._$litType$.h:g.strings},o4=Hl(function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o;return o=t.call(this,n),o.tt=new WeakMap,_possibleConstructorReturn(o)}return _createClass(e,[{key:"render",value:function(o){return[o]}},{key:"update",value:function(o,l){var a=_slicedToArray(l,1),s=a[0],r=Pg(this.et)?i0(this.et):null,d=Pg(s)?i0(s):null;if(r!==null&&(d===null||r!==d)){var c=Dh(o).pop(),h=this.tt.get(r);if(h===void 0){var f=document.createDocumentFragment();h=i4(Ni,f),h.setConnected(!1),this.tt.set(r,h)}Rh(h,[c]),es(h,void 0,c)}if(d!==null){if(r===null||r!==d){var v=this.tt.get(d);if(v!==void 0){var b=Dh(v).pop();qC(o),es(o,void 0,b),Rh(o,[b])}}this.et=s}else this.et=void 0;return this.render(s)}}]),e}(Ul))}}),a4=Ht({"https-url:https://esm.archive.org/v135/lit@2.8.0/esnext/directives/cache.js":function(){$P()}}),Jo,s4=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/ia-dropdown@1.0.5/esnext/dist/src/ia-dropdown.js":function(){Fr(),xn(),Wr(),Jo=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.open=!1,n.displayCaret=!1,n.selectedOption="",n.options=[],n.optionGroup="options",n.optionSelected=function(){},_possibleConstructorReturn(n)}return _createClass(e,[{key:"renderOption",value:function(o){var l=this,a=o.label,s=o.url,r=s===void 0?void 0:s,d=o.id,c,h=this.selectedOption===d?"selected":"";return r?c=xt(_templateObject354(),r,function(){return l.optionClicked(o)},a):c=xt(_templateObject355(),function(){return l.optionClicked(o)},a),xt(_templateObject356(),h,c)}},{key:"optionClicked",value:function(o){this.selectedOption=o.id,this.dispatchEvent(new CustomEvent("optionSelected",{detail:{option:o}})),o.selectedHandler&&(o==null||o.selectedHandler(o))}},{key:"toggleOptions",value:function(){this.open=!this.open}},{key:"caret",get:function(){return this.open?this.caretUp:this.caretDown}},{key:"dropdownState",get:function(){return this.open?"open":"closed"}},{key:"caretUp",get:function(){return Do(_templateObject357())}},{key:"caretDown",get:function(){return Do(_templateObject358())}},{key:"availableOptions",get:function(){var o=this;return this.options.filter(function(l){return o.selectedOption!==l.id})}},{key:"render",value:function(){var o=this;return xt(_templateObject360(),this.toggleOptions,this.optionGroup,this.displayCaret?xt(_templateObject359(),this.caret):Vn,this.dropdownState,this.availableOptions.map(function(l){return o.renderOption(l)}))}}]),e}(er),Jo.styles=Ut(_templateObject361()),tt([on({type:Boolean,attribute:!0})],Jo.prototype,"open",void 0),tt([on({type:Boolean,attribute:!0})],Jo.prototype,"displayCaret",void 0),tt([on({type:String,attribute:!0})],Jo.prototype,"selectedOption",void 0),tt([on({type:Array})],Jo.prototype,"options",void 0),tt([on({type:String})],Jo.prototype,"optionGroup",void 0),tt([on({type:Function})],Jo.prototype,"optionSelected",void 0),Jo=tt([Qr("ia-dropdown")],Jo)}}),uf,l4=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/ia-dropdown@1.0.5/esnext/dist/src/ia-icon-label.js":function(){Fr(),xn(),Wr(),uf=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return xt(_templateObject362())}}]),e}(er),uf.styles=Ut(_templateObject363()),uf=tt([Qr("ia-icon-label")],uf)}});function mu(g,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g,n=arguments.length>3?arguments[3]:void 0,o,l,a,s;if(t===sl)return t;var r=n!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[n]:e._$Cl,d=gu(t)?void 0:t._$litDirective$;return(r==null?void 0:r.constructor)!==d&&((l=r==null?void 0:r._$AO)===null||l===void 0||l.call(r,!1),d===void 0?r=void 0:(r=new d(g),r._$AT(g,e,n)),n!==void 0?((a=(s=e)._$Co)!==null&&a!==void 0?a:s._$Co=[])[n]=r:e._$Cl=r),r!==void 0&&(t=mu(g,r._$AS(g,t.values),r,n)),t}var o0,Lc,al,a0,cf,Pa,s0,u4,ps,Rc,gu,l0,c4,df,yu,u0,c0,vs,d0,h0,f0,p0,NP,BP,sl,Ui,v0,ms,d4,hf,h4,m0,Dc,f4,p4,v4,m4,g4,g0,y0,y4,ff,zP=Ht({"https-url:https://esm.archive.org/v135/lit-html@2.8.0/esnext/directives/style-map.js":function(){hc(),Lc=window,al=Lc.trustedTypes,a0=al?al.createPolicy("lit-html",{createHTML:function(g){return g}}):void 0,cf="$lit$",Pa="lit$".concat((Math.random()+"").slice(9),"$"),s0="?"+Pa,u4="<".concat(s0,">"),ps=document,Rc=function(){return ps.createComment("")},gu=function(g){return g===null||typeof g!="object"&&typeof g!="function"},l0=Array.isArray,c4=function(g){return l0(g)||typeof(g==null?void 0:g[Symbol.iterator])=="function"},df="[ 	\n\f\r]",yu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,u0=/-->/g,c0=/>/g,vs=RegExp(">|".concat(df,"(?:([^\\s\"'>=/]+)(").concat(df,"*=").concat(df,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),d0=/'/g,h0=/"/g,f0=/^(?:script|style|textarea|title)$/i,p0=function(g){return function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return{_$litType$:g,strings:t,values:n}}},NP=p0(1),BP=p0(2),sl=Symbol.for("lit-noChange"),Ui=Symbol.for("lit-nothing"),v0=new WeakMap,ms=ps.createTreeWalker(ps,129,null,!1),d4=function(g,t){for(var e=g.length-1,n=[],o,l=t===2?"<svg>":"",a=yu,s=0;s<e;s++){for(var r=g[s],d=void 0,c=void 0,h=-1,f=0;f<r.length&&(a.lastIndex=f,c=a.exec(r),c!==null);)f=a.lastIndex,a===yu?c[1]==="!--"?a=u0:c[1]!==void 0?a=c0:c[2]!==void 0?(f0.test(c[2])&&(o=RegExp("</"+c[2],"g")),a=vs):c[3]!==void 0&&(a=vs):a===vs?c[0]===">"?(a=o!=null?o:yu,h=-1):c[1]===void 0?h=-2:(h=a.lastIndex-c[2].length,d=c[1],a=c[3]===void 0?vs:c[3]==='"'?h0:d0):a===h0||a===d0?a=vs:a===u0||a===c0?a=yu:(a=vs,o=void 0);var v=a===vs&&g[s+1].startsWith("/>")?" ":"";l+=a===yu?r+u4:h>=0?(n.push(d),r.slice(0,h)+cf+r.slice(h)+Pa+v):r+Pa+(h===-2?(n.push(void 0),s):v)}return[ox(g,l+(g[e]||"<?>")+(t===2?"</svg>":"")),n]},hf=function(){"use strict";function g(t,e){var n=t.strings,o=t._$litType$;_classCallCheck(this,g);var l;this.parts=[];var a=0,s=0,r=n.length-1,d=this.parts,c=_slicedToArray(d4(n,o),2),h=c[0],f=c[1];if(this.el=g.createElement(h,e),ms.currentNode=this.el.content,o===2){var v,b=this.el.content,w=b.firstChild;w.remove(),(v=b).append.apply(v,_toConsumableArray(w.childNodes))}for(;(l=ms.nextNode())!==null&&d.length<r;){if(l.nodeType===1){if(l.hasAttributes()){var k=[],C=!0,E=!1,A=void 0;try{for(var j=l.getAttributeNames()[Symbol.iterator](),y;!(C=(y=j.next()).done);C=!0){var u=y.value;if(u.endsWith(cf)||u.startsWith(Pa)){var p=f[s++];if(k.push(u),p!==void 0){var m=l.getAttribute(p.toLowerCase()+cf).split(Pa),_=/([.?@])?(.*)/.exec(p);d.push({type:1,index:a,name:_[2],strings:m,ctor:_[1]==="."?f4:_[1]==="?"?v4:_[1]==="@"?m4:Dc})}else d.push({type:6,index:a})}}}catch(B){E=!0,A=B}finally{try{!C&&j.return!=null&&j.return()}finally{if(E)throw A}}var x=!0,O=!1,I=void 0;try{for(var P=k[Symbol.iterator](),D;!(x=(D=P.next()).done);x=!0){var V=D.value;l.removeAttribute(V)}}catch(B){O=!0,I=B}finally{try{!x&&P.return!=null&&P.return()}finally{if(O)throw I}}}if(f0.test(l.tagName)){var q=l.textContent.split(Pa),z=q.length-1;if(z>0){l.textContent=al?al.emptyScript:"";for(var he=0;he<z;he++)l.append(q[he],Rc()),ms.nextNode(),d.push({type:2,index:++a});l.append(q[z],Rc())}}}else if(l.nodeType===8)if(l.data===s0)d.push({type:2,index:a});else for(var Y=-1;(Y=l.data.indexOf(Pa,Y+1))!==-1;)d.push({type:7,index:a}),Y+=Pa.length-1;a++}}return _createClass(g,null,[{key:"createElement",value:function(e,n){var o=ps.createElement("template");return o.innerHTML=e,o}}]),g}(),h4=function(){"use strict";function g(t,e){_classCallCheck(this,g),this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}return _createClass(g,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var n,o=this._$AD,l=o.el,a=l.content,s=o.parts,r=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:ps).importNode(a,!0);ms.currentNode=r;for(var d=ms.nextNode(),c=0,h=0,f=s[0];f!==void 0;){if(c===f.index){var v=void 0;f.type===2?v=new m0(d,d.nextSibling,this,e):f.type===1?v=new f.ctor(d,f.name,f.strings,this,e):f.type===6&&(v=new g4(d,this,e)),this._$AV.push(v),f=s[++h]}c!==(f==null?void 0:f.index)&&(d=ms.nextNode(),c++)}return ms.currentNode=ps,r}},{key:"v",value:function(e){var n=0,o=!0,l=!1,a=void 0;try{for(var s=this._$AV[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var d=r.value;d!==void 0&&(d.strings!==void 0?(d._$AI(e,d,n),n+=d.strings.length-2):d._$AI(e[n])),n++}}catch(c){l=!0,a=c}finally{try{!o&&s.return!=null&&s.return()}finally{if(l)throw a}}}}]),g}(),m0=function(){"use strict";function g(t,e,n,o){_classCallCheck(this,g);var l;this.type=2,this._$AH=Ui,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=o,this._$Cp=(l=o==null?void 0:o.isConnected)===null||l===void 0||l}return _createClass(g,[{key:"_$AU",get:function(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cp}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=mu(this,e,n),gu(e)?e===Ui||e==null||e===""?(this._$AH!==Ui&&this._$AR(),this._$AH=Ui):e!==this._$AH&&e!==sl&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):c4(e)?this.T(e):this._(e)}},{key:"k",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"$",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}},{key:"_",value:function(e){this._$AH!==Ui&&gu(this._$AH)?this._$AA.nextSibling.data=e:this.$(ps.createTextNode(e)),this._$AH=e}},{key:"g",value:function(e){var n,o=e.values,l=e._$litType$,a=typeof l=="number"?this._$AC(e):(l.el===void 0&&(l.el=hf.createElement(ox(l.h,l.h[0]),this.options)),l);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===a)this._$AH.v(o);else{var s=new h4(a,this),r=s.u(this.options);s.v(o),this.$(r),this._$AH=s}}},{key:"_$AC",value:function(e){var n=v0.get(e.strings);return n===void 0&&v0.set(e.strings,n=new hf(e)),n}},{key:"T",value:function(e){l0(this._$AH)||(this._$AH=[],this._$AR());var n=this._$AH,o,l=0,a=!0,s=!1,r=void 0;try{for(var d=e[Symbol.iterator](),c;!(a=(c=d.next()).done);a=!0){var h=c.value;l===n.length?n.push(o=new g(this.k(Rc()),this.k(Rc()),this,this.options)):o=n[l],o._$AI(h),l++}}catch(f){s=!0,r=f}finally{try{!a&&d.return!=null&&d.return()}finally{if(s)throw r}}l<n.length&&(this._$AR(o&&o._$AB.nextSibling,l),n.length=l)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,n);e&&e!==this._$AB;){var l=e.nextSibling;e.remove(),e=l}}},{key:"setConnected",value:function(e){var n;this._$AM===void 0&&(this._$Cp=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}]),g}(),Dc=function(){"use strict";function g(t,e,n,o,l){_classCallCheck(this,g),this.type=1,this._$AH=Ui,this._$AN=void 0,this.element=t,this.name=e,this._$AM=o,this.options=l,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Ui}return _createClass(g,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,a=this.strings,s=!1;if(a===void 0)e=mu(this,e,n,0),s=!gu(e)||e!==this._$AH&&e!==sl,s&&(this._$AH=e);else{var r=e,d,c;for(e=a[0],d=0;d<a.length-1;d++)c=mu(this,r[o+d],n,d),c===sl&&(c=this._$AH[d]),s||(s=!gu(c)||c!==this._$AH[d]),c===Ui?e=Ui:e!==Ui&&(e+=(c!=null?c:"")+a[d+1]),this._$AH[d]=c}s&&!l&&this.j(e)}},{key:"j",value:function(e){e===Ui?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),g}(),f4=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=3,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===Ui?void 0:o}}]),e}(Dc),p4=al?al.emptyScript:"",v4=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=4,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){o&&o!==Ui?this.element.setAttribute(this.name,p4):this.element.removeAttribute(this.name)}}]),e}(Dc),m4=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n,o,l,a,s){_classCallCheck(this,e);var r;return r=t.call(this,n,o,l,a,s),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,a;if((o=(a=mu(this,o,l,0))!==null&&a!==void 0?a:Ui)!==sl){var s=this._$AH,r=o===Ui&&s!==Ui||o.capture!==s.capture||o.once!==s.once||o.passive!==s.passive,d=o!==Ui&&(s===Ui||r);r&&this.element.removeEventListener(this.name,this,s),d&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var l,a;typeof this._$AH=="function"?this._$AH.call((a=(l=this.options)===null||l===void 0?void 0:l.host)!==null&&a!==void 0?a:this.element,o):this._$AH.handleEvent(o)}}]),e}(Dc),g4=function(){"use strict";function g(t,e,n){_classCallCheck(this,g),this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}return _createClass(g,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){mu(this,e)}}]),g}(),g0=Lc.litHtmlPolyfillSupport,g0==null||g0(hf,m0),((o0=Lc.litHtmlVersions)!==null&&o0!==void 0?o0:Lc.litHtmlVersions=[]).push("2.8.0"),y0="important",y4=" !"+y0,ff=Hl(function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o,l;if(o=t.call(this,n),n.type!==dc.ATTRIBUTE||n.name!=="style"||((l=n.strings)===null||l===void 0?void 0:l.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.");return _possibleConstructorReturn(o)}return _createClass(e,[{key:"render",value:function(o){return Object.keys(o).reduce(function(l,a){var s=o[a];return s==null?l:l+"".concat(a=a.includes("-")?a:a.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase(),":").concat(s,";")},"")}},{key:"update",value:function(o,l){var a=_slicedToArray(l,1),s=a[0],r=this,d=o.element,c=d.style;if(this.ht===void 0){this.ht=new Set;for(var h in s)this.ht.add(h);return this.render(s)}this.ht.forEach(function(w){s[w]==null&&(r.ht.delete(w),w.includes("-")?c.removeProperty(w):c[w]="")});for(var f in s){var v=s[f];if(v!=null){this.ht.add(f);var b=typeof v=="string"&&v.endsWith(y4);f.includes("-")||b?c.setProperty(f,b?v.slice(0,-11):v,b?y0:""):c[f]=v}}return sl}}]),e}(Ul))}}),b4=Ht({"https-url:https://esm.archive.org/v135/lit@2.8.0/esnext/directives/style-map.js":function(){zP()}});function bu(g,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g,n=arguments.length>3?arguments[3]:void 0,o,l,a,s;if(t===ul)return t;var r=n!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[n]:e._$Cl,d=wu(t)?void 0:t._$litDirective$;return(r==null?void 0:r.constructor)!==d&&((l=r==null?void 0:r._$AO)===null||l===void 0||l.call(r,!1),d===void 0?r=void 0:(r=new d(g),r._$AT(g,e,n)),n!==void 0?((a=(s=e)._$Co)!==null&&a!==void 0?a:s._$Co=[])[n]=r:e._$Cl=r),r!==void 0&&(t=bu(g,r._$AS(g,t.values),r,n)),t}var b0,$c,ll,w0,pf,Ia,_0,w4,gs,Nc,wu,k0,_4,vf,_u,x0,S0,ys,C0,A0,O0,j0,FP,HP,ul,Vi,E0,bs,k4,mf,x4,T0,Bc,S4,C4,A4,O4,j4,P0,ku,UP=Ht({"https-url:https://esm.archive.org/v135/lit-html@2.8.0/esnext/directives/class-map.js":function(){hc(),$c=window,ll=$c.trustedTypes,w0=ll?ll.createPolicy("lit-html",{createHTML:function(g){return g}}):void 0,pf="$lit$",Ia="lit$".concat((Math.random()+"").slice(9),"$"),_0="?"+Ia,w4="<".concat(_0,">"),gs=document,Nc=function(){return gs.createComment("")},wu=function(g){return g===null||typeof g!="object"&&typeof g!="function"},k0=Array.isArray,_4=function(g){return k0(g)||typeof(g==null?void 0:g[Symbol.iterator])=="function"},vf="[ 	\n\f\r]",_u=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,x0=/-->/g,S0=/>/g,ys=RegExp(">|".concat(vf,"(?:([^\\s\"'>=/]+)(").concat(vf,"*=").concat(vf,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),C0=/'/g,A0=/"/g,O0=/^(?:script|style|textarea|title)$/i,j0=function(g){return function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return{_$litType$:g,strings:t,values:n}}},FP=j0(1),HP=j0(2),ul=Symbol.for("lit-noChange"),Vi=Symbol.for("lit-nothing"),E0=new WeakMap,bs=gs.createTreeWalker(gs,129,null,!1),k4=function(g,t){for(var e=g.length-1,n=[],o,l=t===2?"<svg>":"",a=_u,s=0;s<e;s++){for(var r=g[s],d=void 0,c=void 0,h=-1,f=0;f<r.length&&(a.lastIndex=f,c=a.exec(r),c!==null);)f=a.lastIndex,a===_u?c[1]==="!--"?a=x0:c[1]!==void 0?a=S0:c[2]!==void 0?(O0.test(c[2])&&(o=RegExp("</"+c[2],"g")),a=ys):c[3]!==void 0&&(a=ys):a===ys?c[0]===">"?(a=o!=null?o:_u,h=-1):c[1]===void 0?h=-2:(h=a.lastIndex-c[2].length,d=c[1],a=c[3]===void 0?ys:c[3]==='"'?A0:C0):a===A0||a===C0?a=ys:a===x0||a===S0?a=_u:(a=ys,o=void 0);var v=a===ys&&g[s+1].startsWith("/>")?" ":"";l+=a===_u?r+w4:h>=0?(n.push(d),r.slice(0,h)+pf+r.slice(h)+Ia+v):r+Ia+(h===-2?(n.push(void 0),s):v)}return[ax(g,l+(g[e]||"<?>")+(t===2?"</svg>":"")),n]},mf=function(){"use strict";function g(t,e){var n=t.strings,o=t._$litType$;_classCallCheck(this,g);var l;this.parts=[];var a=0,s=0,r=n.length-1,d=this.parts,c=_slicedToArray(k4(n,o),2),h=c[0],f=c[1];if(this.el=g.createElement(h,e),bs.currentNode=this.el.content,o===2){var v,b=this.el.content,w=b.firstChild;w.remove(),(v=b).append.apply(v,_toConsumableArray(w.childNodes))}for(;(l=bs.nextNode())!==null&&d.length<r;){if(l.nodeType===1){if(l.hasAttributes()){var k=[],C=!0,E=!1,A=void 0;try{for(var j=l.getAttributeNames()[Symbol.iterator](),y;!(C=(y=j.next()).done);C=!0){var u=y.value;if(u.endsWith(pf)||u.startsWith(Ia)){var p=f[s++];if(k.push(u),p!==void 0){var m=l.getAttribute(p.toLowerCase()+pf).split(Ia),_=/([.?@])?(.*)/.exec(p);d.push({type:1,index:a,name:_[2],strings:m,ctor:_[1]==="."?S4:_[1]==="?"?A4:_[1]==="@"?O4:Bc})}else d.push({type:6,index:a})}}}catch(B){E=!0,A=B}finally{try{!C&&j.return!=null&&j.return()}finally{if(E)throw A}}var x=!0,O=!1,I=void 0;try{for(var P=k[Symbol.iterator](),D;!(x=(D=P.next()).done);x=!0){var V=D.value;l.removeAttribute(V)}}catch(B){O=!0,I=B}finally{try{!x&&P.return!=null&&P.return()}finally{if(O)throw I}}}if(O0.test(l.tagName)){var q=l.textContent.split(Ia),z=q.length-1;if(z>0){l.textContent=ll?ll.emptyScript:"";for(var he=0;he<z;he++)l.append(q[he],Nc()),bs.nextNode(),d.push({type:2,index:++a});l.append(q[z],Nc())}}}else if(l.nodeType===8)if(l.data===_0)d.push({type:2,index:a});else for(var Y=-1;(Y=l.data.indexOf(Ia,Y+1))!==-1;)d.push({type:7,index:a}),Y+=Ia.length-1;a++}}return _createClass(g,null,[{key:"createElement",value:function(e,n){var o=gs.createElement("template");return o.innerHTML=e,o}}]),g}(),x4=function(){"use strict";function g(t,e){_classCallCheck(this,g),this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}return _createClass(g,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var n,o=this._$AD,l=o.el,a=l.content,s=o.parts,r=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:gs).importNode(a,!0);bs.currentNode=r;for(var d=bs.nextNode(),c=0,h=0,f=s[0];f!==void 0;){if(c===f.index){var v=void 0;f.type===2?v=new T0(d,d.nextSibling,this,e):f.type===1?v=new f.ctor(d,f.name,f.strings,this,e):f.type===6&&(v=new j4(d,this,e)),this._$AV.push(v),f=s[++h]}c!==(f==null?void 0:f.index)&&(d=bs.nextNode(),c++)}return bs.currentNode=gs,r}},{key:"v",value:function(e){var n=0,o=!0,l=!1,a=void 0;try{for(var s=this._$AV[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var d=r.value;d!==void 0&&(d.strings!==void 0?(d._$AI(e,d,n),n+=d.strings.length-2):d._$AI(e[n])),n++}}catch(c){l=!0,a=c}finally{try{!o&&s.return!=null&&s.return()}finally{if(l)throw a}}}}]),g}(),T0=function(){"use strict";function g(t,e,n,o){_classCallCheck(this,g);var l;this.type=2,this._$AH=Vi,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=o,this._$Cp=(l=o==null?void 0:o.isConnected)===null||l===void 0||l}return _createClass(g,[{key:"_$AU",get:function(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cp}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=bu(this,e,n),wu(e)?e===Vi||e==null||e===""?(this._$AH!==Vi&&this._$AR(),this._$AH=Vi):e!==this._$AH&&e!==ul&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):_4(e)?this.T(e):this._(e)}},{key:"k",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"$",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}},{key:"_",value:function(e){this._$AH!==Vi&&wu(this._$AH)?this._$AA.nextSibling.data=e:this.$(gs.createTextNode(e)),this._$AH=e}},{key:"g",value:function(e){var n,o=e.values,l=e._$litType$,a=typeof l=="number"?this._$AC(e):(l.el===void 0&&(l.el=mf.createElement(ax(l.h,l.h[0]),this.options)),l);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===a)this._$AH.v(o);else{var s=new x4(a,this),r=s.u(this.options);s.v(o),this.$(r),this._$AH=s}}},{key:"_$AC",value:function(e){var n=E0.get(e.strings);return n===void 0&&E0.set(e.strings,n=new mf(e)),n}},{key:"T",value:function(e){k0(this._$AH)||(this._$AH=[],this._$AR());var n=this._$AH,o,l=0,a=!0,s=!1,r=void 0;try{for(var d=e[Symbol.iterator](),c;!(a=(c=d.next()).done);a=!0){var h=c.value;l===n.length?n.push(o=new g(this.k(Nc()),this.k(Nc()),this,this.options)):o=n[l],o._$AI(h),l++}}catch(f){s=!0,r=f}finally{try{!a&&d.return!=null&&d.return()}finally{if(s)throw r}}l<n.length&&(this._$AR(o&&o._$AB.nextSibling,l),n.length=l)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,n);e&&e!==this._$AB;){var l=e.nextSibling;e.remove(),e=l}}},{key:"setConnected",value:function(e){var n;this._$AM===void 0&&(this._$Cp=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}]),g}(),Bc=function(){"use strict";function g(t,e,n,o,l){_classCallCheck(this,g),this.type=1,this._$AH=Vi,this._$AN=void 0,this.element=t,this.name=e,this._$AM=o,this.options=l,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Vi}return _createClass(g,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,a=this.strings,s=!1;if(a===void 0)e=bu(this,e,n,0),s=!wu(e)||e!==this._$AH&&e!==ul,s&&(this._$AH=e);else{var r=e,d,c;for(e=a[0],d=0;d<a.length-1;d++)c=bu(this,r[o+d],n,d),c===ul&&(c=this._$AH[d]),s||(s=!wu(c)||c!==this._$AH[d]),c===Vi?e=Vi:e!==Vi&&(e+=(c!=null?c:"")+a[d+1]),this._$AH[d]=c}s&&!l&&this.j(e)}},{key:"j",value:function(e){e===Vi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),g}(),S4=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=3,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===Vi?void 0:o}}]),e}(Bc),C4=ll?ll.emptyScript:"",A4=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=4,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){o&&o!==Vi?this.element.setAttribute(this.name,C4):this.element.removeAttribute(this.name)}}]),e}(Bc),O4=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n,o,l,a,s){_classCallCheck(this,e);var r;return r=t.call(this,n,o,l,a,s),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,a;if((o=(a=bu(this,o,l,0))!==null&&a!==void 0?a:Vi)!==ul){var s=this._$AH,r=o===Vi&&s!==Vi||o.capture!==s.capture||o.once!==s.once||o.passive!==s.passive,d=o!==Vi&&(s===Vi||r);r&&this.element.removeEventListener(this.name,this,s),d&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var l,a;typeof this._$AH=="function"?this._$AH.call((a=(l=this.options)===null||l===void 0?void 0:l.host)!==null&&a!==void 0?a:this.element,o):this._$AH.handleEvent(o)}}]),e}(Bc),j4=function(){"use strict";function g(t,e,n){_classCallCheck(this,g),this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}return _createClass(g,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){bu(this,e)}}]),g}(),P0=$c.litHtmlPolyfillSupport,P0==null||P0(mf,T0),((b0=$c.litHtmlVersions)!==null&&b0!==void 0?b0:$c.litHtmlVersions=[]).push("2.8.0"),ku=Hl(function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o,l;if(o=t.call(this,n),n.type!==dc.ATTRIBUTE||n.name!=="class"||((l=n.strings)===null||l===void 0?void 0:l.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.");return _possibleConstructorReturn(o)}return _createClass(e,[{key:"render",value:function(o){return" "+Object.keys(o).filter(function(l){return o[l]}).join(" ")+" "}},{key:"update",value:function(o,l){var a=_slicedToArray(l,1),s=a[0],r=this,d,c;if(this.it===void 0){this.it=new Set,o.strings!==void 0&&(this.nt=new Set(o.strings.join(" ").split(/\s/).filter(function(w){return w!==""})));for(var h in s)s[h]&&!(!((d=this.nt)===null||d===void 0)&&d.has(h))&&this.it.add(h);return this.render(s)}var f=o.element.classList;this.it.forEach(function(w){w in s||(f.remove(w),r.it.delete(w))});for(var v in s){var b=!!s[v];b===this.it.has(v)||!((c=this.nt)===null||c===void 0)&&c.has(v)||(b?(f.add(v),this.it.add(v)):(f.remove(v),this.it.delete(v)))}return ul}}]),e}(Ul))}}),gf=Ht({"https-url:https://esm.archive.org/v135/lit@2.8.0/esnext/directives/class-map.js":function(){UP()}}),E4,Br,ho,Bo,zc,I0,M0,L0,R0,T4,P4,I4,M4,L4,R4,D4,$4,N4,B4,z4,F4,H4,yf,fo,xu,U4,Yi,cl,Fc,Zo,VP=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/ia-music-player@1.2.0/esnext/dist.js":function(){Fr(),xn(),Wr(),a4(),s4(),xn(),xn(),l4(),b4(),gf(),Fr(),xn(),Wr(),YA(),Fr(),xn(),Wr(),WA(),xn(),Fr(),xn(),Wr(),Fr(),xn(),Wr(),Fr(),xn(),Wr(),cu(),cu(),E4=Ut(_templateObject364()),function(g){g.ia="ia",g.beta="beta",g.youtube="youtube",g.spotify="spotify",g.webamp="webamp"}(Br||(Br={})),function(g){g.iaSamples="Samples",g.iaPlayer="Player",g.beta="Beta",g.spotify="Spotify",g.webamp="Webamp",g.youtube="YouTube"}(ho||(ho={})),Bo={ia:xt(_templateObject365()),beta:xt(_templateObject366()),spotify:xt(_templateObject367()),webamp:xt(_templateObject368()),youtube:xt(_templateObject369())},zc=function(g){var t=g.label,e=t===void 0?ho.iaPlayer:t,n=g.selected,o=ff({filter:n?"invert(1)":"invert(0)",height:"20px",width:"20px"}),l=ku({selected:n,"invert-icon-at-hover-selected":n});return xt(_templateObject370(),l,o,Bo.ia,e)},I0=function(g){var t=ff({filter:g?"invert(1)":"invert(0)",height:"20px",width:"20px"}),e=ku({selected:g,"invert-icon-at-hover-selected":g});return xt(_templateObject371(),e,t,Bo.beta,ho.beta)},M0=function(g){return xt(_templateObject372(),g?"selected":"",Bo.spotify,ho.spotify)},L0=function(g){var t=ff({filter:g?"invert(1)":"invert(0)",height:"20px",width:"20px"}),e=ku({selected:g,"invert-icon-at-hover-selected":g});return xt(_templateObject373(),e,t,Bo.webamp)},R0=function(g){return xt(_templateObject374(),g?"selected":"",Bo.youtube,ho.youtube)},T4=function(g){var t=g.samples,e=g.onClick,n=g.href,o=g.selected,l=t?ho.iaSamples:ho.iaPlayer;return xt(_templateObject375(),n,function(){return e()},zc({label:l,selected:o}))},P4=function(g){var t=g.samples,e=g.onClick,n=g.selected,o=t?ho.iaSamples:ho.iaPlayer;return xt(_templateObject376(),function(l){return e(l)},zc({label:o,selected:n}))},I4=function(g){var t=g.onClick,e=g.selected;return xt(_templateObject377(),function(n){return t(n)},I0(e))},M4=function(g){var t=g.onClick,e=g.selected;return xt(_templateObject378(),function(n){return t(n)},M0(e))},L4=function(g){var t=g.onClick,e=g.href,n=g.selected,o="".concat(e,"?webamp=default");return xt(_templateObject379(),o,function(l){return t(l)},L0(n))},R4=function(g){var t=g.onClick,e=g.selected;return xt(_templateObject380(),function(n){return t(n)},R0(e))},D4=function(g){var t=g.samples,e=g.onClick,n=g.href,o=g.selectedOption;return{url:n,selectedHandler:function(l){e(l)},label:zc({label:t?ho.iaSamples:ho.iaPlayer,selected:o===Br.ia}),id:Br.ia}},$4=function(g){var t=g.samples,e=g.onClick,n=g.selectedOption;return{selectedHandler:function(o){e(o)},label:zc({label:t?ho.iaSamples:ho.iaPlayer,selected:n===Br.ia}),id:Br.ia}},N4=function(g){var t=g.onClick,e=g.selectedOption;return{selectedHandler:function(n){t(n)},label:I0(e===Br.beta),id:Br.beta}},B4=function(g){var t=g.onClick,e=g.selectedOption;return{selectedHandler:function(n){t(n)},label:M0(e===Br.spotify),id:Br.spotify}},z4=function(g){var t=g.href,e=g.onClick,n=g.selectedOption,o=function(l){e(l)};return{url:"".concat(t,"?webamp=default"),selectedHandler:o,label:L0(n===Br.webamp),id:Br.webamp}},F4=function(g){var t=g.onClick,e=g.selectedOption;return{selectedHandler:function(n){t(n)},label:R0(e===Br.youtube),id:Br.youtube}},H4=function(g){var t=g.spotify,e=g.beta,n=g.youtube,o=g.selectedOption;return[o===Br.webamp?D4(g):$4(g),e?N4(g):null,t?B4(g):null,n?F4(g):null,z4(g)].filter(Boolean)},function(g){g.postInit="postInit",g.channelChange="channelChange"}(yf||(yf={})),fo=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.youtube=!1,n.spotify=!1,n.beta=!1,n.webamp=!0,n.samples=!1,n.backgroundTheme="dark",n.selected=Br.ia,n.displayStyle="radio",n.url="",_possibleConstructorReturn(n)}return _createClass(e,[{key:"firstUpdated",value:function(){this.dispatchEvent(new CustomEvent(yf.postInit,{detail:{channel:this.selected},composed:!0,bubbles:!0}))}},{key:"emitChannelChanged",value:function(){this.dispatchEvent(new CustomEvent(yf.channelChange,{detail:{channel:this.selected},composed:!0,bubbles:!0}))}},{key:"iaClicked",value:function(){this.selected!==Br.ia&&(this.selected=Br.ia,this.emitChannelChanged())}},{key:"betaClicked",value:function(){this.selected!==Br.beta&&(this.selected=Br.beta,this.emitChannelChanged())}},{key:"spotifyClicked",value:function(){this.selected!==Br.spotify&&(this.selected=Br.spotify,this.emitChannelChanged())}},{key:"webampClicked",value:function(){this.selected!==Br.webamp&&(this.selected=Br.webamp,this.emitChannelChanged())}},{key:"youtubeClicked",value:function(){this.selected!==Br.youtube&&(this.selected=Br.youtube,this.emitChannelChanged())}},{key:"dropdownOptionSelected",value:function(o){this.selected=o.id,this.emitChannelChanged(),this.iaDropdown.open=!1}},{key:"iaLinkSelector",get:function(){var o=this,l=this.selected===Br.ia?"selected":"";return xt(_templateObject381(),l,T4({samples:this.samples,selected:this.selected===Br.ia,onClick:function(){return o.iaClicked()},href:this.url}))}},{key:"iaButtonSelector",get:function(){var o=this,l=this.selected===Br.ia?"selected":"";return xt(_templateObject382(),l,P4({samples:this.samples,selected:this.selected===Br.ia,onClick:function(){return o.iaClicked()}}))}},{key:"iaBetaSelector",get:function(){var o=this,l=this.selected===Br.beta?"selected":"";return xt(_templateObject383(),l,I4({selected:this.selected===Br.beta,onClick:function(){return o.betaClicked()}}))}},{key:"spotifySelector",get:function(){var o=this,l=this.selected===Br.spotify?"selected":"";return xt(_templateObject384(),l,M4({selected:this.selected===Br.spotify,onClick:function(){return o.spotifyClicked()}}))}},{key:"webampSelector",get:function(){var o=this,l=this.selected===Br.webamp?"selected":"";return xt(_templateObject385(),l,L4({href:this.url||window.location.href,selected:this.selected===Br.webamp,onClick:function(){return o.webampClicked()}}))}},{key:"youtubeSelector",get:function(){var o=this,l=this.selected===Br.youtube?"selected":"";return xt(_templateObject386(),l,R4({selected:this.selected===Br.youtube,onClick:function(){return o.youtubeClicked()}}))}},{key:"properIaSelector",get:function(){return this.selected===Br.webamp?this.iaLinkSelector:this.iaButtonSelector}},{key:"toggleDisplayStyle",value:function(){var o=this.displayStyle==="dropdown"?"radio":"dropdown";this.displayStyle=o}},{key:"shouldShowChannelType",value:function(o){var l=this.selected===o;return this.displayStyle==="radio"?!0:!(this.displayStyle==="dropdown"&&l)}},{key:"dropdownOptions",get:function(){var o=this,l=o.samples,a=o.beta,s=o.spotify,r=o.webamp,d=o.youtube,c=o.url,h=o.selected;return H4({selectedOption:h,samples:!!l,beta:a,spotify:s,webamp:r,youtube:d,href:c,onClick:this.dropdownOptionSelected.bind(this)})}},{key:"currentlySelectedIcon",get:function(){switch(this.selected){case Br.beta:return Bo.beta;case Br.spotify:return Bo.spotify;case Br.youtube:return Bo.youtube;case Br.webamp:return Bo.webamp;default:return Bo.ia}}},{key:"dropdown",get:function(){return xt(_templateObject387(),this.dropdownOptions,this.selected,this.backgroundTheme,this.currentlySelectedIcon)}},{key:"radioView",get:function(){return xt(_templateObject388(),this.properIaSelector,this.beta?this.iaBetaSelector:Vn,this.youtube?this.youtubeSelector:Vn,this.spotify?this.spotifySelector:Vn,this.webamp?this.webampSelector:Vn)}},{key:"render",value:function(){return xt(_templateObject389(),this.displayStyle,this.displayStyle,this.backgroundTheme,o4(this.displayStyle==="radio"?this.radioView:this.dropdown))}}]),e}(er),fo.styles=[Ut(_templateObject390()),E4],tt([on({attribute:!0,type:Boolean,reflect:!0})],fo.prototype,"youtube",void 0),tt([on({attribute:!0,type:Boolean,reflect:!0})],fo.prototype,"spotify",void 0),tt([on({attribute:!0,type:Boolean,reflect:!0})],fo.prototype,"beta",void 0),tt([on({attribute:!0,type:Boolean,reflect:!0})],fo.prototype,"webamp",void 0),tt([on({attribute:!0,type:Boolean,reflect:!0})],fo.prototype,"samples",void 0),tt([on({attribute:!0,type:String,reflect:!0})],fo.prototype,"backgroundTheme",void 0),tt([on({type:String,reflect:!0})],fo.prototype,"selected",void 0),tt([on({type:String,reflect:!0})],fo.prototype,"displayStyle",void 0),tt([on({type:String})],fo.prototype,"url",void 0),tt([ii("ia-dropdown")],fo.prototype,"iaDropdown",void 0),fo=tt([Qr("channel-selector")],fo),xu=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.iaIdentifier="",n.gradType="",_possibleConstructorReturn(n)}return _createClass(e,[{key:"updated",value:function(o){o.has("iaIdentifier")&&this.setGradType()}},{key:"hashStrToInt",value:function(o){return o.split("").reduce(function(l,a){return l+a.charCodeAt(0)},0)}},{key:"setGradType",value:function(){var o=0;this.iaIdentifier?(o=this.hashStrToInt(this.iaIdentifier)%6,this.gradType="grad".concat(o)):this.gradType="grad0",this.dispatchEvent(new CustomEvent("iaMusicNoImageAvailable",{detail:{gradient:o,gradType:this.gradType,identifier:this.iaIdentifier},bubbles:!0,composed:!0}))}},{key:"render",value:function(){return xt(_templateObject391(),this.gradType)}}]),e}(er),xu.styles=Ut(_templateObject392()),tt([on({type:String,reflect:!0,attribute:!0})],xu.prototype,"iaIdentifier",void 0),tt([on({type:String,reflect:!0})],xu.prototype,"gradType",void 0),xu=tt([Qr("iamusic-noimage")],xu),U4=xt(_templateObject393()),Yi=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.showAllPhotos=!1,n.baseHost="archive.org",n.signedIn=!1,n.itemIdentifier="",n.fullscreenActive=!1,n.reInitBrAtFullscreen=!1,n.noImageAvailable=!1,n.backgroundTheme="dark",n.bindBrEvents=function(){window.addEventListener("BookReader:PostInit",n.handleBrPostInit),window.addEventListener("BookReader:fullscreenToggled",function(){var o;n.fullscreenActive=((o=n.bookreader)===null||o===void 0?void 0:o.isFullscreen())||!1;var l=n.fullscreenActive?"fullscreenOpened":"fullscreenClosed";n.dispatchEvent(new Event(l))})},_possibleConstructorReturn(n)}return _createClass(e,[{key:"disconnectedCallback",value:function(){_get(_getPrototypeOf(e.prototype),"disconnectedCallback",this).call(this),window.removeEventListener("BookReader:PostInit",this.handleBrPostInit)}},{key:"firstUpdated",value:function(){this.bindBrEvents()}},{key:"updated",value:function(o){o.has("linerNotesManifest")&&this.linerNotesManifest&&this.loadFreshBookReaderFromManifest(),o.has("showAllPhotos")&&this.showAllPhotos&&this.initBr(500)}},{key:"render",value:function(){if(this.noImageAvailable)return xt(_templateObject394(),this.itemIdentifier);var o=this.backgroundTheme==="light"?"light":"",l=this.showAllPhotos?"show-back":"",a=this.fullscreenActive?"fullscreenActive":"";return xt(_templateObject395(),"flip-card ".concat(l," ").concat(a," ").concat(o),this.photoAlbumCover,this.linerNotesView)}},{key:"togglePhotoViewer",value:function(){this.showAllPhotos=!this.showAllPhotos,this.showAllPhotos||(this.fullscreenActive=!1,this.dispatchEvent(new Event("fullscreenClosed")))}},{key:"imageBaseUrl",get:function(){return"https://".concat(this.baseHost,"/download/").concat(this.itemIdentifier)}},{key:"primaryImage",get:function(){var o;if(this.linerNotesManifest){var l=(o=this.linerNotesManifest.brOptions.data)===null||o===void 0?void 0:o.flat()[0];return(l==null?void 0:l.uri)||void 0}}},{key:"linerNotesView",get:function(){var o=this;return xt(_templateObject396(),"photo-viewer-container",function(){var l;(l=o.bookreader)===null||l===void 0||l.exitFullScreen(),o.togglePhotoViewer()},this.linerNotesManifest,this.baseHost,this.signedIn)}},{key:"photoAlbumCover",get:function(){var o=this,l,a,s=(a=(l=this.itemMD)===null||l===void 0?void 0:l.title)!==null&&a!==void 0?a:this.itemIdentifier,r=this.primaryImage?this.primaryImage:"//".concat(this.baseHost,"/services/img/").concat(this.itemIdentifier);return xt(_templateObject397(),function(){return $n(o,null,_regeneratorRuntime.default.mark(function d(){return _regeneratorRuntime.default.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:this.togglePhotoViewer();case 1:case"end":return h.stop()}},d,this)}))},r,"primary image for ".concat(s),function(d){var c=d.target,h=c.getBoundingClientRect(),f=h.width,v=h.height;o.dispatchEvent(new CustomEvent("coverImageLoaded",{detail:{width:f,height:v,target:c}}))},s,U4)}},{key:"handleBrPostInit",value:function(o){var l=this;this.bookreader=o==null?void 0:o.detail.props,window.br=this.bookreader,setTimeout(function(){var a,s;(a=l.bookreader)===null||a===void 0||a.jumpToIndex(0),(s=l.bookreader)===null||s===void 0||s.resize()},1e3)}},{key:"prepareLightDomHook",value:function(){var o,l,a=(o=this.lightDomHook)===null||o===void 0?void 0:o.querySelector("div.bookreader-slot");a&&((l=this.lightDomHook)===null||l===void 0||l.removeChild(a))}},{key:"loadFreshBookReaderFromManifest",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function o(){return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.mountBookReaderLightDomHook();case 2:return a.next=4,this.initBr();case 4:case"end":return a.stop()}},o,this)}))}},{key:"initBr",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return $n(this,null,_regeneratorRuntime.default.mark(function l(){var a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=this,console.log("&&&& INIT BR"),r.next=4,new Promise(function(d){var c=a;setTimeout(function(){var h,f;c.bookreader=c.linerNotesManifest&&RT(c.linerNotesManifest),console.log("&&&& BR OPTIONS",(h=c.bookreader)===null||h===void 0?void 0:h.options),(f=c.bookreader)===null||f===void 0||f.init(),d()},o)});case 4:case"end":return r.stop()}},l,this)}))}},{key:"mountBookReaderLightDomHook",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function o(){var l;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return l=this,s.next=3,new Promise(function(r){var d,c,h,f=(d=l.lightDomHook)===null||d===void 0?void 0:d.querySelector("div.bookreader-slot");f&&((c=l.lightDomHook)===null||c===void 0||c.removeChild(f));var v=document.createElement("div");v.setAttribute("slot","main"),v.classList.add("bookreader-slot");var b=document.createElement("div");b.classList.add("liner-notes"),v.append(b),(h=l.lightDomHook)===null||h===void 0||h.append(v),b.setAttribute("id","BookReader"),b.classList.add("BookReader"),r(!0)});case 3:case"end":return s.stop()}},o,this)}))}}]),e}(er),Yi.styles=Ut(_templateObject398()),tt([on({type:Boolean,reflect:!0})],Yi.prototype,"showAllPhotos",void 0),tt([on({type:String,attribute:!0,reflect:!0})],Yi.prototype,"baseHost",void 0),tt([on({type:Boolean,reflect:!0})],Yi.prototype,"signedIn",void 0),tt([on({type:String,reflect:!0,attribute:!0})],Yi.prototype,"itemIdentifier",void 0),tt([on({type:Object})],Yi.prototype,"itemMD",void 0),tt([on({type:Object})],Yi.prototype,"linerNotesManifest",void 0),tt([on({type:Object})],Yi.prototype,"bookreader",void 0),tt([on({type:Boolean,reflect:!0})],Yi.prototype,"fullscreenActive",void 0),tt([on({type:Boolean})],Yi.prototype,"reInitBrAtFullscreen",void 0),tt([on({type:Boolean,reflect:!0})],Yi.prototype,"noImageAvailable",void 0),tt([on({attribute:!0,type:String,reflect:!0})],Yi.prototype,"backgroundTheme",void 0),tt([on({type:Object})],Yi.prototype,"lightDomHook",void 0),tt([ii("button.click-for-photos img")],Yi.prototype,"coverImage",void 0),Yi=tt([Qr("iaux-photo-viewer")],Yi),cl=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.iaUrn="",n.display=!1,n.baseHost="https://archive.org",_possibleConstructorReturn(n)}return _createClass(e,[{key:"youTubeUrl",get:function(){if(!this.iaUrn||!this.iaUrn.match(/urn:youtube:/g))return"";var o=this.iaUrn.replace(/urn:youtube:/g,"").replace(/:/g,"/"),l="origin=".concat(this.baseHost,"&widgetid=1&autoplay=1&rel=0");return"https://www.youtube.com/embed/".concat(o,"?").concat(l)}},{key:"render",value:function(){var o=this.youTubeUrl;return o?xt(_templateObject399(),o):Vn}}],[{key:"styles",get:function(){return[Ut(_templateObject400())]}}]),e}(er),tt([on({type:String,reflect:!0})],cl.prototype,"iaUrn",void 0),tt([on({type:Boolean,reflect:!0})],cl.prototype,"display",void 0),tt([on({type:String})],cl.prototype,"baseHost",void 0),tt([ii("iframe")],cl.prototype,"iframe",void 0),cl=tt([Qr("youtube-player")],cl),Fc=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.iaUrn="",_possibleConstructorReturn(n)}return _createClass(e,[{key:"spotifyUrl",get:function(){return!this.iaUrn||!this.iaUrn.match(/urn:spotify:/g)?"":"https://open.spotify.com/embed/".concat(this.iaUrn.replace(/urn:spotify:/g,"").replace(/:/g,"/"))}},{key:"render",value:function(){var o=this.spotifyUrl;return o?xt(_templateObject401(),o):xt(_templateObject402(),this.iaUrn)}}],[{key:"styles",get:function(){return[Ut(_templateObject403())]}}]),e}(er),tt([on({type:String,attribute:!0,reflect:!0})],Fc.prototype,"iaUrn",void 0),tt([ii("iframe")],Fc.prototype,"iframe",void 0),Fc=tt([Qr("spotify-player")],Fc),Zo=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.selectedChannel="",n.playerApi=void 0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"updated",value:function(o){o.has("album")&&this.album&&this.dispatchAlbumInfo(),o.has("selectedChannel")&&this.selectedChannel&&this.album&&this.updateToSelectedChannel(),o.has("selectedTrack")&&this.selectedTrack&&this.dispatchSelectedTrack()}},{key:"dispatchSelectedTrack",value:function(){console.log("externalchannels-player: SELECTED TRACK",this.selectedTrack),this.dispatchEvent(new CustomEvent("externalChannelsSelectedTrack",{detail:{track:this.selectedTrack}}))}},{key:"dispatchAlbumInfo",value:function(){var o,l;console.log("externalchannels-player: ALBUM INFO",this.album),this.dispatchEvent(new CustomEvent("externalChannelsPlayerLoaded",{detail:{album:this.album,spotifyTracks:((o=this.album)===null||o===void 0?void 0:o.spotifyTracks)||[],youtubeTracks:((l=this.album)===null||l===void 0?void 0:l.youtubeTracks)||[]}}))}},{key:"onTracklistClickCallback",value:function(o){var l=this,a,s,r,d,c;this.currentTrackNum=o+1;var h=(a=this.album)===null||a===void 0?void 0:a.tracks.find(function(k){return k.track===l.currentTrackNum});if(this.selectedChannel===Br.spotify){var f=this,v=(s=this.album)===null||s===void 0?void 0:s.spotifyTracks.find(function(k){return k.track===f.currentTrackNum});h=v!=null?v:(r=this.album)===null||r===void 0?void 0:r.spotifyTracks[0]}else if(this.selectedChannel===Br.youtube){var b=this,w=(d=this.album)===null||d===void 0?void 0:d.youtubeTracks.find(function(k){return k.track===b.currentTrackNum});h=w!=null?w:(c=this.album)===null||c===void 0?void 0:c.youtubeTracks[0]}this.selectedTrack=h,console.log("*** onTracklistClickCallback ** ",{selectedTrack:h,iaTrackNum:o,currentTrackNum:this.currentTrackNum})}},{key:"updateToSelectedChannel",value:function(){var o,l,a,s,r;if(this.selectedChannel==="youtube"){var d=this.album.youtubeTracks||[],c=[];if(console.log("youtubeTracks",d),d.length){var h=this,f=d.reduce(function(C,E){var A=Number.isInteger(E.track)?"".concat(E.track):"n/a";if(C.push(A),A!=="n/a"){var j=Number(A)-1;c.push(j)}return C},[]).join(", ");console.log("ytTrackNums",{ytTrackNums:f,iaYtTracklist:c}),(o=this.playerApi)===null||o===void 0||o.headless(c,function(C){return h.onTracklistClickCallback(C)})}}else if(this.selectedChannel==="spotify"){var v=((l=this.album)===null||l===void 0?void 0:l.spotifyTracks)||[],b=[];if(console.log("spotifyTracks",v),v.length){var w=this,k=((a=this.album)===null||a===void 0?void 0:a.spotifyTracks.reduce(function(C,E){var A=Number.isInteger(E.track)?"".concat(E.track):"n/a";if(C.push(A),A!=="n/a"){var j=Number(A)-1;b.push(j)}return C},[])).join(", ");console.log("spTrackNums ------",{spTrackNums:k,iaSpTracklist:b}),(s=this.playerApi)===null||s===void 0||s.headless(b,function(C){return w.onTracklistClickCallback(C)})}}else(r=this.playerApi)===null||r===void 0||r.headless()}},{key:"render",value:function(){var o,l;if(!(this.selectedChannel==="youtube"||this.selectedChannel==="spotify"))return Vn;if(this.selectedChannel==="spotify"){var a=this,s=(o=this.album)===null||o===void 0?void 0:o.spotifyTracks.find(function(c){var h;return(c==null?void 0:c.track)===((h=a.selectedTrack)===null||h===void 0?void 0:h.track)});if(s)return xt(_templateObject404(),s==null?void 0:s.spotifyId)}else if(this.selectedChannel==="youtube"){var r=this,d=(l=this.album)===null||l===void 0?void 0:l.youtubeTracks.find(function(c){var h;return c.track===((h=r.selectedTrack)===null||h===void 0?void 0:h.track)});if(console.log("~~~~ trackFound YT ID",d==null?void 0:d.youtubeId,d),d)return xt(_templateObject405(),d.youtubeId)}return Vn}}]),e}(er),tt([on({type:String,attribute:!0,reflect:!0})],Zo.prototype,"selectedChannel",void 0),tt([on({type:Object})],Zo.prototype,"playerApi",void 0),tt([on({type:Object})],Zo.prototype,"album",void 0),tt([on({type:Object})],Zo.prototype,"selectedTrack",void 0),tt([to()],Zo.prototype,"currentTrackNum",void 0),tt([ii("spotify-player")],Zo.prototype,"spotifyPlayer",void 0),tt([ii("youtube-player")],Zo.prototype,"youtubePlayer",void 0),Zo=tt([Qr("externalchannels-player")],Zo)}}),WP=Ht({"https-url:https://esm.archive.org/@internetarchive/ia-music-player@1.2.0/dist/index.js":function(){cu(),Fr(),xn(),Wr(),WA(),YA(),a4(),s4(),l4(),b4(),gf(),VP()}}),V4={};wi(V4,{IaMusicTheater:function(){return D0}});var D0,qP=Ht({"components/ia-music-theater/ia-music-theater.js":function(){PA(),IP(),LP(),Dv(),WP(),bo(),A3(),window.SharedResizeObserver||(window.SharedResizeObserver=Ya),Cn("** ia-music-player@1.2.0 **"),D0=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.baseHost="",n.signedIn=!1,n.hasFullAudioAccess=!0,n.identifier="",n.sharedRO=void 0,n.displayStyle="one-col",n.bgTheme="dark",n.linerNotesUrl="",n.linerNotesManifest=void 0,n.itemInfo=void 0,n.looseImageInfo=[],n.linerNotesFullscreen=!1,n.noImageAvailable=!1,n.photoViewerReady=!1,n.iaPlaylist=void 0,n.hasSpotifyTracks=!1,n.hasYoutubeTracks=!1,n.album=void 0,n.analyticsHandler=new Nv,n.selectedChannel="ia",n.currComponentWidth=0,n}return _createClass(e,[{key:"firstUpdated",value:function(){var o;this.classList.remove("preload"),this.setupResizeObserver(),this.analyticsHandler.send_event("ia-music-theater","channel-onload","".concat(this.selectedChannel));var l=document.querySelector(".js-ia-metadata").value;this.itemInfo={metadata:JSON.parse(l),rawString:l};var a=document.querySelector(".js-iaux-loose-images").value,s=((o=JSON.parse(a))==null?void 0:o.image_filenames)||[];Cn("~~~~ parsedImageInfo: ",s,"~~~~");var r=(s==null?void 0:s.includes("_"))&&(s==null?void 0:s.length)===1;this.looseImageInfo=!r&&(s!=null&&s.length)?s:[];var d=document.querySelector(".js-play8-playlist").value;this.iaPlaylist=JSON.parse(d),this.album=new HA(this.itemInfo.metadata,this.iaPlaylist)}},{key:"updated",value:function(o){var l;o.has("linerNotesUrl")&&this.linerNotesUrl&&this.fetchLinerNotes(),this.fullscreenActive||(o.has("displayStyle")&&this.displayStyle==="one-col"&&this.setBookReaderClassesForMobileView(),o.has("displayStyle")&&this.displayStyle!=="one-col"&&this.removeBookReaderMobileViewClasses()),o.has("looseImageInfo")&&((l=this.looseImageInfo)!=null&&l.length)&&!this.linerNotesUrl&&this.createManifestToLoad()}},{key:"createManifestToLoad",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function o(){var l;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,MT({itemIdentifier:this.identifier,images:this.looseImageInfo,baseHost:"archive.org"});case 2:l=s.sent,Cn("*** manifest ***",l),this.linerNotesManifest=l;case 5:case"end":return s.stop()}},o,this)}))}},{key:"removeBookReaderMobileViewClasses",value:function(){var o=this.querySelector("div#BookReader");o==null||o.classList.remove("iaux-music-theater-mobile-view")}},{key:"setBookReaderClassesForMobileView",value:function(){var o=this.querySelector("div#BookReader");o==null||o.classList.add("iaux-music-theater-mobile-view")}},{key:"fetchLinerNotes",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function o(){var l,a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=1,r.next=4,$.ajax({url:"/embed/".concat(this.identifier,"?output=json"),type:"GET",dataType:"json",crossDomain:!0}).then(function(d){return d}).catch(function(){return[]});case 4:l=r.sent,r.next=10;break;case 7:r.prev=7,r.t0=r.catch(1),l=[];case 10:return this.jwplayerPlaylist=l,Cn("*** jwplayerPlaylist ***",l),r.prev=13,r.next=16,$.ajax({url:this.linerNotesUrl,type:"GET",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).then(function(d){return d}).catch(function(){return null});case 16:a=r.sent,r.next=22;break;case 19:r.prev=19,r.t1=r.catch(13),a=void 0;case 22:this.linerNotesManifest=a==null?void 0:a.data,this.noImageAvailable=!1,Cn("*** linerNotesManifest ***",a);case 25:case"end":return r.stop()}},o,this,[[1,7],[13,19]])}))}},{key:"itemUrl",get:function(){return"https://".concat(this.baseHost,"/details/").concat(this.identifier)}},{key:"iauxPhotoViewer",get:function(){return this.shadowRoot.querySelector("iaux-photo-viewer")}},{key:"channelSelector",get:function(){return this.shadowRoot.querySelector("channel-selector")}},{key:"setupResizeObserver",value:function(){this.sharedRO=new Ya,this.sharedRO.addObserver({handler:{handleResize:this.handleResize.bind(this)},target:this.shadowRoot.host})}},{key:"handleResize",value:function(o){var l,a,s=o.contentRect;if(s.width!==this.currComponentWidth){if(this.linerNotesFullscreen&&(this.style.removeProperty("--linerNotesFullscreenHeight"),this.style.setProperty("--linerNotesFullScreenHeight","".concat(Math.round(s.height),"px"))),document.body.style.removeProperty("--linerNotesInTheaterHeight"),s.width<768)this.displayStyle="one-col",this.channelSelector.displayStyle="dropdown";else{this.displayStyle="two-col",this.channelSelector.displayStyle="radio";var r=(a=(l=this.iauxPhotoViewer)==null?void 0:l.coverImage)==null?void 0:a.getBoundingClientRect();if(!r)return;var d=r.height,c=r.width,h=Math.floor(d),f=950;if(s.width<f){this.setBookReaderHeight(h);return}var v=Math.floor(d/c),b=Math.floor(this.offsetHeight-d),w=this.offsetHeight>=d&&b>250,k=v===1&&b>170,C=b<0;(C||k||w)&&(h=this.offsetHeight-20),this.setBookReaderHeight(h)}Cn("music-player handleResize",{width:s.width,displayStyle:this.displayStyle})}}},{key:"channelChange",value:function(o){var l=o.detail,a=(l==null?void 0:l.channel)||"unknown";Cn("channel change",a),this.selectedChannel=a,this.analyticsHandler.send_event("ia-music-theater","channel-change","".concat(this.selectedChannel))}},{key:"setBookReaderHeight",value:function(o){var l=Math.floor(o);!o||!l||(document.body.style.removeProperty("--linerNotesInTheaterHeight"),document.body.style.setProperty("--linerNotesInTheaterHeight","".concat(l,"px")))}},{key:"render",value:function(){var o=this,l;Cn("~~~ render: linerNotesManifest ",this.linerNotesManifest);var a=this.linerNotesFullscreen?"linerNotesFullscreen":"";return uu(_templateObject409(),"".concat(this.displayStyle," ").concat(a," ").concat(this.bgTheme," ").concat(this.noImageAvailable?"noimageavailable":"hasimage"),this.bgTheme,this.hasYoutubeTracks,this.hasSpotifyTracks,this.itemUrl,this.selectedChannel,function(s){return o.channelChange(s)},this.displayStyle==="one-col"?"dropdown":"radio",this.noImageAvailable?uu(_templateObject406(),this.identifier):uu(_templateObject407(),this.noImageAvailable,this.linerNotesManifest?"":"hide",this.bgTheme,this.baseHost,this.identifier,(l=this.itemInfo)==null?void 0:l.metadata,this.signedIn,this.linerNotesManifest,this,this.sharedRO,function(){if(o.displayStyle==="one-col"){var s=window.innerHeight;o.style.removeProperty("--linerNotesFullscreenHeight"),o.style.setProperty("--linerNotesFullScreenHeight","".concat(Math.round(s),"px"))}o.linerNotesFullscreen=!0},function(){o.displayStyle==="one-col"&&o.style.removeProperty("--linerNotesFullScreenHeight"),o.linerNotesFullscreen=!1},function(){o.displayStyle==="one-col"&&o.setBookReaderClassesForMobileView(),o.analyticsHandler.send_event("ia-music-theater","liner-notes-viewed","".concat(o.displayStyle))},function(s){var r,d=!o.noImageAvailable&&!((r=o.looseImageInfo)!=null&&r.length)&&!o.linerNotesManifest;if(!d){var c=s.detail,h=c.height,f=c.width,v=h;if(o.displayStyle==="one-col")v=250;else{var b=Math.round(h/f);(b===1||h>=o.offsetHeight)&&(v=o.offsetHeight-20)}o.setBookReaderHeight(v),o.photoViewerReady=!0}}),this.photoViewerReady?$i:uu(_templateObject408()),this.album,this.selectedChannel,window==null?void 0:window.Play,function(s){var r=s.detail,d=r.youtubeTracks,c=r.spotifyTracks,h=r.album;o.hasYoutubeTracks=!!d.length,o.hasSpotifyTracks=!!c.length,o.album=h,Cn("*** external player loaded",s.detail)},function(s){Cn("*** external player selected track Received",s.detail)})}}],[{key:"properties",get:function(){return{itemInfo:{type:Object},baseHost:{type:String},identifier:{type:String,reflect:!0},sharedRO:{type:Object},linerNotesFullscreen:{type:Boolean,attribute:!0,reflect:!0},signedIn:{type:Boolean,attribute:!0,reflect:!0},hasFullAudioAccess:{type:Boolean,attribute:!0,reflect:!0},displayStyle:{type:String,attribute:!0,reflect:!0},bgTheme:{type:String,attribute:!0,reflect:!0},selectedChannel:{type:String,attribute:!0,reflect:!0},linerNotesUrl:{type:String,attribute:!0,reflect:!0},linerNotesManifest:{type:Object},looseImageInfo:{type:Array},noImageAvailable:{type:Boolean,attribute:!0,reflect:!0},photoViewerReady:{type:Boolean,attribute:!0,reflect:!0},iaPlaylist:{type:Object},hasYoutubeTracks:{type:Boolean,attribute:!0,reflect:!0},hasSpotifyTracks:{type:Boolean,attribute:!0,reflect:!0},album:{type:Object}}}},{key:"styles",get:function(){return ky(_templateObject410())}}]),e}(rl),customElements.define("ia-music-theater",D0)}}),$0=Ht({"https-url:https://archive.org/components/util/jquery.js":function(){Pd(),window.jQuery=X,window.$=X}}),N0,GP=Ht({"https-url:https://archive.org/components/util/message.js":function(){N0=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,null,[{key:"LoadingMessage",value:function(e){var n=e.message,o=n===void 0?"Loading":n;return'<small class="loading-message">'.concat(o,"</small>")}},{key:"ErrorMessage",value:function(e){var n=e.errorMessage;return"<small>".concat(n,"</small>")}}]),g}()}}),YP=Ht({"https-url:https://archive.org/components/tilebars/tilebars.js":function(){$0()}}),W4,XP=Ht({"https-url:https://archive.org/components/util/throttler.js":function(){W4=function(){"use strict";function g(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;_classCallCheck(this,g),this.callback=t,this.threshhold=e,this.context=n,this.last=void 0,this.deferTimeout=void 0}return _createClass(g,[{key:"execute",value:function(){var e=+new Date;this.last&&e<this.last+this.threshhold?(clearTimeout(this.deferTimeout),this.deferTimeout=setTimeout(this.executeCallback.bind(this),this.threshhold)):this.executeCallback.call(this)}},{key:"executeCallback",value:function(){this.last=+new Date,this.callback.apply(this.context)}}]),g}()}}),q4,KP=Ht({"https-url:https://archive.org/components/util/scroll-proximity-handler.js":function(){$0(),XP(),q4=function(){"use strict";function g(t,e,n){_classCallCheck(this,g),this.identifier=t,this.$targetElement=e,this.callback=n,this.$window=X(window),this.throttler=new W4(this.scrollListener,100,this)}return _createClass(g,[{key:"startListener",value:function(){this.$window.on("scroll.".concat(this.identifier),this.throttledListener.bind(this)),this.scrollListener()}},{key:"throttledListener",value:function(){return this.throttler.execute()}},{key:"getTargetScrollOffset",value:function(){var e=this.$targetElement.offset().top,n=this.$window.height();return e-n/2}},{key:"scrollListener",value:function(){var e=this.getTargetScrollOffset();this.$window.scrollTop()+this.$window.height()>=e&&(this.$window.off(".".concat(this.identifier)),this.callback())}}]),g}()}}),G4,QP=Ht({"https-url:https://archive.org/components/util/is-bot.js":function(){G4=/bot|crawl|spider/i.test(navigator.userAgent)}}),Su,Y4=Ht({"https-url:https://archive.org/components/related/related.js":function(){$0(),GP(),YP(),KP(),QP(),Su=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,null,[{key:"setup",value:function(){var e=X("#js-related");if(e.length&&(mp(),X(window).on("resize  orientationchange",function(o){clearTimeout(g.also_found_throttler),g.also_found_throttler=setTimeout(mp,250)})),!(!e.length||G4)){var n=X("#also-found");this.scrollProximityHandler=new q4("related_items",n,function(){if(!e.text())return n.find(".tilebars").show(),e.html(N0.LoadingMessage({message:"Fetching items"})),g.doWhenScrolledToRelatedSection()}),this.scrollProximityHandler.startListener()}}},{key:"doWhenScrolledToRelatedSection",value:function(){var e=X("#also-found").data("identifier"),n=X("#js-related");return g.getRelatedItems(e).then(function(o){n.html(o),mp()}).catch(function(o){X("#playplayset").hide(),n.html(N0.ErrorMessage({errorMessage:o.message})).show()})}},{key:"getRelatedItems",value:function(e,n){return new Promise(function(o,l){var a="/details/".concat(encodeURIComponent(e),"?RelatedItemsGet=").concat(n?"json":1),s="Related items temporarily unavailable. Please try back later.";X.get(a,function(r){r===""&&l(new Error("No similar items found.")),r==="service_disabled"&&l(new Error(s)),o(r)}).fail(function(){l(new Error(s))})})}}]),g}(),X(function(){return Su.setup()})}});function Cu(g,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g,n=arguments.length>3?arguments[3]:void 0,o,l,a;if(t===dl)return t;var s=n!==void 0?(o=e.o)==null?void 0:o[n]:e.l,r=Ou(t)?void 0:t._$litDirective$;return(s==null?void 0:s.constructor)!==r&&((l=s==null?void 0:s._$AO)==null||l.call(s,!1),r===void 0?s=void 0:(s=new r(g),s._$AT(g,e,n)),n!==void 0?((a=e.o)!=null?a:e.o=[])[n]=s:e.l=s),s!==void 0&&(t=Cu(g,s._$AS(g,t.values),s,n)),t}var Hc,Uc,B0,z0,Ma,F0,X4,ws,Au,Ou,bf,K4,wf,ju,H0,U0,_s,V0,W0,q0,_f,ri,JP,ZP,dl,Wi,G0,ks,Q4,kf,J4,xf,Vc,Z4,eO,tO,nO,Y0,rO,iO,Sf=Ht({"https-url:https://esm.archive.org/v135/lit-html@3.2.0/esnext/lit-html.mjs":function(){Hc=globalThis,Uc=Hc.trustedTypes,B0=Uc?Uc.createPolicy("lit-html",{createHTML:function(g){return g}}):void 0,z0="$lit$",Ma="lit$".concat(Math.random().toFixed(9).slice(2),"$"),F0="?"+Ma,X4="<".concat(F0,">"),ws=document,Au=function(){return ws.createComment("")},Ou=function(g){return g===null||typeof g!="object"&&typeof g!="function"},bf=Array.isArray,K4=function(g){return bf(g)||typeof(g==null?void 0:g[Symbol.iterator])=="function"},wf="[ 	\n\f\r]",ju=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,H0=/-->/g,U0=/>/g,_s=RegExp(">|".concat(wf,"(?:([^\\s\"'>=/]+)(").concat(wf,"*=").concat(wf,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),V0=/'/g,W0=/"/g,q0=/^(?:script|style|textarea|title)$/i,_f=function(g){return function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return{_$litType$:g,strings:t,values:n}}},ri=_f(1),JP=_f(2),ZP=_f(3),dl=Symbol.for("lit-noChange"),Wi=Symbol.for("lit-nothing"),G0=new WeakMap,ks=ws.createTreeWalker(ws,129),Q4=function(g,t){for(var e=g.length-1,n=[],o,l=t===2?"<svg>":t===3?"<math>":"",a=ju,s=0;s<e;s++){for(var r=g[s],d=void 0,c=void 0,h=-1,f=0;f<r.length&&(a.lastIndex=f,c=a.exec(r),c!==null);)f=a.lastIndex,a===ju?c[1]==="!--"?a=H0:c[1]!==void 0?a=U0:c[2]!==void 0?(q0.test(c[2])&&(o=RegExp("</"+c[2],"g")),a=_s):c[3]!==void 0&&(a=_s):a===_s?c[0]===">"?(a=o!=null?o:ju,h=-1):c[1]===void 0?h=-2:(h=a.lastIndex-c[2].length,d=c[1],a=c[3]===void 0?_s:c[3]==='"'?W0:V0):a===W0||a===V0?a=_s:a===H0||a===U0?a=ju:(a=_s,o=void 0);var v=a===_s&&g[s+1].startsWith("/>")?" ":"";l+=a===ju?r+X4:h>=0?(n.push(d),r.slice(0,h)+z0+r.slice(h)+Ma+v):r+Ma+(h===-2?s:v)}return[sx(g,l+(g[e]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),n]},kf=function(){"use strict";function g(t,e){var n=t.strings,o=t._$litType$;_classCallCheck(this,g);var l;this.parts=[];var a=0,s=0,r=n.length-1,d=this.parts,c=_slicedToArray(Q4(n,o),2),h=c[0],f=c[1];if(this.el=g.createElement(h,e),ks.currentNode=this.el.content,o===2||o===3){var v,b=this.el.content.firstChild;(v=b).replaceWith.apply(v,_toConsumableArray(b.childNodes))}for(;(l=ks.nextNode())!==null&&d.length<r;){if(l.nodeType===1){var w=!0,k=!1,C=void 0;if(l.hasAttributes())try{for(var E=l.getAttributeNames()[Symbol.iterator](),A;!(w=(A=E.next()).done);w=!0){var j=A.value;if(j.endsWith(z0)){var y=f[s++],u=l.getAttribute(j).split(Ma),p=/([.?@])?(.*)/.exec(y);d.push({type:1,index:a,name:p[2],strings:u,ctor:p[1]==="."?Z4:p[1]==="?"?eO:p[1]==="@"?tO:Vc}),l.removeAttribute(j)}else j.startsWith(Ma)&&(d.push({type:6,index:a}),l.removeAttribute(j))}}catch(I){k=!0,C=I}finally{try{!w&&E.return!=null&&E.return()}finally{if(k)throw C}}if(q0.test(l.tagName)){var m=l.textContent.split(Ma),_=m.length-1;if(_>0){l.textContent=Uc?Uc.emptyScript:"";for(var x=0;x<_;x++)l.append(m[x],Au()),ks.nextNode(),d.push({type:2,index:++a});l.append(m[_],Au())}}}else if(l.nodeType===8)if(l.data===F0)d.push({type:2,index:a});else for(var O=-1;(O=l.data.indexOf(Ma,O+1))!==-1;)d.push({type:7,index:a}),O+=Ma.length-1;a++}}return _createClass(g,null,[{key:"createElement",value:function(e,n){var o=ws.createElement("template");return o.innerHTML=e,o}}]),g}(),J4=function(){"use strict";function g(t,e){_classCallCheck(this,g),this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}return _createClass(g,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var n,o=this._$AD,l=o.el,a=l.content,s=o.parts,r=((n=e==null?void 0:e.creationScope)!=null?n:ws).importNode(a,!0);ks.currentNode=r;for(var d=ks.nextNode(),c=0,h=0,f=s[0];f!==void 0;){if(c===f.index){var v=void 0;f.type===2?v=new xf(d,d.nextSibling,this,e):f.type===1?v=new f.ctor(d,f.name,f.strings,this,e):f.type===6&&(v=new nO(d,this,e)),this._$AV.push(v),f=s[++h]}c!==(f==null?void 0:f.index)&&(d=ks.nextNode(),c++)}return ks.currentNode=ws,r}},{key:"p",value:function(e){var n=0,o=!0,l=!1,a=void 0;try{for(var s=this._$AV[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var d=r.value;d!==void 0&&(d.strings!==void 0?(d._$AI(e,d,n),n+=d.strings.length-2):d._$AI(e[n])),n++}}catch(c){l=!0,a=c}finally{try{!o&&s.return!=null&&s.return()}finally{if(l)throw a}}}}]),g}(),xf=function(){"use strict";function g(t,e,n,o){_classCallCheck(this,g);var l;this.type=2,this._$AH=Wi,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=o,this.v=(l=o==null?void 0:o.isConnected)!=null?l:!0}return _createClass(g,[{key:"_$AU",get:function(){var e,n;return(n=(e=this._$AM)==null?void 0:e._$AU)!=null?n:this.v}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=Cu(this,e,n),Ou(e)?e===Wi||e==null||e===""?(this._$AH!==Wi&&this._$AR(),this._$AH=Wi):e!==this._$AH&&e!==dl&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):K4(e)?this.k(e):this._(e)}},{key:"O",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"T",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}},{key:"_",value:function(e){this._$AH!==Wi&&Ou(this._$AH)?this._$AA.nextSibling.data=e:this.T(ws.createTextNode(e)),this._$AH=e}},{key:"$",value:function(e){var n,o=e.values,l=e._$litType$,a=typeof l=="number"?this._$AC(e):(l.el===void 0&&(l.el=kf.createElement(sx(l.h,l.h[0]),this.options)),l);if(((n=this._$AH)==null?void 0:n._$AD)===a)this._$AH.p(o);else{var s=new J4(a,this),r=s.u(this.options);s.p(o),this.T(r),this._$AH=s}}},{key:"_$AC",value:function(e){var n=G0.get(e.strings);return n===void 0&&G0.set(e.strings,n=new kf(e)),n}},{key:"k",value:function(e){bf(this._$AH)||(this._$AH=[],this._$AR());var n=this._$AH,o,l=0,a=!0,s=!1,r=void 0;try{for(var d=e[Symbol.iterator](),c;!(a=(c=d.next()).done);a=!0){var h=c.value;l===n.length?n.push(o=new g(this.O(Au()),this.O(Au()),this,this.options)):o=n[l],o._$AI(h),l++}}catch(f){s=!0,r=f}finally{try{!a&&d.return!=null&&d.return()}finally{if(s)throw r}}l<n.length&&(this._$AR(o&&o._$AB.nextSibling,l),n.length=l)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)==null?void 0:o.call(this,!1,!0,n);e&&e!==this._$AB;){var l=e.nextSibling;e.remove(),e=l}}},{key:"setConnected",value:function(e){var n;this._$AM===void 0&&(this.v=e,(n=this._$AP)==null||n.call(this,e))}}]),g}(),Vc=function(){"use strict";function g(t,e,n,o,l){_classCallCheck(this,g),this.type=1,this._$AH=Wi,this._$AN=void 0,this.element=t,this.name=e,this._$AM=o,this.options=l,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Wi}return _createClass(g,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,a=this.strings,s=!1;if(a===void 0)e=Cu(this,e,n,0),s=!Ou(e)||e!==this._$AH&&e!==dl,s&&(this._$AH=e);else{var r=e,d,c;for(e=a[0],d=0;d<a.length-1;d++)c=Cu(this,r[o+d],n,d),c===dl&&(c=this._$AH[d]),s||(s=!Ou(c)||c!==this._$AH[d]),c===Wi?e=Wi:e!==Wi&&(e+=(c!=null?c:"")+a[d+1]),this._$AH[d]=c}s&&!l&&this.j(e)}},{key:"j",value:function(e){e===Wi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),g}(),Z4=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=3,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===Wi?void 0:o}}]),e}(Vc),eO=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=4,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){this.element.toggleAttribute(this.name,!!o&&o!==Wi)}}]),e}(Vc),tO=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n,o,l,a,s){_classCallCheck(this,e);var r;return r=t.call(this,n,o,l,a,s),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,a;if((o=(a=Cu(this,o,l,0))!=null?a:Wi)!==dl){var s=this._$AH,r=o===Wi&&s!==Wi||o.capture!==s.capture||o.once!==s.once||o.passive!==s.passive,d=o!==Wi&&(s===Wi||r);r&&this.element.removeEventListener(this.name,this,s),d&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var l,a;typeof this._$AH=="function"?this._$AH.call((a=(l=this.options)==null?void 0:l.host)!=null?a:this.element,o):this._$AH.handleEvent(o)}}]),e}(Vc),nO=function(){"use strict";function g(t,e,n){_classCallCheck(this,g),this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}return _createClass(g,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){Cu(this,e)}}]),g}(),Y0=Hc.litHtmlPolyfillSupport,Y0==null||Y0(kf,xf),((rO=Hc.litHtmlVersions)!=null?rO:Hc.litHtmlVersions=[]).push("3.2.0"),iO=function(g,t,e){var n,o,l=(n=e==null?void 0:e.renderBefore)!=null?n:t,a=l._$litPart$;if(a===void 0){var s=(o=e==null?void 0:e.renderBefore)!=null?o:null;l._$litPart$=a=new xf(t.insertBefore(Au(),s),s,void 0,e!=null?e:{})}return a._$AI(g),a}}}),zo,oO,X0,aO,sO=Ht({"https-url:https://esm.archive.org/v135/lit-element@4.1.0/esnext/lit-element.js":function(){lc(),lc(),Sf(),Sf(),zo=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.renderOptions={host:_assertThisInitialized(n)},n.o=void 0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"createRenderRoot",value:function(){var o,l,a=_get(_getPrototypeOf(e.prototype),"createRenderRoot",this).call(this);return(l=(o=this.renderOptions).renderBefore)!=null||(o.renderBefore=a.firstChild),a}},{key:"update",value:function(o){var l=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),_get(_getPrototypeOf(e.prototype),"update",this).call(this,o),this.o=iO(l,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function(){var o;_get(_getPrototypeOf(e.prototype),"connectedCallback",this).call(this),(o=this.o)==null||o.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var o;_get(_getPrototypeOf(e.prototype),"disconnectedCallback",this).call(this),(o=this.o)==null||o.setConnected(!1)}},{key:"render",value:function(){return dl}}]),e}(Hs),zo._$litElement$=!0,zo.finalized=!0,(oO=globalThis.litElementHydrateSupport)==null||oO.call(globalThis,{LitElement:zo}),X0=globalThis.litElementPolyfillSupport,X0==null||X0({LitElement:zo}),((aO=globalThis.litElementVersions)!=null?aO:globalThis.litElementVersions=[]).push("4.1.0")}}),lO=Ht({"https-url:https://esm.archive.org/v135/lit-html@3.2.0/esnext/is-server.js":function(){}}),eI=Ht({"https-url:https://esm.archive.org/v135/lit@3.2.0/esnext/lit.mjs":function(){lc(),Sf(),sO(),lO()}}),Eu=Ht({"https-url:https://esm.archive.org/lit":function(){lc(),Sf(),sO(),lO(),eI()}}),uO=Ht({"https-url:https://av.dev.archive.org/js/util/jquery.js":function(){Pd(),globalThis.jQuery=X,globalThis.$=X}}),La,K0=Ht({"https-url:https://av.dev.archive.org/js/util/cgiarg.js":function(){La=DT}}),cO,qn,tI,hl=Ht({"https-url:https://av.dev.archive.org/js/util/log.js":function(){qn=typeof Deno!="undefined"||typeof location=="undefined"||location.host==="av.dev.archive.org"||location.host.match(/^(www|cat)-[a-z0-9]+\.archive\.org/)||location.host.endsWith(".code.archive.org")||location.host.startsWith("ia-petabox")||location.host.split(":")[0]==="localhost"||((cO=globalThis==null?void 0:globalThis.navigator)==null?void 0:cO.onLine)===!1?console.log.bind(console):function(){},tI=console.error.bind(console)}}),nI=Ht({"https-url:https://av.dev.archive.org/jw/8/jwplayer.js":function(){window.jwplayer=function(g){var t=function(c){for(var h,f,v=c[0],b=c[1],w=0,k=[];w<v.length;w++)f=v[w],Object.prototype.hasOwnProperty.call(n,f)&&n[f]&&k.push(n[f][0]),n[f]=0;for(h in b)Object.prototype.hasOwnProperty.call(b,h)&&(g[h]=b[h]);for(r&&r(c);k.length;)k.shift()()},e={},n={0:0};function o(d){if(e[d])return e[d].exports;var c=e[d]={i:d,l:!1,exports:{}};return g[d].call(c.exports,c,c.exports,o),c.l=!0,c.exports}o.e=function(d){var c=[],h=n[d];if(h!==0)if(h)c.push(h[2]);else{var f=new Promise(function(C,E){h=n[d]=[C,E]});c.push(h[2]=f);var v,b=document.createElement("script");b.charset="utf-8",b.timeout=120,o.nc&&b.setAttribute("nonce",o.nc),b.src=function(C){return o.p+""+({1:"jwplayer.controls",2:"jwplayer.controls.tizen",3:"jwplayer.core",4:"jwplayer.core.controls",5:"jwplayer.core.controls.html5",6:"jwplayer.core.controls.polyfills",7:"jwplayer.core.controls.polyfills.html5",8:"polyfills.intersection-observer",9:"polyfills.webvtt",10:"provider.html5",11:"vttparser"}[C]||C)+".js"}(d);var w=new Error;v=function(E){b.onerror=b.onload=null,clearTimeout(k);var A=n[d];if(A!==0){if(A){var j=E&&(E.type==="load"?"missing":E.type),y=E&&E.target&&E.target.src;w.message="Loading chunk "+d+" failed.\n("+j+": "+y+")",w.name="ChunkLoadError",w.type=j,w.request=y,A[1](w)}n[d]=void 0}};var k=setTimeout(function(){v({type:"timeout",target:b})},12e4);b.onerror=b.onload=v,document.head.appendChild(b)}return Promise.all(c)},o.m=g,o.c=e,o.d=function(d,c,h){o.o(d,c)||Object.defineProperty(d,c,{enumerable:!0,get:h})},o.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},o.t=function(d,c){if(1&c&&(d=o(d)),8&c||4&c&&typeof d=="object"&&d&&d.__esModule)return d;var h=Object.create(null);if(o.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:d}),2&c&&typeof d!="string")for(var f in d)o.d(h,f,function(v){return d[v]}.bind(null,f));return h},o.n=function(d){var c=d&&d.__esModule?function(){return d.default}:function(){return d};return o.d(c,"a",c),c},o.o=function(d,c){return Object.prototype.hasOwnProperty.call(d,c)},o.p="",o.oe=function(d){throw console.error(d),d};var l=window.webpackJsonpjwplayer=window.webpackJsonpjwplayer||[],a=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var r=a;return o(o.s=56)}([function(g,t,e){"use strict";e.d(t,"f",function(){return p}),e.d(t,"v",function(){return _}),e.d(t,"i",function(){return V}),e.d(t,"h",function(){return z}),e.d(t,"z",function(){return Be}),e.d(t,"b",function(){return it}),e.d(t,"j",function(){return ot}),e.d(t,"e",function(){return Ae}),e.d(t,"l",function(){return xe}),e.d(t,"a",function(){return et}),e.d(t,"A",function(){return lt}),e.d(t,"m",function(){return ze}),e.d(t,"d",function(){return Re}),e.d(t,"g",function(){return $e}),e.d(t,"x",function(){return Ye}),e.d(t,"p",function(){return ct}),e.d(t,"r",function(){return At}),e.d(t,"s",function(){return Mt}),e.d(t,"o",function(){return Lt}),e.d(t,"q",function(){return st}),e.d(t,"n",function(){return te}),e.d(t,"t",function(){return Jt}),e.d(t,"k",function(){return Yt}),e.d(t,"y",function(){return N}),e.d(t,"w",function(){return Ze}),e.d(t,"u",function(){return ie});var n=e(16),o={},l=Array.prototype,a=Object.prototype,s=Function.prototype,r=l.slice,d=l.concat,c=a.toString,h=a.hasOwnProperty,f=l.map,v=l.reduce,b=l.forEach,w=l.filter,k=l.every,C=l.some,E=l.indexOf,A=Array.isArray,j=Object.keys,y=s.bind,u=window.isFinite,p=function(H,Z,oe){var me,Oe;if(H==null)return H;if(b&&H.forEach===b)H.forEach(Z,oe);else if(H.length===+H.length){for(me=0,Oe=H.length;me<Oe;me++)if(Z.call(oe,H[me],me,H)===o)return}else{var Pe=_t(H);for(me=0,Oe=Pe.length;me<Oe;me++)if(Z.call(oe,H[Pe[me]],Pe[me],H)===o)return}return H},m=p,_=function(H,Z,oe){var me=[];return H==null?me:f&&H.map===f?H.map(Z,oe):(p(H,function(Oe,Pe,Xe){me.push(Z.call(oe,Oe,Pe,Xe))}),me)},x=_,O="Reduce of empty array with no initial value",I=function(H,Z,oe,me){var Oe=arguments.length>2;if(H==null&&(H=[]),v&&H.reduce===v)return me&&(Z=et(Z,me)),Oe?H.reduce(Z,oe):H.reduce(Z);if(p(H,function(Pe,Xe,Me){Oe?oe=Z.call(me,oe,Pe,Xe,Me):(oe=Pe,Oe=!0)}),!Oe)throw new TypeError(O);return oe},P=I,D=I,V=function(H,Z,oe){var me;return F(H,function(Oe,Pe,Xe){if(Z.call(oe,Oe,Pe,Xe))return me=Oe,!0}),me},q=V,z=function(H,Z,oe){var me=[];return H==null?me:w&&H.filter===w?H.filter(Z,oe):(p(H,function(Oe,Pe,Xe){Z.call(oe,Oe,Pe,Xe)&&me.push(Oe)}),me)},he=z,Y=function(H,Z,oe){Z||(Z=Yt);var me=!0;return H==null?me:k&&H.every===k?H.every(Z,oe):(p(H,function(Oe,Pe,Xe){if(!(me=me&&Z.call(oe,Oe,Pe,Xe)))return o}),!!me)},B=Y,F=function(H,Z,oe){Z||(Z=Yt);var me=!1;return H==null?me:C&&H.some===C?H.some(Z,oe):(p(H,function(Oe,Pe,Xe){if(me||(me=Z.call(oe,Oe,Pe,Xe)))return o}),!!me)},ce=F,J=function(H,Z){var oe;return function(){return--H>0&&(oe=Z.apply(this,arguments)),H<=1&&(Z=null),oe}},ae=function(H){return H==null?Yt:ct(H)?H:N(H)},se=function(H){return function(Z,oe,me){var Oe={};return oe=ae(oe),p(Z,function(Pe,Xe){var Me=oe.call(me,Pe,Xe,Z);H(Oe,Me,Pe)}),Oe}},ve=se(function(G,H,Z){Ft(G,H)?G[H].push(Z):G[H]=[Z]}),de=se(function(G,H,Z){G[H]=Z}),Be=function(H,Z,oe,me){for(var Oe=(oe=ae(oe)).call(me,Z),Pe=0,Xe=H.length;Pe<Xe;){var Me=Pe+Xe>>>1;oe.call(me,H[Me])<Oe?Pe=Me+1:Xe=Me}return Pe},it=function(H,Z){return H!=null&&(H.length!==+H.length&&(H=be(H)),xe(H,Z)>=0)},mt=it,ot=function(H,Z){return V(H,Ze(Z))},Ae=function(H){var Z=d.apply(l,r.call(arguments,1));return z(H,function(oe){return!it(Z,oe)})},xe=function(H,Z,oe){if(H==null)return-1;var me=0,Oe=H.length;if(oe){if(typeof oe!="number")return H[me=Be(H,Z)]===Z?me:-1;me=oe<0?Math.max(0,Oe+oe):oe}if(E&&H.indexOf===E)return H.indexOf(Z,oe);for(;me<Oe;me++)if(H[me]===Z)return me;return-1},De=function(){},et=function(H,Z){var oe,me;if(y&&H.bind===y)return y.apply(H,r.call(arguments,1));if(!ct(H))throw new TypeError;return oe=r.call(arguments,2),me=function(){if(!_instanceof(this,me))return H.apply(Z,oe.concat(r.call(arguments)));De.prototype=H.prototype;var Oe=new De;De.prototype=null;var Pe=H.apply(Oe,oe.concat(r.call(arguments)));return Object(Pe)===Pe?Pe:Oe}},Ve=function(H){var Z=r.call(arguments,1);return function(){for(var oe=0,me=Z.slice(),Oe=0,Pe=me.length;Oe<Pe;Oe++)Ft(me[Oe],"partial")&&(me[Oe]=arguments[oe++]);for(;oe<arguments.length;)me.push(arguments[oe++]);return H.apply(this,me)}},je=Ve(J,2),He=function(H,Z){var oe=r.call(arguments,2);return setTimeout(function(){return H.apply(null,oe)},Z)},qe=Ve(He,{partial:Ve},1),lt=function(H,Z,oe){var me,Oe,Pe,Xe=null,Me=0;oe||(oe={});var Qe=function(){Me=oe.leading===!1?0:ge(),Xe=null,Pe=H.apply(me,Oe),me=Oe=null};return function(){Me||oe.leading!==!1||(Me=ge);var ht=Z-(ge-Me);return me=this,Oe=arguments,ht<=0?(clearTimeout(Xe),Xe=null,Me=ge,Pe=H.apply(me,Oe),me=Oe=null):Xe||oe.trailing===!1||(Xe=setTimeout(Qe,ht)),Pe}},_t=function(H){if(!Ct(H))return[];if(j)return j(H);var Z=[];for(var oe in H)Ft(H,oe)&&Z.push(oe);return Z},be=function(H){for(var Z=_t(H),oe=_t.length,me=Array(oe),Oe=0;Oe<oe;Oe++)me[Oe]=H[Z[Oe]];return me},ze=function(H){for(var Z={},oe=_t(H),me=0,Oe=oe.length;me<Oe;me++)Z[H[oe[me]]]=oe[me];return Z},Re=function(H){return p(r.call(arguments,1),function(Z){if(Z)for(var oe in Z)H[oe]===void 0&&(H[oe]=Z[oe])}),H},$e=Object.assign||function(G){return p(r.call(arguments,1),function(H){if(H)for(var Z in H)Object.prototype.hasOwnProperty.call(H,Z)&&(G[Z]=H[Z])}),G},Ye=function(H){var Z={},oe=d.apply(l,r.call(arguments,1));return p(oe,function(me){me in H&&(Z[me]=H[me])}),Z},We=A||function(G){return c.call(G)=="[object Array]"},Ct=function(H){return H===Object(H)},gt=[];p(["Function","String","Number","Date","RegExp"],function(G){gt[G]=function(H){return c.call(H)=="[object "+G+"]"}}),gt.Function=function(G){return typeof G=="function"};var nt=gt.Date,rt=gt.RegExp,ct=gt.Function,At=gt.Number,Mt=gt.String,Lt=function(H){return u(H)&&!st(parseFloat(H))},st=function(H){return At(H)&&H!=+H},te=function(H){return H===!0||H===!1||c.call(H)=="[object Boolean]"},Jt=function(H){return H===void 0},Ft=function(H,Z){return h.call(H,Z)},Yt=function(H){return H},N=function(H){return function(Z){return Z[H]}},Ze=function(H){return function(Z){if(Z===H)return!0;for(var oe in H)if(H[oe]!==Z[oe])return!1;return!0}},ge=n.a,ie=function(H){return At(H)&&!st(H)};t.c={after:function(H,Z){return function(){if(--H<1)return Z.apply(this,arguments)}},all:Y,any:F,before:J,bind:et,clone:function(H){return Ct(H)?We(H)?H.slice():$e({},H):H},collect:x,compact:function(H){return z(H,Yt)},constant:function(H){return function(){return H}},contains:it,debounce:function(H,Z){var oe;return Z===void 0&&(Z=100),function(){for(var me=this,Oe=arguments.length,Pe=new Array(Oe),Xe=0;Xe<Oe;Xe++)Pe[Xe]=arguments[Xe];clearTimeout(oe),oe=setTimeout(function(){H.apply(me,Pe)},Z)}},defaults:Re,defer:qe,delay:He,detect:q,difference:Ae,each:p,every:B,extend:$e,filter:z,find:V,findWhere:ot,foldl:P,forEach:m,groupBy:ve,has:Ft,identity:Yt,include:mt,indexBy:de,indexOf:xe,inject:D,invert:ze,isArray:We,isBoolean:te,isDate:nt,isFinite:Lt,isFunction:ct,isNaN:st,isNull:function(H){return H===null},isNumber:At,isObject:Ct,isRegExp:rt,isString:Mt,isUndefined:Jt,isValidNumber:ie,keys:_t,last:function(H,Z,oe){if(H!=null)return Z==null||oe?H[H.length-1]:r.call(H,Math.max(H.length-Z,0))},map:_,matches:Ze,max:function(H,Z,oe){if(!Z&&We(H)&&H[0]===+H[0]&&H.length<65535)return Math.max.apply(Math,H);var me=-1/0,Oe=-1/0;return p(H,function(Pe,Xe,Me){var Qe=Z?Z.call(oe,Pe,Xe,Me):Pe;Qe>Oe&&(me=Pe,Oe=Qe)}),me},memoize:function(H,Z){var oe={};return Z||(Z=Yt),function(){var me=Z.apply(this,arguments);return Ft(oe,me)?oe[me]:oe[me]=H.apply(this,arguments)}},now:ge,omit:function(H){var Z={},oe=d.apply(l,r.call(arguments,1));for(var me in H)it(oe,me)||(Z[me]=H[me]);return Z},once:je,partial:Ve,pick:Ye,pluck:function(H,Z){return _(H,N(Z))},property:N,propertyOf:function(H){return H==null?function(){}:function(Z){return H[Z]}},reduce:I,reject:function(H,Z,oe){return z(H,function(me,Oe,Pe){return!Z.call(oe,me,Oe,Pe)},oe)},result:function(H,Z){if(H!=null){var oe=H[Z];return ct(oe)?oe.call(H):oe}},select:he,size:function(H){return H==null?0:H.length===+H.length?H.length:_t(H).length},some:ce,sortedIndex:Be,throttle:lt,where:function(H,Z){return z(H,Ze(Z))},without:function(H){return Ae(H,r.call(arguments,1))}}},function(g,t,e){"use strict";var n=function(D,V,q){return _instanceof(q,I)&&q.code?q:new I(D,V,q)},o=function(D,V){var q=n(O,V,D);return q.code=(D&&_instanceof(D,I)&&D.code||0)+V,q},l=function(D){var V=D.name,q=D.message;switch(V){case"AbortError":return/pause/.test(q)?303213:/load/.test(q)?303212:303210;case"NotAllowedError":return 303220;case"NotSupportedError":return 303230;default:return 303200}};e.d(t,"v",function(){return s}),e.d(t,"u",function(){return r}),e.d(t,"t",function(){return d}),e.d(t,"q",function(){return c}),e.d(t,"r",function(){return h}),e.d(t,"p",function(){return f}),e.d(t,"b",function(){return v}),e.d(t,"d",function(){return b}),e.d(t,"s",function(){return w}),e.d(t,"e",function(){return k}),e.d(t,"i",function(){return C}),e.d(t,"a",function(){return E}),e.d(t,"f",function(){return A}),e.d(t,"c",function(){return j}),e.d(t,"g",function(){return y}),e.d(t,"h",function(){return u}),e.d(t,"l",function(){return p}),e.d(t,"j",function(){return m}),e.d(t,"k",function(){return _}),e.d(t,"m",function(){return x}),e.d(t,"n",function(){return O}),e.d(t,"o",function(){return I}),e.d(t,"x",function(){return n}),e.d(t,"w",function(){return o}),e.d(t,"y",function(){return l});var a=e(0),s=1e5,r=100001,d=100002,c=101e3,h=102e3,f=102700,v=200001,b=202e3,w=104e3,k=203e3,C=203640,E=203700,A=204e3,j=306e3,y=308e3,u=308640,p="cantPlayVideo",m="badConnection",_="cantLoadPlayer",x="liveStreamDown",O="technicalError",I=function(){var P=function(V,q,z){this.code=Object(a.u)(q)?q:0,this.sourceError=z||null,V&&(this.key=V)};return P.logMessage=function(D){var V=D%1e3,q=Math.floor((D-V)/1e3),z=D.toString();return V>=400&&V<600&&(z=q+"400-"+q+"599"),"JW Player "+(D>299999&&D<4e5?"Warning":"Error")+" "+D+". For more information see https://developer.jwplayer.com/jw-player/docs/developer-guide/api/errors-reference#"+z},P}()},function(g,t,e){"use strict";var n=function(k){return k.replace(/^\s+|\s+$/g,"")},o=function(k,C,E){for(k=""+k,E=E||"0";k.length<C;)k=E+k;return k},l=function(k,C){for(var E=k.attributes,A=0;A<E.length;A++)if(E[A].name&&E[A].name.toLowerCase()===C.toLowerCase())return E[A].value.toString();return""},a=function(k){if(!k||k.substr(0,4)==="rtmp")return"";var C=/[(,]format=(m3u8|mpd)-/i.exec(k);if(C)return C[1];var E=k.replace(/^.+?\.(\w+)(?:[;].*)?(?:[?#].*)?$/,"$1");return E!==k?E.toLowerCase():(k=k.split("?")[0].split("#")[0]).lastIndexOf(".")>-1?k.substr(k.lastIndexOf(".")+1,k.length).toLowerCase():""},s=function(k){var C=(k/60|0)%60,E=k%60;return o((k/3600|0).toString(),2)+":"+o(C.toString(),2)+":"+o(E.toFixed(3),6)},r=function(k,C){if(!k)return 0;if(Object(v.u)(k))return k;var E=k.replace(",","."),A=E.slice(-1),j=E.split(":"),y=j.length,u=0;if(A==="s")u=b(E);else if(A==="m")u=60*b(E);else if(A==="h")u=3600*b(E);else if(y>1){var p=y-1;y===4&&(C&&(u=b(j[p])/C),p-=1),u+=b(j[p]),u+=60*b(j[p-1]),y>=3&&(u+=3600*b(j[p-2]))}else u=b(E);return Object(v.u)(u)?u:0},d=function(k,C,E){if(Object(v.s)(k)&&k.slice(-1)==="%"){var A=b(k);return C&&Object(v.u)(C)&&Object(v.u)(A)?C*A/100:null}return r(k,E)},c=function(k,C){return k.map(function(E){return C+E})},h=function(k,C){return k.map(function(E){return E+C})},f=function(k){return!!k&&Object(v.s)(k)&&k.slice(-1)==="%"};e.d(t,"i",function(){return n}),e.d(t,"e",function(){return o}),e.d(t,"j",function(){return l}),e.d(t,"a",function(){return a}),e.d(t,"b",function(){return s}),e.d(t,"g",function(){return r}),e.d(t,"d",function(){return d}),e.d(t,"f",function(){return c}),e.d(t,"h",function(){return h}),e.d(t,"c",function(){return f});var v=e(0),b=window.parseFloat},function(g,t,e){"use strict";e.d(t,"jb",function(){return n}),e.d(t,"mb",function(){return o}),e.d(t,"kb",function(){return l}),e.d(t,"ob",function(){return a}),e.d(t,"pb",function(){return s}),e.d(t,"lb",function(){return r}),e.d(t,"nb",function(){return d}),e.d(t,"qb",function(){return c}),e.d(t,"s",function(){return h}),e.d(t,"u",function(){return f}),e.d(t,"t",function(){return v}),e.d(t,"o",function(){return b}),e.d(t,"r",function(){return w}),e.d(t,"Z",function(){return k}),e.d(t,"W",function(){return C}),e.d(t,"v",function(){return E}),e.d(t,"Y",function(){return A}),e.d(t,"w",function(){return j}),e.d(t,"ub",function(){return y}),e.d(t,"a",function(){return u}),e.d(t,"b",function(){return p}),e.d(t,"c",function(){return m}),e.d(t,"d",function(){return _}),e.d(t,"e",function(){return x}),e.d(t,"f",function(){return O}),e.d(t,"i",function(){return I}),e.d(t,"F",function(){return P}),e.d(t,"gb",function(){return D}),e.d(t,"Q",function(){return V}),e.d(t,"C",function(){return q}),e.d(t,"B",function(){return z}),e.d(t,"E",function(){return he}),e.d(t,"q",function(){return Y}),e.d(t,"cb",function(){return B}),e.d(t,"n",function(){return F}),e.d(t,"G",function(){return ce}),e.d(t,"H",function(){return J}),e.d(t,"N",function(){return ae}),e.d(t,"O",function(){return se}),e.d(t,"R",function(){return ve}),e.d(t,"ib",function(){return de}),e.d(t,"bb",function(){return Be}),e.d(t,"D",function(){return it}),e.d(t,"S",function(){return mt}),e.d(t,"P",function(){return ot}),e.d(t,"T",function(){return Ae}),e.d(t,"V",function(){return xe}),e.d(t,"M",function(){return De}),e.d(t,"L",function(){return et}),e.d(t,"K",function(){return Ve}),e.d(t,"I",function(){return je}),e.d(t,"J",function(){return He}),e.d(t,"U",function(){return qe}),e.d(t,"p",function(){return lt}),e.d(t,"y",function(){return _t}),e.d(t,"hb",function(){return be}),e.d(t,"db",function(){return ze}),e.d(t,"eb",function(){return Re}),e.d(t,"g",function(){return $e}),e.d(t,"h",function(){return Ye}),e.d(t,"rb",function(){return We}),e.d(t,"sb",function(){return Ct}),e.d(t,"ab",function(){return gt}),e.d(t,"A",function(){return nt}),e.d(t,"m",function(){return rt}),e.d(t,"l",function(){return ct}),e.d(t,"fb",function(){return At}),e.d(t,"tb",function(){return Mt}),e.d(t,"z",function(){return Lt}),e.d(t,"k",function(){return st}),e.d(t,"X",function(){return te}),e.d(t,"j",function(){return Jt}),e.d(t,"x",function(){return Ft});var n="buffering",o="idle",l="complete",a="paused",s="playing",r="error",d="loading",c="stalled",h="drag",f="dragStart",v="dragEnd",b="click",w="doubleClick",k="over",C="move",E="enter",A="out",j=r,y="warning",u="adClick",p="mediaLoaded",m="adPause",_="adPlay",x="adSkipped",O="adTime",I="autostartNotAllowed",P=l,D="ready",V="seek",q="beforePlay",z="beforeComplete",he="bufferFull",Y="displayClick",B="playlistComplete",F="cast",ce="mediaError",J="firstFrame",ae="playAttempt",se="playAttemptFailed",ve="seeked",de="setupError",Be="state",it="bufferChange",mt="time",ot="ratechange",Ae="mediaType",xe="volume",De="mute",et="metadataCueParsed",Ve="meta",je="levels",He="levelsChanged",qe="visualQuality",lt="controls",_t="fullscreen",be="resize",ze="playlistItem",Re="playlist",$e="audioTracks",Ye="audioTrackChanged",We="subtitlesTracks",Ct="subtitlesTrackChanged",gt="playbackRateChanged",nt="logoClick",rt="captionsList",ct="captionsChanged",At="providerFirstFrame",Mt="userAction",Lt="instreamClick",st="breakpoint",te="fullscreenchange",Jt="bandwidthEstimate",Ft="float"},function(g,t,e){"use strict";var n=function(d){var c="";return d&&(d.localName?c=d.localName:d.baseName&&(c=d.baseName)),c},o=function(d){var c="";return d&&(d.textContent?c=Object(s.i)(d.textContent):d.text&&(c=Object(s.i)(d.text))),c},l=function(d,c){return d.childNodes[c]},a=function(d){return d.childNodes?d.childNodes.length:0};e.d(t,"b",function(){return n}),e.d(t,"d",function(){return o}),e.d(t,"a",function(){return l}),e.d(t,"c",function(){return a});var s=e(2)},function(g,t,e){"use strict";var n=function(_){return navigator.userAgent.match(_)!==null},o=function(){return!(n(/chrome\/[123456789]/i)&&!n(/chrome\/18/i)&&!s())&&j()},l=function(){try{return window.self!==window.top}catch(_){return!0}};e.d(t,"f",function(){return s}),e.d(t,"l",function(){return r}),e.d(t,"k",function(){return d}),e.d(t,"p",function(){return c}),e.d(t,"g",function(){return h}),e.d(t,"e",function(){return f}),e.d(t,"n",function(){return v}),e.d(t,"r",function(){return b}),e.d(t,"s",function(){return w}),e.d(t,"d",function(){return k}),e.d(t,"i",function(){return C}),e.d(t,"q",function(){return E}),e.d(t,"j",function(){return A}),e.d(t,"c",function(){return o}),e.d(t,"b",function(){return j}),e.d(t,"o",function(){return y}),e.d(t,"m",function(){return l}),e.d(t,"h",function(){return u}),e.d(t,"a",function(){return p});var a=function(){return navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1},s=function(){return n(/gecko\//i)},r=function(){return n(/iP(hone|od)/i)},d=function(){return n(/iPad/i)||a()},c=function(){return n(/Macintosh/i)&&!a()},h=function(){return n(/FBAV/i)},f=function(){return n(/\sEdge?\/\d+/i)},v=function(){return n(/msie/i)},b=function(){return n(/SMART-TV/)},w=function(){return b()&&!n(/SamsungBrowser/)},k=function(){return n(/\s(?:(?:Headless)?Chrome|CriOS)\//i)&&!f()&&!n(/UCBrowser/i)&&!b()},C=function(){return!n(/\sEdg\/\d+/i)&&(f()||n(/trident\/.+rv:\s*11/i)||v())},E=function(){return n(/safari/i)&&!n(/(?:Chrome|CriOS|chromium|android|phantom)/i)||b()},A=function(){return n(/iP(hone|ad|od)/i)||a()},j=function(){return n(/Android/i)&&!n(/Windows Phone/i)},y=function(){return A()||j()||n(/Windows Phone/i)},u=function(){return!1},p=function(){return 0}},function(g,t,e){"use strict";var n=function(B,F){return B.classList.contains(F)},o=function(B){return a(B).firstChild},l=function(B,F){E(B),function(ce,J){if(J){for(var ae=document.createDocumentFragment(),se=a(J).childNodes,ve=0;ve<se.length;ve++)ae.appendChild(se[ve].cloneNode(!0));ce.appendChild(ae)}}(B,F)},a=function(B){var F=function(ae){if(I||(I=new q,z=function(){try{if(I.parseFromString("","text/html"))return!0}catch(ve){}return!1}()),z)return I.parseFromString(ae,"text/html").body;var se=document.implementation.createHTMLDocument("");return ae.toLowerCase().indexOf("<!doctype")>-1?se.documentElement.innerHTML=ae:se.body.innerHTML=ae,se.body}(B);s(F);for(var ce=F.querySelectorAll("*"),J=ce.length;J--;)r(ce[J]);return F},s=function(B){for(var F=B.querySelectorAll("script,object,iframe,meta"),ce=F.length;ce--;){var J=F[ce];J.parentNode.removeChild(J)}return B},r=function(B){for(var F=B.attributes,ce=F.length;ce--;){var J=F[ce].name;if(/^on/.test(J)&&B.removeAttribute(J),/href/.test(J)){var ae=F[ce].value;/javascript:|javascript&colon;/.test(ae)||!he.test(ae)?B.removeAttribute(J):console.warn("Invalid or unsafe URL")}}return B},d=function(B){return B+(B.toString().indexOf("%")>0?"":"px")},c=function(B){return Object(P.s)(B.className)?B.className.split(" "):[]},h=function(B,F){F=Object(D.i)(F),B.className!==F&&(B.className=F)},f=function(B){return B.classList?B.classList:c(B)},v=function(B,F){var ce=c(B);(Array.isArray(F)?F:F.split(" ")).forEach(function(J){Object(P.b)(ce,J)||ce.push(J)}),h(B,ce.join(" "))},b=function(B,F){var ce=c(B),J=Array.isArray(F)?F:F.split(" ");h(B,Object(P.e)(ce,J).join(" "))},w=function(B,F,ce){var J=B.className||"";F.test(J)?J=J.replace(F,ce):ce&&(J+=" "+ce),h(B,J)},k=function(B,F,ce){var J=n(B,F);(ce=Object(P.n)(ce)?ce:!J)!==J&&(ce?v(B,F):b(B,F))},C=function(B,F,ce){B.setAttribute(F,ce)},E=function(B){for(;B.firstChild;)B.removeChild(B.firstChild)},A=function(B){var F=document.createElement("link");F.rel="stylesheet",F.href=B,document.getElementsByTagName("head")[0].appendChild(F)},j=function(B){B&&E(B)},y=function(B){var F={left:0,right:0,width:0,height:0,top:0,bottom:0};if(!B||!document.body.contains(B))return F;var ce=B.getBoundingClientRect(),J=window.pageYOffset,ae=window.pageXOffset;return(ce.width||ce.height||ce.left||ce.top)&&(F.left=ce.left+ae,F.right=ce.right+ae,F.top=ce.top+J,F.bottom=ce.bottom+J,F.width=ce.right-ce.left,F.height=ce.bottom-ce.top),F},u=function(B,F){B.insertBefore(F,B.firstChild)},p=function(B){return B.nextElementSibling},m=function(B){return B.previousElementSibling},_=function(B,F,ce){if(ce===void 0&&(ce={}),he.test(B)){var J=document.createElement("a");J.href=B,J.target=F,J=r(Object(P.g)(J,ce)),V.Browser.firefox?J.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})):J.click()}},x=function(){var B=window.screen.orientation;return!!B&&(B.type==="landscape-primary"||B.type==="landscape-secondary")||window.orientation===90||window.orientation===-90},O=function(B){return function(F){var ce=document.createElement("textarea");return ce.innerHTML=F,ce.value}(B).replace(/&|<|>|"|''/gm,function(F){return"&#"+F.charCodeAt(0)+";"}).replace(/&#60;(\/?)(b|strong|i|em|p|br|ul|ol|li|h.)&#62;/gim,"<$1$2>")};e.d(t,"j",function(){return n}),e.d(t,"f",function(){return o}),e.d(t,"r",function(){return l}),e.d(t,"k",function(){return a}),e.d(t,"t",function(){return s}),e.d(t,"s",function(){return r}),e.d(t,"v",function(){return d}),e.d(t,"e",function(){return f}),e.d(t,"b",function(){return v}),e.d(t,"p",function(){return b}),e.d(t,"q",function(){return w}),e.d(t,"w",function(){return k}),e.d(t,"u",function(){return C}),e.d(t,"i",function(){return E}),e.d(t,"c",function(){return A}),e.d(t,"h",function(){return j}),e.d(t,"d",function(){return y}),e.d(t,"n",function(){return u}),e.d(t,"l",function(){return p}),e.d(t,"o",function(){return m}),e.d(t,"m",function(){return _}),e.d(t,"g",function(){return x}),e.d(t,"a",function(){return O});var I,P=e(0),D=e(2),V=e(7),q=window.DOMParser,z=!0,he=new RegExp(/^((((https?):\/\/)|(mailto:))(%[0-9A-Fa-f]{2}|[-()_.!~*';/?:@&=+$,A-Za-z0-9])+)([).!';/?:,][[:blank:|:blank:]])?$/)},function(g,t,e){"use strict";var n=function(h,f){var v=h.exec(f);if(v&&v.length>1)return v[1]};e.r(t);var o=e(5);e.d(t,"Browser",function(){return s}),e.d(t,"OS",function(){return r}),e.d(t,"Features",function(){return d});var l=navigator.userAgent,a=function(){},s={get androidNative(){return Object(o.c)()},get chrome(){return Object(o.d)()},get edge(){return Object(o.e)()},get facebook(){return Object(o.g)()},get firefox(){return Object(o.f)()},get ie(){return Object(o.i)()},get msie(){return Object(o.n)()},get safari(){return Object(o.q)()},get version(){return function(c,h){var f,v,b,w;if(c.chrome)f=h.indexOf("Chrome")!==-1?h.substring(h.indexOf("Chrome")+7):h.substring(h.indexOf("CriOS")+6);else if(c.safari)f=h.substring(h.indexOf("Version")+8);else if(c.firefox)f=h.substring(h.indexOf("Firefox")+8);else if(c.edge){var k=h.indexOf("Edge");k===-1?k=h.indexOf("Edg")+4:k+=5,f=h.substring(k)}else c.ie&&(h.indexOf("rv:")!==-1?f=h.substring(h.indexOf("rv:")+3):h.indexOf("MSIE")!==-1&&(f=h.substring(h.indexOf("MSIE")+5)));return f&&((w=f.indexOf(";"))!==-1&&(f=f.substring(0,w)),(w=f.indexOf(" "))!==-1&&(f=f.substring(0,w)),(w=f.indexOf(")"))!==-1&&(f=f.substring(0,w)),v=parseInt(f,10),b=parseInt(f.split(".")[1],10)),{version:f,major:v,minor:b}}(this,l)}},r={get android(){return Object(o.b)()},get iOS(){return Object(o.j)()},get mobile(){return Object(o.o)()},get mac(){return Object(o.p)()},get iPad(){return Object(o.k)()},get iPhone(){return Object(o.l)()},get windows(){return l.indexOf("Windows")>-1},get tizen(){return Object(o.r)()},get tizenApp(){return Object(o.s)()},get version(){return function(c,h){var f,v,b;if(c.windows)switch(f=n(/Windows(?: NT|)? ([._\d]+)/,h)){case"6.1":f="7.0";break;case"6.2":f="8.0";break;case"6.3":f="8.1"}else c.android?f=n(/Android ([._\d]+)/,h):c.iOS?f=n(/OS ([._\d]+)/,h):c.mac?f=n(/Mac OS X ([._\d]+)/,h):c.tizen&&(f=n(/Tizen ([._\d]+)/,h));if(f){v=parseInt(f,10);var w=f.split(/[._]/);w&&(b=parseInt(w[1],10))}return{version:f,major:v,minor:b}}(this,l)}},d={get flash(){return Object(o.h)()},get flashVersion(){return Object(o.a)()},get iframe(){return Object(o.m)()},get passiveEvents(){return function(){var c=!1;try{var h=Object.defineProperty({},"passive",{get:function(){return c=!0}});window.addEventListener("testPassive",a,h),window.removeEventListener("testPassive",a,h)}catch(f){}return c}()},get backgroundLoading(){return!(r.iOS||s.safari||r.tizen)}}},function(g,t,e){"use strict";var n=function(v,b,w,k){if(!w)return!0;if(typeof w=="object"){for(var C in w)Object.prototype.hasOwnProperty.call(w,C)&&v[b].apply(v,[C,w[C]].concat(k));return!1}if(h.test(w)){for(var E=w.split(h),A=0,j=E.length;A<j;A++)v[b].apply(v,[E[A]].concat(k));return!1}return!0},o=function(v,b,w,k){for(var C=-1,E=v.length;++C<E;){var A=v[C];if(k)try{A.callback.apply(A.context||w,b)}catch(j){console.log('Error in "'+k+'" event handler:',j)}else A.callback.apply(A.context||w,b)}};e.d(t,"a",function(){return l}),e.d(t,"c",function(){return a}),e.d(t,"d",function(){return s}),e.d(t,"b",function(){return r}),e.d(t,"e",function(){return d}),e.d(t,"f",function(){return c});var l=function(){var f=function(){},v=f.prototype;return v.on=function(b,w,k){if(!n(this,"on",b,[w,k])||!w)return this;var C=this._events||(this._events={});return(C[b]||(C[b]=[])).push({callback:w,context:k}),this},v.once=function(b,w,k){if(!n(this,"once",b,[w,k])||!w)return this;var C=0,E=this,A=function j(){C++||(E.off(b,j),w.apply(this,arguments))};return A._callback=w,this.on(b,A,k)},v.off=function(b,w,k){if(!this._events||!n(this,"off",b,[w,k]))return this;if(!b&&!w&&!k)return delete this._events,this;for(var C=b?[b]:Object.keys(this._events),E=0,A=C.length;E<A;E++){b=C[E];var j=this._events[b];if(j){var y=this._events[b]=[];if(w||k)for(var u=0,p=j.length;u<p;u++){var m=j[u];(w&&w!==m.callback&&w!==m.callback._callback||k&&k!==m.context)&&y.push(m)}y.length||delete this._events[b]}}return this},v.trigger=function(b){for(var w=arguments.length,k=new Array(w>1?w-1:0),C=1;C<w;C++)k[C-1]=arguments[C];if(!this._events)return this;if(!n(this,"trigger",b,k))return this;var E=this._events[b],A=this._events.all;return E&&o(E,k,this),A&&o(A,arguments,this),this},v.triggerSafe=function(b){for(var w=arguments.length,k=new Array(w>1?w-1:0),C=1;C<w;C++)k[C-1]=arguments[C];if(!this._events)return this;if(!n(this,"trigger",b,k))return this;var E=this._events[b],A=this._events.all;return E&&o(E,k,this,b),A&&o(A,arguments,this,b),this},f}(),a=l.prototype.on,s=l.prototype.once,r=l.prototype.off,d=l.prototype.trigger,c=l.prototype.triggerSafe;l.on=a,l.once=s,l.off=r,l.trigger=d;var h=/\s+/},function(g,t,e){"use strict";var n=function(d,c){return function(){throw new a.o(a.k,d,c)}},o=function(d,c){return function(){throw new a.o(null,d,c)}},l=function(){return e.e(3).then(function(d){return e(54).default}.bind(null,e)).catch(n(a.q+101))};e.d(t,"a",function(){return s}),e.d(t,"b",function(){return n}),e.d(t,"c",function(){return o}),e.d(t,"d",function(){return l});var a=e(1),s={}},function(g,t,e){"use strict";var n=function(f){switch(typeof f=="undefined"?"undefined":_typeof(f)){case"string":return f.length>0;case"object":return f!==null;case"undefined":return!1;default:return!0}},o=function(){return d==="https:"},l=function(){return d==="file:"},a=function(f,v){return f.indexOf("rtmp:")===0||v==="rtmp"},s=function(f,v){return v==="youtube"||/^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(f)},r=function(f){if(f===null)return"null";var v=typeof f=="undefined"?"undefined":_typeof(f);return v==="object"&&Array.isArray(f)?"array":v};e.r(t),e.d(t,"exists",function(){return n}),e.d(t,"isHTTPS",function(){return o}),e.d(t,"isFileProtocol",function(){return l}),e.d(t,"isRtmp",function(){return a}),e.d(t,"isYouTube",function(){return s}),e.d(t,"typeOf",function(){return r}),e.d(t,"isDeepKeyCompliant",function(){return c});var d=window.location.protocol;function c(h,f,v){var b=Object.keys(h);return Object.keys(f).length>=b.length&&b.every(function(w){var k=h[w],C=f[w];return k&&typeof k=="object"?!(!C||typeof C!="object")&&c(k,C,v):v(w,h)})}},function(g,t,e){"use strict";var n=function(w,k,C,E){C=C||"all-players";var A="";if(typeof k=="object"){var j=document.createElement("div");o(j,k);var y=j.style.cssText;Object.prototype.hasOwnProperty.call(k,"content")&&y&&(y=y+' content: "'+k.content+'";'),E&&y&&(y=y.replace(/;/g," !important;")),A="{"+y+"}"}else typeof k=="string"&&(A=k);A!==""&&A!=="{}"?f.a.style([[w,w+A]],C):f.a.clear(C,w)},o=function(w,k){if(w!=null){var C;w.length===void 0&&(w=[w]);var E={};for(C in k)Object.prototype.hasOwnProperty.call(k,C)&&(E[C]=a(C,k[C]));for(var A=0;A<w.length;A++){var j=w[A],y=void 0;if(j!=null)for(C in E)Object.prototype.hasOwnProperty.call(E,C)&&(y=l(C),j.style[y]!==E[C]&&(j.style[y]=E[C]))}}},l=function(w){w=w.split("-");for(var k=1;k<w.length;k++)w[k]=w[k].charAt(0).toUpperCase()+w[k].slice(1);return w.join("")},a=function(w,k){return k===""||k==null?"":typeof k=="string"&&isNaN(k)?/png|gif|jpe?g/i.test(k)&&k.indexOf("url")<0?"url("+k+")":k:k===0||w==="z-index"||w==="opacity"?""+k:/color/i.test(w)?"#"+Object(c.e)(k.toString(16).replace(/^0x/i,""),6):Math.ceil(k)+"px"},s=function(w,k){o(w,{transform:k})},r=function(w,k){var C="rgb",E=k!==void 0&&k!==100;if(E&&(C+="a"),!d){var A=document.createElement("canvas");A.height=1,A.width=1,d=A.getContext("2d")}w?isNaN(parseInt(w,16))||(w="#"+w):w="#000000",d.clearRect(0,0,1,1),d.fillStyle=w,d.fillRect(0,0,1,1);var j=d.getImageData(0,0,1,1).data;return C+="("+j[0]+", "+j[1]+", "+j[2],E&&(C+=", "+k/100),C+")"};e.d(t,"a",function(){return v}),e.d(t,"b",function(){return n}),e.d(t,"d",function(){return o}),e.d(t,"e",function(){return s}),e.d(t,"c",function(){return r});var d,c=e(2),h=e(31),f=e.n(h),v=f.a.clear},function(g,t,e){"use strict";var n=function(f,v){if(v&&Object(d.exists)(v)||(v=document.location.href),!Object(d.exists)(f))return"";if(o(f))return f;var b,w=v.substring(0,v.indexOf("://")+3),k=v.substring(w.length,v.indexOf("/",w.length+1));if(f.indexOf("/")===0)b=f.split("/");else{var C=v.split("?")[0];b=(C=C.substring(w.length+k.length+1,C.lastIndexOf("/"))).split("/").concat(f.split("/"))}for(var E=[],A=0;A<b.length;A++)b[A]&&Object(d.exists)(b[A])&&b[A]!=="."&&(b[A]===".."?E.pop():E.push(b[A]));return w+k+"/"+E.join("/")},o=function(f){return/^(?:(?:https?|file):)?\/\//.test(f)},l=function(f){var v=null;try{(v=new window.DOMParser().parseFromString(f,"text/xml")).querySelector("parsererror")&&(v=null)}catch(b){}return v},a=function(f){if(f===void 0)return null;if(typeof f=="string"&&f.length<6){var v=f.toLowerCase();if(v==="true")return!0;if(v==="false")return!1;if(!Object(c.q)(Number(f))&&!Object(c.q)(parseFloat(f)))return Number(f)}return f},s=function(f){return Object(c.u)(f)?f:f===""?0:f.lastIndexOf("%")>-1?f:parseInt(f.replace("px",""),10)},r=function(f,v){if(Object(c.q)(f)&&(f=parseInt(f.toString())),Object(c.q)(f)||!isFinite(f)||f<=0&&!v)return"00:00";var b=f<0?"-":"";f=Math.abs(f);var w=Math.floor(f/3600),k=Math.floor((f-3600*w)/60),C=Math.floor(f%60);return b+(w?w+":":"")+(k<10?"0":"")+k+":"+(C<10?"0":"")+C};e.r(t),e.d(t,"getAbsolutePath",function(){return n}),e.d(t,"isAbsolutePath",function(){return o}),e.d(t,"parseXML",function(){return l}),e.d(t,"serialize",function(){return a}),e.d(t,"parseDimension",function(){return s}),e.d(t,"timeFormat",function(){return r});var d=e(10),c=e(0)},function(g,t,e){"use strict";var n=function(_){var x=o(_),O=x.indexOf("_");return O===-1?x:x.substring(0,O)},o=function(_){return _.toLowerCase().replace("-","_")},l=function(_){return _?Object.keys(_).reduce(function(x,O){return x[o(O)]=_[O],x},{}):{}},a=function(_){var x=_.querySelector("html");return x?x.getAttribute("lang"):null},s=function(){var _=a(document);if(!_&&Object(C.m)())try{_=a(window.top.document)}catch(x){}return _||navigator.language||"en"},r=function(_){return _.charCodeAt(0)===8207||/^[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/.test(_)},d=function(_){return p.indexOf(n(_))>=0},c=function(_,x,O){return Object(k.g)({},function(I){var P=I.advertising,D=I.related,V=I.sharing,q=I.abouttext,z=Object(k.g)({},I.localization);P&&(z.advertising=z.advertising||{},h(z.advertising,P,"admessage"),h(z.advertising,P,"cuetext"),h(z.advertising,P,"loadingAd"),h(z.advertising,P,"podmessage"),h(z.advertising,P,"skipmessage"),h(z.advertising,P,"skiptext")),typeof z.related=="string"?z.related={heading:z.related}:z.related=z.related||{},D&&h(z.related,D,"autoplaymessage"),V&&(z.sharing=z.sharing||{},h(z.sharing,V,"heading"),h(z.sharing,V,"copied")),q&&h(z,I,"abouttext");var he=z.close||z.nextUpClose;return he&&(z.close=he),z}(_),x[n(O)],x[o(O)])},h=function(_,x,O){var I=_[O]||x[O];I&&(_[O]=I)},f=function(_){return Object(A.isDeepKeyCompliant)(j.a,_,function(x,O){return typeof O[x]=="string"})},v=function(_,x){var O,I=y[x];if(!I){var P=_+"translations/"+(O=n(x),(/^n[bn]$/.test(O)?"no":O)+".json");y[x]=I=new Promise(function(D,V){Object(E.a)({url:P,oncomplete:D,onerror:function(z,he,Y,B){y[x]=null,V(B)},responseType:"json"})})}return I},b=function(_,x){var O=Object(k.g)({},_,x);return w(O,"errors",_,x),w(O,"related",_,x),w(O,"sharing",_,x),w(O,"advertising",_,x),w(O,"shortcuts",_,x),w(O,"captionsStyles",_,x),O},w=function(_,x,O,I){_[x]=Object(k.g)({},O[x],I[x])};e.d(t,"h",function(){return l}),e.d(t,"c",function(){return s}),e.d(t,"e",function(){return r}),e.d(t,"f",function(){return d}),e.d(t,"b",function(){return c}),e.d(t,"d",function(){return f}),e.d(t,"g",function(){return v}),e.d(t,"a",function(){return b});var k=e(0),C=e(5),E=e(21),A=e(10),j=e(30),y={},u={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish",el:"Greek",fi:"Finnish",id:"Indonesian",ko:"Korean",th:"Thai",vi:"Vietnamese"};Object(k.m)(u);var p=["ar","da","de","el","es","fi","fr","he","id","it","ja","ko","nb","nl","nn","no","oc","pt","ro","ru","sl","sv","th","tr","vi","zh"]},function(g,t,e){"use strict";t.a=[]},function(g,t,e){"use strict";var n=e(49),o=e(10),l=document.createElement("video");e.d(t,"a",function(){return s});var a={aac:"audio/mp4",mp4:"video/mp4",f4v:"video/mp4",m4v:"video/mp4",mov:"video/mp4",mp3:"audio/mpeg",mpeg:"audio/mpeg",ogv:"video/ogg",ogg:"video/ogg",oga:"video/ogg",vorbis:"video/ogg",webm:"video/webm",f4a:"video/aac",m3u8:"application/vnd.apple.mpegurl",m3u:"application/vnd.apple.mpegurl",hls:"application/vnd.apple.mpegurl"},s=[{name:"html5",supports:function(d){if(!l||!l.canPlayType||Object(n.a)(d)===!1)return!1;var c=d.file,h=d.type;if(Object(o.isRtmp)(c,h))return!1;var f=d.mimeType||a[h];if(!f)return!1;var v=d.mediaTypes;return v&&v.length&&(f=[f].concat(v.slice()).join("; ")),!!l.canPlayType(f)}}]},function(g,t,e){"use strict";e.d(t,"a",function(){return n});var n=Date.now||function(){return new Date().getTime()}},function(g,t,e){"use strict";t.a={debug:!1}},function(g,t,e){"use strict";var n=function(j,y){return v[j]?j:v[y]?y:"metadata"},o=function(j,y,u){var p=Object(f.g)({},u);return delete p.playlist,j.map(function(m){return a(y,m,p)}).filter(function(m){return!!m})},l=function(j){if(!Array.isArray(j)||j.length===0)throw new C.o(C.l,630)},a=function(j,y,u){var p=j.getProviders(),m=j.get("preload"),_=Object(f.g)({},y);if(_.preload=n(y.preload,m),_.allSources=r(_,j),_.sources=d(_.allSources,p),_.sources.length)return _.file=_.sources[0].file,_.feedData=u,function(x){var O=x.sources[0].liveSyncDuration;return O&&(x.liveSyncDuration=x.dvrSeekLimit=O),x}(_)},s=function(j,y){var u=(parseInt(j,10)||0)%y;return u<0&&(u+=y),u},r=function(j,y){var u=y.attributes,p=j.sources,m=j.allSources,_=j.preload,x=j.drm,O=c(j.withCredentials,u.withCredentials);return(m||p).map(function(I){if(I!==Object(I))return null;h(I,u,"androidhls"),h(I,u,"hlsjsdefault"),h(I,u,"safarihlsjs"),function(V,q,z){if(!V.liveSyncDuration){var he=q.liveSyncDuration?q:z;h(V,he,"liveSyncDuration")}}(I,j,u),h(I,u,"_hlsjsProgressive"),I.preload=n(I.preload,_);var P=I.drm||x||u.drm;P&&(I.drm=P);var D=c(I.withCredentials,O);return D!==void 0&&(I.withCredentials=D),Object(w.a)(I)}).filter(function(I){return!!I})},d=function(j,y){y&&y.choose||(y=new k.a);var u=function(_,x){for(var O=0;O<_.length;O++){var I=_[O],P=x.choose(I).providerToCheck;if(P)return{type:I.type,provider:P}}return null}(j,y);if(!u)return[];var p=u.provider,m=u.type;return j.filter(function(_){return _.type===m&&y.providerSupports(p,_)})},c=function(j,y){return j===void 0?y:j},h=function(j,y,u){u in y&&(j[u]=y[u])},f=e(0),v={none:!0,metadata:!0,auto:!0},b=e(24),w=e(27),k=e(32),C=e(1);e.d(t,"b",function(){return o}),e.d(t,"e",function(){return l}),e.d(t,"d",function(){return a}),e.d(t,"f",function(){return s}),e.d(t,"c",function(){return E});var E=function(j,y){return d(r(j,y),y.getProviders())};t.a=function(A){return(Array.isArray(A)?A:[A]).map(b.a)}},function(g,t,e){"use strict";e.r(t),e.d(t,"getScriptPath",function(){return o}),e.d(t,"repo",function(){return l}),e.d(t,"versionCheck",function(){return a}),e.d(t,"loadFrom",function(){return s});var n=e(22),o=(e(10),function(d){for(var c=document.getElementsByTagName("script"),h=0;h<c.length;h++){var f=c[h].src;if(f){var v=f.lastIndexOf("/"+d);if(v>=0)return f.substr(0,v+1)}}return""}),l=function(){return o("jwplayer.js")},a=function(d){var c=("0"+d).split(/\W/),h=n.a.split(/\W/),f=parseFloat(c[0]),v=parseFloat(h[0]);return!(f>v)&&!(f===v&&parseFloat("0"+c[1])>parseFloat(h[1]))},s=function(){return o("jwplayer.js")}},function(g,t,e){"use strict";var n=function(d){var c=d.getName().name;if(!o.a[c]){if(!Object(s.i)(l.a,Object(s.w)({name:c}))){if(!Object(s.p)(d.supports))throw new Error("Tried to register a provider with an invalid object");l.a.unshift({name:c,supports:d.supports})}Object(s.d)(d.prototype,a.a),o.a[c]=d}};e.d(t,"a",function(){return n});var o=e(26),l=e(15),a=e(50),s=e(0);e(8)},function(g,t,e){"use strict";var n=function(v){v.onload=null,v.onprogress=null,v.onreadystatechange=null,v.onerror=null,"abort"in v&&v.abort()},o=function(v,b,w,k){v.onerror(b,v.url,v.xhr,new d.o(b,w,k))},l=function(v,b,w){var k=b.documentElement;if(!w.requireValidXML||k.nodeName!=="parsererror"&&!k.getElementsByTagName("parsererror").length)return v.responseXML||(v=Object(a.g)({},v,{responseXML:b})),w.oncomplete(v);o(w,d.l,601)};e.d(t,"a",function(){return h});var a=e(0),s=e(12),r=e(10),d=e(1),c=function(){};function h(f,v,b,w){var k;f===Object(f)&&(f=(w=f).url);var C=Object(a.g)({xhr:null,url:f,withCredentials:!1,retryWithoutCredentials:!1,timeout:6e4,timeoutId:-1,oncomplete:v||c,onerror:b||c,mimeType:w&&!w.responseType?"text/xml":"",requireValidXML:!1,responseType:w&&w.plainText?"text":"",useDomParser:!1,requestFilter:null},w),E=function(j,y){return function(u,p){var m=u.currentTarget||y.xhr;if(clearTimeout(y.timeoutId),y.retryWithoutCredentials&&y.xhr.withCredentials)return n(m),void h(Object(a.g)({},y,{xhr:null,withCredentials:!1,retryWithoutCredentials:!1}));!p&&m.status>=400&&m.status<600&&(p=m.status),o(y,p?d.l:d.n,p||6,u)}}(0,C);if("XMLHttpRequest"in window){if(k=C.xhr=C.xhr||new window.XMLHttpRequest,typeof C.requestFilter=="function"){var A;try{A=C.requestFilter({url:f,xhr:k})}catch(j){return E(j,5),k}A&&"open"in A&&"send"in A&&(k=C.xhr=A)}k.onreadystatechange=function(j){return function(y){var u=y.currentTarget||j.xhr;if(u.readyState===4){clearTimeout(j.timeoutId);var p=u.status;if(p>=400)return void o(j,d.l,p<600?p:6);if(p===200)return function(m){return function(_){var x=_.currentTarget||m.xhr;if(clearTimeout(m.timeoutId),m.responseType){if(m.responseType==="json")return function(P,D){if(!P.response||typeof P.response=="string"&&P.responseText.substr(1)!=='"')try{P=Object(a.g)({},P,{response:JSON.parse(P.responseText)})}catch(V){return void o(D,d.l,611,V)}return D.oncomplete(P)}(x,m)}else{var O,I=x.responseXML;if(I)try{O=I.firstChild}catch(P){}if(I&&O||m.useDomParser&&x.responseText&&!I&&(I=Object(s.parseXML)(x.responseText))&&I.firstChild)return l(x,I,m);if(m.requireValidXML)return void o(m,d.l,602)}m.oncomplete(x)}}(j)(y);p===0&&Object(r.isFileProtocol)()&&!/^[a-z][a-z0-9+.-]*:/.test(j.url)&&o(j,d.l,7)}}}(C),k.onerror=E,"overrideMimeType"in k?C.mimeType&&k.overrideMimeType(C.mimeType):C.useDomParser=!0;try{f=f.replace(/#.*$/,""),k.open("GET",f,!0)}catch(j){return E(j,3),k}if(C.responseType)try{k.responseType=C.responseType}catch(j){}C.timeout&&(C.timeoutId=setTimeout(function(){n(k),o(C,d.n,1)},C.timeout),k.onabort=function(){clearTimeout(C.timeoutId)});try{C.withCredentials&&"withCredentials"in k&&(k.withCredentials=!0),k.send()}catch(j){E(j,4)}return k}o(C,d.n,2)}},function(g,t,e){"use strict";e.d(t,"a",function(){return n});var n="8.22.0+local.2021-09-01-23-05-40-496"},function(g,t,e){"use strict";var n=function(){return s+a.now()},o=e(0),l=e(16),a=window.performance||{timing:{}},s=a.timing.navigationStart||Object(l.a)();"now"in a||(a.now=function(){return Object(l.a)()-s});var r=function(){var d=function(){this.startTimes={},this.sum={},this.counts={},this.ticks={}},c=d.prototype;return c.start=function(h){this.startTimes[h]=n(),this.counts[h]=this.counts[h]+1||1},c.end=function(h){if(this.startTimes[h]){var f=n()-this.startTimes[h];delete this.startTimes[h],this.sum[h]=this.sum[h]+f||f}},c.dump=function(){var h=Object(o.g)({},this.sum);for(var f in this.startTimes)if(Object.prototype.hasOwnProperty.call(this.startTimes,f)){var v=n()-this.startTimes[f];h[f]=h[f]+v||v}return{counts:Object(o.g)({},this.counts),sums:h,events:Object(o.g)({},this.ticks)}},c.tick=function(h){this.ticks[h]=n()},c.clear=function(h){delete this.ticks[h]},c.between=function(h,f){return this.ticks[f]&&this.ticks[h]?this.ticks[f]-this.ticks[h]:null},d}();t.a=r},function(g,t,e){"use strict";var n=e(0),o=e(27),l=["captions","metadata","thumbnails","chapters"],a=function(c){if(c&&c.file){var h,f=Object(n.g)({},{kind:"captions",default:!1},c);return f.kind=(h=f.kind,l.indexOf(h)!==-1?f.kind:"captions"),f.default=!!f.default,f}},s=e(28),r=Array.isArray;t.a=function(d){r((d=d||{}).tracks)||delete d.tracks;var c=Object(n.g)({},{sources:[],tracks:[],minDvrWindow:s.b},d);c.sources!==Object(c.sources)||r(c.sources)||(c.sources=[Object(o.a)(c.sources)]),r(c.sources)&&c.sources.length!==0||(d.levels?c.sources=d.levels:c.sources=[Object(o.a)(d)]);for(var h=0;h<c.sources.length;h++){var f=c.sources[h];if(f){var v=f.default;f.default=!!v&&v.toString()==="true",c.sources[h].label||(c.sources[h].label=h.toString()),c.sources[h]=Object(o.a)(c.sources[h])}}return c.sources=c.sources.filter(function(b){return!!b}),r(c.tracks)||(c.tracks=[]),r(c.captions)&&(c.tracks=c.tracks.concat(c.captions),delete c.captions),c.tracks=c.tracks.map(a).filter(function(b){return!!b}),c}},function(g,t,e){"use strict";var n=function(j,y){var u=j.get("plugins");return window.jwplayerPluginJsonp=E,(j.pluginLoader=j.pluginLoader||new s).load(y,C,u,j).then(function(p){if(!j.attributes._destroyed)return delete window.jwplayerPluginJsonp,p})},o=e(1),l=e(0),a=function(j){return j.replace(/^(.*\/)?([^-]*)-?.*\.(js)$/,"$2")},s=function(){this.load=function(j,y,u,p){return u&&typeof u=="object"?Promise.all(Object.keys(u).filter(function(m){return m}).map(function(m){var _=u[m];return y.setupPlugin(m).then(function(x){if(!p.attributes._destroyed)return function(O,I,P){var D=O.name,V=Object(l.g)({},I),q=document.createElement("div");q.id=P.id+"_"+D,q.className="jw-plugin jw-reset";var z=O.getNewInstance(P,V,q);return P.addPlugin(D,z),z}(x,_,j)}).catch(function(x){return y.removePlugin(m),x.code?x:new o.o(null,305e3,x)})})):Promise.resolve()}},r=e(35),d=e(12),c=e(2),h=function(j){if(typeof j=="string"){var y=(j=j.split("?")[0]).indexOf("://");if(y>0)return 0;var u=j.indexOf("/"),p=Object(c.a)(j);return!(y<0&&u<0)||p&&isNaN(p)?1:2}},f=function(j){this.url=j,this.promise_=null};Object.defineProperties(f.prototype,{promise:{get:function(){return this.load()},set:function(){}}}),Object(l.g)(f.prototype,{load:function(){var j=this,y=this.promise_;if(!y){if(h(this.url)===2)return Promise.resolve(this);var u=new r.a(function(p){switch(h(p)){case 0:return p;case 1:return Object(d.getAbsolutePath)(p,window.location.href)}}(this.url));this.loader=u,y=u.load().then(function(){return j}),this.promise_=y}return y},registerPlugin:function(j,y,u){this.name=j,this.target=y,this.js=u},getNewInstance:function(j,y,u){var p=this.js;if(typeof p!="function")throw new o.o(null,(this.url,305100));var m=new p(j,y,u);return m.addToPlayer=function(){var _=this.getContainer().querySelector(".jw-overlays");_&&(u.left=_.style.left,u.top=_.style.top,_.appendChild(u))},m.resizeHandler=function(){var _=this.getContainer().querySelector(".jw-overlays");_&&m.resize(_.clientWidth,_.clientHeight)},m}});var v=f,b=e(36),w={},k=function(){var A=function(){},j=A.prototype;return j.setupPlugin=function(y){var u=this.getPlugin(y);return u?(u.url!==y&&Object(b.a)('JW Plugin "'+a(y)+'" already loaded from "'+u.url+'". Ignoring "'+y+'."'),u.promise):this.addPlugin(y).load()},j.addPlugin=function(y){var u=a(y),p=w[u];return p||(p=new v(y),w[u]=p),p},j.getPlugin=function(y){return w[a(y)]},j.removePlugin=function(y){delete w[a(y)]},j.getPlugins=function(){return w},A}();e.d(t,"b",function(){return E}),e.d(t,"a",function(){return n});var C=new k,E=function(j,y,u){var p=C.addPlugin(j);p.js||p.registerPlugin(j,y,u)}},function(g,t,e){"use strict";e.d(t,"a",function(){return n});var n={}},function(g,t,e){"use strict";var n=e(0),o=e(10),l=e(2);t.a=function(a){if(a&&a.file){var s=Object(n.g)({},{default:!1,type:""},a);s.file=Object(l.i)(""+s.file);var r=/^[^/]+\/(?:x-)?([^/]+)$/,d=s.type;if(r.test(d)&&(s.mimeType=d,s.type=d.replace(r,"$1")),Object(o.isYouTube)(s.file)?s.type="youtube":Object(o.isRtmp)(s.file)?s.type="rtmp":s.type||(s.type=Object(l.a)(s.file)),s.type){switch(s.type){case"m3u8":case"vnd.apple.mpegurl":s.type="hls";break;case"dash+xml":s.type="dash";break;case"m4a":s.type="aac";break;case"smil":s.type="rtmp"}return Object.keys(s).forEach(function(c){s[c]===""&&delete s[c]}),s}}}},function(g,t,e){"use strict";e.d(t,"d",function(){return n}),e.d(t,"c",function(){return o}),e.d(t,"b",function(){return l}),e.d(t,"a",function(){return a});var n={audioMode:!1,itemMeta:{},playbackRate:1,playRejected:!1,state:e(3).mb,itemReady:!1,controlsEnabled:!1},o={position:0,duration:0,buffer:0,currentTime:0},l=120,a=25},function(g,t,e){"use strict";var n=function(){return a||(a=l.OS.tizenApp?e.e(2).then(function(d){var c=e(55).default;return s.controls=c,c}.bind(null,e)).catch(function(){a=null,Object(o.c)(301133)()}):e.e(1).then(function(d){var c=e(52).default;return s.controls=c,c}.bind(null,e)).catch(function(){a=null,Object(o.c)(301130)()})),a};e.d(t,"a",function(){return s}),e.d(t,"b",function(){return n});var o=e(9),l=e(7),a=null,s={}},function(g,t,e){"use strict";t.a={advertising:{admessage:"This ad will end in xx",cuetext:"Advertisement",displayHeading:"Advertisement",loadingAd:"Loading ad",podmessage:"Ad __AD_POD_CURRENT__ of __AD_POD_LENGTH__.",skipmessage:"Skip ad in xx",skiptext:"Skip"},airplay:"AirPlay",audioTracks:"Audio Tracks",auto:"Auto",buffer:"Loading",cast:"Chromecast",cc:"Closed Captions",close:"Close",errors:{badConnection:"This video cannot be played because of a problem with your internet connection.",cantLoadPlayer:"Sorry, the video player failed to load.",cantPlayInBrowser:"The video cannot be played in this browser.",cantPlayVideo:"This video file cannot be played.",errorCode:"Error Code",liveStreamDown:"The live stream is either down or has ended.",protectedContent:"There was a problem providing access to protected content.",technicalError:"This video cannot be played because of a technical error."},exitFullscreen:"Exit Fullscreen",fullscreen:"Fullscreen",hd:"Quality",liveBroadcast:"Live",logo:"Logo",mute:"Mute",next:"Next",nextUp:"Next Up",notLive:"Not Live",off:"Off",pause:"Pause",pipIcon:"Picture in Picture (PiP)",play:"Play",playback:"Play",playbackRates:"Playback Rates",player:"Video Player",poweredBy:"Powered by",prev:"Previous",related:{autoplaymessage:"Next up in xx",heading:"More Videos"},replay:"Replay",rewind:"Rewind 10 Seconds",settings:"Settings",sharing:{copied:"Copied",email:"Email",embed:"Embed",heading:"Share",link:"Link"},slider:"Seek",stop:"Stop",unmute:"Unmute",videoInfo:"About This Video",volume:"Volume",volumeSlider:"Volume",shortcuts:{playPause:"Play/Pause",volumeToggle:"Mute/Unmute",fullscreenToggle:"Fullscreen/Exit Fullscreen",seekPercent:"Seek %",keyboardShortcuts:"Keyboard Shortcuts",increaseVolume:"Increase Volume",decreaseVolume:"Decrease Volume",seekForward:"Seek Forward",seekBackward:"Seek Backward",spacebar:"SPACE",captionsToggle:"Captions On/Off"},captionsStyles:{subtitleSettings:"Subtitle Settings",color:"Font Color",fontOpacity:"Font Opacity",userFontScale:"Font Size",fontFamily:"Font Family",edgeStyle:"Character Edge",backgroundColor:"Background Color",backgroundOpacity:"Background Opacity",windowColor:"Window Color",windowOpacity:"Window Opacity",white:"White",black:"Black",red:"Red",green:"Green",blue:"Blue",yellow:"Yellow",magenta:"Magenta",cyan:"Cyan",none:"None",raised:"Raised",depressed:"Depressed",uniform:"Uniform",dropShadow:"Drop Shadow"},disabled:"Disabled",enabled:"Enabled",reset:"Reset"}},function(g,t){var e=function(v){var b=document.createElement("style");return b.type="text/css",b.setAttribute("data-jwplayer-id",v),function(w){d().appendChild(w)}(b),b},n=function(v,b){var w,k,C,E=r[v];E||(E=r[v]={element:e(v),counter:0});var A=E.counter++;return w=E.element,C=function(){o(w,A,"")},(k=function(y){o(w,A,y)})(b.css),function(j){if(j){if(j.css===b.css&&j.media===b.media)return;k((b=j).css)}else C()}},o=function(v,b,w){if(v.styleSheet)v.styleSheet.cssText=h(b,w);else{var k=document.createTextNode(w),C=v.childNodes[b];C?v.replaceChild(k,C):v.appendChild(k)}},l,a,s={},r={},d=(l=function(){return document.head||document.getElementsByTagName("head")[0]},function(){return a===void 0&&(a=l.apply(this,arguments)),a});g.exports={style:function(v,b){(function(w,k){for(var C=0;C<k.length;C++){var E=k[C],A=(s[w]||{})[E.id];if(A){for(var j=0;j<A.parts.length;j++)A.parts[j](E.parts[j]);for(;j<E.parts.length;j++)A.parts.push(n(w,E.parts[j]))}else{var y=[];for(j=0;j<E.parts.length;j++)y.push(n(w,E.parts[j]));s[w]=s[w]||{},s[w][E.id]={id:E.id,parts:y}}}})(b,function(w){for(var k=[],C={},E=0;E<w.length;E++){var A=w[E],j=A[0],y=A[1],u=A[2],p={css:y,media:u};C[j]?C[j].parts.push(p):k.push(C[j]={id:j,parts:[p]})}return k}(v))},clear:function(v,b){var w=s[v];if(w){if(b){var k=w[b];if(k)for(var C=0;C<k.parts.length;C+=1)k.parts[C]();return}for(var E=Object.keys(w),A=0;A<E.length;A+=1)for(var j=w[E[A]],y=0;y<j.parts.length;y+=1)j.parts[y]();delete s[v]}}};var c,h=(c=[],function(v,b){return c[v]=b,c.filter(Boolean).join("\n")})},function(g,t,e){"use strict";var n=function(h){this.config=h||{}},o=e(0),l=e(15),a=e(26),s=e(20),r=e(9),d={html5:function(){return e.e(10).then(function(h){var f=e(117).default;return Object(s.a)(f),f}.bind(null,e)).catch(Object(r.b)(152))}};Object(o.g)(n.prototype,{load:function(h){var f=d[h],v=function(){return Promise.reject(new Error("Failed to load media"))};return f?f().then(function(){var b=a.a[h];return b||v()}):v()},providerSupports:function(h,f){return h.supports(f)},choose:function(h){if(h===Object(h))for(var f=l.a.length,v=0;v<f;v++){var b=l.a[v];if(this.providerSupports(b,h))return{priority:f-v-1,name:b.name,type:h.type,providerToCheck:b,provider:a.a[b.name]}}return{}}}),t.a=n},function(g,t,e){"use strict";var n=function(s,r){var d=r.message,c=r.code,h=function(w,k,C,E){return'<div id="'+w+'" class="jw-error jw-reset"><div class="jw-error-msg jw-info-overlay jw-reset"><style>[id="'+w+'"].jw-error{background:#000;overflow:hidden;position:relative}[id="'+w+'"] .jw-error-msg{top:50%;left:50%;position:absolute;transform:translate(-50%,-50%)}[id="'+w+'"] .jw-error-text{text-align:start;color:#FFF;font:14px/1.35 Arial,Helvetica,sans-serif}</style><div class="jw-icon jw-reset"></div><div class="jw-info-container jw-reset"><div class="jw-error-text jw-reset-text" dir="auto" data-nosnippet>'+(k||"")+'<span class="jw-break jw-reset"></span>'+(E?("("+C+": "+E+")").replace(/\s+/g,"&nbsp;"):"")+"</div></div></div></div>"}(s.get("id"),d,s.get("localization").errors.errorCode,c.toString()),f=s.get("width"),v=s.get("height"),b=Object(o.f)(h);return Object(l.d)(b,{width:f.toString().indexOf("%")>0?f:f+"px",height:v.toString().indexOf("%")>0?v:v+"px"}),b},o=e(6),l=e(11);e.d(t,"a",function(){return n})},function(g,t,e){"use strict";var n=function(a){return a.slice&&a.slice(-2)==="px"&&(a=a.slice(0,-2)),a},o=function(a,s){if(s.toString().indexOf("%")===-1||typeof a!="string"||!a)return 0;if(/^\d*\.?\d+%$/.test(a))return a;var r=a.indexOf(":");if(r===-1)return 0;var d=parseFloat(a.substr(0,r)),c=parseFloat(a.substr(r+1));return d<=0||c<=0?0:c/d*100+"%"};e.d(t,"b",function(){return n}),e.d(t,"a",function(){return o})},function(g,t,e){"use strict";var n=function(h){var f=document.createElement("link");return f.type="text/css",f.rel="stylesheet",f.href=h,f},o=function(h,f){var v=document.createElement("script");return v.type="text/javascript",v.charset="utf-8",v.async=!0,v.timeout=f||45e3,v.src=h,v},l=e(0),a=e(8),s=e(3),r={},d=function(h,f,v){var b=function(A){C=2,k.trigger(s.w,A).off()},w=function(A){C=3,k.trigger(s.kb,A).off()},k=this,C=0;this.getStatus=function(){return C},this.load=function(){var E=r[h];return C!==0||(E&&E.then(w).catch(b),C=1,E=new Promise(function(A,j){var y=(f?n:o)(h,v),u=function(){y.onerror=y.onload=null,clearTimeout(m)},p=function(O){u(),b(O),j(O)},m=setTimeout(function(){p(new Error("Network timeout "+h))},45e3);y.onerror=function(){p(new Error("Failed to load "+h))},y.onload=function(x){u(),w(x),A(x)};var _=document.getElementsByTagName("head")[0]||document.documentElement;_.insertBefore(y,_.firstChild)}),r[h]=E),E}};Object(l.g)(d.prototype,a.a),t.a=d},function(g,t,e){"use strict";e.d(t,"a",function(){return n});var n=typeof console.log=="function"?console.log.bind(console):function(){}},function(g,t,e){"use strict";var n=function(z){return z&&!(D.test(z)||typeof z=="object")},o=function(z){if(!z.handlers.init){var he=z.el,Y=z.passive,B=!!O&&{passive:Y},F=function(ae){if(z.dragged)f(z,C.s,ae);else{var se=v(ae),ve=se.pageX,de=se.pageY,Be=ve-z.startX,it=de-z.startY;Be*Be+it*it>36&&(f(z,C.u,ae),z.dragged=!0,f(z,C.s,ae))}var mt;Y||ae.type!=="touchmove"||(mt=ae).preventDefault&&mt.preventDefault()},ce=function(ae){clearTimeout(u),z.el&&(c(z),d(z,"window"),z.dragged&&(z.dragged=!1,f(z,C.t,ae)))};a(z,"init"),w(z,"init",function(J){if(Object(j.p)(he,"jw-tab-focus"),!b(J)){var ae=J.target,se=J.type;if(!z.directSelect||ae===he){var ve=v(J),de=ve.pageX,Be=ve.pageY;if(z.dragged=!1,z.startX=de,z.startY=Be,d(z,"window"),se==="pointerdown"&&J.isPrimary){if(!Y){var it=J.pointerId;z.pointerId=it,he.setPointerCapture(it)}r(z,"window","pointermove",F,B),r(z,"window","pointercancel",ce),r(z,"window","pointerup",ce)}else se==="mousedown"?(r(z,"window","mousemove",F,B),r(z,"window","mouseup",ce)):se==="touchstart"&&(r(z,"window","touchmove",F,B),r(z,"window","touchcancel",ce),r(z,"window","touchend",ce))}}},B),p||(p=new P(document).on("interaction"))}},l=function(z){if(!z.handlers.select){var he=z.el;a(z,"select"),w(z,"select",function(Y){var B=Y.target;b(Y)||z.directSelect&&B!==he||(Y.isPrimary&&B.tageName==="BUTTON"&&B.focus(),z.lastStart=Object(A.a)(),z.clicking=!0)}),r(z,"select","click",function(Y){b(Y)||z.directSelect&&Y.target!==he||(Object(A.a)()-z.lastStart>500&&z.clicking===!0||(function(B,F){B.enableDoubleClick&&(Object(A.a)()-B.lastClick<300?(f(B,C.r,F),B.lastClick=0):B.lastClick=Object(A.a)())}(z,Y),f(z,C.o,Y)),z.clicking=!1)})}},a=function(z,he){if(!z.handlers.init&&!z.handlers.select){var Y=z.el;r(z,he,"blur",function(){Object(j.p)(Y,"jw-tab-focus"),z.clicking=!1}),r(z,he,"focus",function(){p.event&&p.event.type==="keydown"&&Object(j.b)(Y,"jw-tab-focus")})}},s=function(z){var he=z.ownerDocument||z;return he.defaultView||he.parentWindow||window},r=function(z,he,Y,B,F){F===void 0&&(F=I);var ce=z.handlers[he],J=z.options[he];if(ce||(ce=z.handlers[he]={},J=z.options[he]={}),ce[Y])throw new Error(he+" "+Y+" already registered");ce[Y]=B,J[Y]=F;var ae=z.el;(he==="window"?s(ae):ae).addEventListener(Y,B,F)},d=function(z,he){var Y=z.el,B=z.handlers,F=z.options,ce=he==="window"?s(Y):Y,J=B[he],ae=F[he];J&&(Object.keys(J).forEach(function(se){var ve=ae[se];typeof ve=="boolean"?ce.removeEventListener(se,J[se],ve):ce.removeEventListener(se,J[se])}),B[he]=null,F[he]=null)},c=function(z){var he=z.el;z.pointerId!==null&&(he.releasePointerCapture(z.pointerId),z.pointerId=null)},h=function(z,he,Y){var B=z.el,F=Y.target;z.trigger(he,{type:he,sourceEvent:Y,currentTarget:B,target:F})},f=function(z,he,Y){var B=function(F,ce,J){var ae,se=ce.target,ve=ce.touches,de=ce.changedTouches,Be=ce.pointerType;ve||de?(ae=ve&&ve.length?ve[0]:de[0],Be=Be||"touch"):(ae=ce,Be=Be||"mouse");var it=ae,mt=it.pageX,ot=it.pageY;return{type:F,pointerType:Be,pageX:mt,pageY:ot,sourceEvent:ce,currentTarget:J,target:se}}(he,Y,z.el);z.trigger(he,B)},v=function(z){return z.type.indexOf("touch")===0?(z.originalEvent||z).changedTouches[0]:z},b=function(z){return!(!z.ctrlKey||z.type!=="click")||("which"in z?z.which===3:"button"in z&&z.button===2)},w=function(z,he,Y,B){_?r(z,he,"pointerdown",Y,B):(x&&r(z,he,"mousedown",Y,B),r(z,he,"touchstart",Y,B))};e.d(t,"a",function(){return P}),e.d(t,"b",function(){return s}),e.d(t,"c",function(){return b});var k=e(7),C=e(3),E=e(8),A=e(16),j=e(6);function y(q,z){return(y=Object.setPrototypeOf||function(he,Y){return he.__proto__=Y,he})(q,z)}var u,p,m="ontouchstart"in window,_="PointerEvent"in window&&!k.OS.android,x=!(_||m&&k.OS.mobile),O=k.Features.passiveEvents,I=!!O&&{passive:!0},P=function(q){var z=function(ce,J){var ae;ae=q.call(this)||this;var se=!(J=J||{}).preventScrolling;return ae.directSelect=!!J.directSelect,ae.dragged=!1,ae.enableDoubleClick=!1,ae.el=ce,ae.handlers={},ae.options={},ae.lastClick=0,ae.lastStart=0,ae.passive=se,ae.pointerId=null,ae.startX=0,ae.startY=0,ae.event=null,ae.clicking=!1,ae},he,Y;Y=q,(he=z).prototype=Object.create(Y.prototype),he.prototype.constructor=he,y(he,Y);var B=z.prototype;return B.on=function(F,ce,J){return n(F)&&(this.handlers[F]||V[F](this)),q.prototype.on.call(this,F,ce,J)},B.off=function(F,ce,J){var ae=this;if(n(F))d(this,F);else if(!F){var se=this.handlers;Object.keys(se).forEach(function(ve){d(ae,ve)})}return q.prototype.off.call(this,F,ce,J)},B.destroy=function(){this.el&&(this.off(),_&&c(this),this.el=null)},z}(E.a),D=/\s+/,V={drag:function(z){o(z)},dragStart:function(z){o(z)},dragEnd:function(z){o(z)},click:function(z){l(z)},doubleClick:function(z){z.enableDoubleClick=!0,l(z)},longPress:function(z){if(k.OS.iOS){var he=function(){clearTimeout(u)};r(z,"longPress","touchstart",function(Y){he(),u=setTimeout(function(){f(z,"longPress",Y)},500)}),r(z,"longPress","touchmove",he),r(z,"longPress","touchcancel",he),r(z,"longPress","touchend",he)}else z.el.oncontextmenu=function(Y){return f(z,"longPress",Y),!1}},focus:function(z){r(z,"focus","focus",function(he){h(z,"focus",he)})},blur:function(z){r(z,"blur","blur",function(he){h(z,"blur",he)})},over:function(z){(_||x)&&r(z,C.Z,_?"pointerover":"mouseover",function(he){he.pointerType!=="touch"&&f(z,C.Z,he)})},out:function(z){if(_){var he=z.el;r(z,C.Y,"pointerout",function(Y){if(Y.pointerType!=="touch"&&"clientX"in Y){var B=document.elementFromPoint(Y.clientX,Y.clientY);he.contains(B)||f(z,C.Y,Y)}})}else x&&r(z,C.Y,"mouseout",function(Y){f(z,C.Y,Y)})},move:function(z){(_||x)&&r(z,C.W,_?"pointermove":"mousemove",function(he){he.pointerType!=="touch"&&f(z,C.W,he)})},enter:function(z){r(z,C.v,"keydown",function(he){he.key!=="Enter"&&he.keyCode!==13||(he.stopPropagation(),h(z,C.v,he))})},keydown:function(z){r(z,"keydown","keydown",function(he){h(z,"keydown",he)},!1)},gesture:function(z){var he=function(B){return f(z,"gesture",B)};r(z,"gesture","click",he),r(z,"gesture","keydown",he)},interaction:function(z){var he=function(B){z.event=B};r(z,"interaction","mousedown",he,!0),r(z,"interaction","keydown",he,!0)},tap:function(){},doubleTap:function(){}}},function(g,t,e){"use strict";e.d(t,"b",function(){return n}),e.d(t,"a",function(){return o});var n=window.requestAnimationFrame||function(l){return setTimeout(l,17)},o=window.cancelAnimationFrame||clearTimeout},function(g,t,e){"use strict";var n=function(j,y){this.name=j,this.message=y.message||y.toString(),this.error=y},o=e(0),l=e(19),a=e(10),s=e(12),r=e(2),d=e(23),c=e(17),h=e(5),f=e(6),v=e(11),b=e(21),w=e(40),k=e(36),C=e(41),E=Object(o.g)({},s,a,l,{addClass:f.b,hasClass:f.j,removeClass:f.p,replaceClass:f.q,toggleClass:f.w,classList:f.e,styleDimension:f.v,createElement:f.f,emptyElement:f.i,addStyleSheet:f.c,bounds:f.d,openLink:f.m,replaceInnerHtml:f.r,css:v.b,clearCss:v.a,style:v.d,transform:v.e,getRgba:v.c,ajax:b.a,crossdomain:function(j){var y=window.URL;try{var u=new y(j,location.origin);return location.protocol+"//"+location.host!=u.protocol+"//"+u.host}catch(p){}return!0},tryCatch:function(j,y,u){if(u===void 0&&(u=[]),c.a.debug)return j.apply(y||this,u);try{return j.apply(y||this,u)}catch(p){return new n(j.name,p)}},Error:n,Timer:d.a,log:k.a,genId:C.b,between:w.a,foreach:function(j,y){for(var u in j)Object.prototype.hasOwnProperty.call(j,u)&&y(u,j[u])},flashVersion:h.a,isIframe:h.m,indexOf:o.l,trim:r.i,pad:r.e,extension:r.a,hms:r.b,seconds:r.g,prefix:r.f,suffix:r.h,noop:function(){}});t.a=E},function(g,t,e){"use strict";e.d(t,"a",function(){return n});var n=function(l,a,s){return Math.max(Math.min(l,s),a)}},function(g,t,e){"use strict";var n=function(){try{var s=window.crypto||window.msCrypto;if(s&&s.getRandomValues)return s.getRandomValues(new Uint32Array(1))[0].toString(36)}catch(r){}return Math.random().toString(36).slice(2,9)},o=function(s){for(var r="";r.length<s;)r+=n();return r.slice(0,s)};e.d(t,"a",function(){return l}),e.d(t,"b",function(){return o});var l=12},function(g,t,e){"use strict";var n=function(l,a,s){var r=[],d={};function c(){for(;r.length>0;){var h=r.shift(),f=h.command,v=h.args;(d[f]||l[f]).apply(l,v)}}a.forEach(function(h){var f=l[h];d[h]=f,l[h]=function(){for(var v=arguments.length,b=new Array(v),w=0;w<v;w++)b[w]=arguments[w];s()?r.push({command:h,args:b}):(c(),f&&f.apply(this,b))}}),Object.defineProperty(this,"queue",{enumerable:!0,get:function(){return r}}),this.flush=c,this.empty=function(){r.length=0},this.off=function(){a.forEach(function(h){var f=d[h];f&&(l[h]=f,delete d[h])})},this.destroy=function(){this.off(),this.empty()}};e.d(t,"a",function(){return n})},function(g,t,e){"use strict";function n(l,a){return(n=Object.setPrototypeOf||function(s,r){return s.__proto__=r,s})(l,a)}e.d(t,"a",function(){return o});var o=function(l){var a=function(){var h;return(h=l.call(this)||this).attributes=Object.create(null),h},s,r;r=l,(s=a).prototype=Object.create(r.prototype),s.prototype.constructor=s,n(s,r);var d=a.prototype;return d.addAttributes=function(c){var h=this;Object.keys(c).forEach(function(f){h.add(f,c[f])})},d.add=function(c,h){var f=this;Object.defineProperty(this,c,{get:function(){return f.attributes[c]},set:function(b){return f.set(c,b)},enumerable:!1}),this.attributes[c]=h},d.get=function(c){return this.attributes[c]},d.set=function(c,h){if(this.attributes[c]!==h){var f=this.attributes[c];this.attributes[c]=h,this.trigger("change:"+c,this,h,f)}},d.clone=function(){var c={},h=this.attributes;if(h)for(var f in h)c[f]=h[f];return c},d.change=function(c,h,f){this.on("change:"+c,h,f);var v=this.get(c);return h.call(f,this,v,v),this},a}(e(8).a)},function(g,t,e){"use strict";e.d(t,"c",function(){return n}),e.d(t,"b",function(){return o}),e.d(t,"a",function(){return l});var n=4,o=5,l=1},function(g,t,e){"use strict";var n=function(a,s){return Object(o.g)({},s,{prime:function(){a.src||a.load()},getPrimedElement:function(){return a},clean:function(){s.clean(a)},recycle:function(){s.clean(a)}})};e.d(t,"a",function(){return n});var o=e(0)},function(g,t,e){"use strict";t.a="hidden"in document?function(){return!document.hidden}:"webkitHidden"in document?function(){return!document.webkitHidden}:function(){return!0}},function(g,t,e){"use strict";var n=function(je){return z||(z=function(He){var qe=He.get("controls"),lt=o(),_t=function(ze,Re){var $e=ze.get("playlist");if(Array.isArray($e)&&$e.length)for(var Ye=Object(I.f)(ze.get("item"),$e.length),We=Object(I.c)(Object(O.a)($e[Ye]),ze),Ct=0;Ct<We.length;Ct++)for(var gt=We[Ct],nt=ze.getProviders(),rt=0;rt<P.a.length;rt++){var ct=P.a[rt];if(nt.providerSupports(ct,gt))return ct.name===Re}return!1}(He,"html5");if(y.OS.tizen)return l();if(qe&&lt&&_t)return be=e.e(7).then(function(ze){e(116);var Re=e(54).default;return V.a.controls=e(52).default,Object(D.a)(e(117).default),Re}.bind(null,e)).catch(Object(x.b)(q.q+105)),x.a.html5=be,be;var be;return qe&&_t?function(){var ze=e.e(5).then(function(Re){var $e=e(54).default;return V.a.controls=e(52).default,Object(D.a)(e(117).default),$e}.bind(null,e)).catch(Object(x.b)(q.q+104));return x.a.html5=ze,ze}():qe&&lt?e.e(6).then(function(ze){e(116);var Re=e(54).default;return V.a.controls=e(52).default,Re}.bind(null,e)).catch(Object(x.b)(q.q+103)):qe?e.e(4).then(function(ze){var Re=e(54).default;return V.a.controls=e(52).default,Re}.bind(null,e)).catch(Object(x.b)(q.q+102)):l()}(je)),z},o=function(){var je=window.IntersectionObserverEntry;return!je||!("IntersectionObserver"in window)||!("intersectionRatio"in je.prototype)},l=function(){return function(){return o()?e.e(8).then(function(je){return e(116)}.bind(null,e)).catch(Object(x.b)(q.q+120)):Promise.resolve()}().then(x.d)},a=function(je,He,qe){var lt=je.attributes;lt.playlist=Object(I.a)(He),lt.feedData=qe},s=function(je){return function(He){var qe=He.get("playlist");return new Promise(function(lt,_t){if(typeof qe!="string"){var be=He.get("feedData")||{};return a(He,qe,be),lt()}var ze=new Y.a;ze.on(he.eb,function(Re){var $e=Re.playlist;delete Re.playlist,a(He,$e,Re),lt()}),ze.on(he.w,function(Re){a(He,[],{}),_t(Object(q.w)(Re,q.r))}),ze.load(qe)})}(je).then(function(){if(!c(je)){var He=Object(I.b)(je.get("playlist"),je);je.attributes.playlist=He;try{Object(I.e)(He)}catch(Re){throw Re.code+=q.r,Re}var qe=je.getProviders(),lt=Object(I.f)(je.get("item"),He.length),_t=qe.choose(He[lt].sources[0]),be=_t.provider,ze=_t.name;return typeof be=="function"?be:x.a.html5&&ze==="html5"?x.a.html5:qe.load(ze).catch(function(Re){throw Object(q.w)(Re,q.s)})}})},r=function(je){var He=je.get("skin")?je.get("skin").url:void 0;return typeof He=="string"&&!function(qe){for(var lt=document.styleSheets,_t=0,be=lt.length;_t<be;_t++)if(lt[_t].href===qe)return!0;return!1}(He)?new B.a(He,!0).load().catch(function(qe){return qe}):Promise.resolve()},d=function(je){var He=je.attributes,qe=He.language,lt=He.base,_t=He.setupConfig,be=He.intl,ze=Object(p.b)(_t,be,qe);return!Object(p.f)(qe)||Object(p.d)(ze)?Promise.resolve():new Promise(function(Re){return Object(p.g)(lt,qe).then(function($e){var Ye=$e.response;if(!c(je)){if(!Ye)throw new q.o(null,q.h);He.localization=Object(p.a)(Ye,ze),Re()}}).catch(function($e){Re($e.code===q.h?$e:Object(q.w)($e,q.g))})})},c=function(je){return je.attributes._destroyed},h=function(je){je.src||je.load()},f=function(je){var He=document.createElement("video");return He.className="jw-video jw-reset",He.setAttribute("tabindex","-1"),He.setAttribute("disableRemotePlayback",""),He.setAttribute("webkit-playsinline",""),He.setAttribute("playsinline",""),je&&Object.keys(je).forEach(function(qe){He.setAttribute(qe,je[qe])}),He},v=function(je,He){He&&He.code&&(He.sourceError&&console.error(He.sourceError),console.error(q.o.logMessage(He.code)))},b=function(je){je&&je.code&&console.warn(q.o.logMessage(je.code))},w=function(je,He){if(!document.body.contains(je.currentContainer)){var qe=document.getElementById(je.get("id"));qe&&(je.currentContainer=qe)}je.currentContainer.parentElement&&je.currentContainer.parentElement.replaceChild(He,je.currentContainer),je.currentContainer=He},k=e(0),C=e(42),E=e(34),A=e(19),j=e(12),y=e(7),u=e(30),p=e(13),m={autoPause:{viewability:!1,pauseAds:!1},autostart:!1,allowFullscreen:!0,bandwidthEstimate:null,bitrateSelection:null,castAvailable:!1,controls:!0,cues:[],defaultPlaybackRate:1,displaydescription:!0,displaytitle:!0,displayPlaybackLabel:!1,enableShortcuts:!0,height:360,intl:{},item:0,language:"en",liveTimeout:null,localization:u.a,mute:!1,nextUpDisplay:!0,playbackRateControls:!1,playbackRates:[.5,1,1.25,1.5,2],renderCaptionsNatively:!1,repeat:!1,stretching:"uniform",volume:90,width:640},_=function(je,He){var qe=Object(k.g)({},(window.jwplayer||{}).defaults,He,je);(function(Lt){Object.keys(Lt).forEach(function(st){st!=="id"&&(Lt[st]=Object(j.serialize)(Lt[st]))})})(qe);var lt=qe.forceLocalizationDefaults?m.language:Object(p.c)(),_t=Object(p.h)(qe.intl);qe.localization=Object(p.a)(u.a,Object(p.b)(qe,_t,lt));var be=Object(k.g)({},m,qe);be.base==="."&&(be.base=Object(A.getScriptPath)("jwplayer.js")),be.base=(be.base||Object(A.loadFrom)()).replace(/\/?$/,"/"),e.p=be.base,be.width=Object(E.b)(be.width),be.height=Object(E.b)(be.height),be.aspectratio=Object(E.a)(be.aspectratio,be.width),be.volume=Object(k.u)(be.volume)?Math.min(Math.max(0,be.volume),100):m.volume,be.mute=!!be.mute,be.language=lt,be.intl=_t;var ze=be.playlistIndex;ze&&(be.item=ze),Object(k.r)(be.item)||(be.item=0);var Re=qe.autoPause;Re&&(be.autoPause.viewability=!("viewability"in Re)||!!Re.viewability);var $e=be.playbackRateControls;if($e){var Ye=be.playbackRates;Array.isArray($e)&&(Ye=$e),(Ye=Ye.filter(function(Lt){return Object(k.r)(Lt)&&Lt>=.25&&Lt<=4}).map(function(Lt){return Math.round(100*Lt)/100})).indexOf(1)<0&&Ye.push(1),Ye.sort(),be.playbackRateControls=!0,be.playbackRates=Ye}(!be.playbackRateControls||be.playbackRates.indexOf(be.defaultPlaybackRate)<0)&&(be.defaultPlaybackRate=1),be.playbackRate=be.defaultPlaybackRate,be.aspectratio||delete be.aspectratio;var We=be.playlist;if(We)Array.isArray(We.playlist)&&(be.feedData=We,be.playlist=We.playlist);else{var Ct=Object(k.x)(be,["title","description","type","mediaid","image","images","file","sources","tracks","preload","duration"]);be.playlist=[Ct]}be.qualityLabels=be.qualityLabels||be.hlslabels,delete be.duration;var gt=be.liveTimeout;gt!==null&&(Object(k.u)(gt)?gt!==0&&(gt=Math.max(30,gt)):gt=null,be.liveTimeout=gt);var nt,rt,ct,At=parseFloat(be.bandwidthEstimate),Mt=parseFloat(be.bitrateSelection);return be.bandwidthEstimate=Object(k.u)(At)?At:(nt=be.defaultBandwidthEstimate,rt=parseFloat(nt),Object(k.u)(rt)?Math.max(rt,1):m.bandwidthEstimate),be.bitrateSelection=Object(k.u)(Mt)?Mt:m.bitrateSelection,be.liveSyncDuration=(ct=be.liveSyncDuration)<5?5:ct>30?30:ct,be.backgroundLoading=Object(k.n)(be.backgroundLoading)?be.backgroundLoading:y.Features.backgroundLoading,be},x=e(9),O=e(24),I=e(18),P=e(15),D=e(20),V=e(29),q=e(1),z=null,he=e(3),Y=e(48),B=e(35),F=e(25),ce=function(je){var He;this.start=function(qe){var lt=function(ze,Re){return Object(F.a)(ze,Re)}(je,qe),_t=Promise.all([n(je),lt,s(je),Promise.resolve(),r(je),d(je)]),be=new Promise(function(ze,Re){He=setTimeout(function(){Re(new q.o(q.k,q.u))},6e4);var $e=function(){clearTimeout(He),setTimeout(ze,6e4)};_t.then($e).catch($e)});return Promise.race([_t,be]).catch(function(ze){var Re=function(){throw ze};return lt.then(Re).catch(Re)}).then(function(ze){return function(Re){if(!Re||!Re.length)return{core:null,warnings:[]};var $e=Re.reduce(function(Ye,We){return Ye.concat(We)},[]).filter(function(Ye){return Ye&&Ye.code});return{core:Re[0],warnings:$e}}(ze)})},this.destroy=function(){clearTimeout(He),je.set("_destroyed",!0),je=null}},J=e(32),ae=e(23),se=e(17),ve={removeItem:function(je){}};try{ve=window.localStorage||ve}catch(Ve){}var de=function(){var Ve=function(qe,lt){this.namespace=qe,this.items=lt},je=Ve.prototype;return je.getAllItems=function(){var He=this;return this.items.reduce(function(qe,lt){var _t=ve[He.namespace+"."+lt];return _t&&(qe[lt]=lt!=="captions"?Object(j.serialize)(_t):JSON.parse(_t)),qe},{})},je.track=function(He){var qe=this;this.items.forEach(function(lt){He.on("change:"+lt,function(_t,be){try{lt==="captions"&&(be=JSON.stringify(be)),ve[qe.namespace+"."+lt]=be}catch(ze){se.a.debug&&console.error(ze)}})})},je.clear=function(){var He=this;this.items.forEach(function(qe){ve.removeItem(He.namespace+"."+qe)})},Ve}(),Be=e(43),it=e(28),mt=e(8),ot=e(33),Ae=e(44),xe=e(45),De=e(37);e(51),e(53),e.d(t,"b",function(){return w});var et=function(je){this._events={},this.modelShim=new Be.a,this.modelShim._qoeItem=new ae.a,this.mediaShim={},this.setup=new ce(this.modelShim),this.currentContainer=this.originalContainer=je,this.apiQueue=new C.a(this,["load","play","pause","seek","stop","playlistItem","playlistNext","playlistPrev","next","preload","setAllowFullscreen","setConfig","setCurrentAudioTrack","setCurrentCaptions","setCurrentQuality","setFullscreen","setPip","requestPip","addButton","removeButton","castToggle","setMute","setVolume","setPlaybackRate","addCues","setCues","setPlaylistItem","stopCasting","resize","setCaptions","setControls"],function(){return!0})};Object(k.g)(et.prototype,{on:mt.a.on,once:mt.a.once,off:mt.a.off,trigger:mt.a.trigger,init:function(je,He){var qe=this,lt=this.modelShim,_t=new de("jwplayer",["volume","mute","captionLabel","captions","bandwidthEstimate","bitrateSelection","qualityLabel","enableShortcuts"]),be=_t&&_t.getAllItems();lt.attributes=lt.attributes||{},Object(k.g)(this.mediaShim,it.c);var ze=je,Re=_(Object(k.g)({},je),be);Re.id=He.id,Re.setupConfig=ze,Object(k.g)(lt.attributes,Re,it.d),lt.getProviders=function(){return new J.a(Re)},lt.setProvider=function(){};var $e=function(){for(var We=Ae.c,Ct=[],gt=[],nt=0;nt<We;nt++){var rt=f();Ct.push(rt),gt.push(rt),h(rt)}var ct=gt.shift(),At=gt.shift(),Mt=!1;return{primed:function(){return Mt},prime:function(){Ct.forEach(h),Mt=!0},played:function(){Mt=!0},getPrimedElement:function(){return gt.shift()||null},getAdElement:function(){return ct},getTestElement:function(){return At},clean:function(st){if(st.src){st.removeAttribute("src");try{st.load()}catch(te){}}},recycle:function(st){st&&!gt.some(function(te){return te===st})&&(this.clean(st),gt.push(st))},syncVolume:function(st){var te=Math.min(Math.max(0,st/100),1);Ct.forEach(function(Jt){Jt.volume=te})},syncMute:function(st){Ct.forEach(function(te){te.muted=st})}}}();lt.get("backgroundLoading")||($e=Object(xe.a)($e.getPrimedElement(),$e));var Ye=this.primeUi=new De.a(Object(De.b)(this.originalContainer)).once("gesture",function(){$e.prime(),qe.preload(),Ye.destroy()});return lt.on("change:errorEvent",v),this.setup.start(He).then(function(We){var Ct=We.core;if(!Ct)throw Object(q.w)(null,q.t);if(qe.setup){qe.on(he.ub,b),We.warnings.forEach(function(ct){qe.trigger(he.ub,ct)});var gt=qe.modelShim.clone();if(gt.error)throw gt.error;var nt=qe.apiQueue.queue.slice(0);qe.apiQueue.destroy(),Object(k.g)(qe,Ct.prototype),qe.playerSetup(gt,He,qe.originalContainer,qe._events,nt,$e);var rt=qe._model;return lt.off("change:errorEvent",v),rt.on("change:errorEvent",v),_t.track(rt),qe.updatePlaylist(rt.get("playlist"),rt.get("feedData")).catch(function(ct){var At=ct.code===q.a?q.p:q.r;throw Object(q.w)(ct,At)})}}).then(function(){qe.setup&&qe.playerReady()}).catch(function(We){qe.setup&&function(Ct,gt,nt){Promise.resolve().then(function(){var rt=Object(q.x)(q.n,q.v,nt),ct=Ct._model||Ct.modelShim;rt.message=rt.message||ct.get("localization").errors[rt.key],delete rt.key;var At=ct.get("contextual");if(!At){var Mt=Object(ot.a)(Ct,rt);ot.a.cloneIcon&&Mt.querySelector(".jw-icon").appendChild(ot.a.cloneIcon("error")),w(Ct,Mt)}ct.set("errorEvent",rt),ct.set("state",he.lb),Ct.trigger(he.ib,rt),At&&gt.remove()})}(qe,He,We)})},playerDestroy:function(){this.destroy&&this.destroy(),this.apiQueue&&this.apiQueue.destroy(),this.setup&&this.setup.destroy(),this.primeUi&&this.primeUi.destroy(),this.currentContainer!==this.originalContainer&&w(this,this.originalContainer),this.off(),this._events=this._model=this.modelShim=this.apiQueue=this.primeUi=this.setup=null},getContainer:function(){return this.currentContainer},get:function(je){if(this.modelShim)return je in this.mediaShim?this.mediaShim[je]:this.modelShim.get(je)},getItemQoe:function(){return this.modelShim._qoeItem},getItemPromise:function(){return null},setItemCallback:function(je){this.modelShim&&(this.modelShim.attributes.playlistItemCallback=je)},getConfig:function(){return Object(k.g)({},this.modelShim.attributes,this.mediaShim)},getCurrentCaptions:function(){return this.get("captionsIndex")},getWidth:function(){return this.get("containerWidth")},getHeight:function(){return this.get("containerHeight")},getMute:function(){return this.get("mute")},getProvider:function(){return this.get("provider")},getState:function(){return this.get("state")},getAudioTracks:function(){return null},getCaptionsList:function(){return null},getQualityLevels:function(){return null},getVisualQuality:function(){return null},getCurrentQuality:function(){return-1},getCurrentAudioTrack:function(){return-1},getSafeRegion:function(){return{x:0,y:0,width:0,height:0}},isBeforeComplete:function(){return!1},isBeforePlay:function(){return!1},createInstream:function(){return null},skipAd:function(){},attachMedia:function(){},detachMedia:function(){}}),t.a=et},function(g,t,e){"use strict";var n=function(E){var A={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish"};return A[E]?A[E]:E},o=function(E){for(var A=[],j=0;j<Object(r.c)(E);j++){var y=E.childNodes[j];y.prefix==="jwplayer"&&Object(r.b)(y).toLowerCase()==="mediatypes"&&A.push(Object(r.d)(y))}return A},l=function(E){for(var A={},j=0;j<E.childNodes.length;j++){var y=E.childNodes[j],u=Object(r.b)(y);if(u)switch(u.toLowerCase()){case"enclosure":A.file=Object(d.j)(y,"url");break;case"title":A.title=Object(r.d)(y);break;case"guid":A.mediaid=Object(r.d)(y);break;case"pubdate":A.date=Object(r.d)(y);break;case"description":A.description=Object(r.d)(y);break;case"link":A.link=Object(r.d)(y);break;case"category":A.tags?A.tags+=Object(r.d)(y):A.tags=Object(r.d)(y)}}return new v.a(f(E,c(E,A)))},a=e(0),s=e(3),r=e(4),d=e(2),c=function C(E,A){for(var j=[],y=0;y<Object(r.c)(E);y++){var u=E.childNodes[y];if(u.prefix==="media"){if(!Object(r.b)(u))continue;switch(Object(r.b)(u).toLowerCase()){case"content":if(Object(d.j)(u,"duration")&&(A.duration=Object(d.g)(Object(d.j)(u,"duration"))),Object(d.j)(u,"url")){A.sources||(A.sources=[]);var p={file:Object(d.j)(u,"url"),type:Object(d.j)(u,"type"),width:Object(d.j)(u,"width"),label:Object(d.j)(u,"label")},m=o(u);m.length&&(p.mediaTypes=m),A.sources.push(p)}Object(r.c)(u)>0&&(A=C(u,A));break;case"title":A.title=Object(r.d)(u);break;case"description":A.description=Object(r.d)(u);break;case"guid":A.mediaid=Object(r.d)(u);break;case"thumbnail":A.image||(A.image=Object(d.j)(u,"url"));break;case"group":C(u,A);break;case"subtitle":var _={file:Object(d.j)(u,"url"),kind:"captions"};Object(d.j)(u,"lang").length>0&&(_.label=n(Object(d.j)(u,"lang"))),j.push(_)}}}A.tracks||(A.tracks=[]);for(var x=0;x<j.length;x++)A.tracks.push(j[x]);return A},h=e(12),f=function(E,A){for(var j="default",y=[],u=[],p=A,m=0;m<E.childNodes.length;m++){var _=E.childNodes[m];if(_.prefix==="jwplayer"){var x=Object(r.b)(_);x==="source"?(delete A.sources,y.push({file:Object(d.j)(_,"file"),default:Object(d.j)(_,j),label:Object(d.j)(_,"label"),type:Object(d.j)(_,"type")})):x==="track"?(delete A.tracks,u.push({file:Object(d.j)(_,"file"),default:Object(d.j)(_,j),kind:Object(d.j)(_,"kind"),label:Object(d.j)(_,"label")})):(A[x]=Object(h.serialize)(Object(r.d)(_)),x==="file"&&A.sources&&delete A.sources)}A.file||(A.file=A.link)}if(y.length){A.sources=[];for(var O=0;O<y.length;O++){var I=y[O];I.file.length>0&&(I[j]=y[O][j]==="true",I.label||delete I.label,p.sources.push(I))}}if(u.length){A.tracks=[];for(var P=0;P<u.length;P++){var D=u[P];D.file&&D.file.length>0&&(D[j]=u[P][j]==="true",D.kind=u[P].kind.length?u[P].kind:"captions",D.label||delete D.label,p.tracks.push(D))}}return p},v=e(24),b=e(21),w=e(8),k=e(1);t.a=function(){var C=function(y){try{var u,p=y.responseXML?y.responseXML.childNodes:null,m=null;if(p){for(var _=0;_<p.length&&(m=p[_]).nodeType===8;_++);if(m&&Object(r.b)(m)==="xml"&&(m=m.nextSibling),m&&Object(r.b)(m)==="rss"){var x=function(I){var P=[];P.feedData={};for(var D=0;D<Object(r.c)(I);D++){var V=Object(r.a)(I,D);if(Object(r.b)(V).toLowerCase()==="channel")for(var q=0;q<Object(r.c)(V);q++){var z=Object(r.a)(V,q),he=Object(r.b)(z).toLowerCase();he==="item"?P.push(l(z)):he&&(P.feedData[he]=Object(r.d)(z))}}return P}(m);u=Object(a.g)({playlist:x},x.feedData)}}if(!u)try{var O=JSON.parse(y.responseText);if(Array.isArray(O))u={playlist:O};else{if(!Array.isArray(O.playlist))throw Error("Playlist is not an array");u=O}}catch(I){throw new k.o(k.l,621,I)}A.trigger(s.eb,u)}catch(I){E(I)}},E=function(y){_instanceof(y,k.o)&&!y.code&&(y=new k.o(k.l,0)),A.trigger(s.w,y)},A=Object(a.g)(this,w.a);this.load=function(j){Object(b.a)(j,C,function(y,u,p,m){E(m)})},this.destroy=function(){this.off()}}},function(g,t,e){"use strict";var n=function(a){return a.type==="hls"&&o.OS.android?a.androidhls!==!1&&!o.Browser.firefox&&parseFloat(o.OS.version.version||"0")>=4.4:null};e.d(t,"a",function(){return n});var o=e(7)},function(g,t,e){"use strict";var n=e(3),o=function(){},l=function(){return!1},a={name:"default"},s={supports:l,play:o,pause:o,preload:o,load:o,stop:o,volume:o,mute:o,seek:o,resize:o,remove:o,destroy:o,setVisibility:o,setFullscreen:o,getFullscreen:l,supportsFullscreen:l,getContainer:o,setContainer:o,getName:function(){return a},getQualityLevels:o,getCurrentQuality:o,setCurrentQuality:o,getAudioTracks:o,getCurrentAudioTrack:o,setCurrentAudioTrack:o,getSeekRange:function(){return{start:0,end:this.getDuration()}},setPlaybackRate:o,getPlaybackRate:function(){return 1},getBandwidthEstimate:function(){return null},getLiveLatency:function(){return null},attachMedia:o,detachMedia:o,init:o,setState:function(d){this.state=d,this.trigger(n.bb,{newstate:d})},sendMediaType:function(d){var c=d[0],h=c.type,f=c.mimeType,v=h==="aac"||h==="mp3"||h==="mpeg"||f&&f.indexOf("audio/")===0;this.trigger(n.T,{mediaType:v?"audio":"video"})},getDuration:function(){return 0},trigger:o};t.a=s},function(g,t,e){"use strict";var n=function(j,y){for(var u=y.length;u--;){var p=y[u];if(j.target===p.getContainer()){p.setIntersection(j);break}}},o=function(){f.forEach(function(j){var y=j.model;if(!(y.get("audioMode")||y.get("isFloating")||!y.get("controls")||y.get("visibility")<.75)){var u=y.get("state"),p=Object(h.g)();!p&&u==="paused"&&j.api.getFullscreen()?j.api.setFullscreen(!1):u==="playing"&&j.api.setFullscreen(p)}})},l=function(){f.forEach(function(j){j.model.set("activeTab",Object(d.a)())})},a=function(j,y){var u=y.indexOf(j);u!==-1&&y.splice(u,1)},s=function(j){b.forEach(function(y){y(j)})},r,d=e(46),c=e(7),h=e(6),f=[],v=[],b=[],w={},k="screen"in window&&"orientation"in window.screen,C=c.OS.android&&c.Browser.chrome,E=!1;document.addEventListener("visibilitychange",l),document.addEventListener("webkitvisibilitychange",l),C&&k&&window.screen.orientation.addEventListener("change",o),window.addEventListener("beforeunload",function(){document.removeEventListener("visibilitychange",l),document.removeEventListener("webkitvisibilitychange",l),window.removeEventListener("scroll",s),C&&k&&window.screen.orientation.removeEventListener("change",o)}),t.a={add:function(j){f.push(j)},remove:function(j){a(j,f)},addScrollHandler:function(j){E||(E=!0,window.addEventListener("scroll",s)),b.push(j)},removeScrollHandler:function(j){var y=b.indexOf(j);y!==-1&&b.splice(y,1)},addWidget:function(j){v.push(j)},removeWidget:function(j){a(j,v)},size:function(){return f.length},observe:function(j){var y;y=window.IntersectionObserver,r||(r=new y(function(u){if(u&&u.length)for(var p=u.length;p--;){var m=u[p];n(m,f),n(m,v)}},{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})),w[j.id]||(w[j.id]=!0,r.observe(j))},unobserve:function(j){r&&w[j.id]&&(delete w[j.id],r.unobserve(j))}}},,function(g,t,e){"use strict";var n=function(){Object(l.a)(d),d=Object(l.b)(function(){r.forEach(function(f){f.view.updateBounds();var v=f.view.model.get("containerWidth");f.resized=f.width!==v,f.width=v}),r.forEach(function(f){f.contractElement.scrollLeft=2*f.width}),r.forEach(function(f){Object(s.d)(f.expandChild,{width:f.width+1}),f.resized&&f.view.model.get("visibility")&&f.view.updateStyles()}),r.forEach(function(f){f.expandElement.scrollLeft=f.width+1}),r.forEach(function(f){f.resized&&f.view.checkResized()})})};e.d(t,"a",function(){return c});var o=e(0),l=e(38),a=e(6),s=e(11),r=[],d=-1,c=function(){var h=function(v,b,w){var k={display:"block",position:"absolute",top:0,left:0},C={width:"100%",height:"100%"},E=Object(a.f)('<div style="opacity:0;visibility:hidden;overflow:hidden;"><div><div style="height:1px;"></div></div><div class="jw-contract-trigger"></div></div>'),A=E.firstChild,j=A.firstChild,y=A.nextSibling;Object(s.d)([A,y],Object(o.g)({overflow:"auto"},k,C)),Object(s.d)(E,Object(o.g)({},k,C)),this.expandElement=A,this.expandChild=j,this.contractElement=y,this.hiddenElement=E,this.element=v,this.view=b,this.model=w,this.width=0,this.resized=!1,v.firstChild?v.insertBefore(E,v.firstChild):v.appendChild(E),v.addEventListener("scroll",n,!0),r.push(this),n()};return h.prototype.destroy=function(){if(this.view){var f=r.indexOf(this);f!==-1&&r.splice(f,1),this.element.removeEventListener("scroll",n,!0),this.element.removeChild(this.hiddenElement),this.view=this.model=null}},h}()},,,function(g,t,e){"use strict";var n=function(){},o=function(B,F){for(;B._state===3;)B=B._value;B._state!==0?(B._handled=!0,k._immediateFn(function(){var ce=B._state===1?F.onFulfilled:F.onRejected;if(ce!==null){var J;try{J=ce(B._value)}catch(ae){return void a(F.promise,ae)}l(F.promise,J)}else(B._state===1?l:a)(F.promise,B._value)})):B._deferreds.push(F)},l=function(B,F){try{if(F===B)throw new TypeError("A promise cannot be resolved with itself.");if(F&&(typeof F=="object"||typeof F=="function")){var ce=F.then;if(_instanceof(F,k))return B._state=3,B._value=F,void s(B);if(typeof ce=="function")return void d((J=ce,ae=F,function(){J.apply(ae,arguments)}),B)}B._state=1,B._value=F,s(B)}catch(se){a(B,se)}var J,ae},a=function(B,F){B._state=2,B._value=F,s(B)},s=function(B){B._state===2&&B._deferreds.length===0&&k._immediateFn(function(){B._handled||k._unhandledRejectionFn(B._value)});for(var F=0,ce=B._deferreds.length;F<ce;F++)o(B,B._deferreds[F]);B._deferreds=null},r=function(B,F,ce){this.onFulfilled=typeof B=="function"?B:null,this.onRejected=typeof F=="function"?F:null,this.promise=ce},d=function(B,F){var ce=!1;try{B(function(J){ce||(ce=!0,l(F,J))},function(J){ce||(ce=!0,a(F,J))})}catch(J){if(ce)return;ce=!0,a(F,J)}},c=function(B,F){var ce=new I.a(F);return ce.on(P.gb,function(J){B._qoe.tick("ready"),J.setupTime=B._qoe.between("setup","ready")}),ce.on("all",function(J,ae){B.trigger(J,ae)}),ce},h=function(B,F){var ce=B.plugins,J=Object.keys(ce).map(function(ae){var se=ce[ae];return delete ce[ae],se});F.get("setupConfig")&&B.trigger("remove"),B.off(),F.playerDestroy(),J.forEach(function(ae){if(ae.destroy)try{ae.destroy()}catch(se){}}),F.getContainer().removeAttribute("data-jwplayer-id")},f=function(B){var F=++z,ce=B.id||"player-"+F,J=new D.a,ae={},se=c(this,B);J.tick("init"),B.setAttribute("data-jwplayer-id",ce),Object.defineProperties(this,{id:{enumerable:!0,get:function(){return ce}},uniqueId:{enumerable:!0,get:function(){return F}},plugins:{enumerable:!0,get:function(){return ae}},_qoe:{enumerable:!0,get:function(){return J}},version:{enumerable:!0,get:function(){return m.a}},Events:{enumerable:!0,get:function(){return V.a}},utils:{enumerable:!0,get:function(){return q.a}},_:{enumerable:!0,get:function(){return _.c}}}),Object(_.g)(this,{_events:{},setup:function(de){return J.clear("ready"),J.tick("setup"),se&&h(this,se),(se=c(this,B)).init(de,this),this.on(de.events,null,this)},remove:function(){return this.getPip()&&this.setPip(!1),function(de){for(var Be=A.a.length;Be--;)if(A.a[Be].uniqueId===de.uniqueId){A.a.splice(Be,1);break}}(this),se&&h(this,se),Object.keys(ae).forEach(function(de){delete ae[de]}),this},qoe:function(){var de=se.getItemQoe();return{setupTime:this._qoe.between("setup","ready"),firstFrame:de.getFirstFrame?de.getFirstFrame():null,player:this._qoe.dump(),item:de.dump()}},addCues:function(de){return Array.isArray(de)&&se.addCues(de),this},getAudioTracks:function(){return se.getAudioTracks()},getBuffer:function(){return se.get("buffer")},getCaptions:function(){return se.get("captions")},getCaptionsList:function(){return se.getCaptionsList()},getConfig:function(){return se.getConfig()},getContainer:function(){return se.getContainer()},getControls:function(){return se.get("controls")},getCues:function(){return se.get("cues")},getCurrentAudioTrack:function(){return se.getCurrentAudioTrack()},getCurrentCaptions:function(){return se.getCurrentCaptions()},getCurrentQuality:function(){return se.getCurrentQuality()},getCurrentTime:function(){return se.get("currentTime")},getDuration:function(){return se.get("duration")},getEnvironment:function(){return O},getFullscreen:function(){return se.get("fullscreen")},getHeight:function(){return se.getHeight()},getItemMeta:function(){return se.get("itemMeta")||{}},getMute:function(){return se.getMute()},getPercentViewable:function(){return se.get("visibility")},getPip:function(){return se.get("pip")},getPlaybackRate:function(){return se.get("playbackRate")},getPlaylist:function(){return se.get("playlist")},getPlaylistIndex:function(){return se.get("item")},getPlaylistItem:function(de){if(!q.a.exists(de))return se.get("playlistItem");var Be=this.getPlaylist();return Be?Be[de]:null},getPosition:function(){return se.get("position")},getProvider:function(){return se.getProvider()},getQualityLevels:function(){return se.getQualityLevels()},getSafeRegion:function(de){return de===void 0&&(de=!0),se.getSafeRegion(de)},getState:function(){return se.getState()},getStretching:function(){return se.get("stretching")},getViewable:function(){return se.get("viewable")},getVisualQuality:function(){return se.getVisualQuality()},getVolume:function(){return se.get("volume")},getWidth:function(){return se.getWidth()},setCaptions:function(de){return se.setCaptions(de),this},setConfig:function(de){return se.setConfig(de),this},setControls:function(de){return se.setControls(de),this},setCurrentAudioTrack:function(de){se.setCurrentAudioTrack(de)},setCurrentCaptions:function(de){se.setCurrentCaptions(de)},setCurrentQuality:function(de){se.setCurrentQuality(de)},setFullscreen:function(de){return se.setFullscreen(de),this},setAllowFullscreen:function(de){return se.setAllowFullscreen(de),this},setMute:function(de){return se.setMute(de),this},setPip:function(de){return se.setPip(de),this},setPlaybackRate:function(de){return se.setPlaybackRate(de),this},setPlaylistItem:function(de,Be){return se.setPlaylistItem(de,Be),this},setCues:function(de){return Array.isArray(de)&&se.setCues(de),this},setVolume:function(de){return se.setVolume(de),this},load:function(de,Be){return se.load(de,Be),this},play:function(de){return se.play(de),this},pause:function(de){return se.pause(de),this},playToggle:function(de){switch(this.getState()){case P.pb:case P.jb:return this.pause(de);default:return this.play(de)}},seek:function(de,Be){return se.seek(de,Be),this},playlistItem:function(de,Be){return se.playlistItem(de,Be),this},playlistNext:function(de){return se.playlistNext(de),this},playlistPrev:function(de){return se.playlistPrev(de),this},next:function(de){return se.next(de),this},requestPip:function(de){return se.requestPip(de),this},castToggle:function(){return se.castToggle(),this},stopCasting:function(){return se.stopCasting(),this},createInstream:function(){return se.createInstream()},stop:function(){return se.stop(),this},resize:function(de,Be){return se.resize(de,Be),this},addButton:function(de,Be,it,mt,ot){return se.addButton(de,Be,it,mt,ot),this},removeButton:function(de){return se.removeButton(de),this},attachMedia:function(){return se.attachMedia(),this},detachMedia:function(){return se.detachMedia(),this},isBeforeComplete:function(){return se.isBeforeComplete()},isBeforePlay:function(){return se.isBeforePlay()},setPlaylistItemCallback:function(de,Be){se.setItemCallback(de,Be)},removePlaylistItemCallback:function(){se.setItemCallback(null)},getPlaylistItemPromise:function(de){return se.getItemPromise(de)},getFloating:function(){return!!se.get("isFloating")},setFloating:function(de){se.setConfig({floating:{mode:de?"always":"never"}})}})},v=function(B){for(var F=0;F<A.a.length;F++)if(A.a[F].id===B)return A.a[F];return null},b=function(B){Object.defineProperties(B,{api:{get:function(){return u},set:function(){}},version:{get:function(){return m.a},set:function(){}},debug:{get:function(){return x.a.debug},set:function(ce){x.a.debug=!!ce}}})};e.r(t);var w=setTimeout;function k(Y){if(!_instanceof(this,k))throw new TypeError("Promises must be constructed via new");if(typeof Y!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(Y,this)}k.prototype.catch=function(Y){return this.then(null,Y)},k.prototype.then=function(Y,B){var F=new this.constructor(n);return o(this,new r(Y,B,F)),F},k.prototype.finally=function(Y){var B=this.constructor;return this.then(function(F){return B.resolve(Y()).then(function(){return F})},function(F){return B.resolve(Y()).then(function(){return B.reject(F)})})},k.all=function(Y){return new k(function(B,F){if(!Y||Y.length===void 0)throw new TypeError("Promise.all accepts an array");var ce=Array.prototype.slice.call(Y);if(ce.length===0)return B([]);var J=ce.length;function ae(ve,de){try{if(de&&(typeof de=="object"||typeof de=="function")){var Be=de.then;if(typeof Be=="function")return void Be.call(de,function(it){ae(ve,it)},F)}ce[ve]=de,--J==0&&B(ce)}catch(it){F(it)}}for(var se=0;se<ce.length;se++)ae(se,ce[se])})},k.resolve=function(Y){return Y&&typeof Y=="object"&&Y.constructor===k?Y:new k(function(B){B(Y)})},k.reject=function(Y){return new k(function(B,F){F(Y)})},k.race=function(Y){return new k(function(B,F){for(var ce=0,J=Y.length;ce<J;ce++)Y[ce].then(B,F)})},k._immediateFn=typeof setImmediate=="function"&&function(Y){setImmediate(Y)}||function(Y){w(Y,0)},k._unhandledRejectionFn=function(Y){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",Y)};var C=k;window.Promise||(window.Promise=C);var E=e(19),A=e(14),j=e(15),y=e(20),u={availableProviders:j.a,registerProvider:y.a},p=e(25),m=e(22),_=e(0),x=e(17),O=e(7),I=e(47),P=e(3),D=e(23),V=e(8),q=e(39),z=0;Object(_.g)(f.prototype,{on:function(B,F,ce){return V.c.call(this,B,F,ce)},once:function(B,F,ce){return V.d.call(this,B,F,ce)},off:function(B,F,ce){return V.b.call(this,B,F,ce)},trigger:function(B,F){return(F=_.c.isObject(F)?Object(_.g)({},F):{}).type=B,x.a.debug?V.e.call(this,B,F):V.f.call(this,B,F)},getPlugin:function(B){return this.plugins[B]},addPlugin:function(B,F){this.plugins[B]=F,this.on("ready",F.addToPlayer),F.resize&&this.on("resize",F.resizeHandler)},registerPlugin:function(B,F,ce){Object(p.b)(B,F,ce)},getAdBlock:function(){return!1},playAd:function(B){},pauseAd:function(B){},skipAd:function(){}}),e.d(t,"assignLibraryProperties",function(){return b}),e.p=Object(E.loadFrom)();var he=function(B){var F,ce;if(B?typeof B=="string"?(F=v(B))||(ce=document.getElementById(B)):typeof B=="number"?F=A.a[B]:B.nodeType&&(F=v((ce=B).id||ce.getAttribute("data-jwplayer-id"))):F=A.a[0],F)return F;if(ce){var J=new f(ce);return A.a.push(J),J}return{registerPlugin:p.b}};b(he),t.default=he}]).default}}),dO,li,hO=Ht({"https-url:https://av.dev.archive.org/js/jwplayer.js":function(){nI(),dO=location.hostname==="av.prod.archive.org"||location.hostname==="av.dev.archive.org"?"/jw/8":"https://av.prod.archive.org/jw/8";var g;g=window,li=g.jwplayer}}),Cf=Ht({"https-url:https://av.dev.archive.org/js/util/strings.js":function(){}}),rI=Ht({"https-url:https://av.dev.archive.org/js/tv/tuners.js":function(){}}),iI=Ht({"https-url:https://av.dev.archive.org/js/items.js":function(){Cf()}}),oI=Ht({"https-url:https://av.dev.archive.org/js/util/fetch.js":function(){}}),aI=Ht({"https-url:https://av.dev.archive.org/iso/hostname.js":function(){}}),fO,sI,pO,lI,uI,vO=Ht({"https-url:https://av.dev.archive.org/js/tv.js":function(){gO(),mO(),rI(),hl(),Q0(),iI(),oI(),aI(),Cf(),sI=(fO=lx())!=null&&fO.startsWith("tvnix")?lx().split(".")[0].substr(5).toUpperCase():!1,pO="/^[^_]+_20[012][0-9][0-9][0-9][0-9][0-9]_[0-9][0-9][0-9][0-9][0-9][0-9]/",lI="identifier ~ '".concat(pO.slice(1).slice(0,-1),"'"),uI=NT(["UNITED STATES","THE CITY","UNITED","US","U.S.","AMERICA","ABC","NBC","CNN"])}}),mO=Ht({"https-url:https://av.dev.archive.org/js/tv/recordings.js":function(){vO()}}),gO=Ht({"https-url:https://av.dev.archive.org/js/tv/zones.js":function(){mO(),hl()}}),yO,cI,Q0=Ht({"https-url:https://av.dev.archive.org/js/time.js":function(){hl(),Cf(),gO(),vO(),yO={January:"01",February:"02",March:"03",April:"04",May:"05",June:"06",July:"07",August:"08",September:"09",October:"10",November:"11",December:"12"},cI=Object.keys(yO)}}),Af,xs,bO,wO,_O,Of,kO,xO,SO,CO,dI=Ht({"https-url:https://av.dev.archive.org/js/player.js":function(){hl(),K0(),Q0(),Cf(),Af=!1,xs=100,bO=(location==null?void 0:location.host)==="av.dev.archive.org",wO="__ia_thumb.jpg",_O=0,Of=Object.fromEntries(["thumbnail2","thumbnail","h.264","webm","h.264 720p","h.264 486p","512kb mpeg4","ogg video",Af?"h.264 4k":"h.264 hd","h.264 hd","h.264 mpeg4","mpeg4","ogg theora","flash video","vbr mp3","ogg vorbis","mpeg-4 audio","128kbps mp3","64kbps mp3","mp3 sample"].map(function(g){return[g,_O++]})),kO=["vbr mp3","ogg vorbis","mpeg-4 audio","128kbps mp3","64kbps mp3","mp3 sample"],xO=["64kbps m3u","64kbps mp3 zip","checksums","flac fingerprint","item tile","vbr m3u","vbr zip"],SO=function(){"use strict";function g(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this;_classCallCheck(this,g),this.identifier=t.metadata.identifier,this.groups=[],this.widths={},this.heights={},this.durations={},this.srts={},this.vtts={},this.haxLP=!1;var o={},l={},a={},s={},r={},d={},c={},h={},f=Of.thumbnail2,v={};t.files.forEach(function($e){var Ye=_slicedToArray(n.filter($e),1),We=Ye[0];if(We){if("original"in We){var Ct=g.val(We.original);We.name!==Ct&&(o[We.name]=Ct)}We.name.endsWith(".png")&&!We.name.endsWith("_spectrogram.png")&&(c[We.name]=1)}}),qn(o),t.files.forEach(function($e){var Ye=_slicedToArray(n.filter($e),3),We=Ye[0],Ct=Ye[1],gt=Ye[2];if(We){var nt=We.name,rt=Of[Ct],ct="original"in We,At=nt;if(ct){At=g.val(We.original);for(var Mt=10;Mt&&At in o;Mt--)At=o[At];(gt==="mp4"||gt==="ogv")&&At in t.files&&t.files[At].format==="ISO Image"&&preg_match("/^(.*?)(d+).[^.]+$/",$filename,$m2)&&preg_match("/^(.*).[^.]+$/",$key,$mat)&&$m2[1]==$mat[1]&&($origSuffix=strrchr($fi.ORIGINAL,"."),At="{$m2[1]}{$m2[2]}$origSuffix"),At=g.val(At)}else"artist"in We?v[At]=We.artist:"creatorxxx"in We&&(v[At]=We.creatorxxx);if(!(e&&At!==e)){if(At in l||(l[At]={}),"title"in We&&(ct&&"title"in l[At]||(l[At].title=We.title)),"height"in We&&(n.heights[nt]=We.height),"width"in We&&(n.widths[nt]=We.width),"autoplay"in We&&(r[nt]=We.autoplay),"length"in We){var Lt=gp(String(g.val(We.length)));n.durations[nt]=Lt,ct&&(h[At]=1),(ct||!("length"in l[At])||!(At in h))&&(l[At].length=Math.round(Lt))}if(rt){if(ct){if(Ct==="h.264 720p"){l[At].HD=nt;return}}else{var st=We.title;if(Ct==="h.264 hd"||Ct==="h.264 mpeg4"&&(st.indexOf("[HD]")>0||st.indexOf(" HD ")>0||st.endsWith(" HD"))){l[At].HD=nt;return}if(Af&&Ct==="h.264 4k"){l[At]["4K"]=nt;return}rt>1&&(rt+=xs)}rt>1&&(kO.indexOf(Ct)>=0?(a[At]=1,d[nt]=1):s[At]=1),At in l||(l[At]={}),rt in l[At]?Ct==="thumbnail"&&f in l[At]&&(l[At][f]=nt):(l[At][rt]=nt,rt<xs&&rt+xs in l[At]?delete l[At][rt+xs]:rt>xs&&rt-xs in l[At]&&delete l[At][rt-xs])}}}}),qn(l),this.haxLP&&(delete l["".concat(this.identifier,".flac")],delete l["".concat(this.identifier,".ogg")],delete l["".concat(this.identifier,".mp3")],delete l["".concat(this.identifier,".m4a")]);var b=Object.keys(a).length,w=Object.keys(s).length;w>0&&(w>=b||t.metadata.mediatype==="movies")?this.showing="movies":this.showing=b?"audio":!1;var k=Object.values(v);(k.length<=1||_toConsumableArray(new Set(k)).length<=1)&&(v={});var C=this.showing==="movies"?s:a,E=this.showing==="movies"?w:b,A=!0,j=!1,y=void 0;try{for(var u=Object.entries(l)[Symbol.iterator](),p;!(A=(p=u.next()).done);A=!0){var m=_slicedToArray(p.value,2),_=m[0],x=m[1];if(_ in C){var O={SRC:[]};if(0 in x)O.POSTER=x[0];else if(1 in x)O.POSTER=x[1];else{var I=!0,P=!1,D=void 0;try{for(var V=Object.entries(x)[Symbol.iterator](),q;!(I=(q=V.next()).done);I=!0){var z=_slicedToArray(q.value,2),he=z[0],Y=z[1];if(parseInt(he,10)){var B=Y.replace(/(\.m4a|\.ogg|_sample\.mp3|\.mp3)$/i,".png");B!==Y&&B in c&&(O.POSTER=B)}}}catch($e){P=!0,D=$e}finally{try{!I&&V.return!=null&&V.return()}finally{if(P)throw D}}}_ in r&&(O.AUTOPLAY=!1);var F=!0,ce=!1,J=void 0;try{for(var ae=Object.entries(x)[Symbol.iterator](),se;!(F=(se=ae.next()).done);F=!0){var ve=_slicedToArray(se.value,2),de=ve[0],Be=ve[1];if(parseInt(de,10)&&de>1){if(this.showing==="movies"&&d[Be]||this.showing!=="movies"&&!d[Be])continue;O.SRC.push(Be)}}}catch($e){ce=!0,J=$e}finally{try{!F&&ae.return!=null&&ae.return()}finally{if(ce)throw J}}O.SRC.length&&(O.TITLE="title"in x?g.val(x.title):_.split("/").pop().replace(/\.[^.]+$/,"").replace(/_512kb$/,"").replace(/_/g," "),O.ORIG=_,_ in v&&(O.ARTIST=v[_]),"length"in x?O.length=x.length:O.length=this.runtime(t,E,_),"HD"in x&&(O.HD=x.HD),Af&&"4K"in x&&(O["4K"]=x["4K"]),this.groups.push(O))}}}catch($e){j=!0,y=$e}finally{try{!A&&u.return!=null&&u.return()}finally{if(j)throw y}}if(this.captions(),bO&&qn("player",this),this.showing==="audio"){var it=!0,mt=!1,ot=void 0;try{for(var Ae=this.groups[Symbol.iterator](),xe;!(it=(xe=Ae.next()).done);it=!0){var De=xe.value,et=!1,Ve=!1,je=!0,He=!1,qe=void 0;try{for(var lt=Object.entries(De.SRC)[Symbol.iterator](),_t;!(je=(_t=lt.next()).done);je=!0){var be=_slicedToArray(_t.value,2),ze=be[0],Re=be[1];Re.endsWith("_sample.mp3")?et=ze:Re.endsWith(".mp3")&&(Ve=!0)}}catch($e){He=!0,qe=$e}finally{try{!je&&lt.return!=null&&lt.return()}finally{if(He)throw qe}}Ve&&et!==!1&&De.SRC.splice(et,1)}}catch($e){mt=!0,ot=$e}finally{try{!it&&Ae.return!=null&&Ae.return()}finally{if(mt)throw ot}}}}return _createClass(g,[{key:"filter",value:function(e){var n=e.name,o=n.substr(1+n.lastIndexOf(".")).toLowerCase(),l=e.format.toLowerCase();if(xO.includes(l)||n===wO)return[];if(o==="mp3"&&(e.original==="".concat(this.identifier,"_segments.json")||e.original==="".concat(this.identifier,"_segments.xml"))&&(this.haxLP=!0,delete e.original,e.source="original"),typeof e.original=="string"&&e.original.endsWith(".torrent")&&(delete e.original,e.source="original"),o==="vtt")return this.vtts[n]=1,[];if(o==="srt")return this.srts[n]=1,[];var a=Of[l];return o==="mp3"&&!a?[e,"64kbps mp3",o]:[e,l,o]}},{key:"jwplaylist",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],l=[],a="https://archive.org/download/".concat(this.identifier,"/"),s=["audio/mpeg","mp3","audio/ogg","ogg","video/h264","mp4","video/ogg","ogg",""];navigator.userAgent.indexOf("Chrome/")>0?La("jest")?s=["audio/ogg","ogg","audio/mpeg","mp3","video/ogg","ogg","video/h264","mp4",""]:s=["audio/ogg","ogg","audio/mpeg","mp3","video/h264","mp4","video/ogg","ogg",""]:navigator.userAgent.indexOf(" Iceweasel/")>0&&(s=["audio/ogg","ogg","audio/mpeg","mp3","video/ogg","ogg","video/h264","mp4",""]),s.push("video/x-flv");var r=0;s=Object.fromEntries(s.map(function(D){return[D,r++]}));var d=!0,c=!1,h=void 0;try{for(var f=Object.values(this.groups)[Symbol.iterator](),v;!(d=(v=f.next()).done);d=!0){var b=v.value,w={sources:[],title:$T(b.TITLE,100,!0)};"ORIG"in b&&(w.orig=b.ORIG,"ARTIST"in b&&(w.artist=b.ARTIST)),"AUTOPLAY"in b&&(w.autoplay=b.AUTOPLAY);var k=La("poster");k?w.image=this.url(k.replace(/^(https?):\/([^/])/,"$1://$2")):(this.showing==="movies"&&"POSTER"in b||this.showing==="audio"&&"POSTER"in b)&&(w.image=this.url(a+b.POSTER),o.length||o.push(this.url(a+b.POSTER))),"length"in b&&(w.duration=b.length),"HD"in b&&b.SRC.push(b.HD);var C={},E=!0,A=!1,j=void 0;try{for(var y=b.SRC[Symbol.iterator](),u;!(E=(u=y.next()).done);E=!0){var p=u.value,m=((p.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))$/i)||[]).pop()||(p.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))\?/i)||[]).pop()||(p.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))&/i)||[]).pop()||"").toLowerCase();if(!(n&&(m==="ogg"||m==="ogv"))){var _="",x=[640,480];switch(m){case"mp3":_="mp3";break;case"ogg":_="ogg";break;case"m4a":_="aac";break;case"ogv":_="ogg",x=[400,300];break;case"mp4":_="mp4";break;case"mpeg4":_="mp4";break;case"m4v":_="mp4";break;case"mov":_="mp4";break;case"flv":_="video/x-flv";break;case"swf":_="video/x-flv";break;default:_=""}var O=p in this.widths?this.widths[p]:x[0],I=p in this.heights?this.heights[p]:x[1],P={file:this.url(a+p),width:O,height:I};_!==""&&(P.type=_),this.showing==="movies"&&(P.label="".concat(I,"p").concat(I>=720?" HD":"")),!(_&&parseInt(I,10)===parseInt(C[_],10))&&(C[_]=I,w.sources.push(P),this.showing==="movies"&&"image"in w&&(w.tracks=[{kind:"thumbnails",file:"".concat(w.image.replace("/download/","/stream/").replace("%2F","/"),"?vtt=vtt.vtt")}]),p in this.durations&&(w.duration=Math.max(w.duration,this.durations[p])))}}}catch(D){A=!0,j=D}finally{try{!E&&y.return!=null&&y.return()}finally{if(A)throw j}}qn(e.tv),l.push(w)}}catch(D){c=!0,h=D}finally{try{!d&&f.return!=null&&f.return()}finally{if(c)throw h}}return l}},{key:"runtime",value:function(e,n,o){return this.xxx="implement runtime() ".concat(n?typeof e=="undefined"?"undefined":_typeof(e):typeof o=="undefined"?"undefined":_typeof(o)),-1}},{key:"captions",value:function(){this.xxx="implement captions()"}},{key:"url",value:function(e){return this.xxx="sort me out ",e}}],[{key:"val",value:function(e){return typeof e=="object"?e.length?e[0]:"":e}}]),g}(),CO=SO}}),jf,hI=Ht({"https-url:https://av.dev.archive.org/js/util/onclick.js":function(){jf=BT}}),J0,AO,fI=Ht({"https-url:https://av.dev.archive.org/js/playset.js":function(){uO(),K0(),hl(),hI(),hO(),J0=function(){"use strict";function g(){if(_classCallCheck(this,g),g.avplayer="#jw6",g.resizer_listening=!1,g.unplayable_timer=null,g.mobile=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0||navigator.userAgent.indexOf("Android")>0,this.id=!1,this.selector_play_items=!1,this.selector_playlist=!1,!!g.is_local_storage_available()){this.selector_play_items=X(".js-playset-items"),this.selector_playlist=X(".js-playset-list");var t=X(".js-playset").attr("data-mediatype");if(this.selector_playlist.length||(this.selector_playlist="body"),this.selector_play_items.length?(!t||["audio","movies","etree"].includes(t))&&(X(this.selector_play_items).append('<span id="playplayset"/>'),X("#playplayset").html('<a\n          class="stealth"\n          href="#play-items"\n          data-event-click-tracking="Playset|PlayAllLink"\n        >\n          <span class="iconochive-play" aria-hidden="true"></span>\n          <span class="sr-only">play</span>\n          <span class="hidden-xs-span"> Play All</span>\n          <br />\n        </a>'),jf("#playplayset",g.create_playlist_goto_first_item),La("autoplay",!0)&&!La("playset",!0)&&setTimeout(g.create_playlist_goto_first_item,2500)):this.selector_play_items=!1,La("playset",!0)){var e;if(e=_slicedToArray(location.href.match(/archive\.org\/details\/([^/&?]+)/),2),this.id=e[1],!this.id)return;X("#playset-xs").length||X("#theatre-ia-wrap").after('<div id="playset-xs" class="hidden-sm hidden-md hidden-lg"><div/></div>'),this.show_playlist(),g.skip_unplayable_item(),g.resizer()}qn("playset ready")}}return _createClass(g,[{key:"show_playlist",value:function(){var e=this,n=g.get_playset();if(n){var o=!1,l="",a=!0,s=!1,r=void 0;try{for(var d=n.list[Symbol.iterator](),c;!(a=(c=d.next()).done);a=!0){var h=c.value;l+=g.playlist_item(h[0],h[1],h[2],h[3]),this.id===h[0]&&(o=!0)}}catch(v){s=!0,r=v}finally{try{!a&&d.return!=null&&d.return()}finally{if(s)throw r}}if(o){var f="\n".concat(g.playlist_header(n),'\n<div class="playset-list">\n').concat(l,"\n</div>\n");X("body").addClass("playset"),X("body").addClass(X("#theatre-ia-wrap").length?"":" playset-hdr-only"),X(this.selector_playlist).prepend('<div id="playset-ia">'.concat(f,"</div>")),jf("#playset-pp .js-playset-play",g.play),jf("#playset-pp .js-playset-pause",g.pause),setTimeout(function(){e.autoscroll_playlist()},500),X(document).ready(function(){X("#texty iframe").on("load",function(){X("#texty iframe").contents().click(g.pause)})})}}}},{key:"autoscroll_playlist",value:function(){var e=X('#playset-ia div[data-id="'.concat(this.id,'"')).offset();if(e){var n=X("#playset-xs:visible").length?10:X("#topnav").height(),o=e.top-n-X("#playset-ia .playset-hdr").height();qn("scrolling playset to ",o),X("#playset-ia .playset-list").scrollTop(o)}}}],[{key:"create_playlist_goto_first_item",value:function(){qn("create_playlist_goto_first_item()");var e=[],n=X("#also-found").length,o=n?"#also-found .item-ia":".item-ia:visible";X(o).each(function(l,a){var s=X(a),r=s.data().id;if(!r.match(/^__/)){var d=g.truncate(s.find(".item-ttl,.collection-title a").text(),35),c=g.truncate(s.find(".byv").text(),75),h=s.data().year,f=g.truncate(s.next().find(".C234 > span:first").text(),75);e.push([r,d,c.length?c:f,h])}}),g.set_playset(e),g.mobile?g.play_mobile(e):location.href="/details/".concat(e[0][0],"?autoplay=1&playset=1")}},{key:"play_mobile",value:function(e){var n=[],o=!0,l=!1,a=void 0;try{for(var s=e[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var d=r.value;n.push(d[0])}}catch(c){l=!0,a=c}finally{try{!o&&s.return!=null&&s.return()}finally{if(l)throw a}}location.href="https://archive.org/services/playset.php?ids=".concat(n.join(","))}},{key:"resizer",value:function(){g.resizer_listening||(g.resizer_listening=!0,X(window).on("resize  orientationchange",function(){clearTimeout(g.throttler),g.throttler=setTimeout(g.resizer,250)}));var e=X("#playset-xs:visible").length?"playset-xs":"theatre-ia-wrap",n=X("#playset-ia").parent().attr("id");qn("browser resize: ",e," -v- ",n),e!==n&&(e==="playset-xs"?X("#playset-ia").appendTo("#playset-xs > div"):X("#playset-ia").prependTo("#".concat(e)),qn("playset moved"))}},{key:"playlist_header",value:function(e){var n=e.src.match(/\?/)?"&":"?",o="".concat(e.src).concat(n,"autoplay=1");return'\n<div class="playset-hdr">\n<div>\n  <a href='.concat(o,">Playlist</a>\n  ").concat(g.glyph("beta"),'\n</div>\n<div id="playset-pp">\n  <a href="#" class="js-playset-pause">\n    ').concat(g.glyph("Pause"),'\n  </a>\n  <a href="#" class="js-playset-play" style="display:none">\n    ').concat(g.glyph("play"),"\n  </a>\n</div>\n<div>\n  <a href=").concat(o,">\n    ").concat(g.glyph("share"),"\n  </a>\n</div>\n</div>\n")}},{key:"playlist_item",value:function(e,n,o,l){return'\n<div class="playset-item" data-id='.concat(e,'>\n<a href="/details/').concat(e,'?autoplay=1&playset=1">\n  <div class="topinblock playset-img">\n    <img src="/services/img/').concat(e,'"/>\n  </div><div class="topinblock">\n    ').concat(g.item_year(l),"\n    <b>\n      ").concat(n,"\n    </b><br/>\n    ").concat(o,"\n  </div>\n</a>\n</div>")}},{key:"item_year",value:function(e){return e?'\n<div style="float:right">\n('.concat(e,")\n</div>"):""}},{key:"skip_unplayable_item",value:function(){g.unplayable_timer=setTimeout(function(){(typeof li=="undefined"||!X(g.avplayer).length)&&g.goto_next_item()},3e3)}},{key:"goto_next_item",value:function(){var e=location.href.match(/\/details\/([^/&?]+)/)[1],n=g.get_playlist(),o="",l=!0,a=!1,s=void 0;try{for(var r=n[Symbol.iterator](),d;!(l=(d=r.next()).done);l=!0){var c=d.value;e===o&&(location.href="/details/".concat(c[0],"?autoplay=1&playset=1"));var h;h=_slicedToArray(c,1),o=h[0]}}catch(f){a=!0,s=f}finally{try{!l&&r.return!=null&&r.return()}finally{if(a)throw s}}}},{key:"onComplete",value:function(e,n){var o=e.getPlaylistIndex(),l=e.getPlaylist().length,a=o+1>=l||n&&n.done;a&&g.goto_next_item()}},{key:"get_playlist",value:function(){var e=g.get_playset();return typeof e.list=="undefined"?e:e.list}},{key:"get_playset",value:function(){return JSON.parse(localStorage.getItem("playset"))}},{key:"set_playset",value:function(e){var n=new Date,o={version:"1.1",src:(location.pathname+location.search).replace(/[&?]autoplay=1/,""),created:n.toJSON(),createdTS:Math.round(n.getTime()/1e3),list:e};localStorage.setItem("playset",JSON.stringify(o))}},{key:"pause",value:function(){if(qn("playset pause"),typeof li!="undefined"&&X(g.avplayer).length){var e=li(g.avplayer.substr(1));return e&&e.getState()&&(e.getState().toUpperCase()==="PLAYING"?e.pause():e.play(),X("#playset-pp a").toggle()),!1}return g.unplayable_timer&&(clearTimeout(g.unplayable_timer),g.unplayable_timer=null,X("#playset-pp a").toggle()),!1}},{key:"play",value:function(){if(qn("play/resume"),typeof li!="undefined"&&X(g.avplayer).length){var e=li(g.avplayer.substr(1));return e&&e.getState()&&(e.getState().toUpperCase()!=="PLAYING"&&e.play(),X("#playset-pp a").toggle()),!1}return g.unplayable_timer||(g.skip_unplayable_item(),X("#playset-pp a").toggle()),!1}},{key:"glyph",value:function(e){return'<span class="iconochive-'.concat(e,'" aria-hidden="true"></span>\n           <span class="sr-only">').concat(e,"</span>")}},{key:"truncate",value:function(e,n){var o=e.trim().replace(/\s+/g," ");return o.length<=n?o:"".concat(o.substr(0,n),"..")}},{key:"is_local_storage_available",value:function(){try{return"localStorage"in window}catch(e){return!1}}}]),g}(),X(function(){return new J0}),AO=J0}}),OO,jO,pI=Ht({"https-url:https://av.dev.archive.org/js/util/ios.js":function(){OO=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0,jO=OO}}),vI=Ht({"https-url:https://av.dev.archive.org/iso/s3.js":function(){}}),EO,mI=Ht({"https-url:https://av.dev.archive.org/js/mdapi.js":function(){vI(),EO=zT}}),gI=Ht({"https-url:https://av.dev.archive.org/js/play/background-play.js":function(){Eu(),ka(),customElements.define("background-play",function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.toggle=!ui.get("nohls"),n}return _createClass(e,[{key:"click_on",value:function(){this.toggle=!0,ui.remove("nohls",{path:"/details"})}},{key:"click_off",value:function(){this.toggle=!1,ui.set("nohls",1,{path:"/details",expires:30})}},{key:"render",value:function(){var o="jw-settings-item-active";return ri(_templateObject411(),this.toggle,this.toggle?o:"",this.click_on,!this.toggle,this.toggle?"":o,this.click_off)}},{key:"createRenderRoot",value:function(){return this}}],[{key:"properties",get:function(){return{toggle:Boolean}}}]),e}(zo))}}),Ss,Ra,Z0,Ef,Tf,Fo,Io,eb,yI=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/transcript-view@0.0.3/esnext/transcript-view.mjs":function(){xn(),Wr(),xn(),Wr(),xn(),Wr(),Ss=function(t,e,n,o){var l=arguments.length,a=l<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(s=t[r])&&(a=(l<3?s(a):l>3?s(e,n,a):s(e,n))||a);return l>3&&a&&Object.defineProperty(e,n,a),a},Ra=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.entry=void 0,n.isActive=!1,n.isSelected=!1,n.isClickable=!1,n.isSearchResult=!1,n.isMusicEntry=!1,_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return xt(_templateObject412(),this.entry?this.entry.displayText:"")}}]),e}(er),Ss([on({type:Object})],Ra.prototype,"entry",void 0),Ss([on({type:Boolean,reflect:!0})],Ra.prototype,"isActive",void 0),Ss([on({type:Boolean,reflect:!0})],Ra.prototype,"isSelected",void 0),Ss([on({type:Boolean,reflect:!0})],Ra.prototype,"isClickable",void 0),Ss([on({type:Boolean,reflect:!0})],Ra.prototype,"isSearchResult",void 0),Ss([on({type:Boolean,reflect:!0})],Ra.prototype,"isMusicEntry",void 0),Ra=Ss([Qr("transcript-entry")],Ra),Z0=function(t,e,n,o){var l=arguments.length,a=l<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(s=t[r])&&(a=(l<3?s(a):l>3?s(e,n,a):s(e,n))||a);return l>3&&a&&Object.defineProperty(e,n,a),a},Ef=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.seconds=0,_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return xt(_templateObject413(),this.durationString)}},{key:"durationString",get:function(){if(typeof this.seconds!="number")return"";var o=Math.floor(this.seconds/3600),l=Math.floor(this.seconds/60)%60,a=Math.floor(this.seconds%60),s=o>0?"".concat(o):void 0,r=o>0&&l<10?"0".concat(l):"".concat(l),d=a<10?"0".concat(a):"".concat(a),c="".concat(r,":").concat(d);return c=s?"".concat(s,":").concat(c):c,c}}]),e}(er),Z0([on({type:Number})],Ef.prototype,"seconds",void 0),Ef=Z0([Qr("duration-formatter")],Ef),Tf=function(){"use strict";function g(t){_classCallCheck(this,g),this.entries=[],this.entries=t}return _createClass(g,[{key:"searchResults",get:function(){return this.entries.filter(function(e){return e.searchMatchIndex!==void 0})}}]),g}(),Fo=function(t,e,n,o){var l=arguments.length,a=l<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(s=t[r])&&(a=(l<3?s(a):l>3?s(e,n,a):s(e,n))||a);return l>3&&a&&Object.defineProperty(e,n,a),a},Io=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.config=void 0,n.currentTime=0,n.topContextHeight=50,n.bottomContextHeight=50,n.autoScroll=!0,n.selectedSearchResultIndex=0,n.showContextZones=!1,n.timeScrollTop=0,n.currentEntries=[],n.scrollTimerDelay=15e3,n.scrollResumeTimerId=-1,_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){var o=this;return xt(_templateObject414(),this.showContextZones?this.contextZoneDevTemplates:"",this.didScroll,this.didScroll,this.timeDisplayTemplate,this.autoScrollButtonTemplate,this.transcriptEntries.map(function(l){return o.transcriptEntryTemplate(l)}))}},{key:"scrollToSelectedSearchResult",value:function(){var o=this,l=o.selectedSearchResult;l&&(this.autoScroll=!1,this.scrollToElement(l))}},{key:"autoScrollButtonTemplate",get:function(){return xt(_templateObject415(),this.enableAutoScroll,this.autoScroll?"hidden":"")}},{key:"timeDisplayTemplate",get:function(){return xt(_templateObject416(),this.timeScrollTop,this.currentTime)}},{key:"transcriptEntryTemplate",value:function(o){var l=this.currentEntries.find(function(d){return d.id===o.id})!==void 0,a=o.searchMatchIndex===this.selectedSearchResultIndex,s=o.searchMatchIndex!==void 0,r=o.isMusic;return xt(_templateObject417(),o,a,l,s,r,o.searchMatchIndex,o.id,this.transcriptEntrySelected)}},{key:"contextZoneDevTemplates",get:function(){return xt(_templateObject418(),this.topContextZoneDevTemplate,this.bottomContextZoneDevTemplate)}},{key:"topContextZoneDevTemplate",get:function(){return xt(_templateObject419(),this.topContextHeight)}},{key:"bottomContextZoneDevTemplate",get:function(){return xt(_templateObject420(),this.bottomContextHeight)}},{key:"transcriptEntries",get:function(){return this.config?this.config.entries:[]}},{key:"transcriptEntrySelected",value:function(o){var l=o.target,a=l.entry;if(a){var s=new CustomEvent("transcriptEntrySelected",{detail:{entry:a}});this.dispatchEvent(s),a.searchMatchIndex!==void 0&&(this.selectedSearchResultIndex=a.searchMatchIndex),this.autoScroll=!1}}},{key:"handleCurrentTimeChange",value:function(){var o=this,l=this.transcriptEntries;if(l.length!==0){var a=l.filter(function(s){return o.currentTime>=s.start&&o.currentTime<=s.end});this.entryArraysMatch(a,this.currentEntries)||(this.dispatchEvent(new Event("currentEntriesUpdated")),this.currentEntries=a)}}},{key:"entryArraysMatch",value:function(o,l){if(o.length!==l.length)return!1;var a=o.map(function(d){return d.id}).sort(),s=l.map(function(d){return d.id}).sort(),r=!0;return a.forEach(function(d,c){s[c]!==d&&(r=!1)}),!!r}},{key:"entryIdentifierClosestToTime",value:function(o){if(this.transcriptEntries.length===0)return null;var l=this.transcriptEntries[0],a=Math.abs(o-l.start),s=l.id;return this.transcriptEntries.forEach(function(r){var d=Math.abs(o-r.start);d<a&&(a=d,s=r.id)}),s}},{key:"elementClosestToTime",value:function(o){var l=this.entryIdentifierClosestToTime(o);return l?this.elementForIdentifier(l):null}},{key:"elementForIdentifier",value:function(o){return this.shadowRoot&&this.shadowRoot.querySelector('transcript-entry[data-identifier="'.concat(o,'"]'))}},{key:"didScroll",value:function(){var o=this;this.autoScroll=!1,window.clearTimeout(this.scrollResumeTimerId),this.scrollResumeTimerId=window.setTimeout(function(){o.autoScroll=!0},this.scrollTimerDelay)}},{key:"enableAutoScroll",value:function(){this.autoScroll=!0,this.scrollToClosestEntry()}},{key:"updated",value:function(o){o.has("currentTime")&&this.handleCurrentTimeChange(),o.has("selectedSearchResultIndex")&&this.scrollToSelectedSearchResult(),o.has("currentEntries")&&(this.scrollToClosestEntry(),this.updateTimePosition()),o.has("autoScroll")&&this.handleAutoScrollChange(),o.has("config")&&(this.selectedSearchResultIndex=0,this.scrollToSelectedSearchResult())}},{key:"scrollView",get:function(){return this.shadowRoot&&this.shadowRoot.getElementById("scroll-container")}},{key:"activeTranscriptEntry",get:function(){return this.shadowRoot&&this.shadowRoot.querySelector("transcript-entry[isActive]")}},{key:"selectedSearchResult",get:function(){return this.shadowRoot&&this.shadowRoot.querySelector('transcript-entry[data-search-result-index="'.concat(this.selectedSearchResultIndex,'"]'))}},{key:"closestEntryToCurrentTime",get:function(){return this.activeTranscriptEntry||this.elementClosestToTime(this.currentTime)}},{key:"handleAutoScrollChange",value:function(){var o=new CustomEvent("autoScrollChanged",{detail:{autoScroll:this.autoScroll}});this.dispatchEvent(o)}},{key:"scrollToClosestEntry",value:function(){if(this.autoScroll){var o=this.closestEntryToCurrentTime;o&&this.scrollToElement(o)}}},{key:"scrollToElement",value:function(o){var l=this,a=l.scrollView;if(a){var s=a.getBoundingClientRect(),r=o.getBoundingClientRect(),d=s.height,c=this,h=c.topContextHeight,f=this,v=f.bottomContextHeight,b=d-v;if(r.bottom>s.top+b||r.top<s.top){var w=r.top-s.top+a.scrollTop-h;this.scrollToOffsetWithDuration(w,1)}}}},{key:"updateTimePosition",value:function(){var o=this.closestEntryToCurrentTime;if(o){var l=o.parentNode.getBoundingClientRect(),a=o.getBoundingClientRect().top-l.top;this.timeScrollTop=a}}},{key:"scrollToOffsetWithDuration",value:function(o,l,a){var s=function(E){return E<.5?2*E*E:-1+(4-2*E)*E},r=this,d=r.scrollView;if(!d)return;var c=d.scrollTop,h=o-c,f=performance.now(),v,b,w;function k(){d&&(v=performance.now(),b=(v-f)/1e3,w=b/l,d.scrollTop=c+h*s(w),w<1?window.requestAnimationFrame(k):a&&a())}k()}}],[{key:"styles",get:function(){var o=Ut(_templateObject421()),l=Ut(_templateObject422()),a=Ut(_templateObject423()),s=Ut(_templateObject424()),r=Ut(_templateObject425()),d=Ut(_templateObject426()),c=Ut(_templateObject427()),h=Ut(_templateObject428()),f=Ut(_templateObject429()),v=Ut(_templateObject430()),b=Ut(_templateObject431()),w=Ut(_templateObject432()),k=Ut(_templateObject433()),C=Ut(_templateObject434()),E=Ut(_templateObject435()),A=Ut(_templateObject436()),j=Ut(_templateObject437()),y=Ut(_templateObject438());return Ut(_templateObject439(),b,f,c,h,v,d,r,s,l,a,o,k,C,A,E,w,j,y)}}]),e}(er),Fo([on({type:Tf})],Io.prototype,"config",void 0),Fo([on({type:Number})],Io.prototype,"currentTime",void 0),Fo([on({type:Number})],Io.prototype,"topContextHeight",void 0),Fo([on({type:Number})],Io.prototype,"bottomContextHeight",void 0),Fo([on({type:Boolean})],Io.prototype,"autoScroll",void 0),Fo([on({type:Number})],Io.prototype,"selectedSearchResultIndex",void 0),Fo([on({type:Boolean})],Io.prototype,"showContextZones",void 0),Fo([on({type:Number})],Io.prototype,"timeScrollTop",void 0),Fo([on({type:Array})],Io.prototype,"currentEntries",void 0),Io=Fo([Qr("transcript-view")],Io),eb=function(){"use strict";function g(t,e,n,o,l,a){_classCallCheck(this,g),this.id=t,this.start=e,this.end=n,this.rawText=o,this.isMusic=l,this.searchMatchIndex=a}return _createClass(g,[{key:"displayText",get:function(){return this.isMusic?"[Transcript unavailable]":this.rawText}}]),g}()}}),TO=Ht({"https-url:https://esm.archive.org/@internetarchive/transcript-view":function(){xn(),Wr(),yI()}}),bI=Ht({"https-url:https://av.dev.archive.org/js/play/transcript-viewer.js":function(){Eu(),TO(),Q0(),hl(),customElements.define("transcript-viewer",function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return this.tracks_with_captions?ri(_templateObject443(),this.transcriptConfig?"":"dimmed",this.transcript_toggled,this.bgTheme==="light"?"light":"",this.kind,this.is_open?"margin-top:-12px":"",this.is_open?"\uFE3F":"\uFE40",this.is_open?ri(_templateObject441()):ri(_templateObject442()),this.transcriptConfig&&this.is_open?"":"not-showing",this.transcriptConfig,this.currentTime,this.transcriptEntrySelected):ri(_templateObject440())}},{key:"transcript_toggled",value:function(){this.transcriptConfig&&(this.is_open=!this.is_open,this.is_open&&globalThis.archive_analytics&&globalThis.archive_analytics.send_event("DetailsPage-MusicPlayer","LyricsButton-Clicked",window.location.pathname))}},{key:"updated",value:function(o){if(qn("<transcript-viewer> updated()",o),o.has("trackno")&&this.update_transcript_view(),!this.tracking_time){var l=document.querySelector("video");if(l){var a=this;this.tracking_time=!0,l.addEventListener("timeupdate",function(){var s;a.currentTime=l.currentTime;var r=(s=a.shadowRoot)==null?void 0:s.querySelector("transcript-view");if(r&&(r.currentTime=a.currentTime,!a.transcript_view_tweaked)){var d=r.shadowRoot.querySelectorAll("transcript-entry");if(d.length){if(a.transcript_view_tweaked=!0,a.kind==="Lyrics (AI)"){var c=function(){return d.forEach(function(f){return f.style.display="block"})};c(),setTimeout(c,1e3)}var h=r.shadowRoot.querySelector(".col.time");h&&(h.style.top="3px")}}})}}}},{key:"transcriptEntrySelected",value:function(o){var l=o.detail||{},a=l.entry||{};if(a.start){var s=a.start;this.currentTime=s;var r=document.querySelector("video");qn({player:r}),r&&(r.currentTime=this.currentTime,r.play())}}},{key:"update_transcript_view",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function o(){var l,a,s,r,d,c,h,f,v,b,w,k,C,E,A,j,y;return _regeneratorRuntime.default.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(delete this.transcript_view_tweaked,l=this.captions[this.trackno],l){p.next=5;break}return this.transcriptConfig=null,p.abrupt("return");case 5:if(this.transcriptConfigCache[this.trackno]){p.next=46;break}return a=l.replace(/^\/download\//,"https://archive.org/cors/"),qn({srtUrl:a}),p.next=10,fetch(a);case 10:return s=p.sent,p.next=13,s.text();case 13:r=p.sent,d=[],c=0,h=!0,f=!1,v=void 0,p.prev=17,b=r.split("\n\n")[Symbol.iterator]();case 19:if(h=(w=b.next()).done){p.next=29;break}if(k=w.value,c+=1,C=_slicedToArray(k.match(/^[0-9]+\n([^ ]+) --> ([^ ]+)\n([\s\S]*)/m)||["",0,0,""],4),E=C[1],A=C[2],j=C[3],A){p.next=25;break}return p.abrupt("continue",26);case 25:d.push({id:c,start:gp(E,!0),end:gp(A,!0),text:j,is_music:!1});case 26:h=!0,p.next=19;break;case 29:p.next=35;break;case 31:p.prev=31,p.t0=p.catch(17),f=!0,v=p.t0;case 35:p.prev=35,p.prev=36,!h&&b.return!=null&&b.return();case 38:if(p.prev=38,!f){p.next=41;break}throw v;case 41:return p.finish(38);case 42:return p.finish(35);case 43:qn({json:d}),y=d.map(function(m){return new eb(m.id,m.start,m.end,m.text,m.is_music,m.search_match_index)}),this.transcriptConfigCache[this.trackno]=new Tf(y);case 46:this.transcriptConfig=this.transcriptConfigCache[this.trackno];case 47:case"end":return p.stop()}},o,this,[[17,31,35,43],[36,,38,42]])}))}},{key:"firstUpdated",value:function(){var o,l;qn("<transcript-viewer> firstUpdated()"),this.currentTime=0;var a="Lyrics";this.kind=a,this.captions=[],this.transcriptConfigCache=[];var s=!0,r=!1,d=void 0;try{for(var c=Object.entries(JSON.parse(this.playlist))[Symbol.iterator](),h;!(s=(h=c.next()).done);s=!0){var f=_slicedToArray(h.value,2),v=f[0],b=f[1];if(b.tracks){var w={},k=!0,C=!1,E=void 0;try{for(var A=b.tracks[Symbol.iterator](),j;!(k=(j=A.next()).done);k=!0){var y=j.value;y.kind==="subtitles"&&((o=y.file)!=null&&o.endsWith(".srt"))&&(w[(l=y.label)!=null?l:"none"]=y.file)}}catch(u){C=!0,E=u}finally{try{!k&&A.return!=null&&A.return()}finally{if(C)throw E}}this.captions[v]=w.align||w.cc5||w.en||w.asr||w.none,(this.captions[v]===w.align||this.captions[v]===w.asr)&&(this.kind="".concat(a," (AI)"))}}}catch(u){r=!0,d=u}finally{try{!s&&c.return!=null&&c.return()}finally{if(r)throw d}}qn(this.captions),this.tracks_with_captions=Object.values(this.captions).length}}],[{key:"properties",get:function(){return{transcriptConfig:Object,is_open:Boolean,playlist:Object,trackno:Number,bgTheme:String}}},{key:"styles",get:function(){var o=185,l=5,a=1;return sc(_templateObject444(),si(o),si(l),si(a),si(o+2*a+2*l))}}]),e}(zo))}}),PO,tb,fl,IO=Ht({"https-url:https://esm.archive.org/v135/colorthief@2.4.0/esnext/dist/color-thief.js":function(){if(!g)var g={map:function(e,n){var o={};return n?e.map(function(l,a){return o.index=a,n.call(o,l)}):e.slice()},naturalOrder:function(e,n){return e<n?-1:e>n?1:0},sum:function(e,n){var o={};return e.reduce(n?function(l,a,s){return o.index=s,l+n.call(o,a)}:function(l,a){return l+a},0)},max:function(e,n){return Math.max.apply(null,n?g.map(e,n):e)}};PO=function(){var t=function(c,h,f){return(c<<2*a)+(h<<a)+f},e=function(c){var h=[],f=!1;function v(){h.sort(c),f=!0}return{push:function(w){h.push(w),f=!1},peek:function(w){return f||v(),w===void 0&&(w=h.length-1),h[w]},pop:function(){return f||v(),h.pop()},size:function(){return h.length},map:function(w){return h.map(w)},debug:function(){return f||v(),h}}},n=function(c,h,f,v,b,w,k){var C=this;C.r1=c,C.r2=h,C.g1=f,C.g2=v,C.b1=b,C.b2=w,C.histo=k},o=function(){this.vboxes=new e(function(c,h){return g.naturalOrder(c.vbox.count()*c.vbox.volume(),h.vbox.count()*h.vbox.volume())})},l=function(c,h){if(h.count()){var f=h.r2-h.r1+1,v=h.g2-h.g1+1,b=g.max([f,v,h.b2-h.b1+1]);if(h.count()==1)return[h.copy()];var w,k,C,E,A=0,j=[],y=[];if(b==f)for(w=h.r1;w<=h.r2;w++){for(E=0,k=h.g1;k<=h.g2;k++)for(C=h.b1;C<=h.b2;C++)E+=c[t(w,k,C)]||0;j[w]=A+=E}else if(b==v)for(w=h.g1;w<=h.g2;w++){for(E=0,k=h.r1;k<=h.r2;k++)for(C=h.b1;C<=h.b2;C++)E+=c[t(k,w,C)]||0;j[w]=A+=E}else for(w=h.b1;w<=h.b2;w++){for(E=0,k=h.r1;k<=h.r2;k++)for(C=h.g1;C<=h.g2;C++)E+=c[t(k,C,w)]||0;j[w]=A+=E}return j.forEach(function(u,p){y[p]=A-u}),function(u){var p,m,_,x,O,I=u+"1",P=u+"2",D=0;for(w=h[I];w<=h[P];w++)if(j[w]>A/2){for(_=h.copy(),x=h.copy(),O=(p=w-h[I])<=(m=h[P]-w)?Math.min(h[P]-1,~~(w+m/2)):Math.max(h[I],~~(w-1-p/2));!j[O];)O++;for(D=y[O];!D&&j[O-1];)D=y[--O];return _[P]=O,x[I]=_[P]+1,[_,x]}}(b==f?"r":b==v?"g":"b")}},a=5,s=8-a,r=1e3;return n.prototype={volume:function(c){var h=this;return h._volume&&!c||(h._volume=(h.r2-h.r1+1)*(h.g2-h.g1+1)*(h.b2-h.b1+1)),h._volume},count:function(c){var h=this,f=h.histo;if(!h._count_set||c){var v,b,w,k=0;for(v=h.r1;v<=h.r2;v++)for(b=h.g1;b<=h.g2;b++)for(w=h.b1;w<=h.b2;w++)k+=f[t(v,b,w)]||0;h._count=k,h._count_set=!0}return h._count},copy:function(){var c=this;return new n(c.r1,c.r2,c.g1,c.g2,c.b1,c.b2,c.histo)},avg:function(c){var h=this,f=h.histo;if(!h._avg||c){var v,b,w,k,C=0,E=1<<8-a,A=0,j=0,y=0;for(b=h.r1;b<=h.r2;b++)for(w=h.g1;w<=h.g2;w++)for(k=h.b1;k<=h.b2;k++)C+=v=f[t(b,w,k)]||0,A+=v*(b+.5)*E,j+=v*(w+.5)*E,y+=v*(k+.5)*E;h._avg=C?[~~(A/C),~~(j/C),~~(y/C)]:[~~(E*(h.r1+h.r2+1)/2),~~(E*(h.g1+h.g2+1)/2),~~(E*(h.b1+h.b2+1)/2)]}return h._avg},contains:function(c){var h=this,f=c[0]>>s;return gval=c[1]>>s,bval=c[2]>>s,f>=h.r1&&f<=h.r2&&gval>=h.g1&&gval<=h.g2&&bval>=h.b1&&bval<=h.b2}},o.prototype={push:function(c){this.vboxes.push({vbox:c,color:c.avg()})},palette:function(){return this.vboxes.map(function(c){return c.color})},size:function(){return this.vboxes.size()},map:function(c){for(var h=this.vboxes,f=0;f<h.size();f++)if(h.peek(f).vbox.contains(c))return h.peek(f).color;return this.nearest(c)},nearest:function(c){for(var h,f,v,b=this.vboxes,w=0;w<b.size();w++)((f=Math.sqrt(Math.pow(c[0]-b.peek(w).color[0],2)+Math.pow(c[1]-b.peek(w).color[1],2)+Math.pow(c[2]-b.peek(w).color[2],2)))<h||h===void 0)&&(h=f,v=b.peek(w).color);return v},forcebw:function(){var c=this.vboxes;c.sort(function(b,w){return g.naturalOrder(g.sum(b.color),g.sum(w.color))});var h=c[0].color;h[0]<5&&h[1]<5&&h[2]<5&&(c[0].color=[0,0,0]);var f=c.length-1,v=c[f].color;v[0]>251&&v[1]>251&&v[2]>251&&(c[f].color=[255,255,255])}},{quantize:function(c,h){var f=function(A,j){for(var y,u=A.size(),p=0;p<r;){if(u>=j||p++>r)return;if((y=A.pop()).count()){var m=l(v,y),_=m[0],x=m[1];if(!_)return;A.push(_),x&&(A.push(x),u++)}else A.push(y),p++}};if(!c.length||h<2||h>256)return!1;var v=function(E){var A,j=new Array(1<<3*a);return E.forEach(function(y){A=t(y[0]>>s,y[1]>>s,y[2]>>s),j[A]=(j[A]||0)+1}),j}(c);v.forEach(function(){});var b=function(E,A){var j,y,u,p=1e6,m=0,_=1e6,x=0,O=1e6,I=0;return E.forEach(function(P){(j=P[0]>>s)<p?p=j:j>m&&(m=j),(y=P[1]>>s)<_?_=y:y>x&&(x=y),(u=P[2]>>s)<O?O=u:u>I&&(I=u)}),new n(p,m,_,x,O,I,A)}(c,v),w=new e(function(E,A){return g.naturalOrder(E.count(),A.count())});w.push(b),f(w,.75*h);for(var k=new e(function(E,A){return g.naturalOrder(E.count()*E.volume(),A.count()*A.volume())});w.size();)k.push(w.pop());f(k,h);for(var C=new o;k.size();)C.push(k.pop());return C}}}().quantize,tb=function(e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=e.naturalWidth,this.height=this.canvas.height=e.naturalHeight,this.context.drawImage(e,0,0,this.width,this.height)},tb.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)},fl=function(){},fl.prototype.getColor=function(t,e){return e===void 0&&(e=10),this.getPalette(t,5,e)[0]},fl.prototype.getPalette=function(t,e,n){var o=function(r){var d=r.colorCount,c=r.quality;if(d!==void 0&&Number.isInteger(d)){if(d===1)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");d=Math.max(d,2),d=Math.min(d,20)}else d=10;return(c===void 0||!Number.isInteger(c)||c<1)&&(c=10),{colorCount:d,quality:c}}({colorCount:e,quality:n}),l=new tb(t),a=function(r,d,c){for(var h,f,v,b,w,k=r,C=[],E=0;E<d;E+=c)f=k[0+(h=4*E)],v=k[h+1],b=k[h+2],((w=k[h+3])===void 0||w>=125)&&(f>250&&v>250&&b>250||C.push([f,v,b]));return C}(l.getImageData().data,l.width*l.height,o.quality),s=PO(a,o.colorCount);return s?s.palette():null},fl.prototype.getColorFromUrl=function(t,e,n){var o=this,l=document.createElement("img");l.addEventListener("load",function(){var a=o.getPalette(l,5,n);e(a[0],t)}),l.src=t},fl.prototype.getImageData=function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){if(this.status==200){var o=new Uint8Array(this.response);i=o.length;for(var l=new Array(i),a=0;a<o.length;a++)l[a]=String.fromCharCode(o[a]);var s=l.join(""),r=window.btoa(s);e("data:image/png;base64,"+r)}},n.send()},fl.prototype.getColorAsync=function(t,e,n){var o=this;this.getImageData(t,function(l){var a=document.createElement("img");a.addEventListener("load",function(){var s=o.getPalette(a,5,n);e(s[0],this)}),a.src=l})}}}),nb={};wi(nb,{default:function(){return fl}});var MO=Ht({"https-url:https://esm.archive.org/colorthief/dist/color-thief.mjs":function(){IO(),IO()}}),LO={};wi(LO,{aliceblue:function(){return sb},antiquewhite:function(){return lb},aqua:function(){return ub},aquamarine:function(){return cb},azure:function(){return db},beige:function(){return hb},bisque:function(){return fb},black:function(){return pb},blanchedalmond:function(){return vb},blue:function(){return mb},blueviolet:function(){return gb},brown:function(){return yb},burlywood:function(){return bb},cadetblue:function(){return wb},chartreuse:function(){return _b},chocolate:function(){return kb},coral:function(){return xb},cornflowerblue:function(){return Sb},cornsilk:function(){return Cb},crimson:function(){return Ab},cyan:function(){return Ob},darkblue:function(){return jb},darkcyan:function(){return Eb},darkgoldenrod:function(){return Tb},darkgray:function(){return Pb},darkgreen:function(){return Ib},darkgrey:function(){return Mb},darkkhaki:function(){return Lb},darkmagenta:function(){return Rb},darkolivegreen:function(){return Db},darkorange:function(){return $b},darkorchid:function(){return Nb},darkred:function(){return Bb},darksalmon:function(){return zb},darkseagreen:function(){return Fb},darkslateblue:function(){return Hb},darkslategray:function(){return Ub},darkslategrey:function(){return Vb},darkturquoise:function(){return Wb},darkviolet:function(){return qb},deeppink:function(){return Gb},deepskyblue:function(){return Yb},default:function(){return Y_},dimgray:function(){return Xb},dimgrey:function(){return Kb},dodgerblue:function(){return Qb},firebrick:function(){return Jb},floralwhite:function(){return Zb},forestgreen:function(){return ew},fuchsia:function(){return tw},gainsboro:function(){return nw},ghostwhite:function(){return rw},gold:function(){return iw},goldenrod:function(){return ow},gray:function(){return aw},green:function(){return sw},greenyellow:function(){return lw},grey:function(){return uw},honeydew:function(){return cw},hotpink:function(){return dw},indianred:function(){return hw},indigo:function(){return fw},ivory:function(){return pw},khaki:function(){return vw},lavender:function(){return mw},lavenderblush:function(){return gw},lawngreen:function(){return yw},lemonchiffon:function(){return bw},lightblue:function(){return ww},lightcoral:function(){return _w},lightcyan:function(){return kw},lightgoldenrodyellow:function(){return xw},lightgray:function(){return Sw},lightgreen:function(){return Cw},lightgrey:function(){return Aw},lightpink:function(){return Ow},lightsalmon:function(){return jw},lightseagreen:function(){return Ew},lightskyblue:function(){return Tw},lightslategray:function(){return Pw},lightslategrey:function(){return Iw},lightsteelblue:function(){return Mw},lightyellow:function(){return Lw},lime:function(){return Rw},limegreen:function(){return Dw},linen:function(){return $w},magenta:function(){return Nw},maroon:function(){return Bw},mediumaquamarine:function(){return zw},mediumblue:function(){return Fw},mediumorchid:function(){return Hw},mediumpurple:function(){return Uw},mediumseagreen:function(){return Vw},mediumslateblue:function(){return Ww},mediumspringgreen:function(){return qw},mediumturquoise:function(){return Gw},mediumvioletred:function(){return Yw},midnightblue:function(){return Xw},mintcream:function(){return Kw},mistyrose:function(){return Qw},moccasin:function(){return Jw},navajowhite:function(){return Zw},navy:function(){return e_},oldlace:function(){return t_},olive:function(){return n_},olivedrab:function(){return r_},orange:function(){return i_},orangered:function(){return o_},orchid:function(){return a_},palegoldenrod:function(){return s_},palegreen:function(){return l_},paleturquoise:function(){return u_},palevioletred:function(){return c_},papayawhip:function(){return d_},peachpuff:function(){return h_},peru:function(){return f_},pink:function(){return p_},plum:function(){return v_},powderblue:function(){return m_},purple:function(){return g_},rebeccapurple:function(){return y_},red:function(){return b_},rosybrown:function(){return w_},royalblue:function(){return __},saddlebrown:function(){return k_},salmon:function(){return x_},sandybrown:function(){return S_},seagreen:function(){return C_},seashell:function(){return A_},sienna:function(){return O_},silver:function(){return j_},skyblue:function(){return E_},slateblue:function(){return T_},slategray:function(){return P_},slategrey:function(){return I_},snow:function(){return M_},springgreen:function(){return L_},steelblue:function(){return R_},tan:function(){return D_},teal:function(){return $_},thistle:function(){return N_},tomato:function(){return B_},turquoise:function(){return z_},violet:function(){return F_},wheat:function(){return H_},white:function(){return U_},whitesmoke:function(){return V_},yellow:function(){return W_},yellowgreen:function(){return q_}});var RO,Pf,DO,$O,NO,BO,zO,FO,If,HO,rb,ib,ob,ab,sb,lb,ub,cb,db,hb,fb,pb,vb,mb,gb,yb,bb,wb,_b,kb,xb,Sb,Cb,Ab,Ob,jb,Eb,Tb,Pb,Ib,Mb,Lb,Rb,Db,$b,Nb,Bb,zb,Fb,Hb,Ub,Vb,Wb,qb,Gb,Yb,Xb,Kb,Qb,Jb,Zb,ew,tw,nw,rw,iw,ow,aw,sw,lw,uw,cw,dw,hw,fw,pw,vw,mw,gw,yw,bw,ww,_w,kw,xw,Sw,Cw,Aw,Ow,jw,Ew,Tw,Pw,Iw,Mw,Lw,Rw,Dw,$w,Nw,Bw,zw,Fw,Hw,Uw,Vw,Ww,qw,Gw,Yw,Xw,Kw,Qw,Jw,Zw,e_,t_,n_,r_,i_,o_,a_,s_,l_,u_,c_,d_,h_,f_,p_,v_,m_,g_,y_,b_,w_,__,k_,x_,S_,C_,A_,O_,j_,E_,T_,P_,I_,M_,L_,R_,D_,$_,N_,B_,z_,F_,H_,U_,V_,W_,q_,tr,G_,UO,Y_,VO=Ht({"https-url:https://esm.archive.org/v135/color-name@1.1.4/esnext/color-name.mjs":function(){RO=Object.create,Pf=Object.defineProperty,DO=Object.getOwnPropertyDescriptor,$O=Object.getOwnPropertyNames,NO=Object.getPrototypeOf,BO=Object.prototype.hasOwnProperty,zO=function(e,n){return function(){return n||e((n={exports:{}}).exports,n),n.exports}},FO=function(e,n){for(var o in n)Pf(e,o,{get:n[o],enumerable:!0})},If=function(e,n,o,l){var a=!0,s=!1,r=void 0;if(n&&typeof n=="object"||typeof n=="function")try{for(var d=function(f,v){var b=v.value;!BO.call(e,b)&&b!==o&&Pf(e,b,{get:function(){return n[b]},enumerable:!(l=DO(n,b))||l.enumerable})},c=$O(n)[Symbol.iterator](),h;!(a=(h=c.next()).done);a=!0)d(c,h)}catch(f){s=!0,r=f}finally{try{!a&&c.return!=null&&c.return()}finally{if(s)throw r}}return e},HO=function(e,n,o){return If(e,n,"default"),o&&If(o,n,"default")},rb=function(e,n,o){return o=e!=null?RO(NO(e)):{},If(n||!e||!e.__esModule?Pf(o,"default",{value:e,enumerable:!0}):o,e)},ib=zO(function(e,n){"use strict";n.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}),ob={},FO(ob,{aliceblue:function(){return sb},antiquewhite:function(){return lb},aqua:function(){return ub},aquamarine:function(){return cb},azure:function(){return db},beige:function(){return hb},bisque:function(){return fb},black:function(){return pb},blanchedalmond:function(){return vb},blue:function(){return mb},blueviolet:function(){return gb},brown:function(){return yb},burlywood:function(){return bb},cadetblue:function(){return wb},chartreuse:function(){return _b},chocolate:function(){return kb},coral:function(){return xb},cornflowerblue:function(){return Sb},cornsilk:function(){return Cb},crimson:function(){return Ab},cyan:function(){return Ob},darkblue:function(){return jb},darkcyan:function(){return Eb},darkgoldenrod:function(){return Tb},darkgray:function(){return Pb},darkgreen:function(){return Ib},darkgrey:function(){return Mb},darkkhaki:function(){return Lb},darkmagenta:function(){return Rb},darkolivegreen:function(){return Db},darkorange:function(){return $b},darkorchid:function(){return Nb},darkred:function(){return Bb},darksalmon:function(){return zb},darkseagreen:function(){return Fb},darkslateblue:function(){return Hb},darkslategray:function(){return Ub},darkslategrey:function(){return Vb},darkturquoise:function(){return Wb},darkviolet:function(){return qb},deeppink:function(){return Gb},deepskyblue:function(){return Yb},default:function(){return Y_},dimgray:function(){return Xb},dimgrey:function(){return Kb},dodgerblue:function(){return Qb},firebrick:function(){return Jb},floralwhite:function(){return Zb},forestgreen:function(){return ew},fuchsia:function(){return tw},gainsboro:function(){return nw},ghostwhite:function(){return rw},gold:function(){return iw},goldenrod:function(){return ow},gray:function(){return aw},green:function(){return sw},greenyellow:function(){return lw},grey:function(){return uw},honeydew:function(){return cw},hotpink:function(){return dw},indianred:function(){return hw},indigo:function(){return fw},ivory:function(){return pw},khaki:function(){return vw},lavender:function(){return mw},lavenderblush:function(){return gw},lawngreen:function(){return yw},lemonchiffon:function(){return bw},lightblue:function(){return ww},lightcoral:function(){return _w},lightcyan:function(){return kw},lightgoldenrodyellow:function(){return xw},lightgray:function(){return Sw},lightgreen:function(){return Cw},lightgrey:function(){return Aw},lightpink:function(){return Ow},lightsalmon:function(){return jw},lightseagreen:function(){return Ew},lightskyblue:function(){return Tw},lightslategray:function(){return Pw},lightslategrey:function(){return Iw},lightsteelblue:function(){return Mw},lightyellow:function(){return Lw},lime:function(){return Rw},limegreen:function(){return Dw},linen:function(){return $w},magenta:function(){return Nw},maroon:function(){return Bw},mediumaquamarine:function(){return zw},mediumblue:function(){return Fw},mediumorchid:function(){return Hw},mediumpurple:function(){return Uw},mediumseagreen:function(){return Vw},mediumslateblue:function(){return Ww},mediumspringgreen:function(){return qw},mediumturquoise:function(){return Gw},mediumvioletred:function(){return Yw},midnightblue:function(){return Xw},mintcream:function(){return Kw},mistyrose:function(){return Qw},moccasin:function(){return Jw},navajowhite:function(){return Zw},navy:function(){return e_},oldlace:function(){return t_},olive:function(){return n_},olivedrab:function(){return r_},orange:function(){return i_},orangered:function(){return o_},orchid:function(){return a_},palegoldenrod:function(){return s_},palegreen:function(){return l_},paleturquoise:function(){return u_},palevioletred:function(){return c_},papayawhip:function(){return d_},peachpuff:function(){return h_},peru:function(){return f_},pink:function(){return p_},plum:function(){return v_},powderblue:function(){return m_},purple:function(){return g_},rebeccapurple:function(){return y_},red:function(){return b_},rosybrown:function(){return w_},royalblue:function(){return __},saddlebrown:function(){return k_},salmon:function(){return x_},sandybrown:function(){return S_},seagreen:function(){return C_},seashell:function(){return A_},sienna:function(){return O_},silver:function(){return j_},skyblue:function(){return E_},slateblue:function(){return T_},slategray:function(){return P_},slategrey:function(){return I_},snow:function(){return M_},springgreen:function(){return L_},steelblue:function(){return R_},tan:function(){return D_},teal:function(){return $_},thistle:function(){return N_},tomato:function(){return B_},turquoise:function(){return z_},violet:function(){return F_},wheat:function(){return H_},white:function(){return U_},whitesmoke:function(){return V_},yellow:function(){return W_},yellowgreen:function(){return q_}}),ab=rb(ib()),HO(ob,rb(ib()));var g;g=ab,sb=g.aliceblue,lb=g.antiquewhite,ub=g.aqua,cb=g.aquamarine,db=g.azure,hb=g.beige,fb=g.bisque,pb=g.black,vb=g.blanchedalmond,mb=g.blue,gb=g.blueviolet,yb=g.brown,bb=g.burlywood,wb=g.cadetblue,_b=g.chartreuse,kb=g.chocolate,xb=g.coral,Sb=g.cornflowerblue,Cb=g.cornsilk,Ab=g.crimson,Ob=g.cyan,jb=g.darkblue,Eb=g.darkcyan,Tb=g.darkgoldenrod,Pb=g.darkgray,Ib=g.darkgreen,Mb=g.darkgrey,Lb=g.darkkhaki,Rb=g.darkmagenta,Db=g.darkolivegreen,$b=g.darkorange,Nb=g.darkorchid,Bb=g.darkred,zb=g.darksalmon,Fb=g.darkseagreen,Hb=g.darkslateblue,Ub=g.darkslategray,Vb=g.darkslategrey,Wb=g.darkturquoise,qb=g.darkviolet,Gb=g.deeppink,Yb=g.deepskyblue,Xb=g.dimgray,Kb=g.dimgrey,Qb=g.dodgerblue,Jb=g.firebrick,Zb=g.floralwhite,ew=g.forestgreen,tw=g.fuchsia,nw=g.gainsboro,rw=g.ghostwhite,iw=g.gold,ow=g.goldenrod,aw=g.gray,sw=g.green,lw=g.greenyellow,uw=g.grey,cw=g.honeydew,dw=g.hotpink,hw=g.indianred,fw=g.indigo,pw=g.ivory,vw=g.khaki,mw=g.lavender,gw=g.lavenderblush,yw=g.lawngreen,bw=g.lemonchiffon,ww=g.lightblue,_w=g.lightcoral,kw=g.lightcyan,xw=g.lightgoldenrodyellow,Sw=g.lightgray,Cw=g.lightgreen,Aw=g.lightgrey,Ow=g.lightpink,jw=g.lightsalmon,Ew=g.lightseagreen,Tw=g.lightskyblue,Pw=g.lightslategray,Iw=g.lightslategrey,Mw=g.lightsteelblue,Lw=g.lightyellow,Rw=g.lime,Dw=g.limegreen,$w=g.linen,Nw=g.magenta,Bw=g.maroon,zw=g.mediumaquamarine,Fw=g.mediumblue,Hw=g.mediumorchid,Uw=g.mediumpurple,Vw=g.mediumseagreen,Ww=g.mediumslateblue,qw=g.mediumspringgreen,Gw=g.mediumturquoise,Yw=g.mediumvioletred,Xw=g.midnightblue,Kw=g.mintcream,Qw=g.mistyrose,Jw=g.moccasin,Zw=g.navajowhite,e_=g.navy,t_=g.oldlace,n_=g.olive,r_=g.olivedrab,i_=g.orange,o_=g.orangered,a_=g.orchid,s_=g.palegoldenrod,l_=g.palegreen,u_=g.paleturquoise,c_=g.palevioletred,d_=g.papayawhip,h_=g.peachpuff,f_=g.peru,p_=g.pink,v_=g.plum,m_=g.powderblue,g_=g.purple,y_=g.rebeccapurple,b_=g.red,w_=g.rosybrown,__=g.royalblue,k_=g.saddlebrown,x_=g.salmon,S_=g.sandybrown,C_=g.seagreen,A_=g.seashell,O_=g.sienna,j_=g.silver,E_=g.skyblue,T_=g.slateblue,P_=g.slategray,I_=g.slategrey,M_=g.snow,L_=g.springgreen,R_=g.steelblue,D_=g.tan,$_=g.teal,N_=g.thistle,B_=g.tomato,z_=g.turquoise,F_=g.violet,H_=g.wheat,U_=g.white,V_=g.whitesmoke,W_=g.yellow,q_=g.yellowgreen;var t;tr=ab,t=tr,G_=t.default,UO=Bi(tr,["default"]),Y_=G_!==void 0?G_:UO}}),ea,WO,Mf,qO,GO,YO,XO,KO,Lf,QO,Rf,JO,X_,K_,ZO,Q_,J_,ej,tr,Z_,tj,ek,nj=Ht({"https-url:https://esm.archive.org/v135/color-convert@2.0.1/esnext/color-convert.mjs":function(){VO(),ea=function(t){var e=function(o){return _typeof(o.default)<"u"?o.default:o},n=function(o){return Object.assign({},o)};switch(t){case"color-name":return e(LO);default:throw new Error('module "'+t+'" not found')}},WO=Object.create,Mf=Object.defineProperty,qO=Object.getOwnPropertyDescriptor,GO=Object.getOwnPropertyNames,YO=Object.getPrototypeOf,XO=Object.prototype.hasOwnProperty,KO=function(t){return(typeof ea=="undefined"?"undefined":_typeof(ea))<"u"?ea:(typeof Proxy=="undefined"?"undefined":_typeof(Proxy))<"u"?new Proxy(t,{get:function(e,n){return((typeof ea=="undefined"?"undefined":_typeof(ea))<"u"?ea:e)[n]}}):t}(function(t){if((typeof ea=="undefined"?"undefined":_typeof(ea))<"u")return ea.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')}),Lf=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},QO=function(t,e){for(var n in e)Mf(t,n,{get:e[n],enumerable:!0})},Rf=function(t,e,n,o){var l=!0,a=!1,s=void 0;if(e&&typeof e=="object"||typeof e=="function")try{for(var r=function(h,f){var v=f.value;!XO.call(t,v)&&v!==n&&Mf(t,v,{get:function(){return e[v]},enumerable:!(o=qO(e,v))||o.enumerable})},d=GO(e)[Symbol.iterator](),c;!(l=(c=d.next()).done);l=!0)r(d,c)}catch(h){a=!0,s=h}finally{try{!l&&d.return!=null&&d.return()}finally{if(a)throw s}}return t},JO=function(t,e,n){return Rf(t,e,"default"),n&&Rf(n,e,"default")},X_=function(t,e,n){return n=t!=null?WO(YO(t)):{},Rf(e||!t||!t.__esModule?Mf(n,"default",{value:t,enumerable:!0}):n,t)},K_=Lf(function(t,e){var n=function(p,m){return Ri(p[0]-m[0],2)+Ri(p[1]-m[1],2)+Ri(p[2]-m[2],2)},o=KO("color-name"),l={},a=!0,s=!1,r=void 0;try{for(var d=Object.keys(o)[Symbol.iterator](),c;!(a=(c=d.next()).done);a=!0){var h=c.value;l[o[h]]=h}}catch(u){s=!0,r=u}finally{try{!a&&d.return!=null&&d.return()}finally{if(s)throw r}}var f={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};e.exports=f;var v=!0,b=!1,w=void 0;try{for(var k=Object.keys(f)[Symbol.iterator](),C;!(v=(C=k.next()).done);v=!0){var E=C.value;if(!("channels"in f[E]))throw new Error("missing channels property: "+E);if(!("labels"in f[E]))throw new Error("missing channel labels property: "+E);if(f[E].labels.length!==f[E].channels)throw new Error("channel and label counts mismatch: "+E);var A=f[E],j=A.channels,y=A.labels;delete f[E].channels,delete f[E].labels,Object.defineProperty(f[E],"channels",{value:j}),Object.defineProperty(f[E],"labels",{value:y})}}catch(u){b=!0,w=u}finally{try{!v&&k.return!=null&&k.return()}finally{if(b)throw w}}f.rgb.hsl=function(u){var p=u[0]/255,m=u[1]/255,_=u[2]/255,x=Math.min(p,m,_),O=Math.max(p,m,_),I=O-x,P,D;O===x?P=0:p===O?P=(m-_)/I:m===O?P=2+(_-p)/I:_===O&&(P=4+(p-m)/I),P=Math.min(P*60,360),P<0&&(P+=360);var V=(x+O)/2;return O===x?D=0:V<=.5?D=I/(O+x):D=I/(2-O-x),[P,D*100,V*100]},f.rgb.hsv=function(u){var p,m,_,x,O,I=u[0]/255,P=u[1]/255,D=u[2]/255,V=Math.max(I,P,D),q=V-Math.min(I,P,D),z=function(Y){return(V-Y)/6/q+1/2};return q===0?(x=0,O=0):(O=q/V,p=z(I),m=z(P),_=z(D),I===V?x=_-m:P===V?x=1/3+p-_:D===V&&(x=2/3+m-p),x<0?x+=1:x>1&&(x-=1)),[x*360,O*100,V*100]},f.rgb.hwb=function(u){var p=u[0],m=u[1],_=u[2],x=f.rgb.hsl(u)[0],O=1/255*Math.min(p,Math.min(m,_));return _=1-1/255*Math.max(p,Math.max(m,_)),[x,O*100,_*100]},f.rgb.cmyk=function(u){var p=u[0]/255,m=u[1]/255,_=u[2]/255,x=Math.min(1-p,1-m,1-_),O=(1-p-x)/(1-x)||0,I=(1-m-x)/(1-x)||0,P=(1-_-x)/(1-x)||0;return[O*100,I*100,P*100,x*100]},f.rgb.keyword=function(u){var p=l[u];if(p)return p;var m=1/0,_,x=!0,O=!1,I=void 0;try{for(var P=Object.keys(o)[Symbol.iterator](),D;!(x=(D=P.next()).done);x=!0){var V=D.value,q=o[V],z=n(u,q);z<m&&(m=z,_=V)}}catch(he){O=!0,I=he}finally{try{!x&&P.return!=null&&P.return()}finally{if(O)throw I}}return _},f.keyword.rgb=function(u){return o[u]},f.rgb.xyz=function(u){var p=u[0]/255,m=u[1]/255,_=u[2]/255;p=p>.04045?Ri((p+.055)/1.055,2.4):p/12.92,m=m>.04045?Ri((m+.055)/1.055,2.4):m/12.92,_=_>.04045?Ri((_+.055)/1.055,2.4):_/12.92;var x=p*.4124+m*.3576+_*.1805,O=p*.2126+m*.7152+_*.0722,I=p*.0193+m*.1192+_*.9505;return[x*100,O*100,I*100]},f.rgb.lab=function(u){var p=f.rgb.xyz(u),m=p[0],_=p[1],x=p[2];m/=95.047,_/=100,x/=108.883,m=m>.008856?Ri(m,1/3):7.787*m+16/116,_=_>.008856?Ri(_,1/3):7.787*_+16/116,x=x>.008856?Ri(x,1/3):7.787*x+16/116;var O=116*_-16,I=500*(m-_),P=200*(_-x);return[O,I,P]},f.hsl.rgb=function(u){var p=u[0]/360,m=u[1]/100,_=u[2]/100,x,O,I;if(m===0)return I=_*255,[I,I,I];_<.5?x=_*(1+m):x=_+m-_*m;for(var P=2*_-x,D=[0,0,0],V=0;V<3;V++)O=p+1/3*-(V-1),O<0&&O++,O>1&&O--,6*O<1?I=P+(x-P)*6*O:2*O<1?I=x:3*O<2?I=P+(x-P)*(2/3-O)*6:I=P,D[V]=I*255;return D},f.hsl.hsv=function(u){var p=u[0],m=u[1]/100,_=u[2]/100,x=m,O=Math.max(_,.01);_*=2,m*=_<=1?_:2-_,x*=O<=1?O:2-O;var I=(_+m)/2,P=_===0?2*x/(O+x):2*m/(_+m);return[p,P*100,I*100]},f.hsv.rgb=function(u){var p=u[0]/60,m=u[1]/100,_=u[2]/100,x=Math.floor(p)%6,O=p-Math.floor(p),I=255*_*(1-m),P=255*_*(1-m*O),D=255*_*(1-m*(1-O));switch(_*=255,x){case 0:return[_,D,I];case 1:return[P,_,I];case 2:return[I,_,D];case 3:return[I,P,_];case 4:return[D,I,_];case 5:return[_,I,P]}},f.hsv.hsl=function(u){var p=u[0],m=u[1]/100,_=u[2]/100,x=Math.max(_,.01),O,I;I=(2-m)*_;var P=(2-m)*x;return O=m*x,O/=P<=1?P:2-P,O=O||0,I/=2,[p,O*100,I*100]},f.hwb.rgb=function(u){var p=u[0]/360,m=u[1]/100,_=u[2]/100,x=m+_,O;x>1&&(m/=x,_/=x);var I=Math.floor(6*p),P=1-_;O=6*p-I,I&1&&(O=1-O);var D=m+O*(P-m),V,q,z;switch(I){default:case 6:case 0:V=P,q=D,z=m;break;case 1:V=D,q=P,z=m;break;case 2:V=m,q=P,z=D;break;case 3:V=m,q=D,z=P;break;case 4:V=D,q=m,z=P;break;case 5:V=P,q=m,z=D;break}return[V*255,q*255,z*255]},f.cmyk.rgb=function(u){var p=u[0]/100,m=u[1]/100,_=u[2]/100,x=u[3]/100,O=1-Math.min(1,p*(1-x)+x),I=1-Math.min(1,m*(1-x)+x),P=1-Math.min(1,_*(1-x)+x);return[O*255,I*255,P*255]},f.xyz.rgb=function(u){var p=u[0]/100,m=u[1]/100,_=u[2]/100,x,O,I;return x=p*3.2406+m*-1.5372+_*-.4986,O=p*-.9689+m*1.8758+_*.0415,I=p*.0557+m*-.204+_*1.057,x=x>.0031308?1.055*Ri(x,1/2.4)-.055:x*12.92,O=O>.0031308?1.055*Ri(O,1/2.4)-.055:O*12.92,I=I>.0031308?1.055*Ri(I,1/2.4)-.055:I*12.92,x=Math.min(Math.max(0,x),1),O=Math.min(Math.max(0,O),1),I=Math.min(Math.max(0,I),1),[x*255,O*255,I*255]},f.xyz.lab=function(u){var p=u[0],m=u[1],_=u[2];p/=95.047,m/=100,_/=108.883,p=p>.008856?Ri(p,1/3):7.787*p+16/116,m=m>.008856?Ri(m,1/3):7.787*m+16/116,_=_>.008856?Ri(_,1/3):7.787*_+16/116;var x=116*m-16,O=500*(p-m),I=200*(m-_);return[x,O,I]},f.lab.xyz=function(u){var p=u[0],m=u[1],_=u[2],x,O,I;O=(p+16)/116,x=m/500+O,I=O-_/200;var P=Ri(O,3),D=Ri(x,3),V=Ri(I,3);return O=P>.008856?P:(O-16/116)/7.787,x=D>.008856?D:(x-16/116)/7.787,I=V>.008856?V:(I-16/116)/7.787,x*=95.047,O*=100,I*=108.883,[x,O,I]},f.lab.lch=function(u){var p=u[0],m=u[1],_=u[2],x;x=Math.atan2(_,m)*360/2/Math.PI,x<0&&(x+=360);var O=Math.sqrt(m*m+_*_);return[p,O,x]},f.lch.lab=function(u){var p=u[0],m=u[1],_=u[2]/360*2*Math.PI,x=m*Math.cos(_),O=m*Math.sin(_);return[p,x,O]},f.rgb.ansi16=function(u){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,m=_slicedToArray(u,3),_=m[0],x=m[1],O=m[2],I=p===null?f.rgb.hsv(u)[2]:p;if(I=Math.round(I/50),I===0)return 30;var P=30+(Math.round(O/255)<<2|Math.round(x/255)<<1|Math.round(_/255));return I===2&&(P+=60),P},f.hsv.ansi16=function(u){return f.rgb.ansi16(f.hsv.rgb(u),u[2])},f.rgb.ansi256=function(u){var p=u[0],m=u[1],_=u[2];return p===m&&m===_?p<8?16:p>248?231:Math.round((p-8)/247*24)+232:16+36*Math.round(p/255*5)+6*Math.round(m/255*5)+Math.round(_/255*5)},f.ansi16.rgb=function(u){var p=u%10;if(p===0||p===7)return u>50&&(p+=3.5),p=p/10.5*255,[p,p,p];var m=(~~(u>50)+1)*.5,_=(p&1)*m*255,x=(p>>1&1)*m*255,O=(p>>2&1)*m*255;return[_,x,O]},f.ansi256.rgb=function(u){if(u>=232){var p=(u-232)*10+8;return[p,p,p]}u-=16;var m,_=Math.floor(u/36)/5*255,x=Math.floor((m=u%36)/6)/5*255,O=m%6/5*255;return[_,x,O]},f.rgb.hex=function(u){var p=(((Math.round(u[0])&255)<<16)+((Math.round(u[1])&255)<<8)+(Math.round(u[2])&255)).toString(16).toUpperCase();return"000000".substring(p.length)+p},f.hex.rgb=function(u){var p=u.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!p)return[0,0,0];var m=p[0];p[0].length===3&&(m=m.split("").map(function(P){return P+P}).join(""));var _=parseInt(m,16),x=_>>16&255,O=_>>8&255,I=_&255;return[x,O,I]},f.rgb.hcg=function(u){var p=u[0]/255,m=u[1]/255,_=u[2]/255,x=Math.max(Math.max(p,m),_),O=Math.min(Math.min(p,m),_),I=x-O,P,D;return I<1?P=O/(1-I):P=0,I<=0?D=0:x===p?D=(m-_)/I%6:x===m?D=2+(_-p)/I:D=4+(p-m)/I,D/=6,D%=1,[D*360,I*100,P*100]},f.hsl.hcg=function(u){var p=u[1]/100,m=u[2]/100,_=m<.5?2*p*m:2*p*(1-m),x=0;return _<1&&(x=(m-.5*_)/(1-_)),[u[0],_*100,x*100]},f.hsv.hcg=function(u){var p=u[1]/100,m=u[2]/100,_=p*m,x=0;return _<1&&(x=(m-_)/(1-_)),[u[0],_*100,x*100]},f.hcg.rgb=function(u){var p=u[0]/360,m=u[1]/100,_=u[2]/100;if(m===0)return[_*255,_*255,_*255];var x=[0,0,0],O=p%1*6,I=O%1,P=1-I,D=0;switch(Math.floor(O)){case 0:x[0]=1,x[1]=I,x[2]=0;break;case 1:x[0]=P,x[1]=1,x[2]=0;break;case 2:x[0]=0,x[1]=1,x[2]=I;break;case 3:x[0]=0,x[1]=P,x[2]=1;break;case 4:x[0]=I,x[1]=0,x[2]=1;break;default:x[0]=1,x[1]=0,x[2]=P}return D=(1-m)*_,[(m*x[0]+D)*255,(m*x[1]+D)*255,(m*x[2]+D)*255]},f.hcg.hsv=function(u){var p=u[1]/100,m=u[2]/100,_=p+m*(1-p),x=0;return _>0&&(x=p/_),[u[0],x*100,_*100]},f.hcg.hsl=function(u){var p=u[1]/100,m=u[2]/100*(1-p)+.5*p,_=0;return m>0&&m<.5?_=p/(2*m):m>=.5&&m<1&&(_=p/(2*(1-m))),[u[0],_*100,m*100]},f.hcg.hwb=function(u){var p=u[1]/100,m=u[2]/100,_=p+m*(1-p);return[u[0],(_-p)*100,(1-_)*100]},f.hwb.hcg=function(u){var p=u[1]/100,m=1-u[2]/100,_=m-p,x=0;return _<1&&(x=(m-_)/(1-_)),[u[0],_*100,x*100]},f.apple.rgb=function(u){return[u[0]/65535*255,u[1]/65535*255,u[2]/65535*255]},f.rgb.apple=function(u){return[u[0]/255*65535,u[1]/255*65535,u[2]/255*65535]},f.gray.rgb=function(u){return[u[0]/100*255,u[0]/100*255,u[0]/100*255]},f.gray.hsl=function(u){return[0,0,u[0]]},f.gray.hsv=f.gray.hsl,f.gray.hwb=function(u){return[0,100,u[0]]},f.gray.cmyk=function(u){return[0,0,0,u[0]]},f.gray.lab=function(u){return[u[0],0,0]},f.gray.hex=function(u){var p=Math.round(u[0]/100*255)&255,m=((p<<16)+(p<<8)+p).toString(16).toUpperCase();return"000000".substring(m.length)+m},f.rgb.gray=function(u){return[(u[0]+u[1]+u[2])/3/255*100]}}),ZO=Lf(function(t,e){var n=function(){for(var d={},c=Object.keys(s),h=c.length,f=0;f<h;f++)d[c[f]]={distance:-1,parent:null};return d},o=function(d){var c=n(),h=[d];for(c[d].distance=0;h.length;)for(var f=h.pop(),v=Object.keys(s[f]),b=v.length,w=0;w<b;w++){var k=v[w],C=c[k];C.distance===-1&&(C.distance=c[f].distance+1,C.parent=f,h.unshift(k))}return c},l=function(d,c){return function(h){return c(d(h))}},a=function(d,c){for(var h=[c[d].parent,d],f=s[c[d].parent][d],v=c[d].parent;c[v].parent;)h.unshift(c[v].parent),f=l(s[c[v].parent][v],f),v=c[v].parent;return f.conversion=h,f},s=K_();e.exports=function(r){for(var d=o(r),c={},h=Object.keys(d),f=h.length,v=0;v<f;v++){var b=h[v];d[b].parent!==null&&(c[b]=a(b,d))}return c}}),Q_=Lf(function(t,e){var n=function(c){var h=function(){for(var v=arguments.length,b=new Array(v),w=0;w<v;w++)b[w]=arguments[w];var k=b[0];return k==null?k:(k.length>1&&(b=k),c(b))};return"conversion"in c&&(h.conversion=c.conversion),h},o=function(c){var h=function(){for(var v=arguments.length,b=new Array(v),w=0;w<v;w++)b[w]=arguments[w];var k=b[0];if(k==null)return k;k.length>1&&(b=k);var C=c(b);if(typeof C=="object")for(var E=C.length,A=0;A<E;A++)C[A]=Math.round(C[A]);return C};return"conversion"in c&&(h.conversion=c.conversion),h},l=K_(),a=ZO(),s={},r=Object.keys(l);r.forEach(function(d){s[d]={},Object.defineProperty(s[d],"channels",{value:l[d].channels}),Object.defineProperty(s[d],"labels",{value:l[d].labels});var c=a(d);Object.keys(c).forEach(function(h){var f=c[h];s[d][h]=o(f),s[d][h].raw=n(f)})}),e.exports=s}),J_={},QO(J_,{default:function(){return ek}}),ej=X_(Q_()),JO(J_,X_(Q_()));var g;tr=ej,g=tr,Z_=g.default,tj=Bi(tr,["default"]),ek=Z_!==void 0?Z_:tj}}),tk={};wi(tk,{default:function(){return ek}});var rj=Ht({"https-url:https://esm.archive.org/color-convert":function(){VO(),nj(),nj()}}),ij={};wi(ij,{default:function(){return mj}});var Df,nk,Wc,ta,oj,aj,na,sj,lj,uj,rk,cj,$f,ik,dj,hj,fj,pj,Nf,ok,Da,vj,mj,wI=Ht({"https-url:https://av.dev.archive.org/js/play.js":function(){if(Y4(),ka(),Eu(),uO(),K0(),hl(),hO(),dI(),fI(),pI(),mI(),gI(),bI(),Df=480,nk=640,Wc=30,ta=60,oj=10,aj=350,na=Wc,sj=60,lj=140,uj=200,rk=490,cj=rk+55,$f=152,ik=800,dj=20,hj=370,fj=100,pj=100,Nf=1200,ok={start:0,embed:!1,hide_list:!1,autoplay:!1,audio:!1,width:0,height:0,responsive:!1,aspectratio:!1,noshare:!1,nolinks:!1,logo:!1,so:!1,tv:!1,tvStart:0,tvEnd:0,tvContributor:!1,tvSource:!1,play_just1:!1,list_height:0,identifier:!1,onTime:!1,onComplete:!1,onDisplayClick:!1,onReady:!1,onPlaylistItem:!1,collection:!1,collections:[],waveformer:!1,speed:1,details:location.href,triggers:[],headless:null},Da=function(a){"use strict";_inherits(r,a);var s=_createSuper(r);function r(d,c){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};_classCallCheck(this,r);var f;return f=s.call(this),!d&&f.getAttribute("jid")&&f.getAttribute("playlist")&&f.getAttribute("args")&&(d=f.getAttribute("jid"),c=JSON.parse(f.getAttribute("playlist")),h=JSON.parse(f.getAttribute("args")),h.headless&&(h.onPlaylistItem=r.headless_callback,delete r.headless_callback),qn("TRIFECTA",{jid:d,playlist:c,args:h})),d||X(".js-play8-config").each(function(v,b){h=JSON.parse(X(b).val()),d=h.jid||"jw6";var w=X(".js-play8");X("play-av").length||w.attr({id:d}),La("playset")&&(h.onComplete=AO.onComplete),c=JSON.parse(X(".js-play8-playlist").val())}),d?_possibleConstructorReturn(f,f.construct(d,c,h)):f}return _createClass(r,[{key:"construct",value:function(c,h,f){var v=this,b,w,k;this.jid=c;var C=this.cache();if(C)return C;X("play-av").attr("jid")||X("play-av").attr("jid",c),r.STASH[c]=this,qn("PLAY CONFIG:",f);var E=!0,A=!1,j=void 0;try{for(var y=Object.entries(ok)[Symbol.iterator](),u;!(E=(u=y.next()).done);E=!0){var p=_slicedToArray(u.value,2),m=p[0],_=p[1];this[m]=_}}catch(Be){A=!0,j=Be}finally{try{!E&&y.return!=null&&y.return()}finally{if(A)throw j}}var x=!0,O=!1,I=void 0;try{for(var P=Object.entries(f)[Symbol.iterator](),D;!(x=(D=P.next()).done);x=!0){var V=_slicedToArray(D.value,2),q=V[0],z=V[1];q in ok&&(this[q]=z)}}catch(Be){O=!0,I=Be}finally{try{!x&&P.return!=null&&P.return()}finally{if(O)throw I}}this.tvTitle=this.tv&&h.length===1?h[0].title:"",this.list_2cols=this.responsive&&this.audio,this.jidsel="#".concat(c),this.readyIA=!1,this.DAR=4/3,this.first_seeked_playlist=!1,this.waveformed=!1,this.pause_first_seek=this.embed&&!this.tv&&!this.audio&&!this.autoplay&&this.start,this.update_url_onload=this.headless;var he=!1;if(this.jwaudioPercentDone=0,this.reloading_playlist_playlist_idx=0,this.playlist=h,this.panels_count=1,this.panelno=0,this.waveformer_played_color="#aaa",this.waveformer_progress_color="#000",this.canHLS=document.createElement("video").canPlayType("application/vnd.apple.mpegURL"),this.HLS=this.canHLS&&((b=this.triggers)!=null&&b.length)&&h.length&&!this.onTime?new vj(this):null,this.nolinks&&(this.identifier=!1,this.collection=!1,this.collections=[],this.noshare=!0),this.speed=parseFloat(this.speed),!X(this.jidsel).length){qn("play.js requires #",c," element on page -- not found"),this.retry={playlist:h,args:f};return}if(this.responsiveResize(!0),this.identifier!==!1&&(this.details="https://archive.org/details/".concat(this.identifier)),this.tv&&this.tvEnd&&(this.details+="/start/".concat(this.tvStart,"/end/").concat(this.tvEnd)),typeof h=="undefined"&&(h=[{sources:[{file:"/download/family-rolled/family-rolled.mp4"},{file:"/download/family-rolled/family-rolled.ogv"}],image:"/download/family-rolled/format=Thumbnail&ignore=x.jpg"}],this.playlist=h,this.start=!0,this.hide_list=!0),this.hide_list||(this.list_height||(this.list_height=this.audio?hj:fj),this.list_height=Math.min(this.list_height,h.length*dj)),!this.responsive&&!(this.width>0&&this.height>0))if(this.embed){var Y=X(window).width(),B=X(window).height();this.width=this.audio?Math.min(Y,ik):Y,this.height=this.audio?na+this.list_height:B-this.list_height}else this.aspectratio||(this.width=this.audio?aj:nk,this.height=this.audio?na+this.list_height:Df);X.each(h,function(Be,it){if(typeof it.autoplay!="undefined"&&(he||(he=[]),he[Be-1]=!it.autoplay),typeof it.sources=="undefined"&&typeof it.file!="undefined"&&(it.sources=[{file:it.file,height:480}]),typeof it.sources=="undefined")alert("".concat(Be,": sources undefined!"));else{var mt=!0,ot=!1,Ae=void 0;try{for(var xe=it.sources[Symbol.iterator](),De;!(mt=(De=xe.next()).done);mt=!0){var et=De.value;typeof et.file!="undefined"&&(!Be&&et.file.indexOf("/download")>=0&&(et.file=et.file.replace(/\/download\//,"/serve/")),et.file=r.filename_char_encoder(et.file))}}catch(Ve){ot=!0,Ae=Ve}finally{try{!mt&&xe.return!=null&&xe.return()}finally{if(ot)throw Ae}}}}),this.tvTitle&&(h[0].title=h[0].title.replace(/( \d+:\d+[amp]+)-\d+:\d+[amp]+ /,"$1 "));var F=JSON.parse(JSON.stringify(h));F.forEach(function(Be){return v.audio&&delete Be.tracks,Be});var ce={playlist:F,abouttext:"this item, formats, and more at Internet Archive",aboutlink:this.details,startparam:"start",logo:{},cast:{},preload:"metadata",playbackRateControls:!0,playbackRates:[.25,.5,.75,1,1.25,1.5,1.75,2,3],autostart:this.autoplay,hlsplayer:"/jw/x/provider.hlsjs.js",fallback:this.so,width:isNaN(this.width)?"100%":this.width,height:this.audio?Wc:this.height,base:dO};if(this.responsive&&!this.embed?ce.displaytitle=!1:this.aspectratio&&(ce.width="100%",ce.aspectratio=this.aspectratio,delete ce.height),this.identifier!==!1){var J=this.tv&&this.tvEnd?"?start=".concat(this.tvStart,"&end=").concat(this.tvEnd):"",ae='<iframe src="https://archive.org/embed/MEDIAID"\n                            width="'.concat(this.audio?500:nk,'"\n                            height="').concat(this.audio?na:Df,'"\n                            frameborder="0"\n                            webkitallowfullscreen="true"\n                            mozallowfullscreen="true"\n                            allowfullscreen></iframe>').replace(/embed\/MEDIAID/,"embed/".concat(this.identifier).concat(J)).replace(/\s+/g," "),se="[archiveorg ".concat(this.identifier).concat(J," width=640 height=").concat(this.audio?na:Df," frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]");ce.mediaid=this.identifier,X("#embedcodehere").text(ae),X("#embedcodehereWP").text(se)}if((this.embed&&!this.audio&&!this.nolinks||this.logo)&&(ce.logo={file:"https://av.prod.archive.org/jw/glogo-ghost.png",link:this.details,position:"top-right",margin:2,hide:!1}),this.play_just1||he){var ve=this,de=this.onComplete;this.onComplete=function(Be){var it={done:ve.play_just1||he[Be.getPlaylistIndex()]};it.done&&Be.stop(),de&&de(Be,it)}}return(w=this.HLS)==null||w.update_playlist(ce),qn(ce),this.headless?(this.playN((k=this.headless.playN)!=null?k:0),this):(li(c).setup(ce),li(c).on("ready",function(){var Be=v,it;qn("IA ",c," is ready");var mt=li(c);v.player=mt,qn("NOTE: JW version: ",li.version);{var ot=v.playlist.length,Ae=mt.getConfig().playlist.length;ot!==Ae&&!(v.HLS&&Ae===1&&ot>1)&&console.error("BIG PROBLEM: passed in playlist length !== jwplayer config playlist length",v.playlist.length,"-vs-",mt.getConfig().playlist.length)}if((it=v.HLS)==null||it.setup(v),v.onTime&&qn("NOTE: onTime() is in use!"),v.onTime&&mt.on("time",function(){return Be.onTime(mt)}),v.onComplete&&mt.on("complete",function(){return Be.onComplete(mt)}),v.onDisplayClick&&mt.on("displayClick",function(){return Be.onDisplayClick(mt)}),v.audio?mt.on("firstFrame",function(){return r.track_event("Details-Audio-Beta|AudioStarted")}):v.tv||(mt.on("firstFrame",function(){return r.track_event("Details-Video|VideoStarted")}),mt.on("complete",function(){return r.track_event("Details-Video|VideoEnded")})),v.readyIA=!0,v.requestUpdate(),mt.once("meta",function(De){qn("onMeta() fired"),Be.embed&&!Be.audio&&Be.adjust_video_width(De),Be.HLS||Be.unpreload(),Be.start&&(qn("SEEK TO: ",Be.start),Be.pause(),li(c).seek(Be.start))}),mt.on("playlistItem",function(De){var et=Be,Ve=De.index;if(qn("onPlaylistItem: ",Ve),Be.reloading_playlist_playlist_idx&&!Ve){qn("onPlaylistItem: ignoring since desired index ".concat(Be.reloading_playlist_playlist_idx," !== ").concat(Ve," -- and this is likely an event from reloading the playlist"));var je=Be.reloading_playlist_playlist_idx;Be.reloading_playlist_playlist_idx=0,li(c).playlistItem(je);return}Be.track_change(mt,Ve),Be.seeker_playlist(),Be.speed!==1&&setTimeout(function(){return et.set_speed},1e3),Be.waveformer_setup(mt)}),v.onPlaylistItem){var xe=v;mt.on("playlistItem",function(De){qn("onPlaylistItem",{e:De}),xe.onPlaylistItem(mt,De)})}mt.on("playlistComplete",function(){!Be.audio&&Be.collection&&!Be.tv&&Be.related_items_click()}),mt.on("error",function(De){qn("err"),qn(De),X(Be.jidsel).css({"background-color":"black"})}),v.onReady&&v.onReady(mt)}),this)}},{key:"url_updater",value:function(c,h){if(qn("url_updater(".concat(h,")")),!(this.tv||this.embed||!this.identifier||typeof history.replaceState=="undefined")&&!(this.playlist.length<=1||!this.playlist[h]||!this.playlist[h].orig&&!this.headless)){var f=this.playlist[h].orig;if(this.update_url_onload){var v="/details/".concat(this.identifier).concat(f===""?"":"/".concat(encodeURIComponent(f).replace(/%2F/g,"/").replace(/%20/g,"+"))),b=La("playset",!0)?"?playset=1&autoplay=1":"";qn("updating url to",v+b),history.replaceState({},null,v+b)}else{var w=this;qn("looks like /details/ page loaded cold-state at #".concat(h,"-- leave url AS IS")),c==null||c.once("play",function(){qn("time to start updating urls"),w.update_url_onload=!0,w.url_updater(c,h)})}}}},{key:"waveformer_setup",value:function(c){var h=this,f;if(!(!this.audio||this.waveformed)){X("#".concat(this.jid)).css("border-radius","".concat(ta/2,"px 0 0 ").concat(ta/2,"px")),this.recolor(),X(".jw-slider-time").remove(),setTimeout(function(){X("#ia-scrubber").html('\n        <div class="jw-slider-time jw-background-color jw-reset jw-slider-horizontal jw-reset"\n          style="padding:0" tabindex="0" role="slider" aria-label="Seek">\n          <div class="jw-slider-container jw-reset">\n            <div class="jw-rail     jw-reset" style="background-color: #ccc"></div>\n            <div class="jw-buffer   jw-reset" style="background-color: #999"></div>\n            <div class="jw-progress jw-reset" style="background-color: #000"></div>\n            <div class="jw-knob jw-reset"\n              style="transform: translate(-50%,-50%) scale(.75); border: 1px solid black"></div>\n          </div>\n        </div>')},750);var v='<svg viewBox="0 0 4 16" xmlns="http://www.w3.org/2000/svg"><path d="m2 4c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2zm0 6c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2zm0 6c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2z" fill-rule="evenodd"/></svg>';X(".jw-icon-settings svg").html(v),X(".jw-text-countdown").remove(),this.HLS?(X(".jw-text-elapsed, .jw-text-duration").remove(),X(".jw-button-container").append('\n<div id="play-hls-elapsed" class="jw-icon jw-icon-inline jw-text jw-reset jw-text-elapsed"\nrole="timer">00:00</div>\n<div id="play-hls-duration" class="jw-icon jw-icon-inline jw-text jw-reset jw-text-duration"\nrole="timer">'.concat(r.sec2hms(Math.round((f=this.playlist[0])==null?void 0:f.duration)||0),"</div>"))):(X(".jw-icon-settings").after(X(".jw-text-elapsed")),X(".jw-text-elapsed").after(X(".jw-text-duration"))),this.canHLS&&(X("#jw-settings-menu .jw-settings-topbar-buttons > div:last-child()").before('\n          <div class="jw-icon jw-icon-inline jw-button-color jw-reset jw-settings-backgroundPlay jw-submenu-backgroundPlay"\n          role="menuitemradio" tabindex="0"\n          aria-label="Background Play"\n          name="backgroundPlay"\n          type="button"\n          aria-haspopup="true"\n          aria-controls="jw-settings-submenu-backgroundPlay">\n            <img src="//av.prod.archive.org/img/infinity.png"/>\n            <div class="jw-reset-text jw-tooltip jw-tooltip-backgroundPlay" dir="auto">\n              <div class="jw-text">Background Play</div>\n            </div>\n          </div>'),X("#jw-settings-menu").append('<background-play id="jw-settings-submenu-backgroundPlay"\n        class="jw-reset jw-settings-submenu jw-settings-submenu-backgroundPlay"\n        role="menu"></background-play>'),X(".jw-settings-backgroundPlay").on("click",function(){X(".jw-settings-submenu-active").removeClass("jw-settings-submenu-active"),X("#jw-settings-submenu-backgroundPlay").addClass("jw-settings-submenu-active"),X(".jw-settings-backgroundPlay").attr("aria-expanded","true"),X(".jw-settings-playbackRates").attr("aria-expanded","")}),X(".jw-settings-playbackRates").on("click",function(){X(".jw-settings-submenu-active").removeClass("jw-settings-submenu-active"),X("#jw-settings-submenu-playbackRates").addClass("jw-settings-submenu-active")}),X(".jw-settings-playbackRates, .jw-settings-submenu-button, .jw-settings-close").on("click",function(){X("#jw-settings-submenu-backgroundPlay").removeClass("jw-settings-submenu-active"),X(".jw-settings-playbackRates").attr("aria-expanded","true"),X(".jw-settings-backgroundPlay").attr("aria-expanded","")})),X("#ia-scrubber").on("click",function(b){return h.waveform_clicked(b)}),c.on("time",function(b){var w;if(b.duration){h.HLS?h.HLS.on_time():h.jwaudioPercentDone=Math.min(1,b.position/b.duration);var k="".concat(Number(100*h.jwaudioPercentDone).toFixed(3),"%"),C=h.shadowRoot.getElementById("waveformer");C.style.width=k,h.waveformer_played_color&&(C.style.backgroundColor=h.waveformer_played_color),X("#ia-scrubber").find(".jw-knob").css("left",k),X("#ia-scrubber").find(".jw-progress").css({width:k,backgroundColor:(w=h.waveformer_progress_color)!=null?w:"#000"})}}),c.on("bufferChange",function(b){h.HLS?qn("xxxhls HLS buffering"):X("#ia-scrubber").find(".jw-buffer").css("width","".concat(b.bufferPercent,"%"))}),this.waveformed=!0}}},{key:"waveform_clicked",value:function(c){var h=X(this.shadowRoot.getElementById("waveformer-wrap")).width(),f=Number(c.offsetX/h).toFixed(2);if(qn("waveform_clicked",{percent:f}),this.HLS)return this.HLS.waveform_clicked(f);var v=this.player.getPlaylistItem().duration||0;this.player.seek(v*f)}},{key:"recolor",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function c(){var h,f,v,b,w,k,C,E,A,j;return _regeneratorRuntime.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(h=this,!((f=document.querySelector("ia-music-theater"))!=null&&f.hasAttribute("noimageavailable"))){u.next=5;break}return this.recolor_generic(),u.abrupt("return");case 5:if(w=(v=X("ia-music-theater img"))==null?void 0:v.get(0),w){u.next=8;break}return u.abrupt("return");case 8:return u.t0=_slicedToArray,u.next=11,Promise.all([Promise.resolve().then(function(){return MO(),nb}),Promise.resolve().then(function(){return rj(),tk})]);case 11:u.t1=u.sent.map(function(p){return p.default}),k=(0,u.t0)(u.t1,2),C=k[0],E=k[1],A=function(){var p,m,_=new C,x=_.getPalette(w,5);if(qn({palette:x}),!!x){var O=x[0];if(qn({dominantColorRGB:O}),!!O){var I=(p=E.rgb).hsl.apply(p,_toConsumableArray(O));qn({HSL:I});var P=Math.round(O.reduce(function(q,z){return q+z})/O.length),D=P>=128?"black":"white";qn({avgVal:P});var V=(m=document.getElementById("theatre-ia-wrap"))!=null?m:document.getElementsByTagName("body")[0];V.style.color=D,V.style.backgroundImage="linear-gradient(rgb(".concat(O.join(","),"), black)"),V.style.backgroundRepeat="no-repeat",D==="black"&&(h.bgTheme="light",document.querySelector("ia-music-theater").setAttribute("bgTheme","light")),h.waveformer_played_color="hsl(".concat(I[0],",").concat(I[1],"%,").concat(Math.min(100,1.5*I[2]),"%)")}}},j=(b=document.getElementById("theatre-ia-wrap"))!=null?b:document.getElementsByTagName("body")[0],j.style.backgroundImage="linear-gradient(#aaa, black)",j.style.backgroundRepeat="no-repeat",j.style.backgroundColor="black",w.crossOrigin="Anonymous",w.complete?A():w.addEventListener("load",A);case 22:case"end":return u.stop()}},c,this)}))}},{key:"recolor_generic",value:function(){var c,h=["linear-gradient(\n        hsl(330, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(230, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(190, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(280, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(310, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(360, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )"],f=["hsl(300, 80%, 55%)","hsl(200, 80%, 55%)","hsl(160, 80%, 55%)","hsl(250, 80%, 55%)","hsl(280, 80%, 55%)","hsl(340, 80%, 55%)"],v=["hsl(300, 80%, 22%)","hsl(200, 80%, 22%)","hsl(160, 80%, 22%)","hsl(250, 80%, 22%)","hsl(280, 80%, 22%)","hsl(340, 80%, 22%)"],b=r.hash_string(this.identifier)%6,w=(c=document.getElementById("theatre-ia-wrap"))!=null?c:document.getElementsByTagName("body")[0];w.style.backgroundImage=h[b],this.waveformer_played_color=f[b],this.waveformer_progress_color=v[b]}},{key:"on",value:function(c,h){var f=li&&li(this.jid);return f&&f.on(c,h),this}},{key:"adjust_video_width",value:function(c){!c.width||!c.height||(c.height&&c.width&&c.height>0&&c.width>0&&parseInt(c.height,10)>0&&(this.DAR=parseInt(c.width,10)/parseInt(c.height,10),qn("DAR: ",this.DAR,c.width,"x",c.height)),this.embedResize())}},{key:"embedResize",value:function(){if(!(!li||!li(this.jid))){if(this.audio){li(this.jid).resize(Math.min(ik,X(window).width()),na);return}var c=X(window).width(),h=X(window).height()-this.list_height;li(this.jid).resize(c,h)}}},{key:"playN",value:function(c,h){if(this.headless)return this.onPlaylistItem(c-(this.headless.has_full_album?1:0)),this.track_change(void 0,c);var f=li(this.jid);return qn("playN",{readyIA:this.readyIA,idx:c,load_paused:h,state:f.getState()}),h&&f.once("play",function(){return f.pause()}),this.HLS?(f.seek(c?this.triggers[c-1]-this.HLS.WIGGLE:0),this.track_change(f,c),!1):(f.playlistItem(c),!1)}},{key:"track_change",value:function(c,h){qn("track_change",{idx:h}),this.trackno=h,this.url_updater(c,h)}},{key:"seeker_playlist",value:function(){if(!this.first_seeked_playlist){if(this.first_seeked_playlist=!0,this.pause_first_seek){var c=this;li(this.jid).once("seek",function(){c.pause(),qn("... paused first seek!")})}this.start&&(this.pause(),li(this.jid).seek(this.start))}}},{key:"embed_setup",value:function(){var c=this;X(window).on("resize  orientationchange",function(){var h=c;clearTimeout(r.throttler2),r.throttler2=setTimeout(function(){new r(h.jid).embedResize()},250)})}},{key:"unpreload",value:function(){var c=li(this.jid),h=c.getPlaylist(),f=c.getPlaylistIndex();if(qn("unpreload:",{startPlaylistIdx:f}),h.length&&(typeof h[0].file!="undefined"&&(h[0].file=h[0].file.replace(/\/serve\//,"/download/")),typeof h[0].sources!="undefined")){var v=!0,b=!1,w=void 0;try{for(var k=h[0].sources[Symbol.iterator](),C;!(v=(C=k.next()).done);v=!0){var E=C.value;E.file=E.file.replace(/\/serve\//,"/download/")}}catch(A){b=!0,w=A}finally{try{!v&&k.return!=null&&k.return()}finally{if(b)throw w}}}f?(c.on("playlist",function(){qn("unpreload: onplaylist:",{startPlaylistIdx:f}),c.playlistIndex=f,c.playlistItem(f)}),this.reloading_playlist_playlist_idx=f):!this.start&&!this.autoplay&&(this.update_url_onload=!1),c.load(h)}},{key:"details_setup",value:function(){qn("details_setup");var c=0,h="^/details/".concat(this.identifier,"/([^&?]+)"),f=location.pathname.match(h);if(f){var v=decodeURIComponent(f[1].replace(/\+/g,"%20"));qn("looking for: ",v);for(var b in this.playlist){var w=Number(b);if(this.playlist[w].orig===v){qn("player should seek to track #",w),c=w;break}}}if(!c&&!this.start&&!this.autoplay&&(this.update_url_onload=!1),!this.autoplay&&(c||this.start))if(qn("seek #",c," to ",this.start),this.HLS){var k=this;setTimeout(function(){return k.playN(0,!0)},500),setTimeout(function(){return k.playN(c,!0)},1e3)}else{var C=li(this.jid);C.playlistItem(c)}}},{key:"pause",value:function(){var c=li(this.jid);this.readyIA&&c&&c.getState&&c.getState()==="playing"&&c.pause()}},{key:"remove",value:function(){this.pause();var c=li(this.jid);this.readyIA&&c&&c.getConfig()&&c.remove(),delete r.STASH[this.jid]}},{key:"set_speed",value:function(){var c,h=X("#".concat(this.jid," video")).get(0);h.playbackRate=(c=this.speed)!=null?c:1,qn("speed to ".concat(h.playbackRate))}},{key:"add_buttons",value:function(c){var h=this,f,v='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" style="transform: rotate(180deg)" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',b='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',w='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 25 75 50"><path d="M67.5,18c-5.1,0-9.3,4.2-9.3,9.3c0,0.5,0.1,1.1,0.2,1.6l-23,12.9c-1.7-1.8-4.1-3-6.8-3,c-5.1,0-9.3,4.1-9.3,9.3c0,5.1,4.1,9.3,9.3,9.3c2.7,0,5.2-1.2,6.9-3.1l22.8,13.4c0,0.4-0.1,0.7-0.1,1.1c0,5.1,4.1,9.3,9.3,9.3,c5.1,0,9.3-4.1,9.3-9.3c0-5.1-4.1-9.3-9.3-9.3c-2.8,0-5.4,1.3-7.1,3.3L37.7,49.4c0.1-0.4,0.1-0.9,0.1-1.3c0-0.5,0-1-0.1-1.5,l23.1-13c1.7,1.8,4.1,3,6.8,3c5.1,0,9.3-4.1,9.3-9.3C76.8,22.2,72.6,18,67.5,18L67.5,18z"></path></svg>',k='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-airplay-on" viewBox="0 0 240 240"><path d="M229.9,40v130c0.2,2.6-1.8,4.8-4.4,5c-0.2,0-0.4,0-0.6,0h-44l-17-20h46V55H30v100h47l-17,20h-45c-2.6,0.2-4.8-1.8-5-4.4c0-0.2,0-0.4,0-0.6V40c-0.2-2.6,1.8-4.8,4.4-5c0.2,0,0.4,0,0.6,0h209.8c2.6-0.2,4.8,1.8,5,4.4C229.9,39.7,229.9,39.9,229.9,40z M104.9,122l15-18l15,18l11,13h44V75H50v60h44L104.9,122z M179.9,205l-60-70l-60,70H179.9z"/></svg>';if(this.embed&&!this.nolinks){var C=this,E=this.tvTitle?"".concat(this.tvTitle.replace(/ : /g,"\n"),"\n\nClick above for more information and clips\nat the Internet Archive"):"More Formats from Internet Archive";c.addButton("/images/glogo-jw.png",E,function(){var m=document.createElement("a");m.setAttribute("href",C.details),m.setAttribute("target","_blank"),document.body.appendChild(m),m.click()},"btn-ia")}if(this.embed&&!this.audio&&!this.noshare&&!this.tv){if(this.identifier!==!1){var A=this;c.addButton("/jw/embed.png","Embedding Examples and Help",function(){globalThis.top.location.href="/help/video.php?identifier=".concat(A.identifier)},"btn-mbd")}globalThis.AJS&&(c.addButton(w,"share",function(){var m=X(".jw-icon[button=btn-shr]").get(0);globalThis.AJS.modal_go(m,{ignore_lnk:1,shown:globalThis.AJS.embed_codes_adjust})},"btn-shr"),X(".jw-icon[button=btn-shr]").attr("href","ignored").attr("data-target","#cher-modal"))}if(this.tv&&this.embed&&this.tvSource!==!1){var j=this;c.addButton("/images/tv/".concat(this.identifier.split("_")[0],".png"),"Look for this show on ".concat(this.tvContributor," website"),function(){globalThis.top.location.href=j.tvSource},"btn-tv")}if(!this.audio&&this.collection&&!this.tv){var y=this;c.addButton("http://av.prod.archive.org/jw/related.png","Related Videos",function(){y.related_items_click()},"btn-rel")}if(0)var u;if(X(".jw-icon-settings").css("display","flex"),X(".jw-slider-time").remove(),X(".jw-icon-settings").on("click",function(){return h.settings_opened()}),X(".jw-settings-close").on("click",function(){return h.settings_closed()}),c.on("playbackRateChanged",function(){return h.settings_closed()}),X(".jw-icon-volume").on("mouseover",function(){X('div[button="btn-prv"]').hide(),X('div[button="btn-nxt"]').hide(),X(".jw-icon-settings").hide()}),X("".concat(this.jidsel," .jw-button-container")).on("mouseleave",function(){X('div[button="btn-prv"]').show(),X('div[button="btn-nxt"]').show(),X(".jw-icon-settings").show()}),!this.tv&&((f=this.playlist)==null?void 0:f.length)>1){var p=this;c.addButton(b,"next",function(){return(p.HLS||c).playlistNext()},"btn-nxt"),c.addButton(v,"previous",function(){return(p.HLS||c).playlistPrev()},"btn-prv")}}},{key:"settings_opened",value:function(){X(this.jidsel).css("overflow","visible"),X(".jw-controls").css("overflow","visible").show(),X("#jw-settings-menu").css({overflow:"visible",height:uj,top:Wc+5,bottom:"initial"}),X(".jw-controlbar").show(),X(".jw-icon-settings").removeClass("jw-icon-settings");var c=document.querySelector(".jw-settings-submenu-button:not(.jw-off)").getBoundingClientRect().x-document.getElementById("jw6").getBoundingClientRect().x,h=c-$f+7;qn({kebab_left:c,settings_new_left:h}),document.querySelector("body.jwaudio #jw-settings-menu").style.left="".concat(h,"px")}},{key:"settings_closed",value:function(){X(this.jidsel).css("overflow","")}},{key:"cast",value:function(){var c=this;if(globalThis.WebKitPlaybackTargetAvailabilityEvent){X("#".concat(this.jid," video")).get(0).webkitShowPlaybackTargetPicker();return}if(globalThis.chrome){var h=function(v,b){b.play(null,function(w){qn("media play success",v,b,w)},function(w){qn("media play fail",w)})};this.cast_retries=0;var f=function(){var v=c;if(qn("cast_setup #",c.cast_retries),c.cast_retries+=1,c.cast_retries>3)return!1;if(!globalThis.chrome.cast)return setTimeout(f,c.cast_retries*1e3);var b=globalThis.chrome.cast,w=new b.SessionRequest(b.media.DEFAULT_MEDIA_RECEIVER_APP_ID),k=new b.ApiConfig(w,function(C){C.media.length&&h("onRequestSessionSuccess",C.media[0])},function(C){qn("receiver listener fail",C)});return b.initialize(k,function(){var C=v;qn("cast init success"),b.requestSession(function(E){qn("request session success",E);var A=X("".concat(C.jidsel," video")).attr("src"),j="".concat(location.protocol,"//").concat(location.host).concat(A),y=new b.media.MediaInfo(j),u=new b.media.LoadRequest(y);E.loadMedia(u,h.bind(C,"loadMedia"),function(p){qn("onMediaError",p)})},function(E){qn("request session fail",E),setTimeout(f,500)})},function(){return qn("cast init failure")}),!0};f()}}},{key:"related_items_click",value:function(){var c=this,h=function(){X("".concat(c.jidsel," .jw-controlbar")).one("click",function(b){X("#related-items-bg").hide(),b.preventDefault()})};if(typeof Su!="undefined"&&!X("#related-items").length){var f=this;X("".concat(this.jidsel)).prepend('\n<div id="related-items-bg" style="display:none">\n  <div id="related-items">\n  </div>\n</div>\n'),Su.getRelatedItems(this.identifier,!0).then(function(b){var w=Math.floor(b.length/2),k="",C=!0,E=!1,A=void 0;try{for(var j=Object.entries(b)[Symbol.iterator](),y;!(C=(y=j.next()).done);C=!0){var u=_slicedToArray(y.value,2),p=u[0],m=u[1];Number(p)===w&&f.collection==="prelinger"?(r.track_event("Details-Video|DonationEndrollDisplayed"),k+='\n<a class="related-donate"\n   href="https://archive.org/donate/?origin=iawww-VidEndrollDonateButton"\n   data-event-click-tracking="Details-Video|DonationEndrollClicked"\n   data-event-tracking-options=\'{ "service": "ao_no_sampling" }\'>\n  <div>\n    <div class="related-ctr related-donate-logo">\n      <img src="/images/logo-circle-grey.svg" alt="archive logo"/>\n    </div>\n    <div class="related-ctr related-donate-msg">\n      <div>\n        Your donation helps us keep these videos free for everyone\n      </div>\n    </div>\n    <div class="related-ctr related-donate-btn">\n      <div>\n        CHIP IN\n      </div>\n    </div>\n  </div>\n</a>\n'):k+='\n<div>\n  <a href="/details/'.concat(m.identifier,'"\n    data-event-click-tracking="Details-Video|LastFrameLinkChosen"\n    data-event-tracking-options=\'{ "service": "ao_2" }\'>\n    <div class="related-ttl">\n      ').concat(m.title!==null?m.title:"","\n      ").concat(m.creator!==null?"<br/>&nbsp;&nbsp;<small>by:</small>&nbsp;".concat(m.creator):"","\n      ").concat(m.downloads!==null?"<div>".concat(m.downloads," views</div>"):"",'\n    </div>\n    <img src="/services/img/').concat(m.identifier,'"/>\n  </a>\n</div>\n')}}catch(_){E=!0,A=_}finally{try{!C&&j.return!=null&&j.return()}finally{if(E)throw A}}X("#related-items").html(k),X("#related-items-bg").show(),h()})}else{var v=X("#related-items-bg:visible").length;v?X("#related-items-bg").hide():(X("#related-items-bg").show(),setTimeout(h,500))}onclick("#related-items-bg",function(){return X("#related-items-bg").hide()})}},{key:"add_playlist_panel",value:function(){var c=this;return this.hide_list?"":ri(_templateObject449(),this.prior_panel,this.playlist.map(function(h,f){var v;return ri(_templateObject447(),c.playlist_track_click,c.trackno===f?"selected":"",f,c.headless?"":ri(_templateObject445(),f+1),(v=h.title)!=null?v:"",h.artist?ri(_templateObject446(),h.artist):"","",h.duration?r.sec2hms(h.duration):c.headless?"- \u2013:\u2013 -":"")}),_toConsumableArray(Array(this.panels_count)).map(function(h,f){return ri(_templateObject448(),c.goto_panel,f,Number(f)===c.panelno?"selected":"",f)}),this.next_panel)}},{key:"playlist_track_click",value:function(c){this.playN(Number(c.currentTarget.dataset.trackNumber))}},{key:"prior_panel",value:function(){this.panelno-=1;var c=this.shadowRoot.querySelector(".flexbox-pages");c.scrollBy({top:0,left:-1*c.clientWidth,behavior:"smooth"}),this.requestUpdate()}},{key:"next_panel",value:function(){this.panelno+=1;var c=this.shadowRoot.querySelector(".flexbox-pages");c.scrollBy({top:0,left:c.clientWidth,behavior:"smooth"}),this.requestUpdate()}},{key:"goto_panel",value:function(c){var h=this.shadowRoot.querySelector(".flexbox-pages");this.panelno=Number(c.currentTarget.dataset.pageNumber),h.scrollTo({top:0,left:this.panelno*h.clientWidth,behavior:"smooth"}),this.requestUpdate()}},{key:"paging_visibility",value:function(){var c,h=((c=this.shadowRoot)==null?void 0:c.querySelector(".flexbox-pages"))||this,f=h.parentElement.parentElement.querySelector(".page-left"),v=h.parentElement.parentElement.querySelector(".page-right"),b=h.scrollLeft;f.style.visibility=b<=0?"hidden":"visible",this.panels_count=Math.ceil(h.scrollWidth/h.clientWidth),console.warn("PANELS COUNT",this.panels_count);var w=h.scrollWidth-h.clientWidth;v.style.visibility=b>=w?"hidden":"visible"}},{key:"paging_hide_if_always_single_panel",value:function(){var c;if(!this.always_single_panel&&!(X(window).width()<Nf)){var h=(c=this.shadowRoot)==null?void 0:c.querySelector(".flexbox-pages");h&&(qn("paging_hide_if_always_single_panel()",h.scrollWidth,"-v-",h.clientWidth),h.scrollWidth===h.clientWidth?(h.parentElement.querySelector(".page-buttons").style.display="none",h.parentElement.parentElement.querySelector(".page-left").style.display="none",h.parentElement.parentElement.querySelector(".page-right").style.display="none",this.always_single_panel="yes"):this.always_single_panel="no")}}},{key:"responsiveResize",value:function(c){if(this.responsive){var h=X(this.jidsel).offset(),f=X(window).height()-h.top-pj;if(this.audio)this.playlist&&this.playlist.length>0&&(na=sj),f-=na,f=Math.max(lj,f),this.embed||(qn("responsiveResize() maxH:",f),this.list_height=f);else{var v=this.DAR;this.playlist&&this.playlist.length>0&&this.playlist[0].sources&&this.playlist[0].sources.length>0&&this.playlist[0].sources[0].width&&this.playlist[0].sources[0].height&&(v=this.playlist[0].sources[0].width/this.playlist[0].sources[0].height,qn("aspect ratio appears to be: ",v));var b=X(".container-ia:last").width();qn("video max rect avail: ",b,"x",f);var w,k,C=!0,E=!1,A=void 0;try{for(var j=[960,840,720,600,480,360,240,180][Symbol.iterator](),y;!(C=(y=j.next()).done)&&(k=y.value,w=Math.round(k*v),qn("video size try fit: ",w,"x",k),!(w<=b&&k<=f||w<=320));C=!0);}catch(p){E=!0,A=p}finally{try{!C&&j.return!=null&&j.return()}finally{if(E)throw A}}this.width=w,this.height=k,globalThis.AJS&&globalThis.AJS.theatre_controls_position(!1,0,this.width,this.height)}if(c){var u=this;X(window).on("resize  orientationchange",function(){var p=u;clearTimeout(r.throttler),r.throttler=setTimeout(function(){new r(p.jid).responsiveResize()},250)})}else this.audio||li(this.jid).resize(this.width,this.height);c||this.paging_visibility(),this.paging_hide_if_always_single_panel()}}},{key:"cache",value:function(){if(!this.jid)return alert("please pass in a unique identifier for this object");if(typeof r.STASH[this.jid]!="undefined"){if(typeof this.playlist=="undefined")return r.STASH[this.jid];delete r.STASH[this.jid]}}},{key:"updated",value:function(c){if(qn("play updated()",c),"mdapi"in c&&qn("mdapi changed"),this.audio&&!this.playlist_setup&&this.playlist){this.playlist_setup=!0;var h=this.shadowRoot.querySelector(".flexbox-pages");h.addEventListener("scroll",this.paging_visibility),this.paging_visibility(),this.paging_hide_if_always_single_panel()}}},{key:"firstUpdated",value:function(){qn("play firstUpdated up")}},{key:"render",value:function(){var c;qn("play-av render()",this.trackno),this.slotted||(this.innerHTML='<div id="'.concat(this.jid||"jw6",'"></div><div id="ia-scrubber" slot="ia-scrubber"></div>'),this.slotted=!0,this.retry&&this.construct(this.jid,this.retry.playlist,this.retry.args)),this.identifier&&!this.jid&&!this.mdapi&&this.from_attr_identifier(),this.mdapi&&!this.jid&&this.from_attr_mdapi("jw6");var h=this.playlist?this.add_playlist_panel():"";this.readyIA&&(this.draggable_scrubber(),this.rendered_once||(this.rendered_once=!0,this.audio&&this.responsive&&!this.embed&&this.responsiveResize(),this.responsive&&!this.audio&&X(this.jidsel).css("margin","auto"),this.add_buttons(this.player),X(".jw-controls").css({backgroundColor:"transparent",height:"100%"}),X(".jw-controlbar").css("padding-top","8px"),this.responsive&&na>Wc&&X(this.jidsel).css("height",na),!this.embed&&this.responsive?this.details_setup():this.embed&&location.host.match(/archive\.org$/)&&location.pathname.match(/^\/embed\//)&&this.embed_setup()));var f=this.playlist?(c=this.playlist[this.trackno||0])==null?void 0:c.image:"";return ri(_templateObject455(),this.audio&&!this.headless?ri(_templateObject453(),f?ri(_templateObject451(),f,this.waveform_clicked):ri(_templateObject452())):"",this.show_transcripts()?ri(_templateObject454(),this.identifier,this.trackno||0,JSON.stringify(this.playlist||[]),this.bgTheme):"",h)}},{key:"show_transcripts",value:function(){var c=this,h,f,v,b,w=1600,k=1928,C=["78rpm","edison-recordings","georgeblood"];if(this.headless)return!1;if(!C.filter(function(y){var u;return(u=c.collections)==null?void 0:u.includes(y)}).length)return!0;var E=String((b=(v=(f=JSON.parse((h=X(".js-ia-metadata").val())!=null?h:"{}"))==null?void 0:f.metadata)==null?void 0:v.date)!=null?b:"6666");if(typeof E!="string")return!1;var A=E.match(/^(\d\d\d\d)$/)||E.match(/^(\d\d\d\d)-\d\d$/)||E.match(/^(\d\d\d\d)-\d\d-\d\d$/);if(!A)return!1;var j=Number(A[1]);return j<=k&&j>=w}},{key:"from_attr_identifier",value:function(){var c=this;qn("from_attr_identifier()"),EO(this.identifier).then(function(h){c.mdapi=h}).catch(function(h){return qn("error",h)})}},{key:"from_attr_mdapi",value:function(c){var h;qn("from_attr_mdapi()");var f=new CO(this.mdapi);if(f.showing==="movies"||f.showing==="audio"){var v=[].concat(this.mdapi.metadata.collection),b={audio:f.showing==="audio",responsive:!0,identifier:this.id,collections:v,collection:v.shift()},w=[],k=f.jwplaylist(b,jO,w);if(qn(k),f.showing==="audio"){var C=document.getElementsByTagName("body")[0];C.setAttribute("class","".concat((h=C.getAttribute("class"))!=null?h:""," jwaudio")),b&&!this.embed&&(b.waveformer=!0)}this.construct(c,k,b)}}},{key:"draggable_scrubber",value:function(){var c=this,h=function(w){if(f){var k=document.getElementById("ia-scrubber").getBoundingClientRect(),C=Math.min(k.width,Math.max(0,w.clientX-k.left));X("#ia-scrubber .jw-knob").css({left:"".concat(C,"px")})}},f=!1;document.querySelector("play-av").parentElement.addEventListener("mousemove",h);var v=document.getElementById("ia-scrubber");v.addEventListener("mousedown",function(){c.player.pause(),f=!0}),v.addEventListener("mouseup",function(){c.player.play(),f=!1})}},{key:"headless_create",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(!c.length){var h=X("play-av:not(:first)"),f=X("play-av:first"),v=globalThis.Play(h.attr("jid")),b=globalThis.Play(f.attr("jid"));if(v.remove(),h.remove(),f.show(),qn("IS AT",v.trackno,v.headless.tracks),v.trackno||v.trackno===0){var w=v.headless.tracks[v.trackno];b.playN(Math.max(0,w),!0)}return}this.pause();var k={audio:!0,responsive:!0,identifier:this.identifier,headless:{tracks:c,has_full_album:!1}},C=[],E=!0,A=!1,j=void 0;try{for(var y=c[Symbol.iterator](),u;!(E=(u=y.next()).done);E=!0){var p=u.value;Number(p)===-1&&(k.headless.has_full_album=!0),C.push(Number(p)===-1?{title:"[Full Album]",orig:"",sources:[{file:"/download/family-rolled/family-rolled.mp4"},{file:"/download/family-rolled/family-rolled.ogv"}],image:"/download/family-rolled/format=Thumbnail&ignore=x.jpg"}:this.playlist[p])}}catch(O){A=!0,j=O}finally{try{!E&&y.return!=null&&y.return()}finally{if(A)throw j}}var m=X("play-av").parent(),_=X("play-av:first").attr("jid"),x=globalThis.Play(_).trackno;k.headless.playN=Math.max(0,c.indexOf(x)),X("play-av:first").hide(),X("play-av[jid=headless]").remove(),delete r.STASH.headless,m.append('\n      <play-av jid="headless"\n        playlist=\''.concat(JSON.stringify(C).replace(/'/g,"&apos;"),"'\n        args='").concat(JSON.stringify(k).replace(/'/g,"&apos;"),"'></play-av>"))}}],[{key:"hash_string",value:function(c){return c.split("").reduce(function(h,f){return h+f.charCodeAt(0)},0)}},{key:"castable",value:function(){return globalThis.WebKitPlaybackTargetAvailabilityEvent||globalThis.chrome}},{key:"styles",get:function(){return sc(_templateObject450(),si(ta),si(ta/2),si(ta)/2,si(ta/2),si(ta),si(ta),si(ta/2-9),si(Nf-1),si(Nf))}},{key:"css",value:function(){var c=document.getElementsByTagName("head")[0];if(c){var h=document.createElement("style");h.setAttribute("type","text/css"),h.appendChild(document.createTextNode("\n\nbody.jwaudio .jwplayer {\n  width: initial !important;\n  display: inline-block;\n  margin-left: ".concat(oj,"px;\n\n  outline: 0 !important;\n  outline-offset: unset !important;\n}\n\nbody.navia.jwaudio .jw-preview {\n  display: none !important;\n}\n\n/* avoid bleed-thru when kebab opened */\nbody.jwaudio .jw-wrapper, body.jwaudio .jw-controls-backdrop {\n  background-color: transparent;\n  background: none;\n}\n\n/* make control bar use up width naturally, based on controlbar buttons (waveform soaks up rest) */\nbody.jwaudio .jw-wrapper,\nbody.jwaudio .jw-controls {\n  position: initial;\n}\n\nbody.jwaudio .jw-controlbar .jw-icon-inline:first-child {\n  margin-left: 15px;\n}\n\nbody.jwaudio .jw-controlbar .jw-icon-inline {\n  width: 35px;\n}\nbody.jwaudio .jw-controlbar .jw-icon-inline.jw-text-duration {\n  width: 55px;\n}\n\n/* https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Container_Queries */\n#play-av-wrapper {\n  container-name: player-pill;\n  container-type: inline-size;\n}\n@container player-pill (min-width: ").concat(rk,"px) {\n  body.jwaudio .jw-text-elapsed {\n    display: flex !important;\n  }\n}\n@container player-pill (min-width: ").concat(cj,'px) {\n  body.jwaudio .jw-text-duration {\n    display: flex !important;\n  }\n}\n\nbody.jwaudio .jw-settings-submenu-button {\n  margin-left: -5px;\n}\n\nbody.jwaudio #jw-settings-menu {\n  z-index: 1;\n  margin-top: 25px;\n  border-top: 1px solid #aaa;\n  left: 50px;\n}\n\nbody.jwaudio #jw-settings-menu:before {\n  /* caret up - altered from https://blog.logrocket.com/creating-beautiful-tooltips-with-only-css/ */\n  content: "";\n  position:absolute;\n\n  /* position tooltip correctly */\n  top: -11px;\n  left: ').concat($f,'px;\n  transform:translateY(-50%);\n\n  /* the arrow */\n  border: 10px solid #000;\n  border-color: transparent transparent #aaa transparent;\n}\nbody.jwaudio #jw-settings-menu:after {\n  /* caret up - altered from https://blog.logrocket.com/creating-beautiful-tooltips-with-only-css/ */\n  content: "";\n  position:absolute;\n\n  /* position tooltip correctly */\n  top: -8px;\n  left: ').concat($f,"px;\n  transform:translateY(-50%);\n\n  /* the arrow */\n  border: 10px solid #000;\n  border-color: transparent transparent black transparent;\n}\n\n#waveformer-loader {\n  overflow: hidden;\n  width: 1px;\n  height: 1px;\n  max-width: 1px;\n  max-height: 1px;\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  opacity: 0.01;\n}\n    "))),c.appendChild(h)}}},{key:"sec2hms",value:function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,v=Math.round(c),b=Math.floor(v/3600),w=Math.floor((v-b*3600)/60);v-=b*3600+w*60;var k="",C="";(h||b>0)&&(C="00".concat(b),k+=C.substr(C.length-2,2),k+=":"),C="00".concat(w),k+=C.substr(C.length-2,2),k+=":",C="00".concat(v),k+=C.substr(C.length-2,2);var E=f?".".concat((c%1).toFixed(3).slice(2)):"";return"".concat(k).concat(E)}},{key:"seconds",value:function(c){var h=c.replace(",","."),f=h.split(":"),v=0;return h.substr(-1)==="s"?v=Number(h.substr(0,h.length-1)):h.substr(-1)==="m"?v=Number(h.substr(0,h.length-1))*60:h.substr(-1)==="h"?v=Number(h.substr(0,h.length-1))*3600:f.length>1?(v=Number(f[f.length-1]),v+=Number(f[f.length-2])*60,f.length===3&&(v+=Number(f[f.length-3])*3600)):v=Number(h),v}},{key:"seek",value:function(c){var h="".concat(c.href,"/").match(/[/#]start\/([\d.]+)\//)||c.href.match(/[?&]start=([\d.]+)/);if(!h)return!0;var f=h[1];return li().seek(f),typeof history.pushState=="undefined"?location.href=c.href:history.pushState({},null,c.href),!1}},{key:"mute_click",value:function(){var c,h=!ui.get("unmute");if((c=globalThis.AJS)!=null&&c.emulator)globalThis.AJS.emulator.setMute(!h);else{var f=li("jw6");if(f){var v=f.getVolume();v?(r.mute_click_prior_volume=v,f.setVolume(0)):f.setVolume(typeof r.mute_click_prior_volume=="undefined"?100:r.mute_click_prior_volume)}}return X("#theatre-ia .iconochive-mute, #theatre-ia .iconochive-unmute").toggle(),h?ui.set("unmute",1,{path:"/details",expires:30}):ui.remove("unmute",{path:"/details"}),!1}},{key:"cast_sender_setup",value:function(){!globalThis.chrome||globalThis.chrome.cast||function(){var c=function(m){return!!document.currentScript&&(document.currentScript.src.indexOf("?"+m)!=-1||document.currentScript.src.indexOf("&"+m)!=-1)},h=c("loadGamesSDK")?"/cast_game_sender.js":"/cast_sender.js",f=c("loadCastFramework")||c("loadCastApplicationFramework"),v=function(){return typeof globalThis.__onGCastApiAvailable=="function"?globalThis.__onGCastApiAvailable:null},b=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"],w=function(p){p.length?C(p.shift(),function(){w(p)}):A()},k=function(m){return"chrome-extension://"+m+h},C=function(m,_,x){var O=document.createElement("script");O.onerror=_,x&&(O.onload=x),O.src=m,(document.head||document.documentElement).appendChild(O)},E=function(m){return 0<=globalThis.navigator.userAgent.indexOf(m)},A=function(){var m=v();m&&m(!1,"No cast extension found")},j=function(){if(f){var m=2,_=v(),x=function(){m--,m==0&&_&&_(!0)};globalThis.__onGCastApiAvailable=x,C("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",A,x)}};if(E("CriOS")){var y=globalThis.__gCrWeb&&globalThis.__gCrWeb.message&&globalThis.__gCrWeb.message.invokeOnHost;y&&(j(),y({command:"cast.sender.init"}))}else if(E("Android")&&E("Chrome/")&&globalThis.navigator.presentation){j();var u=globalThis.navigator.userAgent.match(/Chrome\/([0-9]+)/);w(["//www.gstatic.com/eureka/clank/"+(u?parseInt(u[1],10):0)+h,"//www.gstatic.com/eureka/clank"+h])}else globalThis.chrome&&globalThis.navigator.presentation&&!E("Edge")?(j(),w(b.map(k))):A()}()}},{key:"filename_char_encoder",value:function(c){var h=c.split(/\.(mp3|ogg|ogv|mp4|mpeg4|m4v|mov|flv|swf)\?/i),f=h.shift().replace(/#/g,"%23").replace(/\?/g,"%3F"),v=f+(h.length?".".concat(h.shift(),"?"):"");return v+h.join("")}},{key:"track_event",value:function(c){if(globalThis.archive_analytics){var h=_slicedToArray(c.split("|"),2),f=h[0],v=h[1];globalThis.archive_analytics.send_event(f,v,globalThis.location.pathname)}}},{key:"properties",get:function(){return{trackno:Number,identifier:String,mdapi:Array,bgTheme:String}}},{key:"headless",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(v){return qn("track ".concat(v," clicked"))},f=X("play-av:first").attr("jid");r.headless_callback=h,globalThis.Play(f).headless_create(c,h)}}]),r}(zo),vj=function(){"use strict";function a(s){_classCallCheck(this,a),this.WIGGLE=1,this.playlist_index=0,this.last_time=0,this.p=s,qn(s.triggers)}return _createClass(a,[{key:"setup",value:function(r){var d=this;this.play=r,this.p.player.on("time",function(){return d.on_time()}),this.p.player.on("meta",function(c){return qn("HLS meta",c)})}},{key:"on_time",value:function(){var r=this.p.player.getCurrentTime();if(!(Math.abs(this.last_time-r)<.25)){this.last_time=r;var d=this.playlist_index;if(r>=this.p.triggers[d]+this.WIGGLE)for(qn("on_time >=",r,">=",this.p.triggers[d]+this.WIGGLE);r>=this.p.triggers[d]-this.WIGGLE;)d+=1;else if(r<this.p.triggers[d-1]+this.WIGGLE)for(qn("on_time <",r,"<",this.p.triggers[d-1]-this.WIGGLE);d&&r<this.p.triggers[d-1]-this.WIGGLE;)d-=1;if(d!==this.playlist_index){if(qn("HLS switching tracks:",this.playlist_index,"=>",d),this.playlist_index=d,this.play.track_change(this.p.player,this.playlist_index),X("#play-hls-duration").html(Da.sec2hms(this.p.playlist[this.playlist_index].duration)),this.p.waveformer){qn(this.p.playlist[this.playlist_index]);var c=this.p.playlist[this.playlist_index].image;if(c){X("#waveformer-loader").length||X("body").append('<img id="waveformer-loader"></img>');var h=X("#waveformer-loader").get(0);h.onload=function(){return X(".jw-preview").css("background-color","transparent")},h.src=c,X(".jw-preview").css("background-color","black"),X(".jw-preview").css("background-image",'url("'.concat(c,'")'))}}}var f=this.p.playlist[this.playlist_index].duration;if(this.p.waveformer&&f){var v=r-(this.playlist_index?this.p.triggers[this.playlist_index-1]:0);X("#play-hls-elapsed").html(Da.sec2hms(Math.round(Math.max(0,v)))),this.p.jwaudioPercentDone=Math.min(1,v/f)}}}},{key:"update_playlist",value:function(r){qn("HLS.update_playlist",r.playlist);var d=La("mode")==="aac"?"&mode=aac":"";if(0){var c;for(var h in this.p.triggers)var f,v}r.playlist=r.playlist.slice(0,1),r.playlist[0].sources[0].file="/details/".concat(this.p.identifier).concat(d,"&embed=1&HLS=1&hls.m3u8"),delete r.playlist[0].sources[0].title,delete r.playlist[0].sources[0].duration,qn("HLS new playlist to jw",r.playlist),r.hlsjsConfig={p2pConfig:{live:!1}}}},{key:"playlistPrev",value:function(){qn("HLS.playlistPrev");var r=0;this.playlist_index?this.playlist_index>1&&(r=this.p.triggers[this.playlist_index-2]-this.WIGGLE):r=this.p.triggers[this.p.triggers.length-2]-this.WIGGLE,this.p.player.seek(r)}},{key:"playlistNext",value:function(){qn("HLS.playlistNext");var r=this.playlist_index>=this.p.triggers.length-1?0:this.p.triggers[this.playlist_index]-this.WIGGLE;this.p.player.seek(r)}},{key:"waveform_clicked",value:function(r){var d=this.playlist_index,c=d?this.p.triggers[d-1]:0,h=this.p.triggers[d]-c;this.p.player.seek(c+h*r)}}]),a}(),!globalThis.Play){Da.STASH={},Da.css(),globalThis.Play=function(a,s,r){return new Da(a,s,r)};var g=!0,t=!1,e=void 0;try{for(var n=["mute_click","sec2hms","seconds","seek","filename_char_encoder","headless"][Symbol.iterator](),o;!(g=(o=n.next()).done);g=!0){var l=o.value;globalThis.Play[l]=Da[l]}}catch(a){t=!0,e=a}finally{try{!g&&n.return!=null&&n.return()}finally{if(t)throw e}}customElements.define("play-av",Da)}mj=Da}}),Bf=Ht({"https-url:https://av.prod.archive.org/js/util/strings.js":function(){}}),_I=Ht({"https-url:https://av.prod.archive.org/js/tv/tuners.js":function(){}}),kI=Ht({"https-url:https://av.prod.archive.org/js/items.js":function(){Bf()}}),xI=Ht({"https-url:https://av.prod.archive.org/js/util/fetch.js":function(){}}),SI=Ht({"https-url:https://av.prod.archive.org/iso/hostname.js":function(){}}),gj,CI,yj,AI,OI,bj=Ht({"https-url:https://av.prod.archive.org/js/tv.js":function(){_j(),wj(),_I(),Ns(),ak(),kI(),xI(),SI(),Bf(),CI=(gj=ux())!=null&&gj.startsWith("tvnix")?ux().split(".")[0].substr(5).toUpperCase():!1,yj="/^[^_]+_20[012][0-9][0-9][0-9][0-9][0-9]_[0-9][0-9][0-9][0-9][0-9][0-9]/",AI="identifier ~ '".concat(yj.slice(1).slice(0,-1),"'"),OI=HT(["UNITED STATES","THE CITY","UNITED","US","U.S.","AMERICA","ABC","NBC","CNN"])}}),wj=Ht({"https-url:https://av.prod.archive.org/js/tv/recordings.js":function(){bj()}}),_j=Ht({"https-url:https://av.prod.archive.org/js/tv/zones.js":function(){wj(),Ns()}}),kj,jI,ak=Ht({"https-url:https://av.prod.archive.org/js/time.js":function(){Ns(),Bf(),_j(),bj(),kj={January:"01",February:"02",March:"03",April:"04",May:"05",June:"06",July:"07",August:"08",September:"09",October:"10",November:"11",December:"12"},jI=Object.keys(kj)}}),zf,Cs,xj,Sj,Cj,Ff,Aj,Oj,jj,Ej,EI=Ht({"https-url:https://av.prod.archive.org/js/player.js":function(){Ns(),Jp(),ak(),Bf(),zf=!1,Cs=100,xj=(location==null?void 0:location.host)==="av.dev.archive.org",Sj="__ia_thumb.jpg",Cj=0,Ff=Object.fromEntries(["thumbnail2","thumbnail","h.264","webm","h.264 720p","h.264 486p","512kb mpeg4","ogg video",zf?"h.264 4k":"h.264 hd","h.264 hd","h.264 mpeg4","mpeg4","ogg theora","flash video","vbr mp3","ogg vorbis","mpeg-4 audio","128kbps mp3","64kbps mp3","mp3 sample"].map(function(g){return[g,Cj++]})),Aj=["vbr mp3","ogg vorbis","mpeg-4 audio","128kbps mp3","64kbps mp3","mp3 sample"],Oj=["64kbps m3u","64kbps mp3 zip","checksums","flac fingerprint","item tile","vbr m3u","vbr zip"],jj=function(){"use strict";function g(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this;_classCallCheck(this,g),this.identifier=t.metadata.identifier,this.groups=[],this.widths={},this.heights={},this.durations={},this.srts={},this.vtts={},this.haxLP=!1;var o={},l={},a={},s={},r={},d={},c={},h={},f=Ff.thumbnail2,v={};t.files.forEach(function($e){var Ye=_slicedToArray(n.filter($e),1),We=Ye[0];if(We){if("original"in We){var Ct=g.val(We.original);We.name!==Ct&&(o[We.name]=Ct)}We.name.endsWith(".png")&&!We.name.endsWith("_spectrogram.png")&&(c[We.name]=1)}}),Wn(o),t.files.forEach(function($e){var Ye=_slicedToArray(n.filter($e),3),We=Ye[0],Ct=Ye[1],gt=Ye[2];if(We){var nt=We.name,rt=Ff[Ct],ct="original"in We,At=nt;if(ct){At=g.val(We.original);for(var Mt=10;Mt&&At in o;Mt--)At=o[At];(gt==="mp4"||gt==="ogv")&&At in t.files&&t.files[At].format==="ISO Image"&&preg_match("/^(.*?)(d+).[^.]+$/",$filename,$m2)&&preg_match("/^(.*).[^.]+$/",$key,$mat)&&$m2[1]==$mat[1]&&($origSuffix=strrchr($fi.ORIGINAL,"."),At="{$m2[1]}{$m2[2]}$origSuffix"),At=g.val(At)}else"artist"in We?v[At]=We.artist:"creatorxxx"in We&&(v[At]=We.creatorxxx);if(!(e&&At!==e)){if(At in l||(l[At]={}),"title"in We&&(ct&&"title"in l[At]||(l[At].title=We.title)),"height"in We&&(n.heights[nt]=We.height),"width"in We&&(n.widths[nt]=We.width),"autoplay"in We&&(r[nt]=We.autoplay),"length"in We){var Lt=yp(String(g.val(We.length)));n.durations[nt]=Lt,ct&&(h[At]=1),(ct||!("length"in l[At])||!(At in h))&&(l[At].length=Math.round(Lt))}if(rt){if(ct){if(Ct==="h.264 720p"){l[At].HD=nt;return}}else{var st=We.title;if(Ct==="h.264 hd"||Ct==="h.264 mpeg4"&&(st.indexOf("[HD]")>0||st.indexOf(" HD ")>0||st.endsWith(" HD"))){l[At].HD=nt;return}if(zf&&Ct==="h.264 4k"){l[At]["4K"]=nt;return}rt>1&&(rt+=Cs)}rt>1&&(Aj.indexOf(Ct)>=0?(a[At]=1,d[nt]=1):s[At]=1),At in l||(l[At]={}),rt in l[At]?Ct==="thumbnail"&&f in l[At]&&(l[At][f]=nt):(l[At][rt]=nt,rt<Cs&&rt+Cs in l[At]?delete l[At][rt+Cs]:rt>Cs&&rt-Cs in l[At]&&delete l[At][rt-Cs])}}}}),Wn(l),this.haxLP&&(delete l["".concat(this.identifier,".flac")],delete l["".concat(this.identifier,".ogg")],delete l["".concat(this.identifier,".mp3")],delete l["".concat(this.identifier,".m4a")]);var b=Object.keys(a).length,w=Object.keys(s).length;w>0&&(w>=b||t.metadata.mediatype==="movies")?this.showing="movies":this.showing=b?"audio":!1;var k=Object.values(v);(k.length<=1||_toConsumableArray(new Set(k)).length<=1)&&(v={});var C=this.showing==="movies"?s:a,E=this.showing==="movies"?w:b,A=!0,j=!1,y=void 0;try{for(var u=Object.entries(l)[Symbol.iterator](),p;!(A=(p=u.next()).done);A=!0){var m=_slicedToArray(p.value,2),_=m[0],x=m[1];if(_ in C){var O={SRC:[]};if(0 in x)O.POSTER=x[0];else if(1 in x)O.POSTER=x[1];else{var I=!0,P=!1,D=void 0;try{for(var V=Object.entries(x)[Symbol.iterator](),q;!(I=(q=V.next()).done);I=!0){var z=_slicedToArray(q.value,2),he=z[0],Y=z[1];if(parseInt(he,10)){var B=Y.replace(/(\.m4a|\.ogg|_sample\.mp3|\.mp3)$/i,".png");B!==Y&&B in c&&(O.POSTER=B)}}}catch($e){P=!0,D=$e}finally{try{!I&&V.return!=null&&V.return()}finally{if(P)throw D}}}_ in r&&(O.AUTOPLAY=!1);var F=!0,ce=!1,J=void 0;try{for(var ae=Object.entries(x)[Symbol.iterator](),se;!(F=(se=ae.next()).done);F=!0){var ve=_slicedToArray(se.value,2),de=ve[0],Be=ve[1];if(parseInt(de,10)&&de>1){if(this.showing==="movies"&&d[Be]||this.showing!=="movies"&&!d[Be])continue;O.SRC.push(Be)}}}catch($e){ce=!0,J=$e}finally{try{!F&&ae.return!=null&&ae.return()}finally{if(ce)throw J}}O.SRC.length&&(O.TITLE="title"in x?g.val(x.title):_.split("/").pop().replace(/\.[^.]+$/,"").replace(/_512kb$/,"").replace(/_/g," "),O.ORIG=_,_ in v&&(O.ARTIST=v[_]),"length"in x?O.length=x.length:O.length=this.runtime(t,E,_),"HD"in x&&(O.HD=x.HD),zf&&"4K"in x&&(O["4K"]=x["4K"]),this.groups.push(O))}}}catch($e){j=!0,y=$e}finally{try{!A&&u.return!=null&&u.return()}finally{if(j)throw y}}if(this.captions(),xj&&Wn("player",this),this.showing==="audio"){var it=!0,mt=!1,ot=void 0;try{for(var Ae=this.groups[Symbol.iterator](),xe;!(it=(xe=Ae.next()).done);it=!0){var De=xe.value,et=!1,Ve=!1,je=!0,He=!1,qe=void 0;try{for(var lt=Object.entries(De.SRC)[Symbol.iterator](),_t;!(je=(_t=lt.next()).done);je=!0){var be=_slicedToArray(_t.value,2),ze=be[0],Re=be[1];Re.endsWith("_sample.mp3")?et=ze:Re.endsWith(".mp3")&&(Ve=!0)}}catch($e){He=!0,qe=$e}finally{try{!je&&lt.return!=null&&lt.return()}finally{if(He)throw qe}}Ve&&et!==!1&&De.SRC.splice(et,1)}}catch($e){mt=!0,ot=$e}finally{try{!it&&Ae.return!=null&&Ae.return()}finally{if(mt)throw ot}}}}return _createClass(g,[{key:"filter",value:function(e){var n=e.name,o=n.substr(1+n.lastIndexOf(".")).toLowerCase(),l=e.format.toLowerCase();if(Oj.includes(l)||n===Sj)return[];if(o==="mp3"&&(e.original==="".concat(this.identifier,"_segments.json")||e.original==="".concat(this.identifier,"_segments.xml"))&&(this.haxLP=!0,delete e.original,e.source="original"),typeof e.original=="string"&&e.original.endsWith(".torrent")&&(delete e.original,e.source="original"),o==="vtt")return this.vtts[n]=1,[];if(o==="srt")return this.srts[n]=1,[];var a=Ff[l];return o==="mp3"&&!a?[e,"64kbps mp3",o]:[e,l,o]}},{key:"jwplaylist",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],l=[],a="https://archive.org/download/".concat(this.identifier,"/"),s=["audio/mpeg","mp3","audio/ogg","ogg","video/h264","mp4","video/ogg","ogg",""];navigator.userAgent.indexOf("Chrome/")>0?_a("jest")?s=["audio/ogg","ogg","audio/mpeg","mp3","video/ogg","ogg","video/h264","mp4",""]:s=["audio/ogg","ogg","audio/mpeg","mp3","video/h264","mp4","video/ogg","ogg",""]:navigator.userAgent.indexOf(" Iceweasel/")>0&&(s=["audio/ogg","ogg","audio/mpeg","mp3","video/ogg","ogg","video/h264","mp4",""]),s.push("video/x-flv");var r=0;s=Object.fromEntries(s.map(function(D){return[D,r++]}));var d=!0,c=!1,h=void 0;try{for(var f=Object.values(this.groups)[Symbol.iterator](),v;!(d=(v=f.next()).done);d=!0){var b=v.value,w={sources:[],title:FT(b.TITLE,100,!0)};"ORIG"in b&&(w.orig=b.ORIG,"ARTIST"in b&&(w.artist=b.ARTIST)),"AUTOPLAY"in b&&(w.autoplay=b.AUTOPLAY);var k=_a("poster");k?w.image=this.url(k.replace(/^(https?):\/([^/])/,"$1://$2")):(this.showing==="movies"&&"POSTER"in b||this.showing==="audio"&&"POSTER"in b)&&(w.image=this.url(a+b.POSTER),o.length||o.push(this.url(a+b.POSTER))),"length"in b&&(w.duration=b.length),"HD"in b&&b.SRC.push(b.HD);var C={},E=!0,A=!1,j=void 0;try{for(var y=b.SRC[Symbol.iterator](),u;!(E=(u=y.next()).done);E=!0){var p=u.value,m=((p.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))$/i)||[]).pop()||(p.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))\?/i)||[]).pop()||(p.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))&/i)||[]).pop()||"").toLowerCase();if(!(n&&(m==="ogg"||m==="ogv"))){var _="",x=[640,480];switch(m){case"mp3":_="mp3";break;case"ogg":_="ogg";break;case"m4a":_="aac";break;case"ogv":_="ogg",x=[400,300];break;case"mp4":_="mp4";break;case"mpeg4":_="mp4";break;case"m4v":_="mp4";break;case"mov":_="mp4";break;case"flv":_="video/x-flv";break;case"swf":_="video/x-flv";break;default:_=""}var O=p in this.widths?this.widths[p]:x[0],I=p in this.heights?this.heights[p]:x[1],P={file:this.url(a+p),width:O,height:I};_!==""&&(P.type=_),this.showing==="movies"&&(P.label="".concat(I,"p").concat(I>=720?" HD":"")),!(_&&parseInt(I,10)===parseInt(C[_],10))&&(C[_]=I,w.sources.push(P),this.showing==="movies"&&"image"in w&&(w.tracks=[{kind:"thumbnails",file:"".concat(w.image.replace("/download/","/stream/").replace("%2F","/"),"?vtt=vtt.vtt")}]),p in this.durations&&(w.duration=Math.max(w.duration,this.durations[p])))}}}catch(D){A=!0,j=D}finally{try{!E&&y.return!=null&&y.return()}finally{if(A)throw j}}Wn(e.tv),l.push(w)}}catch(D){c=!0,h=D}finally{try{!d&&f.return!=null&&f.return()}finally{if(c)throw h}}return l}},{key:"runtime",value:function(e,n,o){return this.xxx="implement runtime() ".concat(n?typeof e=="undefined"?"undefined":_typeof(e):typeof o=="undefined"?"undefined":_typeof(o)),-1}},{key:"captions",value:function(){this.xxx="implement captions()"}},{key:"url",value:function(e){return this.xxx="sort me out ",e}}],[{key:"val",value:function(e){return typeof e=="object"?e.length?e[0]:"":e}}]),g}(),Ej=jj}}),Tj,Pj,TI=Ht({"https-url:https://av.prod.archive.org/js/util/ios.js":function(){Tj=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0,Pj=Tj}}),PI=Ht({"https-url:https://av.prod.archive.org/iso/s3.js":function(){}}),Ij,II=Ht({"https-url:https://av.prod.archive.org/js/mdapi.js":function(){PI(),Ij=UT}}),MI=Ht({"https-url:https://av.prod.archive.org/js/play/background-play.js":function(){Eu(),ka(),customElements.define("background-play",function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.toggle=!ui.get("nohls"),n}return _createClass(e,[{key:"click_on",value:function(){this.toggle=!0,ui.remove("nohls",{path:"/details"})}},{key:"click_off",value:function(){this.toggle=!1,ui.set("nohls",1,{path:"/details",expires:30})}},{key:"render",value:function(){var o="jw-settings-item-active";return ri(_templateObject456(),this.toggle,this.toggle?o:"",this.click_on,!this.toggle,this.toggle?"":o,this.click_off)}},{key:"createRenderRoot",value:function(){return this}}],[{key:"properties",get:function(){return{toggle:Boolean}}}]),e}(zo))}}),LI=Ht({"https-url:https://av.prod.archive.org/js/play/transcript-viewer.js":function(){Eu(),TO(),ak(),Ns(),customElements.define("transcript-viewer",function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return this.tracks_with_captions?ri(_templateObject460(),this.transcriptConfig?"":"dimmed",this.transcript_toggled,this.bgTheme==="light"?"light":"",this.kind,this.is_open?"margin-top:-12px":"",this.is_open?"\uFE3F":"\uFE40",this.is_open?ri(_templateObject458()):ri(_templateObject459()),this.transcriptConfig&&this.is_open?"":"not-showing",this.transcriptConfig,this.currentTime,this.transcriptEntrySelected):ri(_templateObject457())}},{key:"transcript_toggled",value:function(){this.transcriptConfig&&(this.is_open=!this.is_open,this.is_open&&globalThis.archive_analytics&&globalThis.archive_analytics.send_event("DetailsPage-MusicPlayer","LyricsButton-Clicked",window.location.pathname))}},{key:"updated",value:function(o){if(Wn("<transcript-viewer> updated()",o),o.has("trackno")&&this.update_transcript_view(),!this.tracking_time){var l=document.querySelector("video");if(l){var a=this;this.tracking_time=!0,l.addEventListener("timeupdate",function(){var s;a.currentTime=l.currentTime;var r=(s=a.shadowRoot)==null?void 0:s.querySelector("transcript-view");if(r&&(r.currentTime=a.currentTime,!a.transcript_view_tweaked)){var d=r.shadowRoot.querySelectorAll("transcript-entry");if(d.length){if(a.transcript_view_tweaked=!0,a.kind==="Lyrics (AI)"){var c=function(){return d.forEach(function(f){return f.style.display="block"})};c(),setTimeout(c,1e3)}var h=r.shadowRoot.querySelector(".col.time");h&&(h.style.top="3px")}}})}}}},{key:"transcriptEntrySelected",value:function(o){var l=o.detail||{},a=l.entry||{};if(a.start){var s=a.start;this.currentTime=s;var r=document.querySelector("video");Wn({player:r}),r&&(r.currentTime=this.currentTime,r.play())}}},{key:"update_transcript_view",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function o(){var l,a,s,r,d,c,h,f,v,b,w,k,C,E,A,j,y;return _regeneratorRuntime.default.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(delete this.transcript_view_tweaked,l=this.captions[this.trackno],l){p.next=5;break}return this.transcriptConfig=null,p.abrupt("return");case 5:if(this.transcriptConfigCache[this.trackno]){p.next=46;break}return a=l.replace(/^\/download\//,"https://archive.org/cors/"),Wn({srtUrl:a}),p.next=10,fetch(a);case 10:return s=p.sent,p.next=13,s.text();case 13:r=p.sent,d=[],c=0,h=!0,f=!1,v=void 0,p.prev=17,b=r.split("\n\n")[Symbol.iterator]();case 19:if(h=(w=b.next()).done){p.next=29;break}if(k=w.value,c+=1,C=_slicedToArray(k.match(/^[0-9]+\n([^ ]+) --> ([^ ]+)\n([\s\S]*)/m)||["",0,0,""],4),E=C[1],A=C[2],j=C[3],A){p.next=25;break}return p.abrupt("continue",26);case 25:d.push({id:c,start:yp(E,!0),end:yp(A,!0),text:j,is_music:!1});case 26:h=!0,p.next=19;break;case 29:p.next=35;break;case 31:p.prev=31,p.t0=p.catch(17),f=!0,v=p.t0;case 35:p.prev=35,p.prev=36,!h&&b.return!=null&&b.return();case 38:if(p.prev=38,!f){p.next=41;break}throw v;case 41:return p.finish(38);case 42:return p.finish(35);case 43:Wn({json:d}),y=d.map(function(m){return new eb(m.id,m.start,m.end,m.text,m.is_music,m.search_match_index)}),this.transcriptConfigCache[this.trackno]=new Tf(y);case 46:this.transcriptConfig=this.transcriptConfigCache[this.trackno];case 47:case"end":return p.stop()}},o,this,[[17,31,35,43],[36,,38,42]])}))}},{key:"firstUpdated",value:function(){var o,l;Wn("<transcript-viewer> firstUpdated()"),this.currentTime=0;var a="Lyrics";this.kind=a,this.captions=[],this.transcriptConfigCache=[];var s=!0,r=!1,d=void 0;try{for(var c=Object.entries(JSON.parse(this.playlist))[Symbol.iterator](),h;!(s=(h=c.next()).done);s=!0){var f=_slicedToArray(h.value,2),v=f[0],b=f[1];if(b.tracks){var w={},k=!0,C=!1,E=void 0;try{for(var A=b.tracks[Symbol.iterator](),j;!(k=(j=A.next()).done);k=!0){var y=j.value;y.kind==="subtitles"&&((o=y.file)!=null&&o.endsWith(".srt"))&&(w[(l=y.label)!=null?l:"none"]=y.file)}}catch(u){C=!0,E=u}finally{try{!k&&A.return!=null&&A.return()}finally{if(C)throw E}}this.captions[v]=w.align||w.cc5||w.en||w.asr||w.none,(this.captions[v]===w.align||this.captions[v]===w.asr)&&(this.kind="".concat(a," (AI)"))}}}catch(u){r=!0,d=u}finally{try{!s&&c.return!=null&&c.return()}finally{if(r)throw d}}Wn(this.captions),this.tracks_with_captions=Object.values(this.captions).length}}],[{key:"properties",get:function(){return{transcriptConfig:Object,is_open:Boolean,playlist:Object,trackno:Number,bgTheme:String}}},{key:"styles",get:function(){var o=185,l=5,a=1;return sc(_templateObject461(),si(o),si(l),si(a),si(o+2*a+2*l))}}]),e}(zo))}}),Mj={};wi(Mj,{default:function(){return Wj}});var Hf,sk,qc,ra,Lj,Rj,ia,Dj,$j,Nj,lk,Bj,Uf,uk,zj,Fj,Hj,Uj,Vf,ck,$a,Vj,Wj,RI=Ht({"https-url:https://av.prod.archive.org/js/play.js":function(){if(Y4(),ka(),Eu(),Jx(),Jp(),Ns(),ev(),EI(),rv(),TI(),II(),MI(),LI(),Hf=480,sk=640,qc=30,ra=60,Lj=10,Rj=350,ia=qc,Dj=60,$j=140,Nj=200,lk=490,Bj=lk+55,Uf=152,uk=800,zj=20,Fj=370,Hj=100,Uj=100,Vf=1200,ck={start:0,embed:!1,hide_list:!1,autoplay:!1,audio:!1,width:0,height:0,responsive:!1,aspectratio:!1,noshare:!1,nolinks:!1,logo:!1,so:!1,tv:!1,tvStart:0,tvEnd:0,tvContributor:!1,tvSource:!1,play_just1:!1,list_height:0,identifier:!1,onTime:!1,onComplete:!1,onDisplayClick:!1,onReady:!1,onPlaylistItem:!1,collection:!1,collections:[],waveformer:!1,speed:1,details:location.href,triggers:[],headless:null},$a=function(a){"use strict";_inherits(r,a);var s=_createSuper(r);function r(d,c){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};_classCallCheck(this,r);var f;return f=s.call(this),!d&&f.getAttribute("jid")&&f.getAttribute("playlist")&&f.getAttribute("args")&&(d=f.getAttribute("jid"),c=JSON.parse(f.getAttribute("playlist")),h=JSON.parse(f.getAttribute("args")),h.headless&&(h.onPlaylistItem=r.headless_callback,delete r.headless_callback),Wn("TRIFECTA",{jid:d,playlist:c,args:h})),d||X(".js-play8-config").each(function(v,b){h=JSON.parse(X(b).val()),d=h.jid||"jw6";var w=X(".js-play8");X("play-av").length||w.attr({id:d}),_a("playset")&&(h.onComplete=nv.onComplete),c=JSON.parse(X(".js-play8-playlist").val())}),d?_possibleConstructorReturn(f,f.construct(d,c,h)):f}return _createClass(r,[{key:"construct",value:function(c,h,f){var v=this,b,w,k;this.jid=c;var C=this.cache();if(C)return C;X("play-av").attr("jid")||X("play-av").attr("jid",c),r.STASH[c]=this,Wn("PLAY CONFIG:",f);var E=!0,A=!1,j=void 0;try{for(var y=Object.entries(ck)[Symbol.iterator](),u;!(E=(u=y.next()).done);E=!0){var p=_slicedToArray(u.value,2),m=p[0],_=p[1];this[m]=_}}catch(Be){A=!0,j=Be}finally{try{!E&&y.return!=null&&y.return()}finally{if(A)throw j}}var x=!0,O=!1,I=void 0;try{for(var P=Object.entries(f)[Symbol.iterator](),D;!(x=(D=P.next()).done);x=!0){var V=_slicedToArray(D.value,2),q=V[0],z=V[1];q in ck&&(this[q]=z)}}catch(Be){O=!0,I=Be}finally{try{!x&&P.return!=null&&P.return()}finally{if(O)throw I}}this.tvTitle=this.tv&&h.length===1?h[0].title:"",this.list_2cols=this.responsive&&this.audio,this.jidsel="#".concat(c),this.readyIA=!1,this.DAR=4/3,this.first_seeked_playlist=!1,this.waveformed=!1,this.pause_first_seek=this.embed&&!this.tv&&!this.audio&&!this.autoplay&&this.start,this.update_url_onload=this.headless;var he=!1;if(this.jwaudioPercentDone=0,this.reloading_playlist_playlist_idx=0,this.playlist=h,this.panels_count=1,this.panelno=0,this.waveformer_played_color="#aaa",this.waveformer_progress_color="#000",this.canHLS=document.createElement("video").canPlayType("application/vnd.apple.mpegURL"),this.HLS=this.canHLS&&((b=this.triggers)!=null&&b.length)&&h.length&&!this.onTime?new Vj(this):null,this.nolinks&&(this.identifier=!1,this.collection=!1,this.collections=[],this.noshare=!0),this.speed=parseFloat(this.speed),!X(this.jidsel).length){Wn("play.js requires #",c," element on page -- not found"),this.retry={playlist:h,args:f};return}if(this.responsiveResize(!0),this.identifier!==!1&&(this.details="https://archive.org/details/".concat(this.identifier)),this.tv&&this.tvEnd&&(this.details+="/start/".concat(this.tvStart,"/end/").concat(this.tvEnd)),typeof h=="undefined"&&(h=[{sources:[{file:"/download/family-rolled/family-rolled.mp4"},{file:"/download/family-rolled/family-rolled.ogv"}],image:"/download/family-rolled/format=Thumbnail&ignore=x.jpg"}],this.playlist=h,this.start=!0,this.hide_list=!0),this.hide_list||(this.list_height||(this.list_height=this.audio?Fj:Hj),this.list_height=Math.min(this.list_height,h.length*zj)),!this.responsive&&!(this.width>0&&this.height>0))if(this.embed){var Y=X(window).width(),B=X(window).height();this.width=this.audio?Math.min(Y,uk):Y,this.height=this.audio?ia+this.list_height:B-this.list_height}else this.aspectratio||(this.width=this.audio?Rj:sk,this.height=this.audio?ia+this.list_height:Hf);X.each(h,function(Be,it){if(typeof it.autoplay!="undefined"&&(he||(he=[]),he[Be-1]=!it.autoplay),typeof it.sources=="undefined"&&typeof it.file!="undefined"&&(it.sources=[{file:it.file,height:480}]),typeof it.sources=="undefined")alert("".concat(Be,": sources undefined!"));else{var mt=!0,ot=!1,Ae=void 0;try{for(var xe=it.sources[Symbol.iterator](),De;!(mt=(De=xe.next()).done);mt=!0){var et=De.value;typeof et.file!="undefined"&&(!Be&&et.file.indexOf("/download")>=0&&(et.file=et.file.replace(/\/download\//,"/serve/")),et.file=r.filename_char_encoder(et.file))}}catch(Ve){ot=!0,Ae=Ve}finally{try{!mt&&xe.return!=null&&xe.return()}finally{if(ot)throw Ae}}}}),this.tvTitle&&(h[0].title=h[0].title.replace(/( \d+:\d+[amp]+)-\d+:\d+[amp]+ /,"$1 "));var F=JSON.parse(JSON.stringify(h));F.forEach(function(Be){return v.audio&&delete Be.tracks,Be});var ce={playlist:F,abouttext:"this item, formats, and more at Internet Archive",aboutlink:this.details,startparam:"start",logo:{},cast:{},preload:"metadata",playbackRateControls:!0,playbackRates:[.25,.5,.75,1,1.25,1.5,1.75,2,3],autostart:this.autoplay,hlsplayer:"/jw/x/provider.hlsjs.js",fallback:this.so,width:isNaN(this.width)?"100%":this.width,height:this.audio?qc:this.height,base:Zp};if(this.responsive&&!this.embed?ce.displaytitle=!1:this.aspectratio&&(ce.width="100%",ce.aspectratio=this.aspectratio,delete ce.height),this.identifier!==!1){var J=this.tv&&this.tvEnd?"?start=".concat(this.tvStart,"&end=").concat(this.tvEnd):"",ae='<iframe src="https://archive.org/embed/MEDIAID"\n                            width="'.concat(this.audio?500:sk,'"\n                            height="').concat(this.audio?ia:Hf,'"\n                            frameborder="0"\n                            webkitallowfullscreen="true"\n                            mozallowfullscreen="true"\n                            allowfullscreen></iframe>').replace(/embed\/MEDIAID/,"embed/".concat(this.identifier).concat(J)).replace(/\s+/g," "),se="[archiveorg ".concat(this.identifier).concat(J," width=640 height=").concat(this.audio?ia:Hf," frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]");ce.mediaid=this.identifier,X("#embedcodehere").text(ae),X("#embedcodehereWP").text(se)}if((this.embed&&!this.audio&&!this.nolinks||this.logo)&&(ce.logo={file:"https://av.prod.archive.org/jw/glogo-ghost.png",link:this.details,position:"top-right",margin:2,hide:!1}),this.play_just1||he){var ve=this,de=this.onComplete;this.onComplete=function(Be){var it={done:ve.play_just1||he[Be.getPlaylistIndex()]};it.done&&Be.stop(),de&&de(Be,it)}}return(w=this.HLS)==null||w.update_playlist(ce),Wn(ce),this.headless?(this.playN((k=this.headless.playN)!=null?k:0),this):(Tr(c).setup(ce),Tr(c).on("ready",function(){var Be=v,it;Wn("IA ",c," is ready");var mt=Tr(c);v.player=mt,Wn("NOTE: JW version: ",Tr.version);{var ot=v.playlist.length,Ae=mt.getConfig().playlist.length;ot!==Ae&&!(v.HLS&&Ae===1&&ot>1)&&console.error("BIG PROBLEM: passed in playlist length !== jwplayer config playlist length",v.playlist.length,"-vs-",mt.getConfig().playlist.length)}if((it=v.HLS)==null||it.setup(v),v.onTime&&Wn("NOTE: onTime() is in use!"),v.onTime&&mt.on("time",function(){return Be.onTime(mt)}),v.onComplete&&mt.on("complete",function(){return Be.onComplete(mt)}),v.onDisplayClick&&mt.on("displayClick",function(){return Be.onDisplayClick(mt)}),v.audio?mt.on("firstFrame",function(){return r.track_event("Details-Audio-Beta|AudioStarted")}):v.tv||(mt.on("firstFrame",function(){return r.track_event("Details-Video|VideoStarted")}),mt.on("complete",function(){return r.track_event("Details-Video|VideoEnded")})),v.readyIA=!0,v.requestUpdate(),mt.once("meta",function(De){Wn("onMeta() fired"),Be.embed&&!Be.audio&&Be.adjust_video_width(De),Be.HLS||Be.unpreload(),Be.start&&(Wn("SEEK TO: ",Be.start),Be.pause(),Tr(c).seek(Be.start))}),mt.on("playlistItem",function(De){var et=Be,Ve=De.index;if(Wn("onPlaylistItem: ",Ve),Be.reloading_playlist_playlist_idx&&!Ve){Wn("onPlaylistItem: ignoring since desired index ".concat(Be.reloading_playlist_playlist_idx," !== ").concat(Ve," -- and this is likely an event from reloading the playlist"));var je=Be.reloading_playlist_playlist_idx;Be.reloading_playlist_playlist_idx=0,Tr(c).playlistItem(je);return}Be.track_change(mt,Ve),Be.seeker_playlist(),Be.speed!==1&&setTimeout(function(){return et.set_speed},1e3),Be.waveformer_setup(mt)}),v.onPlaylistItem){var xe=v;mt.on("playlistItem",function(De){Wn("onPlaylistItem",{e:De}),xe.onPlaylistItem(mt,De)})}mt.on("playlistComplete",function(){!Be.audio&&Be.collection&&!Be.tv&&Be.related_items_click()}),mt.on("error",function(De){Wn("err"),Wn(De),X(Be.jidsel).css({"background-color":"black"})}),v.onReady&&v.onReady(mt)}),this)}},{key:"url_updater",value:function(c,h){if(Wn("url_updater(".concat(h,")")),!(this.tv||this.embed||!this.identifier||typeof history.replaceState=="undefined")&&!(this.playlist.length<=1||!this.playlist[h]||!this.playlist[h].orig&&!this.headless)){var f=this.playlist[h].orig;if(this.update_url_onload){var v="/details/".concat(this.identifier).concat(f===""?"":"/".concat(encodeURIComponent(f).replace(/%2F/g,"/").replace(/%20/g,"+"))),b=_a("playset",!0)?"?playset=1&autoplay=1":"";Wn("updating url to",v+b),history.replaceState({},null,v+b)}else{var w=this;Wn("looks like /details/ page loaded cold-state at #".concat(h,"-- leave url AS IS")),c==null||c.once("play",function(){Wn("time to start updating urls"),w.update_url_onload=!0,w.url_updater(c,h)})}}}},{key:"waveformer_setup",value:function(c){var h=this,f;if(!(!this.audio||this.waveformed)){X("#".concat(this.jid)).css("border-radius","".concat(ra/2,"px 0 0 ").concat(ra/2,"px")),this.recolor(),X(".jw-slider-time").remove(),setTimeout(function(){X("#ia-scrubber").html('\n        <div class="jw-slider-time jw-background-color jw-reset jw-slider-horizontal jw-reset"\n          style="padding:0" tabindex="0" role="slider" aria-label="Seek">\n          <div class="jw-slider-container jw-reset">\n            <div class="jw-rail     jw-reset" style="background-color: #ccc"></div>\n            <div class="jw-buffer   jw-reset" style="background-color: #999"></div>\n            <div class="jw-progress jw-reset" style="background-color: #000"></div>\n            <div class="jw-knob jw-reset"\n              style="transform: translate(-50%,-50%) scale(.75); border: 1px solid black"></div>\n          </div>\n        </div>')},750);var v='<svg viewBox="0 0 4 16" xmlns="http://www.w3.org/2000/svg"><path d="m2 4c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2zm0 6c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2zm0 6c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2z" fill-rule="evenodd"/></svg>';X(".jw-icon-settings svg").html(v),X(".jw-text-countdown").remove(),this.HLS?(X(".jw-text-elapsed, .jw-text-duration").remove(),X(".jw-button-container").append('\n<div id="play-hls-elapsed" class="jw-icon jw-icon-inline jw-text jw-reset jw-text-elapsed"\nrole="timer">00:00</div>\n<div id="play-hls-duration" class="jw-icon jw-icon-inline jw-text jw-reset jw-text-duration"\nrole="timer">'.concat(r.sec2hms(Math.round((f=this.playlist[0])==null?void 0:f.duration)||0),"</div>"))):(X(".jw-icon-settings").after(X(".jw-text-elapsed")),X(".jw-text-elapsed").after(X(".jw-text-duration"))),this.canHLS&&(X("#jw-settings-menu .jw-settings-topbar-buttons > div:last-child()").before('\n          <div class="jw-icon jw-icon-inline jw-button-color jw-reset jw-settings-backgroundPlay jw-submenu-backgroundPlay"\n          role="menuitemradio" tabindex="0"\n          aria-label="Background Play"\n          name="backgroundPlay"\n          type="button"\n          aria-haspopup="true"\n          aria-controls="jw-settings-submenu-backgroundPlay">\n            <img src="//av.prod.archive.org/img/infinity.png"/>\n            <div class="jw-reset-text jw-tooltip jw-tooltip-backgroundPlay" dir="auto">\n              <div class="jw-text">Background Play</div>\n            </div>\n          </div>'),X("#jw-settings-menu").append('<background-play id="jw-settings-submenu-backgroundPlay"\n        class="jw-reset jw-settings-submenu jw-settings-submenu-backgroundPlay"\n        role="menu"></background-play>'),X(".jw-settings-backgroundPlay").on("click",function(){X(".jw-settings-submenu-active").removeClass("jw-settings-submenu-active"),X("#jw-settings-submenu-backgroundPlay").addClass("jw-settings-submenu-active"),X(".jw-settings-backgroundPlay").attr("aria-expanded","true"),X(".jw-settings-playbackRates").attr("aria-expanded","")}),X(".jw-settings-playbackRates").on("click",function(){X(".jw-settings-submenu-active").removeClass("jw-settings-submenu-active"),X("#jw-settings-submenu-playbackRates").addClass("jw-settings-submenu-active")}),X(".jw-settings-playbackRates, .jw-settings-submenu-button, .jw-settings-close").on("click",function(){X("#jw-settings-submenu-backgroundPlay").removeClass("jw-settings-submenu-active"),X(".jw-settings-playbackRates").attr("aria-expanded","true"),X(".jw-settings-backgroundPlay").attr("aria-expanded","")})),X("#ia-scrubber").on("click",function(b){return h.waveform_clicked(b)}),c.on("time",function(b){var w;if(b.duration){h.HLS?h.HLS.on_time():h.jwaudioPercentDone=Math.min(1,b.position/b.duration);var k="".concat(Number(100*h.jwaudioPercentDone).toFixed(3),"%"),C=h.shadowRoot.getElementById("waveformer");C.style.width=k,h.waveformer_played_color&&(C.style.backgroundColor=h.waveformer_played_color),X("#ia-scrubber").find(".jw-knob").css("left",k),X("#ia-scrubber").find(".jw-progress").css({width:k,backgroundColor:(w=h.waveformer_progress_color)!=null?w:"#000"})}}),c.on("bufferChange",function(b){h.HLS?Wn("xxxhls HLS buffering"):X("#ia-scrubber").find(".jw-buffer").css("width","".concat(b.bufferPercent,"%"))}),this.waveformed=!0}}},{key:"waveform_clicked",value:function(c){var h=X(this.shadowRoot.getElementById("waveformer-wrap")).width(),f=Number(c.offsetX/h).toFixed(2);if(Wn("waveform_clicked",{percent:f}),this.HLS)return this.HLS.waveform_clicked(f);var v=this.player.getPlaylistItem().duration||0;this.player.seek(v*f)}},{key:"recolor",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function c(){var h,f,v,b,w,k,C,E,A,j;return _regeneratorRuntime.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(h=this,!((f=document.querySelector("ia-music-theater"))!=null&&f.hasAttribute("noimageavailable"))){u.next=5;break}return this.recolor_generic(),u.abrupt("return");case 5:if(w=(v=X("ia-music-theater img"))==null?void 0:v.get(0),w){u.next=8;break}return u.abrupt("return");case 8:return u.t0=_slicedToArray,u.next=11,Promise.all([Promise.resolve().then(function(){return MO(),nb}),Promise.resolve().then(function(){return rj(),tk})]);case 11:u.t1=u.sent.map(function(p){return p.default}),k=(0,u.t0)(u.t1,2),C=k[0],E=k[1],A=function(){var p,m,_=new C,x=_.getPalette(w,5);if(Wn({palette:x}),!!x){var O=x[0];if(Wn({dominantColorRGB:O}),!!O){var I=(p=E.rgb).hsl.apply(p,_toConsumableArray(O));Wn({HSL:I});var P=Math.round(O.reduce(function(q,z){return q+z})/O.length),D=P>=128?"black":"white";Wn({avgVal:P});var V=(m=document.getElementById("theatre-ia-wrap"))!=null?m:document.getElementsByTagName("body")[0];V.style.color=D,V.style.backgroundImage="linear-gradient(rgb(".concat(O.join(","),"), black)"),V.style.backgroundRepeat="no-repeat",D==="black"&&(h.bgTheme="light",document.querySelector("ia-music-theater").setAttribute("bgTheme","light")),h.waveformer_played_color="hsl(".concat(I[0],",").concat(I[1],"%,").concat(Math.min(100,1.5*I[2]),"%)")}}},j=(b=document.getElementById("theatre-ia-wrap"))!=null?b:document.getElementsByTagName("body")[0],j.style.backgroundImage="linear-gradient(#aaa, black)",j.style.backgroundRepeat="no-repeat",j.style.backgroundColor="black",w.crossOrigin="Anonymous",w.complete?A():w.addEventListener("load",A);case 22:case"end":return u.stop()}},c,this)}))}},{key:"recolor_generic",value:function(){var c,h=["linear-gradient(\n        hsl(330, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(230, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(190, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(280, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(310, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )","linear-gradient(\n        hsl(360, 80%, 22%),\n        hsl(0, 0%, 0%) 50%,\n        hsl(0, 0%, 0%)\n      )"],f=["hsl(300, 80%, 55%)","hsl(200, 80%, 55%)","hsl(160, 80%, 55%)","hsl(250, 80%, 55%)","hsl(280, 80%, 55%)","hsl(340, 80%, 55%)"],v=["hsl(300, 80%, 22%)","hsl(200, 80%, 22%)","hsl(160, 80%, 22%)","hsl(250, 80%, 22%)","hsl(280, 80%, 22%)","hsl(340, 80%, 22%)"],b=r.hash_string(this.identifier)%6,w=(c=document.getElementById("theatre-ia-wrap"))!=null?c:document.getElementsByTagName("body")[0];w.style.backgroundImage=h[b],this.waveformer_played_color=f[b],this.waveformer_progress_color=v[b]}},{key:"on",value:function(c,h){var f=Tr&&Tr(this.jid);return f&&f.on(c,h),this}},{key:"adjust_video_width",value:function(c){!c.width||!c.height||(c.height&&c.width&&c.height>0&&c.width>0&&parseInt(c.height,10)>0&&(this.DAR=parseInt(c.width,10)/parseInt(c.height,10),Wn("DAR: ",this.DAR,c.width,"x",c.height)),this.embedResize())}},{key:"embedResize",value:function(){if(!(!Tr||!Tr(this.jid))){if(this.audio){Tr(this.jid).resize(Math.min(uk,X(window).width()),ia);return}var c=X(window).width(),h=X(window).height()-this.list_height;Tr(this.jid).resize(c,h)}}},{key:"playN",value:function(c,h){if(this.headless)return this.onPlaylistItem(c-(this.headless.has_full_album?1:0)),this.track_change(void 0,c);var f=Tr(this.jid);return Wn("playN",{readyIA:this.readyIA,idx:c,load_paused:h,state:f.getState()}),h&&f.once("play",function(){return f.pause()}),this.HLS?(f.seek(c?this.triggers[c-1]-this.HLS.WIGGLE:0),this.track_change(f,c),!1):(f.playlistItem(c),!1)}},{key:"track_change",value:function(c,h){Wn("track_change",{idx:h}),this.trackno=h,this.url_updater(c,h)}},{key:"seeker_playlist",value:function(){if(!this.first_seeked_playlist){if(this.first_seeked_playlist=!0,this.pause_first_seek){var c=this;Tr(this.jid).once("seek",function(){c.pause(),Wn("... paused first seek!")})}this.start&&(this.pause(),Tr(this.jid).seek(this.start))}}},{key:"embed_setup",value:function(){var c=this;X(window).on("resize  orientationchange",function(){var h=c;clearTimeout(r.throttler2),r.throttler2=setTimeout(function(){new r(h.jid).embedResize()},250)})}},{key:"unpreload",value:function(){var c=Tr(this.jid),h=c.getPlaylist(),f=c.getPlaylistIndex();if(Wn("unpreload:",{startPlaylistIdx:f}),h.length&&(typeof h[0].file!="undefined"&&(h[0].file=h[0].file.replace(/\/serve\//,"/download/")),typeof h[0].sources!="undefined")){var v=!0,b=!1,w=void 0;try{for(var k=h[0].sources[Symbol.iterator](),C;!(v=(C=k.next()).done);v=!0){var E=C.value;E.file=E.file.replace(/\/serve\//,"/download/")}}catch(A){b=!0,w=A}finally{try{!v&&k.return!=null&&k.return()}finally{if(b)throw w}}}f?(c.on("playlist",function(){Wn("unpreload: onplaylist:",{startPlaylistIdx:f}),c.playlistIndex=f,c.playlistItem(f)}),this.reloading_playlist_playlist_idx=f):!this.start&&!this.autoplay&&(this.update_url_onload=!1),c.load(h)}},{key:"details_setup",value:function(){Wn("details_setup");var c=0,h="^/details/".concat(this.identifier,"/([^&?]+)"),f=location.pathname.match(h);if(f){var v=decodeURIComponent(f[1].replace(/\+/g,"%20"));Wn("looking for: ",v);for(var b in this.playlist){var w=Number(b);if(this.playlist[w].orig===v){Wn("player should seek to track #",w),c=w;break}}}if(!c&&!this.start&&!this.autoplay&&(this.update_url_onload=!1),!this.autoplay&&(c||this.start))if(Wn("seek #",c," to ",this.start),this.HLS){var k=this;setTimeout(function(){return k.playN(0,!0)},500),setTimeout(function(){return k.playN(c,!0)},1e3)}else{var C=Tr(this.jid);C.playlistItem(c)}}},{key:"pause",value:function(){var c=Tr(this.jid);this.readyIA&&c&&c.getState&&c.getState()==="playing"&&c.pause()}},{key:"remove",value:function(){this.pause();var c=Tr(this.jid);this.readyIA&&c&&c.getConfig()&&c.remove(),delete r.STASH[this.jid]}},{key:"set_speed",value:function(){var c,h=X("#".concat(this.jid," video")).get(0);h.playbackRate=(c=this.speed)!=null?c:1,Wn("speed to ".concat(h.playbackRate))}},{key:"add_buttons",value:function(c){var h=this,f,v='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" style="transform: rotate(180deg)" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',b='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',w='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 25 75 50"><path d="M67.5,18c-5.1,0-9.3,4.2-9.3,9.3c0,0.5,0.1,1.1,0.2,1.6l-23,12.9c-1.7-1.8-4.1-3-6.8-3,c-5.1,0-9.3,4.1-9.3,9.3c0,5.1,4.1,9.3,9.3,9.3c2.7,0,5.2-1.2,6.9-3.1l22.8,13.4c0,0.4-0.1,0.7-0.1,1.1c0,5.1,4.1,9.3,9.3,9.3,c5.1,0,9.3-4.1,9.3-9.3c0-5.1-4.1-9.3-9.3-9.3c-2.8,0-5.4,1.3-7.1,3.3L37.7,49.4c0.1-0.4,0.1-0.9,0.1-1.3c0-0.5,0-1-0.1-1.5,l23.1-13c1.7,1.8,4.1,3,6.8,3c5.1,0,9.3-4.1,9.3-9.3C76.8,22.2,72.6,18,67.5,18L67.5,18z"></path></svg>',k='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-airplay-on" viewBox="0 0 240 240"><path d="M229.9,40v130c0.2,2.6-1.8,4.8-4.4,5c-0.2,0-0.4,0-0.6,0h-44l-17-20h46V55H30v100h47l-17,20h-45c-2.6,0.2-4.8-1.8-5-4.4c0-0.2,0-0.4,0-0.6V40c-0.2-2.6,1.8-4.8,4.4-5c0.2,0,0.4,0,0.6,0h209.8c2.6-0.2,4.8,1.8,5,4.4C229.9,39.7,229.9,39.9,229.9,40z M104.9,122l15-18l15,18l11,13h44V75H50v60h44L104.9,122z M179.9,205l-60-70l-60,70H179.9z"/></svg>';if(this.embed&&!this.nolinks){var C=this,E=this.tvTitle?"".concat(this.tvTitle.replace(/ : /g,"\n"),"\n\nClick above for more information and clips\nat the Internet Archive"):"More Formats from Internet Archive";c.addButton("/images/glogo-jw.png",E,function(){var m=document.createElement("a");m.setAttribute("href",C.details),m.setAttribute("target","_blank"),document.body.appendChild(m),m.click()},"btn-ia")}if(this.embed&&!this.audio&&!this.noshare&&!this.tv){if(this.identifier!==!1){var A=this;c.addButton("/jw/embed.png","Embedding Examples and Help",function(){globalThis.top.location.href="/help/video.php?identifier=".concat(A.identifier)},"btn-mbd")}globalThis.AJS&&(c.addButton(w,"share",function(){var m=X(".jw-icon[button=btn-shr]").get(0);globalThis.AJS.modal_go(m,{ignore_lnk:1,shown:globalThis.AJS.embed_codes_adjust})},"btn-shr"),X(".jw-icon[button=btn-shr]").attr("href","ignored").attr("data-target","#cher-modal"))}if(this.tv&&this.embed&&this.tvSource!==!1){var j=this;c.addButton("/images/tv/".concat(this.identifier.split("_")[0],".png"),"Look for this show on ".concat(this.tvContributor," website"),function(){globalThis.top.location.href=j.tvSource},"btn-tv")}if(!this.audio&&this.collection&&!this.tv){var y=this;c.addButton("http://av.prod.archive.org/jw/related.png","Related Videos",function(){y.related_items_click()},"btn-rel")}if(0)var u;if(X(".jw-icon-settings").css("display","flex"),X(".jw-slider-time").remove(),X(".jw-icon-settings").on("click",function(){return h.settings_opened()}),X(".jw-settings-close").on("click",function(){return h.settings_closed()}),c.on("playbackRateChanged",function(){return h.settings_closed()}),X(".jw-icon-volume").on("mouseover",function(){X('div[button="btn-prv"]').hide(),X('div[button="btn-nxt"]').hide(),X(".jw-icon-settings").hide()}),X("".concat(this.jidsel," .jw-button-container")).on("mouseleave",function(){X('div[button="btn-prv"]').show(),X('div[button="btn-nxt"]').show(),X(".jw-icon-settings").show()}),!this.tv&&((f=this.playlist)==null?void 0:f.length)>1){var p=this;c.addButton(b,"next",function(){return(p.HLS||c).playlistNext()},"btn-nxt"),c.addButton(v,"previous",function(){return(p.HLS||c).playlistPrev()},"btn-prv")}}},{key:"settings_opened",value:function(){X(this.jidsel).css("overflow","visible"),X(".jw-controls").css("overflow","visible").show(),X("#jw-settings-menu").css({overflow:"visible",height:Nj,top:qc+5,bottom:"initial"}),X(".jw-controlbar").show(),X(".jw-icon-settings").removeClass("jw-icon-settings");var c=document.querySelector(".jw-settings-submenu-button:not(.jw-off)").getBoundingClientRect().x-document.getElementById("jw6").getBoundingClientRect().x,h=c-Uf+7;Wn({kebab_left:c,settings_new_left:h}),document.querySelector("body.jwaudio #jw-settings-menu").style.left="".concat(h,"px")}},{key:"settings_closed",value:function(){X(this.jidsel).css("overflow","")}},{key:"cast",value:function(){var c=this;if(globalThis.WebKitPlaybackTargetAvailabilityEvent){X("#".concat(this.jid," video")).get(0).webkitShowPlaybackTargetPicker();return}if(globalThis.chrome){var h=function(v,b){b.play(null,function(w){Wn("media play success",v,b,w)},function(w){Wn("media play fail",w)})};this.cast_retries=0;var f=function(){var v=c;if(Wn("cast_setup #",c.cast_retries),c.cast_retries+=1,c.cast_retries>3)return!1;if(!globalThis.chrome.cast)return setTimeout(f,c.cast_retries*1e3);var b=globalThis.chrome.cast,w=new b.SessionRequest(b.media.DEFAULT_MEDIA_RECEIVER_APP_ID),k=new b.ApiConfig(w,function(C){C.media.length&&h("onRequestSessionSuccess",C.media[0])},function(C){Wn("receiver listener fail",C)});return b.initialize(k,function(){var C=v;Wn("cast init success"),b.requestSession(function(E){Wn("request session success",E);var A=X("".concat(C.jidsel," video")).attr("src"),j="".concat(location.protocol,"//").concat(location.host).concat(A),y=new b.media.MediaInfo(j),u=new b.media.LoadRequest(y);E.loadMedia(u,h.bind(C,"loadMedia"),function(p){Wn("onMediaError",p)})},function(E){Wn("request session fail",E),setTimeout(f,500)})},function(){return Wn("cast init failure")}),!0};f()}}},{key:"related_items_click",value:function(){var c=this,h=function(){X("".concat(c.jidsel," .jw-controlbar")).one("click",function(b){X("#related-items-bg").hide(),b.preventDefault()})};if(typeof Su!="undefined"&&!X("#related-items").length){var f=this;X("".concat(this.jidsel)).prepend('\n<div id="related-items-bg" style="display:none">\n  <div id="related-items">\n  </div>\n</div>\n'),Su.getRelatedItems(this.identifier,!0).then(function(b){var w=Math.floor(b.length/2),k="",C=!0,E=!1,A=void 0;try{for(var j=Object.entries(b)[Symbol.iterator](),y;!(C=(y=j.next()).done);C=!0){var u=_slicedToArray(y.value,2),p=u[0],m=u[1];Number(p)===w&&f.collection==="prelinger"?(r.track_event("Details-Video|DonationEndrollDisplayed"),k+='\n<a class="related-donate"\n   href="https://archive.org/donate/?origin=iawww-VidEndrollDonateButton"\n   data-event-click-tracking="Details-Video|DonationEndrollClicked"\n   data-event-tracking-options=\'{ "service": "ao_no_sampling" }\'>\n  <div>\n    <div class="related-ctr related-donate-logo">\n      <img src="/images/logo-circle-grey.svg" alt="archive logo"/>\n    </div>\n    <div class="related-ctr related-donate-msg">\n      <div>\n        Your donation helps us keep these videos free for everyone\n      </div>\n    </div>\n    <div class="related-ctr related-donate-btn">\n      <div>\n        CHIP IN\n      </div>\n    </div>\n  </div>\n</a>\n'):k+='\n<div>\n  <a href="/details/'.concat(m.identifier,'"\n    data-event-click-tracking="Details-Video|LastFrameLinkChosen"\n    data-event-tracking-options=\'{ "service": "ao_2" }\'>\n    <div class="related-ttl">\n      ').concat(m.title!==null?m.title:"","\n      ").concat(m.creator!==null?"<br/>&nbsp;&nbsp;<small>by:</small>&nbsp;".concat(m.creator):"","\n      ").concat(m.downloads!==null?"<div>".concat(m.downloads," views</div>"):"",'\n    </div>\n    <img src="/services/img/').concat(m.identifier,'"/>\n  </a>\n</div>\n')}}catch(_){E=!0,A=_}finally{try{!C&&j.return!=null&&j.return()}finally{if(E)throw A}}X("#related-items").html(k),X("#related-items-bg").show(),h()})}else{var v=X("#related-items-bg:visible").length;v?X("#related-items-bg").hide():(X("#related-items-bg").show(),setTimeout(h,500))}onclick("#related-items-bg",function(){return X("#related-items-bg").hide()})}},{key:"add_playlist_panel",value:function(){var c=this;return this.hide_list?"":ri(_templateObject466(),this.prior_panel,this.playlist.map(function(h,f){var v;return ri(_templateObject464(),c.playlist_track_click,c.trackno===f?"selected":"",f,c.headless?"":ri(_templateObject462(),f+1),(v=h.title)!=null?v:"",h.artist?ri(_templateObject463(),h.artist):"","",h.duration?r.sec2hms(h.duration):c.headless?"- \u2013:\u2013 -":"")}),_toConsumableArray(Array(this.panels_count)).map(function(h,f){return ri(_templateObject465(),c.goto_panel,f,Number(f)===c.panelno?"selected":"",f)}),this.next_panel)}},{key:"playlist_track_click",value:function(c){this.playN(Number(c.currentTarget.dataset.trackNumber))}},{key:"prior_panel",value:function(){this.panelno-=1;var c=this.shadowRoot.querySelector(".flexbox-pages");c.scrollBy({top:0,left:-1*c.clientWidth,behavior:"smooth"}),this.requestUpdate()}},{key:"next_panel",value:function(){this.panelno+=1;var c=this.shadowRoot.querySelector(".flexbox-pages");c.scrollBy({top:0,left:c.clientWidth,behavior:"smooth"}),this.requestUpdate()}},{key:"goto_panel",value:function(c){var h=this.shadowRoot.querySelector(".flexbox-pages");this.panelno=Number(c.currentTarget.dataset.pageNumber),h.scrollTo({top:0,left:this.panelno*h.clientWidth,behavior:"smooth"}),this.requestUpdate()}},{key:"paging_visibility",value:function(){var c,h=((c=this.shadowRoot)==null?void 0:c.querySelector(".flexbox-pages"))||this,f=h.parentElement.parentElement.querySelector(".page-left"),v=h.parentElement.parentElement.querySelector(".page-right"),b=h.scrollLeft;f.style.visibility=b<=0?"hidden":"visible",this.panels_count=Math.ceil(h.scrollWidth/h.clientWidth),console.warn("PANELS COUNT",this.panels_count);var w=h.scrollWidth-h.clientWidth;v.style.visibility=b>=w?"hidden":"visible"}},{key:"paging_hide_if_always_single_panel",value:function(){var c;if(!this.always_single_panel&&!(X(window).width()<Vf)){var h=(c=this.shadowRoot)==null?void 0:c.querySelector(".flexbox-pages");h&&(Wn("paging_hide_if_always_single_panel()",h.scrollWidth,"-v-",h.clientWidth),h.scrollWidth===h.clientWidth?(h.parentElement.querySelector(".page-buttons").style.display="none",h.parentElement.parentElement.querySelector(".page-left").style.display="none",h.parentElement.parentElement.querySelector(".page-right").style.display="none",this.always_single_panel="yes"):this.always_single_panel="no")}}},{key:"responsiveResize",value:function(c){if(this.responsive){var h=X(this.jidsel).offset(),f=X(window).height()-h.top-Uj;if(this.audio)this.playlist&&this.playlist.length>0&&(ia=Dj),f-=ia,f=Math.max($j,f),this.embed||(Wn("responsiveResize() maxH:",f),this.list_height=f);else{var v=this.DAR;this.playlist&&this.playlist.length>0&&this.playlist[0].sources&&this.playlist[0].sources.length>0&&this.playlist[0].sources[0].width&&this.playlist[0].sources[0].height&&(v=this.playlist[0].sources[0].width/this.playlist[0].sources[0].height,Wn("aspect ratio appears to be: ",v));var b=X(".container-ia:last").width();Wn("video max rect avail: ",b,"x",f);var w,k,C=!0,E=!1,A=void 0;try{for(var j=[960,840,720,600,480,360,240,180][Symbol.iterator](),y;!(C=(y=j.next()).done)&&(k=y.value,w=Math.round(k*v),Wn("video size try fit: ",w,"x",k),!(w<=b&&k<=f||w<=320));C=!0);}catch(p){E=!0,A=p}finally{try{!C&&j.return!=null&&j.return()}finally{if(E)throw A}}this.width=w,this.height=k,globalThis.AJS&&globalThis.AJS.theatre_controls_position(!1,0,this.width,this.height)}if(c){var u=this;X(window).on("resize  orientationchange",function(){var p=u;clearTimeout(r.throttler),r.throttler=setTimeout(function(){new r(p.jid).responsiveResize()},250)})}else this.audio||Tr(this.jid).resize(this.width,this.height);c||this.paging_visibility(),this.paging_hide_if_always_single_panel()}}},{key:"cache",value:function(){if(!this.jid)return alert("please pass in a unique identifier for this object");if(typeof r.STASH[this.jid]!="undefined"){if(typeof this.playlist=="undefined")return r.STASH[this.jid];delete r.STASH[this.jid]}}},{key:"updated",value:function(c){if(Wn("play updated()",c),"mdapi"in c&&Wn("mdapi changed"),this.audio&&!this.playlist_setup&&this.playlist){this.playlist_setup=!0;var h=this.shadowRoot.querySelector(".flexbox-pages");h.addEventListener("scroll",this.paging_visibility),this.paging_visibility(),this.paging_hide_if_always_single_panel()}}},{key:"firstUpdated",value:function(){Wn("play firstUpdated up")}},{key:"render",value:function(){var c;Wn("play-av render()",this.trackno),this.slotted||(this.innerHTML='<div id="'.concat(this.jid||"jw6",'"></div><div id="ia-scrubber" slot="ia-scrubber"></div>'),this.slotted=!0,this.retry&&this.construct(this.jid,this.retry.playlist,this.retry.args)),this.identifier&&!this.jid&&!this.mdapi&&this.from_attr_identifier(),this.mdapi&&!this.jid&&this.from_attr_mdapi("jw6");var h=this.playlist?this.add_playlist_panel():"";this.readyIA&&(this.draggable_scrubber(),this.rendered_once||(this.rendered_once=!0,this.audio&&this.responsive&&!this.embed&&this.responsiveResize(),this.responsive&&!this.audio&&X(this.jidsel).css("margin","auto"),this.add_buttons(this.player),X(".jw-controls").css({backgroundColor:"transparent",height:"100%"}),X(".jw-controlbar").css("padding-top","8px"),this.responsive&&ia>qc&&X(this.jidsel).css("height",ia),!this.embed&&this.responsive?this.details_setup():this.embed&&location.host.match(/archive\.org$/)&&location.pathname.match(/^\/embed\//)&&this.embed_setup()));var f=this.playlist?(c=this.playlist[this.trackno||0])==null?void 0:c.image:"";return ri(_templateObject472(),this.audio&&!this.headless?ri(_templateObject470(),f?ri(_templateObject468(),f,this.waveform_clicked):ri(_templateObject469())):"",this.show_transcripts()?ri(_templateObject471(),this.identifier,this.trackno||0,JSON.stringify(this.playlist||[]),this.bgTheme):"",h)}},{key:"show_transcripts",value:function(){var c=this,h,f,v,b,w=1600,k=1928,C=["78rpm","edison-recordings","georgeblood"];if(this.headless)return!1;if(!C.filter(function(y){var u;return(u=c.collections)==null?void 0:u.includes(y)}).length)return!0;var E=String((b=(v=(f=JSON.parse((h=X(".js-ia-metadata").val())!=null?h:"{}"))==null?void 0:f.metadata)==null?void 0:v.date)!=null?b:"6666");if(typeof E!="string")return!1;var A=E.match(/^(\d\d\d\d)$/)||E.match(/^(\d\d\d\d)-\d\d$/)||E.match(/^(\d\d\d\d)-\d\d-\d\d$/);if(!A)return!1;var j=Number(A[1]);return j<=k&&j>=w}},{key:"from_attr_identifier",value:function(){var c=this;Wn("from_attr_identifier()"),Ij(this.identifier).then(function(h){c.mdapi=h}).catch(function(h){return Wn("error",h)})}},{key:"from_attr_mdapi",value:function(c){var h;Wn("from_attr_mdapi()");var f=new Ej(this.mdapi);if(f.showing==="movies"||f.showing==="audio"){var v=[].concat(this.mdapi.metadata.collection),b={audio:f.showing==="audio",responsive:!0,identifier:this.id,collections:v,collection:v.shift()},w=[],k=f.jwplaylist(b,Pj,w);if(Wn(k),f.showing==="audio"){var C=document.getElementsByTagName("body")[0];C.setAttribute("class","".concat((h=C.getAttribute("class"))!=null?h:""," jwaudio")),b&&!this.embed&&(b.waveformer=!0)}this.construct(c,k,b)}}},{key:"draggable_scrubber",value:function(){var c=this,h=function(w){if(f){var k=document.getElementById("ia-scrubber").getBoundingClientRect(),C=Math.min(k.width,Math.max(0,w.clientX-k.left));X("#ia-scrubber .jw-knob").css({left:"".concat(C,"px")})}},f=!1;document.querySelector("play-av").parentElement.addEventListener("mousemove",h);var v=document.getElementById("ia-scrubber");v.addEventListener("mousedown",function(){c.player.pause(),f=!0}),v.addEventListener("mouseup",function(){c.player.play(),f=!1})}},{key:"headless_create",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(!c.length){var h=X("play-av:not(:first)"),f=X("play-av:first"),v=globalThis.Play(h.attr("jid")),b=globalThis.Play(f.attr("jid"));if(v.remove(),h.remove(),f.show(),Wn("IS AT",v.trackno,v.headless.tracks),v.trackno||v.trackno===0){var w=v.headless.tracks[v.trackno];b.playN(Math.max(0,w),!0)}return}this.pause();var k={audio:!0,responsive:!0,identifier:this.identifier,headless:{tracks:c,has_full_album:!1}},C=[],E=!0,A=!1,j=void 0;try{for(var y=c[Symbol.iterator](),u;!(E=(u=y.next()).done);E=!0){var p=u.value;Number(p)===-1&&(k.headless.has_full_album=!0),C.push(Number(p)===-1?{title:"[Full Album]",orig:"",sources:[{file:"/download/family-rolled/family-rolled.mp4"},{file:"/download/family-rolled/family-rolled.ogv"}],image:"/download/family-rolled/format=Thumbnail&ignore=x.jpg"}:this.playlist[p])}}catch(O){A=!0,j=O}finally{try{!E&&y.return!=null&&y.return()}finally{if(A)throw j}}var m=X("play-av").parent(),_=X("play-av:first").attr("jid"),x=globalThis.Play(_).trackno;k.headless.playN=Math.max(0,c.indexOf(x)),X("play-av:first").hide(),X("play-av[jid=headless]").remove(),delete r.STASH.headless,m.append('\n      <play-av jid="headless"\n        playlist=\''.concat(JSON.stringify(C).replace(/'/g,"&apos;"),"'\n        args='").concat(JSON.stringify(k).replace(/'/g,"&apos;"),"'></play-av>"))}}],[{key:"hash_string",value:function(c){return c.split("").reduce(function(h,f){return h+f.charCodeAt(0)},0)}},{key:"castable",value:function(){return globalThis.WebKitPlaybackTargetAvailabilityEvent||globalThis.chrome}},{key:"styles",get:function(){return sc(_templateObject467(),si(ra),si(ra/2),si(ra)/2,si(ra/2),si(ra),si(ra),si(ra/2-9),si(Vf-1),si(Vf))}},{key:"css",value:function(){var c=document.getElementsByTagName("head")[0];if(c){var h=document.createElement("style");h.setAttribute("type","text/css"),h.appendChild(document.createTextNode("\n\nbody.jwaudio .jwplayer {\n  width: initial !important;\n  display: inline-block;\n  margin-left: ".concat(Lj,"px;\n\n  outline: 0 !important;\n  outline-offset: unset !important;\n}\n\nbody.navia.jwaudio .jw-preview {\n  display: none !important;\n}\n\n/* avoid bleed-thru when kebab opened */\nbody.jwaudio .jw-wrapper, body.jwaudio .jw-controls-backdrop {\n  background-color: transparent;\n  background: none;\n}\n\n/* make control bar use up width naturally, based on controlbar buttons (waveform soaks up rest) */\nbody.jwaudio .jw-wrapper,\nbody.jwaudio .jw-controls {\n  position: initial;\n}\n\nbody.jwaudio .jw-controlbar .jw-icon-inline:first-child {\n  margin-left: 15px;\n}\n\nbody.jwaudio .jw-controlbar .jw-icon-inline {\n  width: 35px;\n}\nbody.jwaudio .jw-controlbar .jw-icon-inline.jw-text-duration {\n  width: 55px;\n}\n\n/* https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Container_Queries */\n#play-av-wrapper {\n  container-name: player-pill;\n  container-type: inline-size;\n}\n@container player-pill (min-width: ").concat(lk,"px) {\n  body.jwaudio .jw-text-elapsed {\n    display: flex !important;\n  }\n}\n@container player-pill (min-width: ").concat(Bj,'px) {\n  body.jwaudio .jw-text-duration {\n    display: flex !important;\n  }\n}\n\nbody.jwaudio .jw-settings-submenu-button {\n  margin-left: -5px;\n}\n\nbody.jwaudio #jw-settings-menu {\n  z-index: 1;\n  margin-top: 25px;\n  border-top: 1px solid #aaa;\n  left: 50px;\n}\n\nbody.jwaudio #jw-settings-menu:before {\n  /* caret up - altered from https://blog.logrocket.com/creating-beautiful-tooltips-with-only-css/ */\n  content: "";\n  position:absolute;\n\n  /* position tooltip correctly */\n  top: -11px;\n  left: ').concat(Uf,'px;\n  transform:translateY(-50%);\n\n  /* the arrow */\n  border: 10px solid #000;\n  border-color: transparent transparent #aaa transparent;\n}\nbody.jwaudio #jw-settings-menu:after {\n  /* caret up - altered from https://blog.logrocket.com/creating-beautiful-tooltips-with-only-css/ */\n  content: "";\n  position:absolute;\n\n  /* position tooltip correctly */\n  top: -8px;\n  left: ').concat(Uf,"px;\n  transform:translateY(-50%);\n\n  /* the arrow */\n  border: 10px solid #000;\n  border-color: transparent transparent black transparent;\n}\n\n#waveformer-loader {\n  overflow: hidden;\n  width: 1px;\n  height: 1px;\n  max-width: 1px;\n  max-height: 1px;\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  opacity: 0.01;\n}\n    "))),c.appendChild(h)}}},{key:"sec2hms",value:function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,v=Math.round(c),b=Math.floor(v/3600),w=Math.floor((v-b*3600)/60);v-=b*3600+w*60;var k="",C="";(h||b>0)&&(C="00".concat(b),k+=C.substr(C.length-2,2),k+=":"),C="00".concat(w),k+=C.substr(C.length-2,2),k+=":",C="00".concat(v),k+=C.substr(C.length-2,2);var E=f?".".concat((c%1).toFixed(3).slice(2)):"";return"".concat(k).concat(E)}},{key:"seconds",value:function(c){var h=c.replace(",","."),f=h.split(":"),v=0;return h.substr(-1)==="s"?v=Number(h.substr(0,h.length-1)):h.substr(-1)==="m"?v=Number(h.substr(0,h.length-1))*60:h.substr(-1)==="h"?v=Number(h.substr(0,h.length-1))*3600:f.length>1?(v=Number(f[f.length-1]),v+=Number(f[f.length-2])*60,f.length===3&&(v+=Number(f[f.length-3])*3600)):v=Number(h),v}},{key:"seek",value:function(c){var h="".concat(c.href,"/").match(/[/#]start\/([\d.]+)\//)||c.href.match(/[?&]start=([\d.]+)/);if(!h)return!0;var f=h[1];return Tr().seek(f),typeof history.pushState=="undefined"?location.href=c.href:history.pushState({},null,c.href),!1}},{key:"mute_click",value:function(){var c,h=!ui.get("unmute");if((c=globalThis.AJS)!=null&&c.emulator)globalThis.AJS.emulator.setMute(!h);else{var f=Tr("jw6");if(f){var v=f.getVolume();v?(r.mute_click_prior_volume=v,f.setVolume(0)):f.setVolume(typeof r.mute_click_prior_volume=="undefined"?100:r.mute_click_prior_volume)}}return X("#theatre-ia .iconochive-mute, #theatre-ia .iconochive-unmute").toggle(),h?ui.set("unmute",1,{path:"/details",expires:30}):ui.remove("unmute",{path:"/details"}),!1}},{key:"cast_sender_setup",value:function(){!globalThis.chrome||globalThis.chrome.cast||function(){var c=function(m){return!!document.currentScript&&(document.currentScript.src.indexOf("?"+m)!=-1||document.currentScript.src.indexOf("&"+m)!=-1)},h=c("loadGamesSDK")?"/cast_game_sender.js":"/cast_sender.js",f=c("loadCastFramework")||c("loadCastApplicationFramework"),v=function(){return typeof globalThis.__onGCastApiAvailable=="function"?globalThis.__onGCastApiAvailable:null},b=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"],w=function(p){p.length?C(p.shift(),function(){w(p)}):A()},k=function(m){return"chrome-extension://"+m+h},C=function(m,_,x){var O=document.createElement("script");O.onerror=_,x&&(O.onload=x),O.src=m,(document.head||document.documentElement).appendChild(O)},E=function(m){return 0<=globalThis.navigator.userAgent.indexOf(m)},A=function(){var m=v();m&&m(!1,"No cast extension found")},j=function(){if(f){var m=2,_=v(),x=function(){m--,m==0&&_&&_(!0)};globalThis.__onGCastApiAvailable=x,C("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",A,x)}};if(E("CriOS")){var y=globalThis.__gCrWeb&&globalThis.__gCrWeb.message&&globalThis.__gCrWeb.message.invokeOnHost;y&&(j(),y({command:"cast.sender.init"}))}else if(E("Android")&&E("Chrome/")&&globalThis.navigator.presentation){j();var u=globalThis.navigator.userAgent.match(/Chrome\/([0-9]+)/);w(["//www.gstatic.com/eureka/clank/"+(u?parseInt(u[1],10):0)+h,"//www.gstatic.com/eureka/clank"+h])}else globalThis.chrome&&globalThis.navigator.presentation&&!E("Edge")?(j(),w(b.map(k))):A()}()}},{key:"filename_char_encoder",value:function(c){var h=c.split(/\.(mp3|ogg|ogv|mp4|mpeg4|m4v|mov|flv|swf)\?/i),f=h.shift().replace(/#/g,"%23").replace(/\?/g,"%3F"),v=f+(h.length?".".concat(h.shift(),"?"):"");return v+h.join("")}},{key:"track_event",value:function(c){if(globalThis.archive_analytics){var h=_slicedToArray(c.split("|"),2),f=h[0],v=h[1];globalThis.archive_analytics.send_event(f,v,globalThis.location.pathname)}}},{key:"properties",get:function(){return{trackno:Number,identifier:String,mdapi:Array,bgTheme:String}}},{key:"headless",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(v){return Wn("track ".concat(v," clicked"))},f=X("play-av:first").attr("jid");r.headless_callback=h,globalThis.Play(f).headless_create(c,h)}}]),r}(zo),Vj=function(){"use strict";function a(s){_classCallCheck(this,a),this.WIGGLE=1,this.playlist_index=0,this.last_time=0,this.p=s,Wn(s.triggers)}return _createClass(a,[{key:"setup",value:function(r){var d=this;this.play=r,this.p.player.on("time",function(){return d.on_time()}),this.p.player.on("meta",function(c){return Wn("HLS meta",c)})}},{key:"on_time",value:function(){var r=this.p.player.getCurrentTime();if(!(Math.abs(this.last_time-r)<.25)){this.last_time=r;var d=this.playlist_index;if(r>=this.p.triggers[d]+this.WIGGLE)for(Wn("on_time >=",r,">=",this.p.triggers[d]+this.WIGGLE);r>=this.p.triggers[d]-this.WIGGLE;)d+=1;else if(r<this.p.triggers[d-1]+this.WIGGLE)for(Wn("on_time <",r,"<",this.p.triggers[d-1]-this.WIGGLE);d&&r<this.p.triggers[d-1]-this.WIGGLE;)d-=1;if(d!==this.playlist_index){if(Wn("HLS switching tracks:",this.playlist_index,"=>",d),this.playlist_index=d,this.play.track_change(this.p.player,this.playlist_index),X("#play-hls-duration").html($a.sec2hms(this.p.playlist[this.playlist_index].duration)),this.p.waveformer){Wn(this.p.playlist[this.playlist_index]);var c=this.p.playlist[this.playlist_index].image;if(c){X("#waveformer-loader").length||X("body").append('<img id="waveformer-loader"></img>');var h=X("#waveformer-loader").get(0);h.onload=function(){return X(".jw-preview").css("background-color","transparent")},h.src=c,X(".jw-preview").css("background-color","black"),X(".jw-preview").css("background-image",'url("'.concat(c,'")'))}}}var f=this.p.playlist[this.playlist_index].duration;if(this.p.waveformer&&f){var v=r-(this.playlist_index?this.p.triggers[this.playlist_index-1]:0);X("#play-hls-elapsed").html($a.sec2hms(Math.round(Math.max(0,v)))),this.p.jwaudioPercentDone=Math.min(1,v/f)}}}},{key:"update_playlist",value:function(r){Wn("HLS.update_playlist",r.playlist);var d=_a("mode")==="aac"?"&mode=aac":"";if(0){var c;for(var h in this.p.triggers)var f,v}r.playlist=r.playlist.slice(0,1),r.playlist[0].sources[0].file="/details/".concat(this.p.identifier).concat(d,"&embed=1&HLS=1&hls.m3u8"),delete r.playlist[0].sources[0].title,delete r.playlist[0].sources[0].duration,Wn("HLS new playlist to jw",r.playlist),r.hlsjsConfig={p2pConfig:{live:!1}}}},{key:"playlistPrev",value:function(){Wn("HLS.playlistPrev");var r=0;this.playlist_index?this.playlist_index>1&&(r=this.p.triggers[this.playlist_index-2]-this.WIGGLE):r=this.p.triggers[this.p.triggers.length-2]-this.WIGGLE,this.p.player.seek(r)}},{key:"playlistNext",value:function(){Wn("HLS.playlistNext");var r=this.playlist_index>=this.p.triggers.length-1?0:this.p.triggers[this.playlist_index]-this.WIGGLE;this.p.player.seek(r)}},{key:"waveform_clicked",value:function(r){var d=this.playlist_index,c=d?this.p.triggers[d-1]:0,h=this.p.triggers[d]-c;this.p.player.seek(c+h*r)}}]),a}(),!globalThis.Play){$a.STASH={},$a.css(),globalThis.Play=function(a,s,r){return new $a(a,s,r)};var g=!0,t=!1,e=void 0;try{for(var n=["mute_click","sec2hms","seconds","seek","filename_char_encoder","headless"][Symbol.iterator](),o;!(g=(o=n.next()).done);g=!0){var l=o.value;globalThis.Play[l]=$a[l]}}catch(a){t=!0,e=a}finally{try{!g&&n.return!=null&&n.return()}finally{if(t)throw e}}customElements.define("play-av",$a)}Wj=$a}}),qj={};wi(qj,{default:function(){return Pu}});var Tu,Wf,dk,qf,Gj,oa,hk,Gf,fk,Yj,Xj,Kj,Qj,Jj,Pu,DI=Ht({"components/play8/play8.js":function(){ka(),rv(),ev(),Ai(),S5(),bo(),cv(),l5(),oh(),Tu={},Wf=480,dk=640,qf=30,Gj=350,oa=qf,hk=140,Gf=240,fk=800,Yj=20,Xj=370,Kj=100,Qj=100,Jj=navigator.userAgent.indexOf("Windows NT ")>=0&&(navigator.userAgent.indexOf(" Trident/")>=0||navigator.userAgent.indexOf("MSIE ")>=0),Pu=function(){"use strict";function a(s,r){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=d.start,h=c===void 0?0:c,f=d.embed,v=f===void 0?!1:f,b=d.hide_list,w=b===void 0?!1:b,k=d.autoplay,C=k===void 0?!1:k,E=d.audio,A=E===void 0?!1:E,j=d.width,y=j===void 0?0:j,u=d.height,p=u===void 0?0:u,m=d.responsive,_=m===void 0?!1:m,x=d.aspectratio,O=x===void 0?!1:x,I=d.noshare,P=I===void 0?!1:I,D=d.nolinks,V=D===void 0?!1:D,q=d.logo,z=q===void 0?!1:q,he=d.so,Y=he===void 0?!1:he,B=d.tv,F=B===void 0?!1:B,ce=d.tvStart,J=ce===void 0?0:ce,ae=d.tvEnd,se=ae===void 0?0:ae,ve=d.tvContributor,de=ve===void 0?!1:ve,Be=d.tvSource,it=Be===void 0?!1:Be,mt=d.play_just1,ot=mt===void 0?!1:mt,Ae=d.list_height,xe=Ae===void 0?0:Ae,De=d.identifier,et=De===void 0?!1:De,Ve=d.onTime,je=Ve===void 0?!1:Ve,He=d.onComplete,qe=He===void 0?!1:He,lt=d.onDisplayClick,_t=lt===void 0?!1:lt,be=d.onReady,ze=be===void 0?!1:be,Re=d.onPlaylistItem,$e=Re===void 0?!1:Re,Ye=d.collection,We=Ye===void 0?!1:Ye,Ct=d.waveformer,gt=Ct===void 0?!1:Ct,nt=d.speed,rt=nt===void 0?1:nt,ct=d.details,At=ct===void 0?location.href:ct,Mt=this;_classCallCheck(this,a);var Lt=F&&r.length===1?r[0].title:"",st="#".concat(s),te="#".concat(s,"__list"),Jt=!1,Ft=4/3,Yt=!1,N=!1,Ze=0,ge=!1,ie=v&&!F&&!A&&!C&&h,G=!0,H=!1,Z=0,oe=0,me=0;this.construct=function(){var Pe=Mt;if(V&&(et=!1,We=!1,P=!0),rt=parseFloat(rt),!X(st).length)return Cn("play8.js requires #",s," element on page -- not found"),!1;if(Mt.responsiveResize(!0),et!==!1&&(At="https://archive.org/details/".concat(et)),F&&se&&(At+="/start/".concat(J,"/end/").concat(se)),typeof r=="undefined"&&(r=[{sources:[{file:"/download/family-rolled/family-rolled.mp4"},{file:"/download/family-rolled/family-rolled.ogv"}],image:"/download/family-rolled/format=Thumbnail&ignore=x.jpg"}],h=!0,w=!0),w||(xe||(xe=A?Xj:Kj),xe=Math.min(xe,r.length*Yj)),!_&&!(y>0&&p>0))if(v){var Xe=X(window).width(),Me=X(window).height();y=A?Math.min(Xe,fk):Xe,p=A?oa+xe:Me-xe}else O||(y=A?Gj:dk,p=A?oa+xe:Wf);if(Ze=y,X.each(r,function(Bt,an){if(typeof an.autoplay!="undefined"&&(H||(H=[]),H[Bt-1]=!an.autoplay),typeof an.sources=="undefined"&&typeof an.file!="undefined"&&(an.sources=[{file:an.file,height:480}]),typeof an.sources=="undefined")alert("".concat(Bt,": sources undefined!"));else{var cn=!0,It=!1,nn=void 0;try{for(var Kt=an.sources[Symbol.iterator](),Pn;!(cn=(Pn=Kt.next()).done);cn=!0){var Xt=Pn.value;typeof Xt.file!="undefined"&&(!Bt&&Xt.file.indexOf("/download")>=0&&(Xt.file=Xt.file.replace(/\/download\//,"/serve/")),Xt.file=a.filename_char_encoder(Xt.file))}}catch(ar){It=!0,nn=ar}finally{try{!cn&&Kt.return!=null&&Kt.return()}finally{if(It)throw nn}}}}),!w){var Qe='<div id="'.concat(s,'__list" style="height:').concat(xe,'px"> </div>');X(Qe).insertAfter(st)}Lt&&(r[0].title=r[0].title.replace(/( \d+:\d+[amp]+)-\d+:\d+[amp]+ /,"$1 "));var ht={playlist:JSON.parse(JSON.stringify(r)),abouttext:"this item, formats, and more at Internet Archive",aboutlink:At,startparam:"start",logo:{},cast:{},preload:"metadata",playbackRateControls:!0,playbackRates:[.25,.5,.75,1,1.25,1.5,1.75,2,3],autostart:C,fallback:Y,width:isNaN(Ze)?"100%":Ze,height:A?qf:p,base:Zp};if(_&&!v?ht.displaytitle=!1:O&&(ht.width="100%",ht.aspectratio=O,delete ht.height),et!==!1){var Vt=F&&se?"?start=".concat(J,"&end=").concat(se):"",$t='<iframe src="https://archive.org/embed/MEDIAID"\n                              width="'.concat(A?500:dk,'"\n                              height="').concat(A?oa:Wf,'"\n                              frameborder="0"\n                              webkitallowfullscreen="true"\n                              mozallowfullscreen="true"\n                              allowfullscreen></iframe>').replace(/embed\/MEDIAID/,"embed/".concat(et).concat(Vt)).replace(/\s+/g," "),zt="[archiveorg ".concat(et).concat(Vt," width=640 height=").concat(A?oa:Wf," frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]");ht.mediaid=et,X("#embedcodehere").text($t),X("#embedcodehereWP").text(zt)}if((v&&!A&&!V||z)&&(ht.logo={file:"//av.prod.archive.org/jw/glogo-ghost.png",link:At,position:"top-right",margin:2,hide:!1}),ot||H){var qt=qe;qe=function(Bt){var an={done:ot||H[Bt.getPlaylistIndex()]};an.done&&Bt.stop(),qt&&qt(Bt,an)}}return Cn(ht),Tr(s).setup(ht),Tr(s).on("ready",function(){var Bt=Pe;Cn("IA ",s," is ready");var an=Tr(s);Cn("NOTE: JW version: ",Tr.version),je&&Cn("NOTE: onTime() is in use!"),je&&an.on("time",function(){return je(an)}),qe&&an.on("complete",function(){return qe(an)}),_t&&an.on("displayClick",function(){return _t(an)}),A?an.on("firstFrame",function(){return a.track_event("Details-Audio|AudioStarted")}):F||(an.on("firstFrame",function(){return a.track_event("Details-Video|VideoStarted")}),an.on("complete",function(){return a.track_event("Details-Video|VideoEnded")})),Jt=!0,Pe.addClickablePlaylist(),A&&_&&!v&&Pe.responsiveResize(),_&&!A&&X(st).css("margin","auto"),Pe.add_buttons(an),_&&!v&&!A&&typeof Or!="undefined"&&Or.theatre_controls_position(!1,0,y,p),_&&oa>qf&&X(st).css("height",oa),A&&!gt&&X(st).find(".jw-preview").css("display","none"),!v&&_?Pe.details_setup():v&&location.host.match(/archive\.org$/)&&location.pathname.match(/^\/embed\//)&&Pe.embed_setup(),an.on("meta",function(cn){N||(N=!0,Cn("onMeta() fired"),X("body").addClass("responsive-playing"),!A&&v&&cn.width&&cn.height&&Bt.adjustVideoWidth(Bt,cn),Bt.unpreload(),h&&(Cn("SEEK TO: ",h),Bt.pause(),Tr(s).seek(h)))}),an.on("playlistItem",function(cn){var It=Bt,nn=cn.index;if(Cn("onPlaylistItem: ",nn),me&&!nn){Cn("onPlaylistItem: ignoring since desired index ".concat(me," !== ").concat(nn," -- and this is likely an event from reloading the playlist"));var Kt=me;me=0,Tr(s).playlistItem(Kt);return}var Pn=X(te).find(".jwrow, .jwrowV2");if(Pn.length){Pn.removeClass("playing");var Xt=X(Pn.get(nn));Xt.addClass("playing"),X(te).scrollTop(Xt.offset().top-X(te).offset().top+X(te).scrollTop())}Bt.seeker_playlist(),Bt.url_updater(an,nn),rt!==1&&setTimeout(function(){It.speed(rt)},1e3),Bt.waveformer_setup(an)}),$e&&an.on("playlistItem",function(cn){Cn("onPlaylistItem",{e:cn}),$e(an,cn)}),an.on("playlistComplete",function(){!A&&We&&!F&&Bt.related_items_click()}),an.on("error",function(cn){Cn("err"),Cn(cn),X(st).css({"background-color":"black"})}),ze&&ze(an)}),Mt},this.url_updater=function(Pe,Xe){if(!(F||v||!et||typeof history.replaceState=="undefined")){var Me=Pe.getConfig();if(!(!Me||!Me.playlist||Me.playlist.length<=1||!Me.playlist[Xe]||!Me.playlist[Xe].orig))if(G){var Qe="/details/".concat(et,"/").concat(encodeURIComponent(Me.playlist[Xe].orig).replace(/%2F/g,"/").replace(/%20/g,"+")),ht=typeof Or!="undefined"&&pp("playset",!0)?"?playset=1&autoplay=1":"";Cn("updating url to",Qe+ht),history.replaceState({},null,Qe+ht)}else{var Vt=Mt;Cn("looks like /details/ page loaded cold-state -- leave url AS IS"),Pe.once("play",function(){Cn("time to start updating urls"),G=!0,Vt.url_updater(Pe,Xe)})}}},this.waveformer_setup=function(Pe){if(!(!gt||ge)){var Xe=Pe.getConfig().provider==="flash",Me=X(st);Xe&&(Me=Me.parent()),Me.wrap('<div id="'.concat(gt,'" style="position:relative"></div>')),Z=X("#".concat(gt)).width(),X("#".concat(gt)).prepend('<div id="waveformer" style="background-color:rgb(19,160,216); position:absolute; width:0; top:0; bottom:0;"></div>'),Pe.on("time",function(Qe){Qe.duration&&(oe=Qe.position/Qe.duration,X("#waveformer").css({width:Math.round(Z*oe)}))}),ge=!0,setTimeout(function(){Xe||X(st).css("background-color","transparent"),X("#".concat(gt)).css("background-color","#ddd")},1e3)}},this.on=function(Pe,Xe){var Me=Tr&&Tr(s);return Me&&Me.on(Pe,Xe),Mt},this.adjustVideoWidth=function(Pe,Xe){Xe.height&&Xe.width&&Xe.height>0&&Xe.width>0&&parseInt(Xe.height,10)>0&&(Ft=parseInt(Xe.width,10)/parseInt(Xe.height,10),Cn("DAR: ",Ft,Xe.width,"x",Xe.height)),v&&Mt.embedResize()},this.embedResize=function(){if(!(!Tr||!Tr(s))){if(A){Tr(s).resize(Math.min(fk,X(window).width()),oa);return}var Pe=X(window).width(),Xe=X(window).height()-xe;Tr(s).resize(Pe,Xe)}},this.playN=function(Pe,Xe){var Me=Tr(s);return Cn("playN",{readyIA:Jt,idx:Pe,load_paused:Xe,state:Me.getState()}),Xe&&Me.once("play",function(){return Me.pause()}),Me.playlistItem(Pe),!1},this.seeker_playlist=function(){if(!Yt){if(Yt=!0,ie){var Pe=Mt;Tr(s).once("seek",function(){Pe.pause(),Cn("... paused first seek!")})}h&&(Mt.pause(),Tr(s).seek(h))}},this.embed_setup=function(){X(window).on("resize  orientationchange",function(){clearTimeout(a.throttler2),a.throttler2=setTimeout(function(){new a(s).embedResize()},250)})},this.unpreload=function(){var Pe=Tr(s),Xe=Pe.getPlaylist(),Me=Pe.getPlaylistIndex();if(Cn("unpreload:",{startPlaylistIdx:Me}),Xe.length&&(typeof Xe[0].file!="undefined"&&(Xe[0].file=Xe[0].file.replace(/\/serve\//,"/download/")),typeof Xe[0].sources!="undefined")){var Qe=!0,ht=!1,Vt=void 0;try{for(var $t=Xe[0].sources[Symbol.iterator](),zt;!(Qe=(zt=$t.next()).done);Qe=!0){var qt=zt.value;qt.file=qt.file.replace(/\/serve\//,"/download/")}}catch(Bt){ht=!0,Vt=Bt}finally{try{!Qe&&$t.return!=null&&$t.return()}finally{if(ht)throw Vt}}}Me?(Pe.on("playlist",function(){Cn("unpreload: onplaylist:",{startPlaylistIdx:Me}),Pe.playlistIndex=Me,Pe.playlistItem(Me)}),me=Me):!h&&!C&&(G=!1),Pe.load(Xe)},this.details_setup=function(){Cn("details_setup");var Pe=0,Xe="^/details/".concat(et,"/([^&?]+)"),Me=location.pathname.match(Xe);if(Me){var Qe=decodeURIComponent(Me[1].replace(/\+/g,"%20"));Cn("looking for: ",Qe);for(var ht in r){var Vt=Number(ht);if(r[Vt].orig===Qe){Cn("player should seek to track #",Vt),Pe=Vt;break}}}if(!Pe&&!h&&!C&&(G=!1),!C&&(Pe||h)){Cn("seek #",Pe," to ",h);var $t=Tr(s);$t.playlistItem(Pe)}},this.pause=function(){var Pe=Tr(s);Jt&&Pe&&Pe.getState&&Pe.getState()==="playing"&&Pe.pause()},this.remove=function(){Mt.pause();var Pe=Tr(s);Jt&&Pe&&Pe.getConfig()&&Pe.remove(),delete Tu[s]},this.speed=function(Pe){if(typeof Pe=="undefined"||typeof Pe=="object"){var Xe=!1;A&&(X(".jw-controls").css("overflow","initial"),Xe=X(st).height()===Gf,X(st).css("height",Xe?hk:Gf)),Xe=Xe||X("".concat(st," .jw-controls")).hasClass("jw-settings-open"),Xe?(X("".concat(st," .jw-controls")).removeClass("jw-settings-open"),A&&X(".jw-controls").css("overflow","")):X("".concat(st," .jw-controls")).toggleClass("jw-settings-open"),X("".concat(st," .jw-settings-topbar .jw-icon")).attr("aria-checked","false"),X("".concat(st," .jw-settings-playbackRates")).attr("aria-checked","true");var Me=X('.jw-settings-content-item:contains("0.5x")').parent(),Qe="".concat(st," .jw-settings-submenu");return X(Qe).attr("aria-expanded","false").removeClass("jw-settings-submenu-active"),Me.attr("aria-expanded","true").addClass("jw-settings-submenu-active"),X(Qe).addClass("jw-settings-submenu-active"),!1}var ht=Pe;(typeof ht=="undefined"||isNaN(ht))&&(ht=1);var Vt=X("#".concat(s," video")).get(0);return Vt.playbackRate=ht,Cn("speed to ".concat(ht)),!1},this.add_buttons=function(Pe){var Xe='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" style="transform: rotate(180deg)" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',Me='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',Qe='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 25 75 50"><path d="M67.5,18c-5.1,0-9.3,4.2-9.3,9.3c0,0.5,0.1,1.1,0.2,1.6l-23,12.9c-1.7-1.8-4.1-3-6.8-3,c-5.1,0-9.3,4.1-9.3,9.3c0,5.1,4.1,9.3,9.3,9.3c2.7,0,5.2-1.2,6.9-3.1l22.8,13.4c0,0.4-0.1,0.7-0.1,1.1c0,5.1,4.1,9.3,9.3,9.3,c5.1,0,9.3-4.1,9.3-9.3c0-5.1-4.1-9.3-9.3-9.3c-2.8,0-5.4,1.3-7.1,3.3L37.7,49.4c0.1-0.4,0.1-0.9,0.1-1.3c0-0.5,0-1-0.1-1.5,l23.1-13c1.7,1.8,4.1,3,6.8,3c5.1,0,9.3-4.1,9.3-9.3C76.8,22.2,72.6,18,67.5,18L67.5,18z"></path></svg>',ht='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-airplay-on" viewBox="0 0 240 240"><path d="M229.9,40v130c0.2,2.6-1.8,4.8-4.4,5c-0.2,0-0.4,0-0.6,0h-44l-17-20h46V55H30v100h47l-17,20h-45c-2.6,0.2-4.8-1.8-5-4.4c0-0.2,0-0.4,0-0.6V40c-0.2-2.6,1.8-4.8,4.4-5c0.2,0,0.4,0,0.6,0h209.8c2.6-0.2,4.8,1.8,5,4.4C229.9,39.7,229.9,39.9,229.9,40z M104.9,122l15-18l15,18l11,13h44V75H50v60h44L104.9,122z M179.9,205l-60-70l-60,70H179.9z"/></svg>';if(v&&!V){var Vt=Lt?"".concat(Lt.replace(/ : /g,"\n"),"\n\nClick above for more information and clips\nat the Internet Archive"):"More Formats from Internet Archive";Pe.addButton("/images/glogo-jw.png",Vt,function(){var qt=document.createElement("a");qt.setAttribute("href",At),qt.setAttribute("target","_blank"),document.body.appendChild(qt),qt.click()},"btn-ia")}if(v&&!A&&!P&&!F&&(et!==!1&&Pe.addButton("https://av.prod.archive.org/jw/embed.png","Embedding Examples and Help",function(){window.top.location.href="/help/video.php?identifier=".concat(et)},"btn-mbd"),typeof Or!="undefined"&&(Pe.addButton(Qe,"share",function(){var qt=X(".jw-icon[button=btn-shr]").get(0);Or.modal_go(qt,{ignore_lnk:1,shown:Or.embed_codes_adjust})},"btn-shr"),X(".jw-icon[button=btn-shr]").attr("href","ignored").attr("data-target","#cher-modal"))),F&&v&&it!==!1&&Pe.addButton("/images/tv/".concat(et.split("_")[0],".png"),"Look for this show on ".concat(de," website"),function(){window.top.location.href=it},"btn-tv"),!A&&We&&!F){var $t=Mt;Pe.addButton("https://av.prod.archive.org/jw/related.png","Related Videos",function(){$t.related_items_click()},"btn-rel")}if(Mt.castable()){var zt=Mt;window.chrome&&a.cast_sender_setup(),Pe.addButton(ht,"Cast media with AirPlay / Chromecast",function(){zt.cast()},"btn-cast")}!F&&r.length>1&&(Pe.addButton(Me,"next",function(){Pe.playlistNext()},"btn-nxt"),Pe.addButton(Xe,"previous",function(){Pe.playlistPrev()},"btn-prv"))},this.castable=function(){return window.WebKitPlaybackTargetAvailabilityEvent||window.chrome},this.cast=function(){var Pe=Mt;if(window.WebKitPlaybackTargetAvailabilityEvent){X("#".concat(s," video")).get(0).webkitShowPlaybackTargetPicker();return}if(window.chrome){var Xe=function(Qe,ht){ht.play(null,function(Vt){Cn("media play success",Qe,ht,Vt)},function(Vt){Cn("media play fail",Vt)})};Mt.cast_retries=0;var Me=function(){var Qe=Pe;if(Cn("cast_setup #",Pe.cast_retries),Pe.cast_retries+=1,Pe.cast_retries>3)return!1;if(!window.chrome.cast)return setTimeout(Me,Pe.cast_retries*1e3);var ht=window.chrome.cast,Vt=new ht.SessionRequest(ht.media.DEFAULT_MEDIA_RECEIVER_APP_ID),$t=new ht.ApiConfig(Vt,function(zt){zt.media.length&&Xe("onRequestSessionSuccess",zt.media[0])},function(zt){Cn("receiver listener fail",zt)});return ht.initialize($t,function(){var zt=Qe;Cn("cast init success"),ht.requestSession(function(qt){Cn("request session success",qt);var Bt=X("".concat(st," video")).attr("src"),an="".concat(location.protocol,"//").concat(location.host).concat(Bt),cn=new ht.media.MediaInfo(an),It=new ht.media.LoadRequest(cn);qt.loadMedia(It,Xe.bind(zt,"loadMedia"),function(nn){Cn("onMediaError",nn)})},function(qt){Cn("request session fail",qt),setTimeout(Me,500)})},function(){return Cn("cast init failure")}),!0};Me()}},this.related_items_click=function(){var Pe=function(){X("".concat(st," .jw-controlbar")).one("click",function(Me){X("#related-items-bg").hide(),Me.preventDefault()})};if(typeof Ld!="undefined"&&!X("#related-items").length)X("".concat(st)).prepend('\n<div id="related-items-bg" style="display:none">\n  <div id="related-items">\n  </div>\n</div>\n'),mi("#related-items-bg",function(){return X("#related-items-bg").hide()},"default"),Ld.getRelatedItems(et,!0).then(function(Me){var Qe=Math.floor(Me.length/2),ht="",Vt=!0,$t=!1,zt=void 0;try{for(var qt=Object.entries(Me)[Symbol.iterator](),Bt;!(Vt=(Bt=qt.next()).done);Vt=!0){var an=_slicedToArray(Bt.value,2),cn=an[0],It=an[1];Number(cn)===Qe&&We==="prelinger"?(a.track_event("Details-Video|DonationEndrollDisplayed"),ht+='\n<a class="related-donate"\n   href="https://archive.org/donate/?origin=iawww-VidEndrollDonateButton"\n   data-event-click-tracking="Details-Video|DonationEndrollClicked"\n   data-event-tracking-options=\'{ "service": "ao_no_sampling" }\'>\n  <div>\n    <div class="related-ctr related-donate-logo">\n      <img src="/images/logo-circle-grey.svg" alt="archive logo"/>\n    </div>\n    <div class="related-ctr related-donate-msg">\n      <div>\n        Your donation helps us keep these videos free for everyone\n      </div>\n    </div>\n    <div class="related-ctr related-donate-btn">\n      <div>\n        CHIP IN\n      </div>\n    </div>\n  </div>\n</a>\n'):ht+='\n<div>\n  <a href="/details/'.concat(It.identifier,'"\n    data-event-click-tracking="Details-Video|LastFrameLinkChosen"\n    data-event-tracking-options=\'{ "service": "ao_no_sampling" }\'>\n    <div class="related-ttl">\n      ').concat(It.title!==null?It.title:"","\n      ").concat(It.creator!==null?"<br/>&nbsp;&nbsp;<small>by:</small>&nbsp;".concat(It.creator):"","\n      ").concat(It.downloads!==null?"<div>".concat(It.downloads," views</div>"):"",'\n    </div>\n    <img src="/services/img/').concat(It.identifier,'"/>\n  </a>\n</div>\n')}}catch(nn){$t=!0,zt=nn}finally{try{!Vt&&qt.return!=null&&qt.return()}finally{if($t)throw zt}}X("#related-items").html(ht),X("#related-items-bg").show(),Pe()});else{var Xe=X("#related-items-bg:visible").length;Xe?X("#related-items-bg").hide():(X("#related-items-bg").show(),setTimeout(Pe,500))}},this.addClickablePlaylist=function(){if(!w){var Pe=Tr(s).getPlaylist(),Xe=!0;Pe.length!==r.length&&(Cn("NOTE: jw playlist filtered down -- ",r.length,"==>",Pe.length," items"),Xe=!1);var Me="";X.each(Pe,function(ht,Vt){var $t=(typeof Vt.title=="undefined"?"":Vt.title).concat(typeof Vt.artist=="undefined"?"":" - ".concat(Vt.artist)),zt=typeof Vt.duration!="undefined"?Vt.duration:!1;zt===!1&&(zt=Xe&&typeof r[ht]!="undefined"&&typeof r[ht].duration!="undefined"?r[ht].duration:0),zt<=0&&(zt=!1),Me+='\n<a href="#" class="js-play8-play-track" data-idx="'.concat(ht,'">\n  <div class="jwrow">\n    <div class="tm">\n      ').concat(zt?a.sec2hms(zt):"",'\n    </div>\n    <div class="n">\n      ').concat(ht+1,'\n    </div>\n    <div class="ttl">\n      ').concat($t,"\n    </div>\n  </div>\n</a>")});var Qe={};_&&(Qe.width=y,Qe.margin="auto",A||X(st).css("margin","auto")),X(te).addClass("jwlist").css(Qe).html(Me),mi(".js-play8-play-track",function(ht){return window.Play("".concat(s)).playN(X(ht.currentTarget).data().idx)}),Cn(r)}},this.debug=function(){debugger},this.responsiveResize=function(Pe){if(_){var Xe=X(st).offset(),Me=X(window).height()-Xe.top-Qj;if(A)r&&r.length>0&&r[0].image&&gt&&(oa=hk),Me-=oa,Me=Math.max(Gf,Me),v||(Cn("responsiveResize() maxH:",Me),xe=Me,Cn(X(te).length),X(te).css({"max-height":Me,"overflow-x":"hidden","overflow-y":"auto"}),gt&&(Z=X("#".concat(gt)).width(),X("#waveformer").css({width:Math.round(Z*oe)}))),y="100%",X("#theatre-controls .fave-share").removeClass("fave-share"),X("#theatre-controls").offset({top:Xe.top}).css({visibility:"visible","background-color":"black"});else{var Qe=Ft;r&&r.length>0&&r[0].sources&&r[0].sources.length>0&&r[0].sources[0].width&&r[0].sources[0].height&&(Qe=r[0].sources[0].width/r[0].sources[0].height,Cn("aspect ratio appears to be: ",Qe));var ht=X(".container-ia:last").width();Cn("video max rect avail: ",ht,"x",Me);var Vt,$t,zt=!0,qt=!1,Bt=void 0;try{for(var an=[960,840,720,600,480,360,240,180][Symbol.iterator](),cn;!(zt=(cn=an.next()).done)&&($t=cn.value,Vt=Math.round($t*Qe),Cn("video size try fit: ",Vt,"x",$t),!(Vt<=ht&&$t<=Me||Vt<=320));zt=!0);}catch(It){qt=!0,Bt=It}finally{try{!zt&&an.return!=null&&an.return()}finally{if(qt)throw Bt}}y=Vt,p=$t,typeof Or!="undefined"&&Or.theatre_controls_position(!1,0,y,p)}Pe?X(window).on("resize  orientationchange",function(){clearTimeout(a.throttler),a.throttler=setTimeout(function(){new a(s).responsiveResize()},250)}):A||Tr(s).resize(y,p)}},this.cache=function(){if(!s)return alert("please pass in a unique identifier for this object");if(typeof Tu[s]!="undefined"){if(typeof r=="undefined")return Tu[s];delete Tu[s]}return!1};var Oe=this.cache();if(Oe)return Oe;Tu[s]=this,Cn("PLAY CONFIG:",arguments[2]),this.construct()}return _createClass(a,null,[{key:"sec2hms",value:function(r,d){var c=Math.round(r),h=Math.floor(c/3600),f=Math.floor((c-h*3600)/60);c-=h*3600+f*60;var v="",b="";return(d||h>0)&&(b="00".concat(h),v+=b.substr(b.length-2,2),v+=":"),b="00".concat(f),v+=b.substr(b.length-2,2),v+=":",b="00".concat(c),v+=b.substr(b.length-2,2),v}},{key:"seconds",value:function(r){var d=r.replace(",","."),c=d.split(":"),h=0;return d.substr(-1)==="s"?h=Number(d.substr(0,d.length-1)):d.substr(-1)==="m"?h=Number(d.substr(0,d.length-1))*60:d.substr(-1)==="h"?h=Number(d.substr(0,d.length-1))*3600:c.length>1?(h=Number(c[c.length-1]),h+=Number(c[c.length-2])*60,c.length===3&&(h+=Number(c[c.length-3])*3600)):h=Number(d),h}},{key:"seek",value:function(r){var d="".concat(r.href,"/").match(/[/#]start\/([\d.]+)\//)||r.href.match(/[?&]start=([\d.]+)/);if(!d)return!0;var c=d[1];return Tr().seek(c),typeof history.pushState=="undefined"?location.href=r.href:history.pushState({},null,r.href),!1}},{key:"mute_click",value:function(){var r=!ui.get("unmute");if(Or.emulator)Or.emulator.setMute(!r);else{var d=Tr("jw6");if(d){var c=d.getVolume();c?(a.mute_click_prior_volume=c,d.setVolume(0)):d.setVolume(typeof a.mute_click_prior_volume=="undefined"?100:a.mute_click_prior_volume)}}return X("#theatre-ia .iconochive-mute, #theatre-ia .iconochive-unmute").toggle(),r?ui.set("unmute",1,{path:"/details",expires:30}):ui.remove("unmute",{path:"/details"}),!1}},{key:"cast_sender_setup",value:function(){!window.chrome||window.chrome.cast||function(){var r=function(u){return!!document.currentScript&&(document.currentScript.src.indexOf("?"+u)!=-1||document.currentScript.src.indexOf("&"+u)!=-1)},d=r("loadGamesSDK")?"/cast_game_sender.js":"/cast_sender.js",c=r("loadCastFramework")||r("loadCastApplicationFramework"),h=function(){return typeof window.__onGCastApiAvailable=="function"?window.__onGCastApiAvailable:null},f=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"],v=function(y){y.length?w(y.shift(),function(){v(y)}):C()},b=function(u){return"chrome-extension://"+u+d},w=function(u,p,m){var _=document.createElement("script");_.onerror=p,m&&(_.onload=m),_.src=u,(document.head||document.documentElement).appendChild(_)},k=function(u){return 0<=window.navigator.userAgent.indexOf(u)},C=function(){var u=h();u&&u(!1,"No cast extension found")},E=function(){if(c){var u=2,p=h(),m=function(){u--,u==0&&p&&p(!0)};window.__onGCastApiAvailable=m,w("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",C,m)}};if(k("CriOS")){var A=window.__gCrWeb&&window.__gCrWeb.message&&window.__gCrWeb.message.invokeOnHost;A&&(E(),A({command:"cast.sender.init"}))}else if(k("Android")&&k("Chrome/")&&window.navigator.presentation){E();var j=window.navigator.userAgent.match(/Chrome\/([0-9]+)/);v(["//www.gstatic.com/eureka/clank/"+(j?parseInt(j[1],10):0)+d,"//www.gstatic.com/eureka/clank"+d])}else window.chrome&&window.navigator.presentation&&!k("Edge")?(E(),v(f.map(b))):C()}()}},{key:"filename_char_encoder",value:function(r){var d=r.split(/\.(mp3|ogg|ogv|mp4|mpeg4|m4v|mov|flv|swf)\?/i),c=d.shift().replace(/#/g,"%23").replace(/\?/g,"%3F"),h=c+(d.length?".".concat(d.shift(),"?"):"");return h+d.join("")}},{key:"track_event",value:function(r){if(window.archive_analytics){var d=_slicedToArray(r.split("|"),2),c=d[0],h=d[1];window.archive_analytics.send_event(c,h,window.location.pathname)}}},{key:"setup",value:function(){X(".js-play8-config").each(function(r,d){var c=JSON.parse(X(d).val()),h=c.jid||"jw6",f=X(".js-play8");f.attr({id:h}),pp("playset",!0)&&(c.onComplete=nv.onComplete),window.Play(h,JSON.parse(X(".js-play8-playlist").val()),c),mi(".js-play8-speed",window.Play(h).speed),mi(".js-play8-gofullscreen",Tr(h).setFullscreen)})}}]),a}(),window.Play=function(a,s,r){return new Pu(a,s,r)};var g=!0,t=!1,e=void 0;try{for(var n=["sec2hms","seconds","seek","filename_char_encoder","mute_click"][Symbol.iterator](),o;!(g=(o=n.next()).done);g=!0){var l=o.value;window.Play[l]=Pu[l]}}catch(a){t=!0,e=a}finally{try{!g&&n.return!=null&&n.return()}finally{if(t)throw e}}Jj?Pu.setup():X(Pu.setup),X(function(){mi(".js-play8-soon",function(){return alert("coming soon!")}),mi(".js-play8-thumbzilla",function(a){return Or.thumbzilla(X(a.currentTarget).data().identifier)}),mi(".js-play8-mute-click",window.Play.mute_click),mi(".js-play8-seek",function(a){return window.Play.seek(a.currentTarget)})})}}),pk,$I=Ht({"https-url:https://esm.archive.org/v135/idb-keyval@6.2.1/esnext/idb-keyval.mjs":function(){}}),Zj,eE=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/local-cache@0.2.1/esnext/local-cache.mjs":function(){$I(),Zj=function(){"use strict";function g(t){_classCallCheck(this,g);var e,n,o,l;if(this.namespace=(e=t==null?void 0:t.namespace)!==null&&e!==void 0?e:"LocalCache",this.defaultTTL=(n=t==null?void 0:t.defaultTTL)!==null&&n!==void 0?n:15*60,(!((o=t==null?void 0:t.immediateClean)!==null&&o!==void 0)||o)&&this.cleanExpired(),!(t!=null&&t.disableCleaning)){var a=this,s=(l=t==null?void 0:t.cleaningInterval)!==null&&l!==void 0?l:60;setInterval(function(){a.cleanExpired()},s*1e3)}}return _createClass(g,[{key:"set",value:function(e){return $n(this,null,_regeneratorRuntime.default.mark(function n(){var o,l,a,s,r;return _regeneratorRuntime.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return l={value:e.value},a=(o=e.ttl)!==null&&o!==void 0?o:this.defaultTTL,s=KT(new Date,a),l.expires=s,r=this.getNamespacedKey(e.key),c.prev=4,c.next=7,qT(r,l);case 7:c.next=11;break;case 9:c.prev=9,c.t0=c.catch(4);case 11:case"end":return c.stop()}},n,this,[[4,9]])}))}},{key:"get",value:function(e){return $n(this,null,_regeneratorRuntime.default.mark(function n(){var o,l,a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=this.getNamespacedKey(e),r.prev=1,r.next=4,WT(o);case 4:l=r.sent,r.next=9;break;case 7:r.prev=7,r.t0=r.catch(1);case 9:if(l){r.next=11;break}return r.abrupt("return");case 11:if(a=new Date,!(l.expires&&l.expires<a)){r.next=16;break}return r.next=15,this.delete(e);case 15:return r.abrupt("return");case 16:return r.abrupt("return",l.value);case 17:case"end":return r.stop()}},n,this,[[1,7]])}))}},{key:"delete",value:function(e){return $n(this,null,_regeneratorRuntime.default.mark(function n(){var o;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o=this.getNamespacedKey(e),a.prev=1,a.next=4,GT(o);case 4:a.next=8;break;case 6:a.prev=6,a.t0=a.catch(1);case 8:case"end":return a.stop()}},n,this,[[1,6]])}))}},{key:"cleanExpired",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function e(){var n,o;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=this,a.next=3,this.getAllKeys();case 3:return o=a.sent,a.next=6,Promise.all(o.map(function(s){return $n(n,null,_regeneratorRuntime.default.mark(function r(){return _regeneratorRuntime.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",this.get(s));case 1:case"end":return c.stop()}},r,this)}))}));case 6:case"end":return a.stop()}},e,this)}))}},{key:"getAllKeys",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function e(){var n,o,l,a,s,r,d,c,h;return _regeneratorRuntime.default.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return n=this,o=[],v.prev=2,v.next=5,XT();case 5:o=v.sent,v.next=10;break;case 8:v.prev=8,v.t0=v.catch(2);case 10:for(l=[],a=!0,s=!1,r=void 0,v.prev=12,d=o[Symbol.iterator]();!(a=(c=d.next()).done);a=!0)h=c.value,typeof h=="string"&&l.push(h);v.next=20;break;case 16:v.prev=16,v.t1=v.catch(12),s=!0,r=v.t1;case 20:v.prev=20,v.prev=21,!a&&d.return!=null&&d.return();case 23:if(v.prev=23,!s){v.next=26;break}throw r;case 26:return v.finish(23);case 27:return v.finish(20);case 28:return v.abrupt("return",l.filter(function(b){return b.startsWith(n.namespace)}).map(function(b){return n.removeNamespace(b)}));case 29:case"end":return v.stop()}},e,this,[[2,8],[12,16,20,28],[21,,23,27]])}))}},{key:"getNamespacedKey",value:function(e){return"".concat(this.namespace,"-").concat(e)}},{key:"removeNamespace",value:function(e){return e.replace("".concat(this.namespace,"-"),"")}}]),g}()}}),tE,nE,rE=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/icon-info@1.3.5/esnext/icon-info.js":function(){xn(),xn(),tE=xt(_templateObject473()),nE=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return tE}}],[{key:"styles",get:function(){return Ut(_templateObject474())}}]),e}(er),customElements.define("ia-icon-info",nE)}}),vk=Ht({"https-url:https://esm.archive.org/v135/lit@2.8.0/esnext/html.js":function(){Cd()}}),po,aa,di,Gc,Yf,mk,gk,yk,iE,oE,aE,Xf,sE,lE,Kf,uE,cE,Qf,dE,hE,fE,pE,pl,bk,vE,mE,gE,yE,Jf,bE,wE,_E,kE,xE,SE,CE,Xi,AE,OE,jE,EE,vo,TE,PE=Ht({"https-url:https://esm.archive.org/v135/@internetarchive/ia-book-actions@1.4.0/esnext/ia-book-actions.mjs":function(){xn(),Nl(),Ku(),eE(),xn(),vk(),gf(),xn(),vk(),xn(),xn(),xn(),xn(),xn(),xn(),xn(),xn(),Xh(),rE(),xn(),xn(),po=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,null,[{key:"isInIframe",value:function(){var e;try{return window.self!==window.top}catch(n){return(e=window==null?void 0:window.Sentry)==null||e.captureException(n),!0}}},{key:"getRedirectUrl",value:function(){var e;return g.isInIframe()?e=window.top.location.href:e=window.location.href,e}},{key:"goToUrl",value:function(e,n){var o;g.isInIframe()&&n?o=window.top.location:o=window.location,o.href===e?o.reload():o.href=e}},{key:"isOnStreamPage",value:function(){return window.location.href.indexOf("/stream/")>-1}},{key:"getQueryParam",value:function(e){for(var n=window.location.search.substring(1).split("&"),o="",l=0;l<n.length;l+=1)if(o=n[l].split("="),o[0]===e)return o[1];return Vn}},{key:"getBackHref",value:function(){return window.location.href.replace(/[?&]{1}(?:admin|access)=1/,"")}},{key:"formatUrl",value:function(e,n){return/^https?:/.test(n)?n:"".concat(e).concat(n)}}]),g}(),aa={disconnectedCallback:"IABookActions:disconnectedCallback",bookHasRenewed:"IABookActions:handleLoanAutoRenewed - book has renewed for next one hour",bookRenewFailed:"IABookActions:handleLoanRenewNow - failed to renew",browseHasExpired:"IABookActions:browseHasExpired - one-hour loan has been expired",bookWasExpired:"IABookActions:setupLendingToolbarActions - book was expired at intial, no tokenPoller",clearTokenPoller:"IABookActions:startLoanTokenPoller - clearing token poller interval",clearOneHourTimer:"IABookActions:timerCountdown - one-hour timer interval cleared",bookAccessed:"IABookActions:bookAccessed",handleLoanTokenPoller:"IABookActions:handleLoanTokenPoller",setConsecutiveLoanCounts:"IABookActions:setConsecutiveLoanCounts",actionsHandlerService:"IABookActions:actionsHandlerService"},di=location.hostname==="localhost"||location.host.match(/^(www|cat)-[a-z0-9]+\.archive\.org$/)||location.host.match(/\.code\.archive\.org$/)||location.host.match(/\.dev\.archive\.org$/)||location.host.match(/^ia-petabox-/)||location.host.match(/^internetarchive/)?console.log.bind(console):function(){},Gc={borrow:"BookReader-ReadingBorrow",browse:"BookReader-ReadingBrowse",preview:"BookReader-Preview",satisfactionMetric:"DetailsPage-Book",bookReaderHeader:"BookReader-Header",adminAccess:"Admin-Access"},Yf={browse:"Borrow-1Hour",browseAgain:"Borrow-Again",browseAutoRenew:"AutoRenewBook",browseAutoReturn:"AutoReturnBook",borrow:"Borrow-14Days",waitlistJoin:"JoinWaitlist",waitlistLeave:"LeaveWaitlist",doneBorrowing:"ReturnBook",login:"LogIn",purchase:"BWBPurchase",unavailable:"Book-Unavailable",printDisability:"Print-Disability",titleBar:"Book-Title-Bar"},mk=function(){"use strict";function g(){_classCallCheck(this,g),this.identifier=void 0,this.gaStats={}}return _createClass(g,[{key:"storeLoanStatsCount",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return $n(this,null,_regeneratorRuntime.default.mark(function o(){var l;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.identifier=e,s.prev=1,s.next=4,this.getLoanStatsCount(n);case 4:return l=new Date,l.setHours(l.getHours()+2),s.next=8,pd(this.getLoanCountStorageKey,JSON.stringify(this.lendingEventCounts),l,"/");case 8:s.next=13;break;case 10:s.prev=10,s.t0=s.catch(1),di(s.t0),this.sendEvent("Cookies-Error-Actions",s.t0,this.identifier);case 13:case"end":return s.stop()}},o,this,[[1,10]])}))}},{key:"getLoanStatsCount",value:function(e){return $n(this,null,_regeneratorRuntime.default.mark(function n(){var o,l,a,s,r,d,c,h,f,v,b,w,k,C;return _regeneratorRuntime.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.t0=JSON,A.next=4,QT(this.getLoanCountStorageKey);case 4:A.t1=A.sent,this.lendingEventCounts=A.t0.parse.call(A.t0,A.t1),this.gaStats=(o=this.lendingEventCounts)!=null?o:{browse:0,renew:0,expire:0},v=(a=(l=this.lendingEventCounts)==null?void 0:l.browse)!=null?a:0,b=(r=(s=this.lendingEventCounts)==null?void 0:s.renew)!=null?r:0,w=(c=(d=this.lendingEventCounts)==null?void 0:d.expire)!=null?c:0,A.t2=e,A.next=A.t2==="browse"?11:A.t2==="autorenew"?13:A.t2==="return"?15:17;break;case 11:return v=v?Number(v)+1:1,this.gaStats.browse=v,b=0,w=0,A.abrupt("break",18);case 13:return b=b?Number(b)+1:1,this.gaStats.renew=b,A.abrupt("break",18);case 15:return w=w?Number(w)+1:1,this.gaStats.expire=w,b=0,w=0,A.abrupt("break",18);case 17:return A.abrupt("break",18);case 18:this.lendingEventCounts={browse:v,renew:b,expire:w},k=Gc.browse,C="browse".concat(this.paddedNumber((h=this.gaStats)==null?void 0:h.browse),"-autorenew").concat(this.paddedNumber((f=this.gaStats)==null?void 0:f.renew),":").concat(e),this.sendEvent(k,C,this.identifier);case 21:case"end":return A.stop()}},n,this)}))}},{key:"paddedNumber",value:function(e){return e?e.toString().padStart(3,"0"):"000"}},{key:"getLoanCountStorageKey",get:function(){return"br-browse-".concat(this.identifier)}},{key:"sendEvent",value:function(e,n,o,l){var a;(a=window==null?void 0:window.archive_analytics)==null||a.send_event_no_sampling(e,n,o||this.identifier,l)}}]),g}(),gk=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.waitUntillBorrowComplete=6,n.loanAnanlytics=new mk,n.bindEvents(),_possibleConstructorReturn(n)}return _createClass(e,[{key:"bindEvents",value:function(){var o=this;this.addEventListener("browseBook",function(){return $n(o,null,_regeneratorRuntime.default.mark(function l(){var a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return this.handleBrowseIt(),r.next=4,(a=this.loanAnanlytics)==null?void 0:a.storeLoanStatsCount(this.identifier,"browse");case 4:case"end":return r.stop()}},l,this)}))}),this.addEventListener("browseBookAgain",function(){return $n(o,null,_regeneratorRuntime.default.mark(function l(){var a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return this.handleBrowseIt(),r.next=4,(a=this.loanAnanlytics)==null?void 0:a.storeLoanStatsCount(this.identifier,"browseagain");case 4:case"end":return r.stop()}},l,this)}))}),this.addEventListener("autoRenew",function(){return $n(o,null,_regeneratorRuntime.default.mark(function l(){var a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return this.handleLoanRenewNow(),r.next=4,(a=this.loanAnanlytics)==null?void 0:a.storeLoanStatsCount(this.identifier,"autorenew");case 4:case"end":return r.stop()}},l,this)}))}),this.addEventListener("autoReturn",function(){return $n(o,null,_regeneratorRuntime.default.mark(function l(){var a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return this.handleReturnIt(),r.next=4,(a=this.loanAnanlytics)==null?void 0:a.storeLoanStatsCount(this.identifier,"autoreturn");case 4:case"end":return r.stop()}},l,this)}))}),this.addEventListener("returnNow",function(l){var a=l.detail,s,r;if((a==null?void 0:a.borrowType)==="browse"&&((s=o.loanAnanlytics)==null||s.storeLoanStatsCount(o.identifier,"return")),o.handleReturnIt("returnNow"),(a==null?void 0:a.borrowType)==="borrow"){var d=a.event,c=d.category,h=d.action;(r=o.loanAnanlytics)==null||r.sendEvent(c,h,o.identifier)}}),this.addEventListener("borrowBook",function(l){var a=l.detail,s;o.handleBorrowIt();var r=a.event,d=r.category,c=r.action;(s=o.loanAnanlytics)==null||s.sendEvent(d,c,o.identifier)}),this.addEventListener("loginAndBorrow",function(l){var a=l.detail,s;o.handleLoginOk();var r=a.event,d=r.category,c=r.action;(s=o.loanAnanlytics)==null||s.sendEvent(d,c,o.identifier)}),this.addEventListener("leaveWaitlist",function(l){var a=l.detail,s;o.handleRemoveFromWaitingList();var r=a.event,d=r.category,c=r.action;(s=o.loanAnanlytics)==null||s.sendEvent(d,c,o.identifier)}),this.addEventListener("joinWaitlist",function(l){var a=l.detail,s;o.handleReserveIt();var r=a.event,d=r.category,c=r.action;(s=o.loanAnanlytics)==null||s.sendEvent(d,c,o.identifier)}),this.addEventListener("purchaseBook",function(l){var a=l.detail,s,r=a.event,d=r.category,c=r.action;(s=o.loanAnanlytics)==null||s.sendEvent(d,c,o.identifier)}),this.addEventListener("adminAccess",function(l){var a=l.detail,s,r=a.event,d=r.category,c=r.action;(s=o.loanAnanlytics)==null||s.sendEvent(d,c,o.identifier),o.setStickyAdminAccess(!0);var h=new URL(window.location.href);h.searchParams.append("admin",1),window.location.search=h.search}),this.addEventListener("exitAdminAccess",function(l){var a=l.detail,s,r=a.event,d=r.category,c=r.action;(s=o.loanAnanlytics)==null||s.sendEvent(d,c,o.identifier),o.setStickyAdminAccess(!1)}),this.addEventListener("bookTitleBar",function(l){var a=l.detail,s,r=a.event,d=r.category,c=r.action;(s=o.loanAnanlytics)==null||s.sendEvent(d,c,o.identifier)})}},{key:"handleBrowseIt",value:function(){var o=this,l="browse_book";this.dispatchToggleActionGroup(),Is({action:l,identifier:this.identifier,success:function(){o.setBrowseTimeSession(),o.handleReadItNow()},error:function(a){o.dispatchActionError(l,a)}})}},{key:"handleLoanRenewNow",value:function(){var o=this,l="renew_loan";Is({action:l,identifier:this.identifier,success:function(a){var s;di("RENEW_LOAN --- ",a,l,a.loan,o.identifier);var r=a.loan?a.loan:void 0,d=r.renewal;r&&d?o.setBrowseTimeSession():(di("RENEW_LOAN ERROR --- ",{action:l,isRenewal:d,activeLoan:r,data:a,id:o.identifier}),(s=window==null?void 0:window.Sentry)==null||s.captureMessage("".concat(aa.bookRenewFailed," - Error: ").concat(JSON.stringify(a))),o.dispatchActionError(l,{data:a,error:!0,message:"Loan renewal failed: no loan active."})),o.dispatchEvent(new CustomEvent("loanAutoRenewed",{detail:{action:l,data:bi(Zr({},a),{loan:r})}}))},error:function(a){o.dispatchActionError(l,a)}})}},{key:"handleReturnIt",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=this,a="return_loan";o==="returnNow"&&this.dispatchToggleActionGroup(),Is({action:a,identifier:this.identifier,success:function(){l.deleteLoanCookies(),o==="returnNow"&&po.goToUrl(l.returnUrl,!0)},error:function(s){l.dispatchActionError(a,s)}})}},{key:"handleBorrowIt",value:function(){var o=this,l="borrow_book";this.dispatchToggleActionGroup(),Is({action:l,identifier:this.identifier,success:function(){o.handleReadItNow()},error:function(a){o.dispatchActionError(l,a)}})}},{key:"handleReserveIt",value:function(){var o=this,l="join_waitlist";this.dispatchToggleActionGroup(),Is({action:l,identifier:this.identifier,success:function(){po.goToUrl(po.getRedirectUrl(),!0)},error:function(a){o.dispatchActionError(l,a)}})}},{key:"handleRemoveFromWaitingList",value:function(){var o=this,l="leave_waitlist";this.dispatchToggleActionGroup(),Is({action:l,identifier:this.identifier,success:function(){po.goToUrl(po.getRedirectUrl(),!0)},error:function(a){o.dispatchActionError(l,a)}})}},{key:"dispatchActionError",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a;(a=this.loanAnanlytics)==null||a.sendEvent("LendingServiceError",o),this.dispatchEvent(new CustomEvent("lendingActionError",{detail:{action:o,data:l}}))}},{key:"dispatchToggleActionGroup",value:function(){this.dispatchEvent(new CustomEvent("toggleActionGroup"))}},{key:"handleLoginOk",value:function(){var o="/account/login?referer=".concat(encodeURIComponent(po.getRedirectUrl()));po.goToUrl(o,!0)}},{key:"handleReadItNow",value:function(o){var l=new URLSearchParams(window.location.search);if(o){var a=new URLSearchParams(o),s=!0,r=!1,d=void 0;try{for(var c=a.entries()[Symbol.iterator](),h;!(s=(h=c.next()).done);s=!0){var f=_slicedToArray(h.value,2),v=f[0],b=f[1];l.append(v,b)}}catch(E){r=!0,d=E}finally{try{!s&&c.return!=null&&c.return()}finally{if(r)throw d}}}var w=l.toString(),k=w?"?".concat(w):"",C=window.location.origin+window.location.pathname+k;setTimeout(function(){po.goToUrl(C,!0)},this.waitUntillBorrowComplete*1e3)}},{key:"setBrowseTimeSession",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function o(){var l;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,l=new Date(new Date().getTime()+this.loanTotalTime*1e3),s.next=4,this.localCache.set({key:"".concat(this.identifier,"-loanTime"),value:l,ttl:Number(this.loanTotalTime)});case 4:return s.next=6,this.localCache.delete("".concat(this.identifier,"-pageChangedTime"));case 6:s.next=11;break;case 8:s.prev=8,s.t0=s.catch(0),di(s.t0);case 11:case"end":return s.stop()}},o,this,[[0,8]])}))}},{key:"deleteLoanCookies",value:function(){var o=new Date;o.setTime(o.getTime()-24*60*60*1e3),pd("loan-".concat(this.identifier,'=""'),"",o,"/",".archive.org"),pd("br-loan-".concat(this.identifier,'=""'),"",o,"/",".archive.org")}},{key:"setStickyAdminAccess",value:function(o){var l=window.location.hostname==="localhost"?"localhost":".archive.org";pd("sticky-admin-access",o,"","/",l)}}]),e}(er),yk=Ut(_templateObject475()),iE=Ut(_templateObject476()),oE=Ut(_templateObject477()),aE=Ut(_templateObject478()),Xf=Ut(_templateObject479()),sE=Ut(_templateObject480()),lE=Ut(_templateObject481()),Kf=Ut(_templateObject482()),uE=Ut(_templateObject483()),cE=Ut(_templateObject484()),Qf=Ut(_templateObject485()),dE=Ut(_templateObject486()),hE=Ut(_templateObject487()),fE=Ut(_templateObject488()),pE=Ut(_templateObject489(),yk,yk,iE,oE,hE,fE,aE,sE,Xf,Xf,Xf,lE,uE,Kf,Kf,Kf,cE,dE,Qf,Qf,Qf),pl=Ut(_templateObject490()),bk=Ut(_templateObject491()),vE=Ut(_templateObject492()),mE=Ut(_templateObject493(),pl,pl,bk,pl,vE,bk,pl,pl,pl),gE=xt(_templateObject494()),yE=xt(_templateObject495()),Jf=xt(_templateObject496()),bE=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.userid="",n.identifier="",n.primaryActions=[],n.secondaryActions=[],n.primaryColor="",n.dropdownState="close",n.width=0,n.hasAdminAccess=!1,n.dropdownArrow=Jf,n.initialButton=!1,n.title="",n.loaderIcon="https://archive.org/upload/images/tree/loading.gif",n.disabled=!1,n.returnUrl="",n.autoRenew=!1,n.autoReturn=!1,n.returnNow=!1,_possibleConstructorReturn(n)}return _createClass(e,[{key:"updated",value:function(o){(o.has("width")||o.has("disabled"))&&this.isBelowTabletContainer&&this.resetActions(),o.has("autoRenew")&&this.autoRenew&&this.dispatchLoanEvent("autoRenew");var l=o.has("autoReturn")&&this.autoReturn;l&&this.dispatchLoanEvent("autoReturn"),o.has("returnNow")&&this.returnNow&&!l&&this.dispatchLoanEvent("returnNow",{borrowType:"browse"})}},{key:"dispatchLoanEvent",value:function(o,l){this.dispatchEvent(new CustomEvent(o,{detail:l}))}},{key:"resetActions",value:function(){this.primaryActions.length&&(this.primaryActions=this.primaryActions.concat(this.secondaryActions),this.primaryColor=this.primaryActions[0].className,this.hasAdminAccess&&this.sortActionButtonOrder(),this.secondaryActions=[])}},{key:"sortActionButtonOrder",value:function(){var o=1,l=0;this.secondaryActions.length===2&&(o=2),o=this.primaryActions.length-o;var a=this.primaryActions[o],s=this.primaryActions;s.splice(o,1),s.splice(l,0,a),this.primaryActions=s}},{key:"render",value:function(){return xt(_templateObject497(),ku({actiongroup:!0,disabled:this.disabled}),this.getLoaderIcon,this.renderPrimaryActions,this.renderSecondaryActions)}},{key:"renderPrimaryActions",get:function(){return this.primaryActions.length===0?Vn:(this.dropdownState==="close"&&(this.primaryColor=this.primaryActions[0].className),this.primaryActions.length===1?this.initialActionTemplate:xt(_templateObject498(),this.initialActionTemplate,this.primaryColor,this.toggleDropdown,this.dropdownArrow,this.dropdownState,this.getPrimaryItems))}},{key:"renderSecondaryActions",get:function(){var o=this;return this.secondaryActions.length?this.secondaryActions.map(function(l){return o.renderActionButton(l)}):Vn}},{key:"renderActionLink",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this;return xt(_templateObject499(),this.getDeviceType,o.className,o.className,l?"initial":"",o.url,o.target,function(){a.clickHandler(o.id,o.analyticsEvent,o==null?void 0:o.borrowType)},o.id==="purchaseBook"?gE:"",o.text,o.subText)}},{key:"renderActionButton",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=this;if(o.url)return this.renderActionLink(o,l);var s=o.analyticsEvent;return xt(_templateObject500(),o.className,l?"initial":"",function(){a.clickHandler(o.id,s,o==null?void 0:o.borrowType)},o.text)}},{key:"clickHandler",value:function(o,l){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";if(this.dropdownState="close",this.dropdownArrow=Jf,!(!l||!o)){var s=l.category,r=l.action;this.dispatchEvent(new CustomEvent(o,{detail:{event:{category:s,action:r},borrowType:a}}))}}},{key:"initialActionTemplate",get:function(){return this.initialButton=!1,this.primaryActions.length>1&&(this.initialButton=!0),this.renderActionButton(this.primaryActions[0],this.initialButton)}},{key:"getPrimaryItems",get:function(){var o=this;return this.primaryActions.slice(1).map(function(l){return xt(_templateObject501(),o.renderActionButton(l,o.initialButton))})}},{key:"getLoaderIcon",get:function(){return xt(_templateObject502(),ku({actionloader:!0,disabled:this.disabled}),this.loaderIcon)}},{key:"isBelowTabletContainer",get:function(){return this.width<=800}},{key:"getDeviceType",get:function(){return this.isBelowTabletContainer?"mobile":"desktop"}},{key:"toggleDropdown",value:function(){this.dropdownState==="open"?(this.dropdownState="close",this.dropdownArrow=Jf,this.primaryColor=this.primaryActions[0].className):(this.dropdownState="open",this.dropdownArrow=yE,this.primaryColor="dark")}}],[{key:"properties",get:function(){return{userid:{type:String},identifier:{type:String},primaryActions:{type:Array},secondaryActions:{type:Array},primaryColor:{type:String},dropdownState:{type:String},width:{type:Number},hasAdminAccess:{type:Boolean},dropdownArrow:{type:String},disabled:{type:Boolean},returnUrl:{type:String},autoRenew:{type:Boolean},autoReturn:{type:Boolean},returnNow:{type:Boolean}}}},{key:"styles",get:function(){return[pE,mE]}}]),e}(gk),window.customElements.define("collapsible-action-group",bE),wE=xt(_templateObject503()),_E=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.identifier="",n.bookTitle="",n.analyticsCategories=Gc,n.analyticsActions=Yf,_possibleConstructorReturn(n)}return _createClass(e,[{key:"clickHandler",value:function(){var o={category:this.analyticsCategories.bookReaderHeader,action:this.analyticsActions.titleBar},l=o.category,a=o.action;this.dispatchEvent(new CustomEvent("bookTitleBar",{detail:{event:{category:l,action:a}}}))}},{key:"render",value:function(){var o=this;return xt(_templateObject504(),function(){o.clickHandler()},this.identifier,wE,this.bookTitle)}}],[{key:"properties",get:function(){return{identifier:{type:String},bookTitle:{type:String}}}},{key:"styles",get:function(){return Ut(_templateObject505())}}]),e}(gk),window.customElements.define("book-title-bar",_E),kE=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.texts="",n.textClass="",_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return xt(_templateObject506(),this.textClass,this.texts)}}],[{key:"properties",get:function(){return{texts:{type:String},textClass:{type:String}}}},{key:"styles",get:function(){return Ut(_templateObject507())}}]),e}(er),window.customElements.define("text-group",kE),xE=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.iconClass="",n.helpURL="https://help.archive.org/help/borrowing-from-the-lending-library",_possibleConstructorReturn(n)}return _createClass(e,[{key:"render",value:function(){return xt(_templateObject508(),this.iconClass,this.helpURL)}},{key:"getInfoIcon",get:function(){return Do(_templateObject509(),py(this.icon))}}],[{key:"properties",get:function(){return{iconClass:{type:String}}}},{key:"styles",get:function(){return Ut(_templateObject510())}}]),e}(er),window.customElements.define("info-icon",xE),SE=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.secondsLeftOnLoan=0,n.displayTime=!1,_possibleConstructorReturn(n)}return _createClass(e,[{key:"minutesLeftOnLoan",get:function(){var o=Math.round(this.secondsLeftOnLoan);return o=Math.ceil(o/60),o<10?o="0:0".concat(o):o===60?o="1:00":o="0:".concat(o),o}},{key:"remainingTime",get:function(){var o="minute",l=this.minutesLeftOnLoan;return l!==1?"".concat(l," ").concat(o,"s"):"".concat(l," ").concat(o)}},{key:"render",value:function(){var o=this,l=this.displayTime?"view":"hide";return xt(_templateObject511(),l,function(){o.displayTime=!o.displayTime},this.minutesLeftOnLoan,Number(this.secondsLeftOnLoan),this.remainingTime)}}],[{key:"properties",get:function(){return{secondsLeftOnLoan:{type:Number},displayTime:{type:Boolean}}}},{key:"styles",get:function(){return Ut(_templateObject512())}}]),e}(er),window.customElements.define("timer-countdown",SE),window.IALendingIntervals={tokenPoller:0,timerCountdown:0,browseExpireTimeout:0,clearTokenPoller:function(){window.clearInterval(window.IALendingIntervals.tokenPoller),window.IALendingIntervals.tokenPoller=0},clearTimerCountdown:function(){window.clearInterval(window.IALendingIntervals.timerCountdown),window.IALendingIntervals.timerCountdown=0},clearBrowseExpireTimeout:function(){window.clearTimeout(window.IALendingIntervals.browseExpireTimeout),window.IALendingIntervals.browseExpireTimeout=0},clearAll:function(){var g,t,e;(g=window==null?void 0:window.IALendingIntervals)==null||g.clearTokenPoller(),(t=window==null?void 0:window.IALendingIntervals)==null||t.clearTimerCountdown(),(e=window==null?void 0:window.IALendingIntervals)==null||e.clearBrowseExpireTimeout()}},CE=function(){"use strict";function g(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;_classCallCheck(this,g),this.userid=t,this.identifier=e,this.lendingStatus=n,this.bwbPurchaseUrl=o,this.printDisabilityLink="/details/printdisabled?tab=about",this.analyticsCategories=Gc,this.analyticsActions=Yf}return _createClass(g,[{key:"firstBrowseConfig",value:function(){return{id:"browseBook",text:"Borrow",className:"primary",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.browse}}}},{key:"browseAgainConfig",value:function(){return{id:"browseBookAgain",text:"Borrow",className:"primary",analyticsEvent:{category:this.analyticsCategories.browse,action:this.analyticsActions.browseAgain}}}},{key:"returnBookConfig",value:function(){return{id:"returnNow",text:"Return now",className:"danger",analyticsEvent:{category:this.lendingStatus.user_has_browsed?this.analyticsCategories.browse:this.analyticsCategories.borrow,action:this.analyticsActions.doneBorrowing},borrowType:this.lendingStatus.user_has_browsed?"browse":"borrow"}}},{key:"borrowBookConfig",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return!this.lendingStatus.available_to_borrow&&!this.lendingStatus.user_is_printdisabled||this.lendingStatus.user_has_borrowed?null:{id:"borrowBook",text:"Borrow for 14 days",className:"primary",disabled:e,analyticsEvent:{category:this.lendingStatus.user_has_browsed?this.analyticsCategories.browse:this.analyticsCategories.preview,action:this.analyticsActions.borrow}}}},{key:"loginAndBorrowBookConfig",value:function(){return{id:"loginAndBorrow",text:"Log In and Borrow",className:"primary",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.login}}}},{key:"leaveWaitlistConfig",value:function(){return{id:"leaveWaitlist",text:"Leave Waitlist",className:"dark",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.waitlistLeave}}}},{key:"loginAndWaitlistConfig",value:function(){return{id:"loginAndWaitlist",text:"Log In and Join Waitlist",className:"warning",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.login}}}},{key:"waitlistConfig",value:function(){var e=!!this.userid,n=this.lendingStatus||{};return!n.available_to_waitlist||n.available_to_borrow?null:e?{id:"joinWaitlist",text:"Join Waitlist",className:"warning",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.waitlistJoin}}:this.loginAndWaitlistConfig()}},{key:"purchaseConfig",value:function(){return this.bwbPurchaseUrl?{id:"purchaseBook",text:"Purchase at ",subText:"Better World Books",title:"Purchase",url:this.bwbPurchaseUrl,target:"_blank",className:"purchase dark",analyticsEvent:{category:this.analyticsCategories.bookReaderHeader,action:this.analyticsActions.purchase}}:null}},{key:"printDisabilityConfig",value:function(){return this.lendingStatus.user_is_printdisabled?null:{id:"printDisability",text:"Print Disability Access",title:"Print Disability Access",url:this.printDisabilityLink,target:"_self",className:"print-disability",analyticsEvent:{category:this.analyticsCategories.bookReaderHeader,action:this.analyticsActions.printDisability}}}},{key:"adminAccessConfig",value:function(){return this.lendingStatus.user_has_borrowed||!this.lendingStatus.isAdmin?null:{id:"adminAccess",text:"Admin Access",title:"You have administrative privileges to read this book",className:"danger",analyticsEvent:{category:this.analyticsCategories.adminAccess,action:this.analyticsActions.borrow}}}},{key:"adminOrPrintDisabledExitConfig",value:function(){return{id:"exitAdminAccess",text:"\u2190 Exit ".concat(po.getQueryParam("admin")==="1"?"admin":"print-disabled"," access mode"),url:po.getBackHref(),target:"_self",className:"exit-admin",analyticsEvent:{category:this.analyticsCategories.adminAccess,action:this.analyticsActions.doneBorrowing}}}},{key:"unavailableBookConfig",value:function(){return{id:"borrowUnavailable",text:"Borrow Unavailable",className:"primary unavailable",disabled:!0,analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.unavailable}}}},{key:"isEmbed",value:function(e){return{primaryTitle:"<img src=/images/glogo-jw.png> <a href=/details/".concat(this.identifier,">").concat(e,"</a>"),primaryActions:[],primaryColor:""}}}]),g}(),Xi={available_1hr:"Renews automatically with continued use.",available_14d:"This book can be borrowed for 14 days.",available_pd:"Book available to patrons with print disabilities.",available_waitlist:"A waitlist is available.",admin_access:"You have administrative privileges to read this book.",claim_waitlist:"You are at the top of the waitlist for this book.",being_borrowed:"Another patron is using this book. Please check back later.",eligible_pd:"You are eligible for print-disabled access.",on_waitlist:"You are on the waitlist for this book.",session_expired:"Renews automatically with continued use.",unavailable:"This book is not available at this time."},AE=function(){"use strict";function g(t,e,n,o){_classCallCheck(this,g),this.userid=t,this.identifier=e,this.lendingStatus=n,this.bwbPurchaseUrl=o,this.analyticsCategories=Gc,this.analyticsActions=Yf,this.actionsConfig=new CE(this.userid,this.identifier,this.lendingStatus,this.bwbPurchaseUrl)}return _createClass(g,[{key:"onlyAdminAction",value:function(){return{primaryTitle:Xi.admin_access,primaryActions:[],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"adminOrPrintDisabledReadingAction",value:function(){return{primaryTitle:"",primaryActions:[],secondaryActions:[this.actionsConfig.adminOrPrintDisabledExitConfig()],borrowType:"adminBorrowed"}}},{key:"patronIsReadingAction",value:function(){var e=this.lendingStatus||{},n=e.loanCount>=e.maxLoans,o="",l=e.user_has_browsed&&!e.browsingExpired;return l?o=Xi.available_1hr:o="Your loan of this book has ".concat(e.daysLeftOnLoan," days left."),{primaryTitle:o,primaryActions:[this.actionsConfig.returnBookConfig(),this.actionsConfig.borrowBookConfig(n),this.actionsConfig.waitlistConfig(),this.actionsConfig.printDisabilityConfig()],primaryColor:"danger",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()],borrowType:l?"browsed":"borrowed"}}},{key:"claimWaitlistAction",value:function(){var e=this.lendingStatus||{},n=this.actionsConfig.leaveWaitlistConfig(),o=this.actionsConfig.borrowBookConfig(),l=e.available_to_browse?this.actionsConfig.firstBrowseConfig():null,a=[o];return l&&a.push(l),a.push(n),{primaryTitle:Xi.claim_waitlist,primaryActions:a,primaryColor:"primary",footer:"printDisabilityLine()",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"borrowPrintDisabledAction",value:function(){return{primaryTitle:Xi.eligible_pd,primaryActions:[this.actionsConfig.borrowBookConfig()],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"onlyPrintDisabledAction",value:function(){var e=this.lendingStatus.isAdmin?[]:this.actionsConfig.unavailableBookConfig();return{primaryTitle:Xi.available_pd,primaryActions:[e],primaryColor:"primary",secondaryActions:[]}}},{key:"onWaitlistAction",value:function(){return{primaryTitle:Xi.on_waitlist,primaryActions:[this.actionsConfig.leaveWaitlistConfig(),this.actionsConfig.firstBrowseConfig()],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"restrictedAction",value:function(){var e=this.lendingStatus||{};return{primaryTitle:e.max_browsable_copies&&!e.available_lendable_copies?Xi.being_borrowed:Xi.unavailable,primaryActions:[this.actionsConfig.unavailableBookConfig()],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"loggedOutOptions",value:function(){var e=this.lendingStatus||{},n=!e.available_to_waitlist&&!e.available_to_borrow,o=this.actionsConfig.waitlistConfig(),l=null;e.available_to_borrow||e.available_to_browse?l=this.actionsConfig.loginAndBorrowBookConfig():n&&(l=this.actionsConfig.unavailableBookConfig());var a=this.actionsConfig.printDisabilityConfig(),s=[l,o,a].filter(function(r){return r!==null});return{primaryTitle:e.available_to_browse?Xi.available_1hr:e.available_to_borrow?Xi.available_14d:Xi.unavailable,primaryActions:s,primaryColor:"primary",footer:"printDisabilityLine()",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"borrow1HrAction",value:function(){var e=this.lendingStatus||{},n=!e.available_to_browse&&e.browsingExpired,o=e.available_to_browse||n,l=o&&e.available_to_borrow,a=o&&!e.available_to_borrow&&e.available_to_waitlist,s=o&&!e.available_to_borrow&&!e.available_to_waitlist,r=e.available_browsable_copies<1&&e.available_browsable_copies<e.max_browsable_copies,d=n?Xi.session_expired:!o&&r?Xi.being_borrowed:!o&&e.available_to_waitlist?Xi.available_waitlist:Xi.available_1hr,c=n?this.actionsConfig.browseAgainConfig():this.actionsConfig.firstBrowseConfig(),h=this.actionsConfig.borrowBookConfig(),f=this.actionsConfig.waitlistConfig(),v=this.actionsConfig.printDisabilityConfig();return{primaryTitle:d,primaryActions:s?[c,v]:l?[c,h,v]:a?[c,f,v]:[],primaryColor:"primary",footer:"printDisabilityLine()",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"borrowAction",value:function(){var e=this.lendingStatus||{};if(!this.userid)return this.loggedOutOptions();if(e.available_to_browse||e.browsingExpired)return this.borrow1HrAction();var n=null,o=this.actionsConfig.waitlistConfig(),l=this.actionsConfig.printDisabilityConfig(),a=e.loanCount>=e.maxLoans;!e.available_to_borrow&&!o?n=this.actionsConfig.unavailableBookConfig():e.available_to_borrow&&(n=this.actionsConfig.borrowBookConfig(a));var s=[n,o,l].filter(function(r){return r!==null});return{primaryTitle:o?Xi.being_borrowed:"",primaryActions:s,primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}},{key:"getBrowseCountdownTitle",value:function(){var e=this.lendingStatus.secondsLeftOnLoan,n=new Date(+new Date+e*1e3),o=n.getHours()%12,l=(""+n.getMinutes()).replace(/^(\d{1})$/,"0$1"),a=n.getHours()>11?" PM":" AM";return o===0&&(o=12),"Borrow ends at "+o+":"+l+a}},{key:"getCurrentLendingActions",value:function(){var e,n=this.lendingStatus||{},o=po.getQueryParam("admin")=="1"&&n.isAdmin,l=po.getQueryParam("access")=="1"&&n.user_is_printdisabled,a=n.user_has_borrowed||n.user_has_browsed&&!n.browsingExpired,s=!n.user_has_borrowed&&!n.user_has_browsed,r=!n.available_to_borrow&&!n.available_to_browse,d=n.is_printdisabled&&n.user_is_printdisabled,c=(n.available_to_browse||n.available_to_borrow)&&s&&!n.user_on_waitlist;return o||l?e=this.adminOrPrintDisabledReadingAction():n.isAdmin&&s&&r?e=this.onlyAdminAction():a?e=this.patronIsReadingAction():n.user_can_claim_waitlist?e=this.claimWaitlistAction():d?e=this.borrowPrintDisabledAction():c||n.browsingExpired?e=this.borrowAction():n.isPrintDisabledOnly?e=this.onlyPrintDisabledAction():n.user_on_waitlist?e=this.onWaitlistAction():e=this.restrictedAction(),e}}]),g}(),OE=function(){"use strict";function g(t,e,n,o,l){_classCallCheck(this,g),this.identifier=t,this.borrowType=e,this.successCallback=n,this.errorCallback=o,this.pollerDelay=l,this.loanTokenInterval=void 0,this.loanAnalytics=new mk,this.bookAccessed()}return _createClass(g,[{key:"disconnectedCallback",value:function(){var e;(e=window==null?void 0:window.IALendingIntervals)==null||e.clearTokenPoller()}},{key:"bookAccessed",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function e(){var n,o;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n=this,this.borrowType?(this.handleLoanTokenPoller(!0),this.borrowType!=="adminBorrowed"&&(window.IALendingIntervals.tokenPoller=setInterval(function(){n.handleLoanTokenPoller()},this.pollerDelay*1e3))):((o=window==null?void 0:window.Sentry)==null||o.captureMessage("".concat(aa.bookAccessed," - not borrowed")),this.disconnectedCallback());case 3:case"end":return a.stop()}},e,this)}))}},{key:"handleLoanTokenPoller",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return $n(this,null,_regeneratorRuntime.default.mark(function n(){var o,l;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:o=this,l="create_token",Is({identifier:this.identifier,action:l,error:function(r){var d,c;o.errorCallback({detail:{action:l,data:r}}),(d=window==null?void 0:window.Sentry)==null||d.captureMessage("".concat(aa.handleLoanTokenPoller," - Error: ").concat(JSON.stringify(r))),(c=o.loanAnalytics)==null||c.sendEvent("LendingServiceLoanError",l,o.identifier)},success:function(){e&&o.successCallback()}});case 3:case"end":return s.stop()}},n,this)}))}}]),g}(),jE=function(){"use strict";function g(t,e,n,o){_classCallCheck(this,g),this.hasPageChanged=t,this.identifier=e,this.localCache=n,this.loanRenewTimeConfig=o,this.loanRenewMessage="This book has been renewed for #time #unitsOfTime.",this.loanReturnWarning="With no action, this book will be auto-returned in #time #unitsOfTime.",this.result={texts:null,renewNow:!1}}return _createClass(g,[{key:"handleLoanRenew",value:function(){try{return this.hasPageChanged?this.pageChanged():this.autoChecker()}catch(e){di(e)}return Vn}},{key:"pageChanged",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function e(){var n,o,l,a,s;return _regeneratorRuntime.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return n=this.loanRenewTimeConfig,o=n.loanRenewAtLast,l=new Date,d.next=5,this.localCache.get("".concat(this.identifier,"-loanTime"));case 5:return a=d.sent,s=this.changeTime(a,o,"sub"),d.abrupt("return",(s!==null&&l>=s&&(this.result.texts=this.loanRenewMessage,this.result.renewNow=!0),this.setPageChangedTime(),this.result));case 8:case"end":return d.stop()}},e,this)}))}},{key:"autoChecker",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function e(){var n,o,l,a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.loanRenewTimeConfig,o=n.pageChangedInLast,r.next=4,this.localCache.get("".concat(this.identifier,"-pageChangedTime"));case 4:return l=r.sent,a=this.changeTime(new Date,o,"sub"),r.abrupt("return",(l===void 0||l<=a?(this.result.texts=this.loanReturnWarning,this.result.renewNow=!1):l>=a&&(this.result.texts="",this.result.renewNow=!0),this.result));case 7:case"end":return r.stop()}},e,this)}))}},{key:"setPageChangedTime",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function e(){return _regeneratorRuntime.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.localCache.set({key:"".concat(this.identifier,"-pageChangedTime"),value:new Date,ttl:Number(this.loanRenewTimeConfig.loanTotalTime)});case 2:case"end":return o.stop()}},e,this)}))}},{key:"getMessageTexts",value:function(e,n){var o="minute",l=e,a=n;return a=Math.ceil(a/60),a>59&&(a=1,o="hour"),l=l==null?void 0:l.replace(/#time/,a),l==null?void 0:l.replace(/#unitsOfTime/,a!==1?"".concat(o,"s"):o)}},{key:"changeTime",value:function(e,n,o){return e===void 0?null:o==="sub"?new Date(e.getTime()-n*1e3):new Date(e.getTime()+n*1e3)}}]),g}(),EE={browseExpired:"IABookReader:BrowsingHasExpired"},vo={iaButton:"min-height:3.5rem;cursor:pointer;color:white;border-radius:0.4rem;border:1px solid #c5d1df;padding:4px 8px;width:auto;user-select:none;",renew:"background:#194880;width:110px;",return:"background:#d9534f;width:120px;",loaderIcon:"display:inline-block;width:20px;height:20px;margin-top:2px;color:white;--activityIndicatorLoadingRingColor:#fff;--activityIndicatorLoadingDotColor:#fff;",refresh:"background:none;font-size:inherit;border:0;padding:0;color:#0000ee;cursor:pointer;text-decoration:underline"},TE=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.userid="",n.identifier="",n.bookTitle="",n.returnUrl="",n.lendingStatus={},n.width=0,n.bwbPurchaseUrl="",n.lendingBarPostInit=function(){},n.barType="action",n.sharedObserver=void 0,n.disableActionGroup=!1,n.tokenDelay=120,n.timerExecutionSeconds=30,n.postInitComplete=!1,n.primaryActions=[],n.primaryTitle="",n.primaryColor="primary",n.secondaryActions=[],n.lendingOptions={},n.borrowType=null,n.browseTimer=void 0,n.timeWhenTimerStart=void 0,n.returnNow=!1,n.loanRenewTimeConfig={loanTotalTime:3600,loanRenewAtLast:660,pageChangedInLast:900},n.loanRenewResult={texts:"",renewNow:!1,secondsLeft:0},_possibleConstructorReturn(n)}return _createClass(e,[{key:"disconnectedCallback",value:function(){var o;(o=window==null?void 0:window.IALendingIntervals)==null||o.clearAll(),this.sentryCaptureMsg(aa.disconnectedCallback),this.disconnectResizeObserver()}},{key:"sentryCaptureMsg",value:function(o){var l;di(window==null?void 0:window.Sentry),(l=window==null?void 0:window.Sentry)==null||l.captureMessage(o)}},{key:"firstUpdated",value:function(){this.bindLoanRenewEvents(),this.localCache=new Zj({namespace:"loanRenew"}),this.sharedObserver||(this.sharedObserver=new Ya,this.setupResizeObserver())}},{key:"updated",value:function(o){(o.has("lendingStatus")||o.has("bwbPurchaseUrl"))&&this.setupLendingToolbarActions(),o.has("sharedObserver")&&(this.disconnectResizeObserver(),this.setupResizeObserver()),o.has("loanRenewResult")&&this.loanRenewResult.renewNow&&window.IALendingIntervals.clearAll()}},{key:"handleResize",value:function(o){var l=o.target;if(l===this.shadowRoot.host){var a=o.contentRect;this.width=Math.round(a.width)}}},{key:"disconnectResizeObserver",value:function(){var o;(o=this.sharedObserver)==null||o.removeObserver({handler:this,target:this.shadowRoot.host})}},{key:"setupResizeObserver",value:function(){var o;this.shadowRoot&&((o=this.sharedObserver)==null||o.addObserver({handler:this,target:this.shadowRoot.host}))}},{key:"setupLendingToolbarActions",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function o(){var l,a,s,r,d,c,h;return _regeneratorRuntime.default.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(l=this,this.lendingOptions=new AE(this.userid,this.identifier,this.lendingStatus,this.bwbPurchaseUrl),c=this.lendingOptions.getCurrentLendingActions(),c){v.next=6;break}return v.abrupt("return");case 6:if(this.primaryTitle=c.primaryTitle,this.primaryActions=(a=c.primaryActions)==null?void 0:a.filter(function(b){return b!=null}),this.primaryColor=c.primaryColor,this.secondaryActions=(s=c.secondaryActions)==null?void 0:s.filter(function(b){return b!=null}),this.borrowType=c.borrowType?c.borrowType:null,h="browsingExpired"in this.lendingStatus&&((r=this.lendingStatus)==null?void 0:r.browsingExpired),!h){v.next=11;break}return di("setupLendingToolbarActions > hasExpired --- "),this.tokenPoller||this.sentryCaptureMsg(aa.bookWasExpired),(d=window==null?void 0:window.IALendingIntervals)==null||d.clearAll(),this.dispatchEvent(new Event(EE.browseExpired,{bubbles:!0,cancelable:!1,composed:!0})),v.abrupt("return");case 11:if(v.t0=this.borrowType==="browsed",!v.t0){v.next=17;break}return v.next=15,this.startTimerCountdown();case 15:return v.next=17,this.startBrowseTimer();case 17:if(v.t0&&(v.sent,v.sent),!(!this.borrowType||this.barType==="title")){v.next=20;break}return this.lendingBarPostInit(),v.abrupt("return");case 20:setTimeout(function(){!h&&!window.IALendingIntervals.tokenPoller&&l.startLoanTokenPoller()},100),this.requestUpdate();case 21:case"end":return v.stop()}},o,this)}))}},{key:"bindLoanRenewEvents",value:function(){var o=this;window.addEventListener("BookReader:userAction",function(){di("IABookActions:BookReader:userAction"),o.borrowType==="browsed"&&o.autoLoanRenewChecker(!0)}),document.addEventListener("visibilitychange",function(){return $n(o,null,_regeneratorRuntime.default.mark(function l(){var a,s;return _regeneratorRuntime.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!(!document.hidden&&(di("visibilitychange event execute:------------------ ",new Date().getMinutes(),new Date().getSeconds(),this.borrowType),this.borrowType==="browsed"&&this.lendingStatus.browsingExpired===!1))){d.next=6;break}return d.next=3,this.localCache.get("".concat(this.identifier,"-loanTime"));case 3:a=d.sent,s=Math.round((a-new Date)/1e3),s>=this.timerExecutionSeconds?this.loanStatusCheckInterval(Number(s)):(this.browseHasExpired(),this.disconnectedCallback());case 6:case"end":return d.stop()}},l,this)}))})}},{key:"autoLoanRenewChecker",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return $n(this,null,_regeneratorRuntime.default.mark(function l(){return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.loanRenewHelper=new jE(o,this.identifier,this.localCache,this.loanRenewTimeConfig),s.next=3,this.loanRenewHelper.handleLoanRenew();case 3:this.loanRenewResult=this.loanRenewHelper.result;case 4:case"end":return s.stop()}},l,this)}))}},{key:"modal",get:function(){var o=document.body.querySelector("modal-manager");return o==null||o.setAttribute("id","action-bar-modal"),o}},{key:"showWarningModal",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function o(){var l,a,s,r,d,c,h,f;return _regeneratorRuntime.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return l=this,di("****** showWarningModal ******"),this.modal.customModalContent=Vn,(a=this.modal)==null||a.closeModal(),this.loanRenewResult={texts:"",renewNow:!1},d=this.loanRenewResult,c=d.secondsLeft,c===void 0?c=this.lendingStatus.secondsLeftOnLoan:c=c>60?c:60,h=new wa({headline:"Are you still reading?",headerColor:"#194880",showCloseButton:!1,closeOnBackdropClick:!1,message:(s=this.loanRenewHelper)==null?void 0:s.getMessageTexts(this.loanRenewResult.texts,c)}),f=xt(_templateObject513(),vo.iaButton,vo.renew,function(){return l.patronWantsToRenewBook()},vo.iaButton,vo.return,function(){return l.patronWantsToReturnBook()}),this.modal.setAttribute("aria-live","assertive"),b.next=9,(r=this.modal)==null?void 0:r.showModal({config:h,customModalContent:f});case 9:case"end":return b.stop()}},o,this)}))}},{key:"showWarningDisabledModal",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"renewBook";return $n(this,null,_regeneratorRuntime.default.mark(function l(){var a,s,r,d,c,h;return _regeneratorRuntime.default.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return r=this.loanRenewResult,d=r.secondsLeft,d===void 0?d=this.lendingStatus.secondsLeftOnLoan:d=d>60?d:60,c=new wa({headline:"Are you still reading?",headerColor:"#194880",showCloseButton:!1,closeOnBackdropClick:!1,message:(a=this.loanRenewHelper)==null?void 0:a.getMessageTexts(this.loanRenewResult.texts,d)}),h=xt(_templateObject516(),vo.iaButton,vo.renew,o==="renewBook"?xt(_templateObject514(),vo.loaderIcon):"Keep reading",vo.iaButton,vo.return,o==="returnBook"?xt(_templateObject515(),vo.loaderIcon):"Return the book"),v.next=6,(s=this.modal)==null?void 0:s.showModal({config:c,customModalContent:h});case 6:case"end":return v.stop()}},l,this)}))}},{key:"patronWantsToRenewBook",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function o(){return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:this.showWarningDisabledModal(),this.loanRenewResult={texts:"",renewNow:!0};case 1:case"end":return a.stop()}},o,this)}))}},{key:"patronWantsToReturnBook",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function o(){return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:this.showWarningDisabledModal("returnBook"),document.querySelector("ia-book-actions").disableActionGroup=!0,this.returnNow=!0;case 1:case"end":return a.stop()}},o,this)}))}},{key:"showExpiredModal",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function o(){var l,a,s,r;return _regeneratorRuntime.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return l=this,s=new wa({headline:"",showCloseButton:!1,closeOnBackdropClick:!1,headerColor:"#194880",message:"This book has been returned due to inactivity."}),r=xt(_templateObject517(),vo.iaButton,vo.renew,function(){po.goToUrl(l.returnUrl,!0)}),c.next=5,(a=this.modal)==null?void 0:a.showModal({config:s,customModalContent:r});case 5:case"end":return c.stop()}},o,this)}))}},{key:"browseHasExpired",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function o(){var l,a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return di("BrowseHasExpired ---"),(l=window==null?void 0:window.IALendingIntervals)==null||l.clearAll(),a=bi(Zr({},this.lendingStatus),{browsingExpired:!0,secondsLeftOnLoan:0}),this.lendingStatus=a,r.next=6,this.localCache.delete("".concat(this.identifier,"-loanTime"));case 6:return r.next=8,this.localCache.delete("".concat(this.identifier,"-pageChangedTime"));case 8:return this.loanRenewResult.renewNow=!1,this.loanRenewResult.texts="This book has been returned due to inactivity.",r.next=12,this.showExpiredModal();case 12:this.sentryCaptureMsg(aa.browseHasExpired);case 13:case"end":return r.stop()}},o,this)}))}},{key:"startBrowseTimer",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function o(){var l,a,s,r,d,c;return _regeneratorRuntime.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(l=this,(a=window==null?void 0:window.IALendingIntervals)==null||a.clearBrowseExpireTimeout(),s=this.lendingStatus,r=s.browsingExpired,d=s.user_has_browsed,c=s.secondsLeftOnLoan,!(!d||r)){f.next=7;break}return di("startBrowseTimer --- !user_has_browsed || browsingExpired",{user_has_browsed:d,browsingExpired:r,secondsLeftOnLoan:c}),f.abrupt("return");case 7:window.IALendingIntervals.browseExpireTimeout=setTimeout(function(){di("startBrowseTimer > browseExpireTimeout --- will expire loan",c),l.browseHasExpired()},c*1e3);case 8:case"end":return f.stop()}},o,this)}))}},{key:"render",value:function(){return this.barType==="title"?xt(_templateObject518(),this.bookTitleBar):xt(_templateObject519(),this.bookActionBar)}},{key:"bookTitleBar",get:function(){return xt(_templateObject520(),this.identifier,this.bookTitle)}},{key:"timerCountdownEl",get:function(){return this.shadowRoot.querySelector("timer-countdown")}},{key:"bookActionBar",get:function(){return xt(_templateObject521(),this.userid,this.identifier,this.primaryColor,this.primaryActions,this.secondaryActions,this.width,this.borrowType,this.returnUrl,this.localCache,this.loanRenewTimeConfig.loanTotalTime,this.hasAdminAccess,this.disableActionGroup,this.loanRenewResult.renewNow,this.lendingStatus.browsingExpired,this.returnNow,this.handleLoanAutoRenewed,this.handleLendingActionError,this.handleToggleActionGroup,this.textGroupTemplate,this.infoIconTemplate,Math.round(Number(this.lendingStatus.secondsLeftOnLoan)))}},{key:"handleLoanAutoRenewed",value:function(o){return $n(this,arguments,_regeneratorRuntime.default.mark(function l(a){var s,r,d,c,h,f,v,b,w;return _regeneratorRuntime.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(s=a.detail,h=(r=s==null?void 0:s.data)==null?void 0:r.loan,f="Whoops, seems we hit a hiccup with renewing this book. Please refresh & retry. --- (Debug: ".concat((d=s==null?void 0:s.data)==null?void 0:d.error,")"),h){C.next=6;break}return this.showErrorModal(f,"handleLoanAutoRenewed"),C.abrupt("return");case 6:if(!this.loanRenewResult.renewNow){C.next=14;break}return C.next=9,this.localCache.get("".concat(this.identifier,"-loanTime"));case 9:v=C.sent,b=Math.round((v-new Date)/1e3),di(v,b),di("IABookActions: handleLoanAutoRenewed --- ",{ajaxResponse:s==null?void 0:s.data,loanRenewResult:this.loanRenewResult,secondsLeftOnLoan:b}),w=bi(Zr({},this.lendingStatus),{user_has_browsed:!0,browsingExpired:!1,secondsLeftOnLoan:b}),this.lendingStatus=w,(c=this.modal)==null||c.closeModal(),this.modal.removeAttribute("id"),this.modal.customModalContent=Vn,this.sentryCaptureMsg(aa.bookHasRenewed);case 14:case"end":return C.stop()}},l,this)}))}},{key:"startTimerCountdown",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function o(){var l,a,s;return _regeneratorRuntime.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:l=this,(a=window==null?void 0:window.IALendingIntervals)==null||a.clearTimerCountdown(),s=Number(this.lendingStatus.secondsLeftOnLoan),this.timeWhenTimerStart=new Date,window.IALendingIntervals.timerCountdown=setInterval(function(){return $n(l,null,_regeneratorRuntime.default.mark(function c(){return _regeneratorRuntime.default.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this.loanStatusCheckInterval(s);case 2:case"end":return f.stop()}},c,this)}))},this.timerExecutionSeconds*1e3);case 5:case"end":return d.stop()}},o,this)}))}},{key:"loanStatusCheckInterval",value:function(o){return $n(this,null,_regeneratorRuntime.default.mark(function l(){var a,s;return _regeneratorRuntime.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return a=o,a-=this.timerExecutionSeconds,a=Math.round(a),d.next=4,this.reSyncTimerIfGoneOff(a);case 4:if(s=d.sent,s.hasSynced&&(a=s.whatShouldLeft,di("startTimerCountdown --- stale, timer has resyncd",{secondsLeft:a})),di("startTimerCountdown --- countdown still valid. continue...",{resyncd:s,secondsLeft:a,loanRenewAtLast:this.loanRenewTimeConfig.loanRenewAtLast},"time: ",new Date().getMinutes(),":",new Date().getSeconds(),", timerDelay: ",this.timerExecutionSeconds),d.t0=a<=this.loanRenewTimeConfig.loanRenewAtLast,!d.t0){d.next=11;break}return d.next=11,this.loanRenewAttempt(a);case 11:a<=this.timerExecutionSeconds&&(this.disconnectedCallback(),this.sentryCaptureMsg(aa.clearOneHourTimer));case 12:case"end":return d.stop()}},l,this)}))}},{key:"reSyncTimerIfGoneOff",value:function(o){return $n(this,null,_regeneratorRuntime.default.mark(function l(){var a,s,r,d,c,h,f;return _regeneratorRuntime.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return a=new Date,s=a.getTime()/1e3-this.timeWhenTimerStart.getTime()/1e3,r=this.lendingStatus.secondsLeftOnLoan-s,di("currentTime: ",a),di("timeWhenTimerStart: ",this.timeWhenTimerStart),di("diffInSeconds: ",s),di("secondsShouldLeft: ",r),di("this.lendingStatus.secondsLeftOnLoan: ",this.lendingStatus.secondsLeftOnLoan),d=Math.round(o),c=Math.round(r),h=this.timerCountdownEl.secondsLeftOnLoan||0,di("reSyncTimerIfGoneOff?",{whatIsleft:d,whatShouldLeft:c,timerElSeconds:h,timeLeftInMin:Math.ceil(o/60)}),(h!==c||d!==c)&&(f=bi(Zr({},this.lendingStatus),{secondsLeftOnLoan:c}),this.lendingStatus=f),b.abrupt("return",d!==c?(di("reSyncTimerIfGoneOff --- let's re-sync."),{hasSynced:!0,whatShouldLeft:c}):{hasSynced:!1,whatShouldLeft:c});case 5:case"end":return b.stop()}},l,this)}))}},{key:"loanRenewAttempt",value:function(o){return $n(this,null,_regeneratorRuntime.default.mark(function l(){var a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(di("loanRenewAttempt ---",{secondsLeft:o,loanRenewResult:this.loanRenewResult}),a=o,!(a<50)){r.next=7;break}return di("loanRenewAttempt --- loanSecondsLeft < 50, will expire"),r.next=6,this.browseHasExpired();case 6:return r.abrupt("return");case 7:return r.next=9,this.autoLoanRenewChecker(!1);case 9:this.loanRenewResult.renewNow===!1&&(a-=60,this.loanRenewResult.secondsLeft=a,this.showWarningModal());case 10:case"end":return r.stop()}},l,this)}))}},{key:"startLoanTokenPoller",value:function(){var o=this,l=function(){o.postInitComplete||o.lendingBarPostInit(),o.postInitComplete=!0},a=function(s){o.handleLendingActionError(s)};this.tokenPoller=new OE(this.identifier,this.borrowType,l,a,this.tokenDelay)}},{key:"handleToggleActionGroup",value:function(){this.disableActionGroup=!this.disableActionGroup}},{key:"handleLendingActionError",value:function(o){var l,a,s,r;this.disableActionGroup=!1,(l=window==null?void 0:window.IALendingIntervals)==null||l.clearAll();var d=(a=o==null?void 0:o.detail)==null?void 0:a.action,c=(r=(s=o==null?void 0:o.detail)==null?void 0:s.data)==null?void 0:r.error;if(c&&d!=="create_token"&&this.showErrorModal(c,d),d==="create_token"){var h=bi(Zr({},this.lendingStatus),{user_has_browsed:!1,available_to_browse:!0});this.lendingStatus=h}if(c&&c.match(/not available to borrow/gm)){var f=this.lendingStatus;d==="browse_book"?f=bi(Zr({},this.lendingStatus),{available_to_browse:!1}):d==="borrow_book"&&(f=bi(Zr({},this.lendingStatus),{available_to_borrow:!1})),this.lendingStatus=f}}},{key:"showErrorModal",value:function(o,l){return $n(this,null,_regeneratorRuntime.default.mark(function a(){var s,r,d;return _regeneratorRuntime.default.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return r=new wa({title:"Lending error",message:o,headerColor:"#d9534f",showCloseButton:!0}),l==="create_token"&&(d=xt(_templateObject522(),vo.refresh,function(){return window.location.reload(!0)}),r.message=xt(_templateObject523(),d,this.identifier,o)),h.next=5,(s=this.modal)==null?void 0:s.showModal({config:r});case 5:case"end":return h.stop()}},a,this)}))}},{key:"iconClass",get:function(){return this.width<=700?"mobile":"desktop"}},{key:"textClass",get:function(){return this.width>=700?"visible":"hidden"}},{key:"infoIconTemplate",get:function(){return xt(_templateObject524(),this.iconClass)}},{key:"textGroupTemplate",get:function(){return this.primaryTitle?xt(_templateObject525(),this.textClass,this.primaryTitle):Vn}},{key:"hasAdminAccess",get:function(){return!this.lendingStatus.userHasBorrowed&&this.lendingStatus.isAdmin}}],[{key:"properties",get:function(){return{userid:{type:String},identifier:{type:String},bookTitle:{type:String},lendingStatus:{type:Object},returnUrl:{type:String},width:{type:Number},bwbPurchaseUrl:{type:String},lendingBarPostInit:{type:Function,attribute:!1},barType:{type:String},sharedObserver:{attribute:!1},disableActionGroup:{type:Boolean},modal:{Object:Object},tokenDelay:{type:Number},timerExecutionSeconds:{type:Number},localCache:{type:Object},loanRenewTimeConfig:{type:Object},loanRenewResult:{type:Object}}}},{key:"styles",get:function(){return Ut(_templateObject526())}}]),e}(er),window.customElements.define("ia-book-actions",TE)}}),NI=Ht({"https-url:https://esm.archive.org/@internetarchive/ia-book-actions@1.4.0":function(){xn(),Nl(),Ku(),eE(),Xh(),rE(),vk(),gf(),PE(),PE()}}),IE={};wi(IE,{IaBookTheater:function(){return wk}});var wk,BI=Ht({"components/ia-book-theater/ia-book-theater.js":function(){PA(),Dv(),bo(),NI(),Cn("** ia-book-actions loaded 1.4.0 **"),wk=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call(this),n.item=void 0,n.baseHost="",n.signedIn=null,n.viewportInFullscreen=!1,n.sharedObserver=void 0,n.manifest=null,n.actionBarHeightPx=0,n.primaryReaderHeightPx=0,n}return _createClass(e,[{key:"firstUpdated",value:function(){var o,l=(o=document.querySelector(".js-ia-metadata"))==null?void 0:o.value;l&&(this.item=JSON.parse(l)),this.loadObserver()}},{key:"modal",get:function(){return document.querySelector("modal-manager")}},{key:"itemNav",get:function(){return this.shadowRoot.querySelector("ia-item-navigator")}},{key:"loadObserver",value:function(){this.sharedObserver=new Ya}},{key:"manageFullscreen",value:function(o){var l,a=(l=o.detail)==null?void 0:l.fullscreen;this.viewportInFullscreen=a||null}},{key:"setMenuShortcuts",value:function(o){this.menuShortcuts=_toConsumableArray(o.detail)}},{key:"setMenuContents",value:function(o){var l=_toConsumableArray(o.detail);this.menuContents=l}},{key:"manageSideMenuEvents",value:function(o){var l=o.detail,a=l.menuId,s=l.action;a&&(s==="open"?(this.itemNav.openShortcut(a),this.openShortcut(a)):s==="toggle"&&(this.itemNav.openMenu(a),this.itemNav.toggleMenu()))}},{key:"render",value:function(){return uu(_templateObject528(),this.item,this.baseHost,this.signedIn,this.sharedObserver,this.modal,this.manageFullscreen)}}],[{key:"properties",get:function(){return{item:{type:Object},baseHost:{type:String},signedIn:{converter:function(o){return o==="false"?null:o==="true"||o===!0}},viewportInFullscreen:{type:Boolean,reflect:!0},sharedObserver:{attribute:!1},manifest:{type:Object}}}},{key:"styles",get:function(){return ky(_templateObject527())}}]),e}(rl),customElements.define("ia-book-theater",wk),Cn("** ia-book-theater defined **")}}),zI={},FI=Ht({"www/sf/bookreader/SearchInsideAccess.js":function(){ya.prototype.init=function(){this.initiateRequest()},ya.prototype.grantAccess=function(){this.startTimer();var g=this.requestCount===1&&this.postInitCB;g&&this.postInitCB()},ya.prototype.requestError=function(g){if(typeof archive_analytics!="undefined"){var t=g.responseJSON?g.responseJSON.error.replace(/\s/g,"_"):"unknown",e="BRSearchInsideToken-ReqErr-"+g.status+"-From-"+t;window.Sentry&&g.status>=400&&window.Sentry.captureMessage(e)}this.clearTimer(),this.requestCount<this.maxRequests?this.initiateRequest():this.postInitCB({errorMessage:this.tokenErrorMessage})},ya.prototype.initiateRequest=function(){this.requestCount=this.requestCount+1,this.requestAccess()},ya.prototype.requestAccess=function(){if(this.hasValidLoanToken()){this.grantAccess();return}$.ajax({url:"/services/loans/loan/searchInside.php",type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",data:{action:"grant_access",identifier:this.bookId}}).then(function(g){this.grantAccess()}.bind(this),function(g){this.requestError(g)}.bind(this))},ya.prototype.clearTimer=function(){clearInterval(this.poller),this.poller=null},ya.prototype.startTimer=function(){this.clearTimer(),this.poller=setInterval(this.initiateRequest.bind(this),this.maxAge)},ya.prototype.hasValidLoanToken=function(){var g="loan-"+this.bookId,t;try{t=document.cookie}catch(e){t=""}return t.indexOf(g)>-1},window.SearchInsideAccess=ya}}),HI={},UI=Ht({"www/sf/bookreader/BookReaderJSIA.js":function(){window.BookReaderJSIAinit=function(){var g=function(c,h,f){var v=h||{};return jQuery.extend(!0,v,t(c)),jQuery.extend(!0,v,e(c)),jQuery.extend(!0,v,n(c)),jQuery.extend(!0,v,o(c)),v.bookUrl=c.bookUrl,c.lendingInfo.isOpenLibraryLending?(v.bookUrlText=v.bookTitle+"<br>&larr; Back to book details on Open Library",v.bookUrlTitle="Go to this book's page on Open Library",v.bookUrlMoreInfo="More information on Open Library"):(v.bookUrlText=v.bookTitle+"<br>&larr; Back to item details",v.bookUrlTitle="Go to this book's page on Archive.org",v.bookUrlMoreInfo="More information on Archive.org"),v.imagesBaseURL="https://esm.archive.org/@internetarchive/bookreader@5.0.0-82/BookReader/images/",v.olHost=c.olHost,v.protected=c.lendingInfo.shouldProtectImages,v.thumbnail="//archive.org/download/"+c.id+"/page/cover_t.jpg",v.enableExperimentalControls=!0,v.enablePageResume=!0,isNaN(parseInt(v.defaultStartLeaf))||(v.titleLeaf=v.defaultStartLeaf),f&&jQuery.extend(v,f),v},t=function(c){var h={},f=[],v=Array(c.metadata.title).join(", ");if(v&&f.push({label:"Title",value:v,extraValueClass:"larger"}),c.metadata.creator&&f.push({label:"Author",value:Array(c.metadata.creator).join(", "),extraValueClass:"larger"}),c.metadata.publishDate&&f.push({label:"Publish Data",value:c.metadata.publishDate,extraValueClass:""}),c.metadata.collection&&c.metadata.collection.length>0){var b=$.map(c.metadata.collection,function(k){return'<a href="/details/'+k+'">'+k+"</a>"}).join(", ");f.push({label:"Collections",value:b,extraValueClass:""})}if(c.metadata.sponsor&&c.metadata.contributor&&c.metadata.sponsor==c.metadata.contributor?f.push({label:"Sponsor &amp; Contributor",value:c.metadata.sponsor,extraValueClass:""}):(c.metadata.sponsor&&f.push({label:"Sponsor",value:c.metadata.sponsor,extraValueClass:""}),c.metadata.contributor&&f.push({label:"Contributor",value:c.metadata.contributor,extraValueClass:""})),h.metadata=f,c.metadata.language){var w=typeof c.metadata.language=="string"?c.metadata.language:c.metadata[0]?c.metadata[0]:null;h.bookLanguage=w}return h},e=function(c){var h={},f={};return c.lendingInfo.loanId&&(f.loanId=c.lendingInfo.loanId),h.lendingInfo=f,h},n=function(c){var h={},f=function(b,w){var k="https://"+window.location.host+"/stream/"+c.id;return c.subPrefix!=c.id&&(k+="/"+urlencodePath(c.subPrefix)),k+="?ui=embed",typeof w!="undefined"&&(k+="#"+b.fragmentFromParams(w)),k};return h.getEmbedCode=function(v,b,w){return"<iframe src='"+f(this,w)+"' width='"+v+"' height='"+b+"' frameborder='0' ></iframe>"},h},o=function(c){var h=[],f=BookReader.prototype.getPageURI;return h.getPageURI=function(v,b,w){typeof b=="undefined"&&(b=1),typeof w=="undefined"&&(w=0),b=Math.pow(2,Math.floor(Math.log2(Math.max(1,b))));var k=f.call(this,v,b,w);return k?(k=k+(k.indexOf("?")>-1?"&":"?"),k=k+"scale="+b+"&rotate="+w,k):""},h},l=function(c){var h=BookReader.prototype.getResumeValue;BookReader.prototype.getResumeValue=function(){var v=null;return c.lendingInfo.userid&&BookReader.docCookies&&(v=BookReader.docCookies.getItem("br-resume-"+c.lendingInfo.userid)),v===null&&(v=h?h.call(this):0),v!==null&&(v=parseInt(v)),v};var f=BookReader.prototype.updateResumeValue;BookReader.prototype.updateResumeValue=function(v){var b=c.lendingInfo.userid?"br-resume-"+c.lendingInfo.userid:null;f.call(this,v,b)}},a=function(c){if(CustomEvent){var h=new CustomEvent("BRJSIA:PostInit",{bubbles:!0,captures:!0,detail:c});document.dispatchEvent(h)}},s=function(c,h){if(CustomEvent){var f=c.lendingStatus,v=new CustomEvent("LendingFlow:PostInit",{bubbles:!0,captures:!0,detail:{downloadTypesAvailable:h||[],lendingStatus:f||{},isAdmin:c.isAdmin}});document.dispatchEvent(v)}},r=function(c,h,f,v){var b=h,w=h.lendingStatus;b=Object.assign({},b,w),b.lendingStatus="";var k=b.isOpenLibraryLending||document.referrer&&document.referrer.includes("openlibrary.org")?"https://openlibrary.org/account/loans":"/details/"+f.bookId,C=document.querySelector("ia-book-actions");C||(C=document.createElement("ia-book-actions")),C.userid=b.userid,C.identifier=f.bookId,C.bookTitle=f.bookTitle,C.lendingStatus=b,C.bwbPurchaseUrl=f.purchaseUrl,C.barType=v||"action",C.lendingBarPostInit=c,C.returnUrl=k,C.classList.add("focus-on-child-only");var E={loanTotalTime:3600,loanRenewAtLast:660,pageChangedInLast:900};C.loanRenewTimeConfig=E;var A=document.querySelector("#IABookReaderMessageWrapper");A?(A.appendChild(C),A.style.display=""):c()};return function(d,c){var h=d.data,f=d.brOptions,v=d.lendingInfo,b=v.lendingStatus||{},w=d.metadata;h.lendingInfo=v,h.metadata=w,window.onerror=logError;var k=g(h,f,c);if(!BookReader.version&&window.Sentry){Sentry.captureMessage("BookReader.version not defined"),alert("You have a really old version of BookReader that we no longer support.");return}l(h);var C=new BookReader(k);window.br=C;var E=v.isPrintDisabledOnly||h.isRestricted&&!b.is_login_required||v.isLendingRequired&&v.isBrowserBorrowable;window.Sentry&&(Sentry.setTag("br_version",BookReader.version),Sentry.setTag("borrowable_book",E));var A=!E,j=k.ui==="embed";E&&$("<link>",{rel:"stylesheet",type:"text/css",href:"/bookreader/print.css",media:"print"}).appendTo("head"),a({brVersion:BookReader.version,downloadURLs:h.downloadUrls,isRestricted:h.isRestricted});var y=function(){setTimeout(function(){C.init()},100)},u=function(){setTimeout(function(){s(v,h.downloadUrls),y()},100)};if(A){y(),j&&r(function(){},v,k,"title");return}var p=function(_){_&&typeof _!="undefined"&&_.errorMessage==="no access token"&&(C.options.enableSearch=!1);var x=j?"title":"action";r(u,v,k,x)};window.SearchInsideAccess?(this.searchInside=new SearchInsideAccess(C,w.identifier,p),this.searchInside.init()):p(),window.Sentry&&Sentry.setContext("Lending info",{available_to_browse:b.available_to_browse||"",available_to_borrow:b.available_to_borrow||"",available_to_waitlist:b.available_to_waitlist||"",user_has_browsed:b.user_has_browsed||"",user_has_borrowed:b.user_has_borrowed||"",user_on_waitlist:b.user_on_waitlist||"",user_can_claim_waitlist:b.user_can_claim_waitlist||""})}}()}});_p(),Fr(),xn(),Wr(),Xu(),$x(),Ku(),rv(),oh(),ka(),Ai(),bo();function ME(){var g=function(){X("#theatre-ia-wrap").removeClass("flagged"),X(".bookreader-playlist-container").removeClass("hide")};X(".toggle-flag-overlay").on("click",function(t){t.preventDefault(),g()}),X("#flag-checkboxes a").on("click",function(e){e.preventDefault(),X(this).children(".my-checkbox").toggleClass("checked"),X.get(X(this).attr("href")),g()}),JT()&&ui.get("logged-in-user")!==void 0&&(X("#flag-popover li").on("click",function(){return X(this).find("a").trigger("click"),!1}),X("#flag-popover a").on("click",function(e){e.preventDefault();var n=X("#item-flags-popup"),o=X(this),l=X(o).parent();return X(l).toggleClass("selected"),X(n).removeClass("open"),X.getJSON("".concat(X(this).attr("href"),"&no_chrome=1"),function(a){var s=X(a.button);X(n).replaceWith(s),X("#flag-button-container").html(a.button),X("#flag-overlay").html(a.overlay),a.has_flags?X("#theatre-ia-wrap").addClass("flagged"):X("#theatre-ia-wrap").removeClass("flagged"),ME()}),!1}))}X(document).ready(function(){Cn("initialize item flags"),ME()}),bo(),xn(),Wr(),lc();var LE={INITIAL:0,PENDING:1,COMPLETE:2,ERROR:3},_k=Symbol(),VI=function(){"use strict";function g(t,e,n){_classCallCheck(this,g);var o,l,a;this.u=0,this.status=0,(this.p=t).addController(this);var s=typeof e=="object"?e:{task:e,args:n};this._=s.task,this.v=s.args,this.j=(o=s.argsEqual)!=null?o:WI,this.m=s.onComplete,this.g=s.onError,this.autoRun=(l=s.autoRun)!=null?l:!0,"initialValue"in s&&(this.l=s.initialValue,this.status=2,this.k=(a=this.A)==null?void 0:a.call(this))}return _createClass(g,[{key:"taskComplete",get:function(){var e=this;return this.t||(this.status===1?this.t=new Promise(function(n,o){e.i=n,e.o=o}):this.status===3?this.t=Promise.reject(this.h):this.t=Promise.resolve(this.l)),this.t}},{key:"hostUpdate",value:function(){this.autoRun===!0&&this.O()}},{key:"hostUpdated",value:function(){this.autoRun==="afterUpdate"&&this.O()}},{key:"A",value:function(){if(this.v!==void 0){var e=this.v();if(!Array.isArray(e))throw Error("The args function must return an array");return e}}},{key:"O",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function e(){var n,o;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=this.A(),o=this.k,this.k=n,a.t0=n===o||n===void 0||o!==void 0&&this.j(o,n),a.t0){a.next=6;break}return a.next=6,this.run(n);case 6:case"end":return a.stop()}},e,this)}))}},{key:"run",value:function(e){return $n(this,null,_regeneratorRuntime.default.mark(function n(){var o,l,a,s,r,d,c,h,f,v;return _regeneratorRuntime.default.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return o=this,e!=null||(e=this.A()),this.k=e,this.status===1?(l=this.T)==null||l.abort():(this.t=void 0,this.i=void 0,this.o=void 0),this.status=1,this.autoRun==="afterUpdate"?queueMicrotask(function(){return o.p.requestUpdate()}):this.p.requestUpdate(),f=++this.u,this.T=new AbortController,v=!1,w.prev=7,w.next=10,this._(e,{signal:this.T.signal});case 10:c=w.sent,w.next=16;break;case 13:w.prev=13,w.t0=w.catch(7),v=!0,h=w.t0;case 16:if(this.u===f){if(c===_k)this.status=0;else{if(v===!1){try{(a=this.m)==null||a.call(this,c)}catch(k){}this.status=2,(s=this.i)==null||s.call(this,c)}else{try{(r=this.g)==null||r.call(this,h)}catch(k){}this.status=3,(d=this.o)==null||d.call(this,h)}this.l=c,this.h=h}this.p.requestUpdate()}case 17:case"end":return w.stop()}},n,this,[[7,13]])}))}},{key:"abort",value:function(e){var n;this.status===1&&((n=this.T)==null||n.abort(e))}},{key:"value",get:function(){return this.l}},{key:"error",get:function(){return this.h}},{key:"render",value:function(e){var n,o,l,a;switch(this.status){case 0:return(n=e.initial)==null?void 0:n.call(e);case 1:return(o=e.pending)==null?void 0:o.call(e);case 2:return(l=e.complete)==null?void 0:l.call(e,this.value);case 3:return(a=e.error)==null?void 0:a.call(e,this.error);default:throw Error("Unexpected status: "+this.status)}}}]),g}(),WI=function(g,t){return g===t||g.length===t.length&&g.every(function(e,n){return!uh(e,t[n])})};xn(),Wr();var kk,Zf=window,Iu=Zf.trustedTypes,RE=Iu?Iu.createPolicy("lit-html",{createHTML:function(g){return g}}):void 0,xk="$lit$",As="lit$".concat((Math.random()+"").slice(9),"$"),DE="?"+As,qI="<".concat(DE,">"),vl=document,ep=function(){return vl.createComment("")},Yc=function(g){return g===null||typeof g!="object"&&typeof g!="function"},$E=Array.isArray,GI=function(g){return $E(g)||typeof(g==null?void 0:g[Symbol.iterator])=="function"},Sk="[ 	\n\f\r]",Xc=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,NE=/-->/g,BE=/>/g,ml=RegExp(">|".concat(Sk,"(?:([^\\s\"'>=/]+)(").concat(Sk,"*=").concat(Sk,"*(?:[^ 	\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),zE=/'/g,FE=/"/g,HE=/^(?:script|style|textarea|title)$/i,UE=function(g){return function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return{_$litType$:g,strings:t,values:n}}},YM=UE(1),XM=UE(2),Kc=Symbol.for("lit-noChange"),qi=Symbol.for("lit-nothing"),VE=new WeakMap,gl=vl.createTreeWalker(vl,129,null,!1),YI=function(g,t){for(var e=g.length-1,n=[],o,l=t===2?"<svg>":"",a=Xc,s=0;s<e;s++){for(var r=g[s],d=void 0,c=void 0,h=-1,f=0;f<r.length&&(a.lastIndex=f,c=a.exec(r),c!==null);)f=a.lastIndex,a===Xc?c[1]==="!--"?a=NE:c[1]!==void 0?a=BE:c[2]!==void 0?(HE.test(c[2])&&(o=RegExp("</"+c[2],"g")),a=ml):c[3]!==void 0&&(a=ml):a===ml?c[0]===">"?(a=o!=null?o:Xc,h=-1):c[1]===void 0?h=-2:(h=a.lastIndex-c[2].length,d=c[1],a=c[3]===void 0?ml:c[3]==='"'?FE:zE):a===FE||a===zE?a=ml:a===NE||a===BE?a=Xc:(a=ml,o=void 0);var v=a===ml&&g[s+1].startsWith("/>")?" ":"";l+=a===Xc?r+qI:h>=0?(n.push(d),r.slice(0,h)+xk+r.slice(h)+As+v):r+As+(h===-2?(n.push(void 0),s):v)}return[cx(g,l+(g[e]||"<?>")+(t===2?"</svg>":"")),n]},Ck=function(){"use strict";function g(t,e){var n=t.strings,o=t._$litType$;_classCallCheck(this,g);var l;this.parts=[];var a=0,s=0,r=n.length-1,d=this.parts,c=_slicedToArray(YI(n,o),2),h=c[0],f=c[1];if(this.el=g.createElement(h,e),gl.currentNode=this.el.content,o===2){var v,b=this.el.content,w=b.firstChild;w.remove(),(v=b).append.apply(v,_toConsumableArray(w.childNodes))}for(;(l=gl.nextNode())!==null&&d.length<r;){if(l.nodeType===1){if(l.hasAttributes()){var k=[],C=!0,E=!1,A=void 0;try{for(var j=l.getAttributeNames()[Symbol.iterator](),y;!(C=(y=j.next()).done);C=!0){var u=y.value;if(u.endsWith(xk)||u.startsWith(As)){var p=f[s++];if(k.push(u),p!==void 0){var m=l.getAttribute(p.toLowerCase()+xk).split(As),_=/([.?@])?(.*)/.exec(p);d.push({type:1,index:a,name:_[2],strings:m,ctor:_[1]==="."?KI:_[1]==="?"?JI:_[1]==="@"?ZI:tp})}else d.push({type:6,index:a})}}}catch(B){E=!0,A=B}finally{try{!C&&j.return!=null&&j.return()}finally{if(E)throw A}}var x=!0,O=!1,I=void 0;try{for(var P=k[Symbol.iterator](),D;!(x=(D=P.next()).done);x=!0){var V=D.value;l.removeAttribute(V)}}catch(B){O=!0,I=B}finally{try{!x&&P.return!=null&&P.return()}finally{if(O)throw I}}}if(HE.test(l.tagName)){var q=l.textContent.split(As),z=q.length-1;if(z>0){l.textContent=Iu?Iu.emptyScript:"";for(var he=0;he<z;he++)l.append(q[he],ep()),gl.nextNode(),d.push({type:2,index:++a});l.append(q[z],ep())}}}else if(l.nodeType===8)if(l.data===DE)d.push({type:2,index:a});else for(var Y=-1;(Y=l.data.indexOf(As,Y+1))!==-1;)d.push({type:7,index:a}),Y+=As.length-1;a++}}return _createClass(g,null,[{key:"createElement",value:function(e,n){var o=vl.createElement("template");return o.innerHTML=e,o}}]),g}();function Mu(g,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g,n=arguments.length>3?arguments[3]:void 0,o,l,a,s;if(t===Kc)return t;var r=n!==void 0?(o=e._$Co)===null||o===void 0?void 0:o[n]:e._$Cl,d=Yc(t)?void 0:t._$litDirective$;return(r==null?void 0:r.constructor)!==d&&((l=r==null?void 0:r._$AO)===null||l===void 0||l.call(r,!1),d===void 0?r=void 0:(r=new d(g),r._$AT(g,e,n)),n!==void 0?((a=(s=e)._$Co)!==null&&a!==void 0?a:s._$Co=[])[n]=r:e._$Cl=r),r!==void 0&&(t=Mu(g,r._$AS(g,t.values),r,n)),t}var XI=function(){"use strict";function g(t,e){_classCallCheck(this,g),this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}return _createClass(g,[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(e){var n,o=this._$AD,l=o.el,a=l.content,s=o.parts,r=((n=e==null?void 0:e.creationScope)!==null&&n!==void 0?n:vl).importNode(a,!0);gl.currentNode=r;for(var d=gl.nextNode(),c=0,h=0,f=s[0];f!==void 0;){if(c===f.index){var v=void 0;f.type===2?v=new WE(d,d.nextSibling,this,e):f.type===1?v=new f.ctor(d,f.name,f.strings,this,e):f.type===6&&(v=new eM(d,this,e)),this._$AV.push(v),f=s[++h]}c!==(f==null?void 0:f.index)&&(d=gl.nextNode(),c++)}return gl.currentNode=vl,r}},{key:"v",value:function(e){var n=0,o=!0,l=!1,a=void 0;try{for(var s=this._$AV[Symbol.iterator](),r;!(o=(r=s.next()).done);o=!0){var d=r.value;d!==void 0&&(d.strings!==void 0?(d._$AI(e,d,n),n+=d.strings.length-2):d._$AI(e[n])),n++}}catch(c){l=!0,a=c}finally{try{!o&&s.return!=null&&s.return()}finally{if(l)throw a}}}}]),g}(),WE=function(){"use strict";function g(t,e,n,o){_classCallCheck(this,g);var l;this.type=2,this._$AH=qi,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=o,this._$Cp=(l=o==null?void 0:o.isConnected)===null||l===void 0||l}return _createClass(g,[{key:"_$AU",get:function(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cp}},{key:"parentNode",get:function(){var e=this._$AA.parentNode,n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;e=Mu(this,e,n),Yc(e)?e===qi||e==null||e===""?(this._$AH!==qi&&this._$AR(),this._$AH=qi):e!==this._$AH&&e!==Kc&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):GI(e)?this.T(e):this._(e)}},{key:"k",value:function(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}},{key:"$",value:function(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}},{key:"_",value:function(e){this._$AH!==qi&&Yc(this._$AH)?this._$AA.nextSibling.data=e:this.$(vl.createTextNode(e)),this._$AH=e}},{key:"g",value:function(e){var n,o=e.values,l=e._$litType$,a=typeof l=="number"?this._$AC(e):(l.el===void 0&&(l.el=Ck.createElement(cx(l.h,l.h[0]),this.options)),l);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===a)this._$AH.v(o);else{var s=new XI(a,this),r=s.u(this.options);s.v(o),this.$(r),this._$AH=s}}},{key:"_$AC",value:function(e){var n=VE.get(e.strings);return n===void 0&&VE.set(e.strings,n=new Ck(e)),n}},{key:"T",value:function(e){$E(this._$AH)||(this._$AH=[],this._$AR());var n=this._$AH,o,l=0,a=!0,s=!1,r=void 0;try{for(var d=e[Symbol.iterator](),c;!(a=(c=d.next()).done);a=!0){var h=c.value;l===n.length?n.push(o=new g(this.k(ep()),this.k(ep()),this,this.options)):o=n[l],o._$AI(h),l++}}catch(f){s=!0,r=f}finally{try{!a&&d.return!=null&&d.return()}finally{if(s)throw r}}l<n.length&&(this._$AR(o&&o._$AB.nextSibling,l),n.length=l)}},{key:"_$AR",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0,o;for((o=this._$AP)===null||o===void 0||o.call(this,!1,!0,n);e&&e!==this._$AB;){var l=e.nextSibling;e.remove(),e=l}}},{key:"setConnected",value:function(e){var n;this._$AM===void 0&&(this._$Cp=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}}]),g}(),tp=function(){"use strict";function g(t,e,n,o,l){_classCallCheck(this,g),this.type=1,this._$AH=qi,this._$AN=void 0,this.element=t,this.name=e,this._$AM=o,this.options=l,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=qi}return _createClass(g,[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,a=this.strings,s=!1;if(a===void 0)e=Mu(this,e,n,0),s=!Yc(e)||e!==this._$AH&&e!==Kc,s&&(this._$AH=e);else{var r=e,d,c;for(e=a[0],d=0;d<a.length-1;d++)c=Mu(this,r[o+d],n,d),c===Kc&&(c=this._$AH[d]),s||(s=!Yc(c)||c!==this._$AH[d]),c===qi?e=qi:e!==qi&&(e+=(c!=null?c:"")+a[d+1]),this._$AH[d]=c}s&&!l&&this.j(e)}},{key:"j",value:function(e){e===qi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}}]),g}(),KI=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=3,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){this.element[this.name]=o===qi?void 0:o}}]),e}(tp),QI=Iu?Iu.emptyScript:"",JI=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.type=4,_possibleConstructorReturn(n)}return _createClass(e,[{key:"j",value:function(o){o&&o!==qi?this.element.setAttribute(this.name,QI):this.element.removeAttribute(this.name)}}]),e}(tp),ZI=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n,o,l,a,s){_classCallCheck(this,e);var r;return r=t.call(this,n,o,l,a,s),r.type=5,_possibleConstructorReturn(r)}return _createClass(e,[{key:"_$AI",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,a;if((o=(a=Mu(this,o,l,0))!==null&&a!==void 0?a:qi)!==Kc){var s=this._$AH,r=o===qi&&s!==qi||o.capture!==s.capture||o.once!==s.once||o.passive!==s.passive,d=o!==qi&&(s===qi||r);r&&this.element.removeEventListener(this.name,this,s),d&&this.element.addEventListener(this.name,this,o),this._$AH=o}}},{key:"handleEvent",value:function(o){var l,a;typeof this._$AH=="function"?this._$AH.call((a=(l=this.options)===null||l===void 0?void 0:l.host)!==null&&a!==void 0?a:this.element,o):this._$AH.handleEvent(o)}}]),e}(tp),eM=function(){"use strict";function g(t,e,n){_classCallCheck(this,g),this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}return _createClass(g,[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(e){Mu(this,e)}}]),g}(),qE=Zf.litHtmlPolyfillSupport;qE==null||qE(Ck,WE),((kk=Zf.litHtmlVersions)!==null&&kk!==void 0?kk:Zf.litHtmlVersions=[]).push("2.8.0");var GE=function(g){return g!=null?g:qi};xn(),xn(),xn(),Wr();var tM=Do(_templateObject529()),nM=Do(_templateObject530()),Ki=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.open=!1,n.isDisabled=!1,n.displayCaret=!1,n.closeOnSelect=!1,n.openViaButton=!0,n.openViaCaret=!0,n.includeSelectedOption=!1,n.selectedOption="",n.options=[],n.optionGroup="options",n.optionSelected=function(){},n.isCustomList=!1,n.hasCustomClickHandler=!1,n.closeOnEscape=!1,n.closeOnBackdropClick=!1,n.boundKeyboardListener=function(o){switch(o.key){case"Escape":case"Esc":n.closeOptions();break;default:break}},n.closeOptions=function(o){o&&o.type==="click"&&o.stopPropagation(),n.open=!1},n.handlingCaretClick=!1,_possibleConstructorReturn(n)}return _createClass(e,[{key:"firstUpdated",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function o(){return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,new Promise(function(s){return setTimeout(s,0)});case 2:this.addEventListener("closeDropdown",this.closeOptions);case 3:case"end":return a.stop()}},o,this)}))}},{key:"disconnectedCallback",value:function(){var o;(o=_get(_getPrototypeOf(e.prototype),"disconnectedCallback",this))===null||o===void 0||o.call(this),this.removeKeyboardListener()}},{key:"setupKeyboardListener",value:function(){this.closeOnEscape&&document.addEventListener("keydown",this.boundKeyboardListener)}},{key:"removeKeyboardListener",value:function(){this.closeOnEscape&&document.removeEventListener("keydown",this.boundKeyboardListener)}},{key:"dropdownState",get:function(){return this.open?(this.setupKeyboardListener(),"open"):(this.removeKeyboardListener(),"closed")}},{key:"toggleOptions",value:function(){this.open=!this.open}},{key:"mainButtonClicked",value:function(){if(this.handlingCaretClick){this.handlingCaretClick=!1;return}this.openViaButton&&this.toggleOptions()}},{key:"caretInteracted",value:function(){this.openViaCaret&&this.toggleOptions()}},{key:"caretClicked",value:function(){this.handlingCaretClick=!0,this.caretInteracted()}},{key:"caretKeyDown",value:function(o){(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),this.caretInteracted())}},{key:"renderOption",value:function(o){var l=this,a=o.label,s=o.url,r=s===void 0?void 0:s,d=o.id,c,h=this.selectedOption===d?"selected":"";return r?c=xt(_templateObject531(),r,function(f){return l.optionClicked(f,o)},a):c=xt(_templateObject532(),function(f){return l.optionClicked(f,o)},a),xt(_templateObject533(),h,c)}},{key:"optionClicked",value:function(o,l){var a;o.stopPropagation(),this.selectedOption!==l.id&&(this.selectedOption=l.id,this.dispatchEvent(new CustomEvent("optionSelected",{detail:{option:l}})),(a=l.selectedHandler)===null||a===void 0||a.call(l,l)),this.closeOnSelect&&this.closeOptions()}},{key:"availableOptions",get:function(){var o=this;return this.includeSelectedOption?this.options:this.options.filter(function(l){return o.selectedOption!==l.id})}},{key:"caretTemplate",get:function(){if(!this.displayCaret)return xt(_templateObject534());var o=this.openViaCaret&&!this.openViaButton?"0":void 0,l=this.openViaCaret?"button":void 0;return xt(_templateObject535(),GE(o),GE(l),this.isDisabled||this.hasCustomClickHandler?Vn:this.caretClicked,this.isDisabled||this.hasCustomClickHandler?Vn:this.caretKeyDown,!this.open,tM,this.open,nM)}},{key:"dropdownTemplate",get:function(){var o=this;return this.isCustomList?xt(_templateObject536()):xt(_templateObject537(),this.availableOptions.map(function(l){return o.renderOption(l)}))}},{key:"backdropTemplate",get:function(){return this.closeOnBackdropClick?this.open?xt(_templateObject538(),this.closeOptions,this.closeOptions):xt(_templateObject539()):xt(_templateObject540())}},{key:"render",value:function(){return xt(_templateObject541(),this.isDisabled||this.hasCustomClickHandler?Vn:this.mainButtonClicked,this.isDisabled,this.optionGroup,this.caretTemplate,this.dropdownState,this.dropdownTemplate,this.backdropTemplate)}}],[{key:"styles",get:function(){var o=Ut(_templateObject542()),l=Ut(_templateObject543()),a=Ut(_templateObject544()),s=Ut(_templateObject545()),r=Ut(_templateObject546()),d=Ut(_templateObject547()),c=Ut(_templateObject548());return Ut(_templateObject549(),r,r,s,o,o,o,o,a,l,l,l,l,d,d,d,c,c,d,c,s,s,s,r)}}]),e}(er);Yr([on({type:Boolean,reflect:!0})],Ki.prototype,"open",void 0),Yr([on({type:Boolean,reflect:!0})],Ki.prototype,"isDisabled",void 0),Yr([on({type:Boolean})],Ki.prototype,"displayCaret",void 0),Yr([on({type:Boolean})],Ki.prototype,"closeOnSelect",void 0),Yr([on({type:Boolean})],Ki.prototype,"openViaButton",void 0),Yr([on({type:Boolean})],Ki.prototype,"openViaCaret",void 0),Yr([on({type:Boolean})],Ki.prototype,"includeSelectedOption",void 0),Yr([on({type:String})],Ki.prototype,"selectedOption",void 0),Yr([on({attribute:!1})],Ki.prototype,"options",void 0),Yr([on({type:String})],Ki.prototype,"optionGroup",void 0),Yr([on({attribute:!1})],Ki.prototype,"optionSelected",void 0),Yr([on({type:Boolean,reflect:!0})],Ki.prototype,"isCustomList",void 0),Yr([on({type:Boolean,reflect:!0})],Ki.prototype,"hasCustomClickHandler",void 0),Yr([on({type:Boolean,reflect:!0})],Ki.prototype,"closeOnEscape",void 0),Yr([on({type:Boolean,reflect:!0})],Ki.prototype,"closeOnBackdropClick",void 0),Ki=Yr([Qr("ia-dropdown")],Ki);var Ak=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"render",value:function(){return xt(_templateObject550())}}]),e}(er);Ak.styles=Ut(_templateObject551()),Ak=Yr([Qr("ia-icon-label")],Ak),xn(),Wr(),xn(),Fr(),jo();var Ok=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){return typeof e=="string"&&(e==="false"||e==="0")?!1:!!e}}]),g}();Ok.shared=new Ok;var np=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){if(typeof e=="number")return e;if(typeof e!="boolean"){var n=parseFloat(e);if(!Number.isNaN(n))return n}}}]),g}();np.shared=new np;var jk=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){return np.shared.parseValue(e)}}]),g}();jk.shared=new jk;var Ek=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){return this.parseJSDate(e)||this.parseBracketDate(e)}},{key:"parseBracketDate",value:function(e){if(typeof e=="string"){var n=e.match(/\[([0-9]{4})\]/);if(!(!n||n.length<2))return this.parseJSDate(n[1])}}},{key:"parseJSDate",value:function(e){if(typeof e=="string"){var n=e;n.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}\s{1}[0-9]{2}:[0-9]{2}:[0-9]{2}$/)&&(n=n.replace(" ","T"));var o=Date.parse(n);if(!Number.isNaN(o)){var l=new Date(n);return(n.indexOf("Z")>-1||n.indexOf("+")>-1||n.match(/^[0-9]{4}$/)||n.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)||n.match(/^.*?-[0-9]{2}:[0-9]{2}$/)||n.match(/^.*?-[0-9]{4}$/))&&(l=new Date(l.getTime()+l.getTimezoneOffset()*1e3*60)),l}}}}]),g}();Ek.shared=new Ek;var Tk=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){if(typeof e=="number")return e;if(typeof e!="boolean"){var n=e.split(":"),o;return n.length===1?o=this.parseNumberFormat(n[0]):o=this.parseColonSeparatedFormat(n),o}}},{key:"parseNumberFormat",value:function(e){var n=parseFloat(e);return Number.isNaN(n)&&(n=void 0),n}},{key:"parseColonSeparatedFormat",value:function(e){var n=!1,o=e.map(function(l,a){var s=parseFloat(l);if(Number.isNaN(s))return n=!0,0;var r=Ri(60,e.length-1-a);return s*Math.floor(r)}).reduce(function(l,a){return l+a},0);return n?void 0:o}}]),g}();Tk.shared=new Tk;var Pk=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){if(typeof e=="string")return e}}]),g}();Pk.shared=new Pk;var rM=function(){"use strict";function g(t,e){_classCallCheck(this,g),this.separators=[";",","],this.parser=t,e&&e.separators&&(this.separators=e.separators)}return _createClass(g,[{key:"parseValue",value:function(e){var n=String(e),o=[],l=!0,a=!1,s=void 0;try{for(var r=this.separators[Symbol.iterator](),d;!(l=(d=r.next()).done);l=!0){var c=d.value;if(o=n.split(c),o.length>1)break}}catch(h){a=!0,s=h}finally{try{!l&&r.return!=null&&r.return()}finally{if(a)throw s}}return this.parseListValues(o)}},{key:"parseListValues",value:function(e){var n=this,o=e.map(function(a){return a.trim()}).map(function(a){return n.parser.parseValue(a)}),l=[];return o.forEach(function(a){a!==void 0&&l.push(a)}),l}}]),g}(),Ik=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){if(typeof e=="string")return e}}]),g}();Ik.shared=new Ik;var rp=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"parseValue",value:function(e){return String(e)}}]),g}();rp.shared=new rp,Fr(),jo(),Fr(),jo(),Fr(),jo(),Fr(),jo(),Fr(),jo(),Fr(),jo(),Fr(),jo();var Ho=function(){"use strict";function g(t,e){_classCallCheck(this,g),this.parser=t,this.rawValue=e}return _createClass(g,[{key:"values",get:function(){return this.parseRawValue()}},{key:"value",get:function(){return this.values[0]}},{key:"parseRawValue",value:function(){var e=this;if(this.rawValue===void 0)return[];var n=Array.isArray(this.rawValue)?this.rawValue:[this.rawValue],o=[];return n.forEach(function(l){var a,s=e.parser.parseValue(l);Array.isArray(s)?(a=o).push.apply(a,_toConsumableArray(s)):s!==void 0&&o.push(s)}),o}}]),g}();tt([Zt()],Ho.prototype,"values",null),tt([Zt()],Ho.prototype,"value",null);var Lu=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,Ok.shared,n)}return e}(Ho),ji=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,Ek.shared,n)}return e}(Ho),Mk=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,Tk.shared,n)}return e}(Ho),hi=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,np.shared,n)}return e}(Ho),Cr=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,rp.shared,n)}return e}(Ho),iM=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,Ik.shared,n)}return e}(Ho),ip=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,jk.shared,n)}return e}(Ho),op=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){return _classCallCheck(this,e),t.call(this,Pk.shared,n)}return e}(Ho),oM=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n,o){return _classCallCheck(this,e),t.call(this,o,n)}return e}(Ho),aM=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o=new rM(rp.shared);return t.call(this,n,o)}return e}(oM),xr=function(){"use strict";function g(t){_classCallCheck(this,g),this.rawMetadata=t}return _createClass(g,[{key:"identifier",get:function(){var e;return(e=this.rawMetadata)===null||e===void 0?void 0:e.identifier}},{key:"addeddate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.addeddate?new ji(this.rawMetadata.addeddate):void 0}},{key:"audio_codec",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.audio_codec?new Cr(this.rawMetadata.audio_codec):void 0}},{key:"audio_sample_rate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.audio_sample_rate?new hi(this.rawMetadata.audio_sample_rate):void 0}},{key:"avg_rating",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.avg_rating?new hi(this.rawMetadata.avg_rating):void 0}},{key:"collection",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collection?new Cr(this.rawMetadata.collection):void 0}},{key:"collections_raw",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collections_raw?new Cr(this.rawMetadata.collections_raw):void 0}},{key:"collection_size",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collection_size?new ip(this.rawMetadata.collection_size):void 0}},{key:"contributor",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.contributor?new Cr(this.rawMetadata.contributor):void 0}},{key:"coverage",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.coverage?new Cr(this.rawMetadata.coverage):void 0}},{key:"creator",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.creator?new Cr(this.rawMetadata.creator):void 0}},{key:"date",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.date?new ji(this.rawMetadata.date):void 0}},{key:"description",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.description?new Cr(this.rawMetadata.description):void 0}},{key:"downloads",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.downloads?new hi(this.rawMetadata.downloads):void 0}},{key:"duration",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.duration?new Mk(this.rawMetadata.duration):void 0}},{key:"external-identifier",get:function(){var e,n;return!((e=this.rawMetadata)===null||e===void 0)&&e["external-identifier"]?new Cr((n=this.rawMetadata)===null||n===void 0?void 0:n["external-identifier"]):void 0}},{key:"files_count",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.files_count?new hi(this.rawMetadata.files_count):void 0}},{key:"indexdate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.indexdate?new ji(this.rawMetadata.indexdate):void 0}},{key:"isbn",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.isbn?new Cr(this.rawMetadata.isbn):void 0}},{key:"issue",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.issue?new Cr(this.rawMetadata.issue):void 0}},{key:"item_count",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.item_count?new hi(this.rawMetadata.item_count):void 0}},{key:"item_size",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.item_size?new ip(this.rawMetadata.item_size):void 0}},{key:"language",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.language?new Cr(this.rawMetadata.language):void 0}},{key:"length",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.length?new Mk(this.rawMetadata.length):void 0}},{key:"lineage",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.lineage?new Cr(this.rawMetadata.lineage):void 0}},{key:"month",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.month?new hi(this.rawMetadata.month):void 0}},{key:"mediatype",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.mediatype?new op(this.rawMetadata.mediatype):void 0}},{key:"noindex",get:function(){var e;return((e=this.rawMetadata)===null||e===void 0?void 0:e.noindex)!=null?new Lu(this.rawMetadata.noindex):void 0}},{key:"notes",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.notes?new Cr(this.rawMetadata.notes):void 0}},{key:"num_favorites",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.num_favorites?new hi(this.rawMetadata.num_favorites):void 0}},{key:"num_reviews",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.num_reviews?new hi(this.rawMetadata.num_reviews):void 0}},{key:"openlibrary_edition",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.openlibrary_edition?new Cr(this.rawMetadata.openlibrary_edition):void 0}},{key:"openlibrary_work",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.openlibrary_work?new Cr(this.rawMetadata.openlibrary_work):void 0}},{key:"page_progression",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.page_progression?new iM(this.rawMetadata.page_progression):void 0}},{key:"partner",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.partner?new Cr(this.rawMetadata.partner):void 0}},{key:"ppi",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.ppi?new hi(this.rawMetadata.ppi):void 0}},{key:"publicdate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.publicdate?new ji(this.rawMetadata.publicdate):void 0}},{key:"publisher",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.publisher?new Cr(this.rawMetadata.publisher):void 0}},{key:"reviewdate",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.reviewdate?new ji(this.rawMetadata.reviewdate):void 0}},{key:"runtime",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.runtime?new Mk(this.rawMetadata.runtime):void 0}},{key:"scanner",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.scanner?new Cr(this.rawMetadata.scanner):void 0}},{key:"source",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.source?new Cr(this.rawMetadata.source):void 0}},{key:"start_localtime",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.start_localtime?new ji(this.rawMetadata.start_localtime):void 0}},{key:"start_time",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.start_time?new ji(this.rawMetadata.start_time):void 0}},{key:"stop_time",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.stop_time?new ji(this.rawMetadata.stop_time):void 0}},{key:"subject",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.subject?new aM(this.rawMetadata.subject):void 0}},{key:"taper",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.taper?new Cr(this.rawMetadata.taper):void 0}},{key:"title",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.title?new Cr(this.rawMetadata.title):void 0}},{key:"transferer",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.transferer?new Cr(this.rawMetadata.transferer):void 0}},{key:"track",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.track?new hi(this.rawMetadata.track):void 0}},{key:"type",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.type?new Cr(this.rawMetadata.type):void 0}},{key:"uploader",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.uploader?new Cr(this.rawMetadata.uploader):void 0}},{key:"utc_offset",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.utc_offset?new hi(this.rawMetadata.utc_offset):void 0}},{key:"venue",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.venue?new Cr(this.rawMetadata.venue):void 0}},{key:"volume",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.volume?new Cr(this.rawMetadata.volume):void 0}},{key:"week",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.week?new hi(this.rawMetadata.week):void 0}},{key:"year",get:function(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.year?new ji(this.rawMetadata.year):void 0}},{key:"query",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.query?new Cr(this.rawMetadata.fields.query):void 0}},{key:"date_favorited",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.date_favorited?new ji(this.rawMetadata.fields.date_favorited):void 0}},{key:"__href__",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.__href__?new Cr(this.rawMetadata.fields.__href__):void 0}}]),g}();tt([Zt()],xr.prototype,"addeddate",null),tt([Zt()],xr.prototype,"audio_codec",null),tt([Zt()],xr.prototype,"audio_sample_rate",null),tt([Zt()],xr.prototype,"avg_rating",null),tt([Zt()],xr.prototype,"collection",null),tt([Zt()],xr.prototype,"collections_raw",null),tt([Zt()],xr.prototype,"collection_size",null),tt([Zt()],xr.prototype,"contributor",null),tt([Zt()],xr.prototype,"coverage",null),tt([Zt()],xr.prototype,"creator",null),tt([Zt()],xr.prototype,"date",null),tt([Zt()],xr.prototype,"description",null),tt([Zt()],xr.prototype,"downloads",null),tt([Zt()],xr.prototype,"duration",null),tt([Zt()],xr.prototype,"external-identifier",null),tt([Zt()],xr.prototype,"files_count",null),tt([Zt()],xr.prototype,"indexdate",null),tt([Zt()],xr.prototype,"isbn",null),tt([Zt()],xr.prototype,"issue",null),tt([Zt()],xr.prototype,"item_count",null),tt([Zt()],xr.prototype,"item_size",null),tt([Zt()],xr.prototype,"language",null),tt([Zt()],xr.prototype,"length",null),tt([Zt()],xr.prototype,"lineage",null),tt([Zt()],xr.prototype,"month",null),tt([Zt()],xr.prototype,"mediatype",null),tt([Zt()],xr.prototype,"noindex",null),tt([Zt()],xr.prototype,"notes",null),tt([Zt()],xr.prototype,"num_favorites",null),tt([Zt()],xr.prototype,"num_reviews",null),tt([Zt()],xr.prototype,"openlibrary_edition",null),tt([Zt()],xr.prototype,"openlibrary_work",null),tt([Zt()],xr.prototype,"page_progression",null),tt([Zt()],xr.prototype,"partner",null),tt([Zt()],xr.prototype,"ppi",null),tt([Zt()],xr.prototype,"publicdate",null),tt([Zt()],xr.prototype,"publisher",null),tt([Zt()],xr.prototype,"reviewdate",null),tt([Zt()],xr.prototype,"runtime",null),tt([Zt()],xr.prototype,"scanner",null),tt([Zt()],xr.prototype,"source",null),tt([Zt()],xr.prototype,"start_localtime",null),tt([Zt()],xr.prototype,"start_time",null),tt([Zt()],xr.prototype,"stop_time",null),tt([Zt()],xr.prototype,"subject",null),tt([Zt()],xr.prototype,"taper",null),tt([Zt()],xr.prototype,"title",null),tt([Zt()],xr.prototype,"transferer",null),tt([Zt()],xr.prototype,"track",null),tt([Zt()],xr.prototype,"type",null),tt([Zt()],xr.prototype,"uploader",null),tt([Zt()],xr.prototype,"utc_offset",null),tt([Zt()],xr.prototype,"venue",null),tt([Zt()],xr.prototype,"volume",null),tt([Zt()],xr.prototype,"week",null),tt([Zt()],xr.prototype,"year",null),tt([Zt()],xr.prototype,"query",null),tt([Zt()],xr.prototype,"date_favorited",null),tt([Zt()],xr.prototype,"__href__",null);var qr=function(){"use strict";function g(t){_classCallCheck(this,g),this.rawMetadata=t}return _createClass(g,[{key:"identifier",get:function(){var e,n;return(n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.identifier}},{key:"addeddate",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.addeddate?new ji(this.rawMetadata.fields.addeddate):void 0}},{key:"avg_rating",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.avg_rating)!=null?new hi(this.rawMetadata.fields.avg_rating):void 0}},{key:"collection",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.collection?new Cr(this.rawMetadata.fields.collection):void 0}},{key:"collection_files_count",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.collection_files_count)!=null?new hi(this.rawMetadata.fields.collection_files_count):void 0}},{key:"collection_size",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.collection_size)!=null?new ip(this.rawMetadata.fields.collection_size):void 0}},{key:"creator",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.creator?new Cr(this.rawMetadata.fields.creator):void 0}},{key:"date",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.date?new ji(this.rawMetadata.fields.date):void 0}},{key:"description",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.description?new Cr(this.rawMetadata.fields.description):void 0}},{key:"downloads",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.downloads)!=null?new hi(this.rawMetadata.fields.downloads):void 0}},{key:"files_count",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.files_count)!=null?new hi(this.rawMetadata.fields.files_count):void 0}},{key:"genre",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.genre?new Cr(this.rawMetadata.fields.genre):void 0}},{key:"indexflag",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.indexflag?new Cr(this.rawMetadata.fields.indexflag):void 0}},{key:"issue",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.issue?new Cr(this.rawMetadata.fields.issue):void 0}},{key:"item_count",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.item_count)!=null?new hi(this.rawMetadata.fields.item_count):void 0}},{key:"item_size",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.item_size)!=null?new ip(this.rawMetadata.fields.item_size):void 0}},{key:"language",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.language?new Cr(this.rawMetadata.fields.language):void 0}},{key:"lending___available_to_borrow",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.lending___available_to_borrow)!=null?new Lu(this.rawMetadata.fields.lending___available_to_borrow):void 0}},{key:"lending___available_to_browse",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.lending___available_to_browse)!=null?new Lu(this.rawMetadata.fields.lending___available_to_browse):void 0}},{key:"lending___available_to_waitlist",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.lending___available_to_waitlist)!=null?new Lu(this.rawMetadata.fields.lending___available_to_waitlist):void 0}},{key:"lending___status",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.lending___status?new Cr(this.rawMetadata.fields.lending___status):void 0}},{key:"licenseurl",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.licenseurl?new Cr(this.rawMetadata.fields.licenseurl):void 0}},{key:"mediatype",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.mediatype?new op(this.rawMetadata.fields.mediatype):void 0}},{key:"month",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.month)!=null?new hi(this.rawMetadata.fields.month):void 0}},{key:"noindex",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.noindex)!=null?new Lu(this.rawMetadata.fields.noindex):void 0}},{key:"num_favorites",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.num_favorites)!=null?new hi(this.rawMetadata.fields.num_favorites):void 0}},{key:"num_reviews",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.num_reviews)!=null?new hi(this.rawMetadata.fields.num_reviews):void 0}},{key:"publicdate",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.publicdate?new ji(this.rawMetadata.fields.publicdate):void 0}},{key:"reviewdate",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.reviewdate?new ji(this.rawMetadata.fields.reviewdate):void 0}},{key:"review",get:function(){var e,n=(e=this.rawMetadata)===null||e===void 0?void 0:e.review;return n?{body:n.reviewbody,title:n.reviewtitle,author:n.reviewer,authorItem:n.reviewer_itemname,updatedate:new Date(n.reviewdate),createdate:new Date(n.createdate),stars:Number(n.stars)||0,__href__:n.__href__}:void 0}},{key:"source",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.source?new Cr(this.rawMetadata.fields.source):void 0}},{key:"subject",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.subject?new Cr(this.rawMetadata.fields.subject):void 0}},{key:"title",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.title?new Cr(this.rawMetadata.fields.title):void 0}},{key:"type",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.type?new Cr(this.rawMetadata.fields.type):void 0}},{key:"volume",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.volume?new Cr(this.rawMetadata.fields.volume):void 0}},{key:"week",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.week)!=null?new hi(this.rawMetadata.fields.week):void 0}},{key:"year",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.year)!=null?new hi(this.rawMetadata.fields.year):void 0}}]),g}();tt([Zt()],qr.prototype,"addeddate",null),tt([Zt()],qr.prototype,"avg_rating",null),tt([Zt()],qr.prototype,"collection",null),tt([Zt()],qr.prototype,"collection_files_count",null),tt([Zt()],qr.prototype,"collection_size",null),tt([Zt()],qr.prototype,"creator",null),tt([Zt()],qr.prototype,"date",null),tt([Zt()],qr.prototype,"description",null),tt([Zt()],qr.prototype,"downloads",null),tt([Zt()],qr.prototype,"files_count",null),tt([Zt()],qr.prototype,"genre",null),tt([Zt()],qr.prototype,"indexflag",null),tt([Zt()],qr.prototype,"issue",null),tt([Zt()],qr.prototype,"item_count",null),tt([Zt()],qr.prototype,"item_size",null),tt([Zt()],qr.prototype,"language",null),tt([Zt()],qr.prototype,"lending___available_to_borrow",null),tt([Zt()],qr.prototype,"lending___available_to_browse",null),tt([Zt()],qr.prototype,"lending___available_to_waitlist",null),tt([Zt()],qr.prototype,"lending___status",null),tt([Zt()],qr.prototype,"licenseurl",null),tt([Zt()],qr.prototype,"mediatype",null),tt([Zt()],qr.prototype,"month",null),tt([Zt()],qr.prototype,"noindex",null),tt([Zt()],qr.prototype,"num_favorites",null),tt([Zt()],qr.prototype,"num_reviews",null),tt([Zt()],qr.prototype,"publicdate",null),tt([Zt()],qr.prototype,"reviewdate",null),tt([Zt()],qr.prototype,"review",null),tt([Zt()],qr.prototype,"source",null),tt([Zt()],qr.prototype,"subject",null),tt([Zt()],qr.prototype,"title",null),tt([Zt()],qr.prototype,"type",null),tt([Zt()],qr.prototype,"volume",null),tt([Zt()],qr.prototype,"week",null),tt([Zt()],qr.prototype,"year",null);var ki=function(){"use strict";function g(t){_classCallCheck(this,g),this.rawMetadata=t}return _createClass(g,[{key:"identifier",get:function(){var e,n;return(n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.identifier}},{key:"highlight",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.highlight)===null||n===void 0)&&n.text?new Cr(this.rawMetadata.highlight.text):void 0}},{key:"addeddate",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.addeddate?new ji(this.rawMetadata.fields.addeddate):void 0}},{key:"avg_rating",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.avg_rating)!=null?new hi(this.rawMetadata.fields.avg_rating):void 0}},{key:"collection",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.collection?new Cr(this.rawMetadata.fields.collection):void 0}},{key:"created_on",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.created_on?new ji(this.rawMetadata.fields.created_on):void 0}},{key:"creator",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.creator?new Cr(this.rawMetadata.fields.creator):void 0}},{key:"date",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.date?new ji(this.rawMetadata.fields.date):void 0}},{key:"description",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.description?new Cr(this.rawMetadata.fields.description):void 0}},{key:"downloads",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.downloads)!=null?new hi(this.rawMetadata.fields.downloads):void 0}},{key:"filename",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.filename?new Cr(this.rawMetadata.fields.filename):void 0}},{key:"file_basename",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.file_basename?new Cr(this.rawMetadata.fields.file_basename):void 0}},{key:"file_creation_mtime",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.file_creation_mtime)!=null?new hi(this.rawMetadata.fields.file_creation_mtime):void 0}},{key:"issue",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.issue?new Cr(this.rawMetadata.fields.issue):void 0}},{key:"mediatype",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.mediatype?new op(this.rawMetadata.fields.mediatype):void 0}},{key:"page_num",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.page_num)!=null?new hi(this.rawMetadata.fields.page_num):void 0}},{key:"publicdate",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.publicdate?new ji(this.rawMetadata.fields.publicdate):void 0}},{key:"result_in_subfile",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.result_in_subfile)!=null?new Lu(this.rawMetadata.fields.result_in_subfile):void 0}},{key:"reviewdate",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.reviewdate?new ji(this.rawMetadata.fields.reviewdate):void 0}},{key:"source",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.source?new Cr(this.rawMetadata.fields.source):void 0}},{key:"subject",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.subject?new Cr(this.rawMetadata.fields.subject):void 0}},{key:"title",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.title?new Cr(this.rawMetadata.fields.title):void 0}},{key:"updated_on",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.updated_on?new ji(this.rawMetadata.fields.updated_on):void 0}},{key:"year",get:function(){var e,n;return((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.year)!=null?new hi(this.rawMetadata.fields.year):void 0}},{key:"__href__",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.__href__?new Cr(this.rawMetadata.fields.__href__):void 0}}]),g}();tt([Zt()],ki.prototype,"highlight",null),tt([Zt()],ki.prototype,"addeddate",null),tt([Zt()],ki.prototype,"avg_rating",null),tt([Zt()],ki.prototype,"collection",null),tt([Zt()],ki.prototype,"created_on",null),tt([Zt()],ki.prototype,"creator",null),tt([Zt()],ki.prototype,"date",null),tt([Zt()],ki.prototype,"description",null),tt([Zt()],ki.prototype,"downloads",null),tt([Zt()],ki.prototype,"filename",null),tt([Zt()],ki.prototype,"file_basename",null),tt([Zt()],ki.prototype,"file_creation_mtime",null),tt([Zt()],ki.prototype,"issue",null),tt([Zt()],ki.prototype,"mediatype",null),tt([Zt()],ki.prototype,"page_num",null),tt([Zt()],ki.prototype,"publicdate",null),tt([Zt()],ki.prototype,"result_in_subfile",null),tt([Zt()],ki.prototype,"reviewdate",null),tt([Zt()],ki.prototype,"source",null),tt([Zt()],ki.prototype,"subject",null),tt([Zt()],ki.prototype,"title",null),tt([Zt()],ki.prototype,"updated_on",null),tt([Zt()],ki.prototype,"year",null),tt([Zt()],ki.prototype,"__href__",null);var Qc;(function(g){g[g.COUNT=0]="COUNT",g[g.ALPHABETICAL=1]="ALPHABETICAL",g[g.NUMERIC=2]="NUMERIC"})(Qc||(Qc={}));var YE=function(){"use strict";function g(t){_classCallCheck(this,g),this.buckets=t.buckets,this.doc_count_error_upper_bound=t.doc_count_error_upper_bound,this.sum_other_doc_count=t.sum_other_doc_count,this.first_bucket_key=t.first_bucket_key,this.last_bucket_key=t.last_bucket_key,this.number_buckets=t.number_buckets,this.interval=t.interval}return _createClass(g,[{key:"getSortedBuckets",value:function(e){var n=_toConsumableArray(this.buckets);if(this.isRawNumberBuckets(n))return n;var o=new Intl.Collator;switch(e){case Qc.ALPHABETICAL:return n.sort(function(l,a){return o.compare(l.key.toString(),a.key.toString())});case Qc.NUMERIC:return n.sort(function(l,a){return Number(a.key)-Number(l.key)});case Qc.COUNT:default:return n}}},{key:"isRawNumberBuckets",value:function(e){return typeof this.buckets[0]=="number"}}]),g}();tt([Zt()],YE.prototype,"getSortedBuckets",null);var Jc=function(){"use strict";function g(t){_classCallCheck(this,g),this.rawMetadata=t}return _createClass(g,[{key:"identifier",get:function(){var e;return(e=this.rawMetadata)===null||e===void 0?void 0:e.fields.query}},{key:"title",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.title?new Cr(this.rawMetadata.fields.title):void 0}},{key:"query",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.query?new Cr(this.rawMetadata.fields.query):void 0}},{key:"date_favorited",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.date_favorited?new ji(this.rawMetadata.fields.date_favorited):void 0}},{key:"__href__",get:function(){var e,n;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.__href__?new Cr(this.rawMetadata.fields.__href__):void 0}}]),g}();tt([Zt()],Jc.prototype,"title",null),tt([Zt()],Jc.prototype,"query",null),tt([Zt()],Jc.prototype,"date_favorited",null),tt([Zt()],Jc.prototype,"__href__",null);var ap=function(){"use strict";function g(t){_classCallCheck(this,g),this.rawMetadata=t}return _createClass(g,[{key:"identifier",get:function(){var e,n;return(n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0?void 0:n.url}},{key:"mediatype",get:function(){return new op("web")}},{key:"title",get:function(){var e,n,o;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.url?new Cr((o=this.rawMetadata.fields)===null||o===void 0?void 0:o.url):void 0}},{key:"capture_dates",get:function(){var e,n,o;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.capture_dates?new ji((o=this.rawMetadata.fields)===null||o===void 0?void 0:o.capture_dates):void 0}},{key:"__href__",get:function(){var e,n,o;return!((n=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||n===void 0)&&n.__href__?new Cr((o=this.rawMetadata.fields)===null||o===void 0?void 0:o.__href__):void 0}}]),g}();tt([Zt()],ap.prototype,"title",null),tt([Zt()],ap.prototype,"capture_dates",null),tt([Zt()],ap.prototype,"__href__",null);var sM=["loans","waitlist","loan_history"],lM=function(){"use strict";function g(t,e){_classCallCheck(this,g);var n,o,l,a,s,r,d,c,h,f,v,b,w,k;this.schema=e;var C=e==null?void 0:e.hit_type,E;t!=null&&t.page_elements&&(this.pageElements=t.page_elements,E=Object.values(this.pageElements)[0]);var A=(n=t==null?void 0:t.hits)===null||n===void 0?void 0:n.hits;this.totalResults=(l=(o=t==null?void 0:t.hits)===null||o===void 0?void 0:o.total)!==null&&l!==void 0?l:0,this.returnedCount=(s=(a=t==null?void 0:t.hits)===null||a===void 0?void 0:a.returned)!==null&&s!==void 0?s:0,!(A!=null&&A.length)&&!((r=E==null?void 0:E.hits)===null||r===void 0)&&r.hits?(A=E.hits.hits,this.totalResults=(d=E.hits.total)!==null&&d!==void 0?d:0,this.returnedCount=(c=E.hits.returned)!==null&&c!==void 0?c:0):!((h=this.pageElements)===null||h===void 0)&&h.lending?A=this.handleLendingPageElement(C):!((f=this.pageElements)===null||f===void 0)&&f.web_archives&&(A=this.handleWebArchivesPageElement()),this.results=(v=A==null?void 0:A.map(function(y){var u;return g.createResult((u=y.hit_type)!==null&&u!==void 0?u:C,y)}))!==null&&v!==void 0?v:[];var j=t==null?void 0:t.aggregations;!(this.aggregations&&Object.keys(this.aggregations).length>0)&&(E!=null&&E.aggregations)&&(j=E.aggregations),j&&this.buildAggregations(j),t!=null&&t.collection_titles&&(this.collectionTitles=(b=t.collection_titles)!==null&&b!==void 0?b:{}),t!=null&&t.collection_extra_info&&(this.collectionExtraInfo=(w=t.collection_extra_info)!==null&&w!==void 0?w:null),t!=null&&t.account_extra_info&&(this.accountExtraInfo=(k=t.account_extra_info)!==null&&k!==void 0?k:null)}return _createClass(g,[{key:"buildAggregations",value:function(e){this.aggregations=Object.entries(e).reduce(function(n,o){var l=_slicedToArray(o,2),a=l[0],s=l[1];return n[a]=new YE(s),n},{})}},{key:"handleLendingPageElement",value:function(e){var n,o,l,a=(n=this.pageElements)===null||n===void 0?void 0:n.lending,s=(o=a.loans)!==null&&o!==void 0?o:[];this.totalResults=s.length,this.returnedCount=this.totalResults;var r=!0,d=!1,c=void 0;try{for(var h=sM[Symbol.iterator](),f;!(r=(f=h.next()).done);r=!0){var v=f.value;a[v]=(l=a[v].map(function(b){var w;return g.createResult((w=b.hit_type)!==null&&w!==void 0?w:e,b)}))!==null&&l!==void 0?l:[]}}catch(b){d=!0,c=b}finally{try{!r&&h.return!=null&&h.return()}finally{if(d)throw c}}return s}},{key:"handleWebArchivesPageElement",value:function(){var e,n=e1((e=this.pageElements)===null||e===void 0?void 0:e.web_archives);return this.totalResults=n.length,this.returnedCount=this.totalResults,n}}],[{key:"createResult",value:function(e,n){switch(e){case"item":return new qr(n);case"text":return new ki(n);case"favorited_search":return new Jc(n);case"web_archive":return new ap(n);default:return new qr(n)}}}]),g}(),uM=function g(t){"use strict";_classCallCheck(this,g),this.clientParameters=t.client_parameters,this.backendRequests=t.backend_requests,this.kind=t.kind},cM=function g(t){"use strict";_classCallCheck(this,g);var e,n,o;this.rawResponse=t,this.request=new uM(t.request),this.responseHeader=(e=t.response)===null||e===void 0?void 0:e.header,this.sessionContext=t.session_context,this.response=new lM((n=t.response)===null||n===void 0?void 0:n.body,(o=t.response)===null||o===void 0?void 0:o.hit_schema)},XE=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,null,[{key:"aggregateSearchParamsAsString",value:function(e){if(e.omit)return"false";if(e.advancedParams){var n=e.advancedParams.map(function(o){return{terms:o}});return JSON.stringify(n)}if(e.simpleParams)return e.simpleParams.join(",")}},{key:"sortParamsAsString",value:function(e){return"".concat(e.field,":").concat(e.direction)}},{key:"filterParamsAsString",value:function(e){return JSON.stringify(e)}},{key:"generateURLSearchParams",value:function(e){var n=new URLSearchParams;if(n.append("user_query",e.query),e.pageType&&n.append("page_type",String(e.pageType)),e.pageTarget&&n.append("page_target",String(e.pageTarget)),e.pageElements&&e.pageElements.length>0){var o="[".concat(e.pageElements.map(function(h){return'"'.concat(h,'"')}).join(","),"]");n.append("page_elements",o)}if(e.rows!=null&&n.append("hits_per_page",String(e.rows)),e.page!=null&&n.append("page",String(e.page)),e.fields&&e.fields.length>0&&n.append("fields",e.fields.join(",")),e.filters&&Object.keys(e.filters).length>0){var l=this.filterParamsAsString(e.filters);l&&l!=="{}"&&n.append("filter_map",l)}if(e.sort&&e.sort.length>0){var a=this,s=e.sort.map(function(h){return a.sortParamsAsString(h)});n.append("sort",s.join(","))}var r=e.aggregations;if(r){var d=this.aggregateSearchParamsAsString(r);d&&n.append("aggregations",d)}if(e.aggregationsSize!=null&&n.append("aggregations_size",String(e.aggregationsSize)),e.debugging&&n.append("debugging","true"),e.uid&&n.append("uid",e.uid),e.includeClientUrl!==!1){var c=window.location.href.slice(0,400);e.query.length<=1e3&&n.append("client_url",c)}return n}}]),g}(),Zc;(function(g){g.networkError="SearchService.NetworkError",g.itemNotFound="SearchService.ItemNotFound",g.decodingError="SearchService.DecodingError",g.searchEngineError="SearchService.SearchEngineError"})(Zc||(Zc={}));var dM=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n,o,l){_classCallCheck(this,e);var a;return a=t.call(this,o),a.name=n,a.type=n,a.details=l,_possibleConstructorReturn(a)}return e}(_wrapNativeSuper(Error)),KE={reCache:JSON.stringify({recompute:!0}),noCache:JSON.stringify({bypass:!0}),dontCache:JSON.stringify({no_compute:!0})},QE=function(){"use strict";function g(t){_classCallCheck(this,g);var e,n;this.baseUrl=(e=t==null?void 0:t.baseUrl)!==null&&e!==void 0?e:"archive.org",(t==null?void 0:t.includeCredentials)!==void 0?this.includeCredentials=t.includeCredentials:this.includeCredentials=window.location.href.match(/^https?:\/\/.*archive\.org(:[0-9]+)?/)!==null;var o=new URL(window.location.href).searchParams,l=o.get("scope"),a=o.get("verbose"),s=o.get("debugging"),r=o.get("cacheDebug"),d="",c=!0,h=!1,f=void 0;try{for(var v=Object.keys(KE)[Symbol.iterator](),b;!(c=(b=v.next()).done);c=!0){var w=b.value;if(o.get(w)){d=KE[w];break}}}catch(k){h=!0,f=k}finally{try{!c&&v.return!=null&&v.return()}finally{if(h)throw f}}d=(n=o.get("caching"))!==null&&n!==void 0?n:d,(t==null?void 0:t.caching)!==void 0?this.cachingFlags=t.caching:d&&(this.cachingFlags=d),(t==null?void 0:t.debuggingEnabled)!==void 0?this.debuggingEnabled=t.debuggingEnabled:(s||r)&&(this.debuggingEnabled=!0),(t==null?void 0:t.scope)!==void 0?this.requestScope=t.scope:l&&(this.requestScope=l),(t==null?void 0:t.verbose)!==void 0?this.verbose=t.verbose:a&&(this.verbose=!!a)}return _createClass(g,[{key:"fetchUrl",value:function(e,n){return $n(this,null,_regeneratorRuntime.default.mark(function o(){var l,a,s,r,d,c,h,f,v;return _regeneratorRuntime.default.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return s=new URL(e),this.requestScope&&s.searchParams.set("scope",this.requestScope),this.cachingFlags&&s.searchParams.set("caching",this.cachingFlags),w.prev=4,d=(l=n==null?void 0:n.requestOptions)!==null&&l!==void 0?l:{credentials:this.includeCredentials?"include":"same-origin"},w.next=8,fetch(s.href,d);case 8:r=w.sent,w.next=15;break;case 11:return w.prev=11,w.t0=w.catch(4),c=_instanceof(w.t0,Error)?w.t0.message:typeof w.t0=="string"?w.t0:"Unknown error",w.abrupt("return",this.getErrorResult(Zc.networkError,c));case 15:return w.prev=15,w.next=18,r.json();case 18:return h=w.sent,this.verbose&&this.printResponse(h),h.debugging&&this.printDebuggingInfo(h),f=(a=h.response)===null||a===void 0?void 0:a.error,w.abrupt("return",f?this.getErrorResult(Zc.searchEngineError,f.message,f.forensics):{success:h});case 24:return w.prev=24,w.t1=w.catch(15),v=_instanceof(w.t1,Error)?w.t1.message:typeof w.t1=="string"?w.t1:"Unknown error",w.abrupt("return",this.getErrorResult(Zc.decodingError,v));case 28:case"end":return w.stop()}},o,this,[[4,11],[15,24]])}))}},{key:"getErrorResult",value:function(e,n,o){return{error:new dM(e,n,o)}}},{key:"printResponse",value:function(e){var n,o,l,a,s;try{var r=JSON.parse(JSON.stringify(e)),d=(l=(o=(n=r==null?void 0:r.response)===null||n===void 0?void 0:n.body)===null||o===void 0?void 0:o.hits)===null||l===void 0?void 0:l.hits;if(Array.isArray(d)&&d.length>1){var c=[];c.push(d[0]),c.push("*** ".concat(d.length-1," hits omitted ***")),r.response.body.hits.hits=c}var h=(s=(a=r==null?void 0:r.response)===null||a===void 0?void 0:a.body)===null||s===void 0?void 0:s.aggregations;h&&Object.entries(h).forEach(function(f){var v=_slicedToArray(f,2),b=v[0],w=v[1],k,C,E,A;if(((C=(k=w)===null||k===void 0?void 0:k.buckets)===null||C===void 0?void 0:C.length)>0){var j=JSON.parse(JSON.stringify(w));j.buckets="*** ".concat((A=(E=j.buckets)===null||E===void 0?void 0:E.length)!==null&&A!==void 0?A:0," buckets omitted ***"),r.response.body.aggregations[b]=j}}),console.log("***** RESPONSE RECEIVED *****"),console.groupCollapsed("Response"),console.log(JSON.stringify(r,null,2)),console.groupEnd()}catch(f){console.error("Error printing search response:",f)}}},{key:"printDebuggingInfo",value:function(e){var n,o,l=e.debugging,a=(n=l.messages)!==null&&n!==void 0?n:[],s=(o=l.data)!==null&&o!==void 0?o:{};console.log("***** BEGIN DEBUGGING *****"),console.log("Full response:"),console.log(JSON.stringify(e,null,2)),console.group("Debug messages");var r=!0,d=!1,c=void 0;try{for(var h=a[Symbol.iterator](),f;!(r=(f=h.next()).done);r=!0){var v=f.value;console.log(v)}}catch(u){d=!0,c=u}finally{try{!r&&h.return!=null&&h.return()}finally{if(d)throw c}}console.groupEnd(),console.group("Debug data");var b=!0,w=!1,k=void 0;try{for(var C=Object.entries(s)[Symbol.iterator](),E;!(b=(E=C.next()).done);b=!0){var A=_slicedToArray(E.value,2),j=A[0],y=A[1];console.log(j,y)}}catch(u){w=!0,k=u}finally{try{!b&&C.return!=null&&C.return()}finally{if(w)throw k}}console.groupEnd(),console.log("***** END DEBUGGING *****")}}]),g}(),hM=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o,l;return o=t.call(this,n),o.servicePath=(l=n==null?void 0:n.servicePath)!==null&&l!==void 0?l:"/services/search/beta/page_production",_possibleConstructorReturn(o)}return _createClass(e,[{key:"performSearch",value:function(o){return $n(this,null,_regeneratorRuntime.default.mark(function l(){var a,s;return _regeneratorRuntime.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return this.debuggingEnabled&&o.debugging===void 0&&(o.debugging=!0),a=XE.generateURLSearchParams(o).toString(),s="https://".concat(this.baseUrl).concat(this.servicePath,"/?").concat(a),d.abrupt("return",this.fetchUrl(s));case 3:case"end":return d.stop()}},l,this)}))}}]),e}(QE),fM=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n){_classCallCheck(this,e);var o,l;return o=t.call(this,n),o.servicePath=(l=n==null?void 0:n.servicePath)!==null&&l!==void 0?l:"/services/search/beta/page_production",_possibleConstructorReturn(o)}return _createClass(e,[{key:"performSearch",value:function(o){return $n(this,null,_regeneratorRuntime.default.mark(function l(){var a,s;return _regeneratorRuntime.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return this.debuggingEnabled&&o.debugging===void 0&&(o.debugging=!0),a=XE.generateURLSearchParams(o).toString(),s="https://".concat(this.baseUrl).concat(this.servicePath,"/?service_backend=fts&").concat(a),d.abrupt("return",this.fetchUrl(s));case 3:case"end":return d.stop()}},l,this)}))}}]),e}(QE),Ru;(function(g){g[g.METADATA=0]="METADATA",g[g.FULLTEXT=1]="FULLTEXT"})(Ru||(Ru={}));var sp=function(){"use strict";function g(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_classCallCheck(this,g),this.backendOptions=t}return _createClass(g,[{key:"search",value:function(e){return $n(this,arguments,_regeneratorRuntime.default.mark(function n(o){var l,a,s=arguments;return _regeneratorRuntime.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return l=s.length>1&&s[1]!==void 0?s[1]:Ru.METADATA,d.next=3,g.getBackendForSearchType(l,this.backendOptions).performSearch(o);case 3:return a=d.sent,d.abrupt("return",a.error?a:{success:new cM(a.success)});case 5:case"end":return d.stop()}},n,this)}))}}],[{key:"getBackendForSearchType",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};switch(e){case Ru.FULLTEXT:return new fM(n);case Ru.METADATA:default:return new hM(n)}}}]),g}();sp.default=new sp,tt([Zt(function(g){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.includeCredentials,n=e===void 0?!1:e,o=t.verbose,l=o===void 0?!1:o,a=t.scope,s=a===void 0?"":a,r=t.baseUrl,d=r===void 0?"":r;return"".concat(g,";").concat(n,";").concat(l,";").concat(s,";").concat(d)})],sp,"getBackendForSearchType",null);var JE;(function(g){g.INCLUDE="inc",g.EXCLUDE="exc",g.GREATER_THAN="gt",g.GREATER_OR_EQUAL="gte",g.LESS_THAN="lt",g.LESS_OR_EQUAL="lte"})(JE||(JE={}));var ZE=Ut(_templateObject552()),pM=Ut(_templateObject553()),vM=Ut(_templateObject554()),mM=Ut(_templateObject555()),Lk=Ut(_templateObject556()),gM=Ut(_templateObject557()),yM=Ut(_templateObject558()),Rk=Ut(_templateObject559()),bM=Ut(_templateObject560()),wM=Ut(_templateObject561()),Dk=Ut(_templateObject562()),_M=Ut(_templateObject563()),kM=Ut(_templateObject564()),xM=Ut(_templateObject565()),SM=Ut(_templateObject566(),ZE,ZE,pM,vM,kM,xM,mM,gM,Lk,Lk,Lk,yM,bM,Rk,Rk,Rk,wM,_M,Dk,Dk,Dk),ed;(function(g){g.NETWORK="failed to connect to user lists backend service",g.BAD_RESPONSE="malformed response from backend",g.USER_NOT_FOUND="user with the given id was not found",g.LIST_NOT_FOUND="user list with the given id was not found",g.LIST_MEMBER_NOT_FOUND="user list member with the given id was not found",g.ITEM_NOT_TOUND="item with the given id was not found"})(ed||(ed={}));var CM=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n,o,l){_classCallCheck(this,e);var a;return a=t.call(this,o,l),a.reason=n,_possibleConstructorReturn(a)}return e}(_wrapNativeSuper(Error)),$k=function(){"use strict";function g(t){var e=t.fetchHandler,n=t.searchService,o=t.userService,l=t.baseUrl,a=l===void 0?g.DEFAULT_BASE_URL:l;_classCallCheck(this,g),this.fetchHandler=e,this.searchService=n,this.userService=o,this.baseUrl=a}return _createClass(g,[{key:"fetchEndpoint",value:function(e,n,o){return $n(this,null,_regeneratorRuntime.default.mark(function l(){var a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,this.fetchHandler.fetchApiResponse(e,{method:n,body:o,includeCredentials:!0});case 3:return a=r.sent,r.abrupt("return",a.success?{success:a.value}:{error:g.getErrorResult(ed.LIST_NOT_FOUND,a.error)});case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",{error:g.getErrorResult(ed.NETWORK,r.t0)});case 10:case"end":return r.stop()}},l,this,[[0,7]])}))}},{key:"fetchListsForUser",value:function(e){return $n(this,null,_regeneratorRuntime.default.mark(function n(){var o,l,a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,this.userService.getLoggedInUser();case 3:if(r.t1=o=r.sent,r.t0=r.t1===null,r.t0){r.next=7;break}r.t0=o===void 0;case 7:if(!r.t0){r.next=11;break}r.t2=void 0,r.next=12;break;case 11:r.t2=o.success;case 12:return l=r.t2,a=(l==null?void 0:l.itemname)===e?"me":e,r.abrupt("return",this.fetchEndpoint("".concat(this.baseUrl,"/services/users/").concat(a,"/lists")));case 15:case"end":return r.stop()}},n,this)}))}},{key:"fetchList",value:function(e,n){return $n(this,null,_regeneratorRuntime.default.mark(function o(){return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",this.fetchEndpoint("".concat(this.baseUrl,"/services/users/").concat(e,"/lists/").concat(n)));case 1:case"end":return a.stop()}},o,this)}))}},{key:"fetchOwnListsContainingItem",value:function(e){return $n(this,null,_regeneratorRuntime.default.mark(function n(){return _regeneratorRuntime.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",this.fetchEndpoint("".concat(this.baseUrl,"/services/users/me/lists?item=").concat(e)));case 1:case"end":return l.stop()}},n,this)}))}},{key:"fetchListMembers",value:function(e,n){return $n(this,null,_regeneratorRuntime.default.mark(function o(){var l,a,s;return _regeneratorRuntime.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,this.fetchList(e,n);case 2:if(l=d.sent,l.success){d.next=5;break}return d.abrupt("return",l);case 5:if(a=l.success,s=a.members,s){d.next=8;break}throw g.getErrorResult(ed.BAD_RESPONSE);case 8:return d.abrupt("return",{success:s});case 9:case"end":return d.stop()}},o,this)}))}},{key:"fetchListMemberSearchResults",value:function(e,n){return $n(this,null,_regeneratorRuntime.default.mark(function o(){var l,a,s,r;return _regeneratorRuntime.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this.fetchListMembers(e,n);case 2:if(l=c.sent,l.success){c.next=5;break}return c.abrupt("return",l);case 5:if(a=l.success,a.length!==0){c.next=8;break}return c.abrupt("return",{success:[]});case 8:return s="identifier:(".concat(a.map(function(h){return h.identifier}).join(" OR "),")"),c.next=11,this.searchService.search({query:s,rows:a.length,aggregations:{omit:!0}},Ru.METADATA);case 11:return r=c.sent,c.abrupt("return",r.success?{success:r.success.response.results}:{error:r.error});case 13:case"end":return c.stop()}},o,this)}))}},{key:"createList",value:function(e){return $n(this,null,_regeneratorRuntime.default.mark(function n(){return _regeneratorRuntime.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",this.fetchEndpoint("".concat(this.baseUrl,"/services/users/me/lists"),"POST",JSON.stringify(e)));case 1:case"end":return l.stop()}},n,this)}))}},{key:"updateList",value:function(e,n){return $n(this,null,_regeneratorRuntime.default.mark(function o(){return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",this.fetchEndpoint("".concat(this.baseUrl,"/services/users/me/lists/").concat(e),"PATCH",JSON.stringify(n)));case 1:case"end":return a.stop()}},o,this)}))}},{key:"deleteList",value:function(e){return $n(this,null,_regeneratorRuntime.default.mark(function n(){return _regeneratorRuntime.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",this.fetchEndpoint("".concat(this.baseUrl,"/services/users/me/lists/").concat(e),"DELETE"));case 1:case"end":return l.stop()}},n,this)}))}},{key:"addMemberToList",value:function(e,n){return $n(this,null,_regeneratorRuntime.default.mark(function o(){return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",this.fetchEndpoint("".concat(this.baseUrl,"/services/users/me/lists/").concat(e,"/members"),"POST",JSON.stringify(n)));case 1:case"end":return a.stop()}},o,this)}))}},{key:"removeMemberFromList",value:function(e,n){return $n(this,null,_regeneratorRuntime.default.mark(function o(){return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",this.fetchEndpoint("".concat(this.baseUrl,"/services/users/me/lists/").concat(e,"/members/").concat(n),"DELETE"));case 1:case"end":return a.stop()}},o,this)}))}}],[{key:"getErrorResult",value:function(e,n){return new CM(e,g.getErrorMessage(n),{cause:n})}},{key:"getErrorMessage",value:function(e){return _instanceof(e,Error)?e.message:typeof e=="string"?e:"Unknown error"}}]),g}();$k.DEFAULT_BASE_URL="https://archive.org";var Na=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return _createClass(e,[{key:"saveListDetails",value:function(o){return $n(this,null,_regeneratorRuntime.default.mark(function l(){var a,s,r,d,c,h,f;return _regeneratorRuntime.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(o.preventDefault(),c=(a=o.target)===null||a===void 0?void 0:a.querySelector("button#save-list-settings"),c==null||c.setAttribute("disabled","true"),this.dispatchEvent(new Event("userListSaving")),b.prev=4,h={list_name:this.listName.value,description:this.listDescription.value,is_private:this.listPrivate.checked},!(!((s=this.userList)===null||s===void 0)&&s.id)){b.next=12;break}return b.next=9,(r=this.userListsService)===null||r===void 0?void 0:r.updateList(this.userList.id,h);case 9:f=b.sent,b.next=15;break;case 12:return b.next=14,(d=this.userListsService)===null||d===void 0?void 0:d.createList(h);case 14:f=b.sent;case 15:if(!f.success){b.next=19;break}this.dispatchEvent(new CustomEvent("userListSaved",{detail:f.success})),b.next=20;break;case 19:throw f.error;case 20:b.next=25;break;case 22:b.prev=22,b.t0=b.catch(4),this.dispatchEvent(new CustomEvent("userListError",{detail:{error:b.t0}})),console.log("error",b.t0),c==null||c.removeAttribute("disabled");case 25:case"end":return b.stop()}},l,this,[[4,22]])}))}},{key:"emitCloseModalEvent",value:function(o){o.preventDefault(),this.dispatchEvent(new Event("listModalClosed"))}},{key:"render",value:function(){var o,l,a,s,r,d,c,h;return xt(_templateObject567(),this.saveListDetails,(l=(o=this.userList)===null||o===void 0?void 0:o.id)!==null&&l!==void 0?l:"",(s=(a=this.userList)===null||a===void 0?void 0:a.list_name)!==null&&s!==void 0?s:"",(d=(r=this.userList)===null||r===void 0?void 0:r.description)!==null&&d!==void 0?d:"",(h=(c=this.userList)===null||c===void 0?void 0:c.is_private)!==null&&h!==void 0?h:!1,this.emitCloseModalEvent)}}]),e}(er);Na.styles=[SM,Ut(_templateObject568())],Yr([on({type:Object}),El("design:type",Object)],Na.prototype,"userList",void 0),Yr([on({type:Object}),El("design:type",$k)],Na.prototype,"userListsService",void 0),Yr([ii("#id"),El("design:type",HTMLInputElement)],Na.prototype,"listId",void 0),Yr([ii("#name"),El("design:type",HTMLInputElement)],Na.prototype,"listName",void 0),Yr([ii("#description"),El("design:type",HTMLInputElement)],Na.prototype,"listDescription",void 0),Yr([ii("#private"),El("design:type",HTMLInputElement)],Na.prototype,"listPrivate",void 0),Na=Yr([Qr("iaux-userlist-settings")],Na);function Du(){if(!_instanceof(this,Du))return new Du}Du.prototype={get:function(t){for(var e=t+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var l=n[o];l.charAt(0)==" ";)l=l.substring(1,l.length);if(l.indexOf(e)==0)return decodeURI(l.substring(e.length,l.length))}return!1},set:function(t,e,n){if(bp(t))for(var o in t)this.set(o,t[o],e,n);else if(typeof t=="string"){var l=bp(n)?n:{expires:n},a=l.path!==void 0?";path=".concat(l.path,";path=/"):";path=/",s=l.domain?";domain=".concat(l.domain):"",r=l.secure?";secure":"",d=l.expires!==void 0?l.expires:"";typeof d=="string"&&d!==""?d=new Date(d):typeof d=="number"&&(d=new Date(+new Date+1e3*60*60*24*d)),d!==""&&"toGMTString"in d&&(d=";expires=".concat(d.toGMTString()));var c=l.sameSite?";SameSite=".concat(l.sameSite):"";document.cookie="".concat(t,"=").concat(encodeURI(e)+d+a+s+r+c)}},remove:function(t){t=n1(t)?t:r1(arguments);for(var e=0,n=t.length;e<n;e++)this.set(t[e],"",-1);return t},clear:function(t){return t?this.remove(t):this.remove(t1(this.all()))},all:function(){if(document.cookie==="")return{};for(var t=document.cookie.split("; "),e={},n=0,o=t.length;n<o;n++){var l=t[n].split("=");e[decodeURI(l[0])]=decodeURI(l[1])}return e}};var yl=null,eT=function(t,e,n){var o=arguments;if(yl||(yl=Du()),o.length===0)return yl.all();if(o.length===1&&t===null)return yl.clear();if(o.length===2&&!e)return yl.clear(t);if(typeof t=="string"&&!e)return yl.get(t);if(typeof t=="string"&&e||bp(t))return yl.set(t,e,n)};for(var tT in Du.prototype)eT[tT]=Du.prototype[tT];Oi();var AM=function(){"use strict";function g(t){_classCallCheck(this,g),this.name=t.name,this.source=t.source,this.mtime=t.mtime,this.size=t.size,this.md5=t.md5,this.crc32=t.crc32,this.sha1=t.sha1,this.format=t.format,this.rotation=t.rotation}return _createClass(g,null,[{key:"fromResponse",value:function(e){var n=co.shared,o=Xa.shared,l,a,s;return e.mtime&&(l=n.parseValue(e.mtime)),e.size&&(a=o.parseValue(e.size)),e.rotation&&(s=n.parseValue(e.rotation)),new g({name:e.name,source:e.source,mtime:l,size:a,md5:e.md5,crc32:e.crc32,sha1:e.sha1,format:e.format,rotation:s})}}]),g}(),nT=function(){"use strict";function g(t){_classCallCheck(this,g),this.username=t.username,this.itemname=t.itemname,this.screenname=t.screenname,this.privs=t.privs,this.image_info=t.image_info,this.isArchiveOrgUser=this.username.endsWith("@archive.org");var e=t.itemname;this.userid=e.startsWith("@")?e.substring(1):e}return _createClass(g,null,[{key:"fromUserResponse",value:function(e){return new g({username:e.username,itemname:e.itemname,screenname:e.screenname,privs:e.privs,image_info:AM.fromResponse(e.image_info)})}}]),g}(),$u;(function(g){g.userNotLoggedIn="UserService.userNotLoggedIn",g.networkError="UserService.networkError",g.decodingError="UserService.decodingError"})($u||($u={}));var lp=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(n,o){_classCallCheck(this,e);var l;return l=t.call(this,o),l.name=n,l.type=n,_possibleConstructorReturn(l)}return e}(_wrapNativeSuper(Error)),OM=function(){"use strict";function g(t){_classCallCheck(this,g);var e,n;this.userServiceEndpoint=(e=t==null?void 0:t.userServiceEndpoint)!==null&&e!==void 0?e:"https://archive.org/services/user.php?op=whoami",this.cache=t==null?void 0:t.cache,this.cacheTTL=t==null?void 0:t.cacheTTL,this.userCacheKey=(n=t==null?void 0:t.userCacheKey)!==null&&n!==void 0?n:"loggedInUserInfo"}return _createClass(g,[{key:"getLoggedInUser",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function e(){var n,o,l,a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(n=eT.get("logged-in-user"),n!==!1){r.next=3;break}return r.abrupt("return",{error:new lp($u.userNotLoggedIn)});case 3:return r.next=5,this.getPersistedUser();case 5:if(o=r.sent,!o){r.next=10;break}if(l=nT.fromUserResponse(o),n!==l.username){r.next=10;break}return r.abrupt("return",{success:l});case 10:if(!this.fetchPromise){r.next=12;break}return r.abrupt("return",(this.fetchPromise=this.fetchPromise.then(function(d){return d}),this.fetchPromise));case 12:return this.fetchPromise=this.fetchUser(),r.next=15,this.fetchPromise;case 15:return a=r.sent,r.abrupt("return",(this.fetchPromise=void 0,a));case 17:case"end":return r.stop()}},e,this)}))}},{key:"fetchUser",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function e(){var n,o,l,a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=1,r.next=4,fetch(this.userServiceEndpoint,{credentials:"include"});case 4:n=r.sent,r.next=10;break;case 7:return r.prev=7,r.t0=r.catch(1),r.abrupt("return",{error:new lp($u.networkError,r.t0.message)});case 10:return r.prev=11,r.next=14,n.json();case 14:o=r.sent,r.next=20;break;case 17:return r.prev=17,r.t1=r.catch(11),r.abrupt("return",{error:new lp($u.decodingError,r.t1.message)});case 20:if(!(!o.success||!o.value)){r.next=22;break}return r.abrupt("return",{error:new lp($u.userNotLoggedIn,o.error)});case 22:return l=o.value,a=nT.fromUserResponse(l),r.next=25,this.persistUser(l);case 25:return r.abrupt("return",(r.sent,{success:a}));case 26:case"end":return r.stop()}},e,this,[[1,7],[11,17]])}))}},{key:"getPersistedUser",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function e(){var n;return _regeneratorRuntime.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(n=this.cache)===null||n===void 0?void 0:n.get(this.userCacheKey));case 2:case"end":return l.stop()}},e,this)}))}},{key:"persistUser",value:function(e){return $n(this,null,_regeneratorRuntime.default.mark(function n(){var o;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,(o=this.cache)===null||o===void 0?void 0:o.set({key:this.userCacheKey,value:e,ttl:this.cacheTTL});case 3:case"end":return a.stop()}},n,this)}))}}]),g}();Ku(),xn(),Wr(),xn(),Wr(),xn(),Ku(),xn(),xn(),xn();var jM=function(){"use strict";function g(){_classCallCheck(this,g)}return _createClass(g,[{key:"fetchApiResponse",value:function(e,n){return $n(this,null,_regeneratorRuntime.default.mark(function o(){var l;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return l={},n!=null&&n.includeCredentials&&(l.credentials="include"),n!=null&&n.method&&(l.method=n.method),n!=null&&n.body&&(l.body=n.body),s.next=6,fetch(e,l);case 6:return s.next=8,s.sent.json();case 8:return s.abrupt("return",s.sent);case 9:case"end":return s.stop()}},o)}))}}]),g}(),EM="https://archive.org",rT={create:function(t){var e=t.serviceUrl,n=t.serviceProtocol,o=n===void 0?"https://":n,l=e?"".concat(o).concat(e):EM;return new $k({fetchHandler:new jM,searchService:sp.default,userService:new OM,baseUrl:l})}},iT=Do(_templateObject569()),oT=Do(_templateObject570()),td=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.itemId="",n.lists=[],n.closeDropdown=function(){n.dispatchEvent(new CustomEvent("closeDropdown",{bubbles:!0,composed:!0}))},n.selectDropdown=function(){n.dispatchEvent(new CustomEvent("selectDropdown",{bubbles:!0,composed:!0}))},n.updateDropdown=function(){n.dispatchEvent(new CustomEvent("updateDropdown",{bubbles:!0,composed:!0}))},n.optionClicked=function(o,l){var a;o.stopPropagation(),(a=l.selectedHandler)===null||a===void 0||a.call(l,l)},n.onSelected=function(o){return $n(_assertThisInitialized(n),null,_regeneratorRuntime.default.mark(function l(){var a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.selectDropdown(),a=this.lists.find(function(d){return o.id===d.id})||{},!a.item_is_member){r.next=7;break}return r.next=5,this.removeMember(a.id,a.member_id);case 5:r.next=9;break;case 7:return r.next=9,this.addMember(a.id);case 9:this.updateDropdown();case 10:case"end":return r.stop()}},l,this)}))},n.addCreatedList=function(o){return $n(_assertThisInitialized(n),null,_regeneratorRuntime.default.mark(function l(){return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.addMember(o);case 2:this.dispatchEvent(new CustomEvent("listCreated",{detail:{totalLists:this.lists.length}})),this.updateDropdown();case 4:case"end":return s.stop()}},l,this)}))},n.createList=function(){n.closeDropdown(),i1(n.userListsService,n.selectDropdown,n.addCreatedList)},n.userListOptions=function(){var o=[];return o=n.lists.map(function(l){return n.listOption(l)}),o.push(n.newListOption),o},_possibleConstructorReturn(n)}return _createClass(e,[{key:"listOption",value:function(o){var l=this;return{id:o.id,label:this.labelTemplate(o),isSelected:o.item_is_member,selectedHandler:function(a){return l.onSelected(a)}}}},{key:"newListOption",get:function(){var o=this;return{id:"create-new-list",label:xt(_templateObject571(),iT),selectedHandler:function(){return o.createList()}}}},{key:"addMember",value:function(o){return $n(this,null,_regeneratorRuntime.default.mark(function l(){var a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,(a=this.userListsService)===null||a===void 0?void 0:a.addMemberToList(o,{identifier:this.itemId});case 3:this.dispatchEvent(new CustomEvent("addMember",{detail:{listId:o,itemId:this.itemId}}));case 4:case"end":return r.stop()}},l,this)}))}},{key:"removeMember",value:function(o,l){return $n(this,null,_regeneratorRuntime.default.mark(function a(){var s;return _regeneratorRuntime.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=3,(s=this.userListsService)===null||s===void 0?void 0:s.removeMemberFromList(o,l);case 3:this.dispatchEvent(new CustomEvent("removeMember",{detail:{listId:o,itemId:this.itemId}}));case 4:case"end":return d.stop()}},a,this)}))}},{key:"labelTemplate",value:function(o){var l=o.item_is_member,a=o.list_name;return xt(_templateObject572(),l?oT:Vn,a)}},{key:"optionTemplate",value:function(o){return xt(_templateObject573(),o.isSelected?"selected":"",this.buttonTemplate(o))}},{key:"buttonTemplate",value:function(o){var l=this;return xt(_templateObject574(),function(a){return l.optionClicked(a,o)},o.label)}},{key:"render",value:function(){var o=this;return xt(_templateObject575(),this.userListOptions().map(function(l){return o.optionTemplate(l)}))}}],[{key:"styles",get:function(){return Ut(_templateObject576())}}]),e}(er);Yr([on({type:String})],td.prototype,"itemId",void 0),Yr([on({type:Array})],td.prototype,"lists",void 0),Yr([on({type:Object})],td.prototype,"userListsService",void 0),td=Yr([Qr("item-user-lists")],td);var aT=xt(_templateObject577()),sa=function(g){"use strict";_inherits(e,g);var t=_createSuper(e);function e(){_classCallCheck(this,e);var n;return n=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),n.baseHost="archive.org",n.item="",n.selectedCount=0,n.userListData=[],n.dataAction="initial",n.userListsService=rT.create({serviceUrl:n.baseHost}),n.listID="",n.closeListener=function(){n.dropdown.open=!1},n.selectListener=function(){n.dropdown.open=!1,n.dataActionTask.run(["initial"])},n.updateListener=function(){n.dataActionTask.run(["load"])},n.dataActionTask=new VI(_assertThisInitialized(n),{task:function(o){return $n(_assertThisInitialized(n),[o],_regeneratorRuntime.default.mark(function l(a){var s,r;return _regeneratorRuntime.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(s=_slicedToArray(a,1),r=s[0],!(!this.item||!this.userListsService)){c.next=3;break}return c.abrupt("return",_k);case 3:c.t0=r,c.next=c.t0==="load"?6:7;break;case 6:return c.abrupt("return",this.updateSelectedCount());case 7:return c.abrupt("return",_k);case 8:case"end":return c.stop()}},l,this)}))},args:function(){return[n.dataAction]},autoRun:!1}),_possibleConstructorReturn(n)}return _createClass(e,[{key:"dropdownClicked",value:function(o){return $n(this,null,_regeneratorRuntime.default.mark(function l(){return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(o.preventDefault(),!this.dropdown.open){s.next=5;break}this.dropdown.open=!1,s.next=8;break;case 5:return s.next=7,this.dataActionTask.run(["load"]);case 7:this.dropdown.open=!0;case 8:case"end":return s.stop()}},l,this)}))}},{key:"firstUpdated",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function o(){var l,a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return l=this,r.next=4,new Promise(function(d){return setTimeout(d,0)});case 4:this.addEventListener("closeDropdown",this.closeListener),this.addEventListener("selectDropdown",this.selectListener),this.addEventListener("updateDropdown",this.updateListener),(a=this.dataActionTask.run(["load"]))===null||a===void 0||a.then(function(){l.dispatchEvent(new CustomEvent("userItemListDataReceived",{detail:{total_lists:l.userListData.length}}))});case 8:case"end":return r.stop()}},o,this)}))}},{key:"updated",value:function(o){o.has("baseHost")&&this.baseHost&&o.get("baseHost")&&this.reloadService()}},{key:"reloadService",value:function(){this.userListsService=rT.create({serviceUrl:this.baseHost}),this.dataActionTask.run(["load"])}},{key:"updateItemUserList",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function o(){var l,a;return _regeneratorRuntime.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,this.userListsService.fetchOwnListsContainingItem(this.item);case 3:if(a=r.sent,a.success){r.next=6;break}throw new Error((l=a.error)===null||l===void 0?void 0:l.message);case 6:return r.abrupt("return",(this.userListData=a.success,this.userListData));case 7:case"end":return r.stop()}},o,this)}))}},{key:"updateSelectedCount",value:function(){return $n(this,null,_regeneratorRuntime.default.mark(function o(){var l;return _regeneratorRuntime.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.updateItemUserList();case 2:return l=s.sent,s.abrupt("return",(this.selectedCount=l.filter(function(r){return r.item_is_member}).length,this.selectedCount));case 4:case"end":return s.stop()}},o,this)}))}},{key:"renderIcon",value:function(o){return xt(_templateObject578(),o)}},{key:"renderError",value:function(){return xt(_templateObject579())}},{key:"mainButton",value:function(o){return xt(_templateObject580(),o?this.renderIcon(o):this.renderError())}},{key:"isFetched",get:function(){return this.dataActionTask.status===LE.COMPLETE}},{key:"isDisabled",get:function(){return this.dataActionTask.status!==LE.COMPLETE}},{key:"itemUserListsTemplate",get:function(){var o=this;return xt(_templateObject581(),this.item,this.userListData,this.userListsService,function(l){return o.dispatchEvent(new CustomEvent("memberAdded",{detail:bi(Zr({},l.detail),{total_items:o.selectedCount})}))},function(l){return o.dispatchEvent(new CustomEvent("memberRemoved",{detail:bi(Zr({},l.detail),{total_items:o.selectedCount})}))},function(l){o.dispatchEvent(new CustomEvent("userListError",{detail:Zr({},l.detail)}))},function(l){o.dispatchEvent(new CustomEvent("listCreated",{detail:bi(Zr({},l.detail),{total_lists:o.selectedCount})}))})}},{key:"render",value:function(){var o=this;return xt(_templateObject582(),this.isDisabled,!1,!0,!0,!0,!0,this.isDisabled?Vn:this.dropdownClicked,this.dataActionTask.render({initial:function(){return o.mainButton(aT)},pending:function(){return o.mainButton(aT)},complete:function(l){return o.mainButton(l===0?iT:oT)},error:function(){return o.mainButton(void 0)}}),this.itemUserListsTemplate)}}]),e}(er);sa.styles=Ut(_templateObject583()),Yr([on({type:String})],sa.prototype,"baseHost",void 0),Yr([on({type:String})],sa.prototype,"item",void 0),Yr([to()],sa.prototype,"selectedCount",void 0),Yr([to({hasChanged:function(t,e){if((t==null?void 0:t.length)!==(e==null?void 0:e.length))return!0;for(var n=0;n<t.length;n+=1)if(t[n].item_is_member!==e[n].item_is_member)return!0;return!1}})],sa.prototype,"userListData",void 0),Yr([to()],sa.prototype,"dataAction",void 0),Yr([to()],sa.prototype,"userListsService",void 0),Yr([ii("ia-dropdown")],sa.prototype,"dropdown",void 0),sa=Yr([Qr("ia-item-user-lists")],sa),bo(),document.addEventListener("DOMContentLoaded",function(){var g=function(){var d,c=!!((d=window.localStorage)!=null&&d.getItem(l));c||(e==null||e.setAttribute("aria-label","New feature: Add to list"),a==null||a.toggleAttribute("hidden",!1),e==null||e.addEventListener("click",s),a==null||a.addEventListener("click",s))},t,e=document.querySelector("ia-item-user-lists");if(!e)return;if(window.archive_analytics){var n=(t=archive_analytics.mediaType)!=null?t:"unknown mediatype",o="DetailsPageUserLists";e.addEventListener("userItemListDataReceived",function(r){var d,c,h=(c=(d=r.detail)==null?void 0:d.listCount)!=null?c:0;Cn("UserLists - onload, we send total lists",r.detail),archive_analytics.send_event(o,"onload",h)}),e.addEventListener("memberAdded",function(r){Cn("UserLists - memberAdded, we send mediatype",n),archive_analytics.send_event(o,"memberAdded",n)}),e.addEventListener("memberRemoved",function(r){Cn("UserLists - memberRemoved, we send mediatype",n),archive_analytics.send_event(o,"memberRemoved",n)}),e.addEventListener("listCreated",function(){Cn("UserLists - listCreated, we send mediatype",n),archive_analytics.send_event(o,"listCreated",n)})}var l="UserLists-itemBtnCalloutDismissed",a=document.querySelector("#item-user-lists > .callout");function s(){var r;(r=window.localStorage)==null||r.setItem(l,!0),a==null||a.remove(),e==null||e.setAttribute("aria-label","Add to list"),e==null||e.removeEventListener("click",s)}g()}),Ai(),window.$=X,function(){var t=function(l){return!!(l.offsetWidth||l.offsetHeight||l.getClientRects().length)};if(window.archive_analytics){var e=document.head.querySelector('meta[property="mediatype"]');if(e){var n=e.getAttribute("content");n==="texts"&&setTimeout(function(){for(var o=document.getElementsByClassName("BRpagecontainer")||[],l=0;l<o.length;l++)if(t(o[l]))return;window.archive_analytics.send_event("BookReader","SlowLoad8s")},8e3)}}}(),X(function(){return $n(this,null,_regeneratorRuntime.default.mark(function t(){var e,n,o;return _regeneratorRuntime.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=!X(".js-bookreader").length,a.next=4,Promise.resolve().then(function(){return nP(),y7});case 4:return a.next=6,Promise.resolve().then(function(){return rP(),T7});case 6:return a.next=8,Promise.resolve().then(function(){return iP(),H7});case 8:return a.next=10,Promise.resolve().then(function(){return oP(),eS});case 10:return a.next=12,Promise.resolve().then(function(){return aP(),hS});case 12:return a.next=14,Promise.resolve().then(function(){return sP(),SS});case 14:return a.next=16,Promise.resolve().then(function(){return lP(),DS});case 16:return a.next=18,Promise.resolve().then(function(){return uP(),YS});case 18:return a.next=20,Promise.resolve().then(function(){return cP(),aC});case 20:return a.next=22,Promise.resolve().then(function(){return hP(),dP});case 22:return a.next=24,Promise.resolve().then(function(){return EP(),mA});case 24:if(Cn("** BR Resources loaded **",(e=window.BookReader)==null?void 0:e.version),!n){a.next=32;break}return o=document.body.classList.contains("embedded"),a.next=29,Promise.all([Promise.resolve().then(function(){return qP(),V4}),o?Promise.resolve().then(function(){return DI(),qj}):document.querySelector("body").classList.contains("devbox")?Promise.resolve().then(function(){return wI(),ij}):Promise.resolve().then(function(){return RI(),Mj})]);case 29:Cn("** Liner Notes loaded **"),a.next=35;break;case 32:return a.next=34,Promise.all([Promise.resolve().then(function(){return BI(),IE}),Promise.resolve().then(function(){return FI(),zI}),Promise.resolve().then(function(){return UI(),HI})]);case 34:Cn("** BR Resources loaded **");case 35:X(".js-bookreader").each(function(s,r){var d=JSON.parse(X(r).val());X.ajax({url:d.url,type:"GET",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).then(function(c){var h=Or.paramsToJSON(),f=function(){return{autoflip:parseInt(h.autoflip,10)===1,flipSpeed:h.flipSpeed||2e3,flipDelay:h.flipDelay||5e3}},v={el:"#BookReader",urlHistoryBasePath:d.urlHistoryBasePath,resumeCookiePath:d.resumeCookiePath,urlMode:"history",urlTrackedParams:["page","search","mode"],enableBookTitleLink:!1,bookUrlText:null,startFullscreen:h.view==="theater",initialSearchTerm:d.initialSearchTerm,searchInsidePreTag:"<IA_FTS_MATCH>",searchInsidePostTag:"</IA_FTS_MATCH>",onePage:{autofit:d.autofit},showToolbar:!1,autoResize:!1,enableFSLogoShortcut:!0,enableBookmarks:!0,enableMultipleBooks:!1,purchaseUrl:d.purchase_url};d.br_ui==="embed"&&(v.mode=1,v.ui="embed",v.enableFSLogoShortcut=!1),d.has_multiple_readable_files&&(v.enableMultipleBooks=!0,v.multipleBooksList=d.multipleBooksList);var b=f();window.BookReaderJSIAinit(c.data,v),b.autoflip&&window.br.autoToggle(b);var w=decodeURIComponent(h.options).split("|"),k=h.wrapper==="false"||w.indexOf("view-only")>-1;k&&v.ui!=="embed"&&X("#IABookReaderMessageWrapper").remove(),window.archive_analytics&&(window.archive_analytics.values.bookreader="open")})});case 36:case"end":return a.stop()}},t)}))})})();/*! Bundled license information:

@lit/reactive-element/css-tag.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/reactive-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

lit-element/lit-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

lit-html/is-server.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/decorators/custom-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/decorators/property.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/decorators/state.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/decorators/base.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/decorators/event-options.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/decorators/query.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/decorators/query-all.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/decorators/query-async.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/decorators/query-assigned-elements.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/reactive-element/decorators/query-assigned-nodes.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

jquery/dist/jquery.js:
  (*!
   * jQuery JavaScript Library v3.6.1
   * https://jquery.com/
   *
   * Includes Sizzle.js
   * https://sizzlejs.com/
   *
   * Copyright OpenJS Foundation and other contributors
   * Released under the MIT license
   * https://jquery.org/license
   *
   * Date: 2022-08-26T17:52Z
   *)
*//*!
JW Player version 8.22.0
Copyright (c) 2021, JW Player, All Rights Reserved 
https://github.com/jwplayer/jwplayer/blob/v8.22.0/README.md

This source code and its use and distribution is subject to the terms and conditions of the applicable license agreement. 
https://www.jwplayer.com/tos/

This product includes portions of other software. For the full text of licenses, see below:

JW Player Third Party Software Notices and/or Additional Terms and Conditions

**************************************************************************************************
The following software is used under Apache License 2.0
**************************************************************************************************

vtt.js v0.13.0
Copyright (c) 2021 Mozilla (http://mozilla.org)
https://github.com/mozilla/vtt.js/blob/v0.13.0/LICENSE

* * *

Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License.

You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and
limitations under the License.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

**************************************************************************************************
The following software is used under MIT license
**************************************************************************************************

Underscore.js v1.6.0
Copyright (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative
https://github.com/jashkenas/underscore/blob/1.6.0/LICENSE

Backbone backbone.events.js v1.1.2
Copyright (c) 2010-2014 Jeremy Ashkenas, DocumentCloud
https://github.com/jashkenas/backbone/blob/1.1.2/LICENSE

Promise Polyfill v7.1.1
Copyright (c) 2014 Taylor Hakes and Forbes Lindesay
https://github.com/taylorhakes/promise-polyfill/blob/v7.1.1/LICENSE

can-autoplay.js v3.0.0
Copyright (c) 2017 video-dev
https://github.com/video-dev/can-autoplay/blob/v3.0.0/LICENSE

focus-options-polyfill v1.5.0
Copyright (c) 2018 Juan Valencia
https://github.com/calvellido/focus-options-polyfill/blob/v1.5.0/LICENSE

* * *

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

**************************************************************************************************
The following software is used under W3C license
**************************************************************************************************

Intersection Observer v0.5.0
Copyright (c) 2016 Google Inc. (http://google.com)
https://github.com/w3c/IntersectionObserver/blob/v0.5.0/LICENSE.md

* * *

W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE
Status: This license takes effect 13 May, 2015.

This work is being provided by the copyright holders under the following license.

License
By obtaining and/or copying this work, you (the licensee) agree that you have read, understood, and will comply with the following terms and conditions.

Permission to copy, modify, and distribute this work, with or without modification, for any purpose and without fee or royalty is hereby granted, provided that you include the following on ALL copies of the work or portions thereof, including modifications:

The full text of this NOTICE in a location viewable to users of the redistributed or derivative work.

Any pre-existing intellectual property disclaimers, notices, or terms and conditions. If none exist, the W3C Software and Document Short Notice should be included.

Notice of any changes or modifications, through a copyright statement on the new code or document such as "This software or document includes material copied from or derived from [title and URI of the W3C document]. Copyright © [YEAR] W3C® (MIT, ERCIM, Keio, Beihang)."

Disclaimers
THIS WORK IS PROVIDED "AS IS," AND COPYRIGHT HOLDERS MAKE NO REPRESENTATIONS OR WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO, WARRANTIES OF MERCHANTABILITY OR FITNESS FOR ANY PARTICULAR PURPOSE OR THAT THE USE OF THE SOFTWARE OR DOCUMENT WILL NOT INFRINGE ANY THIRD PARTY PATENTS, COPYRIGHTS, TRADEMARKS OR OTHER RIGHTS.

COPYRIGHT HOLDERS WILL NOT BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF ANY USE OF THE SOFTWARE OR DOCUMENT.

The name and trademarks of copyright holders may NOT be used in advertising or publicity pertaining to the work without specific, written prior permission. Title to copyright in this work will at all times remain with copyright holders.
*//*! Bundled license information:

js-cookie/dist/js.cookie.mjs:
  (*! js-cookie v3.0.5 | MIT *)
*//*! Bundled license information:

clipboard/dist/clipboard.js:
  (*!
   * clipboard.js v2.0.11
   * https://clipboardjs.com/
   *
   * Licensed MIT © Zeno Rocha
   *)
*//*! Bundled license information:

jqueryui/jquery-ui.min.js:
  (*! jQuery UI - v1.11.1 - 2014-08-13
  * http://jqueryui.com
  * Includes: core.js, widget.js, mouse.js, position.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, draggable.js, droppable.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js, menu.js, progressbar.js, resizable.js, selectable.js, selectmenu.js, slider.js, sortable.js, spinner.js, tabs.js, tooltip.js
  * Copyright 2014 jQuery Foundation and other contributors; Licensed MIT *)
*//*! Bundled license information:

magic-snowflakes/dist/snowflakes.esm.js:
  (*! Snowflakes | © 2023 Denis Seleznev | MIT License | https://github.com/hcodes/snowflakes/ *)
*//*! Bundled license information:

currency.js/dist/currency.es.js:
  (*!
   * currency.js - v2.0.4
   * http://scurker.github.io/currency.js
   *
   * Copyright (c) 2021 Jason Wilson
   * Released under MIT license
   *)
*//*! Bundled license information:

tablesorter/dist/js/jquery.tablesorter.combined.js:
  (*! tablesorter (FORK) - updated 2024-08-13 (v2.32.0)*)
  (*! TableSorter (FORK) v2.32.0 *)
  (*! Widget: storage - updated 2018-03-18 (v2.30.0) *)
  (*! Widget: uitheme - updated 2018-03-18 (v2.30.0) *)
  (*! Widget: columns - updated 5/24/2017 (v2.28.11) *)
  (*! Widget: filter - updated 2018-03-18 (v2.30.0) *)
  (*! Widget: stickyHeaders - updated 9/27/2017 (v2.29.0) *)
  (*! Widget: resizable - updated 2018-03-26 (v2.30.2) *)
  (*! Widget: saveSort - updated 2018-03-19 (v2.30.1) *)
*//*! Bundled license information:

@internetarchive/bookreader/BookReader/BookReader.js:
  (*! For license information please see BookReader.js.LICENSE.txt *)
*//*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.search.js:
  (*! For license information please see plugin.search.js.LICENSE.txt *)
*//*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.tts.js:
  (*! For license information please see plugin.tts.js.LICENSE.txt *)
*//*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.chapters.js:
  (*! For license information please see plugin.chapters.js.LICENSE.txt *)
*//*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.text_selection.js:
  (*! For license information please see plugin.text_selection.js.LICENSE.txt *)
*//*! Bundled license information:

lit-html/directive.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directive-helpers.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/repeat.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/unsafe-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*//**
* @license
* Copyright 2019 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*//**
* @license
* Copyright 2022 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*//*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/cache.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/style-map.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/class-map.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

@lit/task/task.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*//*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/if-defined.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/

// @license-end
//# sourceMappingURL=details-bookreader.min.js.map